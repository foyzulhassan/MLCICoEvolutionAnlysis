OBJECT [0,10689]
    FIELD [1,43]
        String: "name" [1,7]
        STRING [8,43]
            String: "Self-hosted runner AMD GPU (push)" [8,43]
    FIELD [44,126]
        String: "on" [44,48]
        OBJECT [49,126]
            FIELD [50,125]
                String: "workflow_call" [50,65]
                OBJECT [66,125]
                    FIELD [67,124]
                        String: "inputs" [67,75]
                        OBJECT [76,124]
                            FIELD [77,123]
                                String: "gpu_flavor" [77,89]
                                OBJECT [90,123]
                                    FIELD [91,106]
                                        String: "required" [91,101]
                                        TRUE [102,106]
                                    FIELD [107,122]
                                        String: "type" [107,113]
                                        STRING [114,122]
                                            String: "string" [114,122]
    FIELD [127,357]
        String: "env" [127,132]
        OBJECT [133,357]
            FIELD [134,156]
                String: "HF_HOME" [134,143]
                STRING [144,156]
                    String: "/mnt/cache" [144,156]
            FIELD [157,182]
                String: "TRANSFORMERS_IS_CI" [157,177]
                TRUE [178,182]
            FIELD [183,202]
                String: "OMP_NUM_THREADS" [183,200]
                NUMBER [201,202]
                    Number: 8 [201,202]
            FIELD [203,222]
                String: "MKL_NUM_THREADS" [203,220]
                NUMBER [221,222]
                    Number: 8 [221,222]
            FIELD [223,242]
                String: "PYTEST_TIMEOUT" [223,239]
                NUMBER [240,242]
                    Number: 60 [240,242]
            FIELD [243,275]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [243,270]
                TRUE [271,275]
            FIELD [276,301]
                String: "RUN_PT_TF_CROSS_TESTS" [276,299]
                NUMBER [300,301]
                    Number: 1 [300,301]
            FIELD [302,356]
                String: "HF_HUB_READ_TOKEN" [302,321]
                STRING [322,356]
                    String: "${{ secrets.HF_HUB_READ_TOKEN }}" [322,356]
    FIELD [358,10688]
        String: "jobs" [358,364]
        OBJECT [365,10688]
            FIELD [366,721]
                String: "check_runner_status" [366,387]
                OBJECT [388,721]
                    FIELD [389,417]
                        String: "name" [389,395]
                        STRING [396,417]
                            String: "Check Runner Status" [396,417]
                    FIELD [418,442]
                        String: "runs-on" [418,427]
                        STRING [428,442]
                            String: "ubuntu-22.04" [428,442]
                    FIELD [443,720]
                        String: "steps" [443,450]
                        ARRAY [451,720]
                            OBJECT [452,538]
                                FIELD [453,483]
                                    String: "name" [453,459]
                                    STRING [460,483]
                                        String: "Checkout transformers" [460,483]
                                FIELD [484,512]
                                    String: "uses" [484,490]
                                    STRING [491,512]
                                        String: "actions/checkout@v4" [491,512]
                                FIELD [513,537]
                                    String: "with" [513,519]
                                    OBJECT [520,537]
                                        FIELD [521,536]
                                            String: "fetch-depth" [521,534]
                                            NUMBER [535,536]
                                                Number: 2 [535,536]
                            OBJECT [539,719]
                                FIELD [540,568]
                                    String: "name" [540,546]
                                    STRING [547,568]
                                        String: "Check Runner Status" [547,568]
                                FIELD [569,718]
                                    String: "run" [569,574]
                                    STRING [575,718]
                                        String: "python utils/check_self_hosted_runner.py --target_runners amd-mi210-single-gpu-ci-runner-docker --token ${{ secrets.ACCESS_REPO_INFO_TOKEN }}" [575,718]
            FIELD [722,1367]
                String: "check_runners" [722,737]
                OBJECT [738,1367]
                    FIELD [739,761]
                        String: "name" [739,745]
                        STRING [746,761]
                            String: "Check Runners" [746,761]
                    FIELD [762,791]
                        String: "needs" [762,769]
                        STRING [770,791]
                            String: "check_runner_status" [770,791]
                    FIELD [792,857]
                        String: "strategy" [792,802]
                        OBJECT [803,857]
                            FIELD [804,856]
                                String: "matrix" [804,812]
                                OBJECT [813,856]
                                    FIELD [814,855]
                                        String: "machine_type" [814,828]
                                        ARRAY [829,855]
                                            STRING [830,842]
                                                String: "single-gpu" [830,842]
                                            STRING [843,854]
                                                String: "multi-gpu" [843,854]
                    FIELD [858,949]
                        String: "runs-on" [858,867]
                        ARRAY [868,949]
                            STRING [869,882]
                                String: "self-hosted" [869,882]
                            STRING [883,892]
                                String: "amd-gpu" [883,892]
                            STRING [893,921]
                                String: "${{ matrix.machine_type }}" [893,921]
                            STRING [922,948]
                                String: "${{ inputs.gpu_flavor }}" [922,948]
                    FIELD [950,1173]
                        String: "container" [950,961]
                        OBJECT [962,1173]
                            FIELD [963,1021]
                                String: "image" [963,970]
                                STRING [971,1021]
                                    String: "huggingface/transformers-pytorch-amd-gpu-push-ci" [971,1021]
                            FIELD [1022,1172]
                                String: "options" [1022,1031]
                                STRING [1032,1172]
                                    String: "--device /dev/kfd --device /dev/dri --env ROCR_VISIBLE_DEVICES --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1032,1172]
                    FIELD [1174,1366]
                        String: "steps" [1174,1181]
                        ARRAY [1182,1366]
                            OBJECT [1183,1221]
                                FIELD [1184,1201]
                                    String: "name" [1184,1190]
                                    STRING [1191,1201]
                                        String: "ROCM-SMI" [1191,1201]
                                FIELD [1202,1220]
                                    String: "run" [1202,1207]
                                    STRING [1208,1220]
                                        String: "rocm-smi\n" [1208,1220]
                            OBJECT [1222,1285]
                                FIELD [1223,1241]
                                    String: "name" [1223,1229]
                                    STRING [1230,1241]
                                        String: "ROCM-INFO" [1230,1241]
                                FIELD [1242,1284]
                                    String: "run" [1242,1247]
                                    STRING [1248,1284]
                                        String: "rocminfo  | grep \"Agent\" -A 14\n" [1248,1284]
                            OBJECT [1286,1365]
                                FIELD [1287,1317]
                                    String: "name" [1287,1293]
                                    STRING [1294,1317]
                                        String: "Show ROCR environment" [1294,1317]
                                FIELD [1318,1364]
                                    String: "run" [1318,1323]
                                    STRING [1324,1364]
                                        String: "echo \"ROCR: $ROCR_VISIBLE_DEVICES\"\n" [1324,1364]
            FIELD [1368,4352]
                String: "setup_gpu" [1368,1379]
                OBJECT [1380,4352]
                    FIELD [1381,1395]
                        String: "name" [1381,1387]
                        STRING [1388,1395]
                            String: "Setup" [1388,1395]
                    FIELD [1396,1419]
                        String: "needs" [1396,1403]
                        STRING [1404,1419]
                            String: "check_runners" [1404,1419]
                    FIELD [1420,1485]
                        String: "strategy" [1420,1430]
                        OBJECT [1431,1485]
                            FIELD [1432,1484]
                                String: "matrix" [1432,1440]
                                OBJECT [1441,1484]
                                    FIELD [1442,1483]
                                        String: "machine_type" [1442,1456]
                                        ARRAY [1457,1483]
                                            STRING [1458,1470]
                                                String: "single-gpu" [1458,1470]
                                            STRING [1471,1482]
                                                String: "multi-gpu" [1471,1482]
                    FIELD [1486,1577]
                        String: "runs-on" [1486,1495]
                        ARRAY [1496,1577]
                            STRING [1497,1510]
                                String: "self-hosted" [1497,1510]
                            STRING [1511,1520]
                                String: "amd-gpu" [1511,1520]
                            STRING [1521,1549]
                                String: "${{ matrix.machine_type }}" [1521,1549]
                            STRING [1550,1576]
                                String: "${{ inputs.gpu_flavor }}" [1550,1576]
                    FIELD [1578,1801]
                        String: "container" [1578,1589]
                        OBJECT [1590,1801]
                            FIELD [1591,1649]
                                String: "image" [1591,1598]
                                STRING [1599,1649]
                                    String: "huggingface/transformers-pytorch-amd-gpu-push-ci" [1599,1649]
                            FIELD [1650,1800]
                                String: "options" [1650,1659]
                                STRING [1660,1800]
                                    String: "--device /dev/kfd --device /dev/dri --env ROCR_VISIBLE_DEVICES --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1660,1800]
                    FIELD [1802,1917]
                        String: "outputs" [1802,1811]
                        OBJECT [1812,1917]
                            FIELD [1813,1862]
                                String: "matrix" [1813,1821]
                                STRING [1822,1862]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [1822,1862]
                            FIELD [1863,1916]
                                String: "test_map" [1863,1873]
                                STRING [1874,1916]
                                    String: "${{ steps.set-matrix.outputs.test_map }}" [1874,1916]
                    FIELD [1918,4351]
                        String: "steps" [1918,1925]
                        ARRAY [1926,4351]
                            OBJECT [1927,2644]
                                FIELD [1928,1973]
                                    String: "name" [1928,1934]
                                    STRING [1935,1973]
                                        String: "Prepare custom environment variables" [1935,1973]
                                FIELD [1974,1988]
                                    String: "shell" [1974,1981]
                                    STRING [1982,1988]
                                        String: "bash" [1982,1988]
                                FIELD [1989,2643]
                                    String: "run" [1989,1994]
                                    STRING [1995,2643]
                                        String: "CI_BRANCH_PUSH=${{ github.event.ref }}\nCI_BRANCH_PUSH=${CI_BRANCH_PUSH/'refs/heads/'/''}\nCI_BRANCH_WORKFLOW_RUN=${{ github.event.workflow_run.head_branch }}\nCI_SHA_PUSH=${{ github.event.head_commit.id }}\nCI_SHA_WORKFLOW_RUN=${{ github.event.workflow_run.head_sha }}\necho $CI_BRANCH_PUSH\necho $CI_BRANCH_WORKFLOW_RUN\necho $CI_SHA_PUSH\necho $CI_SHA_WORKFLOW_RUN\n[[ ! -z \"$CI_BRANCH_PUSH\" ]] && echo \"CI_BRANCH=$CI_BRANCH_PUSH\" >> $GITHUB_ENV || echo \"CI_BRANCH=$CI_BRANCH_WORKFLOW_RUN\" >> $GITHUB_ENV\n[[ ! -z \"$CI_SHA_PUSH\" ]] && echo \"CI_SHA=$CI_SHA_PUSH\" >> $GITHUB_ENV || echo \"CI_SHA=$CI_SHA_WORKFLOW_RUN\" >> $GITHUB_ENV\n" [1995,2643]
                            OBJECT [2645,2780]
                                FIELD [2646,2682]
                                    String: "name" [2646,2652]
                                    STRING [2653,2682]
                                        String: "print environment variables" [2653,2682]
                                FIELD [2683,2779]
                                    String: "run" [2683,2688]
                                    STRING [2689,2779]
                                        String: "echo \"env.CI_BRANCH = ${{ env.CI_BRANCH }}\"\necho \"env.CI_SHA = ${{ env.CI_SHA }}\"\n" [2689,2779]
                            OBJECT [2781,3102]
                                FIELD [2782,2831]
                                    String: "name" [2782,2788]
                                    STRING [2789,2831]
                                        String: "Update clone using environment variables" [2789,2831]
                                FIELD [2832,2867]
                                    String: "working-directory" [2832,2851]
                                    STRING [2852,2867]
                                        String: "/transformers" [2852,2867]
                                FIELD [2868,3101]
                                    String: "run" [2868,2873]
                                    STRING [2874,3101]
                                        String: "echo \"original branch = $(git branch --show-current)\"\ngit fetch && git checkout ${{ env.CI_BRANCH }}\necho \"updated branch = $(git branch --show-current)\"\ngit checkout ${{ env.CI_SHA }}\necho \"log = $(git log -n 1)\"\n" [2874,3101]
                            OBJECT [3103,3241]
                                FIELD [3104,3120]
                                    String: "name" [3104,3110]
                                    STRING [3111,3120]
                                        String: "Cleanup" [3111,3120]
                                FIELD [3121,3156]
                                    String: "working-directory" [3121,3140]
                                    STRING [3141,3156]
                                        String: "/transformers" [3141,3156]
                                FIELD [3157,3240]
                                    String: "run" [3157,3162]
                                    STRING [3163,3240]
                                        String: "rm -rf tests/__pycache__\nrm -rf tests/models/__pycache__\nrm -rf reports\n" [3163,3240]
                            OBJECT [3242,3351]
                                FIELD [3243,3295]
                                    String: "name" [3243,3249]
                                    STRING [3250,3295]
                                        String: "Show installed libraries and their versions" [3250,3295]
                                FIELD [3296,3331]
                                    String: "working-directory" [3296,3315]
                                    STRING [3316,3331]
                                        String: "/transformers" [3316,3331]
                                FIELD [3332,3350]
                                    String: "run" [3332,3337]
                                    STRING [3338,3350]
                                        String: "pip freeze" [3338,3350]
                            OBJECT [3352,3547]
                                FIELD [3353,3384]
                                    String: "name" [3353,3359]
                                    STRING [3360,3384]
                                        String: "Fetch the tests to run" [3360,3384]
                                FIELD [3385,3420]
                                    String: "working-directory" [3385,3404]
                                    STRING [3405,3420]
                                        String: "/transformers" [3405,3420]
                                FIELD [3421,3546]
                                    String: "run" [3421,3426]
                                    STRING [3427,3546]
                                        String: "pip install --upgrade git-python\npython3 utils/tests_fetcher.py --diff_with_last_commit | tee test_preparation.txt\n" [3427,3546]
                            OBJECT [3548,3690]
                                FIELD [3549,3578]
                                    String: "name" [3549,3555]
                                    STRING [3556,3578]
                                        String: "Report fetched tests" [3556,3578]
                                FIELD [3579,3614]
                                    String: "uses" [3579,3585]
                                    STRING [3586,3614]
                                        String: "actions/upload-artifact@v4" [3586,3614]
                                FIELD [3615,3689]
                                    String: "with" [3615,3621]
                                    OBJECT [3622,3689]
                                        FIELD [3623,3644]
                                            String: "name" [3623,3629]
                                            STRING [3630,3644]
                                                String: "test_fetched" [3630,3644]
                                        FIELD [3645,3688]
                                            String: "path" [3645,3651]
                                            STRING [3652,3688]
                                                String: "/transformers/test_preparation.txt" [3652,3688]
                            OBJECT [3691,4350]
                                FIELD [3692,3709]
                                    String: "id" [3692,3696]
                                    STRING [3697,3709]
                                        String: "set-matrix" [3697,3709]
                                FIELD [3710,3745]
                                    String: "name" [3710,3716]
                                    STRING [3717,3745]
                                        String: "Organize tests into models" [3717,3745]
                                FIELD [3746,3781]
                                    String: "working-directory" [3746,3765]
                                    STRING [3766,3781]
                                        String: "/transformers" [3766,3781]
                                FIELD [3782,4349]
                                    String: "run" [3782,3787]
                                    STRING [3788,4349]
                                        String: "if [ -f test_map.json ]; then\n    keys=$(python3 -c 'import json; fp = open(\"test_map.json\"); test_map = json.load(fp); fp.close(); d = list(test_map.keys()); print(d)')\n    test_map=$(python3 -c 'import json; fp = open(\"test_map.json\"); test_map = json.load(fp); fp.close(); print(test_map)')\nelse\n    keys=$(python3 -c 'keys = [\"dummy\"]; print(keys)')\n    test_map=$(python3 -c 'test_map = {\"dummy\": []}; print(test_map)')\nfi\necho $keys\necho $test_map\necho \"matrix=$keys\" >> $GITHUB_OUTPUT\necho \"test_map=$test_map\" >> $GITHUB_OUTPUT\n" [3788,4349]
            FIELD [4353,8012]
                String: "run_models_gpu" [4353,4369]
                OBJECT [4370,8012]
                    FIELD [4371,4391]
                        String: "name" [4371,4377]
                        STRING [4378,4391]
                            String: "Model tests" [4378,4391]
                    FIELD [4392,4411]
                        String: "needs" [4392,4399]
                        STRING [4400,4411]
                            String: "setup_gpu" [4400,4411]
                    FIELD [4412,4486]
                        String: "if" [4412,4416]
                        STRING [4417,4486]
                            String: "contains(fromJson(needs.setup_gpu.outputs.matrix), 'dummy') != true" [4417,4486]
                    FIELD [4487,4630]
                        String: "strategy" [4487,4497]
                        OBJECT [4498,4630]
                            FIELD [4499,4516]
                                String: "fail-fast" [4499,4510]
                                FALSE [4511,4516]
                            FIELD [4517,4629]
                                String: "matrix" [4517,4525]
                                OBJECT [4526,4629]
                                    FIELD [4527,4586]
                                        String: "folders" [4527,4536]
                                        STRING [4537,4586]
                                            String: "${{ fromJson(needs.setup_gpu.outputs.matrix) }}" [4537,4586]
                                    FIELD [4587,4628]
                                        String: "machine_type" [4587,4601]
                                        ARRAY [4602,4628]
                                            STRING [4603,4615]
                                                String: "single-gpu" [4603,4615]
                                            STRING [4616,4627]
                                                String: "multi-gpu" [4616,4627]
                    FIELD [4631,4722]
                        String: "runs-on" [4631,4640]
                        ARRAY [4641,4722]
                            STRING [4642,4655]
                                String: "self-hosted" [4642,4655]
                            STRING [4656,4665]
                                String: "amd-gpu" [4656,4665]
                            STRING [4666,4694]
                                String: "${{ matrix.machine_type }}" [4666,4694]
                            STRING [4695,4721]
                                String: "${{ inputs.gpu_flavor }}" [4695,4721]
                    FIELD [4723,4946]
                        String: "container" [4723,4734]
                        OBJECT [4735,4946]
                            FIELD [4736,4794]
                                String: "image" [4736,4743]
                                STRING [4744,4794]
                                    String: "huggingface/transformers-pytorch-amd-gpu-push-ci" [4744,4794]
                            FIELD [4795,4945]
                                String: "options" [4795,4804]
                                STRING [4805,4945]
                                    String: "--device /dev/kfd --device /dev/dri --env ROCR_VISIBLE_DEVICES --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [4805,4945]
                    FIELD [4947,8011]
                        String: "steps" [4947,4954]
                        ARRAY [4955,8011]
                            OBJECT [4956,5673]
                                FIELD [4957,5002]
                                    String: "name" [4957,4963]
                                    STRING [4964,5002]
                                        String: "Prepare custom environment variables" [4964,5002]
                                FIELD [5003,5017]
                                    String: "shell" [5003,5010]
                                    STRING [5011,5017]
                                        String: "bash" [5011,5017]
                                FIELD [5018,5672]
                                    String: "run" [5018,5023]
                                    STRING [5024,5672]
                                        String: "CI_BRANCH_PUSH=${{ github.event.ref }}\nCI_BRANCH_PUSH=${CI_BRANCH_PUSH/'refs/heads/'/''}\nCI_BRANCH_WORKFLOW_RUN=${{ github.event.workflow_run.head_branch }}\nCI_SHA_PUSH=${{ github.event.head_commit.id }}\nCI_SHA_WORKFLOW_RUN=${{ github.event.workflow_run.head_sha }}\necho $CI_BRANCH_PUSH\necho $CI_BRANCH_WORKFLOW_RUN\necho $CI_SHA_PUSH\necho $CI_SHA_WORKFLOW_RUN\n[[ ! -z \"$CI_BRANCH_PUSH\" ]] && echo \"CI_BRANCH=$CI_BRANCH_PUSH\" >> $GITHUB_ENV || echo \"CI_BRANCH=$CI_BRANCH_WORKFLOW_RUN\" >> $GITHUB_ENV\n[[ ! -z \"$CI_SHA_PUSH\" ]] && echo \"CI_SHA=$CI_SHA_PUSH\" >> $GITHUB_ENV || echo \"CI_SHA=$CI_SHA_WORKFLOW_RUN\" >> $GITHUB_ENV\n" [5024,5672]
                            OBJECT [5674,5809]
                                FIELD [5675,5711]
                                    String: "name" [5675,5681]
                                    STRING [5682,5711]
                                        String: "print environment variables" [5682,5711]
                                FIELD [5712,5808]
                                    String: "run" [5712,5717]
                                    STRING [5718,5808]
                                        String: "echo \"env.CI_BRANCH = ${{ env.CI_BRANCH }}\"\necho \"env.CI_SHA = ${{ env.CI_SHA }}\"\n" [5718,5808]
                            OBJECT [5810,6131]
                                FIELD [5811,5860]
                                    String: "name" [5811,5817]
                                    STRING [5818,5860]
                                        String: "Update clone using environment variables" [5818,5860]
                                FIELD [5861,5896]
                                    String: "working-directory" [5861,5880]
                                    STRING [5881,5896]
                                        String: "/transformers" [5881,5896]
                                FIELD [5897,6130]
                                    String: "run" [5897,5902]
                                    STRING [5903,6130]
                                        String: "echo \"original branch = $(git branch --show-current)\"\ngit fetch && git checkout ${{ env.CI_BRANCH }}\necho \"updated branch = $(git branch --show-current)\"\ngit checkout ${{ env.CI_SHA }}\necho \"log = $(git log -n 1)\"\n" [5903,6130]
                            OBJECT [6132,6347]
                                FIELD [6133,6230]
                                    String: "name" [6133,6139]
                                    STRING [6140,6230]
                                        String: "Reinstall transformers in edit mode (remove the one installed during docker image build)" [6140,6230]
                                FIELD [6231,6266]
                                    String: "working-directory" [6231,6250]
                                    STRING [6251,6266]
                                        String: "/transformers" [6251,6266]
                                FIELD [6267,6346]
                                    String: "run" [6267,6272]
                                    STRING [6273,6346]
                                        String: "python3 -m pip uninstall -y transformers && python3 -m pip install -e ." [6273,6346]
                            OBJECT [6348,6698]
                                FIELD [6349,6391]
                                    String: "name" [6349,6355]
                                    STRING [6356,6391]
                                        String: "Echo folder ${{ matrix.folders }}" [6356,6391]
                                FIELD [6392,6406]
                                    String: "shell" [6392,6399]
                                    STRING [6400,6406]
                                        String: "bash" [6400,6406]
                                FIELD [6407,6697]
                                    String: "run" [6407,6412]
                                    STRING [6413,6697]
                                        String: "echo \"${{ matrix.folders }}\"\necho \"${{ fromJson(needs.setup_gpu.outputs.test_map)[matrix.folders] }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [6413,6697]
                            OBJECT [6699,6737]
                                FIELD [6700,6717]
                                    String: "name" [6700,6706]
                                    STRING [6707,6717]
                                        String: "ROCM-SMI" [6707,6717]
                                FIELD [6718,6736]
                                    String: "run" [6718,6723]
                                    STRING [6724,6736]
                                        String: "rocm-smi\n" [6724,6736]
                            OBJECT [6738,6801]
                                FIELD [6739,6757]
                                    String: "name" [6739,6745]
                                    STRING [6746,6757]
                                        String: "ROCM-INFO" [6746,6757]
                                FIELD [6758,6800]
                                    String: "run" [6758,6763]
                                    STRING [6764,6800]
                                        String: "rocminfo  | grep \"Agent\" -A 14\n" [6764,6800]
                            OBJECT [6802,6881]
                                FIELD [6803,6833]
                                    String: "name" [6803,6809]
                                    STRING [6810,6833]
                                        String: "Show ROCR environment" [6810,6833]
                                FIELD [6834,6880]
                                    String: "run" [6834,6839]
                                    STRING [6840,6880]
                                        String: "echo \"ROCR: $ROCR_VISIBLE_DEVICES\"\n" [6840,6880]
                            OBJECT [6882,6977]
                                FIELD [6883,6903]
                                    String: "name" [6883,6889]
                                    STRING [6890,6903]
                                        String: "Environment" [6890,6903]
                                FIELD [6904,6939]
                                    String: "working-directory" [6904,6923]
                                    STRING [6924,6939]
                                        String: "/transformers" [6924,6939]
                                FIELD [6940,6976]
                                    String: "run" [6940,6945]
                                    STRING [6946,6976]
                                        String: "python3 utils/print_env.py\n" [6946,6976]
                            OBJECT [6978,7087]
                                FIELD [6979,7031]
                                    String: "name" [6979,6985]
                                    STRING [6986,7031]
                                        String: "Show installed libraries and their versions" [6986,7031]
                                FIELD [7032,7067]
                                    String: "working-directory" [7032,7051]
                                    STRING [7052,7067]
                                        String: "/transformers" [7052,7067]
                                FIELD [7068,7086]
                                    String: "run" [7068,7073]
                                    STRING [7074,7086]
                                        String: "pip freeze" [7074,7086]
                            OBJECT [7088,7410]
                                FIELD [7089,7136]
                                    String: "name" [7089,7095]
                                    STRING [7096,7136]
                                        String: "Run all non-slow selected tests on GPU" [7096,7136]
                                FIELD [7137,7172]
                                    String: "working-directory" [7137,7156]
                                    STRING [7157,7172]
                                        String: "/transformers" [7157,7172]
                                FIELD [7173,7409]
                                    String: "run" [7173,7178]
                                    STRING [7179,7409]
                                        String: "python3 -m pytest -n 2 --dist=loadfile -v --make-reports=${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports ${{ fromJson(needs.setup_gpu.outputs.test_map)[matrix.folders] }} -m \"not not_device_test\"\n" [7179,7409]
                            OBJECT [7411,7622]
                                FIELD [7412,7442]
                                    String: "name" [7412,7418]
                                    STRING [7419,7442]
                                        String: "Failure short reports" [7419,7442]
                                FIELD [7443,7466]
                                    String: "if" [7443,7447]
                                    STRING [7448,7466]
                                        String: "${{ failure() }}" [7448,7466]
                                FIELD [7467,7491]
                                    String: "continue-on-error" [7467,7486]
                                    TRUE [7487,7491]
                                FIELD [7492,7621]
                                    String: "run" [7492,7497]
                                    STRING [7498,7621]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports/failures_short.txt" [7498,7621]
                            OBJECT [7623,8010]
                                FIELD [7624,7743]
                                    String: "name" [7624,7630]
                                    STRING [7631,7743]
                                        String: "Test suite reports artifacts: ${{ matrix.machine_type }}_run_models_gpu_${{ env.matrix_folders }}_test_reports" [7631,7743]
                                FIELD [7744,7766]
                                    String: "if" [7744,7748]
                                    STRING [7749,7766]
                                        String: "${{ always() }}" [7749,7766]
                                FIELD [7767,7802]
                                    String: "uses" [7767,7773]
                                    STRING [7774,7802]
                                        String: "actions/upload-artifact@v4" [7774,7802]
                                FIELD [7803,8009]
                                    String: "with" [7803,7809]
                                    OBJECT [7810,8009]
                                        FIELD [7811,7900]
                                            String: "name" [7811,7817]
                                            STRING [7818,7900]
                                                String: "${{ matrix.machine_type }}_run_models_gpu_${{ env.matrix_folders }}_test_reports" [7818,7900]
                                        FIELD [7901,8008]
                                            String: "path" [7901,7907]
                                            STRING [7908,8008]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports" [7908,8008]
            FIELD [8013,10687]
                String: "send_results" [8013,8027]
                OBJECT [8028,10687]
                    FIELD [8029,8061]
                        String: "name" [8029,8035]
                        STRING [8036,8061]
                            String: "Send results to webhook" [8036,8061]
                    FIELD [8062,8086]
                        String: "runs-on" [8062,8071]
                        STRING [8072,8086]
                            String: "ubuntu-22.04" [8072,8086]
                    FIELD [8087,8102]
                        String: "if" [8087,8091]
                        STRING [8092,8102]
                            String: "always()" [8092,8102]
                    FIELD [8103,8179]
                        String: "needs" [8103,8110]
                        ARRAY [8111,8179]
                            STRING [8112,8133]
                                String: "check_runner_status" [8112,8133]
                            STRING [8134,8149]
                                String: "check_runners" [8134,8149]
                            STRING [8150,8161]
                                String: "setup_gpu" [8150,8161]
                            STRING [8162,8178]
                                String: "run_models_gpu" [8162,8178]
                    FIELD [8180,10686]
                        String: "steps" [8180,8187]
                        ARRAY [8188,10686]
                            OBJECT [8189,8430]
                                FIELD [8190,8221]
                                    String: "name" [8190,8196]
                                    STRING [8197,8221]
                                        String: "Preliminary job status" [8197,8221]
                                FIELD [8222,8236]
                                    String: "shell" [8222,8229]
                                    STRING [8230,8236]
                                        String: "bash" [8230,8236]
                                FIELD [8237,8429]
                                    String: "run" [8237,8242]
                                    STRING [8243,8429]
                                        String: "echo \"Runner availability: ${{ needs.check_runner_status.result }}\"\necho \"Setup status: ${{ needs.setup_gpu.result }}\"\necho \"Runner status: ${{ needs.check_runners.result }}\"\n" [8243,8429]
                            OBJECT [8431,9148]
                                FIELD [8432,8477]
                                    String: "name" [8432,8438]
                                    STRING [8439,8477]
                                        String: "Prepare custom environment variables" [8439,8477]
                                FIELD [8478,8492]
                                    String: "shell" [8478,8485]
                                    STRING [8486,8492]
                                        String: "bash" [8486,8492]
                                FIELD [8493,9147]
                                    String: "run" [8493,8498]
                                    STRING [8499,9147]
                                        String: "CI_BRANCH_PUSH=${{ github.event.ref }}\nCI_BRANCH_PUSH=${CI_BRANCH_PUSH/'refs/heads/'/''}\nCI_BRANCH_WORKFLOW_RUN=${{ github.event.workflow_run.head_branch }}\nCI_SHA_PUSH=${{ github.event.head_commit.id }}\nCI_SHA_WORKFLOW_RUN=${{ github.event.workflow_run.head_sha }}\necho $CI_BRANCH_PUSH\necho $CI_BRANCH_WORKFLOW_RUN\necho $CI_SHA_PUSH\necho $CI_SHA_WORKFLOW_RUN\n[[ ! -z \"$CI_BRANCH_PUSH\" ]] && echo \"CI_BRANCH=$CI_BRANCH_PUSH\" >> $GITHUB_ENV || echo \"CI_BRANCH=$CI_BRANCH_WORKFLOW_RUN\" >> $GITHUB_ENV\n[[ ! -z \"$CI_SHA_PUSH\" ]] && echo \"CI_SHA=$CI_SHA_PUSH\" >> $GITHUB_ENV || echo \"CI_SHA=$CI_SHA_WORKFLOW_RUN\" >> $GITHUB_ENV\n" [8499,9147]
                            OBJECT [9149,9284]
                                FIELD [9150,9186]
                                    String: "name" [9150,9156]
                                    STRING [9157,9186]
                                        String: "print environment variables" [9157,9186]
                                FIELD [9187,9283]
                                    String: "run" [9187,9192]
                                    STRING [9193,9283]
                                        String: "echo \"env.CI_BRANCH = ${{ env.CI_BRANCH }}\"\necho \"env.CI_SHA = ${{ env.CI_SHA }}\"\n" [9193,9283]
                            OBJECT [9285,9341]
                                FIELD [9286,9314]
                                    String: "uses" [9286,9292]
                                    STRING [9293,9314]
                                        String: "actions/checkout@v4" [9293,9314]
                                FIELD [9315,9340]
                                    String: "with" [9315,9321]
                                    OBJECT [9322,9340]
                                        FIELD [9323,9339]
                                            String: "fetch-depth" [9323,9336]
                                            NUMBER [9337,9339]
                                                Number: 20 [9337,9339]
                            OBJECT [9342,9627]
                                FIELD [9343,9392]
                                    String: "name" [9343,9349]
                                    STRING [9350,9392]
                                        String: "Update clone using environment variables" [9350,9392]
                                FIELD [9393,9626]
                                    String: "run" [9393,9398]
                                    STRING [9399,9626]
                                        String: "echo \"original branch = $(git branch --show-current)\"\ngit fetch && git checkout ${{ env.CI_BRANCH }}\necho \"updated branch = $(git branch --show-current)\"\ngit checkout ${{ env.CI_SHA }}\necho \"log = $(git log -n 1)\"\n" [9399,9626]
                            OBJECT [9628,9667]
                                FIELD [9629,9666]
                                    String: "uses" [9629,9635]
                                    STRING [9636,9666]
                                        String: "actions/download-artifact@v4" [9636,9666]
                            OBJECT [9668,10685]
                                FIELD [9669,9699]
                                    String: "name" [9669,9675]
                                    STRING [9676,9699]
                                        String: "Send message to Slack" [9676,9699]
                                FIELD [9700,10554]
                                    String: "env" [9700,9705]
                                    OBJECT [9706,10554]
                                        FIELD [9707,9763]
                                            String: "CI_SLACK_BOT_TOKEN" [9707,9727]
                                            STRING [9728,9763]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [9728,9763]
                                        FIELD [9764,9822]
                                            String: "CI_SLACK_CHANNEL_ID" [9764,9785]
                                            STRING [9786,9822]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [9786,9822]
                                        FIELD [9823,9893]
                                            String: "CI_SLACK_CHANNEL_ID_DAILY" [9823,9850]
                                            STRING [9851,9893]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY }}" [9851,9893]
                                        FIELD [9894,9960]
                                            String: "CI_SLACK_CHANNEL_ID_AMD" [9894,9919]
                                            STRING [9920,9960]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_AMD }}" [9920,9960]
                                        FIELD [9961,10037]
                                            String: "CI_SLACK_CHANNEL_DUMMY_TESTS" [9961,9991]
                                            STRING [9992,10037]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_DUMMY_TESTS }}" [9992,10037]
                                        FIELD [10038,10107]
                                            String: "CI_SLACK_REPORT_CHANNEL_ID" [10038,10066]
                                            STRING [10067,10107]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_AMD }}" [10067,10107]
                                        FIELD [10108,10172]
                                            String: "ACCESS_REPO_INFO_TOKEN" [10108,10132]
                                            STRING [10133,10172]
                                                String: "${{ secrets.ACCESS_REPO_INFO_TOKEN }}" [10133,10172]
                                        FIELD [10173,10226]
                                            String: "CI_EVENT" [10173,10183]
                                            STRING [10184,10226]
                                                String: "Push CI (AMD) - ${{ inputs.gpu_flavor }}" [10184,10226]
                                        FIELD [10227,10284]
                                            String: "CI_TITLE_PUSH" [10227,10242]
                                            STRING [10243,10284]
                                                String: "${{ github.event.head_commit.message }}" [10243,10284]
                                        FIELD [10285,10363]
                                            String: "CI_TITLE_WORKFLOW_RUN" [10285,10308]
                                            STRING [10309,10363]
                                                String: "${{ github.event.workflow_run.head_commit.message }}" [10309,10363]
                                        FIELD [10364,10392]
                                            String: "CI_SHA" [10364,10372]
                                            STRING [10373,10392]
                                                String: "${{ env.CI_SHA }}" [10373,10392]
                                        FIELD [10393,10450]
                                            String: "RUNNER_STATUS" [10393,10408]
                                            STRING [10409,10450]
                                                String: "${{ needs.check_runner_status.result }}" [10409,10450]
                                        FIELD [10451,10506]
                                            String: "RUNNER_ENV_STATUS" [10451,10470]
                                            STRING [10471,10506]
                                                String: "${{ needs.check_runners.result }}" [10471,10506]
                                        FIELD [10507,10553]
                                            String: "SETUP_STATUS" [10507,10521]
                                            STRING [10522,10553]
                                                String: "${{ needs.setup_gpu.result }}" [10522,10553]
                                FIELD [10555,10684]
                                    String: "run" [10555,10560]
                                    STRING [10561,10684]
                                        String: "pip install slack_sdk\npip show slack_sdk\npython utils/notification_service.py \"${{ needs.setup_gpu.outputs.matrix }}\"" [10561,10684]