OBJECT [0,4336]
    FIELD [1,33]
        String: "name" [1,7]
        STRING [8,33]
            String: "continuous build - docs" [8,33]
    FIELD [34,69]
        String: "on" [34,38]
        ARRAY [39,69]
            STRING [40,46]
                String: "push" [40,46]
            STRING [47,68]
                String: "pull_request_target" [47,68]
    FIELD [70,105]
        String: "defaults" [70,80]
        OBJECT [81,105]
            FIELD [82,104]
                String: "run" [82,87]
                OBJECT [88,104]
                    FIELD [89,103]
                        String: "shell" [89,96]
                        STRING [97,103]
                            String: "bash" [97,103]
    FIELD [106,4335]
        String: "jobs" [106,112]
        OBJECT [113,4335]
            FIELD [114,4334]
                String: "website-build" [114,129]
                OBJECT [130,4334]
                    FIELD [131,156]
                        String: "runs-on" [131,140]
                        STRING [141,156]
                            String: "ubuntu-latest" [141,156]
                    FIELD [157,187]
                        String: "strategy" [157,167]
                        OBJECT [168,187]
                            FIELD [169,186]
                                String: "fail-fast" [169,180]
                                FALSE [181,186]
                    FIELD [188,4333]
                        String: "steps" [188,195]
                        ARRAY [196,4333]
                            OBJECT [197,256]
                                FIELD [198,226]
                                    String: "name" [198,204]
                                    STRING [205,226]
                                        String: "Checkout repository" [205,226]
                                FIELD [227,255]
                                    String: "uses" [227,233]
                                    STRING [234,255]
                                        String: "actions/checkout@v2" [234,255]
                            OBJECT [257,364]
                                FIELD [258,279]
                                    String: "name" [258,264]
                                    STRING [265,279]
                                        String: "Setup python" [265,279]
                                FIELD [280,312]
                                    String: "uses" [280,286]
                                    STRING [287,312]
                                        String: "actions/setup-python@v2" [287,312]
                                FIELD [313,363]
                                    String: "with" [313,319]
                                    OBJECT [320,363]
                                        FIELD [321,341]
                                            String: "python-version" [321,337]
                                            NUMBER [338,341]
                                                Number: 3.7 [338,341]
                                        FIELD [342,362]
                                            String: "architecture" [342,356]
                                            STRING [357,362]
                                                String: "x64" [357,362]
                            OBJECT [365,603]
                                FIELD [366,400]
                                    String: "name" [366,372]
                                    STRING [373,400]
                                        String: "Configure AWS Credentials" [373,400]
                                FIELD [401,450]
                                    String: "uses" [401,407]
                                    STRING [408,450]
                                        String: "aws-actions/configure-aws-credentials@v1" [408,450]
                                FIELD [451,602]
                                    String: "with" [451,457]
                                    OBJECT [458,602]
                                        FIELD [459,513]
                                            String: "aws-access-key-id" [459,478]
                                            STRING [479,513]
                                                String: "${{ secrets.AWS_ACCESS_KEY_ID }}" [479,513]
                                        FIELD [514,576]
                                            String: "aws-secret-access-key" [514,537]
                                            STRING [538,576]
                                                String: "${{ secrets.AWS_SECRET_ACCESS_KEY }}" [538,576]
                                        FIELD [577,601]
                                            String: "aws-region" [577,589]
                                            STRING [590,601]
                                                String: "us-east-1" [590,601]
                            OBJECT [604,732]
                                FIELD [605,640]
                                    String: "name" [605,611]
                                    STRING [612,640]
                                        String: "Install Other Dependencies" [612,640]
                                FIELD [641,731]
                                    String: "run" [641,646]
                                    STRING [647,731]
                                        String: "python -m pip install --quiet --upgrade pip\npython -m pip install --quiet boto3\n" [647,731]
                            OBJECT [733,1807]
                                FIELD [734,767]
                                    String: "name" [734,740]
                                    STRING [741,767]
                                        String: "Build Website (For push)" [741,767]
                                FIELD [768,837]
                                    String: "if" [768,772]
                                    STRING [773,837]
                                        String: "${{ (failure() || success()) && github.event_name == 'push' }}" [773,837]
                                FIELD [838,1806]
                                    String: "run" [838,843]
                                    STRING [844,1806]
                                        String: "python ./tools/batch/submit-job.py --region us-east-1 \\\n                                   --job-type g4dn.4x \\\n                                   --name GluonNLP-Website-${{ github.ref }} \\\n                                   --remote https://github.com/${{ github.repository }} \\\n                                   --source-ref ${{ github.ref }} \\\n                                   --work-dir . \\\n                                   --saved-output docs/tutorials \\\n                                   --save-path tutorials \\\n                                   --command \"python -m pip install --quiet -e .[web] && \\\n                                              apt-get install -y pandoc zip && \\\n                                              ./tools/batch/batch_states/compile_notebooks.sh \\\n                                              'push' ${GITHUB_REF##*/}\" \\\n                                   --wait | tee build_website.log\n" [844,1806]
                            OBJECT [1808,3054]
                                FIELD [1809,1850]
                                    String: "name" [1809,1815]
                                    STRING [1816,1850]
                                        String: "Build Website (For pull request)" [1816,1850]
                                FIELD [1851,1976]
                                    String: "if" [1851,1855]
                                    STRING [1856,1976]
                                        String: "${{ (failure() || success()) && (github.event_name == 'pull_request' || github.event_name == 'pull_request_target') }}" [1856,1976]
                                FIELD [1977,3053]
                                    String: "run" [1977,1982]
                                    STRING [1983,3053]
                                        String: "python ./tools/batch/submit-job.py --region us-east-1 \\\n                                   --job-type g4dn.4x \\\n                                   --name GluonNLP-Website-PR#${{ github.event.number }} \\\n                                   --remote https://github.com/${{ github.event.pull_request.head.repo.full_name }} \\\n                                   --source-ref ${{ github.event.pull_request.head.sha }} \\\n                                   --work-dir . \\\n                                   --saved-output docs/tutorials \\\n                                   --save-path tutorials \\\n                                   --command \"python -m pip install --quiet -e .[web] && \\\n                                              apt-get install -y pandoc zip && \\\n                                              ./tools/batch/batch_states/compile_notebooks.sh \\\n                                              ${{ github.event.number }} ${{ github.event.pull_request.head.sha }}\" \\\n                                   --wait | tee build_website.log\n" [1983,3053]
                            OBJECT [3055,3565]
                                FIELD [3056,3103]
                                    String: "name" [3056,3062]
                                    STRING [3063,3103]
                                        String: "Wait for job and copy logs from AWS s3" [3063,3103]
                                FIELD [3104,3140]
                                    String: "if" [3104,3108]
                                    STRING [3109,3140]
                                        String: "${{ failure() || success() }}" [3109,3140]
                                FIELD [3141,3564]
                                    String: "run" [3141,3146]
                                    STRING [3147,3564]
                                        String: "head -100 build_website.log | grep -oP -m 1 'jobId: \\K(.*)' > jobid.log\n\necho \"Job ID is\"\ncat jobid.log\ncat jobid.log | xargs -i python ./tools/batch/wait-job.py --job-id {}\necho \"Copy Log file\"\ncat jobid.log | xargs -i aws s3api wait object-exists --bucket gluon-nlp-dev --key batch/{}/tutorials/index.rst\ncat jobid.log | xargs -i aws s3 cp s3://gluon-nlp-dev/batch/{}/tutorials tutorials --recursive\n" [3147,3564]
                            OBJECT [3566,3747]
                                FIELD [3567,3604]
                                    String: "name" [3567,3573]
                                    STRING [3574,3604]
                                        String: "Upload Notebook Compile Logs" [3574,3604]
                                FIELD [3605,3641]
                                    String: "if" [3605,3609]
                                    STRING [3610,3641]
                                        String: "${{ failure() || success() }}" [3610,3641]
                                FIELD [3642,3677]
                                    String: "uses" [3642,3648]
                                    STRING [3649,3677]
                                        String: "actions/upload-artifact@v2" [3649,3677]
                                FIELD [3678,3746]
                                    String: "with" [3678,3684]
                                    OBJECT [3685,3746]
                                        FIELD [3686,3708]
                                            String: "name" [3686,3692]
                                            STRING [3693,3708]
                                                String: "Notebook_Logs" [3693,3708]
                                        FIELD [3709,3745]
                                            String: "path" [3709,3715]
                                            STRING [3716,3745]
                                                String: "./tutorials/**/*.stdout.log" [3716,3745]
                            OBJECT [3748,3915]
                                FIELD [3749,3782]
                                    String: "name" [3749,3755]
                                    STRING [3756,3782]
                                        String: "Upload Website Build Log" [3756,3782]
                                FIELD [3783,3819]
                                    String: "if" [3783,3787]
                                    STRING [3788,3819]
                                        String: "${{ failure() || success() }}" [3788,3819]
                                FIELD [3820,3855]
                                    String: "uses" [3820,3826]
                                    STRING [3827,3855]
                                        String: "actions/upload-artifact@v2" [3827,3855]
                                FIELD [3856,3914]
                                    String: "with" [3856,3862]
                                    OBJECT [3863,3914]
                                        FIELD [3864,3884]
                                            String: "name" [3864,3870]
                                            STRING [3871,3884]
                                                String: "Website_Log" [3871,3884]
                                        FIELD [3885,3913]
                                            String: "path" [3885,3891]
                                            STRING [3892,3913]
                                                String: "./build_website.log" [3892,3913]
                            OBJECT [3916,4332]
                                FIELD [3917,3940]
                                    String: "name" [3917,3923]
                                    STRING [3924,3940]
                                        String: "Create comment" [3924,3940]
                                FIELD [3941,4036]
                                    String: "if" [3941,3945]
                                    STRING [3946,4036]
                                        String: "${{ github.event_name == 'pull_request' || github.event_name == 'pull_request_target' }}" [3946,4036]
                                FIELD [4037,4085]
                                    String: "uses" [4037,4043]
                                    STRING [4044,4085]
                                        String: "peter-evans/create-or-update-comment@v1" [4044,4085]
                                FIELD [4086,4331]
                                    String: "with" [4086,4092]
                                    OBJECT [4093,4331]
                                        FIELD [4094,4137]
                                            String: "issue-number" [4094,4108]
                                            STRING [4109,4137]
                                                String: "${{ github.event.number }}" [4109,4137]
                                        FIELD [4138,4330]
                                            String: "body" [4138,4144]
                                            STRING [4145,4330]
                                                String: "The documentation website for preview: http://gluon-nlp-staging.s3-accelerate.dualstack.amazonaws.com/PR${{ github.event.number }}/${{ github.event.pull_request.head.sha }}/index.html" [4145,4330]