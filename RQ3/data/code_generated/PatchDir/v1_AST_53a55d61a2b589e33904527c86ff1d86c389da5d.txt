OBJECT [0,5717]
    FIELD [1,22]
        String: "name" [1,7]
        STRING [8,22]
            String: "Lint & Tests" [8,22]
    FIELD [23,36]
        String: "on" [23,27]
        ARRAY [28,36]
            STRING [29,35]
                String: "push" [29,35]
    FIELD [37,5716]
        String: "jobs" [37,43]
        OBJECT [44,5716]
            FIELD [45,5253]
                String: "lint-and-tests" [45,61]
                OBJECT [62,5253]
                    FIELD [63,88]
                        String: "runs-on" [63,72]
                        STRING [73,88]
                            String: "ubuntu-latest" [73,88]
                    FIELD [89,135]
                        String: "strategy" [89,99]
                        OBJECT [100,135]
                            FIELD [101,134]
                                String: "matrix" [101,109]
                                OBJECT [110,134]
                                    FIELD [111,133]
                                        String: "python-version" [111,127]
                                        ARRAY [128,133]
                                            NUMBER [129,132]
                                                Number: 3.6 [129,132]
                    FIELD [136,5252]
                        String: "steps" [136,143]
                        ARRAY [144,5252]
                            OBJECT [145,175]
                                FIELD [146,174]
                                    String: "uses" [146,152]
                                    STRING [153,174]
                                        String: "actions/checkout@v2" [153,174]
                            OBJECT [176,319]
                                FIELD [177,228]
                                    String: "name" [177,183]
                                    STRING [184,228]
                                        String: "Set up Python ${{ matrix.python-version }}" [184,228]
                                FIELD [229,261]
                                    String: "uses" [229,235]
                                    STRING [236,261]
                                        String: "actions/setup-python@v2" [236,261]
                                FIELD [262,318]
                                    String: "with" [262,268]
                                    OBJECT [269,318]
                                        FIELD [270,317]
                                            String: "python-version" [270,286]
                                            STRING [287,317]
                                                String: "${{ matrix.python-version }}" [287,317]
                            OBJECT [320,583]
                                FIELD [321,350]
                                    String: "name" [321,327]
                                    STRING [328,350]
                                        String: "Install dependencies" [328,350]
                                FIELD [351,582]
                                    String: "run" [351,356]
                                    STRING [357,582]
                                        String: "python -m pip install --upgrade pip\npip install --upgrade setuptools\npython setup.py install\npip install -r requirements.opt.txt\npip install flake8\nif [ -f requirements.txt ]; then pip install -r requirements.txt; fi\n" [357,582]
                            OBJECT [584,882]
                                FIELD [585,610]
                                    String: "name" [585,591]
                                    STRING [592,610]
                                        String: "Lint with flake8" [592,610]
                                FIELD [611,881]
                                    String: "run" [611,616]
                                    STRING [617,881]
                                        String: "# stop the build if there are Python syntax errors or undefined names\nflake8 . --count --select=E9,F63,F7,F82 --show-source --statistics\n# exit-zero treats all errors as warnings. The GitHub editor is 127 chars wide\nflake8 . --count --exit-zero --statistics\n" [617,881]
                            OBJECT [883,942]
                                FIELD [884,903]
                                    String: "name" [884,890]
                                    STRING [891,903]
                                        String: "Unit tests" [891,903]
                                FIELD [904,941]
                                    String: "run" [904,909]
                                    STRING [910,941]
                                        String: "python -m unittest discover\n" [910,941]
                            OBJECT [943,1195]
                                FIELD [944,974]
                                    String: "name" [944,950]
                                    STRING [951,974]
                                        String: "Test vocabulary build" [951,974]
                                FIELD [975,1194]
                                    String: "run" [975,980]
                                    STRING [981,1194]
                                        String: "python onmt/bin/build_vocab.py \\\n  -config data/data.yaml \\\n  -save_data /tmp/onmt \\\n  -n_sample 5000 \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  && rm -rf /tmp/sample\n" [981,1194]
                            OBJECT [1196,1570]
                                FIELD [1197,1231]
                                    String: "name" [1197,1203]
                                    STRING [1204,1231]
                                        String: "Test field/transform dump" [1204,1231]
                                FIELD [1232,1569]
                                    String: "run" [1232,1237]
                                    STRING [1238,1569]
                                        String: "# The dumped fields are used later when testing tools\npython train.py \\\n  -config data/data.yaml \\\n  -save_data /tmp/onmt.train.check \\\n  -dump_fields \\\n  -dump_transforms \\\n  -n_sample 30 \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000\n" [1238,1569]
                            OBJECT [1571,1906]
                                FIELD [1572,1598]
                                    String: "name" [1572,1578]
                                    STRING [1579,1598]
                                        String: "Test RNN training" [1579,1598]
                                FIELD [1599,1905]
                                    String: "run" [1599,1604]
                                    STRING [1605,1905]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -rnn_size 2 \\\n  -batch_size 10 \\\n  -word_vec_size 5 \\\n  -report_every 5\\\n  -rnn_size 10 \\\n  -train_steps 10\n" [1605,1905]
                            OBJECT [1907,2270]
                                FIELD [1908,1944]
                                    String: "name" [1908,1914]
                                    STRING [1915,1944]
                                        String: "Test RNN training with copy" [1915,1944]
                                FIELD [1945,2269]
                                    String: "run" [1945,1950]
                                    STRING [1951,2269]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -rnn_size 2 \\\n  -batch_size 10 \\\n  -word_vec_size 5 \\\n  -report_every 5 \\\n  -rnn_size 10 \\\n  -train_steps 10 \\\n  -copy_attn\n" [1951,2269]
                            OBJECT [2271,2820]
                                FIELD [2272,2317]
                                    String: "name" [2272,2278]
                                    STRING [2279,2317]
                                        String: "Test Transformer training with align" [2279,2317]
                                FIELD [2318,2819]
                                    String: "run" [2318,2323]
                                    STRING [2324,2819]
                                        String: "python train.py \\\n  -config data/align_data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -max_generator_batches 0 \\\n  -encoder_type transformer \\\n  -decoder_type transformer \\\n  -layers 4 \\\n  -word_vec_size 16 \\\n  -rnn_size 16 \\\n  -heads 2 \\\n  -transformer_ff 64 \\\n  -lambda_align 0.05 \\\n  -alignment_layer 2 \\\n  -alignment_heads 0 \\\n  -report_every 5 \\\n  -train_steps 10\n" [2324,2819]
                            OBJECT [2821,3311]
                                FIELD [2822,2865]
                                    String: "name" [2822,2828]
                                    STRING [2829,2865]
                                        String: "Test Graph neural network training" [2829,2865]
                                FIELD [2866,3310]
                                    String: "run" [2866,2871]
                                    STRING [2872,3310]
                                        String: "python train.py \\\n  -config data/ggnn_data.yaml \\\n  -src_seq_length 1000 \\\n  -tgt_seq_length 30 \\\n  -encoder_type ggnn \\\n  -layers 2 \\\n  -decoder_type rnn \\\n  -rnn_size 256 \\\n  -learning_rate 0.1 \\\n  -learning_rate_decay 0.8 \\\n  -global_attention general \\\n  -batch_size 32 \\\n  -word_vec_size 256 \\\n  -bridge \\\n  -train_steps 10 \\\n  -n_edge_types 9 \\\n  -state_dim 256 \\\n  -n_steps 10 \\\n  -n_node 64\n" [2872,3310]
                            OBJECT [3312,3499]
                                FIELD [3313,3342]
                                    String: "name" [3313,3319]
                                    STRING [3320,3342]
                                        String: "Test RNN translation" [3320,3342]
                                FIELD [3343,3498]
                                    String: "run" [3343,3348]
                                    STRING [3349,3498]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython translate.py \\\n  -model onmt/tests/test_model.pt \\\n  -src /tmp/src-test.txt \\\n  -verbose\n" [3349,3498]
                            OBJECT [3500,3727]
                                FIELD [3501,3539]
                                    String: "name" [3501,3507]
                                    STRING [3508,3539]
                                        String: "Test RNN ensemble translation" [3508,3539]
                                FIELD [3540,3726]
                                    String: "run" [3540,3545]
                                    STRING [3546,3726]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython translate.py \\\n  -model onmt/tests/test_model.pt \\\n  onmt/tests/test_model.pt \\\n  -src /tmp/src-test.txt \\\n  -verbose\n" [3546,3726]
                            OBJECT [3728,4042]
                                FIELD [3729,3775]
                                    String: "name" [3729,3735]
                                    STRING [3736,3775]
                                        String: "Test RNN translation with beam search" [3736,3775]
                                FIELD [3776,4041]
                                    String: "run" [3776,3781]
                                    STRING [3782,4041]
                                        String: "python translate.py \\\n  -model onmt/tests/test_model2.pt \\\n  -src data/morph/src.valid \\\n  -verbose \\\n  -batch_size 10 \\\n  -beam_size 10 \\\n  -tgt data/morph/tgt.valid \\\n  -out /tmp/trans\ndiff data/morph/tgt.valid /tmp/trans && rm /tmp/trans\n" [3782,4041]
                            OBJECT [4043,4444]
                                FIELD [4044,4094]
                                    String: "name" [4044,4050]
                                    STRING [4051,4094]
                                        String: "Test RNN translation with random sampling" [4051,4094]
                                FIELD [4095,4443]
                                    String: "run" [4095,4100]
                                    STRING [4101,4443]
                                        String: "python translate.py \\\n  -model onmt/tests/test_model2.pt \\\n  -src data/morph/src.valid \\\n  -verbose \\\n  -batch_size 10 \\\n  -beam_size 1 \\\n  -seed 1 \\\n  -random_sampling_topk \"-1\" \\\n  -random_sampling_temp 0.0001 \\\n  -tgt data/morph/tgt.valid \\\n  -out /tmp/trans\ndiff data/morph/tgt.valid /tmp/trans && rm /tmp/trans\n" [4101,4443]
                            OBJECT [4445,4788]
                                FIELD [4446,4483]
                                    String: "name" [4446,4452]
                                    STRING [4453,4483]
                                        String: "Test extract_vocabulary tool" [4453,4483]
                                FIELD [4484,4787]
                                    String: "run" [4484,4489]
                                    STRING [4490,4787]
                                        String: "python tools/extract_vocabulary.py \\\n  -file /tmp/onmt.train.check.vocab.pt \\\n  -file_type field \\\n  -side src \\\n  -out_file /tmp/onmt.vocab.txt\nif ! wc -l /tmp/onmt.vocab.txt | grep -qF  \"1002\"\n  then echo \"wrong word count\" && exit 1\nelse\n  echo \"creat vocabulary pass\"\nfi\n" [4490,4787]
                            OBJECT [4789,5128]
                                FIELD [4790,4828]
                                    String: "name" [4790,4796]
                                    STRING [4797,4828]
                                        String: "Test embeddings_to_torch tool" [4797,4828]
                                FIELD [4829,5127]
                                    String: "run" [4829,4834]
                                    STRING [4835,5127]
                                        String: "python tools/embeddings_to_torch.py \\\n  -emb_file_enc onmt/tests/sample_glove.txt \\\n  -emb_file_dec onmt/tests/sample_glove.txt \\\n  -dict_file /tmp/onmt.train.check.vocab.pt \\\n  -output_file /tmp/q_gloveembeddings \\\n  && rm /tmp/q_gloveembeddings*\nrm /tmp/onmt.train.check.*.pt\n" [4835,5127]
                            OBJECT [5129,5251]
                                FIELD [5130,5167]
                                    String: "name" [5130,5136]
                                    STRING [5137,5167]
                                        String: "Test extract_embeddings tool" [5137,5167]
                                FIELD [5168,5250]
                                    String: "run" [5168,5173]
                                    STRING [5174,5250]
                                        String: "python tools/extract_embeddings.py \\\n  -model onmt/tests/test_model.pt\n" [5174,5250]
            FIELD [5254,5715]
                String: "build-docs" [5254,5266]
                OBJECT [5267,5715]
                    FIELD [5268,5293]
                        String: "runs-on" [5268,5277]
                        STRING [5278,5293]
                            String: "ubuntu-latest" [5278,5293]
                    FIELD [5294,5714]
                        String: "steps" [5294,5301]
                        ARRAY [5302,5714]
                            OBJECT [5303,5333]
                                FIELD [5304,5332]
                                    String: "uses" [5304,5310]
                                    STRING [5311,5332]
                                        String: "actions/checkout@v2" [5311,5332]
                            OBJECT [5334,5425]
                                FIELD [5335,5361]
                                    String: "name" [5335,5341]
                                    STRING [5342,5361]
                                        String: "Set up Python 3.6" [5342,5361]
                                FIELD [5362,5394]
                                    String: "uses" [5362,5368]
                                    STRING [5369,5394]
                                        String: "actions/setup-python@v2" [5369,5394]
                                FIELD [5395,5424]
                                    String: "with" [5395,5401]
                                    OBJECT [5402,5424]
                                        FIELD [5403,5423]
                                            String: "python-version" [5403,5419]
                                            NUMBER [5420,5423]
                                                Number: 3.6 [5420,5423]
                            OBJECT [5426,5600]
                                FIELD [5427,5456]
                                    String: "name" [5427,5433]
                                    STRING [5434,5456]
                                        String: "Install dependencies" [5434,5456]
                                FIELD [5457,5599]
                                    String: "run" [5457,5462]
                                    STRING [5463,5599]
                                        String: "python -m pip install --upgrade pip\npip install --upgrade setuptools\npython setup.py install\npip install -r docs/requirements.txt\n" [5463,5599]
                            OBJECT [5601,5713]
                                FIELD [5602,5621]
                                    String: "name" [5602,5608]
                                    STRING [5609,5621]
                                        String: "Build docs" [5609,5621]
                                FIELD [5622,5712]
                                    String: "run" [5622,5627]
                                    STRING [5628,5712]
                                        String: "set -e\n# Check that docs are built without errors\ncd docs/ && make html && cd .." [5628,5712]