OBJECT [0,10109]
    FIELD [1,41]
        String: "name" [1,7]
        STRING [8,41]
            String: "Self-hosted runner (nightly-ci)" [8,41]
    FIELD [42,96]
        String: "on" [42,46]
        OBJECT [47,96]
            FIELD [48,74]
                String: "repository_dispatch" [48,69]
                NULL [70,74]
            FIELD [75,95]
                String: "workflow_call" [75,90]
                NULL [91,95]
    FIELD [97,321]
        String: "env" [97,102]
        OBJECT [103,321]
            FIELD [104,126]
                String: "HF_HOME" [104,113]
                STRING [114,126]
                    String: "/mnt/cache" [114,126]
            FIELD [127,152]
                String: "TRANSFORMERS_IS_CI" [127,147]
                TRUE [148,152]
            FIELD [153,172]
                String: "OMP_NUM_THREADS" [153,170]
                NUMBER [171,172]
                    Number: 8 [171,172]
            FIELD [173,192]
                String: "MKL_NUM_THREADS" [173,190]
                NUMBER [191,192]
                    Number: 8 [191,192]
            FIELD [193,208]
                String: "RUN_SLOW" [193,203]
                TRUE [204,208]
            FIELD [209,261]
                String: "SIGOPT_API_TOKEN" [209,227]
                STRING [228,261]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [228,261]
            FIELD [262,294]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [262,289]
                TRUE [290,294]
            FIELD [295,320]
                String: "RUN_PT_TF_CROSS_TESTS" [295,318]
                NUMBER [319,320]
                    Number: 1 [319,320]
    FIELD [322,10108]
        String: "jobs" [322,328]
        OBJECT [329,10108]
            FIELD [330,713]
                String: "check_runner_status" [330,351]
                OBJECT [352,713]
                    FIELD [353,381]
                        String: "name" [353,359]
                        STRING [360,381]
                            String: "Check Runner Status" [360,381]
                    FIELD [382,407]
                        String: "runs-on" [382,391]
                        STRING [392,407]
                            String: "ubuntu-latest" [392,407]
                    FIELD [408,712]
                        String: "steps" [408,415]
                        ARRAY [416,712]
                            OBJECT [417,503]
                                FIELD [418,448]
                                    String: "name" [418,424]
                                    STRING [425,448]
                                        String: "Checkout transformers" [425,448]
                                FIELD [449,477]
                                    String: "uses" [449,455]
                                    STRING [456,477]
                                        String: "actions/checkout@v3" [456,477]
                                FIELD [478,502]
                                    String: "with" [478,484]
                                    OBJECT [485,502]
                                        FIELD [486,501]
                                            String: "fetch-depth" [486,499]
                                            NUMBER [500,501]
                                                Number: 2 [500,501]
                            OBJECT [504,711]
                                FIELD [505,533]
                                    String: "name" [505,511]
                                    STRING [512,533]
                                        String: "Check Runner Status" [512,533]
                                FIELD [534,710]
                                    String: "run" [534,539]
                                    STRING [540,710]
                                        String: "python utils/check_self_hosted_runner.py --target_runners single-gpu-past-ci-runner-docker,multi-gpu-past-ci-runner-docker --token ${{ secrets.ACCESS_REPO_INFO_TOKEN }}" [540,710]
            FIELD [714,1154]
                String: "check_runners" [714,729]
                OBJECT [730,1154]
                    FIELD [731,753]
                        String: "name" [731,737]
                        STRING [738,753]
                            String: "Check Runners" [738,753]
                    FIELD [754,783]
                        String: "needs" [754,761]
                        STRING [762,783]
                            String: "check_runner_status" [762,783]
                    FIELD [784,849]
                        String: "strategy" [784,794]
                        OBJECT [795,849]
                            FIELD [796,848]
                                String: "matrix" [796,804]
                                OBJECT [805,848]
                                    FIELD [806,847]
                                        String: "machine_type" [806,820]
                                        ARRAY [821,847]
                                            STRING [822,834]
                                                String: "single-gpu" [822,834]
                                            STRING [835,846]
                                                String: "multi-gpu" [835,846]
                    FIELD [850,925]
                        String: "runs-on" [850,859]
                        STRING [860,925]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker-past-ci') }}" [860,925]
                    FIELD [926,1100]
                        String: "container" [926,937]
                        OBJECT [938,1100]
                            FIELD [939,1002]
                                String: "image" [939,946]
                                STRING [947,1002]
                                    String: "huggingface/transformers-all-latest-torch-nightly-gpu" [947,1002]
                            FIELD [1003,1099]
                                String: "options" [1003,1012]
                                STRING [1013,1099]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1013,1099]
                    FIELD [1101,1153]
                        String: "steps" [1101,1108]
                        ARRAY [1109,1153]
                            OBJECT [1110,1152]
                                FIELD [1111,1130]
                                    String: "name" [1111,1117]
                                    STRING [1118,1130]
                                        String: "NVIDIA-SMI" [1118,1130]
                                FIELD [1131,1151]
                                    String: "run" [1131,1136]
                                    STRING [1137,1151]
                                        String: "nvidia-smi\n" [1137,1151]
            FIELD [1155,2432]
                String: "setup" [1155,1162]
                OBJECT [1163,2432]
                    FIELD [1164,1178]
                        String: "name" [1164,1170]
                        STRING [1171,1178]
                            String: "Setup" [1171,1178]
                    FIELD [1179,1202]
                        String: "needs" [1179,1186]
                        STRING [1187,1202]
                            String: "check_runners" [1187,1202]
                    FIELD [1203,1268]
                        String: "strategy" [1203,1213]
                        OBJECT [1214,1268]
                            FIELD [1215,1267]
                                String: "matrix" [1215,1223]
                                OBJECT [1224,1267]
                                    FIELD [1225,1266]
                                        String: "machine_type" [1225,1239]
                                        ARRAY [1240,1266]
                                            STRING [1241,1253]
                                                String: "single-gpu" [1241,1253]
                                            STRING [1254,1265]
                                                String: "multi-gpu" [1254,1265]
                    FIELD [1269,1344]
                        String: "runs-on" [1269,1278]
                        STRING [1279,1344]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker-past-ci') }}" [1279,1344]
                    FIELD [1345,1519]
                        String: "container" [1345,1356]
                        OBJECT [1357,1519]
                            FIELD [1358,1421]
                                String: "image" [1358,1365]
                                STRING [1366,1421]
                                    String: "huggingface/transformers-all-latest-torch-nightly-gpu" [1366,1421]
                            FIELD [1422,1518]
                                String: "options" [1422,1431]
                                STRING [1432,1518]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1432,1518]
                    FIELD [1520,1581]
                        String: "outputs" [1520,1529]
                        OBJECT [1530,1581]
                            FIELD [1531,1580]
                                String: "matrix" [1531,1539]
                                STRING [1540,1580]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [1540,1580]
                    FIELD [1582,2431]
                        String: "steps" [1582,1589]
                        ARRAY [1590,2431]
                            OBJECT [1591,1704]
                                FIELD [1592,1613]
                                    String: "name" [1592,1598]
                                    STRING [1599,1613]
                                        String: "Update clone" [1599,1613]
                                FIELD [1614,1649]
                                    String: "working-directory" [1614,1633]
                                    STRING [1634,1649]
                                        String: "/transformers" [1634,1649]
                                FIELD [1650,1703]
                                    String: "run" [1650,1655]
                                    STRING [1656,1703]
                                        String: "git fetch && git checkout ${{ github.sha }}\n" [1656,1703]
                            OBJECT [1705,1843]
                                FIELD [1706,1722]
                                    String: "name" [1706,1712]
                                    STRING [1713,1722]
                                        String: "Cleanup" [1713,1722]
                                FIELD [1723,1758]
                                    String: "working-directory" [1723,1742]
                                    STRING [1743,1758]
                                        String: "/transformers" [1743,1758]
                                FIELD [1759,1842]
                                    String: "run" [1759,1764]
                                    STRING [1765,1842]
                                        String: "rm -rf tests/__pycache__\nrm -rf tests/models/__pycache__\nrm -rf reports\n" [1765,1842]
                            OBJECT [1844,1953]
                                FIELD [1845,1897]
                                    String: "name" [1845,1851]
                                    STRING [1852,1897]
                                        String: "Show installed libraries and their versions" [1852,1897]
                                FIELD [1898,1933]
                                    String: "working-directory" [1898,1917]
                                    STRING [1918,1933]
                                        String: "/transformers" [1918,1933]
                                FIELD [1934,1952]
                                    String: "run" [1934,1939]
                                    STRING [1940,1952]
                                        String: "pip freeze" [1940,1952]
                            OBJECT [1954,2387]
                                FIELD [1955,1972]
                                    String: "id" [1955,1959]
                                    STRING [1960,1972]
                                        String: "set-matrix" [1960,1972]
                                FIELD [1973,2005]
                                    String: "name" [1973,1979]
                                    STRING [1980,2005]
                                        String: "Identify models to test" [1980,2005]
                                FIELD [2006,2047]
                                    String: "working-directory" [2006,2025]
                                    STRING [2026,2047]
                                        String: "/transformers/tests" [2026,2047]
                                FIELD [2048,2386]
                                    String: "run" [2048,2053]
                                    STRING [2054,2386]
                                        String: "echo \"matrix=$(python3 -c 'import os; tests = os.getcwd(); model_tests = os.listdir(os.path.join(tests, \"models\")); d1 = sorted(list(filter(os.path.isdir, os.listdir(tests)))); d2 = sorted(list(filter(os.path.isdir, [f\"models/{x}\" for x in model_tests]))); d1.remove(\"models\"); d = d2 + d1; print(d)')\" >> $GITHUB_OUTPUT\n" [2054,2386]
                            OBJECT [2388,2430]
                                FIELD [2389,2408]
                                    String: "name" [2389,2395]
                                    STRING [2396,2408]
                                        String: "NVIDIA-SMI" [2396,2408]
                                FIELD [2409,2429]
                                    String: "run" [2409,2414]
                                    STRING [2415,2429]
                                        String: "nvidia-smi\n" [2415,2429]
            FIELD [2433,4435]
                String: "run_tests_single_gpu" [2433,2455]
                OBJECT [2456,4435]
                    FIELD [2457,2477]
                        String: "name" [2457,2463]
                        STRING [2464,2477]
                            String: "Model tests" [2464,2477]
                    FIELD [2478,2605]
                        String: "strategy" [2478,2488]
                        OBJECT [2489,2605]
                            FIELD [2490,2507]
                                String: "fail-fast" [2490,2501]
                                FALSE [2502,2507]
                            FIELD [2508,2604]
                                String: "matrix" [2508,2516]
                                OBJECT [2517,2604]
                                    FIELD [2518,2573]
                                        String: "folders" [2518,2527]
                                        STRING [2528,2573]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [2528,2573]
                                    FIELD [2574,2603]
                                        String: "machine_type" [2574,2588]
                                        ARRAY [2589,2603]
                                            STRING [2590,2602]
                                                String: "single-gpu" [2590,2602]
                    FIELD [2606,2681]
                        String: "runs-on" [2606,2615]
                        STRING [2616,2681]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker-past-ci') }}" [2616,2681]
                    FIELD [2682,2856]
                        String: "container" [2682,2693]
                        OBJECT [2694,2856]
                            FIELD [2695,2758]
                                String: "image" [2695,2702]
                                STRING [2703,2758]
                                    String: "huggingface/transformers-all-latest-torch-nightly-gpu" [2703,2758]
                            FIELD [2759,2855]
                                String: "options" [2759,2768]
                                STRING [2769,2855]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [2769,2855]
                    FIELD [2857,2872]
                        String: "needs" [2857,2864]
                        STRING [2865,2872]
                            String: "setup" [2865,2872]
                    FIELD [2873,4434]
                        String: "steps" [2873,2880]
                        ARRAY [2881,4434]
                            OBJECT [2882,3156]
                                FIELD [2883,2925]
                                    String: "name" [2883,2889]
                                    STRING [2890,2925]
                                        String: "Echo folder ${{ matrix.folders }}" [2890,2925]
                                FIELD [2926,2940]
                                    String: "shell" [2926,2933]
                                    STRING [2934,2940]
                                        String: "bash" [2934,2940]
                                FIELD [2941,3155]
                                    String: "run" [2941,2946]
                                    STRING [2947,3155]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [2947,3155]
                            OBJECT [3157,3268]
                                FIELD [3158,3179]
                                    String: "name" [3158,3164]
                                    STRING [3165,3179]
                                        String: "Update clone" [3165,3179]
                                FIELD [3180,3215]
                                    String: "working-directory" [3180,3199]
                                    STRING [3200,3215]
                                        String: "/transformers" [3200,3215]
                                FIELD [3216,3267]
                                    String: "run" [3216,3221]
                                    STRING [3222,3267]
                                        String: "git fetch && git checkout ${{ github.sha }}" [3222,3267]
                            OBJECT [3269,3484]
                                FIELD [3270,3367]
                                    String: "name" [3270,3276]
                                    STRING [3277,3367]
                                        String: "Reinstall transformers in edit mode (remove the one installed during docker image build)" [3277,3367]
                                FIELD [3368,3403]
                                    String: "working-directory" [3368,3387]
                                    STRING [3388,3403]
                                        String: "/transformers" [3388,3403]
                                FIELD [3404,3483]
                                    String: "run" [3404,3409]
                                    STRING [3410,3483]
                                        String: "python3 -m pip uninstall -y transformers && python3 -m pip install -e ." [3410,3483]
                            OBJECT [3485,3527]
                                FIELD [3486,3505]
                                    String: "name" [3486,3492]
                                    STRING [3493,3505]
                                        String: "NVIDIA-SMI" [3493,3505]
                                FIELD [3506,3526]
                                    String: "run" [3506,3511]
                                    STRING [3512,3526]
                                        String: "nvidia-smi\n" [3512,3526]
                            OBJECT [3528,3623]
                                FIELD [3529,3549]
                                    String: "name" [3529,3535]
                                    STRING [3536,3549]
                                        String: "Environment" [3536,3549]
                                FIELD [3550,3585]
                                    String: "working-directory" [3550,3569]
                                    STRING [3570,3585]
                                        String: "/transformers" [3570,3585]
                                FIELD [3586,3622]
                                    String: "run" [3586,3591]
                                    STRING [3592,3622]
                                        String: "python3 utils/print_env.py\n" [3592,3622]
                            OBJECT [3624,3733]
                                FIELD [3625,3677]
                                    String: "name" [3625,3631]
                                    STRING [3632,3677]
                                        String: "Show installed libraries and their versions" [3632,3677]
                                FIELD [3678,3713]
                                    String: "working-directory" [3678,3697]
                                    STRING [3698,3713]
                                        String: "/transformers" [3698,3713]
                                FIELD [3714,3732]
                                    String: "run" [3714,3719]
                                    STRING [3720,3732]
                                        String: "pip freeze" [3720,3732]
                            OBJECT [3734,3932]
                                FIELD [3735,3764]
                                    String: "name" [3735,3741]
                                    STRING [3742,3764]
                                        String: "Run all tests on GPU" [3742,3764]
                                FIELD [3765,3800]
                                    String: "working-directory" [3765,3784]
                                    STRING [3785,3800]
                                        String: "/transformers" [3785,3800]
                                FIELD [3801,3931]
                                    String: "run" [3801,3806]
                                    STRING [3807,3931]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [3807,3931]
                            OBJECT [3933,4126]
                                FIELD [3934,3964]
                                    String: "name" [3934,3940]
                                    STRING [3941,3964]
                                        String: "Failure short reports" [3941,3964]
                                FIELD [3965,3988]
                                    String: "if" [3965,3969]
                                    STRING [3970,3988]
                                        String: "${{ failure() }}" [3970,3988]
                                FIELD [3989,4013]
                                    String: "continue-on-error" [3989,4008]
                                    TRUE [4009,4013]
                                FIELD [4014,4125]
                                    String: "run" [4014,4019]
                                    STRING [4020,4125]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [4020,4125]
                            OBJECT [4127,4433]
                                FIELD [4128,4165]
                                    String: "name" [4128,4134]
                                    STRING [4135,4165]
                                        String: "Test suite reports artifacts" [4135,4165]
                                FIELD [4166,4188]
                                    String: "if" [4166,4170]
                                    STRING [4171,4188]
                                        String: "${{ always() }}" [4171,4188]
                                FIELD [4189,4224]
                                    String: "uses" [4189,4195]
                                    STRING [4196,4224]
                                        String: "actions/upload-artifact@v3" [4196,4224]
                                FIELD [4225,4432]
                                    String: "with" [4225,4231]
                                    OBJECT [4232,4432]
                                        FIELD [4233,4341]
                                            String: "name" [4233,4239]
                                            STRING [4240,4341]
                                                String: "${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports_postfix_nightly" [4240,4341]
                                        FIELD [4342,4431]
                                            String: "path" [4342,4348]
                                            STRING [4349,4431]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}" [4349,4431]
            FIELD [4436,6438]
                String: "run_tests_multi_gpu" [4436,4457]
                OBJECT [4458,6438]
                    FIELD [4459,4479]
                        String: "name" [4459,4465]
                        STRING [4466,4479]
                            String: "Model tests" [4466,4479]
                    FIELD [4480,4606]
                        String: "strategy" [4480,4490]
                        OBJECT [4491,4606]
                            FIELD [4492,4509]
                                String: "fail-fast" [4492,4503]
                                FALSE [4504,4509]
                            FIELD [4510,4605]
                                String: "matrix" [4510,4518]
                                OBJECT [4519,4605]
                                    FIELD [4520,4575]
                                        String: "folders" [4520,4529]
                                        STRING [4530,4575]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [4530,4575]
                                    FIELD [4576,4604]
                                        String: "machine_type" [4576,4590]
                                        ARRAY [4591,4604]
                                            STRING [4592,4603]
                                                String: "multi-gpu" [4592,4603]
                    FIELD [4607,4682]
                        String: "runs-on" [4607,4616]
                        STRING [4617,4682]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker-past-ci') }}" [4617,4682]
                    FIELD [4683,4859]
                        String: "container" [4683,4694]
                        OBJECT [4695,4859]
                            FIELD [4696,4759]
                                String: "image" [4696,4703]
                                STRING [4704,4759]
                                    String: "huggingface/transformers-all-latest-torch-nightly-gpu" [4704,4759]
                            FIELD [4760,4858]
                                String: "options" [4760,4769]
                                STRING [4770,4858]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [4770,4858]
                    FIELD [4860,4875]
                        String: "needs" [4860,4867]
                        STRING [4868,4875]
                            String: "setup" [4868,4875]
                    FIELD [4876,6437]
                        String: "steps" [4876,4883]
                        ARRAY [4884,6437]
                            OBJECT [4885,5159]
                                FIELD [4886,4928]
                                    String: "name" [4886,4892]
                                    STRING [4893,4928]
                                        String: "Echo folder ${{ matrix.folders }}" [4893,4928]
                                FIELD [4929,4943]
                                    String: "shell" [4929,4936]
                                    STRING [4937,4943]
                                        String: "bash" [4937,4943]
                                FIELD [4944,5158]
                                    String: "run" [4944,4949]
                                    STRING [4950,5158]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [4950,5158]
                            OBJECT [5160,5271]
                                FIELD [5161,5182]
                                    String: "name" [5161,5167]
                                    STRING [5168,5182]
                                        String: "Update clone" [5168,5182]
                                FIELD [5183,5218]
                                    String: "working-directory" [5183,5202]
                                    STRING [5203,5218]
                                        String: "/transformers" [5203,5218]
                                FIELD [5219,5270]
                                    String: "run" [5219,5224]
                                    STRING [5225,5270]
                                        String: "git fetch && git checkout ${{ github.sha }}" [5225,5270]
                            OBJECT [5272,5487]
                                FIELD [5273,5370]
                                    String: "name" [5273,5279]
                                    STRING [5280,5370]
                                        String: "Reinstall transformers in edit mode (remove the one installed during docker image build)" [5280,5370]
                                FIELD [5371,5406]
                                    String: "working-directory" [5371,5390]
                                    STRING [5391,5406]
                                        String: "/transformers" [5391,5406]
                                FIELD [5407,5486]
                                    String: "run" [5407,5412]
                                    STRING [5413,5486]
                                        String: "python3 -m pip uninstall -y transformers && python3 -m pip install -e ." [5413,5486]
                            OBJECT [5488,5530]
                                FIELD [5489,5508]
                                    String: "name" [5489,5495]
                                    STRING [5496,5508]
                                        String: "NVIDIA-SMI" [5496,5508]
                                FIELD [5509,5529]
                                    String: "run" [5509,5514]
                                    STRING [5515,5529]
                                        String: "nvidia-smi\n" [5515,5529]
                            OBJECT [5531,5626]
                                FIELD [5532,5552]
                                    String: "name" [5532,5538]
                                    STRING [5539,5552]
                                        String: "Environment" [5539,5552]
                                FIELD [5553,5588]
                                    String: "working-directory" [5553,5572]
                                    STRING [5573,5588]
                                        String: "/transformers" [5573,5588]
                                FIELD [5589,5625]
                                    String: "run" [5589,5594]
                                    STRING [5595,5625]
                                        String: "python3 utils/print_env.py\n" [5595,5625]
                            OBJECT [5627,5736]
                                FIELD [5628,5680]
                                    String: "name" [5628,5634]
                                    STRING [5635,5680]
                                        String: "Show installed libraries and their versions" [5635,5680]
                                FIELD [5681,5716]
                                    String: "working-directory" [5681,5700]
                                    STRING [5701,5716]
                                        String: "/transformers" [5701,5716]
                                FIELD [5717,5735]
                                    String: "run" [5717,5722]
                                    STRING [5723,5735]
                                        String: "pip freeze" [5723,5735]
                            OBJECT [5737,5935]
                                FIELD [5738,5767]
                                    String: "name" [5738,5744]
                                    STRING [5745,5767]
                                        String: "Run all tests on GPU" [5745,5767]
                                FIELD [5768,5803]
                                    String: "working-directory" [5768,5787]
                                    STRING [5788,5803]
                                        String: "/transformers" [5788,5803]
                                FIELD [5804,5934]
                                    String: "run" [5804,5809]
                                    STRING [5810,5934]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [5810,5934]
                            OBJECT [5936,6129]
                                FIELD [5937,5967]
                                    String: "name" [5937,5943]
                                    STRING [5944,5967]
                                        String: "Failure short reports" [5944,5967]
                                FIELD [5968,5991]
                                    String: "if" [5968,5972]
                                    STRING [5973,5991]
                                        String: "${{ failure() }}" [5973,5991]
                                FIELD [5992,6016]
                                    String: "continue-on-error" [5992,6011]
                                    TRUE [6012,6016]
                                FIELD [6017,6128]
                                    String: "run" [6017,6022]
                                    STRING [6023,6128]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [6023,6128]
                            OBJECT [6130,6436]
                                FIELD [6131,6168]
                                    String: "name" [6131,6137]
                                    STRING [6138,6168]
                                        String: "Test suite reports artifacts" [6138,6168]
                                FIELD [6169,6191]
                                    String: "if" [6169,6173]
                                    STRING [6174,6191]
                                        String: "${{ always() }}" [6174,6191]
                                FIELD [6192,6227]
                                    String: "uses" [6192,6198]
                                    STRING [6199,6227]
                                        String: "actions/upload-artifact@v3" [6199,6227]
                                FIELD [6228,6435]
                                    String: "with" [6228,6234]
                                    OBJECT [6235,6435]
                                        FIELD [6236,6344]
                                            String: "name" [6236,6242]
                                            STRING [6243,6344]
                                                String: "${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports_postfix_nightly" [6243,6344]
                                        FIELD [6345,6434]
                                            String: "path" [6345,6351]
                                            STRING [6352,6434]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}" [6352,6434]
            FIELD [6439,8720]
                String: "run_all_tests_torch_cuda_extensions_gpu" [6439,6480]
                OBJECT [6481,8720]
                    FIELD [6482,6517]
                        String: "name" [6482,6488]
                        STRING [6489,6517]
                            String: "Torch CUDA extension tests" [6489,6517]
                    FIELD [6518,6601]
                        String: "strategy" [6518,6528]
                        OBJECT [6529,6601]
                            FIELD [6530,6547]
                                String: "fail-fast" [6530,6541]
                                FALSE [6542,6547]
                            FIELD [6548,6600]
                                String: "matrix" [6548,6556]
                                OBJECT [6557,6600]
                                    FIELD [6558,6599]
                                        String: "machine_type" [6558,6572]
                                        ARRAY [6573,6599]
                                            STRING [6574,6586]
                                                String: "single-gpu" [6574,6586]
                                            STRING [6587,6598]
                                                String: "multi-gpu" [6587,6598]
                    FIELD [6602,6677]
                        String: "runs-on" [6602,6611]
                        STRING [6612,6677]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker-past-ci') }}" [6612,6677]
                    FIELD [6678,6693]
                        String: "needs" [6678,6685]
                        STRING [6686,6693]
                            String: "setup" [6686,6693]
                    FIELD [6694,6871]
                        String: "container" [6694,6705]
                        OBJECT [6706,6871]
                            FIELD [6707,6771]
                                String: "image" [6707,6714]
                                STRING [6715,6771]
                                    String: "huggingface/transformers-pytorch-deepspeed-nightly-gpu" [6715,6771]
                            FIELD [6772,6870]
                                String: "options" [6772,6781]
                                STRING [6782,6870]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [6782,6870]
                    FIELD [6872,8719]
                        String: "steps" [6872,6879]
                        ARRAY [6880,8719]
                            OBJECT [6881,7002]
                                FIELD [6882,6903]
                                    String: "name" [6882,6888]
                                    STRING [6889,6903]
                                        String: "Update clone" [6889,6903]
                                FIELD [6904,6949]
                                    String: "working-directory" [6904,6923]
                                    STRING [6924,6949]
                                        String: "/workspace/transformers" [6924,6949]
                                FIELD [6950,7001]
                                    String: "run" [6950,6955]
                                    STRING [6956,7001]
                                        String: "git fetch && git checkout ${{ github.sha }}" [6956,7001]
                            OBJECT [7003,7228]
                                FIELD [7004,7101]
                                    String: "name" [7004,7010]
                                    STRING [7011,7101]
                                        String: "Reinstall transformers in edit mode (remove the one installed during docker image build)" [7011,7101]
                                FIELD [7102,7147]
                                    String: "working-directory" [7102,7121]
                                    STRING [7122,7147]
                                        String: "/workspace/transformers" [7122,7147]
                                FIELD [7148,7227]
                                    String: "run" [7148,7153]
                                    STRING [7154,7227]
                                        String: "python3 -m pip uninstall -y transformers && python3 -m pip install -e ." [7154,7227]
                            OBJECT [7229,7323]
                                FIELD [7230,7269]
                                    String: "name" [7230,7236]
                                    STRING [7237,7269]
                                        String: "Remove cached torch extensions" [7237,7269]
                                FIELD [7270,7322]
                                    String: "run" [7270,7275]
                                    STRING [7276,7322]
                                        String: "rm -rf /github/home/.cache/torch_extensions/" [7276,7322]
                            OBJECT [7324,7724]
                                FIELD [7325,7361]
                                    String: "name" [7325,7331]
                                    STRING [7332,7361]
                                        String: "Pre build DeepSpeed *again*" [7332,7361]
                                FIELD [7362,7394]
                                    String: "working-directory" [7362,7381]
                                    STRING [7382,7394]
                                        String: "/workspace" [7382,7394]
                                FIELD [7395,7723]
                                    String: "run" [7395,7400]
                                    STRING [7401,7723]
                                        String: "python3 -m pip uninstall -y deepspeed\nrm -rf DeepSpeed\ngit clone https://github.com/microsoft/DeepSpeed && cd DeepSpeed && rm -rf build\nDS_BUILD_CPU_ADAM=1 DS_BUILD_FUSED_ADAM=1 DS_BUILD_UTILS=1 python3 -m pip install . --global-option=\"build_ext\" --global-option=\"-j8\" --no-cache -v --disable-pip-version-check\n" [7401,7723]
                            OBJECT [7725,7767]
                                FIELD [7726,7745]
                                    String: "name" [7726,7732]
                                    STRING [7733,7745]
                                        String: "NVIDIA-SMI" [7733,7745]
                                FIELD [7746,7766]
                                    String: "run" [7746,7751]
                                    STRING [7752,7766]
                                        String: "nvidia-smi\n" [7752,7766]
                            OBJECT [7768,7872]
                                FIELD [7769,7789]
                                    String: "name" [7769,7775]
                                    STRING [7776,7789]
                                        String: "Environment" [7776,7789]
                                FIELD [7790,7835]
                                    String: "working-directory" [7790,7809]
                                    STRING [7810,7835]
                                        String: "/workspace/transformers" [7810,7835]
                                FIELD [7836,7871]
                                    String: "run" [7836,7841]
                                    STRING [7842,7871]
                                        String: "python utils/print_env.py\n" [7842,7871]
                            OBJECT [7873,7992]
                                FIELD [7874,7926]
                                    String: "name" [7874,7880]
                                    STRING [7881,7926]
                                        String: "Show installed libraries and their versions" [7881,7926]
                                FIELD [7927,7972]
                                    String: "working-directory" [7927,7946]
                                    STRING [7947,7972]
                                        String: "/workspace/transformers" [7947,7972]
                                FIELD [7973,7991]
                                    String: "run" [7973,7978]
                                    STRING [7979,7991]
                                        String: "pip freeze" [7979,7991]
                            OBJECT [7993,8205]
                                FIELD [7994,8023]
                                    String: "name" [7994,8000]
                                    STRING [8001,8023]
                                        String: "Run all tests on GPU" [8001,8023]
                                FIELD [8024,8069]
                                    String: "working-directory" [8024,8043]
                                    STRING [8044,8069]
                                        String: "/workspace/transformers" [8044,8069]
                                FIELD [8070,8204]
                                    String: "run" [8070,8075]
                                    STRING [8076,8204]
                                        String: "python -m pytest -v --make-reports=${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [8076,8204]
                            OBJECT [8206,8409]
                                FIELD [8207,8237]
                                    String: "name" [8207,8213]
                                    STRING [8214,8237]
                                        String: "Failure short reports" [8214,8237]
                                FIELD [8238,8261]
                                    String: "if" [8238,8242]
                                    STRING [8243,8261]
                                        String: "${{ failure() }}" [8243,8261]
                                FIELD [8262,8286]
                                    String: "continue-on-error" [8262,8281]
                                    TRUE [8282,8286]
                                FIELD [8287,8408]
                                    String: "run" [8287,8292]
                                    STRING [8293,8408]
                                        String: "cat /workspace/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu/failures_short.txt" [8293,8408]
                            OBJECT [8410,8718]
                                FIELD [8411,8448]
                                    String: "name" [8411,8417]
                                    STRING [8418,8448]
                                        String: "Test suite reports artifacts" [8418,8448]
                                FIELD [8449,8471]
                                    String: "if" [8449,8453]
                                    STRING [8454,8471]
                                        String: "${{ always() }}" [8454,8471]
                                FIELD [8472,8507]
                                    String: "uses" [8472,8478]
                                    STRING [8479,8507]
                                        String: "actions/upload-artifact@v3" [8479,8507]
                                FIELD [8508,8717]
                                    String: "with" [8508,8514]
                                    OBJECT [8515,8717]
                                        FIELD [8516,8616]
                                            String: "name" [8516,8522]
                                            STRING [8523,8616]
                                                String: "${{ matrix.machine_type }}_run_tests_torch_cuda_extensions_gpu_test_reports_postfix_nightly" [8523,8616]
                                        FIELD [8617,8716]
                                            String: "path" [8617,8623]
                                            STRING [8624,8716]
                                                String: "/workspace/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu" [8624,8716]
            FIELD [8721,10107]
                String: "send_results" [8721,8735]
                OBJECT [8736,10107]
                    FIELD [8737,8769]
                        String: "name" [8737,8743]
                        STRING [8744,8769]
                            String: "Send results to webhook" [8744,8769]
                    FIELD [8770,8795]
                        String: "runs-on" [8770,8779]
                        STRING [8780,8795]
                            String: "ubuntu-latest" [8780,8795]
                    FIELD [8796,8811]
                        String: "if" [8796,8800]
                        STRING [8801,8811]
                            String: "always()" [8801,8811]
                    FIELD [8812,8954]
                        String: "needs" [8812,8819]
                        ARRAY [8820,8954]
                            STRING [8821,8842]
                                String: "check_runner_status" [8821,8842]
                            STRING [8843,8858]
                                String: "check_runners" [8843,8858]
                            STRING [8859,8866]
                                String: "setup" [8859,8866]
                            STRING [8867,8889]
                                String: "run_tests_single_gpu" [8867,8889]
                            STRING [8890,8911]
                                String: "run_tests_multi_gpu" [8890,8911]
                            STRING [8912,8953]
                                String: "run_all_tests_torch_cuda_extensions_gpu" [8912,8953]
                    FIELD [8955,10106]
                        String: "steps" [8955,8962]
                        ARRAY [8963,10106]
                            OBJECT [8964,9201]
                                FIELD [8965,8996]
                                    String: "name" [8965,8971]
                                    STRING [8972,8996]
                                        String: "Preliminary job status" [8972,8996]
                                FIELD [8997,9011]
                                    String: "shell" [8997,9004]
                                    STRING [9005,9011]
                                        String: "bash" [9005,9011]
                                FIELD [9012,9200]
                                    String: "run" [9012,9017]
                                    STRING [9018,9200]
                                        String: "echo \"Runner availability: ${{ needs.check_runner_status.result }}\"\necho \"Runner status: ${{ needs.check_runners.result }}\"\necho \"Setup status: ${{ needs.setup.result }}\"\n" [9018,9200]
                            OBJECT [9202,9232]
                                FIELD [9203,9231]
                                    String: "uses" [9203,9209]
                                    STRING [9210,9231]
                                        String: "actions/checkout@v3" [9210,9231]
                            OBJECT [9233,9272]
                                FIELD [9234,9271]
                                    String: "uses" [9234,9240]
                                    STRING [9241,9271]
                                        String: "actions/download-artifact@v3" [9241,9271]
                            OBJECT [9273,10029]
                                FIELD [9274,9304]
                                    String: "name" [9274,9280]
                                    STRING [9281,9304]
                                        String: "Send message to Slack" [9281,9304]
                                FIELD [9305,9900]
                                    String: "env" [9305,9310]
                                    OBJECT [9311,9900]
                                        FIELD [9312,9368]
                                            String: "CI_SLACK_BOT_TOKEN" [9312,9332]
                                            STRING [9333,9368]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [9333,9368]
                                        FIELD [9369,9427]
                                            String: "CI_SLACK_CHANNEL_ID" [9369,9390]
                                            STRING [9391,9427]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [9391,9427]
                                        FIELD [9428,9498]
                                            String: "CI_SLACK_CHANNEL_ID_DAILY" [9428,9455]
                                            STRING [9456,9498]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY }}" [9456,9498]
                                        FIELD [9499,9575]
                                            String: "CI_SLACK_CHANNEL_DUMMY_TESTS" [9499,9529]
                                            STRING [9530,9575]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_DUMMY_TESTS }}" [9530,9575]
                                        FIELD [9576,9653]
                                            String: "CI_SLACK_REPORT_CHANNEL_ID" [9576,9604]
                                            STRING [9605,9653]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_PAST_FUTURE }}" [9605,9653]
                                        FIELD [9654,9718]
                                            String: "ACCESS_REPO_INFO_TOKEN" [9654,9678]
                                            STRING [9679,9718]
                                                String: "${{ secrets.ACCESS_REPO_INFO_TOKEN }}" [9679,9718]
                                        FIELD [9719,9742]
                                            String: "CI_EVENT" [9719,9729]
                                            STRING [9730,9742]
                                                String: "Nightly CI" [9730,9742]
                                        FIELD [9743,9800]
                                            String: "RUNNER_STATUS" [9743,9758]
                                            STRING [9759,9800]
                                                String: "${{ needs.check_runner_status.result }}" [9759,9800]
                                        FIELD [9801,9856]
                                            String: "RUNNER_ENV_STATUS" [9801,9820]
                                            STRING [9821,9856]
                                                String: "${{ needs.check_runners.result }}" [9821,9856]
                                        FIELD [9857,9899]
                                            String: "SETUP_STATUS" [9857,9871]
                                            STRING [9872,9899]
                                                String: "${{ needs.setup.result }}" [9872,9899]
                                FIELD [9901,10028]
                                    String: "run" [9901,9906]
                                    STRING [9907,10028]
                                        String: "pip install slack_sdk\npip show slack_sdk\npython utils/notification_service.py \"${{ needs.setup.outputs.matrix }}\"\n" [9907,10028]
                            OBJECT [10030,10105]
                                FIELD [10031,10068]
                                    String: "uses" [10031,10037]
                                    STRING [10038,10068]
                                        String: "geekyeggo/delete-artifact@v2" [10038,10068]
                                FIELD [10069,10104]
                                    String: "with" [10069,10075]
                                    OBJECT [10076,10104]
                                        FIELD [10077,10103]
                                            String: "name" [10077,10083]
                                            STRING [10084,10103]
                                                String: "single-*\nmulti-*" [10084,10103]