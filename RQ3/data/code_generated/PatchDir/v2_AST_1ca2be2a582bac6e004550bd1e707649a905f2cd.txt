OBJECT [0,4092]
    FIELD [1,24]
        String: "name" [1,7]
        STRING [8,24]
            String: "OctoBot-Docker" [8,24]
    FIELD [25,88]
        String: "on" [25,29]
        OBJECT [30,88]
            FIELD [31,67]
                String: "push" [31,37]
                OBJECT [38,67]
                    FIELD [39,66]
                        String: "branches" [39,49]
                        ARRAY [50,66]
                            STRING [51,59]
                                String: "master" [51,59]
                            STRING [60,65]
                                String: "dev" [60,65]
            FIELD [68,87]
                String: "pull_request" [68,82]
                NULL [83,87]
    FIELD [89,4091]
        String: "jobs" [89,95]
        OBJECT [96,4091]
            FIELD [97,361]
                String: "lint" [97,103]
                OBJECT [104,361]
                    FIELD [105,143]
                        String: "name" [105,111]
                        STRING [112,143]
                            String: "ubuntu-latest - Docker - lint" [112,143]
                    FIELD [144,169]
                        String: "runs-on" [144,153]
                        STRING [154,169]
                            String: "ubuntu-latest" [154,169]
                    FIELD [170,360]
                        String: "steps" [170,177]
                        ARRAY [178,360]
                            OBJECT [179,209]
                                FIELD [180,208]
                                    String: "uses" [180,186]
                                    STRING [187,208]
                                        String: "actions/checkout@v2" [187,208]
                            OBJECT [210,359]
                                FIELD [211,232]
                                    String: "name" [211,217]
                                    STRING [218,232]
                                        String: "Run hadolint" [218,232]
                                FIELD [233,270]
                                    String: "uses" [233,239]
                                    STRING [240,270]
                                        String: "reviewdog/action-hadolint@v1" [240,270]
                                FIELD [271,358]
                                    String: "with" [271,277]
                                    OBJECT [278,358]
                                        FIELD [279,323]
                                            String: "github_token" [279,293]
                                            STRING [294,323]
                                                String: "${{ secrets.github_token }}" [294,323]
                                        FIELD [324,357]
                                            String: "hadolint_ignore" [324,341]
                                            STRING [342,357]
                                                String: "DL3013 DL3008" [342,357]
            FIELD [362,1760]
                String: "build_and_test" [362,378]
                OBJECT [379,1760]
                    FIELD [380,394]
                        String: "needs" [380,387]
                        STRING [388,394]
                            String: "lint" [388,394]
                    FIELD [395,443]
                        String: "name" [395,401]
                        STRING [402,443]
                            String: "ubuntu-latest - Docker - build and test" [402,443]
                    FIELD [444,469]
                        String: "runs-on" [444,453]
                        STRING [454,469]
                            String: "ubuntu-latest" [454,469]
                    FIELD [470,1759]
                        String: "steps" [470,477]
                        ARRAY [478,1759]
                            OBJECT [479,509]
                                FIELD [480,508]
                                    String: "uses" [480,486]
                                    STRING [487,508]
                                        String: "actions/checkout@v2" [487,508]
                            OBJECT [510,970]
                                FIELD [511,545]
                                    String: "name" [511,517]
                                    STRING [518,545]
                                        String: "Set Environment Variables" [518,545]
                                FIELD [546,969]
                                    String: "run" [546,551]
                                    STRING [552,969]
                                        String: "OWNER=\"$(echo \"${{ github.repository_owner }}\" | tr '[:upper:]' '[:lower:]' | tr -d '-')\"\nIMG=octobot\necho \"VERSION=${GITHUB_REF##*/}\" >> $GITHUB_ENV\necho \"IMAGE=${OWNER}/${IMG}\" >> $GITHUB_ENV\necho \"LATEST=latest\" >> $GITHUB_ENV\necho \"TEST=test\" >> $GITHUB_ENV\necho \"STABLE=stable\" >> $GITHUB_ENV\necho \"CONTAINER_NAME=octobot\" >> $GITHUB_ENV\necho \"WAIT_CONTAINER_TIME=90\" >> $GITHUB_ENV\n" [552,969]
                            OBJECT [971,1208]
                                FIELD [972,993]
                                    String: "name" [972,978]
                                    STRING [979,993]
                                        String: "Docker build" [979,993]
                                FIELD [994,1207]
                                    String: "run" [994,999]
                                    STRING [1000,1207]
                                        String: "docker build -f ./Dockerfile -t ${{ env.IMAGE }}:${{ env.LATEST }} .\ndocker build -f ./tests/Dockerfile --build-arg OCTOBOT_IMAGE=${{ env.IMAGE }}:${{ env.LATEST }} -t ${{ env.IMAGE }}:${{ env.TEST }} .\n" [1000,1207]
                            OBJECT [1209,1374]
                                FIELD [1210,1238]
                                    String: "name" [1210,1216]
                                    STRING [1217,1238]
                                        String: "run tests in docker" [1217,1238]
                                FIELD [1239,1373]
                                    String: "run" [1239,1244]
                                    STRING [1245,1373]
                                        String: "docker run -i -e TENTACLES_PACKAGES_SOURCE=dev -e TENTACLES_URL_TAG=${GITHUB_HEAD_REF////_} ${{ env.IMAGE }}:${{ env.TEST }}\n" [1245,1373]
                            OBJECT [1375,1758]
                                FIELD [1376,1417]
                                    String: "name" [1376,1382]
                                    STRING [1383,1417]
                                        String: "run and check health after start" [1383,1417]
                                FIELD [1418,1757]
                                    String: "run" [1418,1423]
                                    STRING [1424,1757]
                                        String: "docker run -id -e TENTACLES_PACKAGES_SOURCE=dev -e TENTACLES_URL_TAG=${GITHUB_HEAD_REF////_} --name ${{ env.CONTAINER_NAME }} ${{ env.IMAGE }}:${{ env.LATEST }}\nsleep ${{ env.WAIT_CONTAINER_TIME }}\ndocker logs ${{ env.CONTAINER_NAME }}\ndocker inspect ${{ env.CONTAINER_NAME }} | jq '.[].State.Health.Status' | grep \"healthy\"\n" [1424,1757]
            FIELD [1761,3815]
                String: "push" [1761,1767]
                OBJECT [1768,3815]
                    FIELD [1769,1793]
                        String: "needs" [1769,1776]
                        STRING [1777,1793]
                            String: "build_and_test" [1777,1793]
                    FIELD [1794,1832]
                        String: "name" [1794,1800]
                        STRING [1801,1832]
                            String: "ubuntu-latest - Docker - push" [1801,1832]
                    FIELD [1833,1858]
                        String: "runs-on" [1833,1842]
                        STRING [1843,1858]
                            String: "ubuntu-latest" [1843,1858]
                    FIELD [1859,3814]
                        String: "steps" [1859,1866]
                        ARRAY [1867,3814]
                            OBJECT [1868,1898]
                                FIELD [1869,1897]
                                    String: "uses" [1869,1875]
                                    STRING [1876,1897]
                                        String: "actions/checkout@v2" [1876,1897]
                            OBJECT [1899,2228]
                                FIELD [1900,1934]
                                    String: "name" [1900,1906]
                                    STRING [1907,1934]
                                        String: "Set Environment Variables" [1907,1934]
                                FIELD [1935,2227]
                                    String: "run" [1935,1940]
                                    STRING [1941,2227]
                                        String: "OWNER=\"$(echo \"${{ github.repository_owner }}\" | tr '[:upper:]' '[:lower:]' | tr -d '-')\"\nIMG=octobot\necho \"VERSION=${GITHUB_REF##*/}\" >> $GITHUB_ENV\necho \"IMAGE=${OWNER}/${IMG}\" >> $GITHUB_ENV\necho \"LATEST=latest\" >> $GITHUB_ENV\necho \"STABLE=stable\" >> $GITHUB_ENV\n" [1941,2227]
                            OBJECT [2229,2288]
                                FIELD [2230,2250]
                                    String: "name" [2230,2236]
                                    STRING [2237,2250]
                                        String: "Set up QEMU" [2237,2250]
                                FIELD [2251,2287]
                                    String: "uses" [2251,2257]
                                    STRING [2258,2287]
                                        String: "docker/setup-qemu-action@v1" [2258,2287]
                            OBJECT [2289,2359]
                                FIELD [2290,2319]
                                    String: "name" [2290,2296]
                                    STRING [2297,2319]
                                        String: "Set up Docker Buildx" [2297,2319]
                                FIELD [2320,2358]
                                    String: "uses" [2320,2326]
                                    STRING [2327,2358]
                                        String: "docker/setup-buildx-action@v1" [2327,2358]
                            OBJECT [2360,2547]
                                FIELD [2361,2389]
                                    String: "name" [2361,2367]
                                    STRING [2368,2389]
                                        String: "Cache Docker layers" [2368,2389]
                                FIELD [2390,2415]
                                    String: "uses" [2390,2396]
                                    STRING [2397,2415]
                                        String: "actions/cache@v2" [2397,2415]
                                FIELD [2416,2546]
                                    String: "with" [2416,2422]
                                    OBJECT [2423,2546]
                                        FIELD [2424,2451]
                                            String: "path" [2424,2430]
                                            STRING [2431,2451]
                                                String: "/tmp/.buildx-cache" [2431,2451]
                                        FIELD [2452,2501]
                                            String: "key" [2452,2457]
                                            STRING [2458,2501]
                                                String: "${{ runner.os }}-buildx-${{ github.sha }}" [2458,2501]
                                        FIELD [2502,2545]
                                            String: "restore-keys" [2502,2516]
                                            STRING [2517,2545]
                                                String: "${{ runner.os }}-buildx-\n" [2517,2545]
                            OBJECT [2548,2709]
                                FIELD [2549,2576]
                                    String: "name" [2549,2555]
                                    STRING [2556,2576]
                                        String: "Login to DockerHub" [2556,2576]
                                FIELD [2577,2608]
                                    String: "uses" [2577,2583]
                                    STRING [2584,2608]
                                        String: "docker/login-action@v1" [2584,2608]
                                FIELD [2609,2708]
                                    String: "with" [2609,2615]
                                    OBJECT [2616,2708]
                                        FIELD [2617,2663]
                                            String: "username" [2617,2627]
                                            STRING [2628,2663]
                                                String: "${{ secrets.DOCKERHUB_USERNAME }}" [2628,2663]
                                        FIELD [2664,2707]
                                            String: "password" [2664,2674]
                                            STRING [2675,2707]
                                                String: "${{ secrets.DOCKERHUB_TOKEN }}" [2675,2707]
                            OBJECT [2710,3213]
                                FIELD [2711,2741]
                                    String: "name" [2711,2717]
                                    STRING [2718,2741]
                                        String: "Build and push latest" [2718,2741]
                                FIELD [2742,2850]
                                    String: "if" [2742,2746]
                                    STRING [2747,2850]
                                        String: "github.event_name == 'push' && !startsWith(github.ref, 'refs/tags') && github.ref == 'refs/heads/dev'" [2747,2850]
                                FIELD [2851,2887]
                                    String: "uses" [2851,2857]
                                    STRING [2858,2887]
                                        String: "docker/build-push-action@v2" [2858,2887]
                                FIELD [2888,3212]
                                    String: "with" [2888,2894]
                                    OBJECT [2895,3212]
                                        FIELD [2896,2909]
                                            String: "context" [2896,2905]
                                            STRING [2906,2909]
                                                String: "." [2906,2909]
                                        FIELD [2910,2954]
                                            String: "builder" [2910,2919]
                                            STRING [2920,2954]
                                                String: "${{ steps.buildx.outputs.name }}" [2920,2954]
                                        FIELD [2955,3005]
                                            String: "platforms" [2955,2966]
                                            STRING [2967,3005]
                                                String: "linux/amd64,linux/arm/v7,linux/arm64" [2967,3005]
                                        FIELD [3006,3017]
                                            String: "push" [3006,3012]
                                            TRUE [3013,3017]
                                        FIELD [3018,3061]
                                            String: "tags" [3018,3024]
                                            STRING [3025,3061]
                                                String: "${{ env.IMAGE }}:${{ env.LATEST }}" [3025,3061]
                                        FIELD [3062,3114]
                                            String: "build-args" [3062,3074]
                                            STRING [3075,3114]
                                                String: "TENTACLES_URL_TAG=${{ env.LATEST }}\n" [3075,3114]
                                        FIELD [3115,3163]
                                            String: "cache-from" [3115,3127]
                                            STRING [3128,3163]
                                                String: "type=local,src=/tmp/.buildx-cache" [3128,3163]
                                        FIELD [3164,3211]
                                            String: "cache-to" [3164,3174]
                                            STRING [3175,3211]
                                                String: "type=local,dest=/tmp/.buildx-cache" [3175,3211]
                            OBJECT [3214,3726]
                                FIELD [3215,3245]
                                    String: "name" [3215,3221]
                                    STRING [3222,3245]
                                        String: "Build and push on tag" [3222,3245]
                                FIELD [3246,3319]
                                    String: "if" [3246,3250]
                                    STRING [3251,3319]
                                        String: "github.event_name == 'push' && startsWith(github.ref, 'refs/tags')" [3251,3319]
                                FIELD [3320,3356]
                                    String: "uses" [3320,3326]
                                    STRING [3327,3356]
                                        String: "docker/build-push-action@v2" [3327,3356]
                                FIELD [3357,3725]
                                    String: "with" [3357,3363]
                                    OBJECT [3364,3725]
                                        FIELD [3365,3378]
                                            String: "context" [3365,3374]
                                            STRING [3375,3378]
                                                String: "." [3375,3378]
                                        FIELD [3379,3400]
                                            String: "file" [3379,3385]
                                            STRING [3386,3400]
                                                String: "./Dockerfile" [3386,3400]
                                        FIELD [3401,3445]
                                            String: "builder" [3401,3410]
                                            STRING [3411,3445]
                                                String: "${{ steps.buildx.outputs.name }}" [3411,3445]
                                        FIELD [3446,3496]
                                            String: "platforms" [3446,3457]
                                            STRING [3458,3496]
                                                String: "linux/amd64,linux/arm/v7,linux/arm64" [3458,3496]
                                        FIELD [3497,3508]
                                            String: "push" [3497,3503]
                                            TRUE [3504,3508]
                                        FIELD [3509,3627]
                                            String: "tags" [3509,3515]
                                            STRING [3516,3627]
                                                String: "${{ env.IMAGE }}:${{ env.LATEST }}\n${{ env.IMAGE }}:${{ env.STABLE }}\n${{ env.IMAGE }}:${{ env.VERSION }}\n" [3516,3627]
                                        FIELD [3628,3676]
                                            String: "cache-from" [3628,3640]
                                            STRING [3641,3676]
                                                String: "type=local,src=/tmp/.buildx-cache" [3641,3676]
                                        FIELD [3677,3724]
                                            String: "cache-to" [3677,3687]
                                            STRING [3688,3724]
                                                String: "type=local,dest=/tmp/.buildx-cache" [3688,3724]
                            OBJECT [3727,3813]
                                FIELD [3728,3749]
                                    String: "name" [3728,3734]
                                    STRING [3735,3749]
                                        String: "Image digest" [3735,3749]
                                FIELD [3750,3812]
                                    String: "run" [3750,3755]
                                    STRING [3756,3812]
                                        String: "echo ${{ steps.docker_build_and_psuh.outputs.digest }}" [3756,3812]
            FIELD [3816,4090]
                String: "notify" [3816,3824]
                OBJECT [3825,4090]
                    FIELD [3826,3841]
                        String: "name" [3826,3832]
                        STRING [3833,3841]
                            String: "Notify" [3833,3841]
                    FIELD [3842,3867]
                        String: "runs-on" [3842,3851]
                        STRING [3852,3867]
                            String: "ubuntu-latest" [3852,3867]
                    FIELD [3868,3908]
                        String: "needs" [3868,3875]
                        ARRAY [3876,3908]
                            STRING [3877,3883]
                                String: "lint" [3877,3883]
                            STRING [3884,3900]
                                String: "build_and_test" [3884,3900]
                            STRING [3901,3907]
                                String: "push" [3901,3907]
                    FIELD [3909,3932]
                        String: "if" [3909,3913]
                        STRING [3914,3932]
                            String: "${{ failure() }}" [3914,3932]
                    FIELD [3933,4089]
                        String: "steps" [3933,3940]
                        ARRAY [3941,4089]
                            OBJECT [3942,4088]
                                FIELD [3943,3966]
                                    String: "name" [3943,3949]
                                    STRING [3950,3966]
                                        String: "Notify discord" [3950,3966]
                                FIELD [3967,4009]
                                    String: "uses" [3967,3973]
                                    STRING [3974,4009]
                                        String: "sarisia/actions-status-discord@v1" [3974,4009]
                                FIELD [4010,4087]
                                    String: "with" [4010,4016]
                                    OBJECT [4017,4087]
                                        FIELD [4018,4036]
                                            String: "status" [4018,4026]
                                            STRING [4027,4036]
                                                String: "Failure" [4027,4036]
                                        FIELD [4037,4086]
                                            String: "webhook" [4037,4046]
                                            STRING [4047,4086]
                                                String: "${{ secrets.DISCORD_GITHUB_WEBHOOK }}" [4047,4086]