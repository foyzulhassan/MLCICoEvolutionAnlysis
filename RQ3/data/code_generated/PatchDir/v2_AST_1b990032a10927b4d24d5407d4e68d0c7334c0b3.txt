OBJECT [0,4620]
    FIELD [1,20]
        String: "name" [1,7]
        STRING [8,20]
            String: "MacRelease" [8,20]
    FIELD [21,172]
        String: "on" [21,25]
        OBJECT [26,172]
            FIELD [27,64]
                String: "schedule" [27,37]
                ARRAY [38,64]
                    OBJECT [39,63]
                        FIELD [40,62]
                            String: "cron" [40,46]
                            STRING [47,62]
                                String: "00 00 * * MON" [47,62]
            FIELD [65,101]
                String: "push" [65,71]
                OBJECT [72,101]
                    FIELD [73,100]
                        String: "branches" [73,83]
                        ARRAY [84,100]
                            STRING [85,91]
                                String: "main" [85,91]
                            STRING [92,99]
                                String: "rel-*" [92,99]
            FIELD [102,146]
                String: "pull_request" [102,116]
                OBJECT [117,146]
                    FIELD [118,145]
                        String: "branches" [118,128]
                        ARRAY [129,145]
                            STRING [130,136]
                                String: "main" [130,136]
                            STRING [137,144]
                                String: "rel-*" [137,144]
            FIELD [147,171]
                String: "workflow_dispatch" [147,166]
                NULL [167,171]
    FIELD [173,213]
        String: "env" [173,178]
        OBJECT [179,213]
            FIELD [180,212]
                String: "MACOSX_DEPLOYMENT_TARGET" [180,206]
                NUMBER [207,212]
                    Number: 10.12 [207,212]
    FIELD [214,247]
        String: "permissions" [214,227]
        OBJECT [228,247]
            FIELD [229,246]
                String: "contents" [229,239]
                STRING [240,246]
                    String: "read" [240,246]
    FIELD [248,4619]
        String: "jobs" [248,254]
        OBJECT [255,4619]
            FIELD [256,4618]
                String: "build" [256,263]
                OBJECT [264,4618]
                    FIELD [265,420]
                        String: "if" [265,269]
                        STRING [270,420]
                            String: "github.event_name != 'pull_request' || startsWith( github.base_ref, 'rel-') || contains( github.event.pull_request.labels.*.name, 'run release CIs')" [270,420]
                    FIELD [421,445]
                        String: "runs-on" [421,430]
                        STRING [431,445]
                            String: "macos-latest" [431,445]
                    FIELD [446,594]
                        String: "strategy" [446,456]
                        OBJECT [457,594]
                            FIELD [458,593]
                                String: "matrix" [458,466]
                                OBJECT [467,593]
                                    FIELD [468,518]
                                        String: "python-version" [468,484]
                                        ARRAY [485,518]
                                            STRING [486,491]
                                                String: "3.7" [486,491]
                                            STRING [492,497]
                                                String: "3.8" [492,497]
                                            STRING [498,503]
                                                String: "3.9" [498,503]
                                            STRING [504,510]
                                                String: "3.10" [504,510]
                                            STRING [511,517]
                                                String: "3.11" [511,517]
                                    FIELD [519,546]
                                        String: "host-architecture" [519,538]
                                        ARRAY [539,546]
                                            STRING [540,545]
                                                String: "x64" [540,545]
                                    FIELD [547,592]
                                        String: "target-architecture" [547,568]
                                        ARRAY [569,592]
                                            STRING [570,578]
                                                String: "x86_64" [570,578]
                                            STRING [579,591]
                                                String: "universal2" [579,591]
                    FIELD [595,4617]
                        String: "steps" [595,602]
                        ARRAY [603,4617]
                            OBJECT [604,672]
                                FIELD [605,671]
                                    String: "uses" [605,611]
                                    STRING [612,671]
                                        String: "actions/checkout@ac593985615ec2ede58e132d2e21d2b1cbd6127c" [612,671]
                            OBJECT [673,959]
                                FIELD [674,702]
                                    String: "name" [674,680]
                                    STRING [681,702]
                                        String: "Checkout submodules" [681,702]
                                FIELD [703,717]
                                    String: "shell" [703,710]
                                    STRING [711,717]
                                        String: "bash" [711,717]
                                FIELD [718,958]
                                    String: "run" [718,723]
                                    STRING [724,958]
                                        String: "auth_header=\"$(git config --local --get http.https://github.com/.extraheader)\"\ngit submodule sync --recursive\ngit -c \"http.extraheader=$auth_header\" -c protocol.version=2 submodule update --init --force --recursive --depth=1\n" [724,958]
                            OBJECT [960,1190]
                                FIELD [961,1012]
                                    String: "name" [961,967]
                                    STRING [968,1012]
                                        String: "Set up Python ${{ matrix.python-version }}" [968,1012]
                                FIELD [1013,1083]
                                    String: "uses" [1013,1019]
                                    STRING [1020,1083]
                                        String: "actions/setup-python@d27e3f3d7c64b4bbf8e4abfb9b63b83e846e0435" [1020,1083]
                                FIELD [1084,1189]
                                    String: "with" [1084,1090]
                                    OBJECT [1091,1189]
                                        FIELD [1092,1139]
                                            String: "python-version" [1092,1108]
                                            STRING [1109,1139]
                                                String: "${{ matrix.python-version }}" [1109,1139]
                                        FIELD [1140,1188]
                                            String: "architecture" [1140,1154]
                                            STRING [1155,1188]
                                                String: "${{ matrix.host-architecture }}" [1155,1188]
                            OBJECT [1191,1332]
                                FIELD [1192,1228]
                                    String: "name" [1192,1198]
                                    STRING [1199,1228]
                                        String: "Install Python dependencies" [1199,1228]
                                FIELD [1229,1331]
                                    String: "run" [1229,1234]
                                    STRING [1235,1331]
                                        String: "python -m pip install -q --upgrade pip\npython -m pip install -q -r requirements-release.txt\n" [1235,1331]
                            OBJECT [1333,2352]
                                FIELD [1334,1366]
                                    String: "name" [1334,1340]
                                    STRING [1341,1366]
                                        String: "Build wheel and install" [1341,1366]
                                FIELD [1367,1415]
                                    String: "env" [1367,1372]
                                    OBJECT [1373,1415]
                                        FIELD [1374,1386]
                                            String: "CC" [1374,1378]
                                            STRING [1379,1386]
                                                String: "clang" [1379,1386]
                                        FIELD [1387,1402]
                                            String: "CXX" [1387,1392]
                                            STRING [1393,1402]
                                                String: "clang++" [1393,1402]
                                        FIELD [1403,1414]
                                            String: "ONNX_ML" [1403,1412]
                                            NUMBER [1413,1414]
                                                Number: 1 [1413,1414]
                                FIELD [1416,2351]
                                    String: "run" [1416,1421]
                                    STRING [1422,2351]
                                        String: "# Install Protobuf from source\nexport NUM_CORES=`sysctl -n hw.logicalcpu`\nif [ '${{ matrix.target-architecture }}' == 'x86_64' ]; then\n  export CMAKE_OSX_ARCHITECTURES=x86_64\nelif [ '${{ matrix.target-architecture }}' == 'universal2' ]; then\n  export CMAKE_OSX_ARCHITECTURES='arm64;x86_64'\nfi\nsource workflow_scripts/protobuf/build_protobuf_unix.sh $NUM_CORES $(pwd)/protobuf/protobuf_install\nexport CMAKE_ARGS=\"-DONNX_USE_LITE_PROTO=ON\"\n# Currently GitHub Action agent is using macos-11, use -p to force change the final MACOSX_DEPLOYMENT_TARGET\n# Change -p if MACOSX_DEPLOYMENT_TARGET is different\nif [ '${{ github.event_name }}' == 'schedule' ]; then\n  python setup.py bdist_wheel -p macosx_10_12_${{ matrix.target-architecture }} --weekly_build\nelse\n  python setup.py bdist_wheel -p macosx_10_12_${{ matrix.target-architecture }}\nfi\nfor file in dist/*.whl; do python -m pip install --upgrade $file; done\n" [1422,2351]
                            OBJECT [2353,2405]
                                FIELD [2354,2387]
                                    String: "name" [2354,2360]
                                    STRING [2361,2387]
                                        String: "Test the installed wheel" [2361,2387]
                                FIELD [2388,2404]
                                    String: "run" [2388,2393]
                                    STRING [2394,2404]
                                        String: "pytest\n" [2394,2404]
                            OBJECT [2406,2520]
                                FIELD [2407,2480]
                                    String: "uses" [2407,2413]
                                    STRING [2414,2480]
                                        String: "actions/upload-artifact@0b7f8abb1508181956e8e162db84b466c27e18ce" [2414,2480]
                                FIELD [2481,2519]
                                    String: "with" [2481,2487]
                                    OBJECT [2488,2519]
                                        FIELD [2489,2504]
                                            String: "name" [2489,2495]
                                            STRING [2496,2504]
                                                String: "wheels" [2496,2504]
                                        FIELD [2505,2518]
                                            String: "path" [2505,2511]
                                            STRING [2512,2518]
                                                String: "dist" [2512,2518]
                            OBJECT [2521,2986]
                                FIELD [2522,2567]
                                    String: "name" [2522,2528]
                                    STRING [2529,2567]
                                        String: "Upload wheel to TestPyPI/PyPI weekly" [2529,2567]
                                FIELD [2568,2606]
                                    String: "if" [2568,2572]
                                    STRING [2573,2606]
                                        String: "github.event_name == 'schedule'" [2573,2606]
                                FIELD [2607,2985]
                                    String: "run" [2607,2612]
                                    STRING [2613,2985]
                                        String: "twine upload --verbose dist/*.whl --repository-url https://upload.pypi.org/legacy/ -u ${{ secrets.ONNXWEEKLY_USERNAME }} -p ${{ secrets.ONNXWEEKLY_TOKEN }}\n# TODO: stop uploading to TestPyPI after future ONNX 1.14\ntwine upload --verbose dist/*.whl --repository-url https://test.pypi.org/legacy/ -u ${{ secrets.TESTPYPI_USERNAME }} -p ${{ secrets.TESTPYPI_PASSWORD }}\n" [2613,2985]
                            OBJECT [2987,3213]
                                FIELD [2988,3030]
                                    String: "name" [2988,2994]
                                    STRING [2995,3030]
                                        String: "Verify ONNX with the latest numpy" [2995,3030]
                                FIELD [3031,3053]
                                    String: "if" [3031,3035]
                                    STRING [3036,3053]
                                        String: "${{ always() }}" [3036,3053]
                                FIELD [3054,3212]
                                    String: "run" [3054,3059]
                                    STRING [3060,3212]
                                        String: "python -m pip uninstall -y numpy onnx && python -m pip install numpy\nfor file in dist/*.whl; do python -m pip install --upgrade $file; done\npytest\n" [3060,3212]
                            OBJECT [3214,3449]
                                FIELD [3215,3260]
                                    String: "name" [3215,3221]
                                    STRING [3222,3260]
                                        String: "Verify ONNX with the latest protobuf" [3222,3260]
                                FIELD [3261,3283]
                                    String: "if" [3261,3265]
                                    STRING [3266,3283]
                                        String: "${{ always() }}" [3266,3283]
                                FIELD [3284,3448]
                                    String: "run" [3284,3289]
                                    STRING [3290,3448]
                                        String: "python -m pip uninstall -y protobuf onnx && python -m pip install protobuf\nfor file in dist/*.whl; do python -m pip install --upgrade $file; done\npytest\n" [3290,3448]
                            OBJECT [3450,3728]
                                FIELD [3451,3531]
                                    String: "name" [3451,3457]
                                    STRING [3458,3531]
                                        String: "Verify ONNX with the minimum supported protobuf (from requirements.txt)" [3458,3531]
                                FIELD [3532,3554]
                                    String: "if" [3532,3536]
                                    STRING [3537,3554]
                                        String: "${{ always() }}" [3537,3554]
                                FIELD [3555,3727]
                                    String: "run" [3555,3560]
                                    STRING [3561,3727]
                                        String: "python -m pip uninstall -y protobuf onnx && python -m pip install protobuf==3.20.2\nfor file in dist/*.whl; do python -m pip install --upgrade $file; done\npytest\n" [3561,3727]
                            OBJECT [3729,3911]
                                FIELD [3730,3781]
                                    String: "name" [3730,3736]
                                    STRING [3737,3781]
                                        String: "Verify ONNX with ONNX Runtime PyPI package" [3737,3781]
                                FIELD [3782,3820]
                                    String: "if" [3782,3786]
                                    STRING [3787,3820]
                                        String: "matrix.python-version != '3.11'" [3787,3820]
                                FIELD [3821,3910]
                                    String: "run" [3821,3826]
                                    STRING [3827,3910]
                                        String: "python -m pip install -q onnxruntime==1.13.1\npython onnx/test/test_with_ort.py\n" [3827,3910]
                            OBJECT [3912,4616]
                                FIELD [3913,3973]
                                    String: "name" [3913,3919]
                                    STRING [3920,3973]
                                        String: "Build and upload source distribution to PyPI weekly" [3920,3973]
                                FIELD [3974,4089]
                                    String: "if" [3974,3978]
                                    STRING [3979,4089]
                                        String: "github.event_name == 'schedule' && matrix.python-version == '3.10' && matrix.target-architecture == 'x86_64'" [3979,4089]
                                FIELD [4090,4615]
                                    String: "run" [4090,4095]
                                    STRING [4096,4615]
                                        String: "# Build and upload source distribution to PyPI\ngit clean -xdf\npython setup.py sdist --weekly_build\ntwine upload dist/* --repository-url https://upload.pypi.org/legacy/ -u ${{ secrets.ONNXWEEKLY_USERNAME }} -p ${{ secrets.ONNXWEEKLY_TOKEN }}\n\n# Test weekly source distribution from PyPI\npython -m pip uninstall -y onnx\npython -m pip install setuptools\npython -m pip install --index-url https://upload.pypi.org/legacy/ --use-deprecated=legacy-resolver --no-use-pep517 --no-binary onnx-weekly onnx-weekly\npytest" [4096,4615]