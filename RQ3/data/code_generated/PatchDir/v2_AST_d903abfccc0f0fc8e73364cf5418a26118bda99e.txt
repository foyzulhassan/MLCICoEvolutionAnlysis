OBJECT [0,10585]
    FIELD [1,43]
        String: "name" [1,7]
        STRING [8,43]
            String: "Self-hosted runner AMD GPU (push)" [8,43]
    FIELD [44,126]
        String: "on" [44,48]
        OBJECT [49,126]
            FIELD [50,125]
                String: "workflow_call" [50,65]
                OBJECT [66,125]
                    FIELD [67,124]
                        String: "inputs" [67,75]
                        OBJECT [76,124]
                            FIELD [77,123]
                                String: "gpu_flavor" [77,89]
                                OBJECT [90,123]
                                    FIELD [91,106]
                                        String: "required" [91,101]
                                        TRUE [102,106]
                                    FIELD [107,122]
                                        String: "type" [107,113]
                                        STRING [114,122]
                                            String: "string" [114,122]
    FIELD [127,302]
        String: "env" [127,132]
        OBJECT [133,302]
            FIELD [134,156]
                String: "HF_HOME" [134,143]
                STRING [144,156]
                    String: "/mnt/cache" [144,156]
            FIELD [157,182]
                String: "TRANSFORMERS_IS_CI" [157,177]
                TRUE [178,182]
            FIELD [183,202]
                String: "OMP_NUM_THREADS" [183,200]
                NUMBER [201,202]
                    Number: 8 [201,202]
            FIELD [203,222]
                String: "MKL_NUM_THREADS" [203,220]
                NUMBER [221,222]
                    Number: 8 [221,222]
            FIELD [223,242]
                String: "PYTEST_TIMEOUT" [223,239]
                NUMBER [240,242]
                    Number: 60 [240,242]
            FIELD [243,275]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [243,270]
                TRUE [271,275]
            FIELD [276,301]
                String: "RUN_PT_TF_CROSS_TESTS" [276,299]
                NUMBER [300,301]
                    Number: 1 [300,301]
    FIELD [303,10584]
        String: "jobs" [303,309]
        OBJECT [310,10584]
            FIELD [311,666]
                String: "check_runner_status" [311,332]
                OBJECT [333,666]
                    FIELD [334,362]
                        String: "name" [334,340]
                        STRING [341,362]
                            String: "Check Runner Status" [341,362]
                    FIELD [363,387]
                        String: "runs-on" [363,372]
                        STRING [373,387]
                            String: "ubuntu-22.04" [373,387]
                    FIELD [388,665]
                        String: "steps" [388,395]
                        ARRAY [396,665]
                            OBJECT [397,483]
                                FIELD [398,428]
                                    String: "name" [398,404]
                                    STRING [405,428]
                                        String: "Checkout transformers" [405,428]
                                FIELD [429,457]
                                    String: "uses" [429,435]
                                    STRING [436,457]
                                        String: "actions/checkout@v3" [436,457]
                                FIELD [458,482]
                                    String: "with" [458,464]
                                    OBJECT [465,482]
                                        FIELD [466,481]
                                            String: "fetch-depth" [466,479]
                                            NUMBER [480,481]
                                                Number: 2 [480,481]
                            OBJECT [484,664]
                                FIELD [485,513]
                                    String: "name" [485,491]
                                    STRING [492,513]
                                        String: "Check Runner Status" [492,513]
                                FIELD [514,663]
                                    String: "run" [514,519]
                                    STRING [520,663]
                                        String: "python utils/check_self_hosted_runner.py --target_runners amd-mi210-single-gpu-ci-runner-docker --token ${{ secrets.ACCESS_REPO_INFO_TOKEN }}" [520,663]
            FIELD [667,1346]
                String: "check_runners" [667,682]
                OBJECT [683,1346]
                    FIELD [684,706]
                        String: "name" [684,690]
                        STRING [691,706]
                            String: "Check Runners" [691,706]
                    FIELD [707,736]
                        String: "needs" [707,714]
                        STRING [715,736]
                            String: "check_runner_status" [715,736]
                    FIELD [737,802]
                        String: "strategy" [737,747]
                        OBJECT [748,802]
                            FIELD [749,801]
                                String: "matrix" [749,757]
                                OBJECT [758,801]
                                    FIELD [759,800]
                                        String: "machine_type" [759,773]
                                        ARRAY [774,800]
                                            STRING [775,787]
                                                String: "single-gpu" [775,787]
                                            STRING [788,799]
                                                String: "multi-gpu" [788,799]
                    FIELD [803,907]
                        String: "runs-on" [803,812]
                        ARRAY [813,907]
                            STRING [814,827]
                                String: "self-hosted" [814,827]
                            STRING [828,840]
                                String: "docker-gpu" [828,840]
                            STRING [841,850]
                                String: "amd-gpu" [841,850]
                            STRING [851,879]
                                String: "${{ matrix.machine_type }}" [851,879]
                            STRING [880,906]
                                String: "${{ inputs.gpu_flavor }}" [880,906]
                    FIELD [908,1157]
                        String: "container" [908,919]
                        OBJECT [920,1157]
                            FIELD [921,979]
                                String: "image" [921,928]
                                STRING [929,979]
                                    String: "huggingface/transformers-pytorch-amd-gpu-push-ci" [929,979]
                            FIELD [980,1156]
                                String: "options" [980,989]
                                STRING [990,1156]
                                    String: "--device /dev/kfd --device /dev/dri --env HIP_VISIBLE_DEVICES --env ROCR_VISIBLE_DEVICES --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [990,1156]
                    FIELD [1158,1345]
                        String: "steps" [1158,1165]
                        ARRAY [1166,1345]
                            OBJECT [1167,1229]
                                FIELD [1168,1185]
                                    String: "name" [1168,1174]
                                    STRING [1175,1185]
                                        String: "ROCM-SMI" [1175,1185]
                                FIELD [1186,1228]
                                    String: "run" [1186,1191]
                                    STRING [1192,1228]
                                        String: "rocminfo  | grep \"Agent\" -A 14\n" [1192,1228]
                            OBJECT [1230,1344]
                                FIELD [1231,1260]
                                    String: "name" [1231,1237]
                                    STRING [1238,1260]
                                        String: "Show HIP environment" [1238,1260]
                                FIELD [1261,1343]
                                    String: "run" [1261,1266]
                                    STRING [1267,1343]
                                        String: "echo \"HIP: $HIP_VISIBLE_DEVICES\"\necho \"ROCR: $ROCR_VISIBLE_DEVICES\"\n" [1267,1343]
            FIELD [1347,4370]
                String: "setup_gpu" [1347,1358]
                OBJECT [1359,4370]
                    FIELD [1360,1374]
                        String: "name" [1360,1366]
                        STRING [1367,1374]
                            String: "Setup" [1367,1374]
                    FIELD [1375,1398]
                        String: "needs" [1375,1382]
                        STRING [1383,1398]
                            String: "check_runners" [1383,1398]
                    FIELD [1399,1464]
                        String: "strategy" [1399,1409]
                        OBJECT [1410,1464]
                            FIELD [1411,1463]
                                String: "matrix" [1411,1419]
                                OBJECT [1420,1463]
                                    FIELD [1421,1462]
                                        String: "machine_type" [1421,1435]
                                        ARRAY [1436,1462]
                                            STRING [1437,1449]
                                                String: "single-gpu" [1437,1449]
                                            STRING [1450,1461]
                                                String: "multi-gpu" [1450,1461]
                    FIELD [1465,1569]
                        String: "runs-on" [1465,1474]
                        ARRAY [1475,1569]
                            STRING [1476,1489]
                                String: "self-hosted" [1476,1489]
                            STRING [1490,1502]
                                String: "docker-gpu" [1490,1502]
                            STRING [1503,1512]
                                String: "amd-gpu" [1503,1512]
                            STRING [1513,1541]
                                String: "${{ matrix.machine_type }}" [1513,1541]
                            STRING [1542,1568]
                                String: "${{ inputs.gpu_flavor }}" [1542,1568]
                    FIELD [1570,1819]
                        String: "container" [1570,1581]
                        OBJECT [1582,1819]
                            FIELD [1583,1641]
                                String: "image" [1583,1590]
                                STRING [1591,1641]
                                    String: "huggingface/transformers-pytorch-amd-gpu-push-ci" [1591,1641]
                            FIELD [1642,1818]
                                String: "options" [1642,1651]
                                STRING [1652,1818]
                                    String: "--device /dev/kfd --device /dev/dri --env HIP_VISIBLE_DEVICES --env ROCR_VISIBLE_DEVICES --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1652,1818]
                    FIELD [1820,1935]
                        String: "outputs" [1820,1829]
                        OBJECT [1830,1935]
                            FIELD [1831,1880]
                                String: "matrix" [1831,1839]
                                STRING [1840,1880]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [1840,1880]
                            FIELD [1881,1934]
                                String: "test_map" [1881,1891]
                                STRING [1892,1934]
                                    String: "${{ steps.set-matrix.outputs.test_map }}" [1892,1934]
                    FIELD [1936,4369]
                        String: "steps" [1936,1943]
                        ARRAY [1944,4369]
                            OBJECT [1945,2662]
                                FIELD [1946,1991]
                                    String: "name" [1946,1952]
                                    STRING [1953,1991]
                                        String: "Prepare custom environment variables" [1953,1991]
                                FIELD [1992,2006]
                                    String: "shell" [1992,1999]
                                    STRING [2000,2006]
                                        String: "bash" [2000,2006]
                                FIELD [2007,2661]
                                    String: "run" [2007,2012]
                                    STRING [2013,2661]
                                        String: "CI_BRANCH_PUSH=${{ github.event.ref }}\nCI_BRANCH_PUSH=${CI_BRANCH_PUSH/'refs/heads/'/''}\nCI_BRANCH_WORKFLOW_RUN=${{ github.event.workflow_run.head_branch }}\nCI_SHA_PUSH=${{ github.event.head_commit.id }}\nCI_SHA_WORKFLOW_RUN=${{ github.event.workflow_run.head_sha }}\necho $CI_BRANCH_PUSH\necho $CI_BRANCH_WORKFLOW_RUN\necho $CI_SHA_PUSH\necho $CI_SHA_WORKFLOW_RUN\n[[ ! -z \"$CI_BRANCH_PUSH\" ]] && echo \"CI_BRANCH=$CI_BRANCH_PUSH\" >> $GITHUB_ENV || echo \"CI_BRANCH=$CI_BRANCH_WORKFLOW_RUN\" >> $GITHUB_ENV\n[[ ! -z \"$CI_SHA_PUSH\" ]] && echo \"CI_SHA=$CI_SHA_PUSH\" >> $GITHUB_ENV || echo \"CI_SHA=$CI_SHA_WORKFLOW_RUN\" >> $GITHUB_ENV\n" [2013,2661]
                            OBJECT [2663,2798]
                                FIELD [2664,2700]
                                    String: "name" [2664,2670]
                                    STRING [2671,2700]
                                        String: "print environment variables" [2671,2700]
                                FIELD [2701,2797]
                                    String: "run" [2701,2706]
                                    STRING [2707,2797]
                                        String: "echo \"env.CI_BRANCH = ${{ env.CI_BRANCH }}\"\necho \"env.CI_SHA = ${{ env.CI_SHA }}\"\n" [2707,2797]
                            OBJECT [2799,3120]
                                FIELD [2800,2849]
                                    String: "name" [2800,2806]
                                    STRING [2807,2849]
                                        String: "Update clone using environment variables" [2807,2849]
                                FIELD [2850,2885]
                                    String: "working-directory" [2850,2869]
                                    STRING [2870,2885]
                                        String: "/transformers" [2870,2885]
                                FIELD [2886,3119]
                                    String: "run" [2886,2891]
                                    STRING [2892,3119]
                                        String: "echo \"original branch = $(git branch --show-current)\"\ngit fetch && git checkout ${{ env.CI_BRANCH }}\necho \"updated branch = $(git branch --show-current)\"\ngit checkout ${{ env.CI_SHA }}\necho \"log = $(git log -n 1)\"\n" [2892,3119]
                            OBJECT [3121,3259]
                                FIELD [3122,3138]
                                    String: "name" [3122,3128]
                                    STRING [3129,3138]
                                        String: "Cleanup" [3129,3138]
                                FIELD [3139,3174]
                                    String: "working-directory" [3139,3158]
                                    STRING [3159,3174]
                                        String: "/transformers" [3159,3174]
                                FIELD [3175,3258]
                                    String: "run" [3175,3180]
                                    STRING [3181,3258]
                                        String: "rm -rf tests/__pycache__\nrm -rf tests/models/__pycache__\nrm -rf reports\n" [3181,3258]
                            OBJECT [3260,3369]
                                FIELD [3261,3313]
                                    String: "name" [3261,3267]
                                    STRING [3268,3313]
                                        String: "Show installed libraries and their versions" [3268,3313]
                                FIELD [3314,3349]
                                    String: "working-directory" [3314,3333]
                                    STRING [3334,3349]
                                        String: "/transformers" [3334,3349]
                                FIELD [3350,3368]
                                    String: "run" [3350,3355]
                                    STRING [3356,3368]
                                        String: "pip freeze" [3356,3368]
                            OBJECT [3370,3565]
                                FIELD [3371,3402]
                                    String: "name" [3371,3377]
                                    STRING [3378,3402]
                                        String: "Fetch the tests to run" [3378,3402]
                                FIELD [3403,3438]
                                    String: "working-directory" [3403,3422]
                                    STRING [3423,3438]
                                        String: "/transformers" [3423,3438]
                                FIELD [3439,3564]
                                    String: "run" [3439,3444]
                                    STRING [3445,3564]
                                        String: "pip install --upgrade git-python\npython3 utils/tests_fetcher.py --diff_with_last_commit | tee test_preparation.txt\n" [3445,3564]
                            OBJECT [3566,3708]
                                FIELD [3567,3596]
                                    String: "name" [3567,3573]
                                    STRING [3574,3596]
                                        String: "Report fetched tests" [3574,3596]
                                FIELD [3597,3632]
                                    String: "uses" [3597,3603]
                                    STRING [3604,3632]
                                        String: "actions/upload-artifact@v3" [3604,3632]
                                FIELD [3633,3707]
                                    String: "with" [3633,3639]
                                    OBJECT [3640,3707]
                                        FIELD [3641,3662]
                                            String: "name" [3641,3647]
                                            STRING [3648,3662]
                                                String: "test_fetched" [3648,3662]
                                        FIELD [3663,3706]
                                            String: "path" [3663,3669]
                                            STRING [3670,3706]
                                                String: "/transformers/test_preparation.txt" [3670,3706]
                            OBJECT [3709,4368]
                                FIELD [3710,3727]
                                    String: "id" [3710,3714]
                                    STRING [3715,3727]
                                        String: "set-matrix" [3715,3727]
                                FIELD [3728,3763]
                                    String: "name" [3728,3734]
                                    STRING [3735,3763]
                                        String: "Organize tests into models" [3735,3763]
                                FIELD [3764,3799]
                                    String: "working-directory" [3764,3783]
                                    STRING [3784,3799]
                                        String: "/transformers" [3784,3799]
                                FIELD [3800,4367]
                                    String: "run" [3800,3805]
                                    STRING [3806,4367]
                                        String: "if [ -f test_map.json ]; then\n    keys=$(python3 -c 'import json; fp = open(\"test_map.json\"); test_map = json.load(fp); fp.close(); d = list(test_map.keys()); print(d)')\n    test_map=$(python3 -c 'import json; fp = open(\"test_map.json\"); test_map = json.load(fp); fp.close(); print(test_map)')\nelse\n    keys=$(python3 -c 'keys = [\"dummy\"]; print(keys)')\n    test_map=$(python3 -c 'test_map = {\"dummy\": []}; print(test_map)')\nfi\necho $keys\necho $test_map\necho \"matrix=$keys\" >> $GITHUB_OUTPUT\necho \"test_map=$test_map\" >> $GITHUB_OUTPUT\n" [3806,4367]
            FIELD [4371,7906]
                String: "run_tests_amdgpu" [4371,4389]
                OBJECT [4390,7906]
                    FIELD [4391,4411]
                        String: "name" [4391,4397]
                        STRING [4398,4411]
                            String: "Model tests" [4398,4411]
                    FIELD [4412,4431]
                        String: "needs" [4412,4419]
                        STRING [4420,4431]
                            String: "setup_gpu" [4420,4431]
                    FIELD [4432,4506]
                        String: "if" [4432,4436]
                        STRING [4437,4506]
                            String: "contains(fromJson(needs.setup_gpu.outputs.matrix), 'dummy') != true" [4437,4506]
                    FIELD [4507,4650]
                        String: "strategy" [4507,4517]
                        OBJECT [4518,4650]
                            FIELD [4519,4536]
                                String: "fail-fast" [4519,4530]
                                FALSE [4531,4536]
                            FIELD [4537,4649]
                                String: "matrix" [4537,4545]
                                OBJECT [4546,4649]
                                    FIELD [4547,4606]
                                        String: "folders" [4547,4556]
                                        STRING [4557,4606]
                                            String: "${{ fromJson(needs.setup_gpu.outputs.matrix) }}" [4557,4606]
                                    FIELD [4607,4648]
                                        String: "machine_type" [4607,4621]
                                        ARRAY [4622,4648]
                                            STRING [4623,4635]
                                                String: "single-gpu" [4623,4635]
                                            STRING [4636,4647]
                                                String: "multi-gpu" [4636,4647]
                    FIELD [4651,4755]
                        String: "runs-on" [4651,4660]
                        ARRAY [4661,4755]
                            STRING [4662,4675]
                                String: "self-hosted" [4662,4675]
                            STRING [4676,4688]
                                String: "docker-gpu" [4676,4688]
                            STRING [4689,4698]
                                String: "amd-gpu" [4689,4698]
                            STRING [4699,4727]
                                String: "${{ matrix.machine_type }}" [4699,4727]
                            STRING [4728,4754]
                                String: "${{ inputs.gpu_flavor }}" [4728,4754]
                    FIELD [4756,5005]
                        String: "container" [4756,4767]
                        OBJECT [4768,5005]
                            FIELD [4769,4827]
                                String: "image" [4769,4776]
                                STRING [4777,4827]
                                    String: "huggingface/transformers-pytorch-amd-gpu-push-ci" [4777,4827]
                            FIELD [4828,5004]
                                String: "options" [4828,4837]
                                STRING [4838,5004]
                                    String: "--device /dev/kfd --device /dev/dri --env HIP_VISIBLE_DEVICES --env ROCR_VISIBLE_DEVICES --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [4838,5004]
                    FIELD [5006,7905]
                        String: "steps" [5006,5013]
                        ARRAY [5014,7905]
                            OBJECT [5015,5732]
                                FIELD [5016,5061]
                                    String: "name" [5016,5022]
                                    STRING [5023,5061]
                                        String: "Prepare custom environment variables" [5023,5061]
                                FIELD [5062,5076]
                                    String: "shell" [5062,5069]
                                    STRING [5070,5076]
                                        String: "bash" [5070,5076]
                                FIELD [5077,5731]
                                    String: "run" [5077,5082]
                                    STRING [5083,5731]
                                        String: "CI_BRANCH_PUSH=${{ github.event.ref }}\nCI_BRANCH_PUSH=${CI_BRANCH_PUSH/'refs/heads/'/''}\nCI_BRANCH_WORKFLOW_RUN=${{ github.event.workflow_run.head_branch }}\nCI_SHA_PUSH=${{ github.event.head_commit.id }}\nCI_SHA_WORKFLOW_RUN=${{ github.event.workflow_run.head_sha }}\necho $CI_BRANCH_PUSH\necho $CI_BRANCH_WORKFLOW_RUN\necho $CI_SHA_PUSH\necho $CI_SHA_WORKFLOW_RUN\n[[ ! -z \"$CI_BRANCH_PUSH\" ]] && echo \"CI_BRANCH=$CI_BRANCH_PUSH\" >> $GITHUB_ENV || echo \"CI_BRANCH=$CI_BRANCH_WORKFLOW_RUN\" >> $GITHUB_ENV\n[[ ! -z \"$CI_SHA_PUSH\" ]] && echo \"CI_SHA=$CI_SHA_PUSH\" >> $GITHUB_ENV || echo \"CI_SHA=$CI_SHA_WORKFLOW_RUN\" >> $GITHUB_ENV\n" [5083,5731]
                            OBJECT [5733,5868]
                                FIELD [5734,5770]
                                    String: "name" [5734,5740]
                                    STRING [5741,5770]
                                        String: "print environment variables" [5741,5770]
                                FIELD [5771,5867]
                                    String: "run" [5771,5776]
                                    STRING [5777,5867]
                                        String: "echo \"env.CI_BRANCH = ${{ env.CI_BRANCH }}\"\necho \"env.CI_SHA = ${{ env.CI_SHA }}\"\n" [5777,5867]
                            OBJECT [5869,6190]
                                FIELD [5870,5919]
                                    String: "name" [5870,5876]
                                    STRING [5877,5919]
                                        String: "Update clone using environment variables" [5877,5919]
                                FIELD [5920,5955]
                                    String: "working-directory" [5920,5939]
                                    STRING [5940,5955]
                                        String: "/transformers" [5940,5955]
                                FIELD [5956,6189]
                                    String: "run" [5956,5961]
                                    STRING [5962,6189]
                                        String: "echo \"original branch = $(git branch --show-current)\"\ngit fetch && git checkout ${{ env.CI_BRANCH }}\necho \"updated branch = $(git branch --show-current)\"\ngit checkout ${{ env.CI_SHA }}\necho \"log = $(git log -n 1)\"\n" [5962,6189]
                            OBJECT [6191,6406]
                                FIELD [6192,6289]
                                    String: "name" [6192,6198]
                                    STRING [6199,6289]
                                        String: "Reinstall transformers in edit mode (remove the one installed during docker image build)" [6199,6289]
                                FIELD [6290,6325]
                                    String: "working-directory" [6290,6309]
                                    STRING [6310,6325]
                                        String: "/transformers" [6310,6325]
                                FIELD [6326,6405]
                                    String: "run" [6326,6331]
                                    STRING [6332,6405]
                                        String: "python3 -m pip uninstall -y transformers && python3 -m pip install -e ." [6332,6405]
                            OBJECT [6407,6757]
                                FIELD [6408,6450]
                                    String: "name" [6408,6414]
                                    STRING [6415,6450]
                                        String: "Echo folder ${{ matrix.folders }}" [6415,6450]
                                FIELD [6451,6465]
                                    String: "shell" [6451,6458]
                                    STRING [6459,6465]
                                        String: "bash" [6459,6465]
                                FIELD [6466,6756]
                                    String: "run" [6466,6471]
                                    STRING [6472,6756]
                                        String: "echo \"${{ matrix.folders }}\"\necho \"${{ fromJson(needs.setup_gpu.outputs.test_map)[matrix.folders] }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [6472,6756]
                            OBJECT [6758,6820]
                                FIELD [6759,6776]
                                    String: "name" [6759,6765]
                                    STRING [6766,6776]
                                        String: "ROCM-SMI" [6766,6776]
                                FIELD [6777,6819]
                                    String: "run" [6777,6782]
                                    STRING [6783,6819]
                                        String: "rocminfo  | grep \"Agent\" -A 14\n" [6783,6819]
                            OBJECT [6821,6935]
                                FIELD [6822,6851]
                                    String: "name" [6822,6828]
                                    STRING [6829,6851]
                                        String: "Show HIP environment" [6829,6851]
                                FIELD [6852,6934]
                                    String: "run" [6852,6857]
                                    STRING [6858,6934]
                                        String: "echo \"HIP: $HIP_VISIBLE_DEVICES\"\necho \"ROCR: $ROCR_VISIBLE_DEVICES\"\n" [6858,6934]
                            OBJECT [6936,7031]
                                FIELD [6937,6957]
                                    String: "name" [6937,6943]
                                    STRING [6944,6957]
                                        String: "Environment" [6944,6957]
                                FIELD [6958,6993]
                                    String: "working-directory" [6958,6977]
                                    STRING [6978,6993]
                                        String: "/transformers" [6978,6993]
                                FIELD [6994,7030]
                                    String: "run" [6994,6999]
                                    STRING [7000,7030]
                                        String: "python3 utils/print_env.py\n" [7000,7030]
                            OBJECT [7032,7141]
                                FIELD [7033,7085]
                                    String: "name" [7033,7039]
                                    STRING [7040,7085]
                                        String: "Show installed libraries and their versions" [7040,7085]
                                FIELD [7086,7121]
                                    String: "working-directory" [7086,7105]
                                    STRING [7106,7121]
                                        String: "/transformers" [7106,7121]
                                FIELD [7122,7140]
                                    String: "run" [7122,7127]
                                    STRING [7128,7140]
                                        String: "pip freeze" [7128,7140]
                            OBJECT [7142,7419]
                                FIELD [7143,7190]
                                    String: "name" [7143,7149]
                                    STRING [7150,7190]
                                        String: "Run all non-slow selected tests on GPU" [7150,7190]
                                FIELD [7191,7226]
                                    String: "working-directory" [7191,7210]
                                    STRING [7211,7226]
                                        String: "/transformers" [7211,7226]
                                FIELD [7227,7418]
                                    String: "run" [7227,7232]
                                    STRING [7233,7418]
                                        String: "python3 -m pytest -n 2 --dist=loadfile -v --make-reports=${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }} ${{ fromJson(needs.setup_gpu.outputs.test_map)[matrix.folders] }}\n" [7233,7418]
                            OBJECT [7420,7613]
                                FIELD [7421,7451]
                                    String: "name" [7421,7427]
                                    STRING [7428,7451]
                                        String: "Failure short reports" [7428,7451]
                                FIELD [7452,7475]
                                    String: "if" [7452,7456]
                                    STRING [7457,7475]
                                        String: "${{ failure() }}" [7457,7475]
                                FIELD [7476,7500]
                                    String: "continue-on-error" [7476,7495]
                                    TRUE [7496,7500]
                                FIELD [7501,7612]
                                    String: "run" [7501,7506]
                                    STRING [7507,7612]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [7507,7612]
                            OBJECT [7614,7904]
                                FIELD [7615,7652]
                                    String: "name" [7615,7621]
                                    STRING [7622,7652]
                                        String: "Test suite reports artifacts" [7622,7652]
                                FIELD [7653,7675]
                                    String: "if" [7653,7657]
                                    STRING [7658,7675]
                                        String: "${{ always() }}" [7658,7675]
                                FIELD [7676,7711]
                                    String: "uses" [7676,7682]
                                    STRING [7683,7711]
                                        String: "actions/upload-artifact@v3" [7683,7711]
                                FIELD [7712,7903]
                                    String: "with" [7712,7718]
                                    OBJECT [7719,7903]
                                        FIELD [7720,7812]
                                            String: "name" [7720,7726]
                                            STRING [7727,7812]
                                                String: "${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports" [7727,7812]
                                        FIELD [7813,7902]
                                            String: "path" [7813,7819]
                                            STRING [7820,7902]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}" [7820,7902]
            FIELD [7907,10583]
                String: "send_results" [7907,7921]
                OBJECT [7922,10583]
                    FIELD [7923,7955]
                        String: "name" [7923,7929]
                        STRING [7930,7955]
                            String: "Send results to webhook" [7930,7955]
                    FIELD [7956,7980]
                        String: "runs-on" [7956,7965]
                        STRING [7966,7980]
                            String: "ubuntu-22.04" [7966,7980]
                    FIELD [7981,7996]
                        String: "if" [7981,7985]
                        STRING [7986,7996]
                            String: "always()" [7986,7996]
                    FIELD [7997,8075]
                        String: "needs" [7997,8004]
                        ARRAY [8005,8075]
                            STRING [8006,8027]
                                String: "check_runner_status" [8006,8027]
                            STRING [8028,8043]
                                String: "check_runners" [8028,8043]
                            STRING [8044,8055]
                                String: "setup_gpu" [8044,8055]
                            STRING [8056,8074]
                                String: "run_tests_amdgpu" [8056,8074]
                    FIELD [8076,10582]
                        String: "steps" [8076,8083]
                        ARRAY [8084,10582]
                            OBJECT [8085,8326]
                                FIELD [8086,8117]
                                    String: "name" [8086,8092]
                                    STRING [8093,8117]
                                        String: "Preliminary job status" [8093,8117]
                                FIELD [8118,8132]
                                    String: "shell" [8118,8125]
                                    STRING [8126,8132]
                                        String: "bash" [8126,8132]
                                FIELD [8133,8325]
                                    String: "run" [8133,8138]
                                    STRING [8139,8325]
                                        String: "echo \"Runner availability: ${{ needs.check_runner_status.result }}\"\necho \"Setup status: ${{ needs.setup_gpu.result }}\"\necho \"Runner status: ${{ needs.check_runners.result }}\"\n" [8139,8325]
                            OBJECT [8327,9044]
                                FIELD [8328,8373]
                                    String: "name" [8328,8334]
                                    STRING [8335,8373]
                                        String: "Prepare custom environment variables" [8335,8373]
                                FIELD [8374,8388]
                                    String: "shell" [8374,8381]
                                    STRING [8382,8388]
                                        String: "bash" [8382,8388]
                                FIELD [8389,9043]
                                    String: "run" [8389,8394]
                                    STRING [8395,9043]
                                        String: "CI_BRANCH_PUSH=${{ github.event.ref }}\nCI_BRANCH_PUSH=${CI_BRANCH_PUSH/'refs/heads/'/''}\nCI_BRANCH_WORKFLOW_RUN=${{ github.event.workflow_run.head_branch }}\nCI_SHA_PUSH=${{ github.event.head_commit.id }}\nCI_SHA_WORKFLOW_RUN=${{ github.event.workflow_run.head_sha }}\necho $CI_BRANCH_PUSH\necho $CI_BRANCH_WORKFLOW_RUN\necho $CI_SHA_PUSH\necho $CI_SHA_WORKFLOW_RUN\n[[ ! -z \"$CI_BRANCH_PUSH\" ]] && echo \"CI_BRANCH=$CI_BRANCH_PUSH\" >> $GITHUB_ENV || echo \"CI_BRANCH=$CI_BRANCH_WORKFLOW_RUN\" >> $GITHUB_ENV\n[[ ! -z \"$CI_SHA_PUSH\" ]] && echo \"CI_SHA=$CI_SHA_PUSH\" >> $GITHUB_ENV || echo \"CI_SHA=$CI_SHA_WORKFLOW_RUN\" >> $GITHUB_ENV\n" [8395,9043]
                            OBJECT [9045,9180]
                                FIELD [9046,9082]
                                    String: "name" [9046,9052]
                                    STRING [9053,9082]
                                        String: "print environment variables" [9053,9082]
                                FIELD [9083,9179]
                                    String: "run" [9083,9088]
                                    STRING [9089,9179]
                                        String: "echo \"env.CI_BRANCH = ${{ env.CI_BRANCH }}\"\necho \"env.CI_SHA = ${{ env.CI_SHA }}\"\n" [9089,9179]
                            OBJECT [9181,9237]
                                FIELD [9182,9210]
                                    String: "uses" [9182,9188]
                                    STRING [9189,9210]
                                        String: "actions/checkout@v3" [9189,9210]
                                FIELD [9211,9236]
                                    String: "with" [9211,9217]
                                    OBJECT [9218,9236]
                                        FIELD [9219,9235]
                                            String: "fetch-depth" [9219,9232]
                                            NUMBER [9233,9235]
                                                Number: 20 [9233,9235]
                            OBJECT [9238,9523]
                                FIELD [9239,9288]
                                    String: "name" [9239,9245]
                                    STRING [9246,9288]
                                        String: "Update clone using environment variables" [9246,9288]
                                FIELD [9289,9522]
                                    String: "run" [9289,9294]
                                    STRING [9295,9522]
                                        String: "echo \"original branch = $(git branch --show-current)\"\ngit fetch && git checkout ${{ env.CI_BRANCH }}\necho \"updated branch = $(git branch --show-current)\"\ngit checkout ${{ env.CI_SHA }}\necho \"log = $(git log -n 1)\"\n" [9295,9522]
                            OBJECT [9524,9563]
                                FIELD [9525,9562]
                                    String: "uses" [9525,9531]
                                    STRING [9532,9562]
                                        String: "actions/download-artifact@v3" [9532,9562]
                            OBJECT [9564,10581]
                                FIELD [9565,9595]
                                    String: "name" [9565,9571]
                                    STRING [9572,9595]
                                        String: "Send message to Slack" [9572,9595]
                                FIELD [9596,10450]
                                    String: "env" [9596,9601]
                                    OBJECT [9602,10450]
                                        FIELD [9603,9659]
                                            String: "CI_SLACK_BOT_TOKEN" [9603,9623]
                                            STRING [9624,9659]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [9624,9659]
                                        FIELD [9660,9718]
                                            String: "CI_SLACK_CHANNEL_ID" [9660,9681]
                                            STRING [9682,9718]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [9682,9718]
                                        FIELD [9719,9789]
                                            String: "CI_SLACK_CHANNEL_ID_DAILY" [9719,9746]
                                            STRING [9747,9789]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY }}" [9747,9789]
                                        FIELD [9790,9856]
                                            String: "CI_SLACK_CHANNEL_ID_AMD" [9790,9815]
                                            STRING [9816,9856]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_AMD }}" [9816,9856]
                                        FIELD [9857,9933]
                                            String: "CI_SLACK_CHANNEL_DUMMY_TESTS" [9857,9887]
                                            STRING [9888,9933]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_DUMMY_TESTS }}" [9888,9933]
                                        FIELD [9934,10003]
                                            String: "CI_SLACK_REPORT_CHANNEL_ID" [9934,9962]
                                            STRING [9963,10003]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_AMD }}" [9963,10003]
                                        FIELD [10004,10068]
                                            String: "ACCESS_REPO_INFO_TOKEN" [10004,10028]
                                            STRING [10029,10068]
                                                String: "${{ secrets.ACCESS_REPO_INFO_TOKEN }}" [10029,10068]
                                        FIELD [10069,10122]
                                            String: "CI_EVENT" [10069,10079]
                                            STRING [10080,10122]
                                                String: "Push CI (AMD) - ${{ inputs.gpu_flavor }}" [10080,10122]
                                        FIELD [10123,10180]
                                            String: "CI_TITLE_PUSH" [10123,10138]
                                            STRING [10139,10180]
                                                String: "${{ github.event.head_commit.message }}" [10139,10180]
                                        FIELD [10181,10259]
                                            String: "CI_TITLE_WORKFLOW_RUN" [10181,10204]
                                            STRING [10205,10259]
                                                String: "${{ github.event.workflow_run.head_commit.message }}" [10205,10259]
                                        FIELD [10260,10288]
                                            String: "CI_SHA" [10260,10268]
                                            STRING [10269,10288]
                                                String: "${{ env.CI_SHA }}" [10269,10288]
                                        FIELD [10289,10346]
                                            String: "RUNNER_STATUS" [10289,10304]
                                            STRING [10305,10346]
                                                String: "${{ needs.check_runner_status.result }}" [10305,10346]
                                        FIELD [10347,10402]
                                            String: "RUNNER_ENV_STATUS" [10347,10366]
                                            STRING [10367,10402]
                                                String: "${{ needs.check_runners.result }}" [10367,10402]
                                        FIELD [10403,10449]
                                            String: "SETUP_STATUS" [10403,10417]
                                            STRING [10418,10449]
                                                String: "${{ needs.setup_gpu.result }}" [10418,10449]
                                FIELD [10451,10580]
                                    String: "run" [10451,10456]
                                    STRING [10457,10580]
                                        String: "pip install slack_sdk\npip show slack_sdk\npython utils/notification_service.py \"${{ needs.setup_gpu.outputs.matrix }}\"" [10457,10580]