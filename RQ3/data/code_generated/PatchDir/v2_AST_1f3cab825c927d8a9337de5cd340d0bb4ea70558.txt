OBJECT [0,5744]
    FIELD [1,30]
        String: "name" [1,7]
        STRING [8,30]
            String: "pr-integration-tests" [8,30]
    FIELD [31,104]
        String: "on" [31,35]
        OBJECT [36,104]
            FIELD [37,103]
                String: "pull_request_target" [37,58]
                OBJECT [59,103]
                    FIELD [60,102]
                        String: "types" [60,67]
                        ARRAY [68,102]
                            STRING [69,77]
                                String: "opened" [69,77]
                            STRING [78,91]
                                String: "synchronize" [78,91]
                            STRING [92,101]
                                String: "labeled" [92,101]
    FIELD [105,5743]
        String: "jobs" [105,111]
        OBJECT [112,5743]
            FIELD [113,2433]
                String: "build-docker-image" [113,133]
                OBJECT [134,2433]
                    FIELD [135,576]
                        String: "if" [135,139]
                        STRING [140,576]
                            String: "((github.event.action == 'labeled' && (github.event.label.name == 'approved' || github.event.label.name == 'lgtm' || github.event.label.name == 'ok-to-test')) || (github.event.action != 'labeled' && (contains(github.event.pull_request.labels.*.name, 'ok-to-test') || contains(github.event.pull_request.labels.*.name, 'approved') || contains(github.event.pull_request.labels.*.name, 'lgtm')))) && github.repository == 'feast-dev/feast'" [140,576]
                    FIELD [577,602]
                        String: "runs-on" [577,586]
                        STRING [587,602]
                            String: "ubuntu-latest" [587,602]
                    FIELD [603,2351]
                        String: "steps" [603,610]
                        ARRAY [611,2351]
                            OBJECT [612,740]
                                FIELD [613,641]
                                    String: "uses" [613,619]
                                    STRING [620,641]
                                        String: "actions/checkout@v3" [620,641]
                                FIELD [642,739]
                                    String: "with" [642,648]
                                    OBJECT [649,739]
                                        FIELD [650,713]
                                            String: "ref" [650,655]
                                            STRING [656,713]
                                                String: "refs/pull/${{ github.event.pull_request.number }}/merge" [656,713]
                                        FIELD [714,738]
                                            String: "submodules" [714,726]
                                            STRING [727,738]
                                                String: "recursive" [727,738]
                            OBJECT [741,800]
                                FIELD [742,762]
                                    String: "name" [742,748]
                                    STRING [749,762]
                                        String: "Set up QEMU" [749,762]
                                FIELD [763,799]
                                    String: "uses" [763,769]
                                    STRING [770,799]
                                        String: "docker/setup-qemu-action@v1" [770,799]
                            OBJECT [801,895]
                                FIELD [802,831]
                                    String: "name" [802,808]
                                    STRING [809,831]
                                        String: "Set up Docker Buildx" [809,831]
                                FIELD [832,870]
                                    String: "uses" [832,838]
                                    STRING [839,870]
                                        String: "docker/setup-buildx-action@v2" [839,870]
                                FIELD [871,894]
                                    String: "with" [871,877]
                                    OBJECT [878,894]
                                        FIELD [879,893]
                                            String: "install" [879,888]
                                            TRUE [889,893]
                            OBJECT [896,1123]
                                FIELD [897,920]
                                    String: "name" [897,903]
                                    STRING [904,920]
                                        String: "Set up AWS SDK" [904,920]
                                FIELD [921,970]
                                    String: "uses" [921,927]
                                    STRING [928,970]
                                        String: "aws-actions/configure-aws-credentials@v1" [928,970]
                                FIELD [971,1122]
                                    String: "with" [971,977]
                                    OBJECT [978,1122]
                                        FIELD [979,1033]
                                            String: "aws-access-key-id" [979,998]
                                            STRING [999,1033]
                                                String: "${{ secrets.AWS_ACCESS_KEY_ID }}" [999,1033]
                                        FIELD [1034,1096]
                                            String: "aws-secret-access-key" [1034,1057]
                                            STRING [1058,1096]
                                                String: "${{ secrets.AWS_SECRET_ACCESS_KEY }}" [1058,1096]
                                        FIELD [1097,1121]
                                            String: "aws-region" [1097,1109]
                                            STRING [1110,1121]
                                                String: "us-west-2" [1110,1121]
                            OBJECT [1124,1212]
                                FIELD [1125,1153]
                                    String: "name" [1125,1131]
                                    STRING [1132,1153]
                                        String: "Login to Amazon ECR" [1132,1153]
                                FIELD [1154,1170]
                                    String: "id" [1154,1158]
                                    STRING [1159,1170]
                                        String: "login-ecr" [1159,1170]
                                FIELD [1171,1211]
                                    String: "uses" [1171,1177]
                                    STRING [1178,1211]
                                        String: "aws-actions/amazon-ecr-login@v1" [1178,1211]
                            OBJECT [1213,1332]
                                FIELD [1214,1240]
                                    String: "name" [1214,1220]
                                    STRING [1221,1240]
                                        String: "Set ECR image tag" [1221,1240]
                                FIELD [1241,1257]
                                    String: "id" [1241,1245]
                                    STRING [1246,1257]
                                        String: "image-tag" [1246,1257]
                                FIELD [1258,1331]
                                    String: "run" [1258,1263]
                                    STRING [1264,1331]
                                        String: "echo \"::set-output name=DOCKER_IMAGE_TAG::`git rev-parse HEAD`\"" [1264,1331]
                            OBJECT [1333,1469]
                                FIELD [1334,1365]
                                    String: "name" [1334,1340]
                                    STRING [1341,1365]
                                        String: "Cache Public ECR Image" [1341,1365]
                                FIELD [1366,1390]
                                    String: "id" [1366,1370]
                                    STRING [1371,1390]
                                        String: "lambda_python_3_9" [1371,1390]
                                FIELD [1391,1416]
                                    String: "uses" [1391,1397]
                                    STRING [1398,1416]
                                        String: "actions/cache@v2" [1398,1416]
                                FIELD [1417,1468]
                                    String: "with" [1417,1423]
                                    OBJECT [1424,1468]
                                        FIELD [1425,1441]
                                            String: "path" [1425,1431]
                                            STRING [1432,1441]
                                                String: "~/cache" [1432,1441]
                                        FIELD [1442,1467]
                                            String: "key" [1442,1447]
                                            STRING [1448,1467]
                                                String: "lambda_python_3_9" [1448,1467]
                            OBJECT [1470,1750]
                                FIELD [1471,1543]
                                    String: "name" [1471,1477]
                                    STRING [1478,1543]
                                        String: "Handle Cache Miss (pull public ECR image & save it to tar file)" [1478,1543]
                                FIELD [1544,1597]
                                    String: "if" [1544,1548]
                                    STRING [1549,1597]
                                        String: "steps.cache-primes.outputs.cache-hit != 'true'" [1549,1597]
                                FIELD [1598,1749]
                                    String: "run" [1598,1603]
                                    STRING [1604,1749]
                                        String: "mkdir -p ~/cache\ndocker pull public.ecr.aws/lambda/python:3.9\ndocker save public.ecr.aws/lambda/python:3.9 -o ~/cache/lambda_python_3_9.tar\n" [1604,1749]
                            OBJECT [1751,1921]
                                FIELD [1752,1811]
                                    String: "name" [1752,1758]
                                    STRING [1759,1811]
                                        String: "Handle Cache Hit (load docker image from tar file)" [1759,1811]
                                FIELD [1812,1865]
                                    String: "if" [1812,1816]
                                    STRING [1817,1865]
                                        String: "steps.cache-primes.outputs.cache-hit == 'true'" [1817,1865]
                                FIELD [1866,1920]
                                    String: "run" [1866,1871]
                                    STRING [1872,1920]
                                        String: "docker load -i ~/cache/lambda_python_3_9.tar\n" [1872,1920]
                            OBJECT [1922,2350]
                                FIELD [1923,1946]
                                    String: "name" [1923,1929]
                                    STRING [1930,1946]
                                        String: "Build and push" [1930,1946]
                                FIELD [1947,2050]
                                    String: "env" [1947,1952]
                                    OBJECT [1953,2050]
                                        FIELD [1954,2010]
                                            String: "ECR_REGISTRY" [1954,1968]
                                            STRING [1969,2010]
                                                String: "${{ steps.login-ecr.outputs.registry }}" [1969,2010]
                                        FIELD [2011,2049]
                                            String: "ECR_REPOSITORY" [2011,2027]
                                            STRING [2028,2049]
                                                String: "feast-python-server" [2028,2049]
                                FIELD [2051,2349]
                                    String: "run" [2051,2056]
                                    STRING [2057,2349]
                                        String: "docker build \\\n  --file sdk/python/feast/infra/feature_servers/aws_lambda/Dockerfile \\\n  --tag $ECR_REGISTRY/$ECR_REPOSITORY:${{ steps.image-tag.outputs.DOCKER_IMAGE_TAG }} \\\n  --load \\\n  .\ndocker push $ECR_REGISTRY/$ECR_REPOSITORY:${{ steps.image-tag.outputs.DOCKER_IMAGE_TAG }}\n" [2057,2349]
                    FIELD [2352,2432]
                        String: "outputs" [2352,2361]
                        OBJECT [2362,2432]
                            FIELD [2363,2431]
                                String: "DOCKER_IMAGE_TAG" [2363,2381]
                                STRING [2382,2431]
                                    String: "${{ steps.image-tag.outputs.DOCKER_IMAGE_TAG }}" [2382,2431]
            FIELD [2434,5742]
                String: "integration-test-python" [2434,2459]
                OBJECT [2460,5742]
                    FIELD [2461,2902]
                        String: "if" [2461,2465]
                        STRING [2466,2902]
                            String: "((github.event.action == 'labeled' && (github.event.label.name == 'approved' || github.event.label.name == 'lgtm' || github.event.label.name == 'ok-to-test')) || (github.event.action != 'labeled' && (contains(github.event.pull_request.labels.*.name, 'ok-to-test') || contains(github.event.pull_request.labels.*.name, 'approved') || contains(github.event.pull_request.labels.*.name, 'lgtm')))) && github.repository == 'feast-dev/feast'" [2466,2902]
                    FIELD [2903,2931]
                        String: "needs" [2903,2910]
                        STRING [2911,2931]
                            String: "build-docker-image" [2911,2931]
                    FIELD [2932,2960]
                        String: "runs-on" [2932,2941]
                        STRING [2942,2960]
                            String: "${{ matrix.os }}" [2942,2960]
                    FIELD [2961,3050]
                        String: "strategy" [2961,2971]
                        OBJECT [2972,3050]
                            FIELD [2973,2990]
                                String: "fail-fast" [2973,2984]
                                FALSE [2985,2990]
                            FIELD [2991,3049]
                                String: "matrix" [2991,2999]
                                OBJECT [3000,3049]
                                    FIELD [3001,3025]
                                        String: "python-version" [3001,3017]
                                        ARRAY [3018,3025]
                                            STRING [3019,3024]
                                                String: "3.8" [3019,3024]
                                    FIELD [3026,3048]
                                        String: "os" [3026,3030]
                                        ARRAY [3031,3048]
                                            STRING [3032,3047]
                                                String: "ubuntu-latest" [3032,3047]
                    FIELD [3051,3122]
                        String: "env" [3051,3056]
                        OBJECT [3057,3122]
                            FIELD [3058,3081]
                                String: "OS" [3058,3062]
                                STRING [3063,3081]
                                    String: "${{ matrix.os }}" [3063,3081]
                            FIELD [3082,3121]
                                String: "PYTHON" [3082,3090]
                                STRING [3091,3121]
                                    String: "${{ matrix.python-version }}" [3091,3121]
                    FIELD [3123,3288]
                        String: "services" [3123,3133]
                        OBJECT [3134,3288]
                            FIELD [3135,3287]
                                String: "redis" [3135,3142]
                                OBJECT [3143,3287]
                                    FIELD [3144,3159]
                                        String: "image" [3144,3151]
                                        STRING [3152,3159]
                                            String: "redis" [3152,3159]
                                    FIELD [3160,3181]
                                        String: "ports" [3160,3167]
                                        ARRAY [3168,3181]
                                            STRING [3169,3180]
                                                String: "6379:6379" [3169,3180]
                                    FIELD [3182,3286]
                                        String: "options" [3182,3191]
                                        STRING [3192,3286]
                                            String: "--health-cmd \"redis-cli ping\" --health-interval 10s --health-timeout 5s --health-retries 5" [3192,3286]
                    FIELD [3289,5741]
                        String: "steps" [3289,3296]
                        ARRAY [3297,5741]
                            OBJECT [3298,3426]
                                FIELD [3299,3327]
                                    String: "uses" [3299,3305]
                                    STRING [3306,3327]
                                        String: "actions/checkout@v3" [3306,3327]
                                FIELD [3328,3425]
                                    String: "with" [3328,3334]
                                    OBJECT [3335,3425]
                                        FIELD [3336,3399]
                                            String: "ref" [3336,3341]
                                            STRING [3342,3399]
                                                String: "refs/pull/${{ github.event.pull_request.number }}/merge" [3342,3399]
                                        FIELD [3400,3424]
                                            String: "submodules" [3400,3412]
                                            STRING [3413,3424]
                                                String: "recursive" [3413,3424]
                            OBJECT [3427,3581]
                                FIELD [3428,3449]
                                    String: "name" [3428,3434]
                                    STRING [3435,3449]
                                        String: "Setup Python" [3435,3449]
                                FIELD [3450,3482]
                                    String: "uses" [3450,3456]
                                    STRING [3457,3482]
                                        String: "actions/setup-python@v3" [3457,3482]
                                FIELD [3483,3502]
                                    String: "id" [3483,3487]
                                    STRING [3488,3502]
                                        String: "setup-python" [3488,3502]
                                FIELD [3503,3580]
                                    String: "with" [3503,3509]
                                    OBJECT [3510,3580]
                                        FIELD [3511,3558]
                                            String: "python-version" [3511,3527]
                                            STRING [3528,3558]
                                                String: "${{ matrix.python-version }}" [3528,3558]
                                        FIELD [3559,3579]
                                            String: "architecture" [3559,3573]
                                            STRING [3574,3579]
                                                String: "x64" [3574,3579]
                            OBJECT [3582,3716]
                                FIELD [3583,3620]
                                    String: "name" [3583,3589]
                                    STRING [3590,3620]
                                        String: "Authenticate to Google Cloud" [3590,3620]
                                FIELD [3621,3659]
                                    String: "uses" [3621,3627]
                                    STRING [3628,3659]
                                        String: "google-github-actions/auth@v1" [3628,3659]
                                FIELD [3660,3715]
                                    String: "with" [3660,3666]
                                    OBJECT [3667,3715]
                                        FIELD [3668,3714]
                                            String: "credentials_json" [3668,3686]
                                            STRING [3687,3714]
                                                String: "${{ secrets.GCP_SA_KEY }}" [3687,3714]
                            OBJECT [3717,3846]
                                FIELD [3718,3744]
                                    String: "name" [3718,3724]
                                    STRING [3725,3744]
                                        String: "Set up gcloud SDK" [3725,3744]
                                FIELD [3745,3791]
                                    String: "uses" [3745,3751]
                                    STRING [3752,3791]
                                        String: "google-github-actions/setup-gcloud@v1" [3752,3791]
                                FIELD [3792,3845]
                                    String: "with" [3792,3798]
                                    OBJECT [3799,3845]
                                        FIELD [3800,3844]
                                            String: "project_id" [3800,3812]
                                            STRING [3813,3844]
                                                String: "${{ secrets.GCP_PROJECT_ID }}" [3813,3844]
                            OBJECT [3847,3892]
                                FIELD [3848,3871]
                                    String: "name" [3848,3854]
                                    STRING [3855,3871]
                                        String: "Use gcloud CLI" [3855,3871]
                                FIELD [3872,3891]
                                    String: "run" [3872,3877]
                                    STRING [3878,3891]
                                        String: "gcloud info" [3878,3891]
                            OBJECT [3893,4120]
                                FIELD [3894,3917]
                                    String: "name" [3894,3900]
                                    STRING [3901,3917]
                                        String: "Set up AWS SDK" [3901,3917]
                                FIELD [3918,3967]
                                    String: "uses" [3918,3924]
                                    STRING [3925,3967]
                                        String: "aws-actions/configure-aws-credentials@v1" [3925,3967]
                                FIELD [3968,4119]
                                    String: "with" [3968,3974]
                                    OBJECT [3975,4119]
                                        FIELD [3976,4030]
                                            String: "aws-access-key-id" [3976,3995]
                                            STRING [3996,4030]
                                                String: "${{ secrets.AWS_ACCESS_KEY_ID }}" [3996,4030]
                                        FIELD [4031,4093]
                                            String: "aws-secret-access-key" [4031,4054]
                                            STRING [4055,4093]
                                                String: "${{ secrets.AWS_SECRET_ACCESS_KEY }}" [4055,4093]
                                        FIELD [4094,4118]
                                            String: "aws-region" [4094,4106]
                                            STRING [4107,4118]
                                                String: "us-west-2" [4107,4118]
                            OBJECT [4121,4179]
                                FIELD [4122,4142]
                                    String: "name" [4122,4128]
                                    STRING [4129,4142]
                                        String: "Use AWS CLI" [4129,4142]
                                FIELD [4143,4178]
                                    String: "run" [4143,4148]
                                    STRING [4149,4178]
                                        String: "aws sts get-caller-identity" [4149,4178]
                            OBJECT [4180,4284]
                                FIELD [4181,4207]
                                    String: "name" [4181,4187]
                                    STRING [4188,4207]
                                        String: "Get pip cache dir" [4188,4207]
                                FIELD [4208,4224]
                                    String: "id" [4208,4212]
                                    STRING [4213,4224]
                                        String: "pip-cache" [4213,4224]
                                FIELD [4225,4283]
                                    String: "run" [4225,4230]
                                    STRING [4231,4283]
                                        String: "echo \"::set-output name=dir::$(pip cache dir)\"\n" [4231,4283]
                            OBJECT [4285,4690]
                                FIELD [4286,4304]
                                    String: "name" [4286,4292]
                                    STRING [4293,4304]
                                        String: "pip cache" [4293,4304]
                                FIELD [4305,4330]
                                    String: "uses" [4305,4311]
                                    STRING [4312,4330]
                                        String: "actions/cache@v2" [4312,4330]
                                FIELD [4331,4689]
                                    String: "with" [4331,4337]
                                    OBJECT [4338,4689]
                                        FIELD [4339,4451]
                                            String: "path" [4339,4345]
                                            STRING [4346,4451]
                                                String: "${{ steps.pip-cache.outputs.dir }}\n/opt/hostedtoolcache/Python\n/Users/runner/hostedtoolcache/Python\n" [4346,4451]
                                        FIELD [4452,4598]
                                            String: "key" [4452,4457]
                                            STRING [4458,4598]
                                                String: "${{ runner.os }}-${{ steps.setup-python.outputs.python-version }}-pip-${{ hashFiles(format('**/py{0}-ci-requirements.txt', env.PYTHON)) }}" [4458,4598]
                                        FIELD [4599,4688]
                                            String: "restore-keys" [4599,4613]
                                            STRING [4614,4688]
                                                String: "${{ runner.os }}-${{ steps.setup-python.outputs.python-version }}-pip-\n" [4614,4688]
                            OBJECT [4691,4775]
                                FIELD [4692,4720]
                                    String: "name" [4692,4698]
                                    STRING [4699,4720]
                                        String: "Upgrade pip version" [4699,4720]
                                FIELD [4721,4774]
                                    String: "run" [4721,4726]
                                    STRING [4727,4774]
                                        String: "pip install --upgrade \"pip>=21.3.1,<23.2\"\n" [4727,4774]
                            OBJECT [4776,4834]
                                FIELD [4777,4803]
                                    String: "name" [4777,4783]
                                    STRING [4784,4803]
                                        String: "Install pip-tools" [4784,4803]
                                FIELD [4804,4833]
                                    String: "run" [4804,4809]
                                    STRING [4810,4833]
                                        String: "pip install pip-tools" [4810,4833]
                            OBJECT [4835,4910]
                                FIELD [4836,4865]
                                    String: "name" [4836,4842]
                                    STRING [4843,4865]
                                        String: "Install dependencies" [4843,4865]
                                FIELD [4866,4909]
                                    String: "run" [4866,4871]
                                    STRING [4872,4909]
                                        String: "make install-python-ci-dependencies" [4872,4909]
                            OBJECT [4911,5148]
                                FIELD [4912,4940]
                                    String: "name" [4912,4918]
                                    STRING [4919,4940]
                                        String: "Setup Redis Cluster" [4919,4940]
                                FIELD [4941,5147]
                                    String: "run" [4941,4946]
                                    STRING [4947,5147]
                                        String: "docker pull vishnunair/docker-redis-cluster:latest\ndocker run -d -p 6001:6379 -p 6002:6380 -p 6003:6381 -p 6004:6382 -p 6005:6383 -p 6006:6384 --name redis-cluster vishnunair/docker-redis-cluster\n" [4947,5147]
                            OBJECT [5149,5740]
                                FIELD [5150,5170]
                                    String: "name" [5150,5156]
                                    STRING [5157,5170]
                                        String: "Test python" [5157,5170]
                                FIELD [5171,5193]
                                    String: "if" [5171,5175]
                                    STRING [5176,5193]
                                        String: "${{ always() }}" [5176,5193]
                                FIELD [5194,5597]
                                    String: "env" [5194,5199]
                                    OBJECT [5200,5597]
                                        FIELD [5201,5291]
                                            String: "FEAST_SERVER_DOCKER_IMAGE_TAG" [5201,5232]
                                            STRING [5233,5291]
                                                String: "${{ needs.build-docker-image.outputs.DOCKER_IMAGE_TAG }}" [5233,5291]
                                        FIELD [5292,5358]
                                            String: "SNOWFLAKE_CI_DEPLOYMENT" [5292,5317]
                                            STRING [5318,5358]
                                                String: "${{ secrets.SNOWFLAKE_CI_DEPLOYMENT }}" [5318,5358]
                                        FIELD [5359,5413]
                                            String: "SNOWFLAKE_CI_USER" [5359,5378]
                                            STRING [5379,5413]
                                                String: "${{ secrets.SNOWFLAKE_CI_USER }}" [5379,5413]
                                        FIELD [5414,5476]
                                            String: "SNOWFLAKE_CI_PASSWORD" [5414,5437]
                                            STRING [5438,5476]
                                                String: "${{ secrets.SNOWFLAKE_CI_PASSWORD }}" [5438,5476]
                                        FIELD [5477,5531]
                                            String: "SNOWFLAKE_CI_ROLE" [5477,5496]
                                            STRING [5497,5531]
                                                String: "${{ secrets.SNOWFLAKE_CI_ROLE }}" [5497,5531]
                                        FIELD [5532,5596]
                                            String: "SNOWFLAKE_CI_WAREHOUSE" [5532,5556]
                                            STRING [5557,5596]
                                                String: "${{ secrets.SNOWFLAKE_CI_WAREHOUSE }}" [5557,5596]
                                FIELD [5598,5739]
                                    String: "run" [5598,5603]
                                    STRING [5604,5739]
                                        String: "pytest -n 8 --cov=./ --cov-report=xml --color=yes sdk/python/tests --integration --durations=5 --timeout=1200 --timeout_method=thread" [5604,5739]