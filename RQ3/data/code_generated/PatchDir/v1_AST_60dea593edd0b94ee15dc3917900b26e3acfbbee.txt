OBJECT [0,4376]
    FIELD [1,56]
        String: "name" [1,7]
        STRING [8,56]
            String: "Slow tests on important models (on Push - A10)" [8,56]
    FIELD [57,92]
        String: "on" [57,61]
        OBJECT [62,92]
            FIELD [63,91]
                String: "push" [63,69]
                OBJECT [70,91]
                    FIELD [71,90]
                        String: "branches" [71,81]
                        ARRAY [82,90]
                            STRING [83,89]
                                String: "main" [83,89]
    FIELD [93,431]
        String: "env" [93,98]
        OBJECT [99,431]
            FIELD [100,118]
                String: "IS_GITHUB_CI" [100,114]
                STRING [115,118]
                    String: "1" [115,118]
            FIELD [119,158]
                String: "OUTPUT_SLACK_CHANNEL_ID" [119,144]
                STRING [145,158]
                    String: "C06L2SGMEEA" [145,158]
            FIELD [159,213]
                String: "HF_HUB_READ_TOKEN" [159,178]
                STRING [179,213]
                    String: "${{ secrets.HF_HUB_READ_TOKEN }}" [179,213]
            FIELD [214,236]
                String: "HF_HOME" [214,223]
                STRING [224,236]
                    String: "/mnt/cache" [224,236]
            FIELD [237,262]
                String: "TRANSFORMERS_IS_CI" [237,257]
                TRUE [258,262]
            FIELD [263,282]
                String: "OMP_NUM_THREADS" [263,280]
                NUMBER [281,282]
                    Number: 8 [281,282]
            FIELD [283,302]
                String: "MKL_NUM_THREADS" [283,300]
                NUMBER [301,302]
                    Number: 8 [301,302]
            FIELD [303,318]
                String: "RUN_SLOW" [303,313]
                TRUE [314,318]
            FIELD [319,371]
                String: "SIGOPT_API_TOKEN" [319,337]
                STRING [338,371]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [338,371]
            FIELD [372,404]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [372,399]
                TRUE [400,404]
            FIELD [405,430]
                String: "RUN_PT_TF_CROSS_TESTS" [405,428]
                NUMBER [429,430]
                    Number: 1 [429,430]
    FIELD [432,4375]
        String: "jobs" [432,438]
        OBJECT [439,4375]
            FIELD [440,1476]
                String: "get_modified_models" [440,461]
                OBJECT [462,1476]
                    FIELD [463,494]
                        String: "name" [463,469]
                        STRING [470,494]
                            String: "Get all modified files" [470,494]
                    FIELD [495,520]
                        String: "runs-on" [495,504]
                        STRING [505,520]
                            String: "ubuntu-latest" [505,520]
                    FIELD [521,582]
                        String: "outputs" [521,530]
                        OBJECT [531,582]
                            FIELD [532,581]
                                String: "matrix" [532,540]
                                STRING [541,581]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [541,581]
                    FIELD [583,1475]
                        String: "steps" [583,590]
                        ARRAY [591,1475]
                            OBJECT [592,646]
                                FIELD [593,616]
                                    String: "name" [593,599]
                                    STRING [600,616]
                                        String: "Check out code" [600,616]
                                FIELD [617,645]
                                    String: "uses" [617,623]
                                    STRING [624,645]
                                        String: "actions/checkout@v4" [624,645]
                            OBJECT [647,817]
                                FIELD [648,674]
                                    String: "name" [648,654]
                                    STRING [655,674]
                                        String: "Get changed files" [655,674]
                                FIELD [675,695]
                                    String: "id" [675,679]
                                    STRING [680,695]
                                        String: "changed-files" [680,695]
                                FIELD [696,770]
                                    String: "uses" [696,702]
                                    STRING [703,770]
                                        String: "tj-actions/changed-files@3f54ebb830831fc121d3263c1857cfbdc310cdb9" [703,770]
                                FIELD [771,816]
                                    String: "with" [771,777]
                                    OBJECT [778,816]
                                        FIELD [779,815]
                                            String: "files" [779,786]
                                            STRING [787,815]
                                                String: "src/transformers/models/**" [787,815]
                            OBJECT [818,1474]
                                FIELD [819,874]
                                    String: "name" [819,825]
                                    STRING [826,874]
                                        String: "Run step if only the files listed above change" [826,874]
                                FIELD [875,931]
                                    String: "if" [875,879]
                                    STRING [880,931]
                                        String: "steps.changed-files.outputs.any_changed == 'true'" [880,931]
                                FIELD [932,949]
                                    String: "id" [932,936]
                                    STRING [937,949]
                                        String: "set-matrix" [937,949]
                                FIELD [950,1032]
                                    String: "env" [950,955]
                                    OBJECT [956,1032]
                                        FIELD [957,1031]
                                            String: "ALL_CHANGED_FILES" [957,976]
                                            STRING [977,1031]
                                                String: "${{ steps.changed-files.outputs.all_changed_files }}" [977,1031]
                                FIELD [1033,1473]
                                    String: "run" [1033,1038]
                                    STRING [1039,1473]
                                        String: "model_arrays=()\nfor file in $ALL_CHANGED_FILES; do\n    model_path=\"${file#*models/}\"\n    model_path=\"models/${model_path%%/*}\"\n    if grep -qFx \"$model_path\" utils/important_models.txt; then\n        # Append the file to the matrix string\n        model_arrays+=(\"$model_path\")\n    fi\ndone\nmatrix_string=$(printf '\"%s\", ' \"${model_arrays[@]}\" | sed 's/, $//')\necho \"matrix=[$matrix_string]\" >> $GITHUB_OUTPUT\n" [1039,1473]
            FIELD [1477,4374]
                String: "test_modified_files" [1477,1498]
                OBJECT [1499,4374]
                    FIELD [1500,1529]
                        String: "needs" [1500,1507]
                        STRING [1508,1529]
                            String: "get_modified_models" [1508,1529]
                    FIELD [1530,1555]
                        String: "name" [1530,1536]
                        STRING [1537,1555]
                            String: "Slow & FA2 tests" [1537,1555]
                    FIELD [1556,1604]
                        String: "runs-on" [1556,1565]
                        ARRAY [1566,1604]
                            STRING [1567,1579]
                                String: "single-gpu" [1567,1579]
                            STRING [1580,1592]
                                String: "nvidia-gpu" [1580,1592]
                            STRING [1593,1598]
                                String: "a10" [1593,1598]
                            STRING [1599,1603]
                                String: "ci" [1599,1603]
                    FIELD [1605,1760]
                        String: "container" [1605,1616]
                        OBJECT [1617,1760]
                            FIELD [1618,1667]
                                String: "image" [1618,1625]
                                STRING [1626,1667]
                                    String: "huggingface/transformers-all-latest-gpu" [1626,1667]
                            FIELD [1668,1759]
                                String: "options" [1668,1677]
                                STRING [1678,1759]
                                    String: "--gpus all --privileged --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1678,1759]
                    FIELD [1761,1938]
                        String: "if" [1761,1765]
                        STRING [1766,1938]
                            String: "${{ needs.get_modified_models.outputs.matrix != '[]' && needs.get_modified_models.outputs.matrix != '' && fromJson(needs.get_modified_models.outputs.matrix)[0] != null }}" [1766,1938]
                    FIELD [1939,2053]
                        String: "strategy" [1939,1949]
                        OBJECT [1950,2053]
                            FIELD [1951,1968]
                                String: "fail-fast" [1951,1962]
                                FALSE [1963,1968]
                            FIELD [1969,2052]
                                String: "matrix" [1969,1977]
                                OBJECT [1978,2052]
                                    FIELD [1979,2051]
                                        String: "model-name" [1979,1991]
                                        STRING [1992,2051]
                                            String: "${{ fromJson(needs.get_modified_models.outputs.matrix) }}" [1992,2051]
                    FIELD [2054,4373]
                        String: "steps" [2054,2061]
                        ARRAY [2062,4373]
                            OBJECT [2063,2117]
                                FIELD [2064,2087]
                                    String: "name" [2064,2070]
                                    STRING [2071,2087]
                                        String: "Check out code" [2071,2087]
                                FIELD [2088,2116]
                                    String: "uses" [2088,2094]
                                    STRING [2095,2116]
                                        String: "actions/checkout@v4" [2095,2116]
                            OBJECT [2118,2397]
                                FIELD [2119,2169]
                                    String: "name" [2119,2125]
                                    STRING [2126,2169]
                                        String: "Install locally transformers & other libs" [2126,2169]
                                FIELD [2170,2396]
                                    String: "run" [2170,2175]
                                    STRING [2176,2396]
                                        String: "apt install sudo\nsudo -H pip install --upgrade pip\nsudo -H pip uninstall -y transformers \nsudo -H pip install -U -e \".[testing]\" \nMAX_JOBS=4 pip install flash-attn --no-build-isolation\npip install bitsandbytes\n" [2176,2396]
                            OBJECT [2398,2440]
                                FIELD [2399,2418]
                                    String: "name" [2399,2405]
                                    STRING [2406,2418]
                                        String: "NVIDIA-SMI" [2406,2418]
                                FIELD [2419,2439]
                                    String: "run" [2419,2424]
                                    STRING [2425,2439]
                                        String: "nvidia-smi\n" [2425,2439]
                            OBJECT [2441,2514]
                                FIELD [2442,2494]
                                    String: "name" [2442,2448]
                                    STRING [2449,2494]
                                        String: "Show installed libraries and their versions" [2449,2494]
                                FIELD [2495,2513]
                                    String: "run" [2495,2500]
                                    STRING [2501,2513]
                                        String: "pip freeze" [2501,2513]
                            OBJECT [2515,2696]
                                FIELD [2516,2538]
                                    String: "name" [2516,2522]
                                    STRING [2523,2538]
                                        String: "Run FA2 tests" [2523,2538]
                                FIELD [2539,2559]
                                    String: "id" [2539,2543]
                                    STRING [2544,2559]
                                        String: "run_fa2_tests" [2544,2559]
                                FIELD [2560,2695]
                                    String: "run" [2560,2565]
                                    STRING [2566,2695]
                                        String: "pytest -m \"flash_attn_test\" --make-reports=${{ matrix.model-name }}_fa2_tests/ tests/${{ matrix.model-name }}/test_modeling_*" [2566,2695]
                            OBJECT [2697,2950]
                                FIELD [2698,2771]
                                    String: "name" [2698,2704]
                                    STRING [2705,2771]
                                        String: "Test suite reports artifacts: ${{ matrix.model-name }}_fa2_tests" [2705,2771]
                                FIELD [2772,2794]
                                    String: "if" [2772,2776]
                                    STRING [2777,2794]
                                        String: "${{ always() }}" [2777,2794]
                                FIELD [2795,2830]
                                    String: "uses" [2795,2801]
                                    STRING [2802,2830]
                                        String: "actions/upload-artifact@v4" [2802,2830]
                                FIELD [2831,2949]
                                    String: "with" [2831,2837]
                                    OBJECT [2838,2949]
                                        FIELD [2839,2882]
                                            String: "name" [2839,2845]
                                            STRING [2846,2882]
                                                String: "${{ matrix.model-name }}_fa2_tests" [2846,2882]
                                        FIELD [2883,2948]
                                            String: "path" [2883,2889]
                                            STRING [2890,2948]
                                                String: "/transformers/reports/${{ matrix.model-name }}_fa2_tests" [2890,2948]
                            OBJECT [2951,3254]
                                FIELD [2952,2974]
                                    String: "name" [2952,2958]
                                    STRING [2959,2974]
                                        String: "Post to Slack" [2959,2974]
                                FIELD [2975,2990]
                                    String: "if" [2975,2979]
                                    STRING [2980,2990]
                                        String: "always()" [2980,2990]
                                FIELD [2991,3028]
                                    String: "uses" [2991,2997]
                                    STRING [2998,3028]
                                        String: "./.github/actions/post-slack" [2998,3028]
                                FIELD [3029,3253]
                                    String: "with" [3029,3035]
                                    OBJECT [3036,3253]
                                        FIELD [3037,3089]
                                            String: "slack_channel" [3037,3052]
                                            STRING [3053,3089]
                                                String: "${{ env.OUTPUT_SLACK_CHANNEL_ID }}" [3053,3089]
                                        FIELD [3090,3154]
                                            String: "title" [3090,3097]
                                            STRING [3098,3154]
                                                String: "ðŸ¤— Results of the FA2 tests - ${{ matrix.model-name }}" [3098,3154]
                                        FIELD [3155,3202]
                                            String: "status" [3155,3163]
                                            STRING [3164,3202]
                                                String: "${{ steps.run_fa2_tests.conclusion}}" [3164,3202]
                                        FIELD [3203,3252]
                                            String: "slack_token" [3203,3216]
                                            STRING [3217,3252]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [3217,3252]
                            OBJECT [3255,3476]
                                FIELD [3256,3286]
                                    String: "name" [3256,3262]
                                    STRING [3263,3286]
                                        String: "Run integration tests" [3263,3286]
                                FIELD [3287,3315]
                                    String: "id" [3287,3291]
                                    STRING [3292,3315]
                                        String: "run_integration_tests" [3292,3315]
                                FIELD [3316,3331]
                                    String: "if" [3316,3320]
                                    STRING [3321,3331]
                                        String: "always()" [3321,3331]
                                FIELD [3332,3475]
                                    String: "run" [3332,3337]
                                    STRING [3338,3475]
                                        String: "pytest -k \"IntegrationTest\"  --make-reports=tests_integration_${{ matrix.model-name }} tests/${{ matrix.model-name }}/test_modeling_*" [3338,3475]
                            OBJECT [3477,3754]
                                FIELD [3478,3559]
                                    String: "name" [3478,3484]
                                    STRING [3485,3559]
                                        String: "Test suite reports artifacts: tests_integration_${{ matrix.model-name }}" [3485,3559]
                                FIELD [3560,3582]
                                    String: "if" [3560,3564]
                                    STRING [3565,3582]
                                        String: "${{ always() }}" [3565,3582]
                                FIELD [3583,3618]
                                    String: "uses" [3583,3589]
                                    STRING [3590,3618]
                                        String: "actions/upload-artifact@v4" [3590,3618]
                                FIELD [3619,3753]
                                    String: "with" [3619,3625]
                                    OBJECT [3626,3753]
                                        FIELD [3627,3678]
                                            String: "name" [3627,3633]
                                            STRING [3634,3678]
                                                String: "tests_integration_${{ matrix.model-name }}" [3634,3678]
                                        FIELD [3679,3752]
                                            String: "path" [3679,3685]
                                            STRING [3686,3752]
                                                String: "/transformers/reports/tests_integration_${{ matrix.model-name }}" [3686,3752]
                            OBJECT [3755,4074]
                                FIELD [3756,3778]
                                    String: "name" [3756,3762]
                                    STRING [3763,3778]
                                        String: "Post to Slack" [3763,3778]
                                FIELD [3779,3794]
                                    String: "if" [3779,3783]
                                    STRING [3784,3794]
                                        String: "always()" [3784,3794]
                                FIELD [3795,3832]
                                    String: "uses" [3795,3801]
                                    STRING [3802,3832]
                                        String: "./.github/actions/post-slack" [3802,3832]
                                FIELD [3833,4073]
                                    String: "with" [3833,3839]
                                    OBJECT [3840,4073]
                                        FIELD [3841,3893]
                                            String: "slack_channel" [3841,3856]
                                            STRING [3857,3893]
                                                String: "${{ env.OUTPUT_SLACK_CHANNEL_ID }}" [3857,3893]
                                        FIELD [3894,3966]
                                            String: "title" [3894,3901]
                                            STRING [3902,3966]
                                                String: "ðŸ¤— Results of the Integration tests - ${{ matrix.model-name }}" [3902,3966]
                                        FIELD [3967,4022]
                                            String: "status" [3967,3975]
                                            STRING [3976,4022]
                                                String: "${{ steps.run_integration_tests.conclusion}}" [3976,4022]
                                        FIELD [4023,4072]
                                            String: "slack_token" [4023,4036]
                                            STRING [4037,4072]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [4037,4072]
                            OBJECT [4075,4372]
                                FIELD [4076,4094]
                                    String: "name" [4076,4082]
                                    STRING [4083,4094]
                                        String: "Tailscale" [4083,4094]
                                FIELD [4095,4140]
                                    String: "if" [4095,4099]
                                    STRING [4100,4140]
                                        String: "${{ failure() || runner.debug == '1'}}" [4100,4140]
                                FIELD [4141,4181]
                                    String: "uses" [4141,4147]
                                    STRING [4148,4181]
                                        String: "huggingface/tailscale-action@v1" [4148,4181]
                                FIELD [4182,4371]
                                    String: "with" [4182,4188]
                                    OBJECT [4189,4371]
                                        FIELD [4190,4238]
                                            String: "authkey" [4190,4199]
                                            STRING [4200,4238]
                                                String: "${{ secrets.TAILSCALE_SSH_AUTHKEY }}" [4200,4238]
                                        FIELD [4239,4295]
                                            String: "slackChannel" [4239,4253]
                                            STRING [4254,4295]
                                                String: "${{ secrets.SLACK_CIFEEDBACK_CHANNEL }}" [4254,4295]
                                        FIELD [4296,4352]
                                            String: "slackToken" [4296,4308]
                                            STRING [4309,4352]
                                                String: "${{ secrets.SLACK_CIFEEDBACK_BOT_TOKEN }}" [4309,4352]
                                        FIELD [4353,4370]
                                            String: "waitForSSH" [4353,4365]
                                            TRUE [4366,4370]