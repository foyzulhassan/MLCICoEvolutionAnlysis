OBJECT [0,4053]
    FIELD [1,20]
        String: "name" [1,7]
        STRING [8,20]
            String: "MacRelease" [8,20]
    FIELD [21,172]
        String: "on" [21,25]
        OBJECT [26,172]
            FIELD [27,64]
                String: "schedule" [27,37]
                ARRAY [38,64]
                    OBJECT [39,63]
                        FIELD [40,62]
                            String: "cron" [40,46]
                            STRING [47,62]
                                String: "00 00 * * MON" [47,62]
            FIELD [65,101]
                String: "push" [65,71]
                OBJECT [72,101]
                    FIELD [73,100]
                        String: "branches" [73,83]
                        ARRAY [84,100]
                            STRING [85,91]
                                String: "main" [85,91]
                            STRING [92,99]
                                String: "rel-*" [92,99]
            FIELD [102,146]
                String: "pull_request" [102,116]
                OBJECT [117,146]
                    FIELD [118,145]
                        String: "branches" [118,128]
                        ARRAY [129,145]
                            STRING [130,136]
                                String: "main" [130,136]
                            STRING [137,144]
                                String: "rel-*" [137,144]
            FIELD [147,171]
                String: "workflow_dispatch" [147,166]
                NULL [167,171]
    FIELD [173,213]
        String: "env" [173,178]
        OBJECT [179,213]
            FIELD [180,212]
                String: "MACOSX_DEPLOYMENT_TARGET" [180,206]
                NUMBER [207,212]
                    Number: 10.12 [207,212]
    FIELD [214,4052]
        String: "jobs" [214,220]
        OBJECT [221,4052]
            FIELD [222,4051]
                String: "build" [222,229]
                OBJECT [230,4051]
                    FIELD [231,386]
                        String: "if" [231,235]
                        STRING [236,386]
                            String: "github.event_name != 'pull_request' || startsWith( github.base_ref, 'rel-') || contains( github.event.pull_request.labels.*.name, 'run release CIs')" [236,386]
                    FIELD [387,411]
                        String: "runs-on" [387,396]
                        STRING [397,411]
                            String: "macos-latest" [397,411]
                    FIELD [412,502]
                        String: "strategy" [412,422]
                        OBJECT [423,502]
                            FIELD [424,501]
                                String: "matrix" [424,432]
                                OBJECT [433,501]
                                    FIELD [434,477]
                                        String: "python-version" [434,450]
                                        ARRAY [451,477]
                                            STRING [452,457]
                                                String: "3.7" [452,457]
                                            STRING [458,463]
                                                String: "3.8" [458,463]
                                            STRING [464,469]
                                                String: "3.9" [464,469]
                                            STRING [470,476]
                                                String: "3.10" [470,476]
                                    FIELD [478,500]
                                        String: "architecture" [478,492]
                                        ARRAY [493,500]
                                            STRING [494,499]
                                                String: "x64" [494,499]
                    FIELD [503,4050]
                        String: "steps" [503,510]
                        ARRAY [511,4050]
                            OBJECT [512,542]
                                FIELD [513,541]
                                    String: "uses" [513,519]
                                    STRING [520,541]
                                        String: "actions/checkout@v3" [520,541]
                            OBJECT [543,829]
                                FIELD [544,572]
                                    String: "name" [544,550]
                                    STRING [551,572]
                                        String: "Checkout submodules" [551,572]
                                FIELD [573,587]
                                    String: "shell" [573,580]
                                    STRING [581,587]
                                        String: "bash" [581,587]
                                FIELD [588,828]
                                    String: "run" [588,593]
                                    STRING [594,828]
                                        String: "auth_header=\"$(git config --local --get http.https://github.com/.extraheader)\"\ngit submodule sync --recursive\ngit -c \"http.extraheader=$auth_header\" -c protocol.version=2 submodule update --init --force --recursive --depth=1\n" [594,828]
                            OBJECT [830,1017]
                                FIELD [831,882]
                                    String: "name" [831,837]
                                    STRING [838,882]
                                        String: "Set up Python ${{ matrix.python-version }}" [838,882]
                                FIELD [883,915]
                                    String: "uses" [883,889]
                                    STRING [890,915]
                                        String: "actions/setup-python@v4" [890,915]
                                FIELD [916,1016]
                                    String: "with" [916,922]
                                    OBJECT [923,1016]
                                        FIELD [924,971]
                                            String: "python-version" [924,940]
                                            STRING [941,971]
                                                String: "${{ matrix.python-version }}" [941,971]
                                        FIELD [972,1015]
                                            String: "architecture" [972,986]
                                            STRING [987,1015]
                                                String: "${{ matrix.architecture }}" [987,1015]
                            OBJECT [1018,1303]
                                FIELD [1019,1055]
                                    String: "name" [1019,1025]
                                    STRING [1026,1055]
                                        String: "Install Python dependencies" [1026,1055]
                                FIELD [1056,1302]
                                    String: "run" [1056,1061]
                                    STRING [1062,1302]
                                        String: "python -m pip install -q --upgrade pip\npython -m pip install -q -r requirements-release.txt\n# Mac cannot work with Python Protobuf 3.18.3 https://github.com/protocolbuffers/protobuf/issues/10691\npython -m pip install protobuf==3.19.5\n" [1062,1302]
                            OBJECT [1304,2045]
                                FIELD [1305,1337]
                                    String: "name" [1305,1311]
                                    STRING [1312,1337]
                                        String: "Build wheel and install" [1312,1337]
                                FIELD [1338,1386]
                                    String: "env" [1338,1343]
                                    OBJECT [1344,1386]
                                        FIELD [1345,1357]
                                            String: "CC" [1345,1349]
                                            STRING [1350,1357]
                                                String: "clang" [1350,1357]
                                        FIELD [1358,1373]
                                            String: "CXX" [1358,1363]
                                            STRING [1364,1373]
                                                String: "clang++" [1364,1373]
                                        FIELD [1374,1385]
                                            String: "ONNX_ML" [1374,1383]
                                            NUMBER [1384,1385]
                                                Number: 1 [1384,1385]
                                FIELD [1387,2044]
                                    String: "run" [1387,1392]
                                    STRING [1393,2044]
                                        String: "# Install Protobuf from source\nexport NUM_CORES=`sysctl -n hw.logicalcpu`\nsource workflow_scripts/protobuf/build_protobuf_unix.sh $NUM_CORES $(pwd)/protobuf/protobuf_install\nexport CMAKE_ARGS=\"-DONNX_USE_LITE_PROTO=ON\"\n# Currently GitHub Action agent is using macos-11, use -p to force change the final MACOSX_DEPLOYMENT_TARGET\n# Change -p if MACOSX_DEPLOYMENT_TARGET is different\nif [ '${{ github.event_name }}' == 'schedule' ]; then\n  python setup.py bdist_wheel -p macosx_10_12_x86_64 --weekly_build\nelse\n  python setup.py bdist_wheel -p macosx_10_12_x86_64\nfi\nfor file in dist/*.whl; do python -m pip install --upgrade $file; done\n" [1393,2044]
                            OBJECT [2046,2098]
                                FIELD [2047,2080]
                                    String: "name" [2047,2053]
                                    STRING [2054,2080]
                                        String: "Test the installed wheel" [2054,2080]
                                FIELD [2081,2097]
                                    String: "run" [2081,2086]
                                    STRING [2087,2097]
                                        String: "pytest\n" [2087,2097]
                            OBJECT [2099,2175]
                                FIELD [2100,2135]
                                    String: "uses" [2100,2106]
                                    STRING [2107,2135]
                                        String: "actions/upload-artifact@v1" [2107,2135]
                                FIELD [2136,2174]
                                    String: "with" [2136,2142]
                                    OBJECT [2143,2174]
                                        FIELD [2144,2159]
                                            String: "name" [2144,2150]
                                            STRING [2151,2159]
                                                String: "wheels" [2151,2159]
                                        FIELD [2160,2173]
                                            String: "path" [2160,2166]
                                            STRING [2167,2173]
                                                String: "dist" [2167,2173]
                            OBJECT [2176,2420]
                                FIELD [2177,2217]
                                    String: "name" [2177,2183]
                                    STRING [2184,2217]
                                        String: "Upload wheel to TestPyPI weekly" [2184,2217]
                                FIELD [2218,2256]
                                    String: "if" [2218,2222]
                                    STRING [2223,2256]
                                        String: "github.event_name == 'schedule'" [2223,2256]
                                FIELD [2257,2419]
                                    String: "run" [2257,2262]
                                    STRING [2263,2419]
                                        String: "twine upload --verbose dist/*.whl --repository-url https://test.pypi.org/legacy/ -u ${{ secrets.TESTPYPI_USERNAME }} -p ${{ secrets.TESTPYPI_PASSWORD }}\n" [2263,2419]
                            OBJECT [2421,2647]
                                FIELD [2422,2464]
                                    String: "name" [2422,2428]
                                    STRING [2429,2464]
                                        String: "Verify ONNX with the latest numpy" [2429,2464]
                                FIELD [2465,2487]
                                    String: "if" [2465,2469]
                                    STRING [2470,2487]
                                        String: "${{ always() }}" [2470,2487]
                                FIELD [2488,2646]
                                    String: "run" [2488,2493]
                                    STRING [2494,2646]
                                        String: "python -m pip uninstall -y numpy onnx && python -m pip install numpy\nfor file in dist/*.whl; do python -m pip install --upgrade $file; done\npytest\n" [2494,2646]
                            OBJECT [2648,2883]
                                FIELD [2649,2694]
                                    String: "name" [2649,2655]
                                    STRING [2656,2694]
                                        String: "Verify ONNX with the latest protobuf" [2656,2694]
                                FIELD [2695,2717]
                                    String: "if" [2695,2699]
                                    STRING [2700,2717]
                                        String: "${{ always() }}" [2700,2717]
                                FIELD [2718,2882]
                                    String: "run" [2718,2723]
                                    STRING [2724,2882]
                                        String: "python -m pip uninstall -y protobuf onnx && python -m pip install protobuf\nfor file in dist/*.whl; do python -m pip install --upgrade $file; done\npytest\n" [2724,2882]
                            OBJECT [2884,3162]
                                FIELD [2885,2965]
                                    String: "name" [2885,2891]
                                    STRING [2892,2965]
                                        String: "Verify ONNX with the minimum supported protobuf (from requirements.txt)" [2892,2965]
                                FIELD [2966,2988]
                                    String: "if" [2966,2970]
                                    STRING [2971,2988]
                                        String: "${{ always() }}" [2971,2988]
                                FIELD [2989,3161]
                                    String: "run" [2989,2994]
                                    STRING [2995,3161]
                                        String: "python -m pip uninstall -y protobuf onnx && python -m pip install protobuf==3.12.2\nfor file in dist/*.whl; do python -m pip install --upgrade $file; done\npytest\n" [2995,3161]
                            OBJECT [3163,3298]
                                FIELD [3164,3215]
                                    String: "name" [3164,3170]
                                    STRING [3171,3215]
                                        String: "Verify ONNX with ONNX Runtime PyPI package" [3171,3215]
                                FIELD [3216,3297]
                                    String: "run" [3216,3221]
                                    STRING [3222,3297]
                                        String: "python -m pip install -q onnxruntime\npython onnx/test/test_with_ort.py\n" [3222,3297]
                            OBJECT [3299,3694]
                                FIELD [3300,3364]
                                    String: "name" [3300,3306]
                                    STRING [3307,3364]
                                        String: "Build and upload source distribution to TestPyPI weekly" [3307,3364]
                                FIELD [3365,3438]
                                    String: "if" [3365,3369]
                                    STRING [3370,3438]
                                        String: "github.event_name == 'schedule' && matrix.python-version == '3.10'" [3370,3438]
                                FIELD [3439,3693]
                                    String: "run" [3439,3444]
                                    STRING [3445,3693]
                                        String: "# Build and upload source distribution to TestPyPI\ngit clean -xdf\npython setup.py sdist --weekly_build\ntwine upload dist/* --repository-url https://test.pypi.org/legacy/ -u ${{ secrets.TESTPYPI_USERNAME }} -p ${{ secrets.TESTPYPI_PASSWORD }}\n" [3445,3693]
                            OBJECT [3695,4049]
                                FIELD [3696,3743]
                                    String: "name" [3696,3702]
                                    STRING [3703,3743]
                                        String: "Test source distribution from TestPyPI" [3703,3743]
                                FIELD [3744,3817]
                                    String: "if" [3744,3748]
                                    STRING [3749,3817]
                                        String: "github.event_name == 'schedule' && matrix.python-version == '3.10'" [3749,3817]
                                FIELD [3818,4048]
                                    String: "run" [3818,3823]
                                    STRING [3824,4048]
                                        String: "python -m pip uninstall -y onnx\npython -m pip install setuptools\npython -m pip install --index-url https://test.pypi.org/simple --use-deprecated=legacy-resolver --no-use-pep517 --no-binary onnx-weekly onnx-weekly\npytest" [3824,4048]