OBJECT [0,2423]
    FIELD [1,21]
        String: "name" [1,7]
        STRING [8,21]
            String: "master only" [8,21]
    FIELD [22,75]
        String: "on" [22,26]
        OBJECT [27,75]
            FIELD [28,74]
                String: "push" [28,34]
                OBJECT [35,74]
                    FIELD [36,55]
                        String: "branches" [36,46]
                        STRING [47,55]
                            String: "master" [47,55]
                    FIELD [56,73]
                        String: "tags" [56,62]
                        ARRAY [63,73]
                            STRING [64,72]
                                String: "v*.*.*" [64,72]
    FIELD [76,2422]
        String: "jobs" [76,82]
        OBJECT [83,2422]
            FIELD [84,2251]
                String: "build-docker-images" [84,105]
                OBJECT [106,2251]
                    FIELD [107,132]
                        String: "runs-on" [107,116]
                        ARRAY [117,132]
                            STRING [118,131]
                                String: "self-hosted" [118,131]
                    FIELD [133,235]
                        String: "strategy" [133,143]
                        OBJECT [144,235]
                            FIELD [145,161]
                                String: "max-parallel" [145,159]
                                NUMBER [160,161]
                                    Number: 3 [160,161]
                            FIELD [162,234]
                                String: "matrix" [162,170]
                                OBJECT [171,234]
                                    FIELD [172,233]
                                        String: "component" [172,183]
                                        ARRAY [184,233]
                                            STRING [185,191]
                                                String: "core" [185,191]
                                            STRING [192,201]
                                                String: "serving" [192,201]
                                            STRING [202,217]
                                                String: "jobcontroller" [202,217]
                                            STRING [218,227]
                                                String: "jupyter" [218,227]
                                            STRING [228,232]
                                                String: "ci" [228,232]
                    FIELD [236,311]
                        String: "env" [236,241]
                        OBJECT [242,311]
                            FIELD [243,310]
                                String: "MAVEN_CACHE" [243,256]
                                STRING [257,310]
                                    String: "gs://feast-templocation-kf-feast/.m2.2020-08-19.tar" [257,310]
                    FIELD [312,2250]
                        String: "steps" [312,319]
                        ARRAY [320,2250]
                            OBJECT [321,351]
                                FIELD [322,350]
                                    String: "uses" [322,328]
                                    STRING [329,350]
                                        String: "actions/checkout@v2" [329,350]
                            OBJECT [352,480]
                                FIELD [353,416]
                                    String: "uses" [353,359]
                                    STRING [360,416]
                                        String: "GoogleCloudPlatform/github-actions/setup-gcloud@master" [360,416]
                                FIELD [417,479]
                                    String: "with" [417,423]
                                    OBJECT [424,479]
                                        FIELD [425,444]
                                            String: "version" [425,434]
                                            STRING [435,444]
                                                String: "290.0.1" [435,444]
                                        FIELD [445,478]
                                            String: "export_default_credentials" [445,473]
                                            TRUE [474,478]
                            OBJECT [481,527]
                                FIELD [482,526]
                                    String: "run" [482,487]
                                    STRING [488,526]
                                        String: "gcloud auth configure-docker --quiet" [488,526]
                            OBJECT [528,651]
                                FIELD [529,550]
                                    String: "name" [529,535]
                                    STRING [536,550]
                                        String: "Get m2 cache" [536,550]
                                FIELD [551,650]
                                    String: "run" [551,556]
                                    STRING [557,650]
                                        String: "infra/scripts/download-maven-cache.sh \\\n--archive-uri ${MAVEN_CACHE} \\\n--output-dir .\n" [557,650]
                            OBJECT [652,771]
                                FIELD [653,673]
                                    String: "name" [653,659]
                                    STRING [660,673]
                                        String: "Build image" [660,673]
                                FIELD [674,770]
                                    String: "run" [674,679]
                                    STRING [680,770]
                                        String: "make build-${{ matrix.component }}-docker REGISTRY=gcr.io/kf-feast VERSION=${GITHUB_SHA}" [680,770]
                            OBJECT [772,889]
                                FIELD [773,792]
                                    String: "name" [773,779]
                                    STRING [780,792]
                                        String: "Push image" [780,792]
                                FIELD [793,888]
                                    String: "run" [793,798]
                                    STRING [799,888]
                                        String: "make push-${{ matrix.component }}-docker REGISTRY=gcr.io/kf-feast VERSION=${GITHUB_SHA}" [799,888]
                            OBJECT [890,1176]
                                FIELD [891,923]
                                    String: "name" [891,897]
                                    STRING [898,923]
                                        String: "Push image to feast dev" [898,923]
                                FIELD [924,1175]
                                    String: "run" [924,929]
                                    STRING [930,1175]
                                        String: "if [ ${GITHUB_REF#refs/*/} == \"master\" ]; then\n  docker tag gcr.io/kf-feast/feast-${{ matrix.component }}:${GITHUB_SHA} gcr.io/kf-feast/feast-${{ matrix.component }}:dev\n  docker push gcr.io/kf-feast/feast-${{ matrix.component }}:dev\nfi\n" [930,1175]
                            OBJECT [1177,1266]
                                FIELD [1178,1198]
                                    String: "name" [1178,1184]
                                    STRING [1185,1198]
                                        String: "Get version" [1185,1198]
                                FIELD [1199,1265]
                                    String: "run" [1199,1204]
                                    STRING [1205,1265]
                                        String: "echo ::set-env name=RELEASE_VERSION::${GITHUB_REF#refs/*/}" [1205,1265]
                            OBJECT [1267,2249]
                                FIELD [1268,1299]
                                    String: "name" [1268,1274]
                                    STRING [1275,1299]
                                        String: "Push versioned release" [1275,1299]
                                FIELD [1300,2248]
                                    String: "run" [1300,1305]
                                    STRING [1306,2248]
                                        String: "# Build and push semver tagged commits\nrx='^v[0-9]+?\\.[0-9]+?\\.[0-9]+?$'\nif [[ \"${RELEASE_VERSION}\" =~ $rx ]]; then\n  VERSION_WITHOUT_PREFIX=${RELEASE_VERSION:1}\n\n  docker tag gcr.io/kf-feast/feast-${{ matrix.component }}:${GITHUB_SHA} gcr.io/kf-feast/feast-${{ matrix.component }}:${VERSION_WITHOUT_PREFIX}\n  docker push gcr.io/kf-feast/feast-${{ matrix.component }}:${VERSION_WITHOUT_PREFIX}\n\n  # Also update \"latest\" image if tagged commit is pushed to stable branch\n  HIGHEST_SEMVER_TAG=$(git tag -l --sort -version:refname | head -n 1)\n  echo \"Only push to latest tag if tag is the highest semver version $HIGHEST_SEMVER_TAG\"\n\n  if [ \"${VERSION_WITHOUT_PREFIX}\" == \"${HIGHEST_SEMVER_TAG:1}\" ]\n  then\n    docker tag gcr.io/kf-feast/feast-${{ matrix.component }}:${GITHUB_SHA} gcr.io/kf-feast/feast-${{ matrix.component }}:latest\n    docker push gcr.io/kf-feast/feast-${{ matrix.component }}:latest\n  fi\nfi\n" [1306,2248]
            FIELD [2252,2421]
                String: "tests-docker-compose" [2252,2274]
                OBJECT [2275,2421]
                    FIELD [2276,2301]
                        String: "runs-on" [2276,2285]
                        STRING [2286,2301]
                            String: "ubuntu-latest" [2286,2301]
                    FIELD [2302,2420]
                        String: "steps" [2302,2309]
                        ARRAY [2310,2420]
                            OBJECT [2311,2341]
                                FIELD [2312,2340]
                                    String: "uses" [2312,2318]
                                    STRING [2319,2340]
                                        String: "actions/checkout@v2" [2319,2340]
                            OBJECT [2342,2419]
                                FIELD [2343,2371]
                                    String: "name" [2343,2349]
                                    STRING [2350,2371]
                                        String: "Test docker compose" [2350,2371]
                                FIELD [2372,2418]
                                    String: "run" [2372,2377]
                                    STRING [2378,2418]
                                        String: "./infra/scripts/test-docker-compose.sh" [2378,2418]