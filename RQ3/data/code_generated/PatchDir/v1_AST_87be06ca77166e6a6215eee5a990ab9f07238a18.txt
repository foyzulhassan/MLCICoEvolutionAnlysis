OBJECT [0,3777]
    FIELD [1,20]
        String: "name" [1,7]
        STRING [8,20]
            String: "PR slow CI" [8,20]
    FIELD [21,96]
        String: "on" [21,25]
        OBJECT [26,96]
            FIELD [27,95]
                String: "pull_request" [27,41]
                OBJECT [42,95]
                    FIELD [43,94]
                        String: "paths" [43,50]
                        ARRAY [51,94]
                            STRING [52,93]
                                String: "src/transformers/models/*/modeling_*.py" [52,93]
    FIELD [97,405]
        String: "env" [97,102]
        OBJECT [103,405]
            FIELD [104,126]
                String: "HF_HOME" [104,113]
                STRING [114,126]
                    String: "/mnt/cache" [114,126]
            FIELD [127,152]
                String: "TRANSFORMERS_IS_CI" [127,147]
                TRUE [148,152]
            FIELD [153,172]
                String: "OMP_NUM_THREADS" [153,170]
                NUMBER [171,172]
                    Number: 8 [171,172]
            FIELD [173,192]
                String: "MKL_NUM_THREADS" [173,190]
                NUMBER [191,192]
                    Number: 8 [191,192]
            FIELD [193,208]
                String: "RUN_SLOW" [193,203]
                TRUE [204,208]
            FIELD [209,263]
                String: "HF_HUB_READ_TOKEN" [209,228]
                STRING [229,263]
                    String: "${{ secrets.HF_HUB_READ_TOKEN }}" [229,263]
            FIELD [264,316]
                String: "SIGOPT_API_TOKEN" [264,282]
                STRING [283,316]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [283,316]
            FIELD [317,349]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [317,344]
                TRUE [345,349]
            FIELD [350,375]
                String: "RUN_PT_TF_CROSS_TESTS" [350,373]
                NUMBER [374,375]
                    Number: 1 [374,375]
            FIELD [376,404]
                String: "CUDA_VISIBLE_DEVICES" [376,398]
                STRING [399,404]
                    String: "0,1" [399,404]
    FIELD [406,3776]
        String: "jobs" [406,412]
        OBJECT [413,3776]
            FIELD [414,844]
                String: "check_for_new_model" [414,435]
                OBJECT [436,844]
                    FIELD [437,461]
                        String: "runs-on" [437,446]
                        STRING [447,461]
                            String: "ubuntu-22.04" [447,461]
                    FIELD [462,502]
                        String: "name" [462,468]
                        STRING [469,502]
                            String: "Check if a PR is a new model PR" [469,502]
                    FIELD [503,575]
                        String: "outputs" [503,512]
                        OBJECT [513,575]
                            FIELD [514,574]
                                String: "new_model" [514,525]
                                STRING [526,574]
                                    String: "${{ steps.check_new_model.outputs.new_model }}" [526,574]
                    FIELD [576,843]
                        String: "steps" [576,583]
                        ARRAY [584,843]
                            OBJECT [585,642]
                                FIELD [586,614]
                                    String: "uses" [586,592]
                                    STRING [593,614]
                                        String: "actions/checkout@v4" [593,614]
                                FIELD [615,641]
                                    String: "with" [615,621]
                                    OBJECT [622,641]
                                        FIELD [623,640]
                                            String: "fetch-depth" [623,636]
                                            STRING [637,640]
                                                String: "0" [637,640]
                            OBJECT [643,842]
                                FIELD [644,682]
                                    String: "name" [644,650]
                                    STRING [651,682]
                                        String: "Check if there is a new model" [651,682]
                                FIELD [683,705]
                                    String: "id" [683,687]
                                    STRING [688,705]
                                        String: "check_new_model" [688,705]
                                FIELD [706,841]
                                    String: "run" [706,711]
                                    STRING [712,841]
                                        String: "python -m pip install GitPython\necho \"new_model=$(python utils/check_if_new_model_added.py | tail -n 1)\" >> $GITHUB_OUTPUT\n" [712,841]
            FIELD [845,3775]
                String: "run_models_gpu" [845,861]
                OBJECT [862,3775]
                    FIELD [863,903]
                        String: "name" [863,869]
                        STRING [870,903]
                            String: "Run all tests for the new model" [870,903]
                    FIELD [904,1045]
                        String: "if" [904,908]
                        STRING [909,1045]
                            String: "${{ needs.check_for_new_model.outputs.new_model != '' && contains(github.event.pull_request.labels.*.name, 'single-model-run-slow') }}" [909,1045]
                    FIELD [1046,1075]
                        String: "needs" [1046,1053]
                        STRING [1054,1075]
                            String: "check_for_new_model" [1054,1075]
                    FIELD [1076,1224]
                        String: "strategy" [1076,1086]
                        OBJECT [1087,1224]
                            FIELD [1088,1105]
                                String: "fail-fast" [1088,1099]
                                FALSE [1100,1105]
                            FIELD [1106,1223]
                                String: "matrix" [1106,1114]
                                OBJECT [1115,1223]
                                    FIELD [1116,1180]
                                        String: "folders" [1116,1125]
                                        ARRAY [1126,1180]
                                            STRING [1127,1179]
                                                String: "${{ needs.check_for_new_model.outputs.new_model }}" [1127,1179]
                                    FIELD [1181,1222]
                                        String: "machine_type" [1181,1195]
                                        ARRAY [1196,1222]
                                            STRING [1197,1209]
                                                String: "single-gpu" [1197,1209]
                                            STRING [1210,1221]
                                                String: "multi-gpu" [1210,1221]
                    FIELD [1225,1288]
                        String: "runs-on" [1225,1234]
                        ARRAY [1235,1288]
                            STRING [1236,1264]
                                String: "${{ matrix.machine_type }}" [1236,1264]
                            STRING [1265,1277]
                                String: "nvidia-gpu" [1265,1277]
                            STRING [1278,1282]
                                String: "t4" [1278,1282]
                            STRING [1283,1287]
                                String: "ci" [1283,1287]
                    FIELD [1289,1451]
                        String: "container" [1289,1300]
                        OBJECT [1301,1451]
                            FIELD [1302,1351]
                                String: "image" [1302,1309]
                                STRING [1310,1351]
                                    String: "huggingface/transformers-all-latest-gpu" [1310,1351]
                            FIELD [1352,1450]
                                String: "options" [1352,1361]
                                STRING [1362,1450]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1362,1450]
                    FIELD [1452,3774]
                        String: "steps" [1452,1459]
                        ARRAY [1460,3774]
                            OBJECT [1461,1554]
                                FIELD [1462,1497]
                                    String: "name" [1462,1468]
                                    STRING [1469,1497]
                                        String: "Echo input and matrix info" [1469,1497]
                                FIELD [1498,1512]
                                    String: "shell" [1498,1505]
                                    STRING [1506,1512]
                                        String: "bash" [1506,1512]
                                FIELD [1513,1553]
                                    String: "run" [1513,1518]
                                    STRING [1519,1553]
                                        String: "echo \"${{ matrix.folders }}\"\n" [1519,1553]
                            OBJECT [1555,1829]
                                FIELD [1556,1598]
                                    String: "name" [1556,1562]
                                    STRING [1563,1598]
                                        String: "Echo folder ${{ matrix.folders }}" [1563,1598]
                                FIELD [1599,1613]
                                    String: "shell" [1599,1606]
                                    STRING [1607,1613]
                                        String: "bash" [1607,1613]
                                FIELD [1614,1828]
                                    String: "run" [1614,1619]
                                    STRING [1620,1828]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [1620,1828]
                            OBJECT [1830,2095]
                                FIELD [1831,1852]
                                    String: "name" [1831,1837]
                                    STRING [1838,1852]
                                        String: "Update clone" [1838,1852]
                                FIELD [1853,1888]
                                    String: "working-directory" [1853,1872]
                                    STRING [1873,1888]
                                        String: "/transformers" [1873,1888]
                                FIELD [1889,2094]
                                    String: "run" [1889,1894]
                                    STRING [1895,2094]
                                        String: "git fetch && git fetch origin pull/${{ github.event.pull_request.number }}/head:pull/${{ github.event.pull_request.number }}/merge && git checkout pull/${{ github.event.pull_request.number }}/merge" [1895,2094]
                            OBJECT [2096,2311]
                                FIELD [2097,2194]
                                    String: "name" [2097,2103]
                                    STRING [2104,2194]
                                        String: "Reinstall transformers in edit mode (remove the one installed during docker image build)" [2104,2194]
                                FIELD [2195,2230]
                                    String: "working-directory" [2195,2214]
                                    STRING [2215,2230]
                                        String: "/transformers" [2215,2230]
                                FIELD [2231,2310]
                                    String: "run" [2231,2236]
                                    STRING [2237,2310]
                                        String: "python3 -m pip uninstall -y transformers && python3 -m pip install -e ." [2237,2310]
                            OBJECT [2312,2354]
                                FIELD [2313,2332]
                                    String: "name" [2313,2319]
                                    STRING [2320,2332]
                                        String: "NVIDIA-SMI" [2320,2332]
                                FIELD [2333,2353]
                                    String: "run" [2333,2338]
                                    STRING [2339,2353]
                                        String: "nvidia-smi\n" [2339,2353]
                            OBJECT [2355,2450]
                                FIELD [2356,2376]
                                    String: "name" [2356,2362]
                                    STRING [2363,2376]
                                        String: "Environment" [2363,2376]
                                FIELD [2377,2412]
                                    String: "working-directory" [2377,2396]
                                    STRING [2397,2412]
                                        String: "/transformers" [2397,2412]
                                FIELD [2413,2449]
                                    String: "run" [2413,2418]
                                    STRING [2419,2449]
                                        String: "python3 utils/print_env.py\n" [2419,2449]
                            OBJECT [2451,2560]
                                FIELD [2452,2504]
                                    String: "name" [2452,2458]
                                    STRING [2459,2504]
                                        String: "Show installed libraries and their versions" [2459,2504]
                                FIELD [2505,2540]
                                    String: "working-directory" [2505,2524]
                                    STRING [2525,2540]
                                        String: "/transformers" [2525,2540]
                                FIELD [2541,2559]
                                    String: "run" [2541,2546]
                                    STRING [2547,2559]
                                        String: "pip freeze" [2547,2559]
                            OBJECT [2561,2781]
                                FIELD [2562,2591]
                                    String: "name" [2562,2568]
                                    STRING [2569,2591]
                                        String: "Run all tests on GPU" [2569,2591]
                                FIELD [2592,2627]
                                    String: "working-directory" [2592,2611]
                                    STRING [2612,2627]
                                        String: "/transformers" [2612,2627]
                                FIELD [2628,2780]
                                    String: "run" [2628,2633]
                                    STRING [2634,2780]
                                        String: "python3 -m pytest -v -rs --make-reports=${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports tests/${{ matrix.folders }}" [2634,2780]
                            OBJECT [2782,2993]
                                FIELD [2783,2813]
                                    String: "name" [2783,2789]
                                    STRING [2790,2813]
                                        String: "Failure short reports" [2790,2813]
                                FIELD [2814,2837]
                                    String: "if" [2814,2818]
                                    STRING [2819,2837]
                                        String: "${{ failure() }}" [2819,2837]
                                FIELD [2838,2862]
                                    String: "continue-on-error" [2838,2857]
                                    TRUE [2858,2862]
                                FIELD [2863,2992]
                                    String: "run" [2863,2868]
                                    STRING [2869,2992]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports/failures_short.txt" [2869,2992]
                            OBJECT [2994,3385]
                                FIELD [2995,3037]
                                    String: "name" [2995,3001]
                                    STRING [3002,3037]
                                        String: "Make sure report directory exists" [3002,3037]
                                FIELD [3038,3052]
                                    String: "shell" [3038,3045]
                                    STRING [3046,3052]
                                        String: "bash" [3046,3052]
                                FIELD [3053,3384]
                                    String: "run" [3053,3058]
                                    STRING [3059,3384]
                                        String: "mkdir -p /transformers/reports/${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports\necho \"hello\" > /transformers/reports/${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports/hello.txt\necho \"${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports\"\n" [3059,3384]
                            OBJECT [3386,3773]
                                FIELD [3387,3506]
                                    String: "name" [3387,3393]
                                    STRING [3394,3506]
                                        String: "Test suite reports artifacts: ${{ matrix.machine_type }}_run_models_gpu_${{ env.matrix_folders }}_test_reports" [3394,3506]
                                FIELD [3507,3529]
                                    String: "if" [3507,3511]
                                    STRING [3512,3529]
                                        String: "${{ always() }}" [3512,3529]
                                FIELD [3530,3565]
                                    String: "uses" [3530,3536]
                                    STRING [3537,3565]
                                        String: "actions/upload-artifact@v4" [3537,3565]
                                FIELD [3566,3772]
                                    String: "with" [3566,3572]
                                    OBJECT [3573,3772]
                                        FIELD [3574,3663]
                                            String: "name" [3574,3580]
                                            STRING [3581,3663]
                                                String: "${{ matrix.machine_type }}_run_models_gpu_${{ env.matrix_folders }}_test_reports" [3581,3663]
                                        FIELD [3664,3771]
                                            String: "path" [3664,3670]
                                            STRING [3671,3771]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports" [3671,3771]