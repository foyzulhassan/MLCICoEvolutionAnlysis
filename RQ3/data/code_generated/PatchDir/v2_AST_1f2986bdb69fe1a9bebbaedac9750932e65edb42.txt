OBJECT [0,5822]
    FIELD [1,24]
        String: "name" [1,7]
        STRING [8,24]
            String: "OctoBot-Docker" [8,24]
    FIELD [25,101]
        String: "on" [25,29]
        OBJECT [30,101]
            FIELD [31,80]
                String: "push" [31,37]
                OBJECT [38,80]
                    FIELD [39,66]
                        String: "branches" [39,49]
                        ARRAY [50,66]
                            STRING [51,59]
                                String: "master" [51,59]
                            STRING [60,65]
                                String: "dev" [60,65]
                    FIELD [67,79]
                        String: "tags" [67,73]
                        ARRAY [74,79]
                            STRING [75,78]
                                String: "*" [75,78]
            FIELD [81,100]
                String: "pull_request" [81,95]
                NULL [96,100]
    FIELD [102,5821]
        String: "jobs" [102,108]
        OBJECT [109,5821]
            FIELD [110,374]
                String: "lint" [110,116]
                OBJECT [117,374]
                    FIELD [118,156]
                        String: "name" [118,124]
                        STRING [125,156]
                            String: "ubuntu-latest - Docker - lint" [125,156]
                    FIELD [157,182]
                        String: "runs-on" [157,166]
                        STRING [167,182]
                            String: "ubuntu-latest" [167,182]
                    FIELD [183,373]
                        String: "steps" [183,190]
                        ARRAY [191,373]
                            OBJECT [192,222]
                                FIELD [193,221]
                                    String: "uses" [193,199]
                                    STRING [200,221]
                                        String: "actions/checkout@v2" [200,221]
                            OBJECT [223,372]
                                FIELD [224,245]
                                    String: "name" [224,230]
                                    STRING [231,245]
                                        String: "Run hadolint" [231,245]
                                FIELD [246,283]
                                    String: "uses" [246,252]
                                    STRING [253,283]
                                        String: "reviewdog/action-hadolint@v1" [253,283]
                                FIELD [284,371]
                                    String: "with" [284,290]
                                    OBJECT [291,371]
                                        FIELD [292,336]
                                            String: "github_token" [292,306]
                                            STRING [307,336]
                                                String: "${{ secrets.github_token }}" [307,336]
                                        FIELD [337,370]
                                            String: "hadolint_ignore" [337,354]
                                            STRING [355,370]
                                                String: "DL3013 DL3008" [355,370]
            FIELD [375,5551]
                String: "build_test_push" [375,392]
                OBJECT [393,5551]
                    FIELD [394,408]
                        String: "needs" [394,401]
                        STRING [402,408]
                            String: "lint" [402,408]
                    FIELD [409,462]
                        String: "name" [409,415]
                        STRING [416,462]
                            String: "ubuntu-latest - Docker - build & test & push" [416,462]
                    FIELD [463,488]
                        String: "runs-on" [463,472]
                        STRING [473,488]
                            String: "ubuntu-latest" [473,488]
                    FIELD [489,5550]
                        String: "steps" [489,496]
                        ARRAY [497,5550]
                            OBJECT [498,528]
                                FIELD [499,527]
                                    String: "uses" [499,505]
                                    STRING [506,527]
                                        String: "actions/checkout@v2" [506,527]
                            OBJECT [529,1047]
                                FIELD [530,564]
                                    String: "name" [530,536]
                                    STRING [537,564]
                                        String: "Set Environment Variables" [537,564]
                                FIELD [565,1046]
                                    String: "run" [565,570]
                                    STRING [571,1046]
                                        String: "OWNER=\"$(echo \"${{ github.repository_owner }}\" | tr '[:upper:]' '[:lower:]' | tr -d '-')\"\nIMG=octobot\necho \"VERSION=${GITHUB_REF##*/}\" >> $GITHUB_ENV\necho \"IMAGE=${OWNER}/${IMG}\" >> $GITHUB_ENV\necho \"LATEST=latest\" >> $GITHUB_ENV\necho \"STABLE=stable\" >> $GITHUB_ENV\necho \"TEST=test\" >> $GITHUB_ENV\necho \"CONTAINER_NAME=octobot\" >> $GITHUB_ENV\necho \"CHECK_TENTACLE_CONTAINER_TIME=10\" >> $GITHUB_ENV\necho \"WAIT_CONTAINER_TIME=80\" >> $GITHUB_ENV\n" [571,1046]
                            OBJECT [1048,1408]
                                FIELD [1049,1076]
                                    String: "name" [1049,1055]
                                    STRING [1056,1076]
                                        String: "Wait for tentacles" [1056,1076]
                                FIELD [1077,1150]
                                    String: "if" [1077,1081]
                                    STRING [1082,1150]
                                        String: "github.event_name == 'push' && startsWith(github.ref, 'refs/tags')" [1082,1150]
                                FIELD [1151,1201]
                                    String: "uses" [1151,1157]
                                    STRING [1158,1201]
                                        String: "fountainhead/action-wait-for-check@v1.0.0" [1158,1201]
                                FIELD [1202,1227]
                                    String: "id" [1202,1206]
                                    STRING [1207,1227]
                                        String: "wait-for-tentacles" [1207,1227]
                                FIELD [1228,1407]
                                    String: "with" [1228,1234]
                                    OBJECT [1235,1407]
                                        FIELD [1236,1271]
                                            String: "token" [1236,1243]
                                            STRING [1244,1271]
                                                String: "${{ secrets.AUTH_TOKEN }}" [1244,1271]
                                        FIELD [1272,1331]
                                            String: "checkName" [1272,1283]
                                            STRING [1284,1331]
                                                String: "ubuntu-latest - Python 3.8 - upload tentacles" [1284,1331]
                                        FIELD [1332,1357]
                                            String: "ref" [1332,1337]
                                            STRING [1338,1357]
                                                String: "${{ github.ref }}" [1338,1357]
                                        FIELD [1358,1384]
                                            String: "repo" [1358,1364]
                                            STRING [1365,1384]
                                                String: "OctoBot-Tentacles" [1365,1384]
                                        FIELD [1385,1406]
                                            String: "timeoutSeconds" [1385,1401]
                                            NUMBER [1402,1406]
                                                Number: 3600 [1402,1406]
                            OBJECT [1409,1603]
                                FIELD [1410,1453]
                                    String: "name" [1410,1416]
                                    STRING [1417,1453]
                                        String: "Trigger fail when Tentacles failed" [1417,1453]
                                FIELD [1454,1587]
                                    String: "if" [1454,1458]
                                    STRING [1459,1587]
                                        String: "github.event_name == 'push' && startsWith(github.ref, 'refs/tags') && steps.wait-for-tentacles.outputs.conclusion == 'failure'" [1459,1587]
                                FIELD [1588,1602]
                                    String: "run" [1588,1593]
                                    STRING [1594,1602]
                                        String: "exit 1" [1594,1602]
                            OBJECT [1604,1712]
                                FIELD [1605,1625]
                                    String: "name" [1605,1611]
                                    STRING [1612,1625]
                                        String: "Set up QEMU" [1612,1625]
                                FIELD [1626,1643]
                                    String: "id" [1626,1630]
                                    STRING [1631,1643]
                                        String: "qemu-setup" [1631,1643]
                                FIELD [1644,1684]
                                    String: "uses" [1644,1650]
                                    STRING [1651,1684]
                                        String: "docker/setup-qemu-action@master" [1651,1684]
                                FIELD [1685,1711]
                                    String: "with" [1685,1691]
                                    OBJECT [1692,1711]
                                        FIELD [1693,1710]
                                            String: "platforms" [1693,1704]
                                            STRING [1705,1710]
                                                String: "all" [1705,1710]
                            OBJECT [1713,1798]
                                FIELD [1714,1748]
                                    String: "name" [1714,1720]
                                    STRING [1721,1748]
                                        String: "Print available platforms" [1721,1748]
                                FIELD [1749,1797]
                                    String: "run" [1749,1754]
                                    STRING [1755,1797]
                                        String: "echo ${{ steps.qemu.outputs.platforms }}" [1755,1797]
                            OBJECT [1799,1914]
                                FIELD [1800,1829]
                                    String: "name" [1800,1806]
                                    STRING [1807,1829]
                                        String: "Set up Docker Buildx" [1807,1829]
                                FIELD [1830,1843]
                                    String: "id" [1830,1834]
                                    STRING [1835,1843]
                                        String: "buildx" [1835,1843]
                                FIELD [1844,1886]
                                    String: "uses" [1844,1850]
                                    STRING [1851,1886]
                                        String: "docker/setup-buildx-action@master" [1851,1886]
                                FIELD [1887,1913]
                                    String: "with" [1887,1893]
                                    OBJECT [1894,1913]
                                        FIELD [1895,1912]
                                            String: "driver" [1895,1903]
                                            STRING [1904,1912]
                                                String: "docker" [1904,1912]
                            OBJECT [1915,2102]
                                FIELD [1916,1944]
                                    String: "name" [1916,1922]
                                    STRING [1923,1944]
                                        String: "Cache Docker layers" [1923,1944]
                                FIELD [1945,1970]
                                    String: "uses" [1945,1951]
                                    STRING [1952,1970]
                                        String: "actions/cache@v2" [1952,1970]
                                FIELD [1971,2101]
                                    String: "with" [1971,1977]
                                    OBJECT [1978,2101]
                                        FIELD [1979,2006]
                                            String: "path" [1979,1985]
                                            STRING [1986,2006]
                                                String: "/tmp/.buildx-cache" [1986,2006]
                                        FIELD [2007,2056]
                                            String: "key" [2007,2012]
                                            STRING [2013,2056]
                                                String: "${{ runner.os }}-buildx-${{ github.sha }}" [2013,2056]
                                        FIELD [2057,2100]
                                            String: "restore-keys" [2057,2071]
                                            STRING [2072,2100]
                                                String: "${{ runner.os }}-buildx-\n" [2072,2100]
                            OBJECT [2103,2299]
                                FIELD [2104,2131]
                                    String: "name" [2104,2110]
                                    STRING [2111,2131]
                                        String: "Login to DockerHub" [2111,2131]
                                FIELD [2132,2166]
                                    String: "if" [2132,2136]
                                    STRING [2137,2166]
                                        String: "github.event_name == 'push'" [2137,2166]
                                FIELD [2167,2198]
                                    String: "uses" [2167,2173]
                                    STRING [2174,2198]
                                        String: "docker/login-action@v1" [2174,2198]
                                FIELD [2199,2298]
                                    String: "with" [2199,2205]
                                    OBJECT [2206,2298]
                                        FIELD [2207,2253]
                                            String: "username" [2207,2217]
                                            STRING [2218,2253]
                                                String: "${{ secrets.DOCKERHUB_USERNAME }}" [2218,2253]
                                        FIELD [2254,2297]
                                            String: "password" [2254,2264]
                                            STRING [2265,2297]
                                                String: "${{ secrets.DOCKERHUB_TOKEN }}" [2265,2297]
                            OBJECT [2300,2560]
                                FIELD [2301,2334]
                                    String: "name" [2301,2307]
                                    STRING [2308,2334]
                                        String: "Wait for main build done" [2308,2334]
                                FIELD [2335,2369]
                                    String: "if" [2335,2339]
                                    STRING [2340,2369]
                                        String: "github.event_name == 'push'" [2340,2369]
                                FIELD [2370,2420]
                                    String: "uses" [2370,2376]
                                    STRING [2377,2420]
                                        String: "fountainhead/action-wait-for-check@v1.0.0" [2377,2420]
                                FIELD [2421,2447]
                                    String: "id" [2421,2425]
                                    STRING [2426,2447]
                                        String: "wait-for-main-build" [2426,2447]
                                FIELD [2448,2559]
                                    String: "with" [2448,2454]
                                    OBJECT [2455,2559]
                                        FIELD [2456,2491]
                                            String: "token" [2456,2463]
                                            STRING [2464,2491]
                                                String: "${{ secrets.AUTH_TOKEN }}" [2464,2491]
                                        FIELD [2492,2510]
                                            String: "checkName" [2492,2503]
                                            STRING [2504,2510]
                                                String: "Done" [2504,2510]
                                        FIELD [2511,2536]
                                            String: "ref" [2511,2516]
                                            STRING [2517,2536]
                                                String: "${{ github.sha }}" [2517,2536]
                                        FIELD [2537,2558]
                                            String: "timeoutSeconds" [2537,2553]
                                            NUMBER [2554,2558]
                                                Number: 3600 [2554,2558]
                            OBJECT [2561,2712]
                                FIELD [2562,2600]
                                    String: "name" [2562,2568]
                                    STRING [2569,2600]
                                        String: "Trigger fail when Main failed" [2569,2600]
                                FIELD [2601,2696]
                                    String: "if" [2601,2605]
                                    STRING [2606,2696]
                                        String: "github.event_name == 'push' && steps.wait-for-main-build.outputs.conclusion == 'failure'" [2606,2696]
                                FIELD [2697,2711]
                                    String: "run" [2697,2702]
                                    STRING [2703,2711]
                                        String: "exit 1" [2703,2711]
                            OBJECT [2713,3126]
                                FIELD [2714,2735]
                                    String: "name" [2714,2720]
                                    STRING [2721,2735]
                                        String: "Build latest" [2721,2735]
                                FIELD [2736,2770]
                                    String: "if" [2736,2740]
                                    STRING [2741,2770]
                                        String: "github.event_name != 'push'" [2741,2770]
                                FIELD [2771,2811]
                                    String: "uses" [2771,2777]
                                    STRING [2778,2811]
                                        String: "docker/build-push-action@master" [2778,2811]
                                FIELD [2812,3125]
                                    String: "with" [2812,2818]
                                    OBJECT [2819,3125]
                                        FIELD [2820,2833]
                                            String: "context" [2820,2829]
                                            STRING [2830,2833]
                                                String: "." [2830,2833]
                                        FIELD [2834,2878]
                                            String: "builder" [2834,2843]
                                            STRING [2844,2878]
                                                String: "${{ steps.buildx.outputs.name }}" [2844,2878]
                                        FIELD [2879,2917]
                                            String: "platforms" [2879,2890]
                                            STRING [2891,2917]
                                                String: "linux/amd64,linux/arm/v7" [2891,2917]
                                        FIELD [2918,2930]
                                            String: "push" [2918,2924]
                                            FALSE [2925,2930]
                                        FIELD [2931,2974]
                                            String: "tags" [2931,2937]
                                            STRING [2938,2974]
                                                String: "${{ env.IMAGE }}:${{ env.LATEST }}" [2938,2974]
                                        FIELD [2975,3027]
                                            String: "build-args" [2975,2987]
                                            STRING [2988,3027]
                                                String: "TENTACLES_URL_TAG=${{ env.LATEST }}\n" [2988,3027]
                                        FIELD [3028,3076]
                                            String: "cache-from" [3028,3040]
                                            STRING [3041,3076]
                                                String: "type=local,src=/tmp/.buildx-cache" [3041,3076]
                                        FIELD [3077,3124]
                                            String: "cache-to" [3077,3087]
                                            STRING [3088,3124]
                                                String: "type=local,dest=/tmp/.buildx-cache" [3088,3124]
                            OBJECT [3127,3344]
                                FIELD [3128,3164]
                                    String: "name" [3128,3134]
                                    STRING [3135,3164]
                                        String: "Docker build test container" [3135,3164]
                                FIELD [3165,3199]
                                    String: "if" [3165,3169]
                                    STRING [3170,3199]
                                        String: "github.event_name != 'push'" [3170,3199]
                                FIELD [3200,3343]
                                    String: "run" [3200,3205]
                                    STRING [3206,3343]
                                        String: "docker build -f ./tests/Dockerfile --build-arg OCTOBOT_IMAGE=${{ env.IMAGE }}:${{ env.LATEST }} -t ${{ env.IMAGE }}:${{ env.TEST }} .\n" [3206,3343]
                            OBJECT [3345,3550]
                                FIELD [3346,3374]
                                    String: "name" [3346,3352]
                                    STRING [3353,3374]
                                        String: "run tests in docker" [3353,3374]
                                FIELD [3375,3409]
                                    String: "if" [3375,3379]
                                    STRING [3380,3409]
                                        String: "github.event_name != 'push'" [3380,3409]
                                FIELD [3410,3549]
                                    String: "run" [3410,3415]
                                    STRING [3416,3549]
                                        String: "docker run -i -e TENTACLES_REPOSITORY=dev-tentacles -e TENTACLES_URL_TAG=${GITHUB_HEAD_REF////_} ${{ env.IMAGE }}:${{ env.TEST }}\n" [3416,3549]
                            OBJECT [3551,4463]
                                FIELD [3552,3593]
                                    String: "name" [3552,3558]
                                    STRING [3559,3593]
                                        String: "run and check health after start" [3559,3593]
                                FIELD [3594,3628]
                                    String: "if" [3594,3598]
                                    STRING [3599,3628]
                                        String: "github.event_name != 'push'" [3599,3628]
                                FIELD [3629,4462]
                                    String: "run" [3629,3634]
                                    STRING [3635,4462]
                                        String: "echo Start OctoBot docker with branche_name tentacles package\ndocker run -id -e TENTACLES_PACKAGES_SOURCE=dev -e TENTACLES_URL_TAG=${GITHUB_HEAD_REF////_} --name ${{ env.CONTAINER_NAME }} ${{ env.IMAGE }}:${{ env.LATEST }}\nsleep ${{ env.CHECK_TENTACLE_CONTAINER_TIME }}\nif docker logs ${{ env.CONTAINER_NAME }} | grep \"octobot_tentacles_manager.api.util.tentacles_management Can't find tentacle archive at:\" ; then\n    docker rm -f ${{ env.CONTAINER_NAME }}\n    echo Restarting docker with latest tentacle package...\n    docker run -id -e TENTACLES_URL_TAG=${{ env.LATEST }} --name ${{ env.CONTAINER_NAME }} ${{ env.IMAGE }}:${{ env.LATEST }}\nfi\nsleep ${{ env.WAIT_CONTAINER_TIME }}\ndocker logs ${{ env.CONTAINER_NAME }}\ndocker inspect ${{ env.CONTAINER_NAME }} | jq '.[].State.Health.Status' | grep \"healthy\"\n" [3635,4462]
                            OBJECT [4464,4958]
                                FIELD [4465,4495]
                                    String: "name" [4465,4471]
                                    STRING [4472,4495]
                                        String: "Build and push latest" [4472,4495]
                                FIELD [4496,4604]
                                    String: "if" [4496,4500]
                                    STRING [4501,4604]
                                        String: "github.event_name == 'push' && !startsWith(github.ref, 'refs/tags') && github.ref == 'refs/heads/dev'" [4501,4604]
                                FIELD [4605,4645]
                                    String: "uses" [4605,4611]
                                    STRING [4612,4645]
                                        String: "docker/build-push-action@master" [4612,4645]
                                FIELD [4646,4957]
                                    String: "with" [4646,4652]
                                    OBJECT [4653,4957]
                                        FIELD [4654,4667]
                                            String: "context" [4654,4663]
                                            STRING [4664,4667]
                                                String: "." [4664,4667]
                                        FIELD [4668,4712]
                                            String: "builder" [4668,4677]
                                            STRING [4678,4712]
                                                String: "${{ steps.buildx.outputs.name }}" [4678,4712]
                                        FIELD [4713,4750]
                                            String: "platforms" [4713,4724]
                                            STRING [4725,4750]
                                                String: "linux/amd64,linux/arm64" [4725,4750]
                                        FIELD [4751,4762]
                                            String: "push" [4751,4757]
                                            TRUE [4758,4762]
                                        FIELD [4763,4806]
                                            String: "tags" [4763,4769]
                                            STRING [4770,4806]
                                                String: "${{ env.IMAGE }}:${{ env.LATEST }}" [4770,4806]
                                        FIELD [4807,4859]
                                            String: "build-args" [4807,4819]
                                            STRING [4820,4859]
                                                String: "TENTACLES_URL_TAG=${{ env.LATEST }}\n" [4820,4859]
                                        FIELD [4860,4908]
                                            String: "cache-from" [4860,4872]
                                            STRING [4873,4908]
                                                String: "type=local,src=/tmp/.buildx-cache" [4873,4908]
                                        FIELD [4909,4956]
                                            String: "cache-to" [4909,4919]
                                            STRING [4920,4956]
                                                String: "type=local,dest=/tmp/.buildx-cache" [4920,4956]
                            OBJECT [4959,5462]
                                FIELD [4960,4990]
                                    String: "name" [4960,4966]
                                    STRING [4967,4990]
                                        String: "Build and push on tag" [4967,4990]
                                FIELD [4991,5064]
                                    String: "if" [4991,4995]
                                    STRING [4996,5064]
                                        String: "github.event_name == 'push' && startsWith(github.ref, 'refs/tags')" [4996,5064]
                                FIELD [5065,5105]
                                    String: "uses" [5065,5071]
                                    STRING [5072,5105]
                                        String: "docker/build-push-action@master" [5072,5105]
                                FIELD [5106,5461]
                                    String: "with" [5106,5112]
                                    OBJECT [5113,5461]
                                        FIELD [5114,5127]
                                            String: "context" [5114,5123]
                                            STRING [5124,5127]
                                                String: "." [5124,5127]
                                        FIELD [5128,5149]
                                            String: "file" [5128,5134]
                                            STRING [5135,5149]
                                                String: "./Dockerfile" [5135,5149]
                                        FIELD [5150,5194]
                                            String: "builder" [5150,5159]
                                            STRING [5160,5194]
                                                String: "${{ steps.buildx.outputs.name }}" [5160,5194]
                                        FIELD [5195,5232]
                                            String: "platforms" [5195,5206]
                                            STRING [5207,5232]
                                                String: "linux/amd64,linux/arm64" [5207,5232]
                                        FIELD [5233,5244]
                                            String: "push" [5233,5239]
                                            TRUE [5240,5244]
                                        FIELD [5245,5363]
                                            String: "tags" [5245,5251]
                                            STRING [5252,5363]
                                                String: "${{ env.IMAGE }}:${{ env.LATEST }}\n${{ env.IMAGE }}:${{ env.STABLE }}\n${{ env.IMAGE }}:${{ env.VERSION }}\n" [5252,5363]
                                        FIELD [5364,5412]
                                            String: "cache-from" [5364,5376]
                                            STRING [5377,5412]
                                                String: "type=local,src=/tmp/.buildx-cache" [5377,5412]
                                        FIELD [5413,5460]
                                            String: "cache-to" [5413,5423]
                                            STRING [5424,5460]
                                                String: "type=local,dest=/tmp/.buildx-cache" [5424,5460]
                            OBJECT [5463,5549]
                                FIELD [5464,5485]
                                    String: "name" [5464,5470]
                                    STRING [5471,5485]
                                        String: "Image digest" [5471,5485]
                                FIELD [5486,5548]
                                    String: "run" [5486,5491]
                                    STRING [5492,5548]
                                        String: "echo ${{ steps.docker_build_and_psuh.outputs.digest }}" [5492,5548]
            FIELD [5552,5820]
                String: "notify" [5552,5560]
                OBJECT [5561,5820]
                    FIELD [5562,5577]
                        String: "name" [5562,5568]
                        STRING [5569,5577]
                            String: "Notify" [5569,5577]
                    FIELD [5578,5603]
                        String: "runs-on" [5578,5587]
                        STRING [5588,5603]
                            String: "ubuntu-latest" [5588,5603]
                    FIELD [5604,5638]
                        String: "needs" [5604,5611]
                        ARRAY [5612,5638]
                            STRING [5613,5619]
                                String: "lint" [5613,5619]
                            STRING [5620,5637]
                                String: "build_test_push" [5620,5637]
                    FIELD [5639,5662]
                        String: "if" [5639,5643]
                        STRING [5644,5662]
                            String: "${{ failure() }}" [5644,5662]
                    FIELD [5663,5819]
                        String: "steps" [5663,5670]
                        ARRAY [5671,5819]
                            OBJECT [5672,5818]
                                FIELD [5673,5696]
                                    String: "name" [5673,5679]
                                    STRING [5680,5696]
                                        String: "Notify discord" [5680,5696]
                                FIELD [5697,5739]
                                    String: "uses" [5697,5703]
                                    STRING [5704,5739]
                                        String: "sarisia/actions-status-discord@v1" [5704,5739]
                                FIELD [5740,5817]
                                    String: "with" [5740,5746]
                                    OBJECT [5747,5817]
                                        FIELD [5748,5766]
                                            String: "status" [5748,5756]
                                            STRING [5757,5766]
                                                String: "Failure" [5757,5766]
                                        FIELD [5767,5816]
                                            String: "webhook" [5767,5776]
                                            STRING [5777,5816]
                                                String: "${{ secrets.DISCORD_GITHUB_WEBHOOK }}" [5777,5816]