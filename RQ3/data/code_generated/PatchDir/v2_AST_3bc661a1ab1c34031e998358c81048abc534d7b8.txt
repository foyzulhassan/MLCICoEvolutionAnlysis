OBJECT [0,2990]
    FIELD [1,28]
        String: "name" [1,7]
        STRING [8,28]
            String: "Test package build" [8,28]
    FIELD [29,105]
        String: "on" [29,33]
        OBJECT [34,105]
            FIELD [35,65]
                String: "push" [35,41]
                OBJECT [42,65]
                    FIELD [43,64]
                        String: "branches" [43,53]
                        ARRAY [54,64]
                            STRING [55,63]
                                String: "master" [55,63]
            FIELD [66,104]
                String: "pull_request" [66,80]
                OBJECT [81,104]
                    FIELD [82,103]
                        String: "branches" [82,92]
                        ARRAY [93,103]
                            STRING [94,102]
                                String: "master" [94,102]
    FIELD [106,2989]
        String: "jobs" [106,112]
        OBJECT [113,2989]
            FIELD [114,2988]
                String: "build" [114,121]
                OBJECT [122,2988]
                    FIELD [123,148]
                        String: "runs-on" [123,132]
                        STRING [133,148]
                            String: "ubuntu-latest" [133,148]
                    FIELD [149,197]
                        String: "strategy" [149,159]
                        OBJECT [160,197]
                            FIELD [161,196]
                                String: "matrix" [161,169]
                                OBJECT [170,196]
                                    FIELD [171,195]
                                        String: "type" [171,177]
                                        ARRAY [178,195]
                                            STRING [179,185]
                                                String: "full" [179,185]
                                            STRING [186,194]
                                                String: "skinny" [186,194]
                    FIELD [198,2987]
                        String: "steps" [198,205]
                        ARRAY [206,2987]
                            OBJECT [207,237]
                                FIELD [208,236]
                                    String: "uses" [208,214]
                                    STRING [215,236]
                                        String: "actions/checkout@v2" [215,236]
                            OBJECT [238,299]
                                FIELD [239,269]
                                    String: "uses" [239,245]
                                    STRING [246,269]
                                        String: "actions/setup-node@v1" [246,269]
                                FIELD [270,298]
                                    String: "with" [270,276]
                                    OBJECT [277,298]
                                        FIELD [278,297]
                                            String: "node-version" [278,292]
                                            STRING [293,297]
                                                String: "12" [293,297]
                            OBJECT [300,366]
                                FIELD [301,333]
                                    String: "uses" [301,307]
                                    STRING [308,333]
                                        String: "actions/setup-python@v2" [308,333]
                                FIELD [334,365]
                                    String: "with" [334,340]
                                    OBJECT [341,365]
                                        FIELD [342,364]
                                            String: "python-version" [342,358]
                                            STRING [359,364]
                                                String: "3.7" [359,364]
                            OBJECT [367,517]
                                FIELD [368,385]
                                    String: "name" [368,374]
                                    STRING [375,385]
                                        String: "Build UI" [375,385]
                                FIELD [386,421]
                                    String: "if" [386,390]
                                    STRING [391,421]
                                        String: "${{ matrix.type == 'full' }}" [391,421]
                                FIELD [422,460]
                                    String: "working-directory" [422,441]
                                    STRING [442,460]
                                        String: "mlflow/server/js" [442,460]
                                FIELD [461,479]
                                    String: "env" [461,466]
                                    OBJECT [467,479]
                                        FIELD [468,478]
                                            String: "CI" [468,472]
                                            FALSE [473,478]
                                FIELD [480,516]
                                    String: "run" [480,485]
                                    STRING [486,516]
                                        String: "npm install\nnpm run build\n" [486,516]
                            OBJECT [518,583]
                                FIELD [519,548]
                                    String: "name" [519,525]
                                    STRING [526,548]
                                        String: "Install dependencies" [526,548]
                                FIELD [549,582]
                                    String: "run" [549,554]
                                    STRING [555,582]
                                        String: "pip install wheel twine\n" [555,582]
                            OBJECT [584,1175]
                                FIELD [585,618]
                                    String: "name" [585,591]
                                    STRING [592,618]
                                        String: "Build distribution files" [592,618]
                                FIELD [619,637]
                                    String: "id" [619,623]
                                    STRING [624,637]
                                        String: "build-wheel" [624,637]
                                FIELD [638,1174]
                                    String: "run" [638,643]
                                    STRING [644,1174]
                                        String: "if [ \"${{ matrix.type }}\" = \"skinny\" ]; then\n  export MLFLOW_SKINNY=\"true\"\nfi\n\n# Build distribution files\npython setup.py sdist bdist_wheel\n\n# List distribution files and check their file sizes\nls -lh dist\n\n# Set step outputs\nwheel_path=$(find dist -type f -name \"*.whl\")\nwheel_name=$(basename $wheel_path)\nwheel_size=$(stat -c %s $wheel_path)\necho \"::set-output name=wheel-path::${wheel_path}\"\necho \"::set-output name=wheel-name::${wheel_name}\"\necho \"::set-output name=wheel-size::${wheel_size}\"\n" [644,1174]
                            OBJECT [1176,1277]
                                FIELD [1177,1201]
                                    String: "name" [1177,1183]
                                    STRING [1184,1201]
                                        String: "Run twine check" [1184,1201]
                                FIELD [1202,1276]
                                    String: "run" [1202,1207]
                                    STRING [1208,1276]
                                        String: "twine check --strict ${{ steps.build-wheel.outputs.wheel-path }}\n" [1208,1276]
                            OBJECT [1278,1428]
                                FIELD [1279,1305]
                                    String: "name" [1279,1285]
                                    STRING [1286,1305]
                                        String: "Test installation" [1286,1305]
                                FIELD [1306,1427]
                                    String: "run" [1306,1311]
                                    STRING [1312,1427]
                                        String: "pip install ${{ steps.build-wheel.outputs.wheel-path }}\npython -c \"import mlflow; print(mlflow.__version__)\"\n" [1312,1427]
                            OBJECT [1429,1637]
                                FIELD [1430,1450]
                                    String: "name" [1430,1436]
                                    STRING [1437,1450]
                                        String: "Store wheel" [1437,1450]
                                FIELD [1451,1486]
                                    String: "uses" [1451,1457]
                                    STRING [1458,1486]
                                        String: "actions/upload-artifact@v2" [1458,1486]
                                FIELD [1487,1521]
                                    String: "if" [1487,1491]
                                    STRING [1492,1521]
                                        String: "github.event_name == 'push'" [1492,1521]
                                FIELD [1522,1636]
                                    String: "with" [1522,1528]
                                    OBJECT [1529,1636]
                                        FIELD [1530,1582]
                                            String: "name" [1530,1536]
                                            STRING [1537,1582]
                                                String: "${{ steps.build-wheel.outputs.wheel-name }}" [1537,1582]
                                        FIELD [1583,1635]
                                            String: "path" [1583,1589]
                                            STRING [1590,1635]
                                                String: "${{ steps.build-wheel.outputs.wheel-path }}" [1590,1635]
                            OBJECT [1638,2986]
                                FIELD [1639,1665]
                                    String: "name" [1639,1645]
                                    STRING [1646,1665]
                                        String: "Remove old wheels" [1646,1665]
                                FIELD [1666,1699]
                                    String: "uses" [1666,1672]
                                    STRING [1673,1699]
                                        String: "actions/github-script@v3" [1673,1699]
                                FIELD [1700,1734]
                                    String: "if" [1700,1704]
                                    STRING [1705,1734]
                                        String: "github.event_name == 'push'" [1705,1734]
                                FIELD [1735,1801]
                                    String: "env" [1735,1740]
                                    OBJECT [1741,1801]
                                        FIELD [1742,1800]
                                            String: "WHEEL_SIZE" [1742,1754]
                                            STRING [1755,1800]
                                                String: "${{ steps.build-wheel.outputs.wheel-size }}" [1755,1800]
                                FIELD [1802,2985]
                                    String: "with" [1802,1808]
                                    OBJECT [1809,2985]
                                        FIELD [1810,1854]
                                            String: "github-token" [1810,1824]
                                            STRING [1825,1854]
                                                String: "${{ secrets.GITHUB_TOKEN }}" [1825,1854]
                                        FIELD [1855,2984]
                                            String: "script" [1855,1863]
                                            STRING [1864,2984]
                                                String: "const { owner, repo } = context.repo;\n\n// For some reason, the newly-uploaded wheel in the previous step is not included.\nconst artifactsResp = await github.actions.listArtifactsForRepo({\n  owner,\n  repo,\n});\nconst wheels = artifactsResp.data.artifacts.filter(({ name }) => name.endsWith(\".whl\"));\n\n// The storage usage limit for a free github account is up to 500 MB. See the page below for details:\n// https://docs.github.com/en/github/setting-up-and-managing-billing-and-payments-on-github/about-billing-for-github-actions\nMAX_SIZE_IN_BYTES = 300_000_000; // 300 MB\n\nlet index = 0;\nlet sum = parseInt(process.env.WHEEL_SIZE);  // include the newly-uploaded wheel\nfor (const [idx, { size_in_bytes }] of wheels.entries()) {\n  index = idx;\n  sum += size_in_bytes;\n  if (sum > MAX_SIZE_IN_BYTES) {\n    break;\n  }\n}\n\nif (sum <= MAX_SIZE_IN_BYTES) {\n  return;\n}\n\n// Delete old wheels\nconst promises = wheels.slice(index).map(({ id: artifact_id }) =>\n  github.actions.deleteArtifact({\n    owner,\n    repo,\n    artifact_id,\n  })\n);\nPromise.all(promises).then(data => console.log(data));" [1864,2984]