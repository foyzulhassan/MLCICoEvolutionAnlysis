OBJECT [0,8069]
    FIELD [1,40]
        String: "name" [1,7]
        STRING [8,40]
            String: "Self-hosted runner (scheduled)" [8,40]
    FIELD [41,108]
        String: "on" [41,45]
        OBJECT [46,108]
            FIELD [47,73]
                String: "repository_dispatch" [47,68]
                NULL [69,73]
            FIELD [74,107]
                String: "schedule" [74,84]
                ARRAY [85,107]
                    OBJECT [86,106]
                        FIELD [87,105]
                            String: "cron" [87,93]
                            STRING [94,105]
                                String: "0 2 * * *" [94,105]
    FIELD [109,333]
        String: "env" [109,114]
        OBJECT [115,333]
            FIELD [116,138]
                String: "HF_HOME" [116,125]
                STRING [126,138]
                    String: "/mnt/cache" [126,138]
            FIELD [139,164]
                String: "TRANSFORMERS_IS_CI" [139,159]
                TRUE [160,164]
            FIELD [165,184]
                String: "OMP_NUM_THREADS" [165,182]
                NUMBER [183,184]
                    Number: 8 [183,184]
            FIELD [185,204]
                String: "MKL_NUM_THREADS" [185,202]
                NUMBER [203,204]
                    Number: 8 [203,204]
            FIELD [205,220]
                String: "RUN_SLOW" [205,215]
                TRUE [216,220]
            FIELD [221,273]
                String: "SIGOPT_API_TOKEN" [221,239]
                STRING [240,273]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [240,273]
            FIELD [274,306]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [274,301]
                TRUE [302,306]
            FIELD [307,332]
                String: "RUN_PT_TF_CROSS_TESTS" [307,330]
                NUMBER [331,332]
                    Number: 1 [331,332]
    FIELD [334,8068]
        String: "jobs" [334,340]
        OBJECT [341,8068]
            FIELD [342,1596]
                String: "setup" [342,349]
                OBJECT [350,1596]
                    FIELD [351,365]
                        String: "name" [351,357]
                        STRING [358,365]
                            String: "Setup" [358,365]
                    FIELD [366,441]
                        String: "strategy" [366,376]
                        OBJECT [377,441]
                            FIELD [378,440]
                                String: "matrix" [378,386]
                                OBJECT [387,440]
                                    FIELD [388,439]
                                        String: "machines" [388,398]
                                        ARRAY [399,439]
                                            STRING [400,418]
                                                String: "multi-gpu-docker" [400,418]
                                            STRING [419,438]
                                                String: "single-gpu-docker" [419,438]
                    FIELD [442,476]
                        String: "runs-on" [442,451]
                        STRING [452,476]
                            String: "${{ matrix.machines }}" [452,476]
                    FIELD [477,637]
                        String: "container" [477,488]
                        OBJECT [489,637]
                            FIELD [490,539]
                                String: "image" [490,497]
                                STRING [498,539]
                                    String: "huggingface/transformers-all-latest-gpu" [498,539]
                            FIELD [540,636]
                                String: "options" [540,549]
                                STRING [550,636]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [550,636]
                    FIELD [638,699]
                        String: "outputs" [638,647]
                        OBJECT [648,699]
                            FIELD [649,698]
                                String: "matrix" [649,657]
                                STRING [658,698]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [658,698]
                    FIELD [700,1595]
                        String: "steps" [700,707]
                        ARRAY [708,1595]
                            OBJECT [709,822]
                                FIELD [710,731]
                                    String: "name" [710,716]
                                    STRING [717,731]
                                        String: "Update clone" [717,731]
                                FIELD [732,767]
                                    String: "working-directory" [732,751]
                                    STRING [752,767]
                                        String: "/transformers" [752,767]
                                FIELD [768,821]
                                    String: "run" [768,773]
                                    STRING [774,821]
                                        String: "git fetch && git checkout ${{ github.sha }}\n" [774,821]
                            OBJECT [823,928]
                                FIELD [824,840]
                                    String: "name" [824,830]
                                    STRING [831,840]
                                        String: "Cleanup" [831,840]
                                FIELD [841,876]
                                    String: "working-directory" [841,860]
                                    STRING [861,876]
                                        String: "/transformers" [861,876]
                                FIELD [877,927]
                                    String: "run" [877,882]
                                    STRING [883,927]
                                        String: "rm -rf tests/__pycache__\nrm -rf reports\n" [883,927]
                            OBJECT [929,1172]
                                FIELD [930,947]
                                    String: "id" [930,934]
                                    STRING [935,947]
                                        String: "set-matrix" [935,947]
                                FIELD [948,980]
                                    String: "name" [948,954]
                                    STRING [955,980]
                                        String: "Identify models to test" [955,980]
                                FIELD [981,1022]
                                    String: "working-directory" [981,1000]
                                    STRING [1001,1022]
                                        String: "/transformers/tests" [1001,1022]
                                FIELD [1023,1171]
                                    String: "run" [1023,1028]
                                    STRING [1029,1171]
                                        String: "echo \"::set-output name=matrix::$(python3 -c 'import os; x = list(filter(os.path.isdir, os.listdir(os.getcwd()))); x.sort(); print(x)')\"\n" [1029,1171]
                            OBJECT [1173,1215]
                                FIELD [1174,1193]
                                    String: "name" [1174,1180]
                                    STRING [1181,1193]
                                        String: "NVIDIA-SMI" [1181,1193]
                                FIELD [1194,1214]
                                    String: "run" [1194,1199]
                                    STRING [1200,1214]
                                        String: "nvidia-smi\n" [1200,1214]
                            OBJECT [1216,1594]
                                FIELD [1217,1240]
                                    String: "name" [1217,1223]
                                    STRING [1224,1240]
                                        String: "GPU visibility" [1224,1240]
                                FIELD [1241,1276]
                                    String: "working-directory" [1241,1260]
                                    STRING [1261,1276]
                                        String: "/transformers" [1261,1276]
                                FIELD [1277,1593]
                                    String: "run" [1277,1282]
                                    STRING [1283,1593]
                                        String: "utils/print_env_pt.py\nTF_CPP_MIN_LOG_LEVEL=3 python3 -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python3 -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [1283,1593]
            FIELD [1597,2876]
                String: "run_tests_gpu" [1597,1612]
                OBJECT [1613,2876]
                    FIELD [1614,1634]
                        String: "name" [1614,1620]
                        STRING [1621,1634]
                            String: "Model tests" [1621,1634]
                    FIELD [1635,1784]
                        String: "strategy" [1635,1645]
                        OBJECT [1646,1784]
                            FIELD [1647,1664]
                                String: "fail-fast" [1647,1658]
                                FALSE [1659,1664]
                            FIELD [1665,1783]
                                String: "matrix" [1665,1673]
                                OBJECT [1674,1783]
                                    FIELD [1675,1730]
                                        String: "folders" [1675,1684]
                                        STRING [1685,1730]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [1685,1730]
                                    FIELD [1731,1782]
                                        String: "machines" [1731,1741]
                                        ARRAY [1742,1782]
                                            STRING [1743,1761]
                                                String: "multi-gpu-docker" [1743,1761]
                                            STRING [1762,1781]
                                                String: "single-gpu-docker" [1762,1781]
                    FIELD [1785,1819]
                        String: "runs-on" [1785,1794]
                        STRING [1795,1819]
                            String: "${{ matrix.machines }}" [1795,1819]
                    FIELD [1820,1980]
                        String: "container" [1820,1831]
                        OBJECT [1832,1980]
                            FIELD [1833,1882]
                                String: "image" [1833,1840]
                                STRING [1841,1882]
                                    String: "huggingface/transformers-all-latest-gpu" [1841,1882]
                            FIELD [1883,1979]
                                String: "options" [1883,1892]
                                STRING [1893,1979]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1893,1979]
                    FIELD [1981,1996]
                        String: "needs" [1981,1988]
                        STRING [1989,1996]
                            String: "setup" [1989,1996]
                    FIELD [1997,2875]
                        String: "steps" [1997,2004]
                        ARRAY [2005,2875]
                            OBJECT [2006,2089]
                                FIELD [2007,2049]
                                    String: "name" [2007,2013]
                                    STRING [2014,2049]
                                        String: "Echo folder ${{ matrix.folders }}" [2014,2049]
                                FIELD [2050,2088]
                                    String: "run" [2050,2055]
                                    STRING [2056,2088]
                                        String: "echo \"${{ matrix.folders }}\"" [2056,2088]
                            OBJECT [2090,2201]
                                FIELD [2091,2112]
                                    String: "name" [2091,2097]
                                    STRING [2098,2112]
                                        String: "Update clone" [2098,2112]
                                FIELD [2113,2148]
                                    String: "working-directory" [2113,2132]
                                    STRING [2133,2148]
                                        String: "/transformers" [2133,2148]
                                FIELD [2149,2200]
                                    String: "run" [2149,2154]
                                    STRING [2155,2200]
                                        String: "git fetch && git checkout ${{ github.sha }}" [2155,2200]
                            OBJECT [2202,2405]
                                FIELD [2203,2241]
                                    String: "name" [2203,2209]
                                    STRING [2210,2241]
                                        String: "Run all non-slow tests on GPU" [2210,2241]
                                FIELD [2242,2277]
                                    String: "working-directory" [2242,2261]
                                    STRING [2262,2277]
                                        String: "/transformers" [2262,2277]
                                FIELD [2278,2404]
                                    String: "run" [2278,2283]
                                    STRING [2284,2404]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machines }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [2284,2404]
                            OBJECT [2406,2595]
                                FIELD [2407,2437]
                                    String: "name" [2407,2413]
                                    STRING [2414,2437]
                                        String: "Failure short reports" [2414,2437]
                                FIELD [2438,2461]
                                    String: "if" [2438,2442]
                                    STRING [2443,2461]
                                        String: "${{ failure() }}" [2443,2461]
                                FIELD [2462,2486]
                                    String: "continue-on-error" [2462,2481]
                                    TRUE [2482,2486]
                                FIELD [2487,2594]
                                    String: "run" [2487,2492]
                                    STRING [2493,2594]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [2493,2594]
                            OBJECT [2596,2874]
                                FIELD [2597,2634]
                                    String: "name" [2597,2603]
                                    STRING [2604,2634]
                                        String: "Test suite reports artifacts" [2604,2634]
                                FIELD [2635,2657]
                                    String: "if" [2635,2639]
                                    STRING [2640,2657]
                                        String: "${{ always() }}" [2640,2657]
                                FIELD [2658,2693]
                                    String: "uses" [2658,2664]
                                    STRING [2665,2693]
                                        String: "actions/upload-artifact@v2" [2665,2693]
                                FIELD [2694,2873]
                                    String: "with" [2694,2700]
                                    OBJECT [2701,2873]
                                        FIELD [2702,2786]
                                            String: "name" [2702,2708]
                                            STRING [2709,2786]
                                                String: "${{ matrix.machines }}_run_all_tests_gpu_${{ matrix.folders }}_test_reports" [2709,2786]
                                        FIELD [2787,2872]
                                            String: "path" [2787,2793]
                                            STRING [2794,2872]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_gpu_${{ matrix.folders }}" [2794,2872]
            FIELD [2877,3802]
                String: "run_examples_gpu" [2877,2895]
                OBJECT [2896,3802]
                    FIELD [2897,2924]
                        String: "name" [2897,2903]
                        STRING [2904,2924]
                            String: "Examples directory" [2904,2924]
                    FIELD [2925,2970]
                        String: "runs-on" [2925,2934]
                        ARRAY [2935,2970]
                            STRING [2936,2949]
                                String: "self-hosted" [2936,2949]
                            STRING [2950,2969]
                                String: "single-gpu-docker" [2950,2969]
                    FIELD [2971,3131]
                        String: "container" [2971,2982]
                        OBJECT [2983,3131]
                            FIELD [2984,3033]
                                String: "image" [2984,2991]
                                STRING [2992,3033]
                                    String: "huggingface/transformers-all-latest-gpu" [2992,3033]
                            FIELD [3034,3130]
                                String: "options" [3034,3043]
                                STRING [3044,3130]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [3044,3130]
                    FIELD [3132,3147]
                        String: "needs" [3132,3139]
                        STRING [3140,3147]
                            String: "setup" [3140,3147]
                    FIELD [3148,3801]
                        String: "steps" [3148,3155]
                        ARRAY [3156,3801]
                            OBJECT [3157,3268]
                                FIELD [3158,3179]
                                    String: "name" [3158,3164]
                                    STRING [3165,3179]
                                        String: "Update clone" [3165,3179]
                                FIELD [3180,3215]
                                    String: "working-directory" [3180,3199]
                                    STRING [3200,3215]
                                        String: "/transformers" [3200,3215]
                                FIELD [3216,3267]
                                    String: "run" [3216,3221]
                                    STRING [3222,3267]
                                        String: "git fetch && git checkout ${{ github.sha }}" [3222,3267]
                            OBJECT [3269,3474]
                                FIELD [3270,3304]
                                    String: "name" [3270,3276]
                                    STRING [3277,3304]
                                        String: "Run examples tests on GPU" [3277,3304]
                                FIELD [3305,3340]
                                    String: "working-directory" [3305,3324]
                                    STRING [3325,3340]
                                        String: "/transformers" [3325,3340]
                                FIELD [3341,3473]
                                    String: "run" [3341,3346]
                                    STRING [3347,3473]
                                        String: "pip install -r examples/pytorch/_tests_requirements.txt\npython3 -m pytest -v --make-reports=examples_gpu examples/pytorch\n" [3347,3473]
                            OBJECT [3475,3622]
                                FIELD [3476,3506]
                                    String: "name" [3476,3482]
                                    STRING [3483,3506]
                                        String: "Failure short reports" [3483,3506]
                                FIELD [3507,3530]
                                    String: "if" [3507,3511]
                                    STRING [3512,3530]
                                        String: "${{ failure() }}" [3512,3530]
                                FIELD [3531,3555]
                                    String: "continue-on-error" [3531,3550]
                                    TRUE [3551,3555]
                                FIELD [3556,3621]
                                    String: "run" [3556,3561]
                                    STRING [3562,3621]
                                        String: "cat /transformers/reports/examples_gpu/failures_short.txt" [3562,3621]
                            OBJECT [3623,3800]
                                FIELD [3624,3661]
                                    String: "name" [3624,3630]
                                    STRING [3631,3661]
                                        String: "Test suite reports artifacts" [3631,3661]
                                FIELD [3662,3684]
                                    String: "if" [3662,3666]
                                    STRING [3667,3684]
                                        String: "${{ always() }}" [3667,3684]
                                FIELD [3685,3720]
                                    String: "uses" [3685,3691]
                                    STRING [3692,3720]
                                        String: "actions/upload-artifact@v2" [3692,3720]
                                FIELD [3721,3799]
                                    String: "with" [3721,3727]
                                    OBJECT [3728,3799]
                                        FIELD [3729,3754]
                                            String: "name" [3729,3735]
                                            STRING [3736,3754]
                                                String: "run_examples_gpu" [3736,3754]
                                        FIELD [3755,3798]
                                            String: "path" [3755,3761]
                                            STRING [3762,3798]
                                                String: "/transformers/reports/examples_gpu" [3762,3798]
            FIELD [3803,4972]
                String: "run_pipelines_torch_gpu" [3803,3828]
                OBJECT [3829,4972]
                    FIELD [3830,3856]
                        String: "name" [3830,3836]
                        STRING [3837,3856]
                            String: "PyTorch pipelines" [3837,3856]
                    FIELD [3857,3950]
                        String: "strategy" [3857,3867]
                        OBJECT [3868,3950]
                            FIELD [3869,3886]
                                String: "fail-fast" [3869,3880]
                                FALSE [3881,3886]
                            FIELD [3887,3949]
                                String: "matrix" [3887,3895]
                                OBJECT [3896,3949]
                                    FIELD [3897,3948]
                                        String: "machines" [3897,3907]
                                        ARRAY [3908,3948]
                                            STRING [3909,3927]
                                                String: "multi-gpu-docker" [3909,3927]
                                            STRING [3928,3947]
                                                String: "single-gpu-docker" [3928,3947]
                    FIELD [3951,3985]
                        String: "runs-on" [3951,3960]
                        STRING [3961,3985]
                            String: "${{ matrix.machines }}" [3961,3985]
                    FIELD [3986,4150]
                        String: "container" [3986,3997]
                        OBJECT [3998,4150]
                            FIELD [3999,4052]
                                String: "image" [3999,4006]
                                STRING [4007,4052]
                                    String: "huggingface/transformers-pytorch-latest-gpu" [4007,4052]
                            FIELD [4053,4149]
                                String: "options" [4053,4062]
                                STRING [4063,4149]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [4063,4149]
                    FIELD [4151,4166]
                        String: "needs" [4151,4158]
                        STRING [4159,4166]
                            String: "setup" [4159,4166]
                    FIELD [4167,4971]
                        String: "steps" [4167,4174]
                        ARRAY [4175,4971]
                            OBJECT [4176,4287]
                                FIELD [4177,4198]
                                    String: "name" [4177,4183]
                                    STRING [4184,4198]
                                        String: "Update clone" [4184,4198]
                                FIELD [4199,4234]
                                    String: "working-directory" [4199,4218]
                                    STRING [4219,4234]
                                        String: "/transformers" [4219,4234]
                                FIELD [4235,4286]
                                    String: "run" [4235,4240]
                                    STRING [4241,4286]
                                        String: "git fetch && git checkout ${{ github.sha }}" [4241,4286]
                            OBJECT [4288,4539]
                                FIELD [4289,4327]
                                    String: "name" [4289,4295]
                                    STRING [4296,4327]
                                        String: "Run all pipeline tests on GPU" [4296,4327]
                                FIELD [4328,4363]
                                    String: "working-directory" [4328,4347]
                                    STRING [4348,4363]
                                        String: "/transformers" [4348,4363]
                                FIELD [4364,4397]
                                    String: "env" [4364,4369]
                                    OBJECT [4370,4397]
                                        FIELD [4371,4396]
                                            String: "RUN_PIPELINE_TESTS" [4371,4391]
                                            TRUE [4392,4396]
                                FIELD [4398,4538]
                                    String: "run" [4398,4403]
                                    STRING [4404,4538]
                                        String: "python3 -m pytest -n 1 -v --dist=loadfile -m is_pipeline_test --make-reports=${{ matrix.machines }}_tests_torch_pipeline_gpu tests\n" [4404,4538]
                            OBJECT [4540,4722]
                                FIELD [4541,4571]
                                    String: "name" [4541,4547]
                                    STRING [4548,4571]
                                        String: "Failure short reports" [4548,4571]
                                FIELD [4572,4595]
                                    String: "if" [4572,4576]
                                    STRING [4577,4595]
                                        String: "${{ failure() }}" [4577,4595]
                                FIELD [4596,4620]
                                    String: "continue-on-error" [4596,4615]
                                    TRUE [4616,4620]
                                FIELD [4621,4721]
                                    String: "run" [4621,4626]
                                    STRING [4627,4721]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_torch_pipeline_gpu/failures_short.txt" [4627,4721]
                            OBJECT [4723,4970]
                                FIELD [4724,4761]
                                    String: "name" [4724,4730]
                                    STRING [4731,4761]
                                        String: "Test suite reports artifacts" [4731,4761]
                                FIELD [4762,4784]
                                    String: "if" [4762,4766]
                                    STRING [4767,4784]
                                        String: "${{ always() }}" [4767,4784]
                                FIELD [4785,4820]
                                    String: "uses" [4785,4791]
                                    STRING [4792,4820]
                                        String: "actions/upload-artifact@v2" [4792,4820]
                                FIELD [4821,4969]
                                    String: "with" [4821,4827]
                                    OBJECT [4828,4969]
                                        FIELD [4829,4889]
                                            String: "name" [4829,4835]
                                            STRING [4836,4889]
                                                String: "${{ matrix.machines }}_run_tests_torch_pipeline_gpu" [4836,4889]
                                        FIELD [4890,4968]
                                            String: "path" [4890,4896]
                                            STRING [4897,4968]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_torch_pipeline_gpu" [4897,4968]
            FIELD [4973,6111]
                String: "run_pipelines_tf_gpu" [4973,4995]
                OBJECT [4996,6111]
                    FIELD [4997,5026]
                        String: "name" [4997,5003]
                        STRING [5004,5026]
                            String: "TensorFlow pipelines" [5004,5026]
                    FIELD [5027,5120]
                        String: "strategy" [5027,5037]
                        OBJECT [5038,5120]
                            FIELD [5039,5056]
                                String: "fail-fast" [5039,5050]
                                FALSE [5051,5056]
                            FIELD [5057,5119]
                                String: "matrix" [5057,5065]
                                OBJECT [5066,5119]
                                    FIELD [5067,5118]
                                        String: "machines" [5067,5077]
                                        ARRAY [5078,5118]
                                            STRING [5079,5097]
                                                String: "multi-gpu-docker" [5079,5097]
                                            STRING [5098,5117]
                                                String: "single-gpu-docker" [5098,5117]
                    FIELD [5121,5155]
                        String: "runs-on" [5121,5130]
                        STRING [5131,5155]
                            String: "${{ matrix.machines }}" [5131,5155]
                    FIELD [5156,5323]
                        String: "container" [5156,5167]
                        OBJECT [5168,5323]
                            FIELD [5169,5225]
                                String: "image" [5169,5176]
                                STRING [5177,5225]
                                    String: "huggingface/transformers-tensorflow-latest-gpu" [5177,5225]
                            FIELD [5226,5322]
                                String: "options" [5226,5235]
                                STRING [5236,5322]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [5236,5322]
                    FIELD [5324,5339]
                        String: "needs" [5324,5331]
                        STRING [5332,5339]
                            String: "setup" [5332,5339]
                    FIELD [5340,6110]
                        String: "steps" [5340,5347]
                        ARRAY [5348,6110]
                            OBJECT [5349,5462]
                                FIELD [5350,5371]
                                    String: "name" [5350,5356]
                                    STRING [5357,5371]
                                        String: "Update clone" [5357,5371]
                                FIELD [5372,5407]
                                    String: "working-directory" [5372,5391]
                                    STRING [5392,5407]
                                        String: "/transformers" [5392,5407]
                                FIELD [5408,5461]
                                    String: "run" [5408,5413]
                                    STRING [5414,5461]
                                        String: "git fetch && git checkout ${{ github.sha }}\n" [5414,5461]
                            OBJECT [5463,5711]
                                FIELD [5464,5502]
                                    String: "name" [5464,5470]
                                    STRING [5471,5502]
                                        String: "Run all pipeline tests on GPU" [5471,5502]
                                FIELD [5503,5538]
                                    String: "working-directory" [5503,5522]
                                    STRING [5523,5538]
                                        String: "/transformers" [5523,5538]
                                FIELD [5539,5572]
                                    String: "env" [5539,5544]
                                    OBJECT [5545,5572]
                                        FIELD [5546,5571]
                                            String: "RUN_PIPELINE_TESTS" [5546,5566]
                                            TRUE [5567,5571]
                                FIELD [5573,5710]
                                    String: "run" [5573,5578]
                                    STRING [5579,5710]
                                        String: "python3 -m pytest -n 1 -v --dist=loadfile -m is_pipeline_test --make-reports=${{ matrix.machines }}_tests_tf_pipeline_gpu tests\n" [5579,5710]
                            OBJECT [5712,5867]
                                FIELD [5713,5743]
                                    String: "name" [5713,5719]
                                    STRING [5720,5743]
                                        String: "Failure short reports" [5720,5743]
                                FIELD [5744,5766]
                                    String: "if" [5744,5748]
                                    STRING [5749,5766]
                                        String: "${{ always() }}" [5749,5766]
                                FIELD [5767,5866]
                                    String: "run" [5767,5772]
                                    STRING [5773,5866]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_tf_pipeline_gpu/failures_short.txt\n" [5773,5866]
                            OBJECT [5868,6109]
                                FIELD [5869,5906]
                                    String: "name" [5869,5875]
                                    STRING [5876,5906]
                                        String: "Test suite reports artifacts" [5876,5906]
                                FIELD [5907,5929]
                                    String: "if" [5907,5911]
                                    STRING [5912,5929]
                                        String: "${{ always() }}" [5912,5929]
                                FIELD [5930,5965]
                                    String: "uses" [5930,5936]
                                    STRING [5937,5965]
                                        String: "actions/upload-artifact@v2" [5937,5965]
                                FIELD [5966,6108]
                                    String: "with" [5966,5972]
                                    OBJECT [5973,6108]
                                        FIELD [5974,6031]
                                            String: "name" [5974,5980]
                                            STRING [5981,6031]
                                                String: "${{ matrix.machines }}_run_tests_tf_pipeline_gpu" [5981,6031]
                                        FIELD [6032,6107]
                                            String: "path" [6032,6038]
                                            STRING [6039,6107]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_tf_pipeline_gpu" [6039,6107]
            FIELD [6112,7339]
                String: "run_all_tests_torch_cuda_extensions_gpu" [6112,6153]
                OBJECT [6154,7339]
                    FIELD [6155,6190]
                        String: "name" [6155,6161]
                        STRING [6162,6190]
                            String: "Torch CUDA extension tests" [6162,6190]
                    FIELD [6191,6284]
                        String: "strategy" [6191,6201]
                        OBJECT [6202,6284]
                            FIELD [6203,6220]
                                String: "fail-fast" [6203,6214]
                                FALSE [6215,6220]
                            FIELD [6221,6283]
                                String: "matrix" [6221,6229]
                                OBJECT [6230,6283]
                                    FIELD [6231,6282]
                                        String: "machines" [6231,6241]
                                        ARRAY [6242,6282]
                                            STRING [6243,6261]
                                                String: "multi-gpu-docker" [6243,6261]
                                            STRING [6262,6281]
                                                String: "single-gpu-docker" [6262,6281]
                    FIELD [6285,6319]
                        String: "runs-on" [6285,6294]
                        STRING [6295,6319]
                            String: "${{ matrix.machines }}" [6295,6319]
                    FIELD [6320,6335]
                        String: "needs" [6320,6327]
                        STRING [6328,6335]
                            String: "setup" [6328,6335]
                    FIELD [6336,6512]
                        String: "container" [6336,6347]
                        OBJECT [6348,6512]
                            FIELD [6349,6412]
                                String: "image" [6349,6356]
                                STRING [6357,6412]
                                    String: "huggingface/transformers-pytorch-deepspeed-latest-gpu" [6357,6412]
                            FIELD [6413,6511]
                                String: "options" [6413,6422]
                                STRING [6423,6511]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [6423,6511]
                    FIELD [6513,7338]
                        String: "steps" [6513,6520]
                        ARRAY [6521,7338]
                            OBJECT [6522,6643]
                                FIELD [6523,6544]
                                    String: "name" [6523,6529]
                                    STRING [6530,6544]
                                        String: "Update clone" [6530,6544]
                                FIELD [6545,6590]
                                    String: "working-directory" [6545,6564]
                                    STRING [6565,6590]
                                        String: "/workspace/transformers" [6565,6590]
                                FIELD [6591,6642]
                                    String: "run" [6591,6596]
                                    STRING [6597,6642]
                                        String: "git fetch && git checkout ${{ github.sha }}" [6597,6642]
                            OBJECT [6644,6852]
                                FIELD [6645,6674]
                                    String: "name" [6645,6651]
                                    STRING [6652,6674]
                                        String: "Run all tests on GPU" [6652,6674]
                                FIELD [6675,6720]
                                    String: "working-directory" [6675,6694]
                                    STRING [6695,6720]
                                        String: "/workspace/transformers" [6695,6720]
                                FIELD [6721,6851]
                                    String: "run" [6721,6726]
                                    STRING [6727,6851]
                                        String: "python -m pytest -v --make-reports=${{ matrix.machines }}_tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [6727,6851]
                            OBJECT [6853,7052]
                                FIELD [6854,6884]
                                    String: "name" [6854,6860]
                                    STRING [6861,6884]
                                        String: "Failure short reports" [6861,6884]
                                FIELD [6885,6908]
                                    String: "if" [6885,6889]
                                    STRING [6890,6908]
                                        String: "${{ failure() }}" [6890,6908]
                                FIELD [6909,6933]
                                    String: "continue-on-error" [6909,6928]
                                    TRUE [6929,6933]
                                FIELD [6934,7051]
                                    String: "run" [6934,6939]
                                    STRING [6940,7051]
                                        String: "cat /workspace/transformers/reports/${{ matrix.machines }}_tests_torch_cuda_extensions_gpu/failures_short.txt" [6940,7051]
                            OBJECT [7053,7337]
                                FIELD [7054,7091]
                                    String: "name" [7054,7060]
                                    STRING [7061,7091]
                                        String: "Test suite reports artifacts" [7061,7091]
                                FIELD [7092,7114]
                                    String: "if" [7092,7096]
                                    STRING [7097,7114]
                                        String: "${{ always() }}" [7097,7114]
                                FIELD [7115,7150]
                                    String: "uses" [7115,7121]
                                    STRING [7122,7150]
                                        String: "actions/upload-artifact@v2" [7122,7150]
                                FIELD [7151,7336]
                                    String: "with" [7151,7157]
                                    OBJECT [7158,7336]
                                        FIELD [7159,7239]
                                            String: "name" [7159,7165]
                                            STRING [7166,7239]
                                                String: "${{ matrix.machines }}_run_tests_torch_cuda_extensions_gpu_test_reports" [7166,7239]
                                        FIELD [7240,7335]
                                            String: "path" [7240,7246]
                                            STRING [7247,7335]
                                                String: "/workspace/transformers/reports/${{ matrix.machines }}_tests_torch_cuda_extensions_gpu" [7247,7335]
            FIELD [7340,8067]
                String: "send_results" [7340,7354]
                OBJECT [7355,8067]
                    FIELD [7356,7388]
                        String: "name" [7356,7362]
                        STRING [7363,7388]
                            String: "Send results to webhook" [7363,7388]
                    FIELD [7389,7414]
                        String: "runs-on" [7389,7398]
                        STRING [7399,7414]
                            String: "ubuntu-latest" [7399,7414]
                    FIELD [7415,7430]
                        String: "if" [7415,7419]
                        STRING [7420,7430]
                            String: "always()" [7420,7430]
                    FIELD [7431,7574]
                        String: "needs" [7431,7438]
                        ARRAY [7439,7574]
                            STRING [7440,7447]
                                String: "setup" [7440,7447]
                            STRING [7448,7463]
                                String: "run_tests_gpu" [7448,7463]
                            STRING [7464,7482]
                                String: "run_examples_gpu" [7464,7482]
                            STRING [7483,7505]
                                String: "run_pipelines_tf_gpu" [7483,7505]
                            STRING [7506,7531]
                                String: "run_pipelines_torch_gpu" [7506,7531]
                            STRING [7532,7573]
                                String: "run_all_tests_torch_cuda_extensions_gpu" [7532,7573]
                    FIELD [7575,8066]
                        String: "steps" [7575,7582]
                        ARRAY [7583,8066]
                            OBJECT [7584,7614]
                                FIELD [7585,7613]
                                    String: "uses" [7585,7591]
                                    STRING [7592,7613]
                                        String: "actions/checkout@v2" [7592,7613]
                            OBJECT [7615,7654]
                                FIELD [7616,7653]
                                    String: "uses" [7616,7622]
                                    STRING [7623,7653]
                                        String: "actions/download-artifact@v2" [7623,7653]
                            OBJECT [7655,8065]
                                FIELD [7656,7686]
                                    String: "name" [7656,7662]
                                    STRING [7663,7686]
                                        String: "Send message to Slack" [7663,7686]
                                FIELD [7687,7958]
                                    String: "env" [7687,7692]
                                    OBJECT [7693,7958]
                                        FIELD [7694,7750]
                                            String: "CI_SLACK_BOT_TOKEN" [7694,7714]
                                            STRING [7715,7750]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [7715,7750]
                                        FIELD [7751,7809]
                                            String: "CI_SLACK_CHANNEL_ID" [7751,7772]
                                            STRING [7773,7809]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [7773,7809]
                                        FIELD [7810,7880]
                                            String: "CI_SLACK_CHANNEL_ID_DAILY" [7810,7837]
                                            STRING [7838,7880]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY }}" [7838,7880]
                                        FIELD [7881,7957]
                                            String: "CI_SLACK_CHANNEL_DUMMY_TESTS" [7881,7911]
                                            STRING [7912,7957]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_DUMMY_TESTS }}" [7912,7957]
                                FIELD [7959,8064]
                                    String: "run" [7959,7964]
                                    STRING [7965,8064]
                                        String: "pip install slack_sdk\npython utils/notification_service.py \"${{ needs.setup.outputs.matrix }}\"" [7965,8064]