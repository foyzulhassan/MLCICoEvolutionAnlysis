OBJECT [0,15159]
    FIELD [1,22]
        String: "name" [1,7]
        STRING [8,22]
            String: "Lint & Tests" [8,22]
    FIELD [23,51]
        String: "on" [23,27]
        ARRAY [28,51]
            STRING [29,35]
                String: "push" [29,35]
            STRING [36,50]
                String: "pull_request" [36,50]
    FIELD [52,15158]
        String: "jobs" [52,58]
        OBJECT [59,15158]
            FIELD [60,14702]
                String: "lint-and-tests" [60,76]
                OBJECT [77,14702]
                    FIELD [78,103]
                        String: "runs-on" [78,87]
                        STRING [88,103]
                            String: "ubuntu-latest" [88,103]
                    FIELD [104,150]
                        String: "strategy" [104,114]
                        OBJECT [115,150]
                            FIELD [116,149]
                                String: "matrix" [116,124]
                                OBJECT [125,149]
                                    FIELD [126,148]
                                        String: "python-version" [126,142]
                                        ARRAY [143,148]
                                            NUMBER [144,147]
                                                Number: 3.8 [144,147]
                    FIELD [151,14701]
                        String: "steps" [151,158]
                        ARRAY [159,14701]
                            OBJECT [160,190]
                                FIELD [161,189]
                                    String: "uses" [161,167]
                                    STRING [168,189]
                                        String: "actions/checkout@v2" [168,189]
                            OBJECT [191,334]
                                FIELD [192,243]
                                    String: "name" [192,198]
                                    STRING [199,243]
                                        String: "Set up Python ${{ matrix.python-version }}" [199,243]
                                FIELD [244,276]
                                    String: "uses" [244,250]
                                    STRING [251,276]
                                        String: "actions/setup-python@v2" [251,276]
                                FIELD [277,333]
                                    String: "with" [277,283]
                                    OBJECT [284,333]
                                        FIELD [285,332]
                                            String: "python-version" [285,301]
                                            STRING [302,332]
                                                String: "${{ matrix.python-version }}" [302,332]
                            OBJECT [335,663]
                                FIELD [336,365]
                                    String: "name" [336,342]
                                    STRING [343,365]
                                        String: "Install dependencies" [343,365]
                                FIELD [366,662]
                                    String: "run" [366,371]
                                    STRING [372,662]
                                        String: "python -m pip install --upgrade pip\npip install --upgrade setuptools\npip install -e .\npip install -r requirements.opt.txt\npip install sacrebleu\npip install flake8\npython -m pip install black==22.* flake8==3.8.*\nif [ -f requirements.txt ]; then pip install -r requirements.txt; fi\n" [372,662]
                            OBJECT [664,722]
                                FIELD [665,695]
                                    String: "name" [665,671]
                                    STRING [672,695]
                                        String: "Check code with Black" [672,695]
                                FIELD [696,721]
                                    String: "run" [696,701]
                                    STRING [702,721]
                                        String: "black --check .\n" [702,721]
                            OBJECT [723,769]
                                FIELD [724,749]
                                    String: "name" [724,730]
                                    STRING [731,749]
                                        String: "Lint with flake8" [731,749]
                                FIELD [750,768]
                                    String: "run" [750,755]
                                    STRING [756,768]
                                        String: "flake8 .\n" [756,768]
                            OBJECT [770,829]
                                FIELD [771,790]
                                    String: "name" [771,777]
                                    STRING [778,790]
                                        String: "Unit tests" [778,790]
                                FIELD [791,828]
                                    String: "run" [791,796]
                                    STRING [797,828]
                                        String: "python -m unittest discover\n" [797,828]
                            OBJECT [830,1082]
                                FIELD [831,861]
                                    String: "name" [831,837]
                                    STRING [838,861]
                                        String: "Test vocabulary build" [838,861]
                                FIELD [862,1081]
                                    String: "run" [862,867]
                                    STRING [868,1081]
                                        String: "python onmt/bin/build_vocab.py \\\n  -config data/data.yaml \\\n  -save_data /tmp/onmt \\\n  -n_sample 5000 \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  && rm -rf /tmp/sample\n" [868,1081]
                            OBJECT [1083,1371]
                                FIELD [1084,1128]
                                    String: "name" [1084,1090]
                                    STRING [1091,1128]
                                        String: "Test vocabulary build with features" [1091,1128]
                                FIELD [1129,1370]
                                    String: "run" [1129,1134]
                                    STRING [1135,1370]
                                        String: "python onmt/bin/build_vocab.py \\\n  -config data/features_data.yaml \\\n  -save_data /tmp/onmt_feat \\\n  -src_vocab /tmp/onmt_feat.vocab.src \\\n  -tgt_vocab /tmp/onmt_feat.vocab.tgt \\\n  -n_sample -1 \\\n  && rm -rf /tmp/sample\n" [1135,1370]
                            OBJECT [1372,1785]
                                FIELD [1373,1407]
                                    String: "name" [1373,1379]
                                    STRING [1380,1407]
                                        String: "Test field/transform dump" [1380,1407]
                                FIELD [1408,1784]
                                    String: "run" [1408,1413]
                                    STRING [1414,1784]
                                        String: "# The dumped fields are used later when testing tools\npython train.py \\\n  -config data/data.yaml \\\n  -save_data /tmp/onmt.train.check \\\n  -dump_fields \\\n  -dump_transforms \\\n  -n_sample 30 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000\n" [1414,1784]
                            OBJECT [1786,2322]
                                FIELD [1787,1813]
                                    String: "name" [1787,1793]
                                    STRING [1794,1813]
                                        String: "Test RNN training" [1794,1813]
                                FIELD [1814,2321]
                                    String: "run" [1814,1819]
                                    STRING [1820,2321]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -hidden_size 2 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -batch_size 10 \\\n  -word_vec_size 5 \\\n  -report_every 5\\\n  -hidden_size 10 \\\n  -train_steps 10 \\\n  -tensorboard \"true\" \\\n  -tensorboard_log_dir /tmp/logs_train\npython onmt/tests/test_events.py --logdir /tmp/logs_train -tensorboard_checks train\n" [1820,2321]
                            OBJECT [2323,2935]
                                FIELD [2324,2375]
                                    String: "name" [2324,2330]
                                    STRING [2331,2375]
                                        String: "Test RNN training and validation with copy" [2331,2375]
                                FIELD [2376,2934]
                                    String: "run" [2376,2381]
                                    STRING [2382,2934]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -hidden_size 2 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -batch_size 10 \\\n  -word_vec_size 5 \\\n  -report_every 5 \\\n  -hidden_size 10 \\\n  -train_steps 10 -valid_steps 5 \\\n  -tensorboard \"true\" \\\n  -tensorboard_log_dir /tmp/logs_train_valid \\\n  -copy_attn\npython onmt/tests/test_events.py --logdir /tmp/logs_train_valid -tensorboard_checks train_valid\n" [2382,2934]
                            OBJECT [2936,3367]
                                FIELD [2937,2977]
                                    String: "name" [2937,2943]
                                    STRING [2944,2977]
                                        String: "Test RNN training with coverage" [2944,2977]
                                FIELD [2978,3366]
                                    String: "run" [2978,2983]
                                    STRING [2984,3366]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -hidden_size 2 -batch_size 10 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -word_vec_size 5 -report_every 5        \\\n  -coverage_attn true -lambda_coverage 0.1 \\\n  -hidden_size 10 -train_steps 10\n" [2984,3366]
                            OBJECT [3368,4019]
                                FIELD [3369,3414]
                                    String: "name" [3369,3375]
                                    STRING [3376,3414]
                                        String: "Test Transformer training with align" [3376,3414]
                                FIELD [3415,4018]
                                    String: "run" [3415,3420]
                                    STRING [3421,4018]
                                        String: "python train.py \\\n  -config data/align_data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -encoder_type transformer \\\n  -decoder_type transformer \\\n  -layers 4 \\\n  -word_vec_size 16 \\\n  -hidden_size 16 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -heads 2 \\\n  -transformer_ff 64 \\\n  -lambda_align 0.05 \\\n  -alignment_layer 2 \\\n  -alignment_heads 0 \\\n  -dropout_steps 0 3 7 \\\n  -dropout 0.3 0.2 0.1 \\\n  -attention_dropout 0.2 0.1 0.1 \\\n  -report_every 5 \\\n  -train_steps 10\n" [3421,4018]
                            OBJECT [4020,4950]
                                FIELD [4021,4076]
                                    String: "name" [4021,4027]
                                    STRING [4028,4076]
                                        String: "Test Transformer training with dynamic scoring" [4028,4076]
                                FIELD [4077,4949]
                                    String: "run" [4077,4082]
                                    STRING [4083,4949]
                                        String: "python3 train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -encoder_type transformer \\\n  -decoder_type transformer \\\n  -layers 4 \\\n  -word_vec_size 16 \\\n  -hidden_size 16 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -heads 2 \\\n  -transformer_ff 64 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -accum_count 2 4 8 \\\n  -accum_steps 0 15000 30000 \\\n  -save_model /tmp/onmt.model \\\n  -train_steps 20 \\\n  -report_every 5 \\\n  -train_eval_steps 10 \\\n  -train_metrics \"BLEU\" \"TER\" \\\n  -tensorboard \"true\" \\\n  -scoring_debug \"true\" \\\n  -tensorboard_log_dir /tmp/logs_train_metrics \\\n  -dump_preds /tmp/dump_preds\npython onmt/tests/test_events.py --logdir /tmp/logs_train_metrics -tensorboard_checks train_metrics\n" [4083,4949]
                            OBJECT [4951,5994]
                                FIELD [4952,5031]
                                    String: "name" [4952,4958]
                                    STRING [4959,5031]
                                        String: "Test Transformer training and validation with dynamic scoring and copy" [4959,5031]
                                FIELD [5032,5993]
                                    String: "run" [5032,5037]
                                    STRING [5038,5993]
                                        String: "python3 train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -encoder_type transformer \\\n  -decoder_type transformer \\\n  -layers 4 \\\n  -word_vec_size 16 \\\n  -hidden_size 16 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -heads 2 \\\n  -transformer_ff 64 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -accum_count 2 4 8 \\\n  -accum_steps 0 15000 30000 \\\n  -save_model /tmp/onmt.model \\\n  -train_steps 10  -valid_steps 5 \\\n  -report_every 2 \\\n  -train_eval_steps 8 \\\n  -train_metrics \"BLEU\" \"TER\" \\\n  -valid_metrics \"BLEU\" \"TER\" \\\n  -tensorboard \"true\" \\\n  -scoring_debug \"true\" \\\n  -tensorboard_log_dir /tmp/logs_train_valid_metrics \\\n  -dump_preds /tmp/dump_preds \\\n  -copy_attn\npython onmt/tests/test_events.py --logdir /tmp/logs_train_valid_metrics -tensorboard_checks train_valid_metrics \n" [5038,5993]
                            OBJECT [5995,6511]
                                FIELD [5996,6021]
                                    String: "name" [5996,6002]
                                    STRING [6003,6021]
                                        String: "Test LM training" [6003,6021]
                                FIELD [6022,6510]
                                    String: "run" [6022,6027]
                                    STRING [6028,6510]
                                        String: "python train.py \\\n    -config data/lm_data.yaml \\\n    -src_vocab /tmp/onmt.vocab.src \\\n    -tgt_vocab /tmp/onmt.vocab.src \\\n    -model_task lm \\\n    -encoder_type transformer_lm \\\n    -decoder_type transformer_lm \\\n    -src_vocab_size 1000 \\\n    -tgt_vocab_size 1000 \\\n    -num_workers 0 -bucket_size 1024 \\\n    -dec_layers 2 -batch_size 10 \\\n    -heads 4 -transformer_ff 64 \\\n    -word_vec_size 16 -report_every 5 \\\n    -hidden_size 16 -train_steps 10\n" [6028,6510]
                            OBJECT [6512,7036]
                                FIELD [6513,6548]
                                    String: "name" [6513,6519]
                                    STRING [6520,6548]
                                        String: "Test LM training with copy" [6520,6548]
                                FIELD [6549,7035]
                                    String: "run" [6549,6554]
                                    STRING [6555,7035]
                                        String: "python train.py \\\n  -config data/lm_data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.src \\\n  -model_task lm \\\n  -encoder_type transformer_lm \\\n  -decoder_type transformer_lm \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -dec_layers 2 -batch_size 10 \\\n  -heads 4 -transformer_ff 64 \\\n  -word_vec_size 16 -report_every 5        \\\n  -hidden_size 16 -train_steps 10 \\\n  -copy_attn\n" [6555,7035]
                            OBJECT [7037,7569]
                                FIELD [7038,7081]
                                    String: "name" [7038,7044]
                                    STRING [7045,7081]
                                        String: "Test Graph neural network training" [7045,7081]
                                FIELD [7082,7568]
                                    String: "run" [7082,7087]
                                    STRING [7088,7568]
                                        String: "python train.py \\\n  -config data/ggnn_data.yaml \\\n  -src_seq_length 1000 \\\n  -tgt_seq_length 30 \\\n  -encoder_type ggnn \\\n  -layers 2 \\\n  -decoder_type rnn \\\n  -hidden_size 256 \\\n  -learning_rate 0.1 \\\n  -learning_rate_decay 0.8 \\\n  -global_attention general \\\n  -batch_size 32 \\\n  -word_vec_size 256 \\\n  -bridge \\\n  -num_workers 0 -bucket_size 1024 \\\n  -train_steps 10 \\\n  -n_edge_types 9 \\\n  -state_dim 256 \\\n  -n_steps 10 \\\n  -n_node 64\n" [7088,7568]
                            OBJECT [7570,8034]
                                FIELD [7571,7610]
                                    String: "name" [7571,7577]
                                    STRING [7578,7610]
                                        String: "Testing training with features" [7578,7610]
                                FIELD [7611,8033]
                                    String: "run" [7611,7616]
                                    STRING [7617,8033]
                                        String: "python onmt/bin/train.py \\\n  -config data/features_data.yaml \\\n  -src_vocab /tmp/onmt_feat.vocab.src \\\n  -tgt_vocab /tmp/onmt_feat.vocab.tgt \\\n  -src_vocab_size 1000 -tgt_vocab_size 1000 \\\n  -hidden_size 2 -batch_size 10 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -word_vec_size 5 -hidden_size 10 \\\n  -report_every 5 -train_steps 10 \\\n  -save_model /tmp/onmt.model \\\n  -save_checkpoint_steps 10\n" [7617,8033]
                            OBJECT [8035,8595]
                                FIELD [8036,8095]
                                    String: "name" [8036,8042]
                                    STRING [8043,8095]
                                        String: "Testing training with features and dynamic scoring" [8043,8095]
                                FIELD [8096,8594]
                                    String: "run" [8096,8101]
                                    STRING [8102,8594]
                                        String: "python onmt/bin/train.py \\\n  -config data/features_data.yaml \\\n  -src_vocab /tmp/onmt_feat.vocab.src \\\n  -tgt_vocab /tmp/onmt_feat.vocab.tgt \\\n  -src_vocab_size 1000 -tgt_vocab_size 1000 \\\n  -hidden_size 2 -batch_size 10 \\\n  -word_vec_size 5 -hidden_size 10 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -report_every 5 -train_steps 10 \\\n  -train_metrics \"BLEU\" \"TER\" \\\n  -valid_metrics \"BLEU\" \"TER\" \\\n  -save_model /tmp/onmt.model \\\n  -save_checkpoint_steps 10\n" [8102,8594]
                            OBJECT [8596,8800]
                                FIELD [8597,8639]
                                    String: "name" [8597,8603]
                                    STRING [8604,8639]
                                        String: "Testing translation with features" [8604,8639]
                                FIELD [8640,8799]
                                    String: "run" [8640,8645]
                                    STRING [8646,8799]
                                        String: "python translate.py \\\n    -model /tmp/onmt.model_step_10.pt \\\n    -src data/data_features/src-test-with-feats.txt \\\n    -n_src_feats 1 -verbose\n" [8646,8799]
                            OBJECT [8801,8988]
                                FIELD [8802,8831]
                                    String: "name" [8802,8808]
                                    STRING [8809,8831]
                                        String: "Test RNN translation" [8809,8831]
                                FIELD [8832,8987]
                                    String: "run" [8832,8837]
                                    STRING [8838,8987]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython translate.py \\\n  -model onmt/tests/test_model.pt \\\n  -src /tmp/src-test.txt \\\n  -verbose\n" [8838,8987]
                            OBJECT [8989,9216]
                                FIELD [8990,9028]
                                    String: "name" [8990,8996]
                                    STRING [8997,9028]
                                        String: "Test RNN ensemble translation" [8997,9028]
                                FIELD [9029,9215]
                                    String: "run" [9029,9034]
                                    STRING [9035,9215]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython translate.py \\\n  -model onmt/tests/test_model.pt \\\n  onmt/tests/test_model.pt \\\n  -src /tmp/src-test.txt \\\n  -verbose\n" [9035,9215]
                            OBJECT [9217,9531]
                                FIELD [9218,9264]
                                    String: "name" [9218,9224]
                                    STRING [9225,9264]
                                        String: "Test RNN translation with beam search" [9225,9264]
                                FIELD [9265,9530]
                                    String: "run" [9265,9270]
                                    STRING [9271,9530]
                                        String: "python translate.py \\\n  -model onmt/tests/test_model2.pt \\\n  -src data/morph/src.valid \\\n  -verbose \\\n  -batch_size 10 \\\n  -beam_size 10 \\\n  -tgt data/morph/tgt.valid \\\n  -out /tmp/trans\ndiff data/morph/tgt.valid /tmp/trans && rm /tmp/trans\n" [9271,9530]
                            OBJECT [9532,9933]
                                FIELD [9533,9583]
                                    String: "name" [9533,9539]
                                    STRING [9540,9583]
                                        String: "Test RNN translation with random sampling" [9540,9583]
                                FIELD [9584,9932]
                                    String: "run" [9584,9589]
                                    STRING [9590,9932]
                                        String: "python translate.py \\\n  -model onmt/tests/test_model2.pt \\\n  -src data/morph/src.valid \\\n  -verbose \\\n  -batch_size 10 \\\n  -beam_size 1 \\\n  -seed 1 \\\n  -random_sampling_topk \"-1\" \\\n  -random_sampling_temp 0.0001 \\\n  -tgt data/morph/tgt.valid \\\n  -out /tmp/trans\ndiff data/morph/tgt.valid /tmp/trans && rm /tmp/trans\n" [9590,9932]
                            OBJECT [9934,10122]
                                FIELD [9935,9962]
                                    String: "name" [9935,9941]
                                    STRING [9942,9962]
                                        String: "Test LM generation" [9942,9962]
                                FIELD [9963,10121]
                                    String: "run" [9963,9968]
                                    STRING [9969,10121]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython translate.py \\\n  -model onmt/tests/test_model_lm.pt \\\n  -src /tmp/src-test.txt \\\n  -verbose\n" [9969,10121]
                            OBJECT [10123,10453]
                                FIELD [10124,10168]
                                    String: "name" [10124,10130]
                                    STRING [10131,10168]
                                        String: "Test LM generation with beam search" [10131,10168]
                                FIELD [10169,10452]
                                    String: "run" [10169,10174]
                                    STRING [10175,10452]
                                        String: "python translate.py \\\n  -model onmt/tests/test_model_lm.pt \\\n  -src data/data_lm/src-gen.txt \\\n  -verbose -batch_size 1 \\\n  -beam_size 10 \\\n  -ban_unk_token \\\n  -length_penalty none \\\n  -out /tmp/gen\ndiff data/data_lm/gen-beam-sol.txt /tmp/gen && rm /tmp/gen\n" [10175,10452]
                            OBJECT [10454,10865]
                                FIELD [10455,10503]
                                    String: "name" [10455,10461]
                                    STRING [10462,10503]
                                        String: "Test LM generation with random sampling" [10462,10503]
                                FIELD [10504,10864]
                                    String: "run" [10504,10509]
                                    STRING [10510,10864]
                                        String: "python translate.py -model onmt/tests/test_model_lm.pt \\\n  -src data/data_lm/src-gen.txt \\\n  -verbose -batch_size 1 \\\n  -beam_size 1 \\\n  -seed 1 \\\n  -random_sampling_topk -1 \\\n  -random_sampling_temp 0.0001 \\\n  -ban_unk_token \\\n  -length_penalty none \\\n  -out /tmp/gen\ndiff data/data_lm/gen-sampling-sol.txt /tmp/gen && rm /tmp/gen\n" [10510,10864]
                            OBJECT [10866,11327]
                                FIELD [10867,10929]
                                    String: "name" [10867,10873]
                                    STRING [10874,10929]
                                        String: "Test LM generation with random top-k/nucleus sampling" [10874,10929]
                                FIELD [10930,11326]
                                    String: "run" [10930,10935]
                                    STRING [10936,11326]
                                        String: "python translate.py -model onmt/tests/test_model_lm.pt \\\n  -src data/data_lm/src-gen.txt \\\n  -verbose -batch_size 1 \\\n  -beam_size 1 \\\n  -seed 3 \\\n  -random_sampling_topk -1 \\\n  -random_sampling_topp 0.95 \\\n  -random_sampling_temp 1 \\\n  -ban_unk_token \\\n  -length_penalty none \\\n  -out /tmp/gen\ndiff data/data_lm/gen-nucleus-sampling-sol.txt /tmp/gen && rm /tmp/gen\n" [10936,11326]
                            OBJECT [11328,11805]
                                FIELD [11329,11389]
                                    String: "name" [11329,11335]
                                    STRING [11336,11389]
                                        String: "Test LM generation with random sampling multi-beams" [11336,11389]
                                FIELD [11390,11804]
                                    String: "run" [11390,11395]
                                    STRING [11396,11804]
                                        String: "python translate.py -model onmt/tests/test_model_lm.pt \\\n  -src data/data_lm/src-gen.txt \\\n  -verbose -batch_size 1 \\\n  -beam_size 10 \\\n  -seed 2 \\\n  -random_sampling_topk 50 \\\n  -random_sampling_topp 0.95 \\\n  -random_sampling_temp 1 \\\n  -length_penalty avg \\\n  -ban_unk_token \\\n  -min_length 5 \\\n  -out /tmp/gen\ndiff data/data_lm/gen-sampling-beams-sol.txt /tmp/gen && rm /tmp/gen\n" [11396,11804]
                            OBJECT [11806,12122]
                                FIELD [11807,11844]
                                    String: "name" [11807,11813]
                                    STRING [11814,11844]
                                        String: "Test extract_vocabulary tool" [11814,11844]
                                FIELD [11845,12121]
                                    String: "run" [11845,11850]
                                    STRING [11851,12121]
                                        String: "python tools/extract_vocabulary.py \\\n  -model onmt/tests/test_model.pt \\\n  -side src \\\n  -out_file /tmp/onmt.vocab.txt\nif ! wc -l /tmp/onmt.vocab.txt | grep -qF  \"1002\"\n  then echo \"wrong word count\" && exit 1\nelse\n  echo \"create vocabulary pass\"\nfi\n" [11851,12121]
                            OBJECT [12123,12425]
                                FIELD [12124,12162]
                                    String: "name" [12124,12130]
                                    STRING [12131,12162]
                                        String: "Test embeddings_to_torch tool" [12131,12162]
                                FIELD [12163,12424]
                                    String: "run" [12163,12168]
                                    STRING [12169,12424]
                                        String: "python tools/embeddings_to_torch.py \\\n  -emb_file_enc onmt/tests/sample_glove.txt \\\n  -emb_file_dec onmt/tests/sample_glove.txt \\\n  -dict_file onmt/tests/test_model.pt \\\n  -output_file /tmp/q_gloveembeddings \\\n  && rm /tmp/q_gloveembeddings*\n" [12169,12424]
                            OBJECT [12426,12548]
                                FIELD [12427,12464]
                                    String: "name" [12427,12433]
                                    STRING [12434,12464]
                                        String: "Test extract_embeddings tool" [12434,12464]
                                FIELD [12465,12547]
                                    String: "run" [12465,12470]
                                    STRING [12471,12547]
                                        String: "python tools/extract_embeddings.py \\\n  -model onmt/tests/test_model.pt\n" [12471,12547]
                            OBJECT [12549,13508]
                                FIELD [12550,12592]
                                    String: "name" [12550,12556]
                                    STRING [12557,12592]
                                        String: "Test checkpoint vocabulary update" [12557,12592]
                                FIELD [12593,13507]
                                    String: "run" [12593,12598]
                                    STRING [12599,13507]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -hidden_size 2 \\\n  -batch_size 10 \\\n  -word_vec_size 5 \\\n  -report_every 5\\\n  -hidden_size 10 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -train_steps 10 \\\n  -save_model /tmp/onmt.model \\\n  -save_checkpoint_steps 10\nsed -i '1s/^/new_tok\\t100000000\\n/' /tmp/onmt.vocab.src\npython train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -hidden_size 2 \\\n  -batch_size 10 \\\n  -word_vec_size 5 \\\n  -report_every 5\\\n  -hidden_size 10 \\\n  -train_steps 20 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -update_vocab \\\n  -reset_optim \"states\" \\\n  -train_from /tmp/onmt.model_step_10.pt\n" [12599,13507]
                            OBJECT [13509,14700]
                                FIELD [13510,13560]
                                    String: "name" [13510,13516]
                                    STRING [13517,13560]
                                        String: "Test checkpoint vocabulary update with LM" [13517,13560]
                                FIELD [13561,14699]
                                    String: "run" [13561,13566]
                                    STRING [13567,14699]
                                        String: "python train.py \\\n  -config data/lm_data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.src \\\n  -model_task lm \\\n  -encoder_type transformer_lm \\\n  -decoder_type transformer_lm \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -dec_layers 2 -batch_size 10 \\\n  -heads 4 -transformer_ff 64 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -word_vec_size 16 -report_every 5 \\\n  -save_model /tmp/lm.onmt.model \\\n  -save_checkpoint_steps 10 \\\n  -hidden_size 16 -train_steps 10\nsed -i '1s/^/new_tok2\\t100000000\\n/' /tmp/onmt.vocab.src\npython train.py \\\n  -config data/lm_data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.src \\\n  -model_task lm \\\n  -encoder_type transformer_lm \\\n  -decoder_type transformer_lm \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -dec_layers 2 -batch_size 10 \\\n  -heads 4 -transformer_ff 64 \\\n  -word_vec_size 16 -report_every 5 \\\n  -hidden_size 16  -train_steps 20 \\\n  -update_vocab -reset_optim \"states\" \\\n  -train_from /tmp/lm.onmt.model_step_10.pt\n" [13567,14699]
            FIELD [14703,15157]
                String: "build-docs" [14703,14715]
                OBJECT [14716,15157]
                    FIELD [14717,14742]
                        String: "runs-on" [14717,14726]
                        STRING [14727,14742]
                            String: "ubuntu-latest" [14727,14742]
                    FIELD [14743,15156]
                        String: "steps" [14743,14750]
                        ARRAY [14751,15156]
                            OBJECT [14752,14782]
                                FIELD [14753,14781]
                                    String: "uses" [14753,14759]
                                    STRING [14760,14781]
                                        String: "actions/checkout@v2" [14760,14781]
                            OBJECT [14783,14874]
                                FIELD [14784,14810]
                                    String: "name" [14784,14790]
                                    STRING [14791,14810]
                                        String: "Set up Python 3.8" [14791,14810]
                                FIELD [14811,14843]
                                    String: "uses" [14811,14817]
                                    STRING [14818,14843]
                                        String: "actions/setup-python@v2" [14818,14843]
                                FIELD [14844,14873]
                                    String: "with" [14844,14850]
                                    OBJECT [14851,14873]
                                        FIELD [14852,14872]
                                            String: "python-version" [14852,14868]
                                            NUMBER [14869,14872]
                                                Number: 3.8 [14869,14872]
                            OBJECT [14875,15042]
                                FIELD [14876,14905]
                                    String: "name" [14876,14882]
                                    STRING [14883,14905]
                                        String: "Install dependencies" [14883,14905]
                                FIELD [14906,15041]
                                    String: "run" [14906,14911]
                                    STRING [14912,15041]
                                        String: "python -m pip install --upgrade pip\npip install --upgrade setuptools\npip install -e .\npip install -r docs/requirements.txt\n" [14912,15041]
                            OBJECT [15043,15155]
                                FIELD [15044,15063]
                                    String: "name" [15044,15050]
                                    STRING [15051,15063]
                                        String: "Build docs" [15051,15063]
                                FIELD [15064,15154]
                                    String: "run" [15064,15069]
                                    STRING [15070,15154]
                                        String: "set -e\n# Check that docs are built without errors\ncd docs/ && make html && cd .." [15070,15154]