OBJECT [0,4068]
    FIELD [1,40]
        String: "name" [1,7]
        STRING [8,40]
            String: "Self-hosted runner (scheduled)" [8,40]
    FIELD [41,137]
        String: "on" [41,45]
        OBJECT [46,137]
            FIELD [47,75]
                String: "push" [47,53]
                OBJECT [54,75]
                    FIELD [55,74]
                        String: "branches" [55,65]
                        ARRAY [66,74]
                            STRING [67,73]
                                String: "ci_*" [67,73]
            FIELD [76,102]
                String: "repository_dispatch" [76,97]
                NULL [98,102]
            FIELD [103,136]
                String: "schedule" [103,113]
                ARRAY [114,136]
                    OBJECT [115,135]
                        FIELD [116,134]
                            String: "cron" [116,122]
                            STRING [123,134]
                                String: "0 0 * * *" [123,134]
    FIELD [138,4067]
        String: "jobs" [138,144]
        OBJECT [145,4067]
            FIELD [146,2185]
                String: "run_all_tests_torch_and_tf_gpu" [146,178]
                OBJECT [179,2185]
                    FIELD [180,218]
                        String: "runs-on" [180,189]
                        ARRAY [190,218]
                            STRING [191,204]
                                String: "self-hosted" [191,204]
                            STRING [205,217]
                                String: "single-gpu" [205,217]
                    FIELD [219,2184]
                        String: "steps" [219,226]
                        ARRAY [227,2184]
                            OBJECT [228,258]
                                FIELD [229,257]
                                    String: "uses" [229,235]
                                    STRING [236,257]
                                        String: "actions/checkout@v2" [236,257]
                            OBJECT [259,410]
                                FIELD [260,283]
                                    String: "name" [260,266]
                                    STRING [267,283]
                                        String: "Loading cache." [267,283]
                                FIELD [284,309]
                                    String: "uses" [284,290]
                                    STRING [291,309]
                                        String: "actions/cache@v2" [291,309]
                                FIELD [310,322]
                                    String: "id" [310,314]
                                    STRING [315,322]
                                        String: "cache" [315,322]
                                FIELD [323,409]
                                    String: "with" [323,329]
                                    OBJECT [330,409]
                                        FIELD [331,344]
                                            String: "path" [331,337]
                                            STRING [338,344]
                                                String: ".env" [338,344]
                                        FIELD [345,408]
                                            String: "key" [345,350]
                                            STRING [351,408]
                                                String: "v1-slow_tests_tf_torch_gpu-${{ hashFiles('setup.py') }}" [351,408]
                            OBJECT [411,492]
                                FIELD [412,435]
                                    String: "name" [412,418]
                                    STRING [419,435]
                                        String: "Python version" [419,435]
                                FIELD [436,491]
                                    String: "run" [436,441]
                                    STRING [442,491]
                                        String: "which python\npython --version\npip --version\n" [442,491]
                            OBJECT [493,527]
                                FIELD [494,514]
                                    String: "name" [494,500]
                                    STRING [501,514]
                                        String: "Current dir" [501,514]
                                FIELD [515,526]
                                    String: "run" [515,520]
                                    STRING [521,526]
                                        String: "pwd" [521,526]
                            OBJECT [528,548]
                                FIELD [529,547]
                                    String: "run" [529,534]
                                    STRING [535,547]
                                        String: "nvidia-smi" [535,547]
                            OBJECT [549,794]
                                FIELD [550,643]
                                    String: "name" [550,556]
                                    STRING [557,643]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [557,643]
                                FIELD [644,690]
                                    String: "if" [644,648]
                                    STRING [649,690]
                                        String: "steps.cache.outputs.cache-hit != 'true'" [649,690]
                                FIELD [691,793]
                                    String: "run" [691,696]
                                    STRING [697,793]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [697,793]
                            OBJECT [795,1015]
                                FIELD [796,825]
                                    String: "name" [796,802]
                                    STRING [803,825]
                                        String: "Install dependencies" [803,825]
                                FIELD [826,1014]
                                    String: "run" [826,831]
                                    STRING [832,1014]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install torch!=1.6.0\npip install .[sklearn,testing,onnxruntime]\npip install git+https://github.com/huggingface/datasets\n" [832,1014]
                            OBJECT [1016,1274]
                                FIELD [1017,1066]
                                    String: "name" [1017,1023]
                                    STRING [1024,1066]
                                        String: "Are GPUs recognized by our DL frameworks" [1024,1066]
                                FIELD [1067,1273]
                                    String: "run" [1067,1072]
                                    STRING [1073,1273]
                                        String: "source .env/bin/activate\npython -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [1073,1273]
                            OBJECT [1275,1489]
                                FIELD [1276,1305]
                                    String: "name" [1276,1282]
                                    STRING [1283,1305]
                                        String: "Run all tests on GPU" [1283,1305]
                                FIELD [1306,1384]
                                    String: "env" [1306,1311]
                                    OBJECT [1312,1384]
                                        FIELD [1313,1347]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [1313,1340]
                                            STRING [1341,1347]
                                                String: "true" [1341,1347]
                                        FIELD [1348,1367]
                                            String: "OMP_NUM_THREADS" [1348,1365]
                                            NUMBER [1366,1367]
                                                Number: 1 [1366,1367]
                                        FIELD [1368,1383]
                                            String: "RUN_SLOW" [1368,1378]
                                            TRUE [1379,1383]
                                FIELD [1385,1488]
                                    String: "run" [1385,1390]
                                    STRING [1391,1488]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s --make_reports=tests tests\n" [1391,1488]
                            OBJECT [1490,1757]
                                FIELD [1491,1525]
                                    String: "name" [1491,1497]
                                    STRING [1498,1525]
                                        String: "Run examples tests on GPU" [1498,1525]
                                FIELD [1526,1604]
                                    String: "env" [1526,1531]
                                    OBJECT [1532,1604]
                                        FIELD [1533,1567]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [1533,1560]
                                            STRING [1561,1567]
                                                String: "true" [1561,1567]
                                        FIELD [1568,1587]
                                            String: "OMP_NUM_THREADS" [1568,1585]
                                            NUMBER [1586,1587]
                                                Number: 1 [1586,1587]
                                        FIELD [1588,1603]
                                            String: "RUN_SLOW" [1588,1598]
                                            TRUE [1599,1603]
                                FIELD [1605,1756]
                                    String: "run" [1605,1610]
                                    STRING [1611,1756]
                                        String: "source .env/bin/activate\npip install -r examples/requirements.txt\npython -m pytest -n 1 --dist=loadfile -s --make_reports=examples examples\n" [1611,1756]
                            OBJECT [1758,2036]
                                FIELD [1759,1797]
                                    String: "name" [1759,1765]
                                    STRING [1766,1797]
                                        String: "Run all pipeline tests on GPU" [1766,1797]
                                FIELD [1798,1902]
                                    String: "env" [1798,1803]
                                    OBJECT [1804,1902]
                                        FIELD [1805,1839]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [1805,1832]
                                            STRING [1833,1839]
                                                String: "true" [1833,1839]
                                        FIELD [1840,1859]
                                            String: "OMP_NUM_THREADS" [1840,1857]
                                            NUMBER [1858,1859]
                                                Number: 1 [1858,1859]
                                        FIELD [1860,1875]
                                            String: "RUN_SLOW" [1860,1870]
                                            TRUE [1871,1875]
                                        FIELD [1876,1901]
                                            String: "RUN_PIPELINE_TESTS" [1876,1896]
                                            TRUE [1897,1901]
                                FIELD [1903,2035]
                                    String: "run" [1903,1908]
                                    STRING [1909,2035]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s -m is_pipeline_test --make_reports=tests_pipeline tests\n" [1909,2035]
                            OBJECT [2037,2183]
                                FIELD [2038,2075]
                                    String: "name" [2038,2044]
                                    STRING [2045,2075]
                                        String: "test suite reports artifacts" [2045,2075]
                                FIELD [2076,2098]
                                    String: "if" [2076,2080]
                                    STRING [2081,2098]
                                        String: "${{ always() }}" [2081,2098]
                                FIELD [2099,2134]
                                    String: "uses" [2099,2105]
                                    STRING [2106,2134]
                                        String: "actions/upload-artifact@v2" [2106,2134]
                                FIELD [2135,2182]
                                    String: "with" [2135,2141]
                                    OBJECT [2142,2182]
                                        FIELD [2143,2164]
                                            String: "name" [2143,2149]
                                            STRING [2150,2164]
                                                String: "test_reports" [2150,2164]
                                        FIELD [2165,2181]
                                            String: "path" [2165,2171]
                                            STRING [2172,2181]
                                                String: "reports" [2172,2181]
            FIELD [2186,4066]
                String: "run_all_tests_torch_and_tf_multiple_gpu" [2186,2227]
                OBJECT [2228,4066]
                    FIELD [2229,2266]
                        String: "runs-on" [2229,2238]
                        ARRAY [2239,2266]
                            STRING [2240,2253]
                                String: "self-hosted" [2240,2253]
                            STRING [2254,2265]
                                String: "multi-gpu" [2254,2265]
                    FIELD [2267,4065]
                        String: "steps" [2267,2274]
                        ARRAY [2275,4065]
                            OBJECT [2276,2306]
                                FIELD [2277,2305]
                                    String: "uses" [2277,2283]
                                    STRING [2284,2305]
                                        String: "actions/checkout@v2" [2284,2305]
                            OBJECT [2307,2464]
                                FIELD [2308,2331]
                                    String: "name" [2308,2314]
                                    STRING [2315,2331]
                                        String: "Loading cache." [2315,2331]
                                FIELD [2332,2357]
                                    String: "uses" [2332,2338]
                                    STRING [2339,2357]
                                        String: "actions/cache@v2" [2339,2357]
                                FIELD [2358,2370]
                                    String: "id" [2358,2362]
                                    STRING [2363,2370]
                                        String: "cache" [2363,2370]
                                FIELD [2371,2463]
                                    String: "with" [2371,2377]
                                    OBJECT [2378,2463]
                                        FIELD [2379,2392]
                                            String: "path" [2379,2385]
                                            STRING [2386,2392]
                                                String: ".env" [2386,2392]
                                        FIELD [2393,2462]
                                            String: "key" [2393,2398]
                                            STRING [2399,2462]
                                                String: "v1-slow_tests_tf_torch_multi_gpu-${{ hashFiles('setup.py') }}" [2399,2462]
                            OBJECT [2465,2546]
                                FIELD [2466,2489]
                                    String: "name" [2466,2472]
                                    STRING [2473,2489]
                                        String: "Python version" [2473,2489]
                                FIELD [2490,2545]
                                    String: "run" [2490,2495]
                                    STRING [2496,2545]
                                        String: "which python\npython --version\npip --version\n" [2496,2545]
                            OBJECT [2547,2581]
                                FIELD [2548,2568]
                                    String: "name" [2548,2554]
                                    STRING [2555,2568]
                                        String: "Current dir" [2555,2568]
                                FIELD [2569,2580]
                                    String: "run" [2569,2574]
                                    STRING [2575,2580]
                                        String: "pwd" [2575,2580]
                            OBJECT [2582,2602]
                                FIELD [2583,2601]
                                    String: "run" [2583,2588]
                                    STRING [2589,2601]
                                        String: "nvidia-smi" [2589,2601]
                            OBJECT [2603,2848]
                                FIELD [2604,2697]
                                    String: "name" [2604,2610]
                                    STRING [2611,2697]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [2611,2697]
                                FIELD [2698,2744]
                                    String: "if" [2698,2702]
                                    STRING [2703,2744]
                                        String: "steps.cache.outputs.cache-hit != 'true'" [2703,2744]
                                FIELD [2745,2847]
                                    String: "run" [2745,2750]
                                    STRING [2751,2847]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [2751,2847]
                            OBJECT [2849,3069]
                                FIELD [2850,2879]
                                    String: "name" [2850,2856]
                                    STRING [2857,2879]
                                        String: "Install dependencies" [2857,2879]
                                FIELD [2880,3068]
                                    String: "run" [2880,2885]
                                    STRING [2886,3068]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install torch!=1.6.0\npip install .[sklearn,testing,onnxruntime]\npip install git+https://github.com/huggingface/datasets\n" [2886,3068]
                            OBJECT [3070,3328]
                                FIELD [3071,3120]
                                    String: "name" [3071,3077]
                                    STRING [3078,3120]
                                        String: "Are GPUs recognized by our DL frameworks" [3078,3120]
                                FIELD [3121,3327]
                                    String: "run" [3121,3126]
                                    STRING [3127,3327]
                                        String: "source .env/bin/activate\npython -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [3127,3327]
                            OBJECT [3329,3540]
                                FIELD [3330,3359]
                                    String: "name" [3330,3336]
                                    STRING [3337,3359]
                                        String: "Run all tests on GPU" [3337,3359]
                                FIELD [3360,3438]
                                    String: "env" [3360,3365]
                                    OBJECT [3366,3438]
                                        FIELD [3367,3401]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [3367,3394]
                                            STRING [3395,3401]
                                                String: "true" [3395,3401]
                                        FIELD [3402,3421]
                                            String: "OMP_NUM_THREADS" [3402,3419]
                                            NUMBER [3420,3421]
                                                Number: 1 [3420,3421]
                                        FIELD [3422,3437]
                                            String: "RUN_SLOW" [3422,3432]
                                            TRUE [3433,3437]
                                FIELD [3439,3539]
                                    String: "run" [3439,3444]
                                    STRING [3445,3539]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s ./tests/ --durations=50\n" [3445,3539]
                            OBJECT [3541,3799]
                                FIELD [3542,3576]
                                    String: "name" [3542,3548]
                                    STRING [3549,3576]
                                        String: "Run examples tests on GPU" [3549,3576]
                                FIELD [3577,3655]
                                    String: "env" [3577,3582]
                                    OBJECT [3583,3655]
                                        FIELD [3584,3618]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [3584,3611]
                                            STRING [3612,3618]
                                                String: "true" [3612,3618]
                                        FIELD [3619,3638]
                                            String: "OMP_NUM_THREADS" [3619,3636]
                                            NUMBER [3637,3638]
                                                Number: 1 [3637,3638]
                                        FIELD [3639,3654]
                                            String: "RUN_SLOW" [3639,3649]
                                            TRUE [3650,3654]
                                FIELD [3656,3798]
                                    String: "run" [3656,3661]
                                    STRING [3662,3798]
                                        String: "source .env/bin/activate\npip install -r examples/requirements.txt\npython -m pytest -n 1 --dist=loadfile -s examples --durations=50\n" [3662,3798]
                            OBJECT [3800,4064]
                                FIELD [3801,3839]
                                    String: "name" [3801,3807]
                                    STRING [3808,3839]
                                        String: "Run all pipeline tests on GPU" [3808,3839]
                                FIELD [3840,3944]
                                    String: "env" [3840,3845]
                                    OBJECT [3846,3944]
                                        FIELD [3847,3881]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [3847,3874]
                                            STRING [3875,3881]
                                                String: "true" [3875,3881]
                                        FIELD [3882,3901]
                                            String: "OMP_NUM_THREADS" [3882,3899]
                                            NUMBER [3900,3901]
                                                Number: 1 [3900,3901]
                                        FIELD [3902,3917]
                                            String: "RUN_SLOW" [3902,3912]
                                            TRUE [3913,3917]
                                        FIELD [3918,3943]
                                            String: "RUN_PIPELINE_TESTS" [3918,3938]
                                            TRUE [3939,3943]
                                FIELD [3945,4063]
                                    String: "run" [3945,3950]
                                    STRING [3951,4063]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s ./tests/ -m is_pipeline_test --durations=50" [3951,4063]