OBJECT [0,5080]
    FIELD [1,23]
        String: "name" [1,7]
        STRING [8,23]
            String: "macos-x64-gpu" [8,23]
    FIELD [24,150]
        String: "on" [24,28]
        OBJECT [29,150]
            FIELD [30,85]
                String: "push" [30,36]
                OBJECT [37,85]
                    FIELD [38,59]
                        String: "branches" [38,48]
                        ARRAY [49,59]
                            STRING [50,58]
                                String: "master" [50,58]
                    FIELD [60,84]
                        String: "paths-ignore" [60,74]
                        ARRAY [75,84]
                            STRING [76,83]
                                String: "**.md" [76,83]
            FIELD [86,149]
                String: "pull_request" [86,100]
                OBJECT [101,149]
                    FIELD [102,123]
                        String: "branches" [102,112]
                        ARRAY [113,123]
                            STRING [114,122]
                                String: "master" [114,122]
                    FIELD [124,148]
                        String: "paths-ignore" [124,138]
                        ARRAY [139,148]
                            STRING [140,147]
                                String: "**.md" [140,147]
    FIELD [151,224]
        String: "env" [151,156]
        OBJECT [157,224]
            FIELD [158,223]
                String: "DEVELOPER_DIR" [158,173]
                STRING [174,223]
                    String: "/Applications/Xcode_12.2.app/Contents/Developer" [174,223]
    FIELD [225,5079]
        String: "jobs" [225,231]
        OBJECT [232,5079]
            FIELD [233,5078]
                String: "macos-clang-gpu" [233,250]
                OBJECT [251,5078]
                    FIELD [252,276]
                        String: "runs-on" [252,261]
                        STRING [262,276]
                            String: "macos-latest" [262,276]
                    FIELD [277,5077]
                        String: "steps" [277,284]
                        ARRAY [285,5077]
                            OBJECT [286,416]
                                FIELD [287,316]
                                    String: "name" [287,293]
                                    STRING [294,316]
                                        String: "cancel-previous-runs" [294,316]
                                FIELD [317,361]
                                    String: "uses" [317,323]
                                    STRING [324,361]
                                        String: "styfle/cancel-workflow-action@0.9.0" [324,361]
                                FIELD [362,415]
                                    String: "with" [362,368]
                                    OBJECT [369,415]
                                        FIELD [370,414]
                                            String: "access_token" [370,384]
                                            STRING [385,414]
                                                String: "${{ secrets.GITHUB_TOKEN }}" [385,414]
                            OBJECT [417,474]
                                FIELD [418,446]
                                    String: "uses" [418,424]
                                    STRING [425,446]
                                        String: "actions/checkout@v2" [425,446]
                                FIELD [447,473]
                                    String: "with" [447,453]
                                    OBJECT [454,473]
                                        FIELD [455,472]
                                            String: "submodules" [455,467]
                                            TRUE [468,472]
                            OBJECT [475,532]
                                FIELD [476,493]
                                    String: "name" [476,482]
                                    STRING [483,493]
                                        String: "protobuf" [483,493]
                                FIELD [494,531]
                                    String: "run" [494,499]
                                    STRING [500,531]
                                        String: "brew install protobuf opencv3" [500,531]
                            OBJECT [533,677]
                                FIELD [534,555]
                                    String: "name" [534,540]
                                    STRING [541,555]
                                        String: "cache-openmp" [541,555]
                                FIELD [556,575]
                                    String: "id" [556,560]
                                    STRING [561,575]
                                        String: "cache-openmp" [561,575]
                                FIELD [576,605]
                                    String: "uses" [576,582]
                                    STRING [583,605]
                                        String: "actions/cache@v2.1.6" [583,605]
                                FIELD [606,676]
                                    String: "with" [606,612]
                                    OBJECT [613,676]
                                        FIELD [614,637]
                                            String: "path" [614,620]
                                            STRING [621,637]
                                                String: "openmp-install" [621,637]
                                        FIELD [638,675]
                                            String: "key" [638,643]
                                            STRING [644,675]
                                                String: "openmp-macos-install-20201213" [644,675]
                            OBJECT [678,1464]
                                FIELD [679,694]
                                    String: "name" [679,685]
                                    STRING [686,694]
                                        String: "openmp" [686,694]
                                FIELD [695,748]
                                    String: "if" [695,699]
                                    STRING [700,748]
                                        String: "steps.cache-openmp.outputs.cache-hit != 'true'" [700,748]
                                FIELD [749,1463]
                                    String: "run" [749,754]
                                    STRING [755,1463]
                                        String: "wget https://github.com/llvm/llvm-project/releases/download/llvmorg-11.0.0/openmp-11.0.0.src.tar.xz\ntar -xf openmp-11.0.0.src.tar.xz\ncd openmp-11.0.0.src\nsed -i'' -e '/.size __kmp_unnamed_critical_addr/d' runtime/src/z_Linux_asm.S\nsed -i'' -e 's/__kmp_unnamed_critical_addr/___kmp_unnamed_critical_addr/g' runtime/src/z_Linux_asm.S\nmkdir -p build && cd build\ncmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=install -DCMAKE_OSX_ARCHITECTURES=\"x86_64;arm64\" \\\n    -DLIBOMP_ENABLE_SHARED=OFF -DLIBOMP_OMPT_SUPPORT=OFF -DLIBOMP_USE_HWLOC=OFF ..\ncmake --build . -j 2\ncmake --build . --target install\nmkdir $GITHUB_WORKSPACE/openmp-install\ncp -r install/* $GITHUB_WORKSPACE/openmp-install\n" [755,1463]
                            OBJECT [1465,1760]
                                FIELD [1466,1489]
                                    String: "name" [1466,1472]
                                    STRING [1473,1489]
                                        String: "install-openmp" [1473,1489]
                                FIELD [1490,1759]
                                    String: "run" [1490,1495]
                                    STRING [1496,1759]
                                        String: "sudo cp $GITHUB_WORKSPACE/openmp-install/include/* $DEVELOPER_DIR/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include\nsudo cp $GITHUB_WORKSPACE/openmp-install/lib/libomp.a $DEVELOPER_DIR/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/lib\n" [1496,1759]
                            OBJECT [1761,1918]
                                FIELD [1762,1786]
                                    String: "name" [1762,1768]
                                    STRING [1769,1786]
                                        String: "cache-vulkansdk" [1769,1786]
                                FIELD [1787,1809]
                                    String: "id" [1787,1791]
                                    STRING [1792,1809]
                                        String: "cache-vulkansdk" [1792,1809]
                                FIELD [1810,1839]
                                    String: "uses" [1810,1816]
                                    STRING [1817,1839]
                                        String: "actions/cache@v2.1.6" [1817,1839]
                                FIELD [1840,1917]
                                    String: "with" [1840,1846]
                                    OBJECT [1847,1917]
                                        FIELD [1848,1882]
                                            String: "path" [1848,1854]
                                            STRING [1855,1882]
                                                String: "vulkansdk-macos-1.2.162.0" [1855,1882]
                                        FIELD [1883,1916]
                                            String: "key" [1883,1888]
                                            STRING [1889,1916]
                                                String: "vulkansdk-macos-1.2.162.0" [1889,1916]
                            OBJECT [1919,2413]
                                FIELD [1920,1938]
                                    String: "name" [1920,1926]
                                    STRING [1927,1938]
                                        String: "vulkansdk" [1927,1938]
                                FIELD [1939,1995]
                                    String: "if" [1939,1943]
                                    STRING [1944,1995]
                                        String: "steps.cache-vulkansdk.outputs.cache-hit != 'true'" [1944,1995]
                                FIELD [1996,2412]
                                    String: "run" [1996,2001]
                                    STRING [2002,2412]
                                        String: "wget https://sdk.lunarg.com/sdk/download/1.2.162.0/mac/vulkansdk-macos-1.2.162.0.dmg?Human=true -O vulkansdk-macos-1.2.162.0.dmg\nhdiutil attach vulkansdk-macos-1.2.162.0.dmg\ncp -r /Volumes/vulkansdk-macos-1.2.162.0 .\nrm -rf vulkansdk-macos-1.2.162.0/Applications\nfind vulkansdk-macos-1.2.162.0 -type f | grep -v -E 'vulkan|glslang|MoltenVK' | xargs rm\nhdiutil detach /Volumes/vulkansdk-macos-1.2.162.0\n" [2002,2412]
                            OBJECT [2414,2578]
                                FIELD [2415,2441]
                                    String: "name" [2415,2421]
                                    STRING [2422,2441]
                                        String: "cache-swiftshader" [2422,2441]
                                FIELD [2442,2466]
                                    String: "id" [2442,2446]
                                    STRING [2447,2466]
                                        String: "cache-swiftshader" [2447,2466]
                                FIELD [2467,2496]
                                    String: "uses" [2467,2473]
                                    STRING [2474,2496]
                                        String: "actions/cache@v2.1.6" [2474,2496]
                                FIELD [2497,2577]
                                    String: "with" [2497,2503]
                                    OBJECT [2504,2577]
                                        FIELD [2505,2533]
                                            String: "path" [2505,2511]
                                            STRING [2512,2533]
                                                String: "swiftshader-install" [2512,2533]
                                        FIELD [2534,2576]
                                            String: "key" [2534,2539]
                                            STRING [2540,2576]
                                                String: "swiftshader-macos-install-20200508" [2540,2576]
                            OBJECT [2579,2811]
                                FIELD [2580,2609]
                                    String: "name" [2580,2586]
                                    STRING [2587,2609]
                                        String: "checkout-swiftshader" [2587,2609]
                                FIELD [2610,2668]
                                    String: "if" [2610,2614]
                                    STRING [2615,2668]
                                        String: "steps.cache-swiftshader.outputs.cache-hit != 'true'" [2615,2668]
                                FIELD [2669,2697]
                                    String: "uses" [2669,2675]
                                    STRING [2676,2697]
                                        String: "actions/checkout@v2" [2676,2697]
                                FIELD [2698,2810]
                                    String: "with" [2698,2704]
                                    OBJECT [2705,2810]
                                        FIELD [2706,2739]
                                            String: "repository" [2706,2718]
                                            STRING [2719,2739]
                                                String: "google/swiftshader" [2719,2739]
                                        FIELD [2740,2760]
                                            String: "path" [2740,2746]
                                            STRING [2747,2760]
                                                String: "swiftshader" [2747,2760]
                                        FIELD [2761,2809]
                                            String: "ref" [2761,2766]
                                            STRING [2767,2809]
                                                String: "2dd864470e310d173d35fa95ca3a14d216734aab" [2767,2809]
                            OBJECT [2812,2979]
                                FIELD [2813,2853]
                                    String: "name" [2813,2819]
                                    STRING [2820,2853]
                                        String: "checkout-swiftshader-submodules" [2820,2853]
                                FIELD [2854,2912]
                                    String: "if" [2854,2858]
                                    STRING [2859,2912]
                                        String: "steps.cache-swiftshader.outputs.cache-hit != 'true'" [2859,2912]
                                FIELD [2913,2978]
                                    String: "run" [2913,2918]
                                    STRING [2919,2978]
                                        String: "cd swiftshader\ngit submodule update --init --recursive\n" [2919,2978]
                            OBJECT [2980,3792]
                                FIELD [2981,3001]
                                    String: "name" [2981,2987]
                                    STRING [2988,3001]
                                        String: "swiftshader" [2988,3001]
                                FIELD [3002,3060]
                                    String: "if" [3002,3006]
                                    STRING [3007,3060]
                                        String: "steps.cache-swiftshader.outputs.cache-hit != 'true'" [3007,3060]
                                FIELD [3061,3791]
                                    String: "run" [3061,3066]
                                    STRING [3067,3791]
                                        String: "cd swiftshader\n\n# workaround ar build issue on macos\nsed -i -e 's!^  for (const auto b : work_list) {$!  for (const auto\\& b : work_list) {!' third_party/SPIRV-Tools/source/cfa.h\n\nmkdir -p build; cd build\ncmake -DCMAKE_INSTALL_PREFIX=install -DSWIFTSHADER_BUILD_EGL=FALSE -DSWIFTSHADER_BUILD_GLESv2=FALSE -DSWIFTSHADER_BUILD_GLES_CM=FALSE -DSWIFTSHADER_BUILD_VULKAN=TRUE -DSWIFTSHADER_BUILD_PVR=FALSE -DSWIFTSHADER_BUILD_TESTS=FALSE -DSWIFTSHADER_ENABLE_ASTC=FALSE -DSWIFTSHADER_WARNINGS_AS_ERRORS=FALSE -DREACTOR_BACKEND=Subzero -DREACTOR_DEFAULT_OPT_LEVEL=Default -DCMAKE_BUILD_TYPE=Release ..\ncmake --build . -j 2\nmkdir $GITHUB_WORKSPACE/swiftshader-install\ncp Darwin/* $GITHUB_WORKSPACE/swiftshader-install\n" [3067,3791]
                            OBJECT [3793,4292]
                                FIELD [3794,3808]
                                    String: "name" [3794,3800]
                                    STRING [3801,3808]
                                        String: "build" [3801,3808]
                                FIELD [3809,4291]
                                    String: "run" [3809,3814]
                                    STRING [3815,4291]
                                        String: "export VULKAN_SDK=`pwd`/vulkansdk-macos-1.2.162.0/macOS\nmkdir build && cd build\ncmake -DCMAKE_OSX_ARCHITECTURES=x86_64 \\\n    -DOpenMP_C_FLAGS=\"-Xclang -fopenmp\" -DOpenMP_CXX_FLAGS=\"-Xclang -fopenmp\" \\\n    -DOpenMP_C_LIB_NAMES=\"libomp\" -DOpenMP_CXX_LIB_NAMES=\"libomp\" \\\n    -DOpenMP_libomp_LIBRARY=\"$DEVELOPER_DIR/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/lib/libomp.a\" \\\n    -DNCNN_VULKAN=ON -DNCNN_BUILD_TESTS=ON ..\ncmake --build . -j 2\n" [3815,4291]
                            OBJECT [4293,4537]
                                FIELD [4294,4307]
                                    String: "name" [4294,4300]
                                    STRING [4301,4307]
                                        String: "test" [4301,4307]
                                FIELD [4308,4536]
                                    String: "run" [4308,4313]
                                    STRING [4314,4536]
                                        String: "export DYLD_LIBRARY_PATH=\"vulkansdk-macos-1.2.162.0/macOS/lib\":$DYLD_LIBRARY_PATH\nexport VK_ICD_FILENAMES=\"$GITHUB_WORKSPACE/swiftshader-install/vk_swiftshader_icd.json\"\ncd build && ctest --output-on-failure -j 2\n" [4314,4536]
                            OBJECT [4538,5076]
                                FIELD [4539,4560]
                                    String: "name" [4539,4545]
                                    STRING [4546,4560]
                                        String: "build-shared" [4546,4560]
                                FIELD [4561,5075]
                                    String: "run" [4561,4566]
                                    STRING [4567,5075]
                                        String: "export VULKAN_SDK=`pwd`/vulkansdk-macos-1.2.162.0/macOS\nmkdir build-shared && cd build-shared\ncmake -DCMAKE_OSX_ARCHITECTURES=x86_64 \\\n    -DOpenMP_C_FLAGS=\"-Xclang -fopenmp\" -DOpenMP_CXX_FLAGS=\"-Xclang -fopenmp\" \\\n    -DOpenMP_C_LIB_NAMES=\"libomp\" -DOpenMP_CXX_LIB_NAMES=\"libomp\" \\\n    -DOpenMP_libomp_LIBRARY=\"$DEVELOPER_DIR/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/lib/libomp.a\" \\\n    -DNCNN_VULKAN=ON -DNCNN_SHARED_LIB=ON -DNCNN_ENABLE_LTO=ON ..\ncmake --build . -j 2" [4567,5075]