OBJECT [0,8865]
    FIELD [1,22]
        String: "name" [1,7]
        STRING [8,22]
            String: "Lint & Tests" [8,22]
    FIELD [23,51]
        String: "on" [23,27]
        ARRAY [28,51]
            STRING [29,35]
                String: "push" [29,35]
            STRING [36,50]
                String: "pull_request" [36,50]
    FIELD [52,8864]
        String: "jobs" [52,58]
        OBJECT [59,8864]
            FIELD [60,8408]
                String: "lint-and-tests" [60,76]
                OBJECT [77,8408]
                    FIELD [78,103]
                        String: "runs-on" [78,87]
                        STRING [88,103]
                            String: "ubuntu-latest" [88,103]
                    FIELD [104,150]
                        String: "strategy" [104,114]
                        OBJECT [115,150]
                            FIELD [116,149]
                                String: "matrix" [116,124]
                                OBJECT [125,149]
                                    FIELD [126,148]
                                        String: "python-version" [126,142]
                                        ARRAY [143,148]
                                            NUMBER [144,147]
                                                Number: 3.6 [144,147]
                    FIELD [151,8407]
                        String: "steps" [151,158]
                        ARRAY [159,8407]
                            OBJECT [160,190]
                                FIELD [161,189]
                                    String: "uses" [161,167]
                                    STRING [168,189]
                                        String: "actions/checkout@v2" [168,189]
                            OBJECT [191,334]
                                FIELD [192,243]
                                    String: "name" [192,198]
                                    STRING [199,243]
                                        String: "Set up Python ${{ matrix.python-version }}" [199,243]
                                FIELD [244,276]
                                    String: "uses" [244,250]
                                    STRING [251,276]
                                        String: "actions/setup-python@v2" [251,276]
                                FIELD [277,333]
                                    String: "with" [277,283]
                                    OBJECT [284,333]
                                        FIELD [285,332]
                                            String: "python-version" [285,301]
                                            STRING [302,332]
                                                String: "${{ matrix.python-version }}" [302,332]
                            OBJECT [335,599]
                                FIELD [336,365]
                                    String: "name" [336,342]
                                    STRING [343,365]
                                        String: "Install dependencies" [343,365]
                                FIELD [366,598]
                                    String: "run" [366,371]
                                    STRING [372,598]
                                        String: "python -m pip install --upgrade pip\npip install --upgrade setuptools==50.3.0\npip install -e .\npip install -r requirements.opt.txt\npip install flake8\nif [ -f requirements.txt ]; then pip install -r requirements.txt; fi\n" [372,598]
                            OBJECT [600,898]
                                FIELD [601,626]
                                    String: "name" [601,607]
                                    STRING [608,626]
                                        String: "Lint with flake8" [608,626]
                                FIELD [627,897]
                                    String: "run" [627,632]
                                    STRING [633,897]
                                        String: "# stop the build if there are Python syntax errors or undefined names\nflake8 . --count --select=E9,F63,F7,F82 --show-source --statistics\n# exit-zero treats all errors as warnings. The GitHub editor is 127 chars wide\nflake8 . --count --exit-zero --statistics\n" [633,897]
                            OBJECT [899,958]
                                FIELD [900,919]
                                    String: "name" [900,906]
                                    STRING [907,919]
                                        String: "Unit tests" [907,919]
                                FIELD [920,957]
                                    String: "run" [920,925]
                                    STRING [926,957]
                                        String: "python -m unittest discover\n" [926,957]
                            OBJECT [959,1211]
                                FIELD [960,990]
                                    String: "name" [960,966]
                                    STRING [967,990]
                                        String: "Test vocabulary build" [967,990]
                                FIELD [991,1210]
                                    String: "run" [991,996]
                                    STRING [997,1210]
                                        String: "python onmt/bin/build_vocab.py \\\n  -config data/data.yaml \\\n  -save_data /tmp/onmt \\\n  -n_sample 5000 \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  && rm -rf /tmp/sample\n" [997,1210]
                            OBJECT [1212,1586]
                                FIELD [1213,1247]
                                    String: "name" [1213,1219]
                                    STRING [1220,1247]
                                        String: "Test field/transform dump" [1220,1247]
                                FIELD [1248,1585]
                                    String: "run" [1248,1253]
                                    STRING [1254,1585]
                                        String: "# The dumped fields are used later when testing tools\npython train.py \\\n  -config data/data.yaml \\\n  -save_data /tmp/onmt.train.check \\\n  -dump_fields \\\n  -dump_transforms \\\n  -n_sample 30 \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000\n" [1254,1585]
                            OBJECT [1587,1922]
                                FIELD [1588,1614]
                                    String: "name" [1588,1594]
                                    STRING [1595,1614]
                                        String: "Test RNN training" [1595,1614]
                                FIELD [1615,1921]
                                    String: "run" [1615,1620]
                                    STRING [1621,1921]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -rnn_size 2 \\\n  -batch_size 10 \\\n  -word_vec_size 5 \\\n  -report_every 5\\\n  -rnn_size 10 \\\n  -train_steps 10\n" [1621,1921]
                            OBJECT [1923,2286]
                                FIELD [1924,1960]
                                    String: "name" [1924,1930]
                                    STRING [1931,1960]
                                        String: "Test RNN training with copy" [1931,1960]
                                FIELD [1961,2285]
                                    String: "run" [1961,1966]
                                    STRING [1967,2285]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -rnn_size 2 \\\n  -batch_size 10 \\\n  -word_vec_size 5 \\\n  -report_every 5 \\\n  -rnn_size 10 \\\n  -train_steps 10 \\\n  -copy_attn\n" [1967,2285]
                            OBJECT [2287,2673]
                                FIELD [2288,2328]
                                    String: "name" [2288,2294]
                                    STRING [2295,2328]
                                        String: "Test RNN training with coverage" [2295,2328]
                                FIELD [2329,2672]
                                    String: "run" [2329,2334]
                                    STRING [2335,2672]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -rnn_size 2 -batch_size 10 \\\n  -word_vec_size 5 -report_every 5        \\\n  -coverage_attn true -lambda_coverage 0.1 \\\n  -rnn_size 10 -train_steps 10\n" [2335,2672]
                            OBJECT [2674,3223]
                                FIELD [2675,2720]
                                    String: "name" [2675,2681]
                                    STRING [2682,2720]
                                        String: "Test Transformer training with align" [2682,2720]
                                FIELD [2721,3222]
                                    String: "run" [2721,2726]
                                    STRING [2727,3222]
                                        String: "python train.py \\\n  -config data/align_data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -max_generator_batches 0 \\\n  -encoder_type transformer \\\n  -decoder_type transformer \\\n  -layers 4 \\\n  -word_vec_size 16 \\\n  -rnn_size 16 \\\n  -heads 2 \\\n  -transformer_ff 64 \\\n  -lambda_align 0.05 \\\n  -alignment_layer 2 \\\n  -alignment_heads 0 \\\n  -report_every 5 \\\n  -train_steps 10\n" [2727,3222]
                            OBJECT [3224,3696]
                                FIELD [3225,3250]
                                    String: "name" [3225,3231]
                                    STRING [3232,3250]
                                        String: "Test LM training" [3232,3250]
                                FIELD [3251,3695]
                                    String: "run" [3251,3256]
                                    STRING [3257,3695]
                                        String: "python train.py \\\n    -config data/lm_data.yaml \\\n    -src_vocab /tmp/onmt.vocab.src \\\n    -tgt_vocab /tmp/onmt.vocab.src \\\n    -model_task lm \\\n    -encoder_type transformer_lm \\\n    -decoder_type transformer_lm \\\n    -src_vocab_size 1000 \\\n    -tgt_vocab_size 1000 \\\n    -dec_layers 2 -batch_size 10 \\\n    -heads 4 -transformer_ff 64 \\\n    -word_vec_size 16 -report_every 5 \\\n    -rnn_size 16 -train_steps 10\n" [3257,3695]
                            OBJECT [3697,4179]
                                FIELD [3698,3733]
                                    String: "name" [3698,3704]
                                    STRING [3705,3733]
                                        String: "Test LM training with copy" [3705,3733]
                                FIELD [3734,4178]
                                    String: "run" [3734,3739]
                                    STRING [3740,4178]
                                        String: "python train.py \\\n  -config data/lm_data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.src \\\n  -model_task lm \\\n  -encoder_type transformer_lm \\\n  -decoder_type transformer_lm \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -dec_layers 2 -batch_size 10 \\\n  -heads 4 -transformer_ff 64 \\\n  -word_vec_size 16 -report_every 5        \\\n  -rnn_size 16 -train_steps 10 \\\n  -copy_attn\n" [3740,4178]
                            OBJECT [4180,4670]
                                FIELD [4181,4224]
                                    String: "name" [4181,4187]
                                    STRING [4188,4224]
                                        String: "Test Graph neural network training" [4188,4224]
                                FIELD [4225,4669]
                                    String: "run" [4225,4230]
                                    STRING [4231,4669]
                                        String: "python train.py \\\n  -config data/ggnn_data.yaml \\\n  -src_seq_length 1000 \\\n  -tgt_seq_length 30 \\\n  -encoder_type ggnn \\\n  -layers 2 \\\n  -decoder_type rnn \\\n  -rnn_size 256 \\\n  -learning_rate 0.1 \\\n  -learning_rate_decay 0.8 \\\n  -global_attention general \\\n  -batch_size 32 \\\n  -word_vec_size 256 \\\n  -bridge \\\n  -train_steps 10 \\\n  -n_edge_types 9 \\\n  -state_dim 256 \\\n  -n_steps 10 \\\n  -n_node 64\n" [4231,4669]
                            OBJECT [4671,4858]
                                FIELD [4672,4701]
                                    String: "name" [4672,4678]
                                    STRING [4679,4701]
                                        String: "Test RNN translation" [4679,4701]
                                FIELD [4702,4857]
                                    String: "run" [4702,4707]
                                    STRING [4708,4857]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython translate.py \\\n  -model onmt/tests/test_model.pt \\\n  -src /tmp/src-test.txt \\\n  -verbose\n" [4708,4857]
                            OBJECT [4859,5086]
                                FIELD [4860,4898]
                                    String: "name" [4860,4866]
                                    STRING [4867,4898]
                                        String: "Test RNN ensemble translation" [4867,4898]
                                FIELD [4899,5085]
                                    String: "run" [4899,4904]
                                    STRING [4905,5085]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython translate.py \\\n  -model onmt/tests/test_model.pt \\\n  onmt/tests/test_model.pt \\\n  -src /tmp/src-test.txt \\\n  -verbose\n" [4905,5085]
                            OBJECT [5087,5401]
                                FIELD [5088,5134]
                                    String: "name" [5088,5094]
                                    STRING [5095,5134]
                                        String: "Test RNN translation with beam search" [5095,5134]
                                FIELD [5135,5400]
                                    String: "run" [5135,5140]
                                    STRING [5141,5400]
                                        String: "python translate.py \\\n  -model onmt/tests/test_model2.pt \\\n  -src data/morph/src.valid \\\n  -verbose \\\n  -batch_size 10 \\\n  -beam_size 10 \\\n  -tgt data/morph/tgt.valid \\\n  -out /tmp/trans\ndiff data/morph/tgt.valid /tmp/trans && rm /tmp/trans\n" [5141,5400]
                            OBJECT [5402,5803]
                                FIELD [5403,5453]
                                    String: "name" [5403,5409]
                                    STRING [5410,5453]
                                        String: "Test RNN translation with random sampling" [5410,5453]
                                FIELD [5454,5802]
                                    String: "run" [5454,5459]
                                    STRING [5460,5802]
                                        String: "python translate.py \\\n  -model onmt/tests/test_model2.pt \\\n  -src data/morph/src.valid \\\n  -verbose \\\n  -batch_size 10 \\\n  -beam_size 1 \\\n  -seed 1 \\\n  -random_sampling_topk \"-1\" \\\n  -random_sampling_temp 0.0001 \\\n  -tgt data/morph/tgt.valid \\\n  -out /tmp/trans\ndiff data/morph/tgt.valid /tmp/trans && rm /tmp/trans\n" [5460,5802]
                            OBJECT [5804,5992]
                                FIELD [5805,5832]
                                    String: "name" [5805,5811]
                                    STRING [5812,5832]
                                        String: "Test LM generation" [5812,5832]
                                FIELD [5833,5991]
                                    String: "run" [5833,5838]
                                    STRING [5839,5991]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython translate.py \\\n  -model onmt/tests/test_model_lm.pt \\\n  -src data/src-test.txt \\\n  -verbose\n" [5839,5991]
                            OBJECT [5993,6297]
                                FIELD [5994,6038]
                                    String: "name" [5994,6000]
                                    STRING [6001,6038]
                                        String: "Test LM generation with beam search" [6001,6038]
                                FIELD [6039,6296]
                                    String: "run" [6039,6044]
                                    STRING [6045,6296]
                                        String: "python translate.py \\\n  -model onmt/tests/test_model_lm.pt \\\n  -src data/data_lm/src-gen.txt \\\n  -verbose -batch_size 10 \\\n  -beam_size 10 \\\n  -ban_unk_token \\\n  -out /tmp/gen\ndiff data/data_lm/gen-beam-sol.txt /tmp/gen && rm /tmp/gen\n" [6045,6296]
                            OBJECT [6298,6683]
                                FIELD [6299,6347]
                                    String: "name" [6299,6305]
                                    STRING [6306,6347]
                                        String: "Test LM generation with random sampling" [6306,6347]
                                FIELD [6348,6682]
                                    String: "run" [6348,6353]
                                    STRING [6354,6682]
                                        String: "python translate.py -model onmt/tests/test_model_lm.pt \\\n  -src data/data_lm/src-gen.txt \\\n  -verbose -batch_size 10 \\\n  -beam_size 1 \\\n  -seed 1 \\\n  -random_sampling_topk -1 \\\n  -random_sampling_temp 0.0001 \\\n  -ban_unk_token \\\n  -out /tmp/gen\ndiff data/data_lm/gen-sampling-sol.txt /tmp/gen && rm /tmp/gen\n" [6354,6682]
                            OBJECT [6684,7119]
                                FIELD [6685,6747]
                                    String: "name" [6685,6691]
                                    STRING [6692,6747]
                                        String: "Test LM generation with random top-k/nucleus sampling" [6692,6747]
                                FIELD [6748,7118]
                                    String: "run" [6748,6753]
                                    STRING [6754,7118]
                                        String: "python translate.py -model onmt/tests/test_model_lm.pt \\\n  -src data/data_lm/src-gen.txt \\\n  -verbose -batch_size 10 \\\n  -beam_size 1 \\\n  -seed 3 \\\n  -random_sampling_topk -1 \\\n  -random_sampling_topp 0.95 \\\n  -random_sampling_temp 1 \\\n  -ban_unk_token \\\n  -out /tmp/gen\ndiff data/data_lm/gen-nucleus-sampling-sol.txt /tmp/gen && rm /tmp/gen\n" [6754,7118]
                            OBJECT [7120,7598]
                                FIELD [7121,7181]
                                    String: "name" [7121,7127]
                                    STRING [7128,7181]
                                        String: "Test LM generation with random sampling multi-beams" [7128,7181]
                                FIELD [7182,7597]
                                    String: "run" [7182,7187]
                                    STRING [7188,7597]
                                        String: "python translate.py -model onmt/tests/test_model_lm.pt \\\n  -src data/data_lm/src-gen.txt \\\n  -verbose -batch_size 10 \\\n  -beam_size 10 \\\n  -seed 1 \\\n  -random_sampling_topk 50 \\\n  -random_sampling_topp 0.95 \\\n  -random_sampling_temp 1 \\\n  -length_penalty avg \\\n  -ban_unk_token \\\n  -min_length 5 \\\n  -out /tmp/gen\ndiff data/data_lm/gen-sampling-beams-sol.txt /tmp/gen && rm /tmp/gen\n" [7188,7597]
                            OBJECT [7599,7943]
                                FIELD [7600,7637]
                                    String: "name" [7600,7606]
                                    STRING [7607,7637]
                                        String: "Test extract_vocabulary tool" [7607,7637]
                                FIELD [7638,7942]
                                    String: "run" [7638,7643]
                                    STRING [7644,7942]
                                        String: "python tools/extract_vocabulary.py \\\n  -file /tmp/onmt.train.check.vocab.pt \\\n  -file_type field \\\n  -side src \\\n  -out_file /tmp/onmt.vocab.txt\nif ! wc -l /tmp/onmt.vocab.txt | grep -qF  \"1002\"\n  then echo \"wrong word count\" && exit 1\nelse\n  echo \"create vocabulary pass\"\nfi\n" [7644,7942]
                            OBJECT [7944,8283]
                                FIELD [7945,7983]
                                    String: "name" [7945,7951]
                                    STRING [7952,7983]
                                        String: "Test embeddings_to_torch tool" [7952,7983]
                                FIELD [7984,8282]
                                    String: "run" [7984,7989]
                                    STRING [7990,8282]
                                        String: "python tools/embeddings_to_torch.py \\\n  -emb_file_enc onmt/tests/sample_glove.txt \\\n  -emb_file_dec onmt/tests/sample_glove.txt \\\n  -dict_file /tmp/onmt.train.check.vocab.pt \\\n  -output_file /tmp/q_gloveembeddings \\\n  && rm /tmp/q_gloveembeddings*\nrm /tmp/onmt.train.check.*.pt\n" [7990,8282]
                            OBJECT [8284,8406]
                                FIELD [8285,8322]
                                    String: "name" [8285,8291]
                                    STRING [8292,8322]
                                        String: "Test extract_embeddings tool" [8292,8322]
                                FIELD [8323,8405]
                                    String: "run" [8323,8328]
                                    STRING [8329,8405]
                                        String: "python tools/extract_embeddings.py \\\n  -model onmt/tests/test_model.pt\n" [8329,8405]
            FIELD [8409,8863]
                String: "build-docs" [8409,8421]
                OBJECT [8422,8863]
                    FIELD [8423,8448]
                        String: "runs-on" [8423,8432]
                        STRING [8433,8448]
                            String: "ubuntu-latest" [8433,8448]
                    FIELD [8449,8862]
                        String: "steps" [8449,8456]
                        ARRAY [8457,8862]
                            OBJECT [8458,8488]
                                FIELD [8459,8487]
                                    String: "uses" [8459,8465]
                                    STRING [8466,8487]
                                        String: "actions/checkout@v2" [8466,8487]
                            OBJECT [8489,8580]
                                FIELD [8490,8516]
                                    String: "name" [8490,8496]
                                    STRING [8497,8516]
                                        String: "Set up Python 3.6" [8497,8516]
                                FIELD [8517,8549]
                                    String: "uses" [8517,8523]
                                    STRING [8524,8549]
                                        String: "actions/setup-python@v2" [8524,8549]
                                FIELD [8550,8579]
                                    String: "with" [8550,8556]
                                    OBJECT [8557,8579]
                                        FIELD [8558,8578]
                                            String: "python-version" [8558,8574]
                                            NUMBER [8575,8578]
                                                Number: 3.6 [8575,8578]
                            OBJECT [8581,8748]
                                FIELD [8582,8611]
                                    String: "name" [8582,8588]
                                    STRING [8589,8611]
                                        String: "Install dependencies" [8589,8611]
                                FIELD [8612,8747]
                                    String: "run" [8612,8617]
                                    STRING [8618,8747]
                                        String: "python -m pip install --upgrade pip\npip install --upgrade setuptools\npip install -e .\npip install -r docs/requirements.txt\n" [8618,8747]
                            OBJECT [8749,8861]
                                FIELD [8750,8769]
                                    String: "name" [8750,8756]
                                    STRING [8757,8769]
                                        String: "Build docs" [8757,8769]
                                FIELD [8770,8860]
                                    String: "run" [8770,8775]
                                    STRING [8776,8860]
                                        String: "set -e\n# Check that docs are built without errors\ncd docs/ && make html && cd .." [8776,8860]