OBJECT [0,7886]
    FIELD [1,12]
        String: "name" [1,7]
        STRING [8,12]
            String: "CI" [8,12]
    FIELD [13,123]
        String: "on" [13,17]
        OBJECT [18,123]
            FIELD [19,57]
                String: "pull_request" [19,33]
                OBJECT [34,57]
                    FIELD [35,56]
                        String: "branches" [35,45]
                        ARRAY [46,56]
                            STRING [47,55]
                                String: "master" [47,55]
            FIELD [58,88]
                String: "push" [58,64]
                OBJECT [65,88]
                    FIELD [66,87]
                        String: "branches" [66,76]
                        ARRAY [77,87]
                            STRING [78,86]
                                String: "master" [78,86]
            FIELD [89,122]
                String: "release" [89,98]
                OBJECT [99,122]
                    FIELD [100,121]
                        String: "types" [100,107]
                        ARRAY [108,121]
                            STRING [109,120]
                                String: "published" [109,120]
    FIELD [124,7885]
        String: "jobs" [124,130]
        OBJECT [131,7885]
            FIELD [132,1448]
                String: "check_core" [132,144]
                OBJECT [145,1448]
                    FIELD [146,165]
                        String: "name" [146,152]
                        STRING [153,165]
                            String: "Check Core" [153,165]
                    FIELD [166,191]
                        String: "runs-on" [166,175]
                        STRING [176,191]
                            String: "ubuntu-latest" [176,191]
                    FIELD [192,238]
                        String: "strategy" [192,202]
                        OBJECT [203,238]
                            FIELD [204,237]
                                String: "matrix" [204,212]
                                OBJECT [213,237]
                                    FIELD [214,236]
                                        String: "python" [214,222]
                                        ARRAY [223,236]
                                            STRING [224,229]
                                                String: "3.6" [224,229]
                                            STRING [230,235]
                                                String: "3.7" [230,235]
                    FIELD [239,1447]
                        String: "steps" [239,246]
                        ARRAY [247,1447]
                            OBJECT [248,278]
                                FIELD [249,277]
                                    String: "uses" [249,255]
                                    STRING [256,277]
                                        String: "actions/checkout@v2" [256,277]
                            OBJECT [279,384]
                                FIELD [280,301]
                                    String: "name" [280,286]
                                    STRING [287,301]
                                        String: "Setup Python" [287,301]
                                FIELD [302,334]
                                    String: "uses" [302,308]
                                    STRING [309,334]
                                        String: "actions/setup-python@v1" [309,334]
                                FIELD [335,383]
                                    String: "with" [335,341]
                                    OBJECT [342,383]
                                        FIELD [343,382]
                                            String: "python-version" [343,359]
                                            STRING [360,382]
                                                String: "${{ matrix.python }}" [360,382]
                            OBJECT [385,643]
                                FIELD [386,411]
                                    String: "uses" [386,392]
                                    STRING [393,411]
                                        String: "actions/cache@v1" [393,411]
                                FIELD [412,642]
                                    String: "with" [412,418]
                                    OBJECT [419,642]
                                        FIELD [420,454]
                                            String: "path" [420,426]
                                            STRING [427,454]
                                                String: "${{ env.pythonLocation }}" [427,454]
                                        FIELD [455,577]
                                            String: "key" [455,460]
                                            STRING [461,577]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [461,577]
                                        FIELD [578,641]
                                            String: "restore-keys" [578,592]
                                            STRING [593,641]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}\n" [593,641]
                            OBJECT [644,793]
                                FIELD [645,674]
                                    String: "name" [645,651]
                                    STRING [652,674]
                                        String: "Install requirements" [652,674]
                                FIELD [675,792]
                                    String: "run" [675,680]
                                    STRING [681,792]
                                        String: "pip install --upgrade pip setuptools wheel\npip install -e .\npip install --upgrade -r dev-requirements.txt\n" [681,792]
                            OBJECT [794,836]
                                FIELD [795,814]
                                    String: "name" [795,801]
                                    STRING [802,814]
                                        String: "Debug info" [802,814]
                                FIELD [815,835]
                                    String: "run" [815,820]
                                    STRING [821,835]
                                        String: "pip freeze\n" [821,835]
                            OBJECT [837,872]
                                FIELD [838,851]
                                    String: "name" [838,844]
                                    STRING [845,851]
                                        String: "Lint" [845,851]
                                FIELD [852,871]
                                    String: "run" [852,857]
                                    STRING [858,871]
                                        String: "make lint\n" [858,871]
                            OBJECT [873,919]
                                FIELD [874,893]
                                    String: "name" [874,880]
                                    STRING [881,893]
                                        String: "Type check" [881,893]
                                FIELD [894,918]
                                    String: "run" [894,899]
                                    STRING [900,918]
                                        String: "make typecheck\n" [900,918]
                            OBJECT [920,969]
                                FIELD [921,939]
                                    String: "name" [921,927]
                                    STRING [928,939]
                                        String: "Run tests" [928,939]
                                FIELD [940,968]
                                    String: "run" [940,945]
                                    STRING [946,968]
                                        String: "make test-with-cov\n" [946,968]
                            OBJECT [970,1446]
                                FIELD [971,1006]
                                    String: "name" [971,977]
                                    STRING [978,1006]
                                        String: "Upload coverage to Codecov" [978,1006]
                                FIELD [1007,1036]
                                    String: "if" [1007,1011]
                                    STRING [1012,1036]
                                        String: "matrix.python == '3.7'" [1012,1036]
                                FIELD [1037,1091]
                                    String: "env" [1037,1042]
                                    OBJECT [1043,1091]
                                        FIELD [1044,1090]
                                            String: "CODECOV_TOKEN" [1044,1059]
                                            STRING [1060,1090]
                                                String: "${{ secrets.CODECOV_TOKEN }}" [1060,1090]
                                FIELD [1092,1445]
                                    String: "run" [1092,1097]
                                    STRING [1098,1445]
                                        String: "# Ignore codecov failures as the codecov server is not\n# very reliable but we don't want to report a failure\n# in the github UI just because the coverage report failed to\n# be published.\n# This will also fail for forked repositories since the secret token won't\n# be available.\ncodecov -t $CODECOV_TOKEN || echo \"codecov upload failed\"\n" [1098,1445]
            FIELD [1449,2598]
                String: "check_models" [1449,1463]
                OBJECT [1464,2598]
                    FIELD [1465,1486]
                        String: "name" [1465,1471]
                        STRING [1472,1486]
                            String: "Check Models" [1472,1486]
                    FIELD [1487,1512]
                        String: "runs-on" [1487,1496]
                        STRING [1497,1512]
                            String: "ubuntu-latest" [1497,1512]
                    FIELD [1513,1559]
                        String: "strategy" [1513,1523]
                        OBJECT [1524,1559]
                            FIELD [1525,1558]
                                String: "matrix" [1525,1533]
                                OBJECT [1534,1558]
                                    FIELD [1535,1557]
                                        String: "python" [1535,1543]
                                        ARRAY [1544,1557]
                                            STRING [1545,1550]
                                                String: "3.6" [1545,1550]
                                            STRING [1551,1556]
                                                String: "3.7" [1551,1556]
                    FIELD [1560,2597]
                        String: "steps" [1560,1567]
                        ARRAY [1568,2597]
                            OBJECT [1569,1599]
                                FIELD [1570,1598]
                                    String: "uses" [1570,1576]
                                    STRING [1577,1598]
                                        String: "actions/checkout@v2" [1577,1598]
                            OBJECT [1600,1705]
                                FIELD [1601,1622]
                                    String: "name" [1601,1607]
                                    STRING [1608,1622]
                                        String: "Setup Python" [1608,1622]
                                FIELD [1623,1655]
                                    String: "uses" [1623,1629]
                                    STRING [1630,1655]
                                        String: "actions/setup-python@v1" [1630,1655]
                                FIELD [1656,1704]
                                    String: "with" [1656,1662]
                                    OBJECT [1663,1704]
                                        FIELD [1664,1703]
                                            String: "python-version" [1664,1680]
                                            STRING [1681,1703]
                                                String: "${{ matrix.python }}" [1681,1703]
                            OBJECT [1706,1964]
                                FIELD [1707,1732]
                                    String: "uses" [1707,1713]
                                    STRING [1714,1732]
                                        String: "actions/cache@v1" [1714,1732]
                                FIELD [1733,1963]
                                    String: "with" [1733,1739]
                                    OBJECT [1740,1963]
                                        FIELD [1741,1775]
                                            String: "path" [1741,1747]
                                            STRING [1748,1775]
                                                String: "${{ env.pythonLocation }}" [1748,1775]
                                        FIELD [1776,1898]
                                            String: "key" [1776,1781]
                                            STRING [1782,1898]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [1782,1898]
                                        FIELD [1899,1962]
                                            String: "restore-keys" [1899,1913]
                                            STRING [1914,1962]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}\n" [1914,1962]
                            OBJECT [1965,2114]
                                FIELD [1966,1995]
                                    String: "name" [1966,1972]
                                    STRING [1973,1995]
                                        String: "Install requirements" [1973,1995]
                                FIELD [1996,2113]
                                    String: "run" [1996,2001]
                                    STRING [2002,2113]
                                        String: "pip install --upgrade pip setuptools wheel\npip install -e .\npip install --upgrade -r dev-requirements.txt\n" [2002,2113]
                            OBJECT [2115,2157]
                                FIELD [2116,2135]
                                    String: "name" [2116,2122]
                                    STRING [2123,2135]
                                        String: "Debug info" [2123,2135]
                                FIELD [2136,2156]
                                    String: "run" [2136,2141]
                                    STRING [2142,2156]
                                        String: "pip freeze\n" [2142,2156]
                            OBJECT [2158,2386]
                                FIELD [2159,2196]
                                    String: "name" [2159,2165]
                                    STRING [2166,2196]
                                        String: "Pull and install models repo" [2166,2196]
                                FIELD [2197,2239]
                                    String: "env" [2197,2202]
                                    OBJECT [2203,2239]
                                        FIELD [2204,2238]
                                            String: "EXCLUDE_ALLENNLP_IN_SETUP" [2204,2231]
                                            STRING [2232,2238]
                                                String: "true" [2232,2238]
                                FIELD [2240,2385]
                                    String: "run" [2240,2245]
                                    STRING [2246,2385]
                                        String: "git clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models && pip install -e . && pip install -r dev-requirements.txt\n" [2246,2385]
                            OBJECT [2387,2456]
                                FIELD [2388,2413]
                                    String: "name" [2388,2394]
                                    STRING [2395,2413]
                                        String: "Run models tests" [2395,2413]
                                FIELD [2414,2455]
                                    String: "run" [2414,2419]
                                    STRING [2420,2455]
                                        String: "cd allennlp-models && make test\n" [2420,2455]
                            OBJECT [2457,2596]
                                FIELD [2458,2475]
                                    String: "name" [2458,2464]
                                    STRING [2465,2475]
                                        String: "Clean up" [2465,2475]
                                FIELD [2476,2595]
                                    String: "run" [2476,2481]
                                    STRING [2482,2595]
                                        String: "# Don't want this in the cache since the other workflow uses same cache.\npip uninstall --yes allennlp_models\n" [2482,2595]
            FIELD [2599,3572]
                String: "build_package" [2599,2614]
                OBJECT [2615,3572]
                    FIELD [2616,2638]
                        String: "name" [2616,2622]
                        STRING [2623,2638]
                            String: "Build Package" [2623,2638]
                    FIELD [2639,2676]
                        String: "needs" [2639,2646]
                        ARRAY [2647,2676]
                            STRING [2648,2660]
                                String: "check_core" [2648,2660]
                            STRING [2661,2675]
                                String: "check_models" [2661,2675]
                    FIELD [2677,2719]
                        String: "if" [2677,2681]
                        STRING [2682,2719]
                            String: "github.event_name != 'pull_request'" [2682,2719]
                    FIELD [2720,2745]
                        String: "runs-on" [2720,2729]
                        STRING [2730,2745]
                            String: "ubuntu-latest" [2730,2745]
                    FIELD [2746,2786]
                        String: "strategy" [2746,2756]
                        OBJECT [2757,2786]
                            FIELD [2758,2785]
                                String: "matrix" [2758,2766]
                                OBJECT [2767,2785]
                                    FIELD [2768,2784]
                                        String: "python" [2768,2776]
                                        ARRAY [2777,2784]
                                            STRING [2778,2783]
                                                String: "3.7" [2778,2783]
                    FIELD [2787,3571]
                        String: "steps" [2787,2794]
                        ARRAY [2795,3571]
                            OBJECT [2796,2826]
                                FIELD [2797,2825]
                                    String: "uses" [2797,2803]
                                    STRING [2804,2825]
                                        String: "actions/checkout@v2" [2804,2825]
                            OBJECT [2827,2932]
                                FIELD [2828,2849]
                                    String: "name" [2828,2834]
                                    STRING [2835,2849]
                                        String: "Setup Python" [2835,2849]
                                FIELD [2850,2882]
                                    String: "uses" [2850,2856]
                                    STRING [2857,2882]
                                        String: "actions/setup-python@v1" [2857,2882]
                                FIELD [2883,2931]
                                    String: "with" [2883,2889]
                                    OBJECT [2890,2931]
                                        FIELD [2891,2930]
                                            String: "python-version" [2891,2907]
                                            STRING [2908,2930]
                                                String: "${{ matrix.python }}" [2908,2930]
                            OBJECT [2933,3191]
                                FIELD [2934,2959]
                                    String: "uses" [2934,2940]
                                    STRING [2941,2959]
                                        String: "actions/cache@v1" [2941,2959]
                                FIELD [2960,3190]
                                    String: "with" [2960,2966]
                                    OBJECT [2967,3190]
                                        FIELD [2968,3002]
                                            String: "path" [2968,2974]
                                            STRING [2975,3002]
                                                String: "${{ env.pythonLocation }}" [2975,3002]
                                        FIELD [3003,3125]
                                            String: "key" [3003,3008]
                                            STRING [3009,3125]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [3009,3125]
                                        FIELD [3126,3189]
                                            String: "restore-keys" [3126,3140]
                                            STRING [3141,3189]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}\n" [3141,3189]
                            OBJECT [3192,3341]
                                FIELD [3193,3222]
                                    String: "name" [3193,3199]
                                    STRING [3200,3222]
                                        String: "Install requirements" [3200,3222]
                                FIELD [3223,3340]
                                    String: "run" [3223,3228]
                                    STRING [3229,3340]
                                        String: "pip install --upgrade pip setuptools wheel\npip install -e .\npip install --upgrade -r dev-requirements.txt\n" [3229,3340]
                            OBJECT [3342,3460]
                                FIELD [3343,3370]
                                    String: "name" [3343,3349]
                                    STRING [3350,3370]
                                        String: "Build core package" [3350,3370]
                                FIELD [3371,3459]
                                    String: "run" [3371,3376]
                                    STRING [3377,3459]
                                        String: "echo \"Building packages for core release\"\npython setup.py bdist_wheel sdist\n" [3377,3459]
                            OBJECT [3461,3570]
                                FIELD [3462,3488]
                                    String: "name" [3462,3468]
                                    STRING [3469,3488]
                                        String: "Save core package" [3469,3488]
                                FIELD [3489,3524]
                                    String: "uses" [3489,3495]
                                    STRING [3496,3524]
                                        String: "actions/upload-artifact@v1" [3496,3524]
                                FIELD [3525,3569]
                                    String: "with" [3525,3531]
                                    OBJECT [3532,3569]
                                        FIELD [3533,3554]
                                            String: "name" [3533,3539]
                                            STRING [3540,3554]
                                                String: "core-package" [3540,3554]
                                        FIELD [3555,3568]
                                            String: "path" [3555,3561]
                                            STRING [3562,3568]
                                                String: "dist" [3562,3568]
            FIELD [3573,4197]
                String: "test_package" [3573,3587]
                OBJECT [3588,4197]
                    FIELD [3589,3610]
                        String: "name" [3589,3595]
                        STRING [3596,3610]
                            String: "Test Package" [3596,3610]
                    FIELD [3611,3636]
                        String: "needs" [3611,3618]
                        ARRAY [3619,3636]
                            STRING [3620,3635]
                                String: "build_package" [3620,3635]
                    FIELD [3637,3679]
                        String: "if" [3637,3641]
                        STRING [3642,3679]
                            String: "github.event_name != 'pull_request'" [3642,3679]
                    FIELD [3680,3705]
                        String: "runs-on" [3680,3689]
                        STRING [3690,3705]
                            String: "ubuntu-latest" [3690,3705]
                    FIELD [3706,3752]
                        String: "strategy" [3706,3716]
                        OBJECT [3717,3752]
                            FIELD [3718,3751]
                                String: "matrix" [3718,3726]
                                OBJECT [3727,3751]
                                    FIELD [3728,3750]
                                        String: "python" [3728,3736]
                                        ARRAY [3737,3750]
                                            STRING [3738,3743]
                                                String: "3.6" [3738,3743]
                                            STRING [3744,3749]
                                                String: "3.7" [3744,3749]
                    FIELD [3753,4196]
                        String: "steps" [3753,3760]
                        ARRAY [3761,4196]
                            OBJECT [3762,3867]
                                FIELD [3763,3784]
                                    String: "name" [3763,3769]
                                    STRING [3770,3784]
                                        String: "Setup Python" [3770,3784]
                                FIELD [3785,3817]
                                    String: "uses" [3785,3791]
                                    STRING [3792,3817]
                                        String: "actions/setup-python@v1" [3792,3817]
                                FIELD [3818,3866]
                                    String: "with" [3818,3824]
                                    OBJECT [3825,3866]
                                        FIELD [3826,3865]
                                            String: "python-version" [3826,3842]
                                            STRING [3843,3865]
                                                String: "${{ matrix.python }}" [3843,3865]
                            OBJECT [3868,3952]
                                FIELD [3869,3898]
                                    String: "name" [3869,3875]
                                    STRING [3876,3898]
                                        String: "Install requirements" [3876,3898]
                                FIELD [3899,3951]
                                    String: "run" [3899,3904]
                                    STRING [3905,3951]
                                        String: "pip install --upgrade pip setuptools wheel\n" [3905,3951]
                            OBJECT [3953,4068]
                                FIELD [3954,3984]
                                    String: "name" [3954,3960]
                                    STRING [3961,3984]
                                        String: "Download core package" [3961,3984]
                                FIELD [3985,4022]
                                    String: "uses" [3985,3991]
                                    STRING [3992,4022]
                                        String: "actions/download-artifact@v1" [3992,4022]
                                FIELD [4023,4067]
                                    String: "with" [4023,4029]
                                    OBJECT [4030,4067]
                                        FIELD [4031,4052]
                                            String: "name" [4031,4037]
                                            STRING [4038,4052]
                                                String: "core-package" [4038,4052]
                                        FIELD [4053,4066]
                                            String: "path" [4053,4059]
                                            STRING [4060,4066]
                                                String: "dist" [4060,4066]
                            OBJECT [4069,4139]
                                FIELD [4070,4099]
                                    String: "name" [4070,4076]
                                    STRING [4077,4099]
                                        String: "Install core package" [4077,4099]
                                FIELD [4100,4138]
                                    String: "run" [4100,4105]
                                    STRING [4106,4138]
                                        String: "pip install $(ls dist/*.whl)\n" [4106,4138]
                            OBJECT [4140,4195]
                                FIELD [4141,4162]
                                    String: "name" [4141,4147]
                                    STRING [4148,4162]
                                        String: "Test install" [4148,4162]
                                FIELD [4163,4194]
                                    String: "run" [4163,4168]
                                    STRING [4169,4194]
                                        String: "allennlp test-install\n" [4169,4194]
            FIELD [4198,5491]
                String: "docker" [4198,4206]
                OBJECT [4207,5491]
                    FIELD [4208,4223]
                        String: "name" [4208,4214]
                        STRING [4215,4223]
                            String: "Docker" [4215,4223]
                    FIELD [4224,4264]
                        String: "needs" [4224,4231]
                        ARRAY [4232,4264]
                            STRING [4233,4248]
                                String: "build_package" [4233,4248]
                            STRING [4249,4263]
                                String: "test_package" [4249,4263]
                    FIELD [4265,4307]
                        String: "if" [4265,4269]
                        STRING [4270,4307]
                            String: "github.event_name != 'pull_request'" [4270,4307]
                    FIELD [4308,4333]
                        String: "runs-on" [4308,4317]
                        STRING [4318,4333]
                            String: "ubuntu-latest" [4318,4333]
                    FIELD [4334,5490]
                        String: "steps" [4334,4341]
                        ARRAY [4342,5490]
                            OBJECT [4343,4373]
                                FIELD [4344,4372]
                                    String: "uses" [4344,4350]
                                    STRING [4351,4372]
                                        String: "actions/checkout@v2" [4351,4372]
                            OBJECT [4374,4489]
                                FIELD [4375,4405]
                                    String: "name" [4375,4381]
                                    STRING [4382,4405]
                                        String: "Download core package" [4382,4405]
                                FIELD [4406,4443]
                                    String: "uses" [4406,4412]
                                    STRING [4413,4443]
                                        String: "actions/download-artifact@v1" [4413,4443]
                                FIELD [4444,4488]
                                    String: "with" [4444,4450]
                                    OBJECT [4451,4488]
                                        FIELD [4452,4473]
                                            String: "name" [4452,4458]
                                            STRING [4459,4473]
                                                String: "core-package" [4459,4473]
                                        FIELD [4474,4487]
                                            String: "path" [4474,4480]
                                            STRING [4481,4487]
                                                String: "dist" [4481,4487]
                            OBJECT [4490,4806]
                                FIELD [4491,4511]
                                    String: "name" [4491,4497]
                                    STRING [4498,4511]
                                        String: "Build image" [4498,4511]
                                FIELD [4512,4805]
                                    String: "run" [4512,4517]
                                    STRING [4518,4805]
                                        String: "# Create a small context for the Docker with only the files that we need.\ntar -czvf context.tar.gz \\\n    Dockerfile.whl \\\n    scripts/ai2_internal/resumable_train.sh \\\n    dist/*.whl\ndocker build \\\n    --pull \\\n    -f Dockerfile.whl \\\n    -t allennlp - < context.tar.gz\n" [4518,4805]
                            OBJECT [4807,4876]
                                FIELD [4808,4827]
                                    String: "name" [4808,4814]
                                    STRING [4815,4827]
                                        String: "Test image" [4815,4827]
                                FIELD [4828,4875]
                                    String: "run" [4828,4833]
                                    STRING [4834,4875]
                                        String: "docker run --rm allennlp test-install\n" [4834,4875]
                            OBJECT [4877,5166]
                                FIELD [4878,4906]
                                    String: "name" [4878,4884]
                                    STRING [4885,4906]
                                        String: "Upload master image" [4885,4906]
                                FIELD [4907,4984]
                                    String: "if" [4907,4911]
                                    STRING [4912,4984]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'push'" [4912,4984]
                                FIELD [4985,5165]
                                    String: "run" [4985,4990]
                                    STRING [4991,5165]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\ndocker tag allennlp allennlp/commit:$GITHUB_SHA\ndocker push allennlp/commit:$GITHUB_SHA\n" [4991,5165]
                            OBJECT [5167,5489]
                                FIELD [5168,5197]
                                    String: "name" [5168,5174]
                                    STRING [5175,5197]
                                        String: "Upload release image" [5175,5197]
                                FIELD [5198,5278]
                                    String: "if" [5198,5202]
                                    STRING [5203,5278]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [5203,5278]
                                FIELD [5279,5488]
                                    String: "run" [5279,5284]
                                    STRING [5285,5488]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\nTAG=${GITHUB_REF/\\/refs\\/tags\\//};\ndocker tag allennlp allennlp/allennlp:$TAG\ndocker push allennlp/allennlp:$TAG\n" [5285,5488]
            FIELD [5492,7255]
                String: "docs" [5492,5498]
                OBJECT [5499,7255]
                    FIELD [5500,5513]
                        String: "name" [5500,5506]
                        STRING [5507,5513]
                            String: "Docs" [5507,5513]
                    FIELD [5514,5554]
                        String: "needs" [5514,5521]
                        ARRAY [5522,5554]
                            STRING [5523,5538]
                                String: "build_package" [5523,5538]
                            STRING [5539,5553]
                                String: "test_package" [5539,5553]
                    FIELD [5555,5597]
                        String: "if" [5555,5559]
                        STRING [5560,5597]
                            String: "github.event_name != 'pull_request'" [5560,5597]
                    FIELD [5598,5623]
                        String: "runs-on" [5598,5607]
                        STRING [5608,5623]
                            String: "ubuntu-latest" [5608,5623]
                    FIELD [5624,5664]
                        String: "strategy" [5624,5634]
                        OBJECT [5635,5664]
                            FIELD [5636,5663]
                                String: "matrix" [5636,5644]
                                OBJECT [5645,5663]
                                    FIELD [5646,5662]
                                        String: "python" [5646,5654]
                                        ARRAY [5655,5662]
                                            STRING [5656,5661]
                                                String: "3.7" [5656,5661]
                    FIELD [5665,7254]
                        String: "steps" [5665,5672]
                        ARRAY [5673,7254]
                            OBJECT [5674,5704]
                                FIELD [5675,5703]
                                    String: "uses" [5675,5681]
                                    STRING [5682,5703]
                                        String: "actions/checkout@v1" [5682,5703]
                            OBJECT [5705,5832]
                                FIELD [5706,5734]
                                    String: "name" [5706,5712]
                                    STRING [5713,5734]
                                        String: "Setup SSH Client 🔑" [5713,5734]
                                FIELD [5735,5771]
                                    String: "uses" [5735,5741]
                                    STRING [5742,5771]
                                        String: "webfactory/ssh-agent@v0.2.0" [5742,5771]
                                FIELD [5772,5831]
                                    String: "with" [5772,5778]
                                    OBJECT [5779,5831]
                                        FIELD [5780,5830]
                                            String: "ssh-private-key" [5780,5797]
                                            STRING [5798,5830]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [5798,5830]
                            OBJECT [5833,5938]
                                FIELD [5834,5855]
                                    String: "name" [5834,5840]
                                    STRING [5841,5855]
                                        String: "Setup Python" [5841,5855]
                                FIELD [5856,5888]
                                    String: "uses" [5856,5862]
                                    STRING [5863,5888]
                                        String: "actions/setup-python@v1" [5863,5888]
                                FIELD [5889,5937]
                                    String: "with" [5889,5895]
                                    OBJECT [5896,5937]
                                        FIELD [5897,5936]
                                            String: "python-version" [5897,5913]
                                            STRING [5914,5936]
                                                String: "${{ matrix.python }}" [5914,5936]
                            OBJECT [5939,6197]
                                FIELD [5940,5965]
                                    String: "uses" [5940,5946]
                                    STRING [5947,5965]
                                        String: "actions/cache@v1" [5947,5965]
                                FIELD [5966,6196]
                                    String: "with" [5966,5972]
                                    OBJECT [5973,6196]
                                        FIELD [5974,6008]
                                            String: "path" [5974,5980]
                                            STRING [5981,6008]
                                                String: "${{ env.pythonLocation }}" [5981,6008]
                                        FIELD [6009,6131]
                                            String: "key" [6009,6014]
                                            STRING [6015,6131]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [6015,6131]
                                        FIELD [6132,6195]
                                            String: "restore-keys" [6132,6146]
                                            STRING [6147,6195]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}\n" [6147,6195]
                            OBJECT [6198,6347]
                                FIELD [6199,6228]
                                    String: "name" [6199,6205]
                                    STRING [6206,6228]
                                        String: "Install requirements" [6206,6228]
                                FIELD [6229,6346]
                                    String: "run" [6229,6234]
                                    STRING [6235,6346]
                                        String: "pip install --upgrade pip setuptools wheel\npip install -e .\npip install --upgrade -r dev-requirements.txt\n" [6235,6346]
                            OBJECT [6348,6390]
                                FIELD [6349,6368]
                                    String: "name" [6349,6355]
                                    STRING [6356,6368]
                                        String: "Debug info" [6356,6368]
                                FIELD [6369,6389]
                                    String: "run" [6369,6374]
                                    STRING [6375,6389]
                                        String: "pip freeze\n" [6375,6389]
                            OBJECT [6391,6446]
                                FIELD [6392,6411]
                                    String: "name" [6392,6398]
                                    STRING [6399,6411]
                                        String: "Build docs" [6399,6411]
                                FIELD [6412,6445]
                                    String: "run" [6412,6417]
                                    STRING [6418,6445]
                                        String: "./scripts/build_docs.sh\n" [6418,6445]
                            OBJECT [6447,6626]
                                FIELD [6448,6470]
                                    String: "name" [6448,6454]
                                    STRING [6455,6470]
                                        String: "Configure Git" [6455,6470]
                                FIELD [6471,6625]
                                    String: "run" [6471,6476]
                                    STRING [6477,6625]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [6477,6625]
                            OBJECT [6627,7253]
                                FIELD [6628,6648]
                                    String: "name" [6628,6634]
                                    STRING [6635,6648]
                                        String: "Deploy docs" [6635,6648]
                                FIELD [6649,6695]
                                    String: "if" [6649,6653]
                                    STRING [6654,6695]
                                        String: "github.repository == 'allenai/allennlp'" [6654,6695]
                                FIELD [6696,7252]
                                    String: "run" [6696,6701]
                                    STRING [6702,7252]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    DIRECTORY=${GITHUB_REF/\\/refs\\/tags\\//};\nelse\n    DIRECTORY=master;\nfi\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DIRECTORY/\nmkdir -p ~/allennlp-docs/$DIRECTORY\ncp -r site/* ~/allennlp-docs/$DIRECTORY\n\n# And push them up to GitHub\ncd ~/allennlp-docs/$DIRECTORY\ngit add .\ngit commit -m \"automated update of the docs\"\ngit push\n" [6702,7252]
            FIELD [7256,7884]
                String: "publish" [7256,7265]
                OBJECT [7266,7884]
                    FIELD [7267,7280]
                        String: "name" [7267,7273]
                        STRING [7274,7280]
                            String: "PyPI" [7274,7280]
                    FIELD [7281,7337]
                        String: "needs" [7281,7288]
                        ARRAY [7289,7337]
                            STRING [7290,7305]
                                String: "build_package" [7290,7305]
                            STRING [7306,7320]
                                String: "test_package" [7306,7320]
                            STRING [7321,7329]
                                String: "docker" [7321,7329]
                            STRING [7330,7336]
                                String: "docs" [7330,7336]
                    FIELD [7338,7418]
                        String: "if" [7338,7342]
                        STRING [7343,7418]
                            String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [7343,7418]
                    FIELD [7419,7444]
                        String: "runs-on" [7419,7428]
                        STRING [7429,7444]
                            String: "ubuntu-latest" [7429,7444]
                    FIELD [7445,7883]
                        String: "steps" [7445,7452]
                        ARRAY [7453,7883]
                            OBJECT [7454,7484]
                                FIELD [7455,7483]
                                    String: "uses" [7455,7461]
                                    STRING [7462,7483]
                                        String: "actions/checkout@v2" [7462,7483]
                            OBJECT [7485,7571]
                                FIELD [7486,7507]
                                    String: "name" [7486,7492]
                                    STRING [7493,7507]
                                        String: "Setup Python" [7493,7507]
                                FIELD [7508,7540]
                                    String: "uses" [7508,7514]
                                    STRING [7515,7540]
                                        String: "actions/setup-python@v1" [7515,7540]
                                FIELD [7541,7570]
                                    String: "with" [7541,7547]
                                    OBJECT [7548,7570]
                                        FIELD [7549,7569]
                                            String: "python-version" [7549,7565]
                                            NUMBER [7566,7569]
                                                Number: 3.7 [7566,7569]
                            OBJECT [7572,7662]
                                FIELD [7573,7602]
                                    String: "name" [7573,7579]
                                    STRING [7580,7602]
                                        String: "Install requirements" [7580,7602]
                                FIELD [7603,7661]
                                    String: "run" [7603,7608]
                                    STRING [7609,7661]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [7609,7661]
                            OBJECT [7663,7778]
                                FIELD [7664,7694]
                                    String: "name" [7664,7670]
                                    STRING [7671,7694]
                                        String: "Download core package" [7671,7694]
                                FIELD [7695,7732]
                                    String: "uses" [7695,7701]
                                    STRING [7702,7732]
                                        String: "actions/download-artifact@v1" [7702,7732]
                                FIELD [7733,7777]
                                    String: "with" [7733,7739]
                                    OBJECT [7740,7777]
                                        FIELD [7741,7762]
                                            String: "name" [7741,7747]
                                            STRING [7748,7762]
                                                String: "core-package" [7748,7762]
                                        FIELD [7763,7776]
                                            String: "path" [7763,7769]
                                            STRING [7770,7776]
                                                String: "dist" [7770,7776]
                            OBJECT [7779,7882]
                                FIELD [7780,7809]
                                    String: "name" [7780,7786]
                                    STRING [7787,7809]
                                        String: "Publish core package" [7787,7809]
                                FIELD [7810,7881]
                                    String: "run" [7810,7815]
                                    STRING [7816,7881]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [7816,7881]