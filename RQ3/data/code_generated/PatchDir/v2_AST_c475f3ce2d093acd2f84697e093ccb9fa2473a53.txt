OBJECT [0,8210]
    FIELD [1,40]
        String: "name" [1,7]
        STRING [8,40]
            String: "Self-hosted runner (scheduled)" [8,40]
    FIELD [41,249]
        String: "on" [41,45]
        OBJECT [46,249]
            FIELD [47,187]
                String: "push" [47,53]
                OBJECT [54,187]
                    FIELD [55,117]
                        String: "branches" [55,65]
                        ARRAY [66,117]
                            STRING [67,75]
                                String: "master" [67,75]
                            STRING [76,82]
                                String: "ci_*" [76,82]
                            STRING [83,89]
                                String: "ci-*" [83,89]
                            STRING [90,116]
                                String: "github-actions-workflows" [90,116]
                    FIELD [118,186]
                        String: "paths" [118,125]
                        ARRAY [126,186]
                            STRING [127,135]
                                String: "src/**" [127,135]
                            STRING [136,146]
                                String: "tests/**" [136,146]
                            STRING [147,159]
                                String: ".github/**" [147,159]
                            STRING [160,174]
                                String: "templates/**" [160,174]
                            STRING [175,185]
                                String: "utils/**" [175,185]
            FIELD [188,214]
                String: "repository_dispatch" [188,209]
                NULL [210,214]
            FIELD [215,248]
                String: "schedule" [215,225]
                ARRAY [226,248]
                    OBJECT [227,247]
                        FIELD [228,246]
                            String: "cron" [228,234]
                            STRING [235,246]
                                String: "0 2 * * *" [235,246]
    FIELD [250,474]
        String: "env" [250,255]
        OBJECT [256,474]
            FIELD [257,279]
                String: "HF_HOME" [257,266]
                STRING [267,279]
                    String: "/mnt/cache" [267,279]
            FIELD [280,305]
                String: "TRANSFORMERS_IS_CI" [280,300]
                TRUE [301,305]
            FIELD [306,325]
                String: "OMP_NUM_THREADS" [306,323]
                NUMBER [324,325]
                    Number: 8 [324,325]
            FIELD [326,345]
                String: "MKL_NUM_THREADS" [326,343]
                NUMBER [344,345]
                    Number: 8 [344,345]
            FIELD [346,361]
                String: "RUN_SLOW" [346,356]
                TRUE [357,361]
            FIELD [362,414]
                String: "SIGOPT_API_TOKEN" [362,380]
                STRING [381,414]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [381,414]
            FIELD [415,447]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [415,442]
                TRUE [443,447]
            FIELD [448,473]
                String: "RUN_PT_TF_CROSS_TESTS" [448,471]
                NUMBER [472,473]
                    Number: 1 [472,473]
    FIELD [475,8209]
        String: "jobs" [475,481]
        OBJECT [482,8209]
            FIELD [483,1737]
                String: "setup" [483,490]
                OBJECT [491,1737]
                    FIELD [492,506]
                        String: "name" [492,498]
                        STRING [499,506]
                            String: "Setup" [499,506]
                    FIELD [507,582]
                        String: "strategy" [507,517]
                        OBJECT [518,582]
                            FIELD [519,581]
                                String: "matrix" [519,527]
                                OBJECT [528,581]
                                    FIELD [529,580]
                                        String: "machines" [529,539]
                                        ARRAY [540,580]
                                            STRING [541,559]
                                                String: "multi-gpu-docker" [541,559]
                                            STRING [560,579]
                                                String: "single-gpu-docker" [560,579]
                    FIELD [583,617]
                        String: "runs-on" [583,592]
                        STRING [593,617]
                            String: "${{ matrix.machines }}" [593,617]
                    FIELD [618,778]
                        String: "container" [618,629]
                        OBJECT [630,778]
                            FIELD [631,680]
                                String: "image" [631,638]
                                STRING [639,680]
                                    String: "huggingface/transformers-all-latest-gpu" [639,680]
                            FIELD [681,777]
                                String: "options" [681,690]
                                STRING [691,777]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [691,777]
                    FIELD [779,840]
                        String: "outputs" [779,788]
                        OBJECT [789,840]
                            FIELD [790,839]
                                String: "matrix" [790,798]
                                STRING [799,839]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [799,839]
                    FIELD [841,1736]
                        String: "steps" [841,848]
                        ARRAY [849,1736]
                            OBJECT [850,963]
                                FIELD [851,872]
                                    String: "name" [851,857]
                                    STRING [858,872]
                                        String: "Update clone" [858,872]
                                FIELD [873,908]
                                    String: "working-directory" [873,892]
                                    STRING [893,908]
                                        String: "/transformers" [893,908]
                                FIELD [909,962]
                                    String: "run" [909,914]
                                    STRING [915,962]
                                        String: "git fetch && git checkout ${{ github.sha }}\n" [915,962]
                            OBJECT [964,1069]
                                FIELD [965,981]
                                    String: "name" [965,971]
                                    STRING [972,981]
                                        String: "Cleanup" [972,981]
                                FIELD [982,1017]
                                    String: "working-directory" [982,1001]
                                    STRING [1002,1017]
                                        String: "/transformers" [1002,1017]
                                FIELD [1018,1068]
                                    String: "run" [1018,1023]
                                    STRING [1024,1068]
                                        String: "rm -rf tests/__pycache__\nrm -rf reports\n" [1024,1068]
                            OBJECT [1070,1313]
                                FIELD [1071,1088]
                                    String: "id" [1071,1075]
                                    STRING [1076,1088]
                                        String: "set-matrix" [1076,1088]
                                FIELD [1089,1121]
                                    String: "name" [1089,1095]
                                    STRING [1096,1121]
                                        String: "Identify models to test" [1096,1121]
                                FIELD [1122,1163]
                                    String: "working-directory" [1122,1141]
                                    STRING [1142,1163]
                                        String: "/transformers/tests" [1142,1163]
                                FIELD [1164,1312]
                                    String: "run" [1164,1169]
                                    STRING [1170,1312]
                                        String: "echo \"::set-output name=matrix::$(python3 -c 'import os; x = list(filter(os.path.isdir, os.listdir(os.getcwd()))); x.sort(); print(x)')\"\n" [1170,1312]
                            OBJECT [1314,1356]
                                FIELD [1315,1334]
                                    String: "name" [1315,1321]
                                    STRING [1322,1334]
                                        String: "NVIDIA-SMI" [1322,1334]
                                FIELD [1335,1355]
                                    String: "run" [1335,1340]
                                    STRING [1341,1355]
                                        String: "nvidia-smi\n" [1341,1355]
                            OBJECT [1357,1735]
                                FIELD [1358,1381]
                                    String: "name" [1358,1364]
                                    STRING [1365,1381]
                                        String: "GPU visibility" [1365,1381]
                                FIELD [1382,1417]
                                    String: "working-directory" [1382,1401]
                                    STRING [1402,1417]
                                        String: "/transformers" [1402,1417]
                                FIELD [1418,1734]
                                    String: "run" [1418,1423]
                                    STRING [1424,1734]
                                        String: "utils/print_env_pt.py\nTF_CPP_MIN_LOG_LEVEL=3 python3 -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python3 -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [1424,1734]
            FIELD [1738,3017]
                String: "run_tests_gpu" [1738,1753]
                OBJECT [1754,3017]
                    FIELD [1755,1775]
                        String: "name" [1755,1761]
                        STRING [1762,1775]
                            String: "Model tests" [1762,1775]
                    FIELD [1776,1925]
                        String: "strategy" [1776,1786]
                        OBJECT [1787,1925]
                            FIELD [1788,1805]
                                String: "fail-fast" [1788,1799]
                                FALSE [1800,1805]
                            FIELD [1806,1924]
                                String: "matrix" [1806,1814]
                                OBJECT [1815,1924]
                                    FIELD [1816,1871]
                                        String: "folders" [1816,1825]
                                        STRING [1826,1871]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [1826,1871]
                                    FIELD [1872,1923]
                                        String: "machines" [1872,1882]
                                        ARRAY [1883,1923]
                                            STRING [1884,1902]
                                                String: "multi-gpu-docker" [1884,1902]
                                            STRING [1903,1922]
                                                String: "single-gpu-docker" [1903,1922]
                    FIELD [1926,1960]
                        String: "runs-on" [1926,1935]
                        STRING [1936,1960]
                            String: "${{ matrix.machines }}" [1936,1960]
                    FIELD [1961,2121]
                        String: "container" [1961,1972]
                        OBJECT [1973,2121]
                            FIELD [1974,2023]
                                String: "image" [1974,1981]
                                STRING [1982,2023]
                                    String: "huggingface/transformers-all-latest-gpu" [1982,2023]
                            FIELD [2024,2120]
                                String: "options" [2024,2033]
                                STRING [2034,2120]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [2034,2120]
                    FIELD [2122,2137]
                        String: "needs" [2122,2129]
                        STRING [2130,2137]
                            String: "setup" [2130,2137]
                    FIELD [2138,3016]
                        String: "steps" [2138,2145]
                        ARRAY [2146,3016]
                            OBJECT [2147,2230]
                                FIELD [2148,2190]
                                    String: "name" [2148,2154]
                                    STRING [2155,2190]
                                        String: "Echo folder ${{ matrix.folders }}" [2155,2190]
                                FIELD [2191,2229]
                                    String: "run" [2191,2196]
                                    STRING [2197,2229]
                                        String: "echo \"${{ matrix.folders }}\"" [2197,2229]
                            OBJECT [2231,2342]
                                FIELD [2232,2253]
                                    String: "name" [2232,2238]
                                    STRING [2239,2253]
                                        String: "Update clone" [2239,2253]
                                FIELD [2254,2289]
                                    String: "working-directory" [2254,2273]
                                    STRING [2274,2289]
                                        String: "/transformers" [2274,2289]
                                FIELD [2290,2341]
                                    String: "run" [2290,2295]
                                    STRING [2296,2341]
                                        String: "git fetch && git checkout ${{ github.sha }}" [2296,2341]
                            OBJECT [2343,2546]
                                FIELD [2344,2382]
                                    String: "name" [2344,2350]
                                    STRING [2351,2382]
                                        String: "Run all non-slow tests on GPU" [2351,2382]
                                FIELD [2383,2418]
                                    String: "working-directory" [2383,2402]
                                    STRING [2403,2418]
                                        String: "/transformers" [2403,2418]
                                FIELD [2419,2545]
                                    String: "run" [2419,2424]
                                    STRING [2425,2545]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machines }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [2425,2545]
                            OBJECT [2547,2736]
                                FIELD [2548,2578]
                                    String: "name" [2548,2554]
                                    STRING [2555,2578]
                                        String: "Failure short reports" [2555,2578]
                                FIELD [2579,2602]
                                    String: "if" [2579,2583]
                                    STRING [2584,2602]
                                        String: "${{ failure() }}" [2584,2602]
                                FIELD [2603,2627]
                                    String: "continue-on-error" [2603,2622]
                                    TRUE [2623,2627]
                                FIELD [2628,2735]
                                    String: "run" [2628,2633]
                                    STRING [2634,2735]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [2634,2735]
                            OBJECT [2737,3015]
                                FIELD [2738,2775]
                                    String: "name" [2738,2744]
                                    STRING [2745,2775]
                                        String: "Test suite reports artifacts" [2745,2775]
                                FIELD [2776,2798]
                                    String: "if" [2776,2780]
                                    STRING [2781,2798]
                                        String: "${{ always() }}" [2781,2798]
                                FIELD [2799,2834]
                                    String: "uses" [2799,2805]
                                    STRING [2806,2834]
                                        String: "actions/upload-artifact@v2" [2806,2834]
                                FIELD [2835,3014]
                                    String: "with" [2835,2841]
                                    OBJECT [2842,3014]
                                        FIELD [2843,2927]
                                            String: "name" [2843,2849]
                                            STRING [2850,2927]
                                                String: "${{ matrix.machines }}_run_all_tests_gpu_${{ matrix.folders }}_test_reports" [2850,2927]
                                        FIELD [2928,3013]
                                            String: "path" [2928,2934]
                                            STRING [2935,3013]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_gpu_${{ matrix.folders }}" [2935,3013]
            FIELD [3018,3943]
                String: "run_examples_gpu" [3018,3036]
                OBJECT [3037,3943]
                    FIELD [3038,3065]
                        String: "name" [3038,3044]
                        STRING [3045,3065]
                            String: "Examples directory" [3045,3065]
                    FIELD [3066,3111]
                        String: "runs-on" [3066,3075]
                        ARRAY [3076,3111]
                            STRING [3077,3090]
                                String: "self-hosted" [3077,3090]
                            STRING [3091,3110]
                                String: "single-gpu-docker" [3091,3110]
                    FIELD [3112,3272]
                        String: "container" [3112,3123]
                        OBJECT [3124,3272]
                            FIELD [3125,3174]
                                String: "image" [3125,3132]
                                STRING [3133,3174]
                                    String: "huggingface/transformers-all-latest-gpu" [3133,3174]
                            FIELD [3175,3271]
                                String: "options" [3175,3184]
                                STRING [3185,3271]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [3185,3271]
                    FIELD [3273,3288]
                        String: "needs" [3273,3280]
                        STRING [3281,3288]
                            String: "setup" [3281,3288]
                    FIELD [3289,3942]
                        String: "steps" [3289,3296]
                        ARRAY [3297,3942]
                            OBJECT [3298,3409]
                                FIELD [3299,3320]
                                    String: "name" [3299,3305]
                                    STRING [3306,3320]
                                        String: "Update clone" [3306,3320]
                                FIELD [3321,3356]
                                    String: "working-directory" [3321,3340]
                                    STRING [3341,3356]
                                        String: "/transformers" [3341,3356]
                                FIELD [3357,3408]
                                    String: "run" [3357,3362]
                                    STRING [3363,3408]
                                        String: "git fetch && git checkout ${{ github.sha }}" [3363,3408]
                            OBJECT [3410,3615]
                                FIELD [3411,3445]
                                    String: "name" [3411,3417]
                                    STRING [3418,3445]
                                        String: "Run examples tests on GPU" [3418,3445]
                                FIELD [3446,3481]
                                    String: "working-directory" [3446,3465]
                                    STRING [3466,3481]
                                        String: "/transformers" [3466,3481]
                                FIELD [3482,3614]
                                    String: "run" [3482,3487]
                                    STRING [3488,3614]
                                        String: "pip install -r examples/pytorch/_tests_requirements.txt\npython3 -m pytest -v --make-reports=examples_gpu examples/pytorch\n" [3488,3614]
                            OBJECT [3616,3763]
                                FIELD [3617,3647]
                                    String: "name" [3617,3623]
                                    STRING [3624,3647]
                                        String: "Failure short reports" [3624,3647]
                                FIELD [3648,3671]
                                    String: "if" [3648,3652]
                                    STRING [3653,3671]
                                        String: "${{ failure() }}" [3653,3671]
                                FIELD [3672,3696]
                                    String: "continue-on-error" [3672,3691]
                                    TRUE [3692,3696]
                                FIELD [3697,3762]
                                    String: "run" [3697,3702]
                                    STRING [3703,3762]
                                        String: "cat /transformers/reports/examples_gpu/failures_short.txt" [3703,3762]
                            OBJECT [3764,3941]
                                FIELD [3765,3802]
                                    String: "name" [3765,3771]
                                    STRING [3772,3802]
                                        String: "Test suite reports artifacts" [3772,3802]
                                FIELD [3803,3825]
                                    String: "if" [3803,3807]
                                    STRING [3808,3825]
                                        String: "${{ always() }}" [3808,3825]
                                FIELD [3826,3861]
                                    String: "uses" [3826,3832]
                                    STRING [3833,3861]
                                        String: "actions/upload-artifact@v2" [3833,3861]
                                FIELD [3862,3940]
                                    String: "with" [3862,3868]
                                    OBJECT [3869,3940]
                                        FIELD [3870,3895]
                                            String: "name" [3870,3876]
                                            STRING [3877,3895]
                                                String: "run_examples_gpu" [3877,3895]
                                        FIELD [3896,3939]
                                            String: "path" [3896,3902]
                                            STRING [3903,3939]
                                                String: "/transformers/reports/examples_gpu" [3903,3939]
            FIELD [3944,5113]
                String: "run_pipelines_torch_gpu" [3944,3969]
                OBJECT [3970,5113]
                    FIELD [3971,3997]
                        String: "name" [3971,3977]
                        STRING [3978,3997]
                            String: "PyTorch pipelines" [3978,3997]
                    FIELD [3998,4091]
                        String: "strategy" [3998,4008]
                        OBJECT [4009,4091]
                            FIELD [4010,4027]
                                String: "fail-fast" [4010,4021]
                                FALSE [4022,4027]
                            FIELD [4028,4090]
                                String: "matrix" [4028,4036]
                                OBJECT [4037,4090]
                                    FIELD [4038,4089]
                                        String: "machines" [4038,4048]
                                        ARRAY [4049,4089]
                                            STRING [4050,4068]
                                                String: "multi-gpu-docker" [4050,4068]
                                            STRING [4069,4088]
                                                String: "single-gpu-docker" [4069,4088]
                    FIELD [4092,4126]
                        String: "runs-on" [4092,4101]
                        STRING [4102,4126]
                            String: "${{ matrix.machines }}" [4102,4126]
                    FIELD [4127,4291]
                        String: "container" [4127,4138]
                        OBJECT [4139,4291]
                            FIELD [4140,4193]
                                String: "image" [4140,4147]
                                STRING [4148,4193]
                                    String: "huggingface/transformers-pytorch-latest-gpu" [4148,4193]
                            FIELD [4194,4290]
                                String: "options" [4194,4203]
                                STRING [4204,4290]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [4204,4290]
                    FIELD [4292,4307]
                        String: "needs" [4292,4299]
                        STRING [4300,4307]
                            String: "setup" [4300,4307]
                    FIELD [4308,5112]
                        String: "steps" [4308,4315]
                        ARRAY [4316,5112]
                            OBJECT [4317,4428]
                                FIELD [4318,4339]
                                    String: "name" [4318,4324]
                                    STRING [4325,4339]
                                        String: "Update clone" [4325,4339]
                                FIELD [4340,4375]
                                    String: "working-directory" [4340,4359]
                                    STRING [4360,4375]
                                        String: "/transformers" [4360,4375]
                                FIELD [4376,4427]
                                    String: "run" [4376,4381]
                                    STRING [4382,4427]
                                        String: "git fetch && git checkout ${{ github.sha }}" [4382,4427]
                            OBJECT [4429,4680]
                                FIELD [4430,4468]
                                    String: "name" [4430,4436]
                                    STRING [4437,4468]
                                        String: "Run all pipeline tests on GPU" [4437,4468]
                                FIELD [4469,4504]
                                    String: "working-directory" [4469,4488]
                                    STRING [4489,4504]
                                        String: "/transformers" [4489,4504]
                                FIELD [4505,4538]
                                    String: "env" [4505,4510]
                                    OBJECT [4511,4538]
                                        FIELD [4512,4537]
                                            String: "RUN_PIPELINE_TESTS" [4512,4532]
                                            TRUE [4533,4537]
                                FIELD [4539,4679]
                                    String: "run" [4539,4544]
                                    STRING [4545,4679]
                                        String: "python3 -m pytest -n 1 -v --dist=loadfile -m is_pipeline_test --make-reports=${{ matrix.machines }}_tests_torch_pipeline_gpu tests\n" [4545,4679]
                            OBJECT [4681,4863]
                                FIELD [4682,4712]
                                    String: "name" [4682,4688]
                                    STRING [4689,4712]
                                        String: "Failure short reports" [4689,4712]
                                FIELD [4713,4736]
                                    String: "if" [4713,4717]
                                    STRING [4718,4736]
                                        String: "${{ failure() }}" [4718,4736]
                                FIELD [4737,4761]
                                    String: "continue-on-error" [4737,4756]
                                    TRUE [4757,4761]
                                FIELD [4762,4862]
                                    String: "run" [4762,4767]
                                    STRING [4768,4862]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_torch_pipeline_gpu/failures_short.txt" [4768,4862]
                            OBJECT [4864,5111]
                                FIELD [4865,4902]
                                    String: "name" [4865,4871]
                                    STRING [4872,4902]
                                        String: "Test suite reports artifacts" [4872,4902]
                                FIELD [4903,4925]
                                    String: "if" [4903,4907]
                                    STRING [4908,4925]
                                        String: "${{ always() }}" [4908,4925]
                                FIELD [4926,4961]
                                    String: "uses" [4926,4932]
                                    STRING [4933,4961]
                                        String: "actions/upload-artifact@v2" [4933,4961]
                                FIELD [4962,5110]
                                    String: "with" [4962,4968]
                                    OBJECT [4969,5110]
                                        FIELD [4970,5030]
                                            String: "name" [4970,4976]
                                            STRING [4977,5030]
                                                String: "${{ matrix.machines }}_run_tests_torch_pipeline_gpu" [4977,5030]
                                        FIELD [5031,5109]
                                            String: "path" [5031,5037]
                                            STRING [5038,5109]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_torch_pipeline_gpu" [5038,5109]
            FIELD [5114,6252]
                String: "run_pipelines_tf_gpu" [5114,5136]
                OBJECT [5137,6252]
                    FIELD [5138,5167]
                        String: "name" [5138,5144]
                        STRING [5145,5167]
                            String: "TensorFlow pipelines" [5145,5167]
                    FIELD [5168,5261]
                        String: "strategy" [5168,5178]
                        OBJECT [5179,5261]
                            FIELD [5180,5197]
                                String: "fail-fast" [5180,5191]
                                FALSE [5192,5197]
                            FIELD [5198,5260]
                                String: "matrix" [5198,5206]
                                OBJECT [5207,5260]
                                    FIELD [5208,5259]
                                        String: "machines" [5208,5218]
                                        ARRAY [5219,5259]
                                            STRING [5220,5238]
                                                String: "multi-gpu-docker" [5220,5238]
                                            STRING [5239,5258]
                                                String: "single-gpu-docker" [5239,5258]
                    FIELD [5262,5296]
                        String: "runs-on" [5262,5271]
                        STRING [5272,5296]
                            String: "${{ matrix.machines }}" [5272,5296]
                    FIELD [5297,5464]
                        String: "container" [5297,5308]
                        OBJECT [5309,5464]
                            FIELD [5310,5366]
                                String: "image" [5310,5317]
                                STRING [5318,5366]
                                    String: "huggingface/transformers-tensorflow-latest-gpu" [5318,5366]
                            FIELD [5367,5463]
                                String: "options" [5367,5376]
                                STRING [5377,5463]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [5377,5463]
                    FIELD [5465,5480]
                        String: "needs" [5465,5472]
                        STRING [5473,5480]
                            String: "setup" [5473,5480]
                    FIELD [5481,6251]
                        String: "steps" [5481,5488]
                        ARRAY [5489,6251]
                            OBJECT [5490,5603]
                                FIELD [5491,5512]
                                    String: "name" [5491,5497]
                                    STRING [5498,5512]
                                        String: "Update clone" [5498,5512]
                                FIELD [5513,5548]
                                    String: "working-directory" [5513,5532]
                                    STRING [5533,5548]
                                        String: "/transformers" [5533,5548]
                                FIELD [5549,5602]
                                    String: "run" [5549,5554]
                                    STRING [5555,5602]
                                        String: "git fetch && git checkout ${{ github.sha }}\n" [5555,5602]
                            OBJECT [5604,5852]
                                FIELD [5605,5643]
                                    String: "name" [5605,5611]
                                    STRING [5612,5643]
                                        String: "Run all pipeline tests on GPU" [5612,5643]
                                FIELD [5644,5679]
                                    String: "working-directory" [5644,5663]
                                    STRING [5664,5679]
                                        String: "/transformers" [5664,5679]
                                FIELD [5680,5713]
                                    String: "env" [5680,5685]
                                    OBJECT [5686,5713]
                                        FIELD [5687,5712]
                                            String: "RUN_PIPELINE_TESTS" [5687,5707]
                                            TRUE [5708,5712]
                                FIELD [5714,5851]
                                    String: "run" [5714,5719]
                                    STRING [5720,5851]
                                        String: "python3 -m pytest -n 1 -v --dist=loadfile -m is_pipeline_test --make-reports=${{ matrix.machines }}_tests_tf_pipeline_gpu tests\n" [5720,5851]
                            OBJECT [5853,6008]
                                FIELD [5854,5884]
                                    String: "name" [5854,5860]
                                    STRING [5861,5884]
                                        String: "Failure short reports" [5861,5884]
                                FIELD [5885,5907]
                                    String: "if" [5885,5889]
                                    STRING [5890,5907]
                                        String: "${{ always() }}" [5890,5907]
                                FIELD [5908,6007]
                                    String: "run" [5908,5913]
                                    STRING [5914,6007]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_tf_pipeline_gpu/failures_short.txt\n" [5914,6007]
                            OBJECT [6009,6250]
                                FIELD [6010,6047]
                                    String: "name" [6010,6016]
                                    STRING [6017,6047]
                                        String: "Test suite reports artifacts" [6017,6047]
                                FIELD [6048,6070]
                                    String: "if" [6048,6052]
                                    STRING [6053,6070]
                                        String: "${{ always() }}" [6053,6070]
                                FIELD [6071,6106]
                                    String: "uses" [6071,6077]
                                    STRING [6078,6106]
                                        String: "actions/upload-artifact@v2" [6078,6106]
                                FIELD [6107,6249]
                                    String: "with" [6107,6113]
                                    OBJECT [6114,6249]
                                        FIELD [6115,6172]
                                            String: "name" [6115,6121]
                                            STRING [6122,6172]
                                                String: "${{ matrix.machines }}_run_tests_tf_pipeline_gpu" [6122,6172]
                                        FIELD [6173,6248]
                                            String: "path" [6173,6179]
                                            STRING [6180,6248]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_tf_pipeline_gpu" [6180,6248]
            FIELD [6253,7480]
                String: "run_all_tests_torch_cuda_extensions_gpu" [6253,6294]
                OBJECT [6295,7480]
                    FIELD [6296,6331]
                        String: "name" [6296,6302]
                        STRING [6303,6331]
                            String: "Torch CUDA extension tests" [6303,6331]
                    FIELD [6332,6425]
                        String: "strategy" [6332,6342]
                        OBJECT [6343,6425]
                            FIELD [6344,6361]
                                String: "fail-fast" [6344,6355]
                                FALSE [6356,6361]
                            FIELD [6362,6424]
                                String: "matrix" [6362,6370]
                                OBJECT [6371,6424]
                                    FIELD [6372,6423]
                                        String: "machines" [6372,6382]
                                        ARRAY [6383,6423]
                                            STRING [6384,6402]
                                                String: "multi-gpu-docker" [6384,6402]
                                            STRING [6403,6422]
                                                String: "single-gpu-docker" [6403,6422]
                    FIELD [6426,6460]
                        String: "runs-on" [6426,6435]
                        STRING [6436,6460]
                            String: "${{ matrix.machines }}" [6436,6460]
                    FIELD [6461,6476]
                        String: "needs" [6461,6468]
                        STRING [6469,6476]
                            String: "setup" [6469,6476]
                    FIELD [6477,6653]
                        String: "container" [6477,6488]
                        OBJECT [6489,6653]
                            FIELD [6490,6553]
                                String: "image" [6490,6497]
                                STRING [6498,6553]
                                    String: "huggingface/transformers-pytorch-deepspeed-latest-gpu" [6498,6553]
                            FIELD [6554,6652]
                                String: "options" [6554,6563]
                                STRING [6564,6652]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [6564,6652]
                    FIELD [6654,7479]
                        String: "steps" [6654,6661]
                        ARRAY [6662,7479]
                            OBJECT [6663,6784]
                                FIELD [6664,6685]
                                    String: "name" [6664,6670]
                                    STRING [6671,6685]
                                        String: "Update clone" [6671,6685]
                                FIELD [6686,6731]
                                    String: "working-directory" [6686,6705]
                                    STRING [6706,6731]
                                        String: "/workspace/transformers" [6706,6731]
                                FIELD [6732,6783]
                                    String: "run" [6732,6737]
                                    STRING [6738,6783]
                                        String: "git fetch && git checkout ${{ github.sha }}" [6738,6783]
                            OBJECT [6785,6993]
                                FIELD [6786,6815]
                                    String: "name" [6786,6792]
                                    STRING [6793,6815]
                                        String: "Run all tests on GPU" [6793,6815]
                                FIELD [6816,6861]
                                    String: "working-directory" [6816,6835]
                                    STRING [6836,6861]
                                        String: "/workspace/transformers" [6836,6861]
                                FIELD [6862,6992]
                                    String: "run" [6862,6867]
                                    STRING [6868,6992]
                                        String: "python -m pytest -v --make-reports=${{ matrix.machines }}_tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [6868,6992]
                            OBJECT [6994,7193]
                                FIELD [6995,7025]
                                    String: "name" [6995,7001]
                                    STRING [7002,7025]
                                        String: "Failure short reports" [7002,7025]
                                FIELD [7026,7049]
                                    String: "if" [7026,7030]
                                    STRING [7031,7049]
                                        String: "${{ failure() }}" [7031,7049]
                                FIELD [7050,7074]
                                    String: "continue-on-error" [7050,7069]
                                    TRUE [7070,7074]
                                FIELD [7075,7192]
                                    String: "run" [7075,7080]
                                    STRING [7081,7192]
                                        String: "cat /workspace/transformers/reports/${{ matrix.machines }}_tests_torch_cuda_extensions_gpu/failures_short.txt" [7081,7192]
                            OBJECT [7194,7478]
                                FIELD [7195,7232]
                                    String: "name" [7195,7201]
                                    STRING [7202,7232]
                                        String: "Test suite reports artifacts" [7202,7232]
                                FIELD [7233,7255]
                                    String: "if" [7233,7237]
                                    STRING [7238,7255]
                                        String: "${{ always() }}" [7238,7255]
                                FIELD [7256,7291]
                                    String: "uses" [7256,7262]
                                    STRING [7263,7291]
                                        String: "actions/upload-artifact@v2" [7263,7291]
                                FIELD [7292,7477]
                                    String: "with" [7292,7298]
                                    OBJECT [7299,7477]
                                        FIELD [7300,7380]
                                            String: "name" [7300,7306]
                                            STRING [7307,7380]
                                                String: "${{ matrix.machines }}_run_tests_torch_cuda_extensions_gpu_test_reports" [7307,7380]
                                        FIELD [7381,7476]
                                            String: "path" [7381,7387]
                                            STRING [7388,7476]
                                                String: "/workspace/transformers/reports/${{ matrix.machines }}_tests_torch_cuda_extensions_gpu" [7388,7476]
            FIELD [7481,8208]
                String: "send_results" [7481,7495]
                OBJECT [7496,8208]
                    FIELD [7497,7529]
                        String: "name" [7497,7503]
                        STRING [7504,7529]
                            String: "Send results to webhook" [7504,7529]
                    FIELD [7530,7555]
                        String: "runs-on" [7530,7539]
                        STRING [7540,7555]
                            String: "ubuntu-latest" [7540,7555]
                    FIELD [7556,7571]
                        String: "if" [7556,7560]
                        STRING [7561,7571]
                            String: "always()" [7561,7571]
                    FIELD [7572,7715]
                        String: "needs" [7572,7579]
                        ARRAY [7580,7715]
                            STRING [7581,7588]
                                String: "setup" [7581,7588]
                            STRING [7589,7604]
                                String: "run_tests_gpu" [7589,7604]
                            STRING [7605,7623]
                                String: "run_examples_gpu" [7605,7623]
                            STRING [7624,7646]
                                String: "run_pipelines_tf_gpu" [7624,7646]
                            STRING [7647,7672]
                                String: "run_pipelines_torch_gpu" [7647,7672]
                            STRING [7673,7714]
                                String: "run_all_tests_torch_cuda_extensions_gpu" [7673,7714]
                    FIELD [7716,8207]
                        String: "steps" [7716,7723]
                        ARRAY [7724,8207]
                            OBJECT [7725,7755]
                                FIELD [7726,7754]
                                    String: "uses" [7726,7732]
                                    STRING [7733,7754]
                                        String: "actions/checkout@v2" [7733,7754]
                            OBJECT [7756,7795]
                                FIELD [7757,7794]
                                    String: "uses" [7757,7763]
                                    STRING [7764,7794]
                                        String: "actions/download-artifact@v2" [7764,7794]
                            OBJECT [7796,8206]
                                FIELD [7797,7827]
                                    String: "name" [7797,7803]
                                    STRING [7804,7827]
                                        String: "Send message to Slack" [7804,7827]
                                FIELD [7828,8099]
                                    String: "env" [7828,7833]
                                    OBJECT [7834,8099]
                                        FIELD [7835,7891]
                                            String: "CI_SLACK_BOT_TOKEN" [7835,7855]
                                            STRING [7856,7891]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [7856,7891]
                                        FIELD [7892,7950]
                                            String: "CI_SLACK_CHANNEL_ID" [7892,7913]
                                            STRING [7914,7950]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [7914,7950]
                                        FIELD [7951,8021]
                                            String: "CI_SLACK_CHANNEL_ID_DAILY" [7951,7978]
                                            STRING [7979,8021]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY }}" [7979,8021]
                                        FIELD [8022,8098]
                                            String: "CI_SLACK_CHANNEL_DUMMY_TESTS" [8022,8052]
                                            STRING [8053,8098]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_DUMMY_TESTS }}" [8053,8098]
                                FIELD [8100,8205]
                                    String: "run" [8100,8105]
                                    STRING [8106,8205]
                                        String: "pip install slack_sdk\npython utils/notification_service.py \"${{ needs.setup.outputs.matrix }}\"" [8106,8205]