OBJECT [0,2085]
    FIELD [1,18]
        String: "name" [1,7]
        STRING [8,18]
            String: "Doctests" [8,18]
    FIELD [19,120]
        String: "on" [19,23]
        OBJECT [24,120]
            FIELD [25,57]
                String: "push" [25,31]
                OBJECT [32,57]
                    FIELD [33,56]
                        String: "branches" [33,43]
                        ARRAY [44,56]
                            STRING [45,55]
                                String: "doctest*" [45,55]
            FIELD [58,84]
                String: "repository_dispatch" [58,79]
                NULL [80,84]
            FIELD [85,119]
                String: "schedule" [85,95]
                ARRAY [96,119]
                    OBJECT [97,118]
                        FIELD [98,117]
                            String: "cron" [98,104]
                            STRING [105,117]
                                String: "17 2 * * *" [105,117]
    FIELD [121,321]
        String: "env" [121,126]
        OBJECT [127,321]
            FIELD [128,150]
                String: "HF_HOME" [128,137]
                STRING [138,150]
                    String: "/mnt/cache" [138,150]
            FIELD [151,176]
                String: "TRANSFORMERS_IS_CI" [151,171]
                TRUE [172,176]
            FIELD [177,192]
                String: "RUN_SLOW" [177,187]
                TRUE [188,192]
            FIELD [193,213]
                String: "OMP_NUM_THREADS" [193,210]
                NUMBER [211,213]
                    Number: 16 [211,213]
            FIELD [214,234]
                String: "MKL_NUM_THREADS" [214,231]
                NUMBER [232,234]
                    Number: 16 [232,234]
            FIELD [235,287]
                String: "SIGOPT_API_TOKEN" [235,253]
                STRING [254,287]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [254,287]
            FIELD [288,320]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [288,315]
                TRUE [316,320]
    FIELD [322,2084]
        String: "jobs" [322,328]
        OBJECT [329,2084]
            FIELD [330,1486]
                String: "run_doctests" [330,344]
                OBJECT [345,1486]
                    FIELD [346,387]
                        String: "runs-on" [346,355]
                        ARRAY [356,387]
                            STRING [357,370]
                                String: "self-hosted" [357,370]
                            STRING [371,386]
                                String: "doc-tests-gpu" [371,386]
                    FIELD [388,548]
                        String: "container" [388,399]
                        OBJECT [400,548]
                            FIELD [401,450]
                                String: "image" [401,408]
                                STRING [409,450]
                                    String: "huggingface/transformers-all-latest-gpu" [409,450]
                            FIELD [451,547]
                                String: "options" [451,460]
                                STRING [461,547]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [461,547]
                    FIELD [549,1485]
                        String: "steps" [549,556]
                        ARRAY [557,1485]
                            OBJECT [558,588]
                                FIELD [559,587]
                                    String: "uses" [559,565]
                                    STRING [566,587]
                                        String: "actions/checkout@v3" [566,587]
                            OBJECT [589,631]
                                FIELD [590,609]
                                    String: "name" [590,596]
                                    STRING [597,609]
                                        String: "NVIDIA-SMI" [597,609]
                                FIELD [610,630]
                                    String: "run" [610,615]
                                    STRING [616,630]
                                        String: "nvidia-smi\n" [616,630]
                            OBJECT [632,694]
                                FIELD [633,656]
                                    String: "name" [633,639]
                                    STRING [640,656]
                                        String: "GPU visibility" [640,656]
                                FIELD [657,693]
                                    String: "run" [657,662]
                                    STRING [663,693]
                                        String: "python3 utils/print_env.py\n" [663,693]
                            OBJECT [695,768]
                                FIELD [696,748]
                                    String: "name" [696,702]
                                    STRING [703,748]
                                        String: "Show installed libraries and their versions" [703,748]
                                FIELD [749,767]
                                    String: "run" [749,754]
                                    STRING [755,767]
                                        String: "pip freeze" [755,767]
                            OBJECT [769,863]
                                FIELD [770,805]
                                    String: "name" [770,776]
                                    STRING [777,805]
                                        String: "Prepare files for doctests" [777,805]
                                FIELD [806,862]
                                    String: "run" [806,811]
                                    STRING [812,862]
                                        String: "python3 utils/prepare_for_doc_test.py src docs\n" [812,862]
                            OBJECT [864,1061]
                                FIELD [865,886]
                                    String: "name" [865,871]
                                    STRING [872,886]
                                        String: "Run doctests" [872,886]
                                FIELD [887,1060]
                                    String: "run" [887,892]
                                    STRING [893,1060]
                                        String: "python3 -m pytest -v --make-reports doc_tests_gpu --doctest-modules $(cat utils/documentation_tests.txt) -sv --doctest-continue-on-failure --doctest-glob=\"*.mdx\"\n" [893,1060]
                            OBJECT [1062,1174]
                                FIELD [1063,1098]
                                    String: "name" [1063,1069]
                                    STRING [1070,1098]
                                        String: "Clean files after doctests" [1070,1098]
                                FIELD [1099,1173]
                                    String: "run" [1099,1104]
                                    STRING [1105,1173]
                                        String: "python3 utils/prepare_for_doc_test.py src docs --remove_new_line\n" [1105,1173]
                            OBJECT [1175,1309]
                                FIELD [1176,1206]
                                    String: "name" [1176,1182]
                                    STRING [1183,1206]
                                        String: "Failure short reports" [1183,1206]
                                FIELD [1207,1230]
                                    String: "if" [1207,1211]
                                    STRING [1212,1230]
                                        String: "${{ failure() }}" [1212,1230]
                                FIELD [1231,1255]
                                    String: "continue-on-error" [1231,1250]
                                    TRUE [1251,1255]
                                FIELD [1256,1308]
                                    String: "run" [1256,1261]
                                    STRING [1262,1308]
                                        String: "cat reports/doc_tests_gpu/failures_short.txt" [1262,1308]
                            OBJECT [1310,1484]
                                FIELD [1311,1348]
                                    String: "name" [1311,1317]
                                    STRING [1318,1348]
                                        String: "Test suite reports artifacts" [1318,1348]
                                FIELD [1349,1371]
                                    String: "if" [1349,1353]
                                    STRING [1354,1371]
                                        String: "${{ always() }}" [1354,1371]
                                FIELD [1372,1407]
                                    String: "uses" [1372,1378]
                                    STRING [1379,1407]
                                        String: "actions/upload-artifact@v3" [1379,1407]
                                FIELD [1408,1483]
                                    String: "with" [1408,1414]
                                    OBJECT [1415,1483]
                                        FIELD [1416,1451]
                                            String: "name" [1416,1422]
                                            STRING [1423,1451]
                                                String: "doc_tests_gpu_test_reports" [1423,1451]
                                        FIELD [1452,1482]
                                            String: "path" [1452,1458]
                                            STRING [1459,1482]
                                                String: "reports/doc_tests_gpu" [1459,1482]
            FIELD [1487,2083]
                String: "send_results" [1487,1501]
                OBJECT [1502,2083]
                    FIELD [1503,1535]
                        String: "name" [1503,1509]
                        STRING [1510,1535]
                            String: "Send results to webhook" [1510,1535]
                    FIELD [1536,1561]
                        String: "runs-on" [1536,1545]
                        STRING [1546,1561]
                            String: "ubuntu-latest" [1546,1561]
                    FIELD [1562,1577]
                        String: "if" [1562,1566]
                        STRING [1567,1577]
                            String: "always()" [1567,1577]
                    FIELD [1578,1602]
                        String: "needs" [1578,1585]
                        ARRAY [1586,1602]
                            STRING [1587,1601]
                                String: "run_doctests" [1587,1601]
                    FIELD [1603,2082]
                        String: "steps" [1603,1610]
                        ARRAY [1611,2082]
                            OBJECT [1612,1642]
                                FIELD [1613,1641]
                                    String: "uses" [1613,1619]
                                    STRING [1620,1641]
                                        String: "actions/checkout@v3" [1620,1641]
                            OBJECT [1643,1682]
                                FIELD [1644,1681]
                                    String: "uses" [1644,1650]
                                    STRING [1651,1681]
                                        String: "actions/download-artifact@v3" [1651,1681]
                            OBJECT [1683,2081]
                                FIELD [1684,1714]
                                    String: "name" [1684,1690]
                                    STRING [1691,1714]
                                        String: "Send message to Slack" [1691,1714]
                                FIELD [1715,2002]
                                    String: "env" [1715,1720]
                                    OBJECT [1721,2002]
                                        FIELD [1722,1778]
                                            String: "CI_SLACK_BOT_TOKEN" [1722,1742]
                                            STRING [1743,1778]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [1743,1778]
                                        FIELD [1779,1848]
                                            String: "CI_SLACK_CHANNEL_ID" [1779,1800]
                                            STRING [1801,1848]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY_DOCS }}" [1801,1848]
                                        FIELD [1849,1924]
                                            String: "CI_SLACK_CHANNEL_ID_DAILY" [1849,1876]
                                            STRING [1877,1924]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY_DOCS }}" [1877,1924]
                                        FIELD [1925,2001]
                                            String: "CI_SLACK_CHANNEL_DUMMY_TESTS" [1925,1955]
                                            STRING [1956,2001]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_DUMMY_TESTS }}" [1956,2001]
                                FIELD [2003,2080]
                                    String: "run" [2003,2008]
                                    STRING [2009,2080]
                                        String: "pip install slack_sdk\npython utils/notification_service_doc_tests.py" [2009,2080]