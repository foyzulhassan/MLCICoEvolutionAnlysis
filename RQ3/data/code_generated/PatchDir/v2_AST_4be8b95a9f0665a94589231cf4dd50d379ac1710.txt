OBJECT [0,8944]
    FIELD [1,35]
        String: "name" [1,7]
        STRING [8,35]
            String: "Self-hosted runner (push)" [8,35]
    FIELD [36,181]
        String: "on" [36,40]
        OBJECT [41,181]
            FIELD [42,153]
                String: "push" [42,48]
                OBJECT [49,153]
                    FIELD [50,83]
                        String: "branches" [50,60]
                        ARRAY [61,83]
                            STRING [62,68]
                                String: "main" [62,68]
                            STRING [69,75]
                                String: "ci_*" [69,75]
                            STRING [76,82]
                                String: "ci-*" [76,82]
                    FIELD [84,152]
                        String: "paths" [84,91]
                        ARRAY [92,152]
                            STRING [93,101]
                                String: "src/**" [93,101]
                            STRING [102,112]
                                String: "tests/**" [102,112]
                            STRING [113,125]
                                String: ".github/**" [113,125]
                            STRING [126,140]
                                String: "templates/**" [126,140]
                            STRING [141,151]
                                String: "utils/**" [141,151]
            FIELD [154,180]
                String: "repository_dispatch" [154,175]
                NULL [176,180]
    FIELD [182,298]
        String: "env" [182,187]
        OBJECT [188,298]
            FIELD [189,211]
                String: "HF_HOME" [189,198]
                STRING [199,211]
                    String: "/mnt/cache" [199,211]
            FIELD [212,237]
                String: "TRANSFORMERS_IS_CI" [212,232]
                TRUE [233,237]
            FIELD [238,257]
                String: "OMP_NUM_THREADS" [238,255]
                NUMBER [256,257]
                    Number: 8 [256,257]
            FIELD [258,277]
                String: "MKL_NUM_THREADS" [258,275]
                NUMBER [276,277]
                    Number: 8 [276,277]
            FIELD [278,297]
                String: "PYTEST_TIMEOUT" [278,294]
                NUMBER [295,297]
                    Number: 60 [295,297]
    FIELD [299,8943]
        String: "jobs" [299,305]
        OBJECT [306,8943]
            FIELD [307,1897]
                String: "run_tests_torch_gpu" [307,328]
                OBJECT [329,1897]
                    FIELD [330,381]
                        String: "runs-on" [330,339]
                        ARRAY [340,381]
                            STRING [341,354]
                                String: "self-hosted" [341,354]
                            STRING [355,367]
                                String: "docker-gpu" [355,367]
                            STRING [368,380]
                                String: "single-gpu" [368,380]
                    FIELD [382,548]
                        String: "container" [382,393]
                        OBJECT [394,548]
                            FIELD [395,450]
                                String: "image" [395,402]
                                STRING [403,450]
                                    String: "pytorch/pytorch:1.9.0-cuda11.1-cudnn8-runtime" [403,450]
                            FIELD [451,547]
                                String: "options" [451,460]
                                STRING [461,547]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [461,547]
                    FIELD [549,1896]
                        String: "steps" [549,556]
                        ARRAY [557,1896]
                            OBJECT [558,969]
                                FIELD [559,588]
                                    String: "name" [559,565]
                                    STRING [566,588]
                                        String: "Install dependencies" [566,588]
                                FIELD [589,968]
                                    String: "run" [589,594]
                                    STRING [595,968]
                                        String: "apt -y update && apt install -y software-properties-common && apt -y update && add-apt-repository -y ppa:git-core/ppa && apt -y update && apt install -y git\napt install -y libsndfile1-dev espeak-ng\npip install --upgrade pip\npip install .[sklearn,testing,onnxruntime,sentencepiece,torch-speech,vision,timm]\npip install https://github.com/kpu/kenlm/archive/master.zip\n" [595,968]
                            OBJECT [970,1050]
                                FIELD [971,995]
                                    String: "name" [971,977]
                                    STRING [978,995]
                                        String: "Launcher docker" [978,995]
                                FIELD [996,1024]
                                    String: "uses" [996,1002]
                                    STRING [1003,1024]
                                        String: "actions/checkout@v2" [1003,1024]
                                FIELD [1025,1049]
                                    String: "with" [1025,1031]
                                    OBJECT [1032,1049]
                                        FIELD [1033,1048]
                                            String: "fetch-depth" [1033,1046]
                                            NUMBER [1047,1048]
                                                Number: 2 [1047,1048]
                            OBJECT [1051,1093]
                                FIELD [1052,1071]
                                    String: "name" [1052,1058]
                                    STRING [1059,1071]
                                        String: "NVIDIA-SMI" [1059,1071]
                                FIELD [1072,1092]
                                    String: "run" [1072,1077]
                                    STRING [1078,1092]
                                        String: "nvidia-smi\n" [1078,1092]
                            OBJECT [1094,1177]
                                FIELD [1095,1144]
                                    String: "name" [1095,1101]
                                    STRING [1102,1144]
                                        String: "Are GPUs recognized by our DL frameworks" [1102,1144]
                                FIELD [1145,1176]
                                    String: "run" [1145,1150]
                                    STRING [1151,1176]
                                        String: "utils/print_env_pt.py\n" [1151,1176]
                            OBJECT [1178,1302]
                                FIELD [1179,1210]
                                    String: "name" [1179,1185]
                                    STRING [1186,1210]
                                        String: "Fetch the tests to run" [1186,1210]
                                FIELD [1211,1301]
                                    String: "run" [1211,1216]
                                    STRING [1217,1301]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit | tee test_preparation.txt\n" [1217,1301]
                            OBJECT [1303,1431]
                                FIELD [1304,1333]
                                    String: "name" [1304,1310]
                                    STRING [1311,1333]
                                        String: "Report fetched tests" [1311,1333]
                                FIELD [1334,1369]
                                    String: "uses" [1334,1340]
                                    STRING [1341,1369]
                                        String: "actions/upload-artifact@v2" [1341,1369]
                                FIELD [1370,1430]
                                    String: "with" [1370,1376]
                                    OBJECT [1377,1430]
                                        FIELD [1378,1399]
                                            String: "name" [1378,1384]
                                            STRING [1385,1399]
                                                String: "test_fetched" [1385,1399]
                                        FIELD [1400,1429]
                                            String: "path" [1400,1406]
                                            STRING [1407,1429]
                                                String: "test_preparation.txt" [1407,1429]
                            OBJECT [1432,1612]
                                FIELD [1433,1471]
                                    String: "name" [1433,1439]
                                    STRING [1440,1471]
                                        String: "Run all non-slow tests on GPU" [1440,1471]
                                FIELD [1472,1611]
                                    String: "run" [1472,1477]
                                    STRING [1478,1611]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 2 --dist=loadfile -v --make-reports=tests_torch_gpu $(cat test_list.txt)\nfi\n" [1478,1611]
                            OBJECT [1613,1724]
                                FIELD [1614,1644]
                                    String: "name" [1614,1620]
                                    STRING [1621,1644]
                                        String: "Failure short reports" [1621,1644]
                                FIELD [1645,1668]
                                    String: "if" [1645,1649]
                                    STRING [1650,1668]
                                        String: "${{ failure() }}" [1650,1668]
                                FIELD [1669,1723]
                                    String: "run" [1669,1674]
                                    STRING [1675,1723]
                                        String: "cat reports/tests_torch_gpu_failures_short.txt" [1675,1723]
                            OBJECT [1725,1895]
                                FIELD [1726,1763]
                                    String: "name" [1726,1732]
                                    STRING [1733,1763]
                                        String: "Test suite reports artifacts" [1733,1763]
                                FIELD [1764,1786]
                                    String: "if" [1764,1768]
                                    STRING [1769,1786]
                                        String: "${{ always() }}" [1769,1786]
                                FIELD [1787,1822]
                                    String: "uses" [1787,1793]
                                    STRING [1794,1822]
                                        String: "actions/upload-artifact@v2" [1794,1822]
                                FIELD [1823,1894]
                                    String: "with" [1823,1829]
                                    OBJECT [1830,1894]
                                        FIELD [1831,1876]
                                            String: "name" [1831,1837]
                                            STRING [1838,1876]
                                                String: "run_all_tests_torch_gpu_test_reports" [1838,1876]
                                        FIELD [1877,1893]
                                            String: "path" [1877,1883]
                                            STRING [1884,1893]
                                                String: "reports" [1884,1893]
            FIELD [1898,3762]
                String: "run_tests_flax_gpu" [1898,1918]
                OBJECT [1919,3762]
                    FIELD [1920,1976]
                        String: "runs-on" [1920,1929]
                        ARRAY [1930,1976]
                            STRING [1931,1944]
                                String: "self-hosted" [1931,1944]
                            STRING [1945,1962]
                                String: "docker-gpu-test" [1945,1962]
                            STRING [1963,1975]
                                String: "single-gpu" [1963,1975]
                    FIELD [1977,2129]
                        String: "container" [1977,1988]
                        OBJECT [1989,2129]
                            FIELD [1990,2031]
                                String: "image" [1990,1997]
                                STRING [1998,2031]
                                    String: "tensorflow/tensorflow:2.4.1-gpu" [1998,2031]
                            FIELD [2032,2128]
                                String: "options" [2032,2041]
                                STRING [2042,2128]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [2042,2128]
                    FIELD [2130,3761]
                        String: "steps" [2130,2137]
                        ARRAY [2138,3761]
                            OBJECT [2139,2230]
                                FIELD [2140,2166]
                                    String: "name" [2140,2146]
                                    STRING [2147,2166]
                                        String: "Set up Python 3.7" [2147,2166]
                                FIELD [2167,2199]
                                    String: "uses" [2167,2173]
                                    STRING [2174,2199]
                                        String: "actions/setup-python@v2" [2174,2199]
                                FIELD [2200,2229]
                                    String: "with" [2200,2206]
                                    OBJECT [2207,2229]
                                        FIELD [2208,2228]
                                            String: "python-version" [2208,2224]
                                            NUMBER [2225,2228]
                                                Number: 3.7 [2225,2228]
                            OBJECT [2231,2641]
                                FIELD [2232,2261]
                                    String: "name" [2232,2238]
                                    STRING [2239,2261]
                                        String: "Install dependencies" [2239,2261]
                                FIELD [2262,2640]
                                    String: "run" [2262,2267]
                                    STRING [2268,2640]
                                        String: "apt -y update && apt install -y software-properties-common && apt -y update && add-apt-repository -y ppa:git-core/ppa && apt -y update && apt install -y git espeak-ng\npip install --upgrade \"jax[cuda111]\" -f https://storage.googleapis.com/jax-releases/jax_releases.html\npip install --upgrade pip\npip install .[sklearn,testing,sentencepiece,flax,flax-speech,vision]\n" [2268,2640]
                            OBJECT [2642,2722]
                                FIELD [2643,2667]
                                    String: "name" [2643,2649]
                                    STRING [2650,2667]
                                        String: "Launcher docker" [2650,2667]
                                FIELD [2668,2696]
                                    String: "uses" [2668,2674]
                                    STRING [2675,2696]
                                        String: "actions/checkout@v2" [2675,2696]
                                FIELD [2697,2721]
                                    String: "with" [2697,2703]
                                    OBJECT [2704,2721]
                                        FIELD [2705,2720]
                                            String: "fetch-depth" [2705,2718]
                                            NUMBER [2719,2720]
                                                Number: 2 [2719,2720]
                            OBJECT [2723,2790]
                                FIELD [2724,2743]
                                    String: "name" [2724,2730]
                                    STRING [2731,2743]
                                        String: "NVIDIA-SMI" [2731,2743]
                                FIELD [2744,2768]
                                    String: "continue-on-error" [2744,2763]
                                    TRUE [2764,2768]
                                FIELD [2769,2789]
                                    String: "run" [2769,2774]
                                    STRING [2775,2789]
                                        String: "nvidia-smi\n" [2775,2789]
                            OBJECT [2791,3045]
                                FIELD [2792,2841]
                                    String: "name" [2792,2798]
                                    STRING [2799,2841]
                                        String: "Are GPUs recognized by our DL frameworks" [2799,2841]
                                FIELD [2842,3044]
                                    String: "run" [2842,2847]
                                    STRING [2848,3044]
                                        String: "python -c \"from jax.lib import xla_bridge; print('GPU available:', xla_bridge.get_backend().platform)\"\npython -c \"import jax; print('Number of GPUs available:', len(jax.local_devices()))\"\n" [2848,3044]
                            OBJECT [3046,3170]
                                FIELD [3047,3078]
                                    String: "name" [3047,3053]
                                    STRING [3054,3078]
                                        String: "Fetch the tests to run" [3054,3078]
                                FIELD [3079,3169]
                                    String: "run" [3079,3084]
                                    STRING [3085,3169]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit | tee test_preparation.txt\n" [3085,3169]
                            OBJECT [3171,3299]
                                FIELD [3172,3201]
                                    String: "name" [3172,3178]
                                    STRING [3179,3201]
                                        String: "Report fetched tests" [3179,3201]
                                FIELD [3202,3237]
                                    String: "uses" [3202,3208]
                                    STRING [3209,3237]
                                        String: "actions/upload-artifact@v2" [3209,3237]
                                FIELD [3238,3298]
                                    String: "with" [3238,3244]
                                    OBJECT [3245,3298]
                                        FIELD [3246,3267]
                                            String: "name" [3246,3252]
                                            STRING [3253,3267]
                                                String: "test_fetched" [3253,3267]
                                        FIELD [3268,3297]
                                            String: "path" [3268,3274]
                                            STRING [3275,3297]
                                                String: "test_preparation.txt" [3275,3297]
                            OBJECT [3300,3479]
                                FIELD [3301,3339]
                                    String: "name" [3301,3307]
                                    STRING [3308,3339]
                                        String: "Run all non-slow tests on GPU" [3308,3339]
                                FIELD [3340,3478]
                                    String: "run" [3340,3345]
                                    STRING [3346,3478]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 2 --dist=loadfile -v --make-reports=tests_flax_gpu $(cat test_list.txt)\nfi\n" [3346,3478]
                            OBJECT [3480,3590]
                                FIELD [3481,3511]
                                    String: "name" [3481,3487]
                                    STRING [3488,3511]
                                        String: "Failure short reports" [3488,3511]
                                FIELD [3512,3535]
                                    String: "if" [3512,3516]
                                    STRING [3517,3535]
                                        String: "${{ failure() }}" [3517,3535]
                                FIELD [3536,3589]
                                    String: "run" [3536,3541]
                                    STRING [3542,3589]
                                        String: "cat reports/tests_flax_gpu_failures_short.txt" [3542,3589]
                            OBJECT [3591,3760]
                                FIELD [3592,3629]
                                    String: "name" [3592,3598]
                                    STRING [3599,3629]
                                        String: "Test suite reports artifacts" [3599,3629]
                                FIELD [3630,3652]
                                    String: "if" [3630,3634]
                                    STRING [3635,3652]
                                        String: "${{ always() }}" [3635,3652]
                                FIELD [3653,3688]
                                    String: "uses" [3653,3659]
                                    STRING [3660,3688]
                                        String: "actions/upload-artifact@v2" [3660,3688]
                                FIELD [3689,3759]
                                    String: "with" [3689,3695]
                                    OBJECT [3696,3759]
                                        FIELD [3697,3741]
                                            String: "name" [3697,3703]
                                            STRING [3704,3741]
                                                String: "run_all_tests_flax_gpu_test_reports" [3704,3741]
                                        FIELD [3742,3758]
                                            String: "path" [3742,3748]
                                            STRING [3749,3758]
                                                String: "reports" [3749,3758]
            FIELD [3763,5449]
                String: "run_tests_torch_multi_gpu" [3763,3790]
                OBJECT [3791,5449]
                    FIELD [3792,3842]
                        String: "runs-on" [3792,3801]
                        ARRAY [3802,3842]
                            STRING [3803,3816]
                                String: "self-hosted" [3803,3816]
                            STRING [3817,3829]
                                String: "docker-gpu" [3817,3829]
                            STRING [3830,3841]
                                String: "multi-gpu" [3830,3841]
                    FIELD [3843,4011]
                        String: "container" [3843,3854]
                        OBJECT [3855,4011]
                            FIELD [3856,3911]
                                String: "image" [3856,3863]
                                STRING [3864,3911]
                                    String: "pytorch/pytorch:1.9.0-cuda11.1-cudnn8-runtime" [3864,3911]
                            FIELD [3912,4010]
                                String: "options" [3912,3921]
                                STRING [3922,4010]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [3922,4010]
                    FIELD [4012,5448]
                        String: "steps" [4012,4019]
                        ARRAY [4020,5448]
                            OBJECT [4021,4442]
                                FIELD [4022,4051]
                                    String: "name" [4022,4028]
                                    STRING [4029,4051]
                                        String: "Install dependencies" [4029,4051]
                                FIELD [4052,4441]
                                    String: "run" [4052,4057]
                                    STRING [4058,4441]
                                        String: "apt -y update && apt install -y software-properties-common && apt -y update && add-apt-repository -y ppa:git-core/ppa && apt -y update && apt install -y git espeak-ng\napt install -y libsndfile1-dev espeak-ng\npip install --upgrade pip\npip install .[sklearn,testing,onnxruntime,sentencepiece,torch-speech,vision,timm]\npip install https://github.com/kpu/kenlm/archive/master.zip\n" [4058,4441]
                            OBJECT [4443,4523]
                                FIELD [4444,4468]
                                    String: "name" [4444,4450]
                                    STRING [4451,4468]
                                        String: "Launcher docker" [4451,4468]
                                FIELD [4469,4497]
                                    String: "uses" [4469,4475]
                                    STRING [4476,4497]
                                        String: "actions/checkout@v2" [4476,4497]
                                FIELD [4498,4522]
                                    String: "with" [4498,4504]
                                    OBJECT [4505,4522]
                                        FIELD [4506,4521]
                                            String: "fetch-depth" [4506,4519]
                                            NUMBER [4520,4521]
                                                Number: 2 [4520,4521]
                            OBJECT [4524,4591]
                                FIELD [4525,4544]
                                    String: "name" [4525,4531]
                                    STRING [4532,4544]
                                        String: "NVIDIA-SMI" [4532,4544]
                                FIELD [4545,4569]
                                    String: "continue-on-error" [4545,4564]
                                    TRUE [4565,4569]
                                FIELD [4570,4590]
                                    String: "run" [4570,4575]
                                    STRING [4576,4590]
                                        String: "nvidia-smi\n" [4576,4590]
                            OBJECT [4592,4675]
                                FIELD [4593,4642]
                                    String: "name" [4593,4599]
                                    STRING [4600,4642]
                                        String: "Are GPUs recognized by our DL frameworks" [4600,4642]
                                FIELD [4643,4674]
                                    String: "run" [4643,4648]
                                    STRING [4649,4674]
                                        String: "utils/print_env_pt.py\n" [4649,4674]
                            OBJECT [4676,4800]
                                FIELD [4677,4708]
                                    String: "name" [4677,4683]
                                    STRING [4684,4708]
                                        String: "Fetch the tests to run" [4684,4708]
                                FIELD [4709,4799]
                                    String: "run" [4709,4714]
                                    STRING [4715,4799]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit | tee test_preparation.txt\n" [4715,4799]
                            OBJECT [4801,4929]
                                FIELD [4802,4831]
                                    String: "name" [4802,4808]
                                    STRING [4809,4831]
                                        String: "Report fetched tests" [4809,4831]
                                FIELD [4832,4867]
                                    String: "uses" [4832,4838]
                                    STRING [4839,4867]
                                        String: "actions/upload-artifact@v2" [4839,4867]
                                FIELD [4868,4928]
                                    String: "with" [4868,4874]
                                    OBJECT [4875,4928]
                                        FIELD [4876,4897]
                                            String: "name" [4876,4882]
                                            STRING [4883,4897]
                                                String: "test_fetched" [4883,4897]
                                        FIELD [4898,4927]
                                            String: "path" [4898,4904]
                                            STRING [4905,4927]
                                                String: "test_preparation.txt" [4905,4927]
                            OBJECT [4930,5152]
                                FIELD [4931,4969]
                                    String: "name" [4931,4937]
                                    STRING [4938,4969]
                                        String: "Run all non-slow tests on GPU" [4938,4969]
                                FIELD [4970,5005]
                                    String: "env" [4970,4975]
                                    OBJECT [4976,5005]
                                        FIELD [4977,5004]
                                            String: "MKL_SERVICE_FORCE_INTEL" [4977,5002]
                                            NUMBER [5003,5004]
                                                Number: 1 [5003,5004]
                                FIELD [5006,5151]
                                    String: "run" [5006,5011]
                                    STRING [5012,5151]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 2 --dist=loadfile -v --make-reports=tests_torch_multi_gpu $(cat test_list.txt)\nfi\n" [5012,5151]
                            OBJECT [5153,5270]
                                FIELD [5154,5184]
                                    String: "name" [5154,5160]
                                    STRING [5161,5184]
                                        String: "Failure short reports" [5161,5184]
                                FIELD [5185,5208]
                                    String: "if" [5185,5189]
                                    STRING [5190,5208]
                                        String: "${{ failure() }}" [5190,5208]
                                FIELD [5209,5269]
                                    String: "run" [5209,5214]
                                    STRING [5215,5269]
                                        String: "cat reports/tests_torch_multi_gpu_failures_short.txt" [5215,5269]
                            OBJECT [5271,5447]
                                FIELD [5272,5309]
                                    String: "name" [5272,5278]
                                    STRING [5279,5309]
                                        String: "Test suite reports artifacts" [5279,5309]
                                FIELD [5310,5332]
                                    String: "if" [5310,5314]
                                    STRING [5315,5332]
                                        String: "${{ always() }}" [5315,5332]
                                FIELD [5333,5368]
                                    String: "uses" [5333,5339]
                                    STRING [5340,5368]
                                        String: "actions/upload-artifact@v2" [5340,5368]
                                FIELD [5369,5446]
                                    String: "with" [5369,5375]
                                    OBJECT [5376,5446]
                                        FIELD [5377,5428]
                                            String: "name" [5377,5383]
                                            STRING [5384,5428]
                                                String: "run_all_tests_torch_multi_gpu_test_reports" [5384,5428]
                                        FIELD [5429,5445]
                                            String: "path" [5429,5435]
                                            STRING [5436,5445]
                                                String: "reports" [5436,5445]
            FIELD [5450,6853]
                String: "run_tests_torch_cuda_extensions_gpu" [5450,5487]
                OBJECT [5488,6853]
                    FIELD [5489,5540]
                        String: "runs-on" [5489,5498]
                        ARRAY [5499,5540]
                            STRING [5500,5513]
                                String: "self-hosted" [5500,5513]
                            STRING [5514,5526]
                                String: "docker-gpu" [5514,5526]
                            STRING [5527,5539]
                                String: "single-gpu" [5527,5539]
                    FIELD [5541,5694]
                        String: "container" [5541,5552]
                        OBJECT [5553,5694]
                            FIELD [5554,5596]
                                String: "image" [5554,5561]
                                STRING [5562,5596]
                                    String: "nvcr.io/nvidia/pytorch:21.03-py3" [5562,5596]
                            FIELD [5597,5693]
                                String: "options" [5597,5606]
                                STRING [5607,5693]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [5607,5693]
                    FIELD [5695,6852]
                        String: "steps" [5695,5702]
                        ARRAY [5703,6852]
                            OBJECT [5704,5784]
                                FIELD [5705,5729]
                                    String: "name" [5705,5711]
                                    STRING [5712,5729]
                                        String: "Launcher docker" [5712,5729]
                                FIELD [5730,5758]
                                    String: "uses" [5730,5736]
                                    STRING [5737,5758]
                                        String: "actions/checkout@v2" [5737,5758]
                                FIELD [5759,5783]
                                    String: "with" [5759,5765]
                                    OBJECT [5766,5783]
                                        FIELD [5767,5782]
                                            String: "fetch-depth" [5767,5780]
                                            NUMBER [5781,5782]
                                                Number: 2 [5781,5782]
                            OBJECT [5785,5827]
                                FIELD [5786,5805]
                                    String: "name" [5786,5792]
                                    STRING [5793,5805]
                                        String: "NVIDIA-SMI" [5793,5805]
                                FIELD [5806,5826]
                                    String: "run" [5806,5811]
                                    STRING [5812,5826]
                                        String: "nvidia-smi\n" [5812,5826]
                            OBJECT [5828,5973]
                                FIELD [5829,5858]
                                    String: "name" [5829,5835]
                                    STRING [5836,5858]
                                        String: "Install dependencies" [5836,5858]
                                FIELD [5859,5972]
                                    String: "run" [5859,5864]
                                    STRING [5865,5972]
                                        String: "apt -y update && apt install -y libaio-dev\npip install --upgrade pip\npip install .[deepspeed-testing]\n" [5865,5972]
                            OBJECT [5974,6057]
                                FIELD [5975,6024]
                                    String: "name" [5975,5981]
                                    STRING [5982,6024]
                                        String: "Are GPUs recognized by our DL frameworks" [5982,6024]
                                FIELD [6025,6056]
                                    String: "run" [6025,6030]
                                    STRING [6031,6056]
                                        String: "utils/print_env_pt.py\n" [6031,6056]
                            OBJECT [6058,6223]
                                FIELD [6059,6090]
                                    String: "name" [6059,6065]
                                    STRING [6066,6090]
                                        String: "Fetch the tests to run" [6066,6090]
                                FIELD [6091,6222]
                                    String: "run" [6091,6096]
                                    STRING [6097,6222]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit --filters tests/deepspeed tests/extended | tee test_preparation.txt\n" [6097,6222]
                            OBJECT [6224,6352]
                                FIELD [6225,6254]
                                    String: "name" [6225,6231]
                                    STRING [6232,6254]
                                        String: "Report fetched tests" [6232,6254]
                                FIELD [6255,6290]
                                    String: "uses" [6255,6261]
                                    STRING [6262,6290]
                                        String: "actions/upload-artifact@v2" [6262,6290]
                                FIELD [6291,6351]
                                    String: "with" [6291,6297]
                                    OBJECT [6298,6351]
                                        FIELD [6299,6320]
                                            String: "name" [6299,6305]
                                            STRING [6306,6320]
                                                String: "test_fetched" [6306,6320]
                                        FIELD [6321,6350]
                                            String: "path" [6321,6327]
                                            STRING [6328,6350]
                                                String: "test_preparation.txt" [6328,6350]
                            OBJECT [6353,6540]
                                FIELD [6354,6383]
                                    String: "name" [6354,6360]
                                    STRING [6361,6383]
                                        String: "Run all tests on GPU" [6361,6383]
                                FIELD [6384,6539]
                                    String: "run" [6384,6389]
                                    STRING [6390,6539]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 1 --dist=loadfile -v --make-reports=tests_torch_cuda_extensions_gpu $(cat test_list.txt)\nfi\n" [6390,6539]
                            OBJECT [6541,6668]
                                FIELD [6542,6572]
                                    String: "name" [6542,6548]
                                    STRING [6549,6572]
                                        String: "Failure short reports" [6549,6572]
                                FIELD [6573,6596]
                                    String: "if" [6573,6577]
                                    STRING [6578,6596]
                                        String: "${{ failure() }}" [6578,6596]
                                FIELD [6597,6667]
                                    String: "run" [6597,6602]
                                    STRING [6603,6667]
                                        String: "cat reports/tests_torch_cuda_extensions_gpu_failures_short.txt" [6603,6667]
                            OBJECT [6669,6851]
                                FIELD [6670,6707]
                                    String: "name" [6670,6676]
                                    STRING [6677,6707]
                                        String: "Test suite reports artifacts" [6677,6707]
                                FIELD [6708,6730]
                                    String: "if" [6708,6712]
                                    STRING [6713,6730]
                                        String: "${{ always() }}" [6713,6730]
                                FIELD [6731,6766]
                                    String: "uses" [6731,6737]
                                    STRING [6738,6766]
                                        String: "actions/upload-artifact@v2" [6738,6766]
                                FIELD [6767,6850]
                                    String: "with" [6767,6773]
                                    OBJECT [6774,6850]
                                        FIELD [6775,6832]
                                            String: "name" [6775,6781]
                                            STRING [6782,6832]
                                                String: "run_tests_torch_cuda_extensions_gpu_test_reports" [6782,6832]
                                        FIELD [6833,6849]
                                            String: "path" [6833,6839]
                                            STRING [6840,6849]
                                                String: "reports" [6840,6849]
            FIELD [6854,8386]
                String: "run_tests_torch_cuda_extensions_multi_gpu" [6854,6897]
                OBJECT [6898,8386]
                    FIELD [6899,6949]
                        String: "runs-on" [6899,6908]
                        ARRAY [6909,6949]
                            STRING [6910,6923]
                                String: "self-hosted" [6910,6923]
                            STRING [6924,6936]
                                String: "docker-gpu" [6924,6936]
                            STRING [6937,6948]
                                String: "multi-gpu" [6937,6948]
                    FIELD [6950,7103]
                        String: "container" [6950,6961]
                        OBJECT [6962,7103]
                            FIELD [6963,7005]
                                String: "image" [6963,6970]
                                STRING [6971,7005]
                                    String: "nvcr.io/nvidia/pytorch:21.03-py3" [6971,7005]
                            FIELD [7006,7102]
                                String: "options" [7006,7015]
                                STRING [7016,7102]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [7016,7102]
                    FIELD [7104,8385]
                        String: "steps" [7104,7111]
                        ARRAY [7112,8385]
                            OBJECT [7113,7193]
                                FIELD [7114,7138]
                                    String: "name" [7114,7120]
                                    STRING [7121,7138]
                                        String: "Launcher docker" [7121,7138]
                                FIELD [7139,7167]
                                    String: "uses" [7139,7145]
                                    STRING [7146,7167]
                                        String: "actions/checkout@v2" [7146,7167]
                                FIELD [7168,7192]
                                    String: "with" [7168,7174]
                                    OBJECT [7175,7192]
                                        FIELD [7176,7191]
                                            String: "fetch-depth" [7176,7189]
                                            NUMBER [7190,7191]
                                                Number: 2 [7190,7191]
                            OBJECT [7194,7261]
                                FIELD [7195,7214]
                                    String: "name" [7195,7201]
                                    STRING [7202,7214]
                                        String: "NVIDIA-SMI" [7202,7214]
                                FIELD [7215,7239]
                                    String: "continue-on-error" [7215,7234]
                                    TRUE [7235,7239]
                                FIELD [7240,7260]
                                    String: "run" [7240,7245]
                                    STRING [7246,7260]
                                        String: "nvidia-smi\n" [7246,7260]
                            OBJECT [7262,7488]
                                FIELD [7263,7292]
                                    String: "name" [7263,7269]
                                    STRING [7270,7292]
                                        String: "Install dependencies" [7270,7292]
                                FIELD [7293,7487]
                                    String: "run" [7293,7298]
                                    STRING [7299,7487]
                                        String: "apt -y update && apt install -y libaio-dev\npip install --upgrade pip\nrm -rf ~/.cache/torch_extensions/ # shared between conflicting builds\npip install .[testing,deepspeed,fairscale]\n" [7299,7487]
                            OBJECT [7489,7572]
                                FIELD [7490,7539]
                                    String: "name" [7490,7496]
                                    STRING [7497,7539]
                                        String: "Are GPUs recognized by our DL frameworks" [7497,7539]
                                FIELD [7540,7571]
                                    String: "run" [7540,7545]
                                    STRING [7546,7571]
                                        String: "utils/print_env_pt.py\n" [7546,7571]
                            OBJECT [7573,7738]
                                FIELD [7574,7605]
                                    String: "name" [7574,7580]
                                    STRING [7581,7605]
                                        String: "Fetch the tests to run" [7581,7605]
                                FIELD [7606,7737]
                                    String: "run" [7606,7611]
                                    STRING [7612,7737]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit --filters tests/deepspeed tests/extended | tee test_preparation.txt\n" [7612,7737]
                            OBJECT [7739,7867]
                                FIELD [7740,7769]
                                    String: "name" [7740,7746]
                                    STRING [7747,7769]
                                        String: "Report fetched tests" [7747,7769]
                                FIELD [7770,7805]
                                    String: "uses" [7770,7776]
                                    STRING [7777,7805]
                                        String: "actions/upload-artifact@v2" [7777,7805]
                                FIELD [7806,7866]
                                    String: "with" [7806,7812]
                                    OBJECT [7813,7866]
                                        FIELD [7814,7835]
                                            String: "name" [7814,7820]
                                            STRING [7821,7835]
                                                String: "test_fetched" [7821,7835]
                                        FIELD [7836,7865]
                                            String: "path" [7836,7842]
                                            STRING [7843,7865]
                                                String: "test_preparation.txt" [7843,7865]
                            OBJECT [7868,8061]
                                FIELD [7869,7898]
                                    String: "name" [7869,7875]
                                    STRING [7876,7898]
                                        String: "Run all tests on GPU" [7876,7898]
                                FIELD [7899,8060]
                                    String: "run" [7899,7904]
                                    STRING [7905,8060]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 1 --dist=loadfile -v --make-reports=tests_torch_cuda_extensions_multi_gpu $(cat test_list.txt)\nfi\n" [7905,8060]
                            OBJECT [8062,8195]
                                FIELD [8063,8093]
                                    String: "name" [8063,8069]
                                    STRING [8070,8093]
                                        String: "Failure short reports" [8070,8093]
                                FIELD [8094,8117]
                                    String: "if" [8094,8098]
                                    STRING [8099,8117]
                                        String: "${{ failure() }}" [8099,8117]
                                FIELD [8118,8194]
                                    String: "run" [8118,8123]
                                    STRING [8124,8194]
                                        String: "cat reports/tests_torch_cuda_extensions_multi_gpu_failures_short.txt" [8124,8194]
                            OBJECT [8196,8384]
                                FIELD [8197,8234]
                                    String: "name" [8197,8203]
                                    STRING [8204,8234]
                                        String: "Test suite reports artifacts" [8204,8234]
                                FIELD [8235,8257]
                                    String: "if" [8235,8239]
                                    STRING [8240,8257]
                                        String: "${{ always() }}" [8240,8257]
                                FIELD [8258,8293]
                                    String: "uses" [8258,8264]
                                    STRING [8265,8293]
                                        String: "actions/upload-artifact@v2" [8265,8293]
                                FIELD [8294,8383]
                                    String: "with" [8294,8300]
                                    OBJECT [8301,8383]
                                        FIELD [8302,8365]
                                            String: "name" [8302,8308]
                                            STRING [8309,8365]
                                                String: "run_tests_torch_cuda_extensions_multi_gpu_test_reports" [8309,8365]
                                        FIELD [8366,8382]
                                            String: "path" [8366,8372]
                                            STRING [8373,8382]
                                                String: "reports" [8373,8382]
            FIELD [8387,8942]
                String: "send_results" [8387,8401]
                OBJECT [8402,8942]
                    FIELD [8403,8435]
                        String: "name" [8403,8409]
                        STRING [8410,8435]
                            String: "Send results to webhook" [8410,8435]
                    FIELD [8436,8461]
                        String: "runs-on" [8436,8445]
                        STRING [8446,8461]
                            String: "ubuntu-latest" [8446,8461]
                    FIELD [8462,8477]
                        String: "if" [8462,8466]
                        STRING [8467,8477]
                            String: "always()" [8467,8477]
                    FIELD [8478,8619]
                        String: "needs" [8478,8485]
                        ARRAY [8486,8619]
                            STRING [8487,8508]
                                String: "run_tests_torch_gpu" [8487,8508]
                            STRING [8509,8536]
                                String: "run_tests_torch_multi_gpu" [8509,8536]
                            STRING [8537,8574]
                                String: "run_tests_torch_cuda_extensions_gpu" [8537,8574]
                            STRING [8575,8618]
                                String: "run_tests_torch_cuda_extensions_multi_gpu" [8575,8618]
                    FIELD [8620,8941]
                        String: "steps" [8620,8627]
                        ARRAY [8628,8941]
                            OBJECT [8629,8659]
                                FIELD [8630,8658]
                                    String: "uses" [8630,8636]
                                    STRING [8637,8658]
                                        String: "actions/checkout@v2" [8637,8658]
                            OBJECT [8660,8699]
                                FIELD [8661,8698]
                                    String: "uses" [8661,8667]
                                    STRING [8668,8698]
                                        String: "actions/download-artifact@v2" [8668,8698]
                            OBJECT [8700,8940]
                                FIELD [8701,8731]
                                    String: "name" [8701,8707]
                                    STRING [8708,8731]
                                        String: "Send message to Slack" [8708,8731]
                                FIELD [8732,8855]
                                    String: "env" [8732,8737]
                                    OBJECT [8738,8855]
                                        FIELD [8739,8795]
                                            String: "CI_SLACK_BOT_TOKEN" [8739,8759]
                                            STRING [8760,8795]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [8760,8795]
                                        FIELD [8796,8854]
                                            String: "CI_SLACK_CHANNEL_ID" [8796,8817]
                                            STRING [8818,8854]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [8818,8854]
                                FIELD [8856,8939]
                                    String: "run" [8856,8861]
                                    STRING [8862,8939]
                                        String: "pip install slack_sdk\npython utils/notification_service_deprecated.py push" [8862,8939]