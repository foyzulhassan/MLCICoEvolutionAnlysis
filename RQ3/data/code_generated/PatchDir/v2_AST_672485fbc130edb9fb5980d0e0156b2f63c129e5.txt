OBJECT [0,17249]
    FIELD [1,12]
        String: "name" [1,7]
        STRING [8,12]
            String: "CI" [8,12]
    FIELD [13,105]
        String: "concurrency" [13,26]
        OBJECT [27,105]
            FIELD [28,78]
                String: "group" [28,35]
                STRING [36,78]
                    String: "${{ github.workflow }}-${{ github.ref }}" [36,78]
            FIELD [79,104]
                String: "cancel-in-progress" [79,99]
                TRUE [100,104]
    FIELD [106,256]
        String: "on" [106,110]
        OBJECT [111,256]
            FIELD [112,148]
                String: "pull_request" [112,126]
                OBJECT [127,148]
                    FIELD [128,147]
                        String: "branches" [128,138]
                        ARRAY [139,147]
                            STRING [140,146]
                                String: "main" [140,146]
            FIELD [149,177]
                String: "push" [149,155]
                OBJECT [156,177]
                    FIELD [157,176]
                        String: "branches" [157,167]
                        ARRAY [168,176]
                            STRING [169,175]
                                String: "main" [169,175]
            FIELD [178,211]
                String: "release" [178,187]
                OBJECT [188,211]
                    FIELD [189,210]
                        String: "types" [189,196]
                        ARRAY [197,210]
                            STRING [198,209]
                                String: "published" [198,209]
            FIELD [212,255]
                String: "schedule" [212,222]
                ARRAY [223,255]
                    OBJECT [224,254]
                        FIELD [225,253]
                            String: "cron" [225,231]
                            STRING [232,253]
                                String: "37 11 * * 1,2,3,4,5" [232,253]
    FIELD [257,395]
        String: "env" [257,262]
        OBJECT [263,395]
            FIELD [264,287]
                String: "TORCH_VERSION" [264,279]
                STRING [280,287]
                    String: "1.9.0" [280,287]
            FIELD [288,319]
                String: "TORCH_VISION_VERSION" [288,310]
                STRING [311,319]
                    String: "0.10.0" [311,319]
            FIELD [320,339]
                String: "CACHE_PREFIX" [320,334]
                STRING [335,339]
                    String: "v0" [335,339]
            FIELD [340,372]
                String: "TOKENIZERS_PARALLELISM" [340,364]
                STRING [365,372]
                    String: "false" [365,372]
            FIELD [373,394]
                String: "OMP_NUM_THREADS" [373,390]
                STRING [391,394]
                    String: "1" [391,394]
    FIELD [396,17248]
        String: "jobs" [396,402]
        OBJECT [403,17248]
            FIELD [404,859]
                String: "changelog" [404,415]
                OBJECT [416,859]
                    FIELD [417,435]
                        String: "name" [417,423]
                        STRING [424,435]
                            String: "CHANGELOG" [424,435]
                    FIELD [436,461]
                        String: "runs-on" [436,445]
                        STRING [446,461]
                            String: "ubuntu-latest" [446,461]
                    FIELD [462,504]
                        String: "if" [462,466]
                        STRING [467,504]
                            String: "github.event_name == 'pull_request'" [467,504]
                    FIELD [505,858]
                        String: "steps" [505,512]
                        ARRAY [513,858]
                            OBJECT [514,544]
                                FIELD [515,543]
                                    String: "uses" [515,521]
                                    STRING [522,543]
                                        String: "actions/checkout@v1" [522,543]
                            OBJECT [545,857]
                                FIELD [546,592]
                                    String: "name" [546,552]
                                    STRING [553,592]
                                        String: "Check that CHANGELOG has been updated" [553,592]
                                FIELD [593,856]
                                    String: "run" [593,598]
                                    STRING [599,856]
                                        String: "# If this step fails, this means you haven't updated the CHANGELOG.md\n# file with notes on your contribution.\ngit diff --name-only $(git merge-base origin/main HEAD) | grep '^CHANGELOG.md$' && echo \"Thanks for helping keep our CHANGELOG up-to-date!\"\n" [599,856]
            FIELD [860,1228]
                String: "style" [860,867]
                OBJECT [868,1228]
                    FIELD [869,883]
                        String: "name" [869,875]
                        STRING [876,883]
                            String: "Style" [876,883]
                    FIELD [884,909]
                        String: "runs-on" [884,893]
                        STRING [894,909]
                            String: "ubuntu-latest" [894,909]
                    FIELD [910,1227]
                        String: "steps" [910,917]
                        ARRAY [918,1227]
                            OBJECT [919,949]
                                FIELD [920,948]
                                    String: "uses" [920,926]
                                    STRING [927,948]
                                        String: "actions/checkout@v2" [927,948]
                            OBJECT [950,1036]
                                FIELD [951,972]
                                    String: "name" [951,957]
                                    STRING [958,972]
                                        String: "Setup Python" [958,972]
                                FIELD [973,1005]
                                    String: "uses" [973,979]
                                    STRING [980,1005]
                                        String: "actions/setup-python@v2" [980,1005]
                                FIELD [1006,1035]
                                    String: "with" [1006,1012]
                                    OBJECT [1013,1035]
                                        FIELD [1014,1034]
                                            String: "python-version" [1014,1030]
                                            NUMBER [1031,1034]
                                                Number: 3.8 [1031,1034]
                            OBJECT [1037,1136]
                                FIELD [1038,1067]
                                    String: "name" [1038,1044]
                                    STRING [1045,1067]
                                        String: "Install requirements" [1045,1067]
                                FIELD [1068,1135]
                                    String: "run" [1068,1073]
                                    STRING [1074,1135]
                                        String: "grep -E '^black' dev-requirements.txt | xargs pip install\n" [1074,1135]
                            OBJECT [1137,1179]
                                FIELD [1138,1157]
                                    String: "name" [1138,1144]
                                    STRING [1145,1157]
                                        String: "Debug info" [1145,1157]
                                FIELD [1158,1178]
                                    String: "run" [1158,1163]
                                    STRING [1164,1178]
                                        String: "pip freeze\n" [1164,1178]
                            OBJECT [1180,1226]
                                FIELD [1181,1199]
                                    String: "name" [1181,1187]
                                    STRING [1188,1199]
                                        String: "Run black" [1188,1199]
                                FIELD [1200,1225]
                                    String: "run" [1200,1205]
                                    STRING [1206,1225]
                                        String: "black --check .\n" [1206,1225]
            FIELD [1229,4622]
                String: "checks" [1229,1237]
                OBJECT [1238,4622]
                    FIELD [1239,1271]
                        String: "name" [1239,1245]
                        STRING [1246,1271]
                            String: "${{ matrix.task.name }}" [1246,1271]
                    FIELD [1272,1310]
                        String: "runs-on" [1272,1281]
                        STRING [1282,1310]
                            String: "${{ matrix.task.runs_on }}" [1282,1310]
                    FIELD [1311,1331]
                        String: "timeout-minutes" [1311,1328]
                        NUMBER [1329,1331]
                            Number: 20 [1329,1331]
                    FIELD [1332,1922]
                        String: "strategy" [1332,1342]
                        OBJECT [1343,1922]
                            FIELD [1344,1361]
                                String: "fail-fast" [1344,1355]
                                FALSE [1356,1361]
                            FIELD [1362,1921]
                                String: "matrix" [1362,1370]
                                OBJECT [1371,1921]
                                    FIELD [1372,1920]
                                        String: "task" [1372,1378]
                                        ARRAY [1379,1920]
                                            OBJECT [1380,1506]
                                                FIELD [1381,1394]
                                                    String: "name" [1381,1387]
                                                    STRING [1388,1394]
                                                        String: "Lint" [1388,1394]
                                                FIELD [1395,1420]
                                                    String: "runs_on" [1395,1404]
                                                    STRING [1405,1420]
                                                        String: "ubuntu-latest" [1405,1420]
                                                FIELD [1421,1444]
                                                    String: "coverage_report" [1421,1438]
                                                    FALSE [1439,1444]
                                                FIELD [1445,1467]
                                                    String: "torch_platform" [1445,1461]
                                                    STRING [1462,1467]
                                                        String: "cpu" [1462,1467]
                                                FIELD [1468,1505]
                                                    String: "run" [1468,1473]
                                                    STRING [1474,1505]
                                                        String: "make flake8\nmake typecheck\n" [1474,1505]
                                            OBJECT [1507,1617]
                                                FIELD [1508,1526]
                                                    String: "name" [1508,1514]
                                                    STRING [1515,1526]
                                                        String: "CPU Tests" [1515,1526]
                                                FIELD [1527,1552]
                                                    String: "runs_on" [1527,1536]
                                                    STRING [1537,1552]
                                                        String: "ubuntu-latest" [1537,1552]
                                                FIELD [1553,1575]
                                                    String: "coverage_report" [1553,1570]
                                                    TRUE [1571,1575]
                                                FIELD [1576,1598]
                                                    String: "torch_platform" [1576,1592]
                                                    STRING [1593,1598]
                                                        String: "cpu" [1593,1598]
                                                FIELD [1599,1616]
                                                    String: "run" [1599,1604]
                                                    STRING [1605,1616]
                                                        String: "make test" [1605,1616]
                                            OBJECT [1618,1741]
                                                FIELD [1619,1637]
                                                    String: "name" [1619,1625]
                                                    STRING [1626,1637]
                                                        String: "GPU Tests" [1626,1637]
                                                FIELD [1638,1669]
                                                    String: "runs_on" [1638,1647]
                                                    ARRAY [1648,1669]
                                                        STRING [1649,1662]
                                                            String: "self-hosted" [1649,1662]
                                                        STRING [1663,1668]
                                                            String: "GPU" [1663,1668]
                                                FIELD [1670,1692]
                                                    String: "coverage_report" [1670,1687]
                                                    TRUE [1688,1692]
                                                FIELD [1693,1717]
                                                    String: "torch_platform" [1693,1709]
                                                    STRING [1710,1717]
                                                        String: "cu111" [1710,1717]
                                                FIELD [1718,1740]
                                                    String: "run" [1718,1723]
                                                    STRING [1724,1740]
                                                        String: "make gpu-tests" [1724,1740]
                                            OBJECT [1742,1919]
                                                FIELD [1743,1763]
                                                    String: "name" [1743,1749]
                                                    STRING [1750,1763]
                                                        String: "Model Tests" [1750,1763]
                                                FIELD [1764,1789]
                                                    String: "runs_on" [1764,1773]
                                                    STRING [1774,1789]
                                                        String: "ubuntu-latest" [1774,1789]
                                                FIELD [1790,1812]
                                                    String: "coverage_report" [1790,1807]
                                                    TRUE [1808,1812]
                                                FIELD [1813,1835]
                                                    String: "torch_platform" [1813,1829]
                                                    STRING [1830,1835]
                                                        String: "cpu" [1830,1835]
                                                FIELD [1836,1918]
                                                    String: "run" [1836,1841]
                                                    STRING [1842,1918]
                                                        String: "cd allennlp-models\nmake test-with-cov COV=allennlp\nmv coverage.xml ../\n" [1842,1918]
                    FIELD [1923,4621]
                        String: "steps" [1923,1930]
                        ARRAY [1931,4621]
                            OBJECT [1932,1962]
                                FIELD [1933,1961]
                                    String: "uses" [1933,1939]
                                    STRING [1940,1961]
                                        String: "actions/checkout@v2" [1940,1961]
                            OBJECT [1963,2085]
                                FIELD [1964,1985]
                                    String: "name" [1964,1970]
                                    STRING [1971,1985]
                                        String: "Setup Python" [1971,1985]
                                FIELD [1986,2018]
                                    String: "uses" [1986,1992]
                                    STRING [1993,2018]
                                        String: "actions/setup-python@v2" [1993,2018]
                                FIELD [2019,2054]
                                    String: "env" [2019,2024]
                                    OBJECT [2025,2054]
                                        FIELD [2026,2053]
                                            String: "ACTIONS_STEP_DEBUG" [2026,2046]
                                            STRING [2047,2053]
                                                String: "true" [2047,2053]
                                FIELD [2055,2084]
                                    String: "with" [2055,2061]
                                    OBJECT [2062,2084]
                                        FIELD [2063,2083]
                                            String: "python-version" [2063,2079]
                                            NUMBER [2080,2083]
                                                Number: 3.8 [2080,2083]
                            OBJECT [2086,2182]
                                FIELD [2087,2117]
                                    String: "name" [2087,2093]
                                    STRING [2094,2117]
                                        String: "Install prerequisites" [2094,2117]
                                FIELD [2118,2181]
                                    String: "run" [2118,2123]
                                    STRING [2124,2181]
                                        String: "pip install --upgrade pip setuptools wheel virtualenv\n" [2124,2181]
                            OBJECT [2183,2520]
                                FIELD [2184,2212]
                                    String: "name" [2184,2190]
                                    STRING [2191,2212]
                                        String: "Set build variables" [2191,2212]
                                FIELD [2213,2227]
                                    String: "shell" [2213,2220]
                                    STRING [2221,2227]
                                        String: "bash" [2221,2227]
                                FIELD [2228,2519]
                                    String: "run" [2228,2233]
                                    STRING [2234,2519]
                                        String: "# Get the exact Python version to use in the cache key.\necho \"PYTHON_VERSION=$(python --version)\" >> $GITHUB_ENV\necho \"RUNNER_ARCH=$(uname -m)\" >> $GITHUB_ENV\n# Use week number in cache key so we can refresh the cache weekly.\necho \"WEEK_NUMBER=$(date +%V)\" >> $GITHUB_ENV\n" [2234,2519]
                            OBJECT [2521,2988]
                                FIELD [2522,2547]
                                    String: "uses" [2522,2528]
                                    STRING [2529,2547]
                                        String: "actions/cache@v2" [2529,2547]
                                FIELD [2548,2571]
                                    String: "id" [2548,2552]
                                    STRING [2553,2571]
                                        String: "virtualenv-cache" [2553,2571]
                                FIELD [2572,2987]
                                    String: "with" [2572,2578]
                                    OBJECT [2579,2987]
                                        FIELD [2580,2594]
                                            String: "path" [2580,2586]
                                            STRING [2587,2594]
                                                String: ".venv" [2587,2594]
                                        FIELD [2595,2819]
                                            String: "key" [2595,2600]
                                            STRING [2601,2819]
                                                String: "${{ env.CACHE_PREFIX }}-${{ env.WEEK_NUMBER }}-${{ runner.os }}-${{ env.RUNNER_ARCH }}-${{ env.PYTHON_VERSION }}-${{ matrix.task.torch_platform }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [2601,2819]
                                        FIELD [2820,2986]
                                            String: "restore-keys" [2820,2834]
                                            STRING [2835,2986]
                                                String: "${{ env.CACHE_PREFIX }}-${{ env.WEEK_NUMBER }}-${{ runner.os }}-${{ env.RUNNER_ARCH }}-${{ env.PYTHON_VERSION }}-${{ matrix.task.torch_platform }}-\n" [2835,2986]
                            OBJECT [2989,3424]
                                FIELD [2990,3039]
                                    String: "name" [2990,2996]
                                    STRING [2997,3039]
                                        String: "Setup virtual environment (no cache hit)" [2997,3039]
                                FIELD [3040,3097]
                                    String: "if" [3040,3044]
                                    STRING [3045,3097]
                                        String: "steps.virtualenv-cache.outputs.cache-hit != 'true'" [3045,3097]
                                FIELD [3098,3423]
                                    String: "run" [3098,3103]
                                    STRING [3104,3423]
                                        String: "test -d .venv || virtualenv -p $(which python) --copies --reset-app-data .venv\n. .venv/bin/activate\nmake install TORCH_VERSION=\"torch==${TORCH_VERSION}+${{ matrix.task.torch_platform }} torchvision==${TORCH_VISION_VERSION}+${{ matrix.task.torch_platform }} -f https://download.pytorch.org/whl/torch_stable.html\"\n" [3104,3423]
                            OBJECT [3425,3612]
                                FIELD [3426,3472]
                                    String: "name" [3426,3432]
                                    STRING [3433,3472]
                                        String: "Setup virtual environment (cache hit)" [3433,3472]
                                FIELD [3473,3530]
                                    String: "if" [3473,3477]
                                    STRING [3478,3530]
                                        String: "steps.virtualenv-cache.outputs.cache-hit == 'true'" [3478,3530]
                                FIELD [3531,3611]
                                    String: "run" [3531,3536]
                                    STRING [3537,3611]
                                        String: ". .venv/bin/activate\npip install --no-deps -e .\nmake download-extras\n" [3537,3611]
                            OBJECT [3613,3918]
                                FIELD [3614,3651]
                                    String: "name" [3614,3620]
                                    STRING [3621,3651]
                                        String: "Pull and install models repo" [3621,3651]
                                FIELD [3652,3692]
                                    String: "if" [3652,3656]
                                    STRING [3657,3692]
                                        String: "matrix.task.name == 'Model Tests'" [3657,3692]
                                FIELD [3693,3731]
                                    String: "env" [3693,3698]
                                    OBJECT [3699,3731]
                                        FIELD [3700,3730]
                                            String: "ALLENNLP_VERSION_OVERRIDE" [3700,3727]
                                            STRING [3728,3730]
                                                String: "" [3728,3730]
                                FIELD [3732,3917]
                                    String: "run" [3732,3737]
                                    STRING [3738,3917]
                                        String: ". .venv/bin/activate\ngit clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models\npip install --upgrade --upgrade-strategy eager -e . -r dev-requirements.txt\n" [3738,3917]
                            OBJECT [3919,3997]
                                FIELD [3920,3939]
                                    String: "name" [3920,3926]
                                    STRING [3927,3939]
                                        String: "Debug info" [3927,3939]
                                FIELD [3940,3996]
                                    String: "run" [3940,3945]
                                    STRING [3946,3996]
                                        String: ". .venv/bin/activate\nwhich python\npip freeze\n" [3946,3996]
                            OBJECT [3998,4087]
                                FIELD [3999,4031]
                                    String: "name" [3999,4005]
                                    STRING [4006,4031]
                                        String: "${{ matrix.task.name }}" [4006,4031]
                                FIELD [4032,4086]
                                    String: "run" [4032,4037]
                                    STRING [4038,4086]
                                        String: ". .venv/bin/activate\n${{ matrix.task.run }}\n" [4038,4086]
                            OBJECT [4088,4209]
                                FIELD [4089,4121]
                                    String: "name" [4089,4095]
                                    STRING [4096,4121]
                                        String: "Prepare coverage report" [4096,4121]
                                FIELD [4122,4156]
                                    String: "if" [4122,4126]
                                    STRING [4127,4156]
                                        String: "matrix.task.coverage_report" [4127,4156]
                                FIELD [4157,4208]
                                    String: "run" [4157,4162]
                                    STRING [4163,4208]
                                        String: "mkdir coverage\nmv coverage.xml coverage/\n" [4163,4208]
                            OBJECT [4210,4383]
                                FIELD [4211,4240]
                                    String: "name" [4211,4217]
                                    STRING [4218,4240]
                                        String: "Save coverage report" [4218,4240]
                                FIELD [4241,4275]
                                    String: "if" [4241,4245]
                                    STRING [4246,4275]
                                        String: "matrix.task.coverage_report" [4246,4275]
                                FIELD [4276,4311]
                                    String: "uses" [4276,4282]
                                    STRING [4283,4311]
                                        String: "actions/upload-artifact@v1" [4283,4311]
                                FIELD [4312,4382]
                                    String: "with" [4312,4318]
                                    OBJECT [4319,4382]
                                        FIELD [4320,4361]
                                            String: "name" [4320,4326]
                                            STRING [4327,4361]
                                                String: "${{ matrix.task.name }}-coverage" [4327,4361]
                                        FIELD [4362,4381]
                                            String: "path" [4362,4368]
                                            STRING [4369,4381]
                                                String: "./coverage" [4369,4381]
                            OBJECT [4384,4620]
                                FIELD [4385,4402]
                                    String: "name" [4385,4391]
                                    STRING [4392,4402]
                                        String: "Clean up" [4392,4402]
                                FIELD [4403,4418]
                                    String: "if" [4403,4407]
                                    STRING [4408,4418]
                                        String: "always()" [4408,4418]
                                FIELD [4419,4619]
                                    String: "run" [4419,4424]
                                    STRING [4425,4619]
                                        String: "# Could run into issues with the cache if we don't uninstall the editable.\n# See https://github.com/pypa/pip/issues/4537.\n. .venv/bin/activate\npip uninstall --yes allennlp allennlp-models\n" [4425,4619]
            FIELD [4623,5582]
                String: "upload_coverage" [4623,4640]
                OBJECT [4641,5582]
                    FIELD [4642,4673]
                        String: "name" [4642,4648]
                        STRING [4649,4673]
                            String: "Upload Coverage Report" [4649,4673]
                    FIELD [4674,4693]
                        String: "timeout-minutes" [4674,4691]
                        NUMBER [4692,4693]
                            Number: 5 [4692,4693]
                    FIELD [4694,4812]
                        String: "if" [4694,4698]
                        STRING [4699,4812]
                            String: "github.repository == 'allenai/allennlp' && (github.event_name == 'push' || github.event_name == 'pull_request')" [4699,4812]
                    FIELD [4813,4838]
                        String: "runs-on" [4813,4822]
                        STRING [4823,4838]
                            String: "ubuntu-latest" [4823,4838]
                    FIELD [4839,4857]
                        String: "needs" [4839,4846]
                        ARRAY [4847,4857]
                            STRING [4848,4856]
                                String: "checks" [4848,4856]
                    FIELD [4858,5581]
                        String: "steps" [4858,4865]
                        ARRAY [4866,5581]
                            OBJECT [4867,4897]
                                FIELD [4868,4896]
                                    String: "uses" [4868,4874]
                                    STRING [4875,4896]
                                        String: "actions/checkout@v2" [4875,4896]
                            OBJECT [4898,5051]
                                FIELD [4899,4947]
                                    String: "name" [4899,4905]
                                    STRING [4906,4947]
                                        String: "Download coverage report from CPU tests" [4906,4947]
                                FIELD [4948,4985]
                                    String: "uses" [4948,4954]
                                    STRING [4955,4985]
                                        String: "actions/download-artifact@v1" [4955,4985]
                                FIELD [4986,5050]
                                    String: "with" [4986,4992]
                                    OBJECT [4993,5050]
                                        FIELD [4994,5021]
                                            String: "name" [4994,5000]
                                            STRING [5001,5021]
                                                String: "CPU Tests-coverage" [5001,5021]
                                        FIELD [5022,5049]
                                            String: "path" [5022,5028]
                                            STRING [5029,5049]
                                                String: "coverage/cpu_tests" [5029,5049]
                            OBJECT [5052,5205]
                                FIELD [5053,5101]
                                    String: "name" [5053,5059]
                                    STRING [5060,5101]
                                        String: "Download coverage report from GPU Tests" [5060,5101]
                                FIELD [5102,5139]
                                    String: "uses" [5102,5108]
                                    STRING [5109,5139]
                                        String: "actions/download-artifact@v1" [5109,5139]
                                FIELD [5140,5204]
                                    String: "with" [5140,5146]
                                    OBJECT [5147,5204]
                                        FIELD [5148,5175]
                                            String: "name" [5148,5154]
                                            STRING [5155,5175]
                                                String: "GPU Tests-coverage" [5155,5175]
                                        FIELD [5176,5203]
                                            String: "path" [5176,5182]
                                            STRING [5183,5203]
                                                String: "coverage/gpu_tests" [5183,5203]
                            OBJECT [5206,5365]
                                FIELD [5207,5257]
                                    String: "name" [5207,5213]
                                    STRING [5214,5257]
                                        String: "Download coverage report from model tests" [5214,5257]
                                FIELD [5258,5295]
                                    String: "uses" [5258,5264]
                                    STRING [5265,5295]
                                        String: "actions/download-artifact@v1" [5265,5295]
                                FIELD [5296,5364]
                                    String: "with" [5296,5302]
                                    OBJECT [5303,5364]
                                        FIELD [5304,5333]
                                            String: "name" [5304,5310]
                                            STRING [5311,5333]
                                                String: "Model Tests-coverage" [5311,5333]
                                        FIELD [5334,5363]
                                            String: "path" [5334,5340]
                                            STRING [5341,5363]
                                                String: "coverage/model_tests" [5341,5363]
                            OBJECT [5366,5580]
                                FIELD [5367,5402]
                                    String: "name" [5367,5373]
                                    STRING [5374,5402]
                                        String: "Upload coverage to Codecov" [5374,5402]
                                FIELD [5403,5437]
                                    String: "uses" [5403,5409]
                                    STRING [5410,5437]
                                        String: "codecov/codecov-action@v1" [5410,5437]
                                FIELD [5438,5579]
                                    String: "with" [5438,5444]
                                    OBJECT [5445,5579]
                                        FIELD [5446,5553]
                                            String: "files" [5446,5453]
                                            STRING [5454,5553]
                                                String: "coverage/cpu_tests/coverage.xml,coverage/gpu_tests/coverage.xml,coverage/model_tests/coverage.xml" [5454,5553]
                                        FIELD [5554,5578]
                                            String: "fail_ci_if_error" [5554,5572]
                                            FALSE [5573,5578]
            FIELD [5583,8594]
                String: "build_package" [5583,5598]
                OBJECT [5599,8594]
                    FIELD [5600,5622]
                        String: "name" [5600,5606]
                        STRING [5607,5622]
                            String: "Build Package" [5607,5622]
                    FIELD [5623,5643]
                        String: "timeout-minutes" [5623,5640]
                        NUMBER [5641,5643]
                            Number: 18 [5641,5643]
                    FIELD [5644,5669]
                        String: "runs-on" [5644,5653]
                        STRING [5654,5669]
                            String: "ubuntu-latest" [5654,5669]
                    FIELD [5670,8593]
                        String: "steps" [5670,5677]
                        ARRAY [5678,8593]
                            OBJECT [5679,5709]
                                FIELD [5680,5708]
                                    String: "uses" [5680,5686]
                                    STRING [5687,5708]
                                        String: "actions/checkout@v2" [5687,5708]
                            OBJECT [5710,5832]
                                FIELD [5711,5732]
                                    String: "name" [5711,5717]
                                    STRING [5718,5732]
                                        String: "Setup Python" [5718,5732]
                                FIELD [5733,5765]
                                    String: "uses" [5733,5739]
                                    STRING [5740,5765]
                                        String: "actions/setup-python@v2" [5740,5765]
                                FIELD [5766,5801]
                                    String: "env" [5766,5771]
                                    OBJECT [5772,5801]
                                        FIELD [5773,5800]
                                            String: "ACTIONS_STEP_DEBUG" [5773,5793]
                                            STRING [5794,5800]
                                                String: "true" [5794,5800]
                                FIELD [5802,5831]
                                    String: "with" [5802,5808]
                                    OBJECT [5809,5831]
                                        FIELD [5810,5830]
                                            String: "python-version" [5810,5826]
                                            NUMBER [5827,5830]
                                                Number: 3.8 [5827,5830]
                            OBJECT [5833,5929]
                                FIELD [5834,5864]
                                    String: "name" [5834,5840]
                                    STRING [5841,5864]
                                        String: "Install prerequisites" [5841,5864]
                                FIELD [5865,5928]
                                    String: "run" [5865,5870]
                                    STRING [5871,5928]
                                        String: "pip install --upgrade pip setuptools wheel virtualenv\n" [5871,5928]
                            OBJECT [5930,6142]
                                FIELD [5931,5959]
                                    String: "name" [5931,5937]
                                    STRING [5938,5959]
                                        String: "Set build variables" [5938,5959]
                                FIELD [5960,5974]
                                    String: "shell" [5960,5967]
                                    STRING [5968,5974]
                                        String: "bash" [5968,5974]
                                FIELD [5975,6141]
                                    String: "run" [5975,5980]
                                    STRING [5981,6141]
                                        String: "echo \"PYTHON_VERSION=$(python --version)\" >> $GITHUB_ENV\necho \"RUNNER_ARCH=$(uname -m)\" >> $GITHUB_ENV\necho \"WEEK_NUMBER=$(date +%V)\" >> $GITHUB_ENV\n" [5981,6141]
                            OBJECT [6143,6550]
                                FIELD [6144,6169]
                                    String: "uses" [6144,6150]
                                    STRING [6151,6169]
                                        String: "actions/cache@v2" [6151,6169]
                                FIELD [6170,6193]
                                    String: "id" [6170,6174]
                                    STRING [6175,6193]
                                        String: "virtualenv-cache" [6175,6193]
                                FIELD [6194,6549]
                                    String: "with" [6194,6200]
                                    OBJECT [6201,6549]
                                        FIELD [6202,6216]
                                            String: "path" [6202,6208]
                                            STRING [6209,6216]
                                                String: ".venv" [6209,6216]
                                        FIELD [6217,6411]
                                            String: "key" [6217,6222]
                                            STRING [6223,6411]
                                                String: "${{ env.CACHE_PREFIX }}-${{ env.WEEK_NUMBER }}-${{ runner.os }}-${{ env.RUNNER_ARCH }}-${{ env.PYTHON_VERSION }}-cpu-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [6223,6411]
                                        FIELD [6412,6548]
                                            String: "restore-keys" [6412,6426]
                                            STRING [6427,6548]
                                                String: "${{ env.CACHE_PREFIX }}-${{ env.WEEK_NUMBER }}-${{ runner.os }}-${{ env.RUNNER_ARCH }}-${{ env.PYTHON_VERSION }}-cpu-\n" [6427,6548]
                            OBJECT [6551,6926]
                                FIELD [6552,6601]
                                    String: "name" [6552,6558]
                                    STRING [6559,6601]
                                        String: "Setup virtual environment (no cache hit)" [6559,6601]
                                FIELD [6602,6659]
                                    String: "if" [6602,6606]
                                    STRING [6607,6659]
                                        String: "steps.virtualenv-cache.outputs.cache-hit != 'true'" [6607,6659]
                                FIELD [6660,6925]
                                    String: "run" [6660,6665]
                                    STRING [6666,6925]
                                        String: "test -d .venv || virtualenv -p $(which python) --copies --reset-app-data .venv\n. .venv/bin/activate\nmake install TORCH_VERSION=\"torch==${TORCH_VERSION}+cpu torchvision==${TORCH_VISION_VERSION}+cpu -f https://download.pytorch.org/whl/torch_stable.html\"\n" [6666,6925]
                            OBJECT [6927,7114]
                                FIELD [6928,6974]
                                    String: "name" [6928,6934]
                                    STRING [6935,6974]
                                        String: "Setup virtual environment (cache hit)" [6935,6974]
                                FIELD [6975,7032]
                                    String: "if" [6975,6979]
                                    STRING [6980,7032]
                                        String: "steps.virtualenv-cache.outputs.cache-hit == 'true'" [6980,7032]
                                FIELD [7033,7113]
                                    String: "run" [7033,7038]
                                    STRING [7039,7113]
                                        String: ". .venv/bin/activate\npip install --no-deps -e .\nmake download-extras\n" [7039,7113]
                            OBJECT [7115,7193]
                                FIELD [7116,7135]
                                    String: "name" [7116,7122]
                                    STRING [7123,7135]
                                        String: "Debug info" [7123,7135]
                                FIELD [7136,7192]
                                    String: "run" [7136,7141]
                                    STRING [7142,7192]
                                        String: ". .venv/bin/activate\nwhich python\npip freeze\n" [7142,7192]
                            OBJECT [7194,7853]
                                FIELD [7195,7233]
                                    String: "name" [7195,7201]
                                    STRING [7202,7233]
                                        String: "Check and set nightly version" [7202,7233]
                                FIELD [7234,7272]
                                    String: "if" [7234,7238]
                                    STRING [7239,7272]
                                        String: "github.event_name == 'schedule'" [7239,7272]
                                FIELD [7273,7852]
                                    String: "run" [7273,7278]
                                    STRING [7279,7852]
                                        String: "# Verify that current version is ahead of the last release.\n. .venv/bin/activate\nLATEST=$(scripts/get_version.py latest)\nCURRENT=$(scripts/get_version.py current)\nif [ \"$CURRENT\" == \"$LATEST\" ]; then\n    echo \"Current version needs to be ahead of latest release in order to build nightly release\";\n    exit 1;\nfi\n# This is somewhat bizarre, but you can't set env variables to bash\n# commands in the action workflow - so we have to use this odd way of\n# exporting a variable instead.\necho \"ALLENNLP_VERSION_SUFFIX=dev$(date -u +%Y%m%d)\" >> $GITHUB_ENV\n" [7279,7852]
                            OBJECT [7854,8230]
                                FIELD [7855,7899]
                                    String: "name" [7855,7861]
                                    STRING [7862,7899]
                                        String: "Check version and release tag match" [7862,7899]
                                FIELD [7900,7937]
                                    String: "if" [7900,7904]
                                    STRING [7905,7937]
                                        String: "github.event_name == 'release'" [7905,7937]
                                FIELD [7938,8229]
                                    String: "run" [7938,7943]
                                    STRING [7944,8229]
                                        String: "# Remove 'refs/tags/' to get the actual tag from the release.\n. .venv/bin/activate\nTAG=${GITHUB_REF#refs/tags/};\nVERSION=$(scripts/get_version.py current)\nif [ \"$TAG\" != \"$VERSION\" ]; then\n    echo \"Bad tag or version. Tag $TAG does not match $VERSION\";\n    exit 1;\nfi\n" [7944,8229]
                            OBJECT [8231,8385]
                                FIELD [8232,8259]
                                    String: "name" [8232,8238]
                                    STRING [8239,8259]
                                        String: "Build core package" [8239,8259]
                                FIELD [8260,8384]
                                    String: "run" [8260,8265]
                                    STRING [8266,8384]
                                        String: "# Just print out the version for debugging.\n. .venv/bin/activate\nmake version\npython setup.py bdist_wheel sdist\n" [8266,8384]
                            OBJECT [8386,8495]
                                FIELD [8387,8413]
                                    String: "name" [8387,8393]
                                    STRING [8394,8413]
                                        String: "Save core package" [8394,8413]
                                FIELD [8414,8449]
                                    String: "uses" [8414,8420]
                                    STRING [8421,8449]
                                        String: "actions/upload-artifact@v1" [8421,8449]
                                FIELD [8450,8494]
                                    String: "with" [8450,8456]
                                    OBJECT [8457,8494]
                                        FIELD [8458,8479]
                                            String: "name" [8458,8464]
                                            STRING [8465,8479]
                                                String: "core-package" [8465,8479]
                                        FIELD [8480,8493]
                                            String: "path" [8480,8486]
                                            STRING [8487,8493]
                                                String: "dist" [8487,8493]
                            OBJECT [8496,8592]
                                FIELD [8497,8514]
                                    String: "name" [8497,8503]
                                    STRING [8504,8514]
                                        String: "Clean up" [8504,8514]
                                FIELD [8515,8530]
                                    String: "if" [8515,8519]
                                    STRING [8520,8530]
                                        String: "always()" [8520,8530]
                                FIELD [8531,8591]
                                    String: "run" [8531,8536]
                                    STRING [8537,8591]
                                        String: ". .venv/bin/activate\npip uninstall --yes allennlp\n" [8537,8591]
            FIELD [8595,9240]
                String: "test_package" [8595,8609]
                OBJECT [8610,9240]
                    FIELD [8611,8632]
                        String: "name" [8611,8617]
                        STRING [8618,8632]
                            String: "Test Package" [8618,8632]
                    FIELD [8633,8653]
                        String: "timeout-minutes" [8633,8650]
                        NUMBER [8651,8653]
                            Number: 10 [8651,8653]
                    FIELD [8654,8679]
                        String: "needs" [8654,8661]
                        ARRAY [8662,8679]
                            STRING [8663,8678]
                                String: "build_package" [8663,8678]
                    FIELD [8680,8705]
                        String: "runs-on" [8680,8689]
                        STRING [8690,8705]
                            String: "ubuntu-latest" [8690,8705]
                    FIELD [8706,8752]
                        String: "strategy" [8706,8716]
                        OBJECT [8717,8752]
                            FIELD [8718,8751]
                                String: "matrix" [8718,8726]
                                OBJECT [8727,8751]
                                    FIELD [8728,8750]
                                        String: "python" [8728,8736]
                                        ARRAY [8737,8750]
                                            STRING [8738,8743]
                                                String: "3.7" [8738,8743]
                                            STRING [8744,8749]
                                                String: "3.8" [8744,8749]
                    FIELD [8753,9239]
                        String: "steps" [8753,8760]
                        ARRAY [8761,9239]
                            OBJECT [8762,8867]
                                FIELD [8763,8784]
                                    String: "name" [8763,8769]
                                    STRING [8770,8784]
                                        String: "Setup Python" [8770,8784]
                                FIELD [8785,8817]
                                    String: "uses" [8785,8791]
                                    STRING [8792,8817]
                                        String: "actions/setup-python@v1" [8792,8817]
                                FIELD [8818,8866]
                                    String: "with" [8818,8824]
                                    OBJECT [8825,8866]
                                        FIELD [8826,8865]
                                            String: "python-version" [8826,8842]
                                            STRING [8843,8865]
                                                String: "${{ matrix.python }}" [8843,8865]
                            OBJECT [8868,8952]
                                FIELD [8869,8898]
                                    String: "name" [8869,8875]
                                    STRING [8876,8898]
                                        String: "Install requirements" [8876,8898]
                                FIELD [8899,8951]
                                    String: "run" [8899,8904]
                                    STRING [8905,8951]
                                        String: "pip install --upgrade pip setuptools wheel\n" [8905,8951]
                            OBJECT [8953,9068]
                                FIELD [8954,8984]
                                    String: "name" [8954,8960]
                                    STRING [8961,8984]
                                        String: "Download core package" [8961,8984]
                                FIELD [8985,9022]
                                    String: "uses" [8985,8991]
                                    STRING [8992,9022]
                                        String: "actions/download-artifact@v1" [8992,9022]
                                FIELD [9023,9067]
                                    String: "with" [9023,9029]
                                    OBJECT [9030,9067]
                                        FIELD [9031,9052]
                                            String: "name" [9031,9037]
                                            STRING [9038,9052]
                                                String: "core-package" [9038,9052]
                                        FIELD [9053,9066]
                                            String: "path" [9053,9059]
                                            STRING [9060,9066]
                                                String: "dist" [9060,9066]
                            OBJECT [9069,9139]
                                FIELD [9070,9099]
                                    String: "name" [9070,9076]
                                    STRING [9077,9099]
                                        String: "Install core package" [9077,9099]
                                FIELD [9100,9138]
                                    String: "run" [9100,9105]
                                    STRING [9106,9138]
                                        String: "pip install $(ls dist/*.whl)\n" [9106,9138]
                            OBJECT [9140,9182]
                                FIELD [9141,9160]
                                    String: "name" [9141,9147]
                                    STRING [9148,9160]
                                        String: "Pip freeze" [9148,9160]
                                FIELD [9161,9181]
                                    String: "run" [9161,9166]
                                    STRING [9167,9181]
                                        String: "pip freeze\n" [9167,9181]
                            OBJECT [9183,9238]
                                FIELD [9184,9205]
                                    String: "name" [9184,9190]
                                    STRING [9191,9205]
                                        String: "Test install" [9191,9205]
                                FIELD [9206,9237]
                                    String: "run" [9206,9211]
                                    STRING [9212,9237]
                                        String: "allennlp test-install\n" [9212,9237]
            FIELD [9241,11780]
                String: "docker" [9241,9249]
                OBJECT [9250,11780]
                    FIELD [9251,9292]
                        String: "name" [9251,9257]
                        STRING [9258,9292]
                            String: "Docker (CUDA ${{ matrix.cuda }})" [9258,9292]
                    FIELD [9293,9313]
                        String: "timeout-minutes" [9293,9310]
                        NUMBER [9311,9313]
                            Number: 18 [9311,9313]
                    FIELD [9314,9360]
                        String: "if" [9314,9318]
                        STRING [9319,9360]
                            String: "github.repository == 'allenai/allennlp'" [9319,9360]
                    FIELD [9361,9403]
                        String: "runs-on" [9361,9370]
                        ARRAY [9371,9403]
                            STRING [9372,9385]
                                String: "self-hosted" [9372,9385]
                            STRING [9386,9402]
                                String: "Docker-enabled" [9386,9402]
                    FIELD [9404,9457]
                        String: "strategy" [9404,9414]
                        OBJECT [9415,9457]
                            FIELD [9416,9456]
                                String: "matrix" [9416,9424]
                                OBJECT [9425,9456]
                                    FIELD [9426,9455]
                                        String: "cuda" [9426,9432]
                                        ARRAY [9433,9455]
                                            STRING [9434,9440]
                                                String: "10.1" [9434,9440]
                                            STRING [9441,9447]
                                                String: "10.2" [9441,9447]
                                            STRING [9448,9454]
                                                String: "11.1" [9448,9454]
                    FIELD [9458,11779]
                        String: "steps" [9458,9465]
                        ARRAY [9466,11779]
                            OBJECT [9467,9497]
                                FIELD [9468,9496]
                                    String: "uses" [9468,9474]
                                    STRING [9475,9496]
                                        String: "actions/checkout@v2" [9475,9496]
                            OBJECT [9498,10456]
                                FIELD [9499,9525]
                                    String: "name" [9499,9505]
                                    STRING [9506,9525]
                                        String: "Set torch version" [9506,9525]
                                FIELD [9526,9561]
                                    String: "env" [9526,9531]
                                    OBJECT [9532,9561]
                                        FIELD [9533,9560]
                                            String: "CUDA" [9533,9539]
                                            STRING [9540,9560]
                                                String: "${{ matrix.cuda }}" [9540,9560]
                                FIELD [9562,10455]
                                    String: "run" [9562,9567]
                                    STRING [9568,10455]
                                        String: "# Check the install instructions on https://pytorch.org/ to keep these up-to-date.\nif [[ $CUDA == '10.1' ]]; then\n    # NOTE: We need to use an older version of torch to support CUDA 10.1\n    echo \"DOCKER_TORCH_VERSION='torch==1.8.0+cu101 torchvision==0.9.0+cu101 -f https://download.pytorch.org/whl/torch_stable.html'\" >> $GITHUB_ENV;\nelif [[ $CUDA == '10.2' ]]; then\n    # NOTE: 10.2 is still the default but that could change in the next release.\n    echo \"DOCKER_TORCH_VERSION='torch==${{ env.TORCH_VERSION }} torchvision==${{ env.TORCH_VISION_VERSION }}'\" >> $GITHUB_ENV;\nelif [[ $CUDA == '11.1' ]]; then\n    echo \"DOCKER_TORCH_VERSION='torch==${{ env.TORCH_VERSION }}+cu111 torchvision==${{ env.TORCH_VISION_VERSION }}+cu111 -f https://download.pytorch.org/whl/torch_stable.html'\" >> $GITHUB_ENV;\nelse\n    echo \"Unhandled CUDA version $CUDA\";\n    exit 1;\nfi\n" [9568,10455]
                            OBJECT [10457,10778]
                                FIELD [10458,10481]
                                    String: "name" [10458,10464]
                                    STRING [10465,10481]
                                        String: "Set image name" [10465,10481]
                                FIELD [10482,10517]
                                    String: "env" [10482,10487]
                                    OBJECT [10488,10517]
                                        FIELD [10489,10516]
                                            String: "CUDA" [10489,10495]
                                            STRING [10496,10516]
                                                String: "${{ matrix.cuda }}" [10496,10516]
                                FIELD [10518,10777]
                                    String: "run" [10518,10523]
                                    STRING [10524,10777]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCKER_IMAGE_NAME=allennlp/allennlp:${GITHUB_REF#refs/tags/}-cuda${CUDA}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCKER_IMAGE_NAME=allennlp/commit:${GITHUB_SHA}-cuda${CUDA}\" >> $GITHUB_ENV;\nfi\n" [10524,10777]
                            OBJECT [10779,10917]
                                FIELD [10780,10800]
                                    String: "name" [10780,10786]
                                    STRING [10787,10800]
                                        String: "Build image" [10787,10800]
                                FIELD [10801,10916]
                                    String: "run" [10801,10806]
                                    STRING [10807,10916]
                                        String: "make docker-image DOCKER_IMAGE_NAME=\"$DOCKER_IMAGE_NAME\" DOCKER_TORCH_VERSION=\"$DOCKER_TORCH_VERSION\"\n" [10807,10916]
                            OBJECT [10918,11037]
                                FIELD [10919,10938]
                                    String: "name" [10919,10925]
                                    STRING [10926,10938]
                                        String: "Test image" [10926,10938]
                                FIELD [10939,11036]
                                    String: "run" [10939,10944]
                                    STRING [10945,11036]
                                        String: "make docker-run DOCKER_GPUS='' DOCKER_IMAGE_NAME=$DOCKER_IMAGE_NAME ARGS='test-install'\n" [10945,11036]
                            OBJECT [11038,11235]
                                FIELD [11039,11074]
                                    String: "name" [11039,11045]
                                    STRING [11046,11074]
                                        String: "Authenticate to Docker Hub" [11046,11074]
                                FIELD [11075,11143]
                                    String: "if" [11075,11079]
                                    STRING [11080,11143]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [11080,11143]
                                FIELD [11144,11234]
                                    String: "run" [11144,11149]
                                    STRING [11150,11234]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\n" [11150,11234]
                            OBJECT [11236,11369]
                                FIELD [11237,11258]
                                    String: "name" [11237,11243]
                                    STRING [11244,11258]
                                        String: "Upload image" [11244,11258]
                                FIELD [11259,11327]
                                    String: "if" [11259,11263]
                                    STRING [11264,11327]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [11264,11327]
                                FIELD [11328,11368]
                                    String: "run" [11328,11333]
                                    STRING [11334,11368]
                                        String: "docker push $DOCKER_IMAGE_NAME\n" [11334,11368]
                            OBJECT [11370,11581]
                                FIELD [11371,11407]
                                    String: "name" [11371,11377]
                                    STRING [11378,11407]
                                        String: "Upload default commit image" [11378,11407]
                                FIELD [11408,11467]
                                    String: "if" [11408,11412]
                                    STRING [11413,11467]
                                        String: "github.event_name == 'push' && matrix.cuda == '10.2'" [11413,11467]
                                FIELD [11468,11580]
                                    String: "run" [11468,11473]
                                    STRING [11474,11580]
                                        String: "docker tag $DOCKER_IMAGE_NAME allennlp/commit:${GITHUB_SHA}\ndocker push allennlp/commit:${GITHUB_SHA}\n" [11474,11580]
                            OBJECT [11582,11778]
                                FIELD [11583,11611]
                                    String: "name" [11583,11589]
                                    STRING [11590,11611]
                                        String: "Upload latest image" [11590,11611]
                                FIELD [11612,11674]
                                    String: "if" [11612,11616]
                                    STRING [11617,11674]
                                        String: "github.event_name == 'release' && matrix.cuda == '10.2'" [11617,11674]
                                FIELD [11675,11777]
                                    String: "run" [11675,11680]
                                    STRING [11681,11777]
                                        String: "docker tag $DOCKER_IMAGE_NAME allennlp/allennlp:latest\ndocker push allennlp/allennlp:latest\n" [11681,11777]
            FIELD [11781,16543]
                String: "docs" [11781,11787]
                OBJECT [11788,16543]
                    FIELD [11789,11802]
                        String: "name" [11789,11795]
                        STRING [11796,11802]
                            String: "Docs" [11796,11802]
                    FIELD [11803,11823]
                        String: "timeout-minutes" [11803,11820]
                        NUMBER [11821,11823]
                            Number: 15 [11821,11823]
                    FIELD [11824,11870]
                        String: "if" [11824,11828]
                        STRING [11829,11870]
                            String: "github.repository == 'allenai/allennlp'" [11829,11870]
                    FIELD [11871,11896]
                        String: "runs-on" [11871,11880]
                        STRING [11881,11896]
                            String: "ubuntu-latest" [11881,11896]
                    FIELD [11897,16542]
                        String: "steps" [11897,11904]
                        ARRAY [11905,16542]
                            OBJECT [11906,11936]
                                FIELD [11907,11935]
                                    String: "uses" [11907,11913]
                                    STRING [11914,11935]
                                        String: "actions/checkout@v1" [11914,11935]
                            OBJECT [11937,12133]
                                FIELD [11938,11966]
                                    String: "name" [11938,11944]
                                    STRING [11945,11966]
                                        String: "Setup SSH Client " [11945,11966]
                                FIELD [11967,12035]
                                    String: "if" [11967,11971]
                                    STRING [11972,12035]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [11972,12035]
                                FIELD [12036,12072]
                                    String: "uses" [12036,12042]
                                    STRING [12043,12072]
                                        String: "webfactory/ssh-agent@v0.4.1" [12043,12072]
                                FIELD [12073,12132]
                                    String: "with" [12073,12079]
                                    OBJECT [12080,12132]
                                        FIELD [12081,12131]
                                            String: "ssh-private-key" [12081,12098]
                                            STRING [12099,12131]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [12099,12131]
                            OBJECT [12134,12256]
                                FIELD [12135,12156]
                                    String: "name" [12135,12141]
                                    STRING [12142,12156]
                                        String: "Setup Python" [12142,12156]
                                FIELD [12157,12189]
                                    String: "uses" [12157,12163]
                                    STRING [12164,12189]
                                        String: "actions/setup-python@v2" [12164,12189]
                                FIELD [12190,12225]
                                    String: "env" [12190,12195]
                                    OBJECT [12196,12225]
                                        FIELD [12197,12224]
                                            String: "ACTIONS_STEP_DEBUG" [12197,12217]
                                            STRING [12218,12224]
                                                String: "true" [12218,12224]
                                FIELD [12226,12255]
                                    String: "with" [12226,12232]
                                    OBJECT [12233,12255]
                                        FIELD [12234,12254]
                                            String: "python-version" [12234,12250]
                                            NUMBER [12251,12254]
                                                Number: 3.8 [12251,12254]
                            OBJECT [12257,12353]
                                FIELD [12258,12288]
                                    String: "name" [12258,12264]
                                    STRING [12265,12288]
                                        String: "Install prerequisites" [12265,12288]
                                FIELD [12289,12352]
                                    String: "run" [12289,12294]
                                    STRING [12295,12352]
                                        String: "pip install --upgrade pip setuptools wheel virtualenv\n" [12295,12352]
                            OBJECT [12354,12566]
                                FIELD [12355,12383]
                                    String: "name" [12355,12361]
                                    STRING [12362,12383]
                                        String: "Set build variables" [12362,12383]
                                FIELD [12384,12398]
                                    String: "shell" [12384,12391]
                                    STRING [12392,12398]
                                        String: "bash" [12392,12398]
                                FIELD [12399,12565]
                                    String: "run" [12399,12404]
                                    STRING [12405,12565]
                                        String: "echo \"PYTHON_VERSION=$(python --version)\" >> $GITHUB_ENV\necho \"RUNNER_ARCH=$(uname -m)\" >> $GITHUB_ENV\necho \"WEEK_NUMBER=$(date +%V)\" >> $GITHUB_ENV\n" [12405,12565]
                            OBJECT [12567,12974]
                                FIELD [12568,12593]
                                    String: "uses" [12568,12574]
                                    STRING [12575,12593]
                                        String: "actions/cache@v2" [12575,12593]
                                FIELD [12594,12617]
                                    String: "id" [12594,12598]
                                    STRING [12599,12617]
                                        String: "virtualenv-cache" [12599,12617]
                                FIELD [12618,12973]
                                    String: "with" [12618,12624]
                                    OBJECT [12625,12973]
                                        FIELD [12626,12640]
                                            String: "path" [12626,12632]
                                            STRING [12633,12640]
                                                String: ".venv" [12633,12640]
                                        FIELD [12641,12835]
                                            String: "key" [12641,12646]
                                            STRING [12647,12835]
                                                String: "${{ env.CACHE_PREFIX }}-${{ env.WEEK_NUMBER }}-${{ runner.os }}-${{ env.RUNNER_ARCH }}-${{ env.PYTHON_VERSION }}-cpu-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [12647,12835]
                                        FIELD [12836,12972]
                                            String: "restore-keys" [12836,12850]
                                            STRING [12851,12972]
                                                String: "${{ env.CACHE_PREFIX }}-${{ env.WEEK_NUMBER }}-${{ runner.os }}-${{ env.RUNNER_ARCH }}-${{ env.PYTHON_VERSION }}-cpu-\n" [12851,12972]
                            OBJECT [12975,13350]
                                FIELD [12976,13025]
                                    String: "name" [12976,12982]
                                    STRING [12983,13025]
                                        String: "Setup virtual environment (no cache hit)" [12983,13025]
                                FIELD [13026,13083]
                                    String: "if" [13026,13030]
                                    STRING [13031,13083]
                                        String: "steps.virtualenv-cache.outputs.cache-hit != 'true'" [13031,13083]
                                FIELD [13084,13349]
                                    String: "run" [13084,13089]
                                    STRING [13090,13349]
                                        String: "test -d .venv || virtualenv -p $(which python) --copies --reset-app-data .venv\n. .venv/bin/activate\nmake install TORCH_VERSION=\"torch==${TORCH_VERSION}+cpu torchvision==${TORCH_VISION_VERSION}+cpu -f https://download.pytorch.org/whl/torch_stable.html\"\n" [13090,13349]
                            OBJECT [13351,13538]
                                FIELD [13352,13398]
                                    String: "name" [13352,13358]
                                    STRING [13359,13398]
                                        String: "Setup virtual environment (cache hit)" [13359,13398]
                                FIELD [13399,13456]
                                    String: "if" [13399,13403]
                                    STRING [13404,13456]
                                        String: "steps.virtualenv-cache.outputs.cache-hit == 'true'" [13404,13456]
                                FIELD [13457,13537]
                                    String: "run" [13457,13462]
                                    STRING [13463,13537]
                                        String: ". .venv/bin/activate\npip install --no-deps -e .\nmake download-extras\n" [13463,13537]
                            OBJECT [13539,13617]
                                FIELD [13540,13559]
                                    String: "name" [13540,13546]
                                    STRING [13547,13559]
                                        String: "Debug info" [13547,13559]
                                FIELD [13560,13616]
                                    String: "run" [13560,13565]
                                    STRING [13566,13616]
                                        String: ". .venv/bin/activate\nwhich python\npip freeze\n" [13566,13616]
                            OBJECT [13618,14055]
                                FIELD [13619,13647]
                                    String: "name" [13619,13625]
                                    STRING [13626,13647]
                                        String: "Prepare environment" [13626,13647]
                                FIELD [13648,14054]
                                    String: "run" [13648,13653]
                                    STRING [13654,14054]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCS_FOLDER=${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\n    echo \"BASE_SOURCE_LINK=https://github.com/allenai/allennlp/blob/${GITHUB_REF#refs/tags/}/allennlp/\" >> $GITHUB_ENV;\nelse\n    echo \"DOCS_FOLDER=main\" >> $GITHUB_ENV;\n    echo \"BASE_SOURCE_LINK=https://github.com/allenai/allennlp/blob/main/allennlp/\" >> $GITHUB_ENV;\nfi\n" [13654,14054]
                            OBJECT [14056,14133]
                                FIELD [14057,14076]
                                    String: "name" [14057,14063]
                                    STRING [14064,14076]
                                        String: "Build docs" [14064,14076]
                                FIELD [14077,14132]
                                    String: "run" [14077,14082]
                                    STRING [14083,14132]
                                        String: ". .venv/bin/activate\n./scripts/build_docs.sh\n" [14083,14132]
                            OBJECT [14134,14191]
                                FIELD [14135,14157]
                                    String: "name" [14135,14141]
                                    STRING [14142,14157]
                                        String: "Print the ref" [14142,14157]
                                FIELD [14158,14190]
                                    String: "run" [14158,14163]
                                    STRING [14164,14190]
                                        String: "echo ${{ github.ref }}\n" [14164,14190]
                            OBJECT [14192,14477]
                                FIELD [14193,14215]
                                    String: "name" [14193,14199]
                                    STRING [14200,14215]
                                        String: "Configure Git" [14200,14215]
                                FIELD [14216,14321]
                                    String: "if" [14216,14220]
                                    STRING [14221,14321]
                                        String: "github.event_name == 'release' || (github.event_name == 'push' && github.ref == 'refs/heads/main')" [14221,14321]
                                FIELD [14322,14476]
                                    String: "run" [14322,14327]
                                    STRING [14328,14476]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [14328,14476]
                            OBJECT [14478,14945]
                                FIELD [14479,14498]
                                    String: "name" [14479,14485]
                                    STRING [14486,14498]
                                        String: "Stage docs" [14486,14498]
                                FIELD [14499,14604]
                                    String: "if" [14499,14503]
                                    STRING [14504,14604]
                                        String: "github.event_name == 'release' || (github.event_name == 'push' && github.ref == 'refs/heads/main')" [14504,14604]
                                FIELD [14605,14944]
                                    String: "run" [14605,14610]
                                    STRING [14611,14944]
                                        String: "echo \"Staging docs to $DOCS_FOLDER\"\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DOCS_FOLDER/\nmkdir -p ~/allennlp-docs/$DOCS_FOLDER\ncp -r site/* ~/allennlp-docs/$DOCS_FOLDER\n" [14611,14944]
                            OBJECT [14946,15842]
                                FIELD [14947,14972]
                                    String: "name" [14947,14953]
                                    STRING [14954,14972]
                                        String: "Update shortcuts" [14954,14972]
                                FIELD [14973,15010]
                                    String: "if" [14973,14977]
                                    STRING [14978,15010]
                                        String: "github.event_name == 'release'" [14978,15010]
                                FIELD [15011,15841]
                                    String: "run" [15011,15016]
                                    STRING [15017,15841]
                                        String: "# Fail immediately if any step fails.\nset -e\n. .venv/bin/activate\n\nLATEST=$(./scripts/get_version.py latest)\nSTABLE=$(./scripts/get_version.py stable)\n\ncd ~/allennlp-docs/\n\necho \"Updating latest/index.html to point to $LATEST\"\nmkdir -p latest\ncat >latest/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${LATEST}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${LATEST}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n\necho \"Updating stable/index.html to point to $STABLE\"\nmkdir -p stable\ncat >stable/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${STABLE}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${STABLE}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n" [15017,15841]
                            OBJECT [15843,16101]
                                FIELD [15844,15864]
                                    String: "name" [15844,15850]
                                    STRING [15851,15864]
                                        String: "Deploy docs" [15851,15864]
                                FIELD [15865,15970]
                                    String: "if" [15865,15869]
                                    STRING [15870,15970]
                                        String: "github.event_name == 'release' || (github.event_name == 'push' && github.ref == 'refs/heads/main')" [15870,15970]
                                FIELD [15971,16100]
                                    String: "run" [15971,15976]
                                    STRING [15977,16100]
                                        String: "# And push them up to GitHub\ncd ~/allennlp-docs/\ngit add -A\ngit commit -m \"automated update of the docs\"\ngit push\n" [15977,16100]
                            OBJECT [16102,16444]
                                FIELD [16103,16140]
                                    String: "name" [16103,16109]
                                    STRING [16110,16140]
                                        String: "Re-write docs commit history" [16110,16140]
                                FIELD [16141,16178]
                                    String: "if" [16141,16145]
                                    STRING [16146,16178]
                                        String: "github.event_name == 'release'" [16146,16178]
                                FIELD [16179,16443]
                                    String: "run" [16179,16184]
                                    STRING [16185,16443]
                                        String: "cd ~/allennlp-docs/\ngit checkout --orphan latest_branch\ngit add -A\ngit commit -m \"Re-write commit history\"\ngit branch -D master  # remove old master branch\ngit branch -m master  # rename clean new branch to master branch\ngit push -f origin master\n" [16185,16443]
                            OBJECT [16445,16541]
                                FIELD [16446,16463]
                                    String: "name" [16446,16452]
                                    STRING [16453,16463]
                                        String: "Clean up" [16453,16463]
                                FIELD [16464,16479]
                                    String: "if" [16464,16468]
                                    STRING [16469,16479]
                                        String: "always()" [16469,16479]
                                FIELD [16480,16540]
                                    String: "run" [16480,16485]
                                    STRING [16486,16540]
                                        String: ". .venv/bin/activate\npip uninstall --yes allennlp\n" [16486,16540]
            FIELD [16544,17247]
                String: "publish" [16544,16553]
                OBJECT [16554,17247]
                    FIELD [16555,16568]
                        String: "name" [16555,16561]
                        STRING [16562,16568]
                            String: "PyPI" [16562,16568]
                    FIELD [16569,16589]
                        String: "timeout-minutes" [16569,16586]
                        NUMBER [16587,16589]
                            Number: 10 [16587,16589]
                    FIELD [16590,16663]
                        String: "needs" [16590,16597]
                        ARRAY [16598,16663]
                            STRING [16599,16606]
                                String: "style" [16599,16606]
                            STRING [16607,16615]
                                String: "checks" [16607,16615]
                            STRING [16616,16631]
                                String: "build_package" [16616,16631]
                            STRING [16632,16646]
                                String: "test_package" [16632,16646]
                            STRING [16647,16655]
                                String: "docker" [16647,16655]
                            STRING [16656,16662]
                                String: "docs" [16656,16662]
                    FIELD [16664,16781]
                        String: "if" [16664,16668]
                        STRING [16669,16781]
                            String: "github.repository == 'allenai/allennlp' && (github.event_name == 'release' || github.event_name == 'schedule')" [16669,16781]
                    FIELD [16782,16807]
                        String: "runs-on" [16782,16791]
                        STRING [16792,16807]
                            String: "ubuntu-latest" [16792,16807]
                    FIELD [16808,17246]
                        String: "steps" [16808,16815]
                        ARRAY [16816,17246]
                            OBJECT [16817,16847]
                                FIELD [16818,16846]
                                    String: "uses" [16818,16824]
                                    STRING [16825,16846]
                                        String: "actions/checkout@v2" [16825,16846]
                            OBJECT [16848,16934]
                                FIELD [16849,16870]
                                    String: "name" [16849,16855]
                                    STRING [16856,16870]
                                        String: "Setup Python" [16856,16870]
                                FIELD [16871,16903]
                                    String: "uses" [16871,16877]
                                    STRING [16878,16903]
                                        String: "actions/setup-python@v1" [16878,16903]
                                FIELD [16904,16933]
                                    String: "with" [16904,16910]
                                    OBJECT [16911,16933]
                                        FIELD [16912,16932]
                                            String: "python-version" [16912,16928]
                                            NUMBER [16929,16932]
                                                Number: 3.7 [16929,16932]
                            OBJECT [16935,17025]
                                FIELD [16936,16965]
                                    String: "name" [16936,16942]
                                    STRING [16943,16965]
                                        String: "Install requirements" [16943,16965]
                                FIELD [16966,17024]
                                    String: "run" [16966,16971]
                                    STRING [16972,17024]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [16972,17024]
                            OBJECT [17026,17141]
                                FIELD [17027,17057]
                                    String: "name" [17027,17033]
                                    STRING [17034,17057]
                                        String: "Download core package" [17034,17057]
                                FIELD [17058,17095]
                                    String: "uses" [17058,17064]
                                    STRING [17065,17095]
                                        String: "actions/download-artifact@v1" [17065,17095]
                                FIELD [17096,17140]
                                    String: "with" [17096,17102]
                                    OBJECT [17103,17140]
                                        FIELD [17104,17125]
                                            String: "name" [17104,17110]
                                            STRING [17111,17125]
                                                String: "core-package" [17111,17125]
                                        FIELD [17126,17139]
                                            String: "path" [17126,17132]
                                            STRING [17133,17139]
                                                String: "dist" [17133,17139]
                            OBJECT [17142,17245]
                                FIELD [17143,17172]
                                    String: "name" [17143,17149]
                                    STRING [17150,17172]
                                        String: "Publish core package" [17150,17172]
                                FIELD [17173,17244]
                                    String: "run" [17173,17178]
                                    STRING [17179,17244]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [17179,17244]