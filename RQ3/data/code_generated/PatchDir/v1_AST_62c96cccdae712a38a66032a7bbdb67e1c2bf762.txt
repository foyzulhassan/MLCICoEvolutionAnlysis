OBJECT [0,15051]
    FIELD [1,22]
        String: "name" [1,7]
        STRING [8,22]
            String: "Lint & Tests" [8,22]
    FIELD [23,51]
        String: "on" [23,27]
        ARRAY [28,51]
            STRING [29,35]
                String: "push" [29,35]
            STRING [36,50]
                String: "pull_request" [36,50]
    FIELD [52,15050]
        String: "jobs" [52,58]
        OBJECT [59,15050]
            FIELD [60,14594]
                String: "lint-and-tests" [60,76]
                OBJECT [77,14594]
                    FIELD [78,103]
                        String: "runs-on" [78,87]
                        STRING [88,103]
                            String: "ubuntu-latest" [88,103]
                    FIELD [104,150]
                        String: "strategy" [104,114]
                        OBJECT [115,150]
                            FIELD [116,149]
                                String: "matrix" [116,124]
                                OBJECT [125,149]
                                    FIELD [126,148]
                                        String: "python-version" [126,142]
                                        ARRAY [143,148]
                                            NUMBER [144,147]
                                                Number: 3.8 [144,147]
                    FIELD [151,14593]
                        String: "steps" [151,158]
                        ARRAY [159,14593]
                            OBJECT [160,190]
                                FIELD [161,189]
                                    String: "uses" [161,167]
                                    STRING [168,189]
                                        String: "actions/checkout@v2" [168,189]
                            OBJECT [191,334]
                                FIELD [192,243]
                                    String: "name" [192,198]
                                    STRING [199,243]
                                        String: "Set up Python ${{ matrix.python-version }}" [199,243]
                                FIELD [244,276]
                                    String: "uses" [244,250]
                                    STRING [251,276]
                                        String: "actions/setup-python@v2" [251,276]
                                FIELD [277,333]
                                    String: "with" [277,283]
                                    OBJECT [284,333]
                                        FIELD [285,332]
                                            String: "python-version" [285,301]
                                            STRING [302,332]
                                                String: "${{ matrix.python-version }}" [302,332]
                            OBJECT [335,614]
                                FIELD [336,365]
                                    String: "name" [336,342]
                                    STRING [343,365]
                                        String: "Install dependencies" [343,365]
                                FIELD [366,613]
                                    String: "run" [366,371]
                                    STRING [372,613]
                                        String: "python -m pip install --upgrade pip\npip install --upgrade setuptools\npip install -e .\npip install -r requirements.opt.txt\npip install sacrebleu\npip install flake8\nif [ -f requirements.txt ]; then pip install -r requirements.txt; fi\n" [372,613]
                            OBJECT [615,661]
                                FIELD [616,641]
                                    String: "name" [616,622]
                                    STRING [623,641]
                                        String: "Lint with flake8" [623,641]
                                FIELD [642,660]
                                    String: "run" [642,647]
                                    STRING [648,660]
                                        String: "flake8 .\n" [648,660]
                            OBJECT [662,721]
                                FIELD [663,682]
                                    String: "name" [663,669]
                                    STRING [670,682]
                                        String: "Unit tests" [670,682]
                                FIELD [683,720]
                                    String: "run" [683,688]
                                    STRING [689,720]
                                        String: "python -m unittest discover\n" [689,720]
                            OBJECT [722,974]
                                FIELD [723,753]
                                    String: "name" [723,729]
                                    STRING [730,753]
                                        String: "Test vocabulary build" [730,753]
                                FIELD [754,973]
                                    String: "run" [754,759]
                                    STRING [760,973]
                                        String: "python onmt/bin/build_vocab.py \\\n  -config data/data.yaml \\\n  -save_data /tmp/onmt \\\n  -n_sample 5000 \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  && rm -rf /tmp/sample\n" [760,973]
                            OBJECT [975,1263]
                                FIELD [976,1020]
                                    String: "name" [976,982]
                                    STRING [983,1020]
                                        String: "Test vocabulary build with features" [983,1020]
                                FIELD [1021,1262]
                                    String: "run" [1021,1026]
                                    STRING [1027,1262]
                                        String: "python onmt/bin/build_vocab.py \\\n  -config data/features_data.yaml \\\n  -save_data /tmp/onmt_feat \\\n  -src_vocab /tmp/onmt_feat.vocab.src \\\n  -tgt_vocab /tmp/onmt_feat.vocab.tgt \\\n  -n_sample -1 \\\n  && rm -rf /tmp/sample\n" [1027,1262]
                            OBJECT [1264,1677]
                                FIELD [1265,1299]
                                    String: "name" [1265,1271]
                                    STRING [1272,1299]
                                        String: "Test field/transform dump" [1272,1299]
                                FIELD [1300,1676]
                                    String: "run" [1300,1305]
                                    STRING [1306,1676]
                                        String: "# The dumped fields are used later when testing tools\npython train.py \\\n  -config data/data.yaml \\\n  -save_data /tmp/onmt.train.check \\\n  -dump_fields \\\n  -dump_transforms \\\n  -n_sample 30 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000\n" [1306,1676]
                            OBJECT [1678,2214]
                                FIELD [1679,1705]
                                    String: "name" [1679,1685]
                                    STRING [1686,1705]
                                        String: "Test RNN training" [1686,1705]
                                FIELD [1706,2213]
                                    String: "run" [1706,1711]
                                    STRING [1712,2213]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -hidden_size 2 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -batch_size 10 \\\n  -word_vec_size 5 \\\n  -report_every 5\\\n  -hidden_size 10 \\\n  -train_steps 10 \\\n  -tensorboard \"true\" \\\n  -tensorboard_log_dir /tmp/logs_train\npython onmt/tests/test_events.py --logdir /tmp/logs_train -tensorboard_checks train\n" [1712,2213]
                            OBJECT [2215,2827]
                                FIELD [2216,2267]
                                    String: "name" [2216,2222]
                                    STRING [2223,2267]
                                        String: "Test RNN training and validation with copy" [2223,2267]
                                FIELD [2268,2826]
                                    String: "run" [2268,2273]
                                    STRING [2274,2826]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -hidden_size 2 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -batch_size 10 \\\n  -word_vec_size 5 \\\n  -report_every 5 \\\n  -hidden_size 10 \\\n  -train_steps 10 -valid_steps 5 \\\n  -tensorboard \"true\" \\\n  -tensorboard_log_dir /tmp/logs_train_valid \\\n  -copy_attn\npython onmt/tests/test_events.py --logdir /tmp/logs_train_valid -tensorboard_checks train_valid\n" [2274,2826]
                            OBJECT [2828,3259]
                                FIELD [2829,2869]
                                    String: "name" [2829,2835]
                                    STRING [2836,2869]
                                        String: "Test RNN training with coverage" [2836,2869]
                                FIELD [2870,3258]
                                    String: "run" [2870,2875]
                                    STRING [2876,3258]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -hidden_size 2 -batch_size 10 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -word_vec_size 5 -report_every 5        \\\n  -coverage_attn true -lambda_coverage 0.1 \\\n  -hidden_size 10 -train_steps 10\n" [2876,3258]
                            OBJECT [3260,3911]
                                FIELD [3261,3306]
                                    String: "name" [3261,3267]
                                    STRING [3268,3306]
                                        String: "Test Transformer training with align" [3268,3306]
                                FIELD [3307,3910]
                                    String: "run" [3307,3312]
                                    STRING [3313,3910]
                                        String: "python train.py \\\n  -config data/align_data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -encoder_type transformer \\\n  -decoder_type transformer \\\n  -layers 4 \\\n  -word_vec_size 16 \\\n  -hidden_size 16 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -heads 2 \\\n  -transformer_ff 64 \\\n  -lambda_align 0.05 \\\n  -alignment_layer 2 \\\n  -alignment_heads 0 \\\n  -dropout_steps 0 3 7 \\\n  -dropout 0.3 0.2 0.1 \\\n  -attention_dropout 0.2 0.1 0.1 \\\n  -report_every 5 \\\n  -train_steps 10\n" [3313,3910]
                            OBJECT [3912,4842]
                                FIELD [3913,3968]
                                    String: "name" [3913,3919]
                                    STRING [3920,3968]
                                        String: "Test Transformer training with dynamic scoring" [3920,3968]
                                FIELD [3969,4841]
                                    String: "run" [3969,3974]
                                    STRING [3975,4841]
                                        String: "python3 train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -encoder_type transformer \\\n  -decoder_type transformer \\\n  -layers 4 \\\n  -word_vec_size 16 \\\n  -hidden_size 16 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -heads 2 \\\n  -transformer_ff 64 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -accum_count 2 4 8 \\\n  -accum_steps 0 15000 30000 \\\n  -save_model /tmp/onmt.model \\\n  -train_steps 20 \\\n  -report_every 5 \\\n  -train_eval_steps 10 \\\n  -train_metrics \"BLEU\" \"TER\" \\\n  -tensorboard \"true\" \\\n  -scoring_debug \"true\" \\\n  -tensorboard_log_dir /tmp/logs_train_metrics \\\n  -dump_preds /tmp/dump_preds\npython onmt/tests/test_events.py --logdir /tmp/logs_train_metrics -tensorboard_checks train_metrics\n" [3975,4841]
                            OBJECT [4843,5886]
                                FIELD [4844,4923]
                                    String: "name" [4844,4850]
                                    STRING [4851,4923]
                                        String: "Test Transformer training and validation with dynamic scoring and copy" [4851,4923]
                                FIELD [4924,5885]
                                    String: "run" [4924,4929]
                                    STRING [4930,5885]
                                        String: "python3 train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -encoder_type transformer \\\n  -decoder_type transformer \\\n  -layers 4 \\\n  -word_vec_size 16 \\\n  -hidden_size 16 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -heads 2 \\\n  -transformer_ff 64 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -accum_count 2 4 8 \\\n  -accum_steps 0 15000 30000 \\\n  -save_model /tmp/onmt.model \\\n  -train_steps 10  -valid_steps 5 \\\n  -report_every 2 \\\n  -train_eval_steps 8 \\\n  -train_metrics \"BLEU\" \"TER\" \\\n  -valid_metrics \"BLEU\" \"TER\" \\\n  -tensorboard \"true\" \\\n  -scoring_debug \"true\" \\\n  -tensorboard_log_dir /tmp/logs_train_valid_metrics \\\n  -dump_preds /tmp/dump_preds \\\n  -copy_attn\npython onmt/tests/test_events.py --logdir /tmp/logs_train_valid_metrics -tensorboard_checks train_valid_metrics \n" [4930,5885]
                            OBJECT [5887,6403]
                                FIELD [5888,5913]
                                    String: "name" [5888,5894]
                                    STRING [5895,5913]
                                        String: "Test LM training" [5895,5913]
                                FIELD [5914,6402]
                                    String: "run" [5914,5919]
                                    STRING [5920,6402]
                                        String: "python train.py \\\n    -config data/lm_data.yaml \\\n    -src_vocab /tmp/onmt.vocab.src \\\n    -tgt_vocab /tmp/onmt.vocab.src \\\n    -model_task lm \\\n    -encoder_type transformer_lm \\\n    -decoder_type transformer_lm \\\n    -src_vocab_size 1000 \\\n    -tgt_vocab_size 1000 \\\n    -num_workers 0 -bucket_size 1024 \\\n    -dec_layers 2 -batch_size 10 \\\n    -heads 4 -transformer_ff 64 \\\n    -word_vec_size 16 -report_every 5 \\\n    -hidden_size 16 -train_steps 10\n" [5920,6402]
                            OBJECT [6404,6928]
                                FIELD [6405,6440]
                                    String: "name" [6405,6411]
                                    STRING [6412,6440]
                                        String: "Test LM training with copy" [6412,6440]
                                FIELD [6441,6927]
                                    String: "run" [6441,6446]
                                    STRING [6447,6927]
                                        String: "python train.py \\\n  -config data/lm_data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.src \\\n  -model_task lm \\\n  -encoder_type transformer_lm \\\n  -decoder_type transformer_lm \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -dec_layers 2 -batch_size 10 \\\n  -heads 4 -transformer_ff 64 \\\n  -word_vec_size 16 -report_every 5        \\\n  -hidden_size 16 -train_steps 10 \\\n  -copy_attn\n" [6447,6927]
                            OBJECT [6929,7461]
                                FIELD [6930,6973]
                                    String: "name" [6930,6936]
                                    STRING [6937,6973]
                                        String: "Test Graph neural network training" [6937,6973]
                                FIELD [6974,7460]
                                    String: "run" [6974,6979]
                                    STRING [6980,7460]
                                        String: "python train.py \\\n  -config data/ggnn_data.yaml \\\n  -src_seq_length 1000 \\\n  -tgt_seq_length 30 \\\n  -encoder_type ggnn \\\n  -layers 2 \\\n  -decoder_type rnn \\\n  -hidden_size 256 \\\n  -learning_rate 0.1 \\\n  -learning_rate_decay 0.8 \\\n  -global_attention general \\\n  -batch_size 32 \\\n  -word_vec_size 256 \\\n  -bridge \\\n  -num_workers 0 -bucket_size 1024 \\\n  -train_steps 10 \\\n  -n_edge_types 9 \\\n  -state_dim 256 \\\n  -n_steps 10 \\\n  -n_node 64\n" [6980,7460]
                            OBJECT [7462,7926]
                                FIELD [7463,7502]
                                    String: "name" [7463,7469]
                                    STRING [7470,7502]
                                        String: "Testing training with features" [7470,7502]
                                FIELD [7503,7925]
                                    String: "run" [7503,7508]
                                    STRING [7509,7925]
                                        String: "python onmt/bin/train.py \\\n  -config data/features_data.yaml \\\n  -src_vocab /tmp/onmt_feat.vocab.src \\\n  -tgt_vocab /tmp/onmt_feat.vocab.tgt \\\n  -src_vocab_size 1000 -tgt_vocab_size 1000 \\\n  -hidden_size 2 -batch_size 10 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -word_vec_size 5 -hidden_size 10 \\\n  -report_every 5 -train_steps 10 \\\n  -save_model /tmp/onmt.model \\\n  -save_checkpoint_steps 10\n" [7509,7925]
                            OBJECT [7927,8487]
                                FIELD [7928,7987]
                                    String: "name" [7928,7934]
                                    STRING [7935,7987]
                                        String: "Testing training with features and dynamic scoring" [7935,7987]
                                FIELD [7988,8486]
                                    String: "run" [7988,7993]
                                    STRING [7994,8486]
                                        String: "python onmt/bin/train.py \\\n  -config data/features_data.yaml \\\n  -src_vocab /tmp/onmt_feat.vocab.src \\\n  -tgt_vocab /tmp/onmt_feat.vocab.tgt \\\n  -src_vocab_size 1000 -tgt_vocab_size 1000 \\\n  -hidden_size 2 -batch_size 10 \\\n  -word_vec_size 5 -hidden_size 10 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -report_every 5 -train_steps 10 \\\n  -train_metrics \"BLEU\" \"TER\" \\\n  -valid_metrics \"BLEU\" \"TER\" \\\n  -save_model /tmp/onmt.model \\\n  -save_checkpoint_steps 10\n" [7994,8486]
                            OBJECT [8488,8692]
                                FIELD [8489,8531]
                                    String: "name" [8489,8495]
                                    STRING [8496,8531]
                                        String: "Testing translation with features" [8496,8531]
                                FIELD [8532,8691]
                                    String: "run" [8532,8537]
                                    STRING [8538,8691]
                                        String: "python translate.py \\\n    -model /tmp/onmt.model_step_10.pt \\\n    -src data/data_features/src-test-with-feats.txt \\\n    -n_src_feats 1 -verbose\n" [8538,8691]
                            OBJECT [8693,8880]
                                FIELD [8694,8723]
                                    String: "name" [8694,8700]
                                    STRING [8701,8723]
                                        String: "Test RNN translation" [8701,8723]
                                FIELD [8724,8879]
                                    String: "run" [8724,8729]
                                    STRING [8730,8879]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython translate.py \\\n  -model onmt/tests/test_model.pt \\\n  -src /tmp/src-test.txt \\\n  -verbose\n" [8730,8879]
                            OBJECT [8881,9108]
                                FIELD [8882,8920]
                                    String: "name" [8882,8888]
                                    STRING [8889,8920]
                                        String: "Test RNN ensemble translation" [8889,8920]
                                FIELD [8921,9107]
                                    String: "run" [8921,8926]
                                    STRING [8927,9107]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython translate.py \\\n  -model onmt/tests/test_model.pt \\\n  onmt/tests/test_model.pt \\\n  -src /tmp/src-test.txt \\\n  -verbose\n" [8927,9107]
                            OBJECT [9109,9423]
                                FIELD [9110,9156]
                                    String: "name" [9110,9116]
                                    STRING [9117,9156]
                                        String: "Test RNN translation with beam search" [9117,9156]
                                FIELD [9157,9422]
                                    String: "run" [9157,9162]
                                    STRING [9163,9422]
                                        String: "python translate.py \\\n  -model onmt/tests/test_model2.pt \\\n  -src data/morph/src.valid \\\n  -verbose \\\n  -batch_size 10 \\\n  -beam_size 10 \\\n  -tgt data/morph/tgt.valid \\\n  -out /tmp/trans\ndiff data/morph/tgt.valid /tmp/trans && rm /tmp/trans\n" [9163,9422]
                            OBJECT [9424,9825]
                                FIELD [9425,9475]
                                    String: "name" [9425,9431]
                                    STRING [9432,9475]
                                        String: "Test RNN translation with random sampling" [9432,9475]
                                FIELD [9476,9824]
                                    String: "run" [9476,9481]
                                    STRING [9482,9824]
                                        String: "python translate.py \\\n  -model onmt/tests/test_model2.pt \\\n  -src data/morph/src.valid \\\n  -verbose \\\n  -batch_size 10 \\\n  -beam_size 1 \\\n  -seed 1 \\\n  -random_sampling_topk \"-1\" \\\n  -random_sampling_temp 0.0001 \\\n  -tgt data/morph/tgt.valid \\\n  -out /tmp/trans\ndiff data/morph/tgt.valid /tmp/trans && rm /tmp/trans\n" [9482,9824]
                            OBJECT [9826,10014]
                                FIELD [9827,9854]
                                    String: "name" [9827,9833]
                                    STRING [9834,9854]
                                        String: "Test LM generation" [9834,9854]
                                FIELD [9855,10013]
                                    String: "run" [9855,9860]
                                    STRING [9861,10013]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython translate.py \\\n  -model onmt/tests/test_model_lm.pt \\\n  -src /tmp/src-test.txt \\\n  -verbose\n" [9861,10013]
                            OBJECT [10015,10345]
                                FIELD [10016,10060]
                                    String: "name" [10016,10022]
                                    STRING [10023,10060]
                                        String: "Test LM generation with beam search" [10023,10060]
                                FIELD [10061,10344]
                                    String: "run" [10061,10066]
                                    STRING [10067,10344]
                                        String: "python translate.py \\\n  -model onmt/tests/test_model_lm.pt \\\n  -src data/data_lm/src-gen.txt \\\n  -verbose -batch_size 1 \\\n  -beam_size 10 \\\n  -ban_unk_token \\\n  -length_penalty none \\\n  -out /tmp/gen\ndiff data/data_lm/gen-beam-sol.txt /tmp/gen && rm /tmp/gen\n" [10067,10344]
                            OBJECT [10346,10757]
                                FIELD [10347,10395]
                                    String: "name" [10347,10353]
                                    STRING [10354,10395]
                                        String: "Test LM generation with random sampling" [10354,10395]
                                FIELD [10396,10756]
                                    String: "run" [10396,10401]
                                    STRING [10402,10756]
                                        String: "python translate.py -model onmt/tests/test_model_lm.pt \\\n  -src data/data_lm/src-gen.txt \\\n  -verbose -batch_size 1 \\\n  -beam_size 1 \\\n  -seed 1 \\\n  -random_sampling_topk -1 \\\n  -random_sampling_temp 0.0001 \\\n  -ban_unk_token \\\n  -length_penalty none \\\n  -out /tmp/gen\ndiff data/data_lm/gen-sampling-sol.txt /tmp/gen && rm /tmp/gen\n" [10402,10756]
                            OBJECT [10758,11219]
                                FIELD [10759,10821]
                                    String: "name" [10759,10765]
                                    STRING [10766,10821]
                                        String: "Test LM generation with random top-k/nucleus sampling" [10766,10821]
                                FIELD [10822,11218]
                                    String: "run" [10822,10827]
                                    STRING [10828,11218]
                                        String: "python translate.py -model onmt/tests/test_model_lm.pt \\\n  -src data/data_lm/src-gen.txt \\\n  -verbose -batch_size 1 \\\n  -beam_size 1 \\\n  -seed 3 \\\n  -random_sampling_topk -1 \\\n  -random_sampling_topp 0.95 \\\n  -random_sampling_temp 1 \\\n  -ban_unk_token \\\n  -length_penalty none \\\n  -out /tmp/gen\ndiff data/data_lm/gen-nucleus-sampling-sol.txt /tmp/gen && rm /tmp/gen\n" [10828,11218]
                            OBJECT [11220,11697]
                                FIELD [11221,11281]
                                    String: "name" [11221,11227]
                                    STRING [11228,11281]
                                        String: "Test LM generation with random sampling multi-beams" [11228,11281]
                                FIELD [11282,11696]
                                    String: "run" [11282,11287]
                                    STRING [11288,11696]
                                        String: "python translate.py -model onmt/tests/test_model_lm.pt \\\n  -src data/data_lm/src-gen.txt \\\n  -verbose -batch_size 1 \\\n  -beam_size 10 \\\n  -seed 2 \\\n  -random_sampling_topk 50 \\\n  -random_sampling_topp 0.95 \\\n  -random_sampling_temp 1 \\\n  -length_penalty avg \\\n  -ban_unk_token \\\n  -min_length 5 \\\n  -out /tmp/gen\ndiff data/data_lm/gen-sampling-beams-sol.txt /tmp/gen && rm /tmp/gen\n" [11288,11696]
                            OBJECT [11698,12014]
                                FIELD [11699,11736]
                                    String: "name" [11699,11705]
                                    STRING [11706,11736]
                                        String: "Test extract_vocabulary tool" [11706,11736]
                                FIELD [11737,12013]
                                    String: "run" [11737,11742]
                                    STRING [11743,12013]
                                        String: "python tools/extract_vocabulary.py \\\n  -model onmt/tests/test_model.pt \\\n  -side src \\\n  -out_file /tmp/onmt.vocab.txt\nif ! wc -l /tmp/onmt.vocab.txt | grep -qF  \"1002\"\n  then echo \"wrong word count\" && exit 1\nelse\n  echo \"create vocabulary pass\"\nfi\n" [11743,12013]
                            OBJECT [12015,12317]
                                FIELD [12016,12054]
                                    String: "name" [12016,12022]
                                    STRING [12023,12054]
                                        String: "Test embeddings_to_torch tool" [12023,12054]
                                FIELD [12055,12316]
                                    String: "run" [12055,12060]
                                    STRING [12061,12316]
                                        String: "python tools/embeddings_to_torch.py \\\n  -emb_file_enc onmt/tests/sample_glove.txt \\\n  -emb_file_dec onmt/tests/sample_glove.txt \\\n  -dict_file onmt/tests/test_model.pt \\\n  -output_file /tmp/q_gloveembeddings \\\n  && rm /tmp/q_gloveembeddings*\n" [12061,12316]
                            OBJECT [12318,12440]
                                FIELD [12319,12356]
                                    String: "name" [12319,12325]
                                    STRING [12326,12356]
                                        String: "Test extract_embeddings tool" [12326,12356]
                                FIELD [12357,12439]
                                    String: "run" [12357,12362]
                                    STRING [12363,12439]
                                        String: "python tools/extract_embeddings.py \\\n  -model onmt/tests/test_model.pt\n" [12363,12439]
                            OBJECT [12441,13400]
                                FIELD [12442,12484]
                                    String: "name" [12442,12448]
                                    STRING [12449,12484]
                                        String: "Test checkpoint vocabulary update" [12449,12484]
                                FIELD [12485,13399]
                                    String: "run" [12485,12490]
                                    STRING [12491,13399]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -hidden_size 2 \\\n  -batch_size 10 \\\n  -word_vec_size 5 \\\n  -report_every 5\\\n  -hidden_size 10 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -train_steps 10 \\\n  -save_model /tmp/onmt.model \\\n  -save_checkpoint_steps 10\nsed -i '1s/^/new_tok\\t100000000\\n/' /tmp/onmt.vocab.src\npython train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -hidden_size 2 \\\n  -batch_size 10 \\\n  -word_vec_size 5 \\\n  -report_every 5\\\n  -hidden_size 10 \\\n  -train_steps 20 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -update_vocab \\\n  -reset_optim \"states\" \\\n  -train_from /tmp/onmt.model_step_10.pt\n" [12491,13399]
                            OBJECT [13401,14592]
                                FIELD [13402,13452]
                                    String: "name" [13402,13408]
                                    STRING [13409,13452]
                                        String: "Test checkpoint vocabulary update with LM" [13409,13452]
                                FIELD [13453,14591]
                                    String: "run" [13453,13458]
                                    STRING [13459,14591]
                                        String: "python train.py \\\n  -config data/lm_data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.src \\\n  -model_task lm \\\n  -encoder_type transformer_lm \\\n  -decoder_type transformer_lm \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -dec_layers 2 -batch_size 10 \\\n  -heads 4 -transformer_ff 64 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -word_vec_size 16 -report_every 5 \\\n  -save_model /tmp/lm.onmt.model \\\n  -save_checkpoint_steps 10 \\\n  -hidden_size 16 -train_steps 10\nsed -i '1s/^/new_tok2\\t100000000\\n/' /tmp/onmt.vocab.src\npython train.py \\\n  -config data/lm_data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.src \\\n  -model_task lm \\\n  -encoder_type transformer_lm \\\n  -decoder_type transformer_lm \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -dec_layers 2 -batch_size 10 \\\n  -heads 4 -transformer_ff 64 \\\n  -word_vec_size 16 -report_every 5 \\\n  -hidden_size 16  -train_steps 20 \\\n  -update_vocab -reset_optim \"states\" \\\n  -train_from /tmp/lm.onmt.model_step_10.pt\n" [13459,14591]
            FIELD [14595,15049]
                String: "build-docs" [14595,14607]
                OBJECT [14608,15049]
                    FIELD [14609,14634]
                        String: "runs-on" [14609,14618]
                        STRING [14619,14634]
                            String: "ubuntu-latest" [14619,14634]
                    FIELD [14635,15048]
                        String: "steps" [14635,14642]
                        ARRAY [14643,15048]
                            OBJECT [14644,14674]
                                FIELD [14645,14673]
                                    String: "uses" [14645,14651]
                                    STRING [14652,14673]
                                        String: "actions/checkout@v2" [14652,14673]
                            OBJECT [14675,14766]
                                FIELD [14676,14702]
                                    String: "name" [14676,14682]
                                    STRING [14683,14702]
                                        String: "Set up Python 3.7" [14683,14702]
                                FIELD [14703,14735]
                                    String: "uses" [14703,14709]
                                    STRING [14710,14735]
                                        String: "actions/setup-python@v2" [14710,14735]
                                FIELD [14736,14765]
                                    String: "with" [14736,14742]
                                    OBJECT [14743,14765]
                                        FIELD [14744,14764]
                                            String: "python-version" [14744,14760]
                                            NUMBER [14761,14764]
                                                Number: 3.7 [14761,14764]
                            OBJECT [14767,14934]
                                FIELD [14768,14797]
                                    String: "name" [14768,14774]
                                    STRING [14775,14797]
                                        String: "Install dependencies" [14775,14797]
                                FIELD [14798,14933]
                                    String: "run" [14798,14803]
                                    STRING [14804,14933]
                                        String: "python -m pip install --upgrade pip\npip install --upgrade setuptools\npip install -e .\npip install -r docs/requirements.txt\n" [14804,14933]
                            OBJECT [14935,15047]
                                FIELD [14936,14955]
                                    String: "name" [14936,14942]
                                    STRING [14943,14955]
                                        String: "Build docs" [14943,14955]
                                FIELD [14956,15046]
                                    String: "run" [14956,14961]
                                    STRING [14962,15046]
                                        String: "set -e\n# Check that docs are built without errors\ncd docs/ && make html && cd .." [14962,15046]