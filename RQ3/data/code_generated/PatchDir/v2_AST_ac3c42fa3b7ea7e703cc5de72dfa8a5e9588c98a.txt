OBJECT [0,4179]
    FIELD [1,12]
        String: "name" [1,7]
        STRING [8,12]
            String: "CI" [8,12]
    FIELD [13,41]
        String: "on" [13,17]
        ARRAY [18,41]
            STRING [19,25]
                String: "push" [19,25]
            STRING [26,40]
                String: "pull_request" [26,40]
    FIELD [42,72]
        String: "env" [42,47]
        OBJECT [48,72]
            FIELD [49,71]
                String: "PYTHON_VERSION" [49,65]
                STRING [66,71]
                    String: "3.8" [66,71]
    FIELD [73,164]
        String: "concurrency" [73,86]
        OBJECT [87,164]
            FIELD [88,137]
                String: "group" [88,95]
                STRING [96,137]
                    String: "${{ github.head_ref || github.run_id }}" [96,137]
            FIELD [138,163]
                String: "cancel-in-progress" [138,158]
                TRUE [159,163]
    FIELD [165,4178]
        String: "jobs" [165,171]
        OBJECT [172,4178]
            FIELD [173,615]
                String: "precommit" [173,184]
                OBJECT [185,615]
                    FIELD [186,211]
                        String: "runs-on" [186,195]
                        STRING [196,211]
                            String: "ubuntu-latest" [196,211]
                    FIELD [212,614]
                        String: "steps" [212,219]
                        ARRAY [220,614]
                            OBJECT [221,359]
                                FIELD [222,271]
                                    String: "name" [222,228]
                                    STRING [229,271]
                                        String: "Install Python ${{ env.PYTHON_VERSION }}" [229,271]
                                FIELD [272,304]
                                    String: "uses" [272,278]
                                    STRING [279,304]
                                        String: "actions/setup-python@v3" [279,304]
                                FIELD [305,358]
                                    String: "with" [305,311]
                                    OBJECT [312,358]
                                        FIELD [313,357]
                                            String: "python-version" [313,329]
                                            STRING [330,357]
                                                String: "${{ env.PYTHON_VERSION }}" [330,357]
                            OBJECT [360,390]
                                FIELD [361,389]
                                    String: "uses" [361,367]
                                    STRING [368,389]
                                        String: "actions/checkout@v3" [368,389]
                            OBJECT [391,539]
                                FIELD [392,419]
                                    String: "name" [392,398]
                                    STRING [399,419]
                                        String: "Install pre-commit" [399,419]
                                FIELD [420,538]
                                    String: "run" [420,425]
                                    STRING [426,538]
                                        String: "python -m pip install --upgrade pip\npython -m pip install pre-commit virtualenv!=20.0.6\npre-commit install\n" [426,538]
                            OBJECT [540,613]
                                FIELD [541,577]
                                    String: "name" [541,547]
                                    STRING [548,577]
                                        String: "Run static code inspections" [548,577]
                                FIELD [578,612]
                                    String: "run" [578,583]
                                    STRING [584,612]
                                        String: "pre-commit run --all-files" [584,612]
            FIELD [616,1808]
                String: "django-tests" [616,630]
                OBJECT [631,1808]
                    FIELD [632,657]
                        String: "runs-on" [632,641]
                        STRING [642,657]
                            String: "ubuntu-latest" [642,657]
                    FIELD [658,1807]
                        String: "steps" [658,665]
                        ARRAY [666,1807]
                            OBJECT [667,804]
                                FIELD [668,716]
                                    String: "name" [668,674]
                                    STRING [675,716]
                                        String: "Set up Python ${{ env.PYTHON_VERSION }}" [675,716]
                                FIELD [717,749]
                                    String: "uses" [717,723]
                                    STRING [724,749]
                                        String: "actions/setup-python@v3" [724,749]
                                FIELD [750,803]
                                    String: "with" [750,756]
                                    OBJECT [757,803]
                                        FIELD [758,802]
                                            String: "python-version" [758,774]
                                            STRING [775,802]
                                                String: "${{ env.PYTHON_VERSION }}" [775,802]
                            OBJECT [805,944]
                                FIELD [806,843]
                                    String: "name" [806,812]
                                    STRING [813,843]
                                        String: "Install codecov dependencies" [813,843]
                                FIELD [844,943]
                                    String: "run" [844,849]
                                    STRING [850,943]
                                        String: "python -m pip install codecov pytest-cov\nmkdir -p /tmp/coverage\nchmod a+w /tmp/coverage\n" [850,943]
                            OBJECT [945,975]
                                FIELD [946,974]
                                    String: "uses" [946,952]
                                    STRING [953,974]
                                        String: "actions/checkout@v3" [953,974]
                            OBJECT [976,1270]
                                FIELD [977,1005]
                                    String: "name" [977,983]
                                    STRING [984,1005]
                                        String: "Set the environment" [984,1005]
                                FIELD [1006,1269]
                                    String: "run" [1006,1011]
                                    STRING [1012,1269]
                                        String: "echo \"GIT_COMMIT_ID=$(git describe --always --dirty)\" >> $GITHUB_ENV\necho \"GIT_BRANCH_NAME=$(echo ${{ github.ref }} | cut -d/ -f3- | sed \"s/[^[:alnum:]]//g\")\" >> $GITHUB_ENV\necho \"DOCKER_GID=$(getent group docker | cut -d: -f3)\" >> $GITHUB_ENV\n" [1012,1269]
                            OBJECT [1271,1336]
                                FIELD [1272,1305]
                                    String: "name" [1272,1278]
                                    STRING [1279,1305]
                                        String: "Build the test container" [1279,1305]
                                FIELD [1306,1335]
                                    String: "run" [1306,1311]
                                    STRING [1312,1335]
                                        String: "make build_web_test\n" [1312,1335]
                            OBJECT [1337,1409]
                                FIELD [1338,1378]
                                    String: "name" [1338,1344]
                                    STRING [1345,1378]
                                        String: "Check migrations have been made" [1345,1378]
                                FIELD [1379,1408]
                                    String: "run" [1379,1384]
                                    STRING [1385,1408]
                                        String: "make check_migrations" [1385,1408]
                            OBJECT [1410,1655]
                                FIELD [1411,1440]
                                    String: "name" [1411,1417]
                                    STRING [1418,1440]
                                        String: "Run the django tests" [1418,1440]
                                FIELD [1441,1654]
                                    String: "run" [1441,1446]
                                    STRING [1447,1654]
                                        String: "docker pull crccheck/hello-world\ndocker-compose run --rm -v /tmp/coverage:/tmp/coverage web bash -c \"COVERAGE_FILE=/tmp/coverage/.coverage.non-transactions pytest --cov-report= --cov=. --durations 10\"\n" [1447,1654]
                            OBJECT [1656,1806]
                                FIELD [1657,1699]
                                    String: "name" [1657,1663]
                                    STRING [1664,1699]
                                        String: "Upload coverage report to codecov" [1664,1699]
                                FIELD [1700,1750]
                                    String: "run" [1700,1705]
                                    STRING [1706,1750]
                                        String: "coverage combine /tmp/coverage/\ncodecov\n" [1706,1750]
                                FIELD [1751,1805]
                                    String: "env" [1751,1756]
                                    OBJECT [1757,1805]
                                        FIELD [1758,1804]
                                            String: "CODECOV_TOKEN" [1758,1773]
                                            STRING [1774,1804]
                                                String: "${{ secrets.CODECOV_TOKEN }}" [1774,1804]
            FIELD [1809,2506]
                String: "docs" [1809,1815]
                OBJECT [1816,2506]
                    FIELD [1817,1842]
                        String: "runs-on" [1817,1826]
                        STRING [1827,1842]
                            String: "ubuntu-latest" [1827,1842]
                    FIELD [1843,2505]
                        String: "steps" [1843,1850]
                        ARRAY [1851,2505]
                            OBJECT [1852,1882]
                                FIELD [1853,1881]
                                    String: "uses" [1853,1859]
                                    STRING [1860,1881]
                                        String: "actions/checkout@v3" [1860,1881]
                            OBJECT [1883,2177]
                                FIELD [1884,1912]
                                    String: "name" [1884,1890]
                                    STRING [1891,1912]
                                        String: "Set the environment" [1891,1912]
                                FIELD [1913,2176]
                                    String: "run" [1913,1918]
                                    STRING [1919,2176]
                                        String: "echo \"GIT_COMMIT_ID=$(git describe --always --dirty)\" >> $GITHUB_ENV\necho \"GIT_BRANCH_NAME=$(echo ${{ github.ref }} | cut -d/ -f3- | sed \"s/[^[:alnum:]]//g\")\" >> $GITHUB_ENV\necho \"DOCKER_GID=$(getent group docker | cut -d: -f3)\" >> $GITHUB_ENV\n" [1919,2176]
                            OBJECT [2178,2243]
                                FIELD [2179,2212]
                                    String: "name" [2179,2185]
                                    STRING [2186,2212]
                                        String: "Build the test container" [2186,2212]
                                FIELD [2213,2242]
                                    String: "run" [2213,2218]
                                    STRING [2219,2242]
                                        String: "make build_web_test\n" [2219,2242]
                            OBJECT [2244,2289]
                                FIELD [2245,2268]
                                    String: "name" [2245,2251]
                                    STRING [2252,2268]
                                        String: "Build the docs" [2252,2268]
                                FIELD [2269,2288]
                                    String: "run" [2269,2274]
                                    STRING [2275,2288]
                                        String: "make docs\n" [2275,2288]
                            OBJECT [2290,2504]
                                FIELD [2291,2332]
                                    String: "name" [2291,2297]
                                    STRING [2298,2332]
                                        String: "Deploy the documentation on main" [2298,2332]
                                FIELD [2333,2371]
                                    String: "if" [2333,2337]
                                    STRING [2338,2371]
                                        String: "github.ref == 'refs/heads/main'" [2338,2371]
                                FIELD [2372,2410]
                                    String: "uses" [2372,2378]
                                    STRING [2379,2410]
                                        String: "peaceiris/actions-gh-pages@v3" [2379,2410]
                                FIELD [2411,2503]
                                    String: "with" [2411,2417]
                                    OBJECT [2418,2503]
                                        FIELD [2419,2463]
                                            String: "github_token" [2419,2433]
                                            STRING [2434,2463]
                                                String: "${{ secrets.GITHUB_TOKEN }}" [2434,2463]
                                        FIELD [2464,2502]
                                            String: "publish_dir" [2464,2477]
                                            STRING [2478,2502]
                                                String: "./app/docs/_build/html" [2478,2502]
            FIELD [2507,4177]
                String: "deploy" [2507,2515]
                OBJECT [2516,4177]
                    FIELD [2517,2541]
                        String: "needs" [2517,2524]
                        ARRAY [2525,2541]
                            STRING [2526,2540]
                                String: "django-tests" [2526,2540]
                    FIELD [2542,2567]
                        String: "runs-on" [2542,2551]
                        STRING [2552,2567]
                            String: "ubuntu-latest" [2552,2567]
                    FIELD [2568,2620]
                        String: "permissions" [2568,2581]
                        OBJECT [2582,2620]
                            FIELD [2583,2601]
                                String: "id-token" [2583,2593]
                                STRING [2594,2601]
                                    String: "write" [2594,2601]
                            FIELD [2602,2619]
                                String: "contents" [2602,2612]
                                STRING [2613,2619]
                                    String: "read" [2613,2619]
                    FIELD [2621,2659]
                        String: "if" [2621,2625]
                        STRING [2626,2659]
                            String: "github.ref == 'refs/heads/main'" [2626,2659]
                    FIELD [2660,4176]
                        String: "steps" [2660,2667]
                        ARRAY [2668,4176]
                            OBJECT [2669,2699]
                                FIELD [2670,2698]
                                    String: "uses" [2670,2676]
                                    STRING [2677,2698]
                                        String: "actions/checkout@v3" [2677,2698]
                            OBJECT [2700,2994]
                                FIELD [2701,2729]
                                    String: "name" [2701,2707]
                                    STRING [2708,2729]
                                        String: "Set the environment" [2708,2729]
                                FIELD [2730,2993]
                                    String: "run" [2730,2735]
                                    STRING [2736,2993]
                                        String: "echo \"GIT_COMMIT_ID=$(git describe --always --dirty)\" >> $GITHUB_ENV\necho \"GIT_BRANCH_NAME=$(echo ${{ github.ref }} | cut -d/ -f3- | sed \"s/[^[:alnum:]]//g\")\" >> $GITHUB_ENV\necho \"DOCKER_GID=$(getent group docker | cut -d: -f3)\" >> $GITHUB_ENV\n" [2736,2993]
                            OBJECT [2995,3061]
                                FIELD [2996,3039]
                                    String: "name" [2996,3002]
                                    STRING [3003,3039]
                                        String: "Build the distributable containers" [3003,3039]
                                FIELD [3040,3060]
                                    String: "run" [3040,3045]
                                    STRING [3046,3060]
                                        String: "make build\n" [3046,3060]
                            OBJECT [3062,3229]
                                FIELD [3063,3097]
                                    String: "name" [3063,3069]
                                    STRING [3070,3097]
                                        String: "Configure AWS credentials" [3070,3097]
                                FIELD [3098,3147]
                                    String: "uses" [3098,3104]
                                    STRING [3105,3147]
                                        String: "aws-actions/configure-aws-credentials@v1" [3105,3147]
                                FIELD [3148,3228]
                                    String: "with" [3148,3154]
                                    OBJECT [3155,3228]
                                        FIELD [3156,3202]
                                            String: "role-to-assume" [3156,3172]
                                            STRING [3173,3202]
                                                String: "${{ secrets.AWS_ROLE_ARN }}" [3173,3202]
                                        FIELD [3203,3227]
                                            String: "aws-region" [3203,3215]
                                            STRING [3216,3227]
                                                String: "us-east-1" [3216,3227]
                            OBJECT [3230,4175]
                                FIELD [3231,3251]
                                    String: "name" [3231,3237]
                                    STRING [3238,3251]
                                        String: "Push to ECR" [3238,3251]
                                FIELD [3252,4174]
                                    String: "run" [3252,3257]
                                    STRING [3258,4174]
                                        String: "sudo apt-get update\nsudo apt-get install -y retry\nretry -t 5 -- /bin/bash -c 'aws ecr-public get-login-password --region us-east-1 | docker login --username AWS --password-stdin public.ecr.aws/diag-nijmegen/grand-challenge/web-base'\nretry -t 5 -- make push_web_base\nretry -t 5 -- /bin/bash -c 'aws ecr-public get-login-password --region us-east-1 | docker login --username AWS --password-stdin public.ecr.aws/diag-nijmegen/grand-challenge/web-test-base'\nretry -t 5 -- make push_web_test_base\nretry -t 5 -- /bin/bash -c 'aws ecr-public get-login-password --region us-east-1 | docker login --username AWS --password-stdin public.ecr.aws/diag-nijmegen/grand-challenge/web'\nretry -t 5 -- make push_web\nretry -t 5 -- /bin/bash -c 'aws ecr-public get-login-password --region us-east-1 | docker login --username AWS --password-stdin public.ecr.aws/diag-nijmegen/grand-challenge/http'\nretry -t 5 -- make push_http" [3258,4174]