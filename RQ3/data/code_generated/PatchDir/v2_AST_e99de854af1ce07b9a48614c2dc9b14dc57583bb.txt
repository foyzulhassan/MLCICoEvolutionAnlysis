OBJECT [0,9936]
    FIELD [1,16]
        String: "name" [1,7]
        STRING [8,16]
            String: "Master" [8,16]
    FIELD [17,132]
        String: "on" [17,21]
        OBJECT [22,132]
            FIELD [23,53]
                String: "push" [23,29]
                OBJECT [30,53]
                    FIELD [31,52]
                        String: "branches" [31,41]
                        ARRAY [42,52]
                            STRING [43,51]
                                String: "master" [43,51]
            FIELD [54,87]
                String: "release" [54,63]
                OBJECT [64,87]
                    FIELD [65,86]
                        String: "types" [65,72]
                        ARRAY [73,86]
                            STRING [74,85]
                                String: "published" [74,85]
            FIELD [88,131]
                String: "schedule" [88,98]
                ARRAY [99,131]
                    OBJECT [100,130]
                        FIELD [101,129]
                            String: "cron" [101,107]
                            STRING [108,129]
                                String: "37 11 * * 1,2,3,4,5" [108,129]
    FIELD [133,9935]
        String: "jobs" [133,139]
        OBJECT [140,9935]
            FIELD [141,441]
                String: "gpu_checks" [141,153]
                OBJECT [154,441]
                    FIELD [155,174]
                        String: "name" [155,161]
                        STRING [162,174]
                            String: "GPU Checks" [162,174]
                    FIELD [175,221]
                        String: "if" [175,179]
                        STRING [180,221]
                            String: "github.repository == 'allenai/allennlp'" [180,221]
                    FIELD [222,253]
                        String: "runs-on" [222,231]
                        ARRAY [232,253]
                            STRING [233,246]
                                String: "self-hosted" [233,246]
                            STRING [247,252]
                                String: "GPU" [247,252]
                    FIELD [254,440]
                        String: "steps" [254,261]
                        ARRAY [262,440]
                            OBJECT [263,293]
                                FIELD [264,292]
                                    String: "uses" [264,270]
                                    STRING [271,292]
                                        String: "actions/checkout@v2" [271,292]
                            OBJECT [294,354]
                                FIELD [295,320]
                                    String: "name" [295,301]
                                    STRING [302,320]
                                        String: "Build test image" [302,320]
                                FIELD [321,353]
                                    String: "run" [321,326]
                                    STRING [327,353]
                                        String: "make docker-test-image\n" [327,353]
                            OBJECT [355,439]
                                FIELD [356,378]
                                    String: "name" [356,362]
                                    STRING [363,378]
                                        String: "Run GPU tests" [363,378]
                                FIELD [379,438]
                                    String: "run" [379,384]
                                    STRING [385,438]
                                        String: "docker run --rm --gpus 2 allennlp/test 'gpu-test'\n" [385,438]
            FIELD [442,1803]
                String: "check_core" [442,454]
                OBJECT [455,1803]
                    FIELD [456,475]
                        String: "name" [456,462]
                        STRING [463,475]
                            String: "Check Core" [463,475]
                    FIELD [476,501]
                        String: "runs-on" [476,485]
                        STRING [486,501]
                            String: "ubuntu-latest" [486,501]
                    FIELD [502,548]
                        String: "strategy" [502,512]
                        OBJECT [513,548]
                            FIELD [514,547]
                                String: "matrix" [514,522]
                                OBJECT [523,547]
                                    FIELD [524,546]
                                        String: "python" [524,532]
                                        ARRAY [533,546]
                                            STRING [534,539]
                                                String: "3.6" [534,539]
                                            STRING [540,545]
                                                String: "3.7" [540,545]
                    FIELD [549,1802]
                        String: "steps" [549,556]
                        ARRAY [557,1802]
                            OBJECT [558,588]
                                FIELD [559,587]
                                    String: "uses" [559,565]
                                    STRING [566,587]
                                        String: "actions/checkout@v2" [566,587]
                            OBJECT [589,694]
                                FIELD [590,611]
                                    String: "name" [590,596]
                                    STRING [597,611]
                                        String: "Setup Python" [597,611]
                                FIELD [612,644]
                                    String: "uses" [612,618]
                                    STRING [619,644]
                                        String: "actions/setup-python@v1" [619,644]
                                FIELD [645,693]
                                    String: "with" [645,651]
                                    OBJECT [652,693]
                                        FIELD [653,692]
                                            String: "python-version" [653,669]
                                            STRING [670,692]
                                                String: "${{ matrix.python }}" [670,692]
                            OBJECT [695,894]
                                FIELD [696,721]
                                    String: "uses" [696,702]
                                    STRING [703,721]
                                        String: "actions/cache@v1" [703,721]
                                FIELD [722,893]
                                    String: "with" [722,728]
                                    OBJECT [729,893]
                                        FIELD [730,764]
                                            String: "path" [730,736]
                                            STRING [737,764]
                                                String: "${{ env.pythonLocation }}" [737,764]
                                        FIELD [765,892]
                                            String: "key" [765,770]
                                            STRING [771,892]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [771,892]
                            OBJECT [895,949]
                                FIELD [896,925]
                                    String: "name" [896,902]
                                    STRING [903,925]
                                        String: "Install requirements" [903,925]
                                FIELD [926,948]
                                    String: "run" [926,931]
                                    STRING [932,948]
                                        String: "make install\n" [932,948]
                            OBJECT [950,992]
                                FIELD [951,970]
                                    String: "name" [951,957]
                                    STRING [958,970]
                                        String: "Debug info" [958,970]
                                FIELD [971,991]
                                    String: "run" [971,976]
                                    STRING [977,991]
                                        String: "pip freeze\n" [977,991]
                            OBJECT [993,1028]
                                FIELD [994,1007]
                                    String: "name" [994,1000]
                                    STRING [1001,1007]
                                        String: "Lint" [1001,1007]
                                FIELD [1008,1027]
                                    String: "run" [1008,1013]
                                    STRING [1014,1027]
                                        String: "make lint\n" [1014,1027]
                            OBJECT [1029,1075]
                                FIELD [1030,1049]
                                    String: "name" [1030,1036]
                                    STRING [1037,1049]
                                        String: "Type check" [1037,1049]
                                FIELD [1050,1074]
                                    String: "run" [1050,1055]
                                    STRING [1056,1074]
                                        String: "make typecheck\n" [1056,1074]
                            OBJECT [1076,1125]
                                FIELD [1077,1095]
                                    String: "name" [1077,1083]
                                    STRING [1084,1095]
                                        String: "Run tests" [1084,1095]
                                FIELD [1096,1124]
                                    String: "run" [1096,1101]
                                    STRING [1102,1124]
                                        String: "make test-with-cov\n" [1102,1124]
                            OBJECT [1126,1602]
                                FIELD [1127,1162]
                                    String: "name" [1127,1133]
                                    STRING [1134,1162]
                                        String: "Upload coverage to Codecov" [1134,1162]
                                FIELD [1163,1192]
                                    String: "if" [1163,1167]
                                    STRING [1168,1192]
                                        String: "matrix.python == '3.7'" [1168,1192]
                                FIELD [1193,1247]
                                    String: "env" [1193,1198]
                                    OBJECT [1199,1247]
                                        FIELD [1200,1246]
                                            String: "CODECOV_TOKEN" [1200,1215]
                                            STRING [1216,1246]
                                                String: "${{ secrets.CODECOV_TOKEN }}" [1216,1246]
                                FIELD [1248,1601]
                                    String: "run" [1248,1253]
                                    STRING [1254,1601]
                                        String: "# Ignore codecov failures as the codecov server is not\n# very reliable but we don't want to report a failure\n# in the github UI just because the coverage report failed to\n# be published.\n# This will also fail for forked repositories since the secret token won't\n# be available.\ncodecov -t $CODECOV_TOKEN || echo \"codecov upload failed\"\n" [1254,1601]
                            OBJECT [1603,1801]
                                FIELD [1604,1621]
                                    String: "name" [1604,1610]
                                    STRING [1611,1621]
                                        String: "Clean up" [1611,1621]
                                FIELD [1622,1637]
                                    String: "if" [1622,1626]
                                    STRING [1627,1637]
                                        String: "always()" [1627,1637]
                                FIELD [1638,1800]
                                    String: "run" [1638,1643]
                                    STRING [1644,1800]
                                        String: "# Could run into issues with the cache if we don't uninstall the editable.\n# See https://github.com/pypa/pip/issues/4537.\npip uninstall --yes allennlp\n" [1644,1800]
            FIELD [1804,2787]
                String: "check_models" [1804,1818]
                OBJECT [1819,2787]
                    FIELD [1820,1841]
                        String: "name" [1820,1826]
                        STRING [1827,1841]
                            String: "Check Models" [1827,1841]
                    FIELD [1842,1867]
                        String: "runs-on" [1842,1851]
                        STRING [1852,1867]
                            String: "ubuntu-latest" [1852,1867]
                    FIELD [1868,1914]
                        String: "strategy" [1868,1878]
                        OBJECT [1879,1914]
                            FIELD [1880,1913]
                                String: "matrix" [1880,1888]
                                OBJECT [1889,1913]
                                    FIELD [1890,1912]
                                        String: "python" [1890,1898]
                                        ARRAY [1899,1912]
                                            STRING [1900,1905]
                                                String: "3.6" [1900,1905]
                                            STRING [1906,1911]
                                                String: "3.7" [1906,1911]
                    FIELD [1915,2786]
                        String: "steps" [1915,1922]
                        ARRAY [1923,2786]
                            OBJECT [1924,1954]
                                FIELD [1925,1953]
                                    String: "uses" [1925,1931]
                                    STRING [1932,1953]
                                        String: "actions/checkout@v2" [1932,1953]
                            OBJECT [1955,2060]
                                FIELD [1956,1977]
                                    String: "name" [1956,1962]
                                    STRING [1963,1977]
                                        String: "Setup Python" [1963,1977]
                                FIELD [1978,2010]
                                    String: "uses" [1978,1984]
                                    STRING [1985,2010]
                                        String: "actions/setup-python@v1" [1985,2010]
                                FIELD [2011,2059]
                                    String: "with" [2011,2017]
                                    OBJECT [2018,2059]
                                        FIELD [2019,2058]
                                            String: "python-version" [2019,2035]
                                            STRING [2036,2058]
                                                String: "${{ matrix.python }}" [2036,2058]
                            OBJECT [2061,2260]
                                FIELD [2062,2087]
                                    String: "uses" [2062,2068]
                                    STRING [2069,2087]
                                        String: "actions/cache@v1" [2069,2087]
                                FIELD [2088,2259]
                                    String: "with" [2088,2094]
                                    OBJECT [2095,2259]
                                        FIELD [2096,2130]
                                            String: "path" [2096,2102]
                                            STRING [2103,2130]
                                                String: "${{ env.pythonLocation }}" [2103,2130]
                                        FIELD [2131,2258]
                                            String: "key" [2131,2136]
                                            STRING [2137,2258]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [2137,2258]
                            OBJECT [2261,2315]
                                FIELD [2262,2291]
                                    String: "name" [2262,2268]
                                    STRING [2269,2291]
                                        String: "Install requirements" [2269,2291]
                                FIELD [2292,2314]
                                    String: "run" [2292,2297]
                                    STRING [2298,2314]
                                        String: "make install\n" [2298,2314]
                            OBJECT [2316,2358]
                                FIELD [2317,2336]
                                    String: "name" [2317,2323]
                                    STRING [2324,2336]
                                        String: "Debug info" [2324,2336]
                                FIELD [2337,2357]
                                    String: "run" [2337,2342]
                                    STRING [2343,2357]
                                        String: "pip freeze\n" [2343,2357]
                            OBJECT [2359,2603]
                                FIELD [2360,2397]
                                    String: "name" [2360,2366]
                                    STRING [2367,2397]
                                        String: "Pull and install models repo" [2367,2397]
                                FIELD [2398,2436]
                                    String: "env" [2398,2403]
                                    OBJECT [2404,2436]
                                        FIELD [2405,2435]
                                            String: "ALLENNLP_VERSION_OVERRIDE" [2405,2432]
                                            STRING [2433,2435]
                                                String: "" [2433,2435]
                                FIELD [2437,2602]
                                    String: "run" [2437,2442]
                                    STRING [2443,2602]
                                        String: "git clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models && pip install --upgrade --upgrade-strategy eager -e . -r dev-requirements.txt\n" [2443,2602]
                            OBJECT [2604,2673]
                                FIELD [2605,2630]
                                    String: "name" [2605,2611]
                                    STRING [2612,2630]
                                        String: "Run models tests" [2612,2630]
                                FIELD [2631,2672]
                                    String: "run" [2631,2636]
                                    STRING [2637,2672]
                                        String: "cd allennlp-models && make test\n" [2637,2672]
                            OBJECT [2674,2785]
                                FIELD [2675,2692]
                                    String: "name" [2675,2681]
                                    STRING [2682,2692]
                                        String: "Clean up" [2682,2692]
                                FIELD [2693,2708]
                                    String: "if" [2693,2697]
                                    STRING [2698,2708]
                                        String: "always()" [2698,2708]
                                FIELD [2709,2784]
                                    String: "run" [2709,2714]
                                    STRING [2715,2784]
                                        String: "pip uninstall --yes allennlp\npip uninstall --yes allennlp_models\n" [2715,2784]
            FIELD [2788,4591]
                String: "build_package" [2788,2803]
                OBJECT [2804,4591]
                    FIELD [2805,2827]
                        String: "name" [2805,2811]
                        STRING [2812,2827]
                            String: "Build Package" [2812,2827]
                    FIELD [2828,2853]
                        String: "runs-on" [2828,2837]
                        STRING [2838,2853]
                            String: "ubuntu-latest" [2838,2853]
                    FIELD [2854,4590]
                        String: "steps" [2854,2861]
                        ARRAY [2862,4590]
                            OBJECT [2863,2893]
                                FIELD [2864,2892]
                                    String: "uses" [2864,2870]
                                    STRING [2871,2892]
                                        String: "actions/checkout@v2" [2871,2892]
                            OBJECT [2894,2980]
                                FIELD [2895,2916]
                                    String: "name" [2895,2901]
                                    STRING [2902,2916]
                                        String: "Setup Python" [2902,2916]
                                FIELD [2917,2949]
                                    String: "uses" [2917,2923]
                                    STRING [2924,2949]
                                        String: "actions/setup-python@v1" [2924,2949]
                                FIELD [2950,2979]
                                    String: "with" [2950,2956]
                                    OBJECT [2957,2979]
                                        FIELD [2958,2978]
                                            String: "python-version" [2958,2974]
                                            NUMBER [2975,2978]
                                                Number: 3.7 [2975,2978]
                            OBJECT [2981,3180]
                                FIELD [2982,3007]
                                    String: "uses" [2982,2988]
                                    STRING [2989,3007]
                                        String: "actions/cache@v1" [2989,3007]
                                FIELD [3008,3179]
                                    String: "with" [3008,3014]
                                    OBJECT [3015,3179]
                                        FIELD [3016,3050]
                                            String: "path" [3016,3022]
                                            STRING [3023,3050]
                                                String: "${{ env.pythonLocation }}" [3023,3050]
                                        FIELD [3051,3178]
                                            String: "key" [3051,3056]
                                            STRING [3057,3178]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [3057,3178]
                            OBJECT [3181,3235]
                                FIELD [3182,3211]
                                    String: "name" [3182,3188]
                                    STRING [3189,3211]
                                        String: "Install requirements" [3189,3211]
                                FIELD [3212,3234]
                                    String: "run" [3212,3217]
                                    STRING [3218,3234]
                                        String: "make install\n" [3218,3234]
                            OBJECT [3236,3871]
                                FIELD [3237,3275]
                                    String: "name" [3237,3243]
                                    STRING [3244,3275]
                                        String: "Check and set nightly version" [3244,3275]
                                FIELD [3276,3314]
                                    String: "if" [3276,3280]
                                    STRING [3281,3314]
                                        String: "github.event_name == 'schedule'" [3281,3314]
                                FIELD [3315,3870]
                                    String: "run" [3315,3320]
                                    STRING [3321,3870]
                                        String: "# Verify that current version is ahead of the last release.\nLATEST=$(scripts/get_version.py latest)\nCURRENT=$(scripts/get_version.py current)\nif [ \"$CURRENT\" == \"$LATEST\" ]; then\n    echo \"Current version needs to be ahead of latest release in order to build nightly release\";\n    exit 1;\nfi\n# This is somewhat bizarre, but you can't set env variables to bash\n# commands in the action workflow - so we have to use this odd way of\n# exporting a variable instead.\necho ::set-env name=ALLENNLP_VERSION_SUFFIX::.dev$(date -u +%Y%m%d)\n" [3321,3870]
                            OBJECT [3872,4226]
                                FIELD [3873,3917]
                                    String: "name" [3873,3879]
                                    STRING [3880,3917]
                                        String: "Check version and release tag match" [3880,3917]
                                FIELD [3918,3955]
                                    String: "if" [3918,3922]
                                    STRING [3923,3955]
                                        String: "github.event_name == 'release'" [3923,3955]
                                FIELD [3956,4225]
                                    String: "run" [3956,3961]
                                    STRING [3962,4225]
                                        String: "# Remove 'refs/tags/' to get the actual tag from the release.\nTAG=${GITHUB_REF#refs/tags/};\nVERSION=$(scripts/get_version.py current)\nif [ \"$TAG\" != \"$VERSION\" ]; then\n    echo \"Bad tag or version. Tag $TAG does not match $VERSION\";\n    exit 1;\nfi\n" [3962,4225]
                            OBJECT [4227,4404]
                                FIELD [4228,4255]
                                    String: "name" [4228,4234]
                                    STRING [4235,4255]
                                        String: "Build core package" [4235,4255]
                                FIELD [4256,4403]
                                    String: "run" [4256,4261]
                                    STRING [4262,4403]
                                        String: "echo \"Building packages for core release\"\n# Just print out the version for debugging.\nmake version\npython setup.py bdist_wheel sdist\n" [4262,4403]
                            OBJECT [4405,4514]
                                FIELD [4406,4432]
                                    String: "name" [4406,4412]
                                    STRING [4413,4432]
                                        String: "Save core package" [4413,4432]
                                FIELD [4433,4468]
                                    String: "uses" [4433,4439]
                                    STRING [4440,4468]
                                        String: "actions/upload-artifact@v1" [4440,4468]
                                FIELD [4469,4513]
                                    String: "with" [4469,4475]
                                    OBJECT [4476,4513]
                                        FIELD [4477,4498]
                                            String: "name" [4477,4483]
                                            STRING [4484,4498]
                                                String: "core-package" [4484,4498]
                                        FIELD [4499,4512]
                                            String: "path" [4499,4505]
                                            STRING [4506,4512]
                                                String: "dist" [4506,4512]
                            OBJECT [4515,4589]
                                FIELD [4516,4533]
                                    String: "name" [4516,4522]
                                    STRING [4523,4533]
                                        String: "Clean up" [4523,4533]
                                FIELD [4534,4549]
                                    String: "if" [4534,4538]
                                    STRING [4539,4549]
                                        String: "always()" [4539,4549]
                                FIELD [4550,4588]
                                    String: "run" [4550,4555]
                                    STRING [4556,4588]
                                        String: "pip uninstall --yes allennlp\n" [4556,4588]
            FIELD [4592,5173]
                String: "test_package" [4592,4606]
                OBJECT [4607,5173]
                    FIELD [4608,4629]
                        String: "name" [4608,4614]
                        STRING [4615,4629]
                            String: "Test Package" [4615,4629]
                    FIELD [4630,4655]
                        String: "needs" [4630,4637]
                        ARRAY [4638,4655]
                            STRING [4639,4654]
                                String: "build_package" [4639,4654]
                    FIELD [4656,4681]
                        String: "runs-on" [4656,4665]
                        STRING [4666,4681]
                            String: "ubuntu-latest" [4666,4681]
                    FIELD [4682,4728]
                        String: "strategy" [4682,4692]
                        OBJECT [4693,4728]
                            FIELD [4694,4727]
                                String: "matrix" [4694,4702]
                                OBJECT [4703,4727]
                                    FIELD [4704,4726]
                                        String: "python" [4704,4712]
                                        ARRAY [4713,4726]
                                            STRING [4714,4719]
                                                String: "3.6" [4714,4719]
                                            STRING [4720,4725]
                                                String: "3.7" [4720,4725]
                    FIELD [4729,5172]
                        String: "steps" [4729,4736]
                        ARRAY [4737,5172]
                            OBJECT [4738,4843]
                                FIELD [4739,4760]
                                    String: "name" [4739,4745]
                                    STRING [4746,4760]
                                        String: "Setup Python" [4746,4760]
                                FIELD [4761,4793]
                                    String: "uses" [4761,4767]
                                    STRING [4768,4793]
                                        String: "actions/setup-python@v1" [4768,4793]
                                FIELD [4794,4842]
                                    String: "with" [4794,4800]
                                    OBJECT [4801,4842]
                                        FIELD [4802,4841]
                                            String: "python-version" [4802,4818]
                                            STRING [4819,4841]
                                                String: "${{ matrix.python }}" [4819,4841]
                            OBJECT [4844,4928]
                                FIELD [4845,4874]
                                    String: "name" [4845,4851]
                                    STRING [4852,4874]
                                        String: "Install requirements" [4852,4874]
                                FIELD [4875,4927]
                                    String: "run" [4875,4880]
                                    STRING [4881,4927]
                                        String: "pip install --upgrade pip setuptools wheel\n" [4881,4927]
                            OBJECT [4929,5044]
                                FIELD [4930,4960]
                                    String: "name" [4930,4936]
                                    STRING [4937,4960]
                                        String: "Download core package" [4937,4960]
                                FIELD [4961,4998]
                                    String: "uses" [4961,4967]
                                    STRING [4968,4998]
                                        String: "actions/download-artifact@v1" [4968,4998]
                                FIELD [4999,5043]
                                    String: "with" [4999,5005]
                                    OBJECT [5006,5043]
                                        FIELD [5007,5028]
                                            String: "name" [5007,5013]
                                            STRING [5014,5028]
                                                String: "core-package" [5014,5028]
                                        FIELD [5029,5042]
                                            String: "path" [5029,5035]
                                            STRING [5036,5042]
                                                String: "dist" [5036,5042]
                            OBJECT [5045,5115]
                                FIELD [5046,5075]
                                    String: "name" [5046,5052]
                                    STRING [5053,5075]
                                        String: "Install core package" [5053,5075]
                                FIELD [5076,5114]
                                    String: "run" [5076,5081]
                                    STRING [5082,5114]
                                        String: "pip install $(ls dist/*.whl)\n" [5082,5114]
                            OBJECT [5116,5171]
                                FIELD [5117,5138]
                                    String: "name" [5117,5123]
                                    STRING [5124,5138]
                                        String: "Test install" [5124,5138]
                                FIELD [5139,5170]
                                    String: "run" [5139,5144]
                                    STRING [5145,5170]
                                        String: "allennlp test-install\n" [5145,5170]
            FIELD [5174,6448]
                String: "docker" [5174,5182]
                OBJECT [5183,6448]
                    FIELD [5184,5199]
                        String: "name" [5184,5190]
                        STRING [5191,5199]
                            String: "Docker" [5191,5199]
                    FIELD [5200,5225]
                        String: "needs" [5200,5207]
                        ARRAY [5208,5225]
                            STRING [5209,5224]
                                String: "build_package" [5209,5224]
                    FIELD [5226,5251]
                        String: "runs-on" [5226,5235]
                        STRING [5236,5251]
                            String: "ubuntu-latest" [5236,5251]
                    FIELD [5252,6447]
                        String: "steps" [5252,5259]
                        ARRAY [5260,6447]
                            OBJECT [5261,5291]
                                FIELD [5262,5290]
                                    String: "uses" [5262,5268]
                                    STRING [5269,5290]
                                        String: "actions/checkout@v2" [5269,5290]
                            OBJECT [5292,5407]
                                FIELD [5293,5323]
                                    String: "name" [5293,5299]
                                    STRING [5300,5323]
                                        String: "Download core package" [5300,5323]
                                FIELD [5324,5361]
                                    String: "uses" [5324,5330]
                                    STRING [5331,5361]
                                        String: "actions/download-artifact@v1" [5331,5361]
                                FIELD [5362,5406]
                                    String: "with" [5362,5368]
                                    OBJECT [5369,5406]
                                        FIELD [5370,5391]
                                            String: "name" [5370,5376]
                                            STRING [5377,5391]
                                                String: "core-package" [5377,5391]
                                        FIELD [5392,5405]
                                            String: "path" [5392,5398]
                                            STRING [5399,5405]
                                                String: "dist" [5399,5405]
                            OBJECT [5408,5478]
                                FIELD [5409,5429]
                                    String: "name" [5409,5415]
                                    STRING [5416,5429]
                                        String: "Build image" [5416,5429]
                                FIELD [5430,5477]
                                    String: "run" [5430,5435]
                                    STRING [5436,5477]
                                        String: "make docker-image DOCKER_TAG=allennlp\n" [5436,5477]
                            OBJECT [5479,5548]
                                FIELD [5480,5499]
                                    String: "name" [5480,5486]
                                    STRING [5487,5499]
                                        String: "Test image" [5487,5499]
                                FIELD [5500,5547]
                                    String: "run" [5500,5505]
                                    STRING [5506,5547]
                                        String: "docker run --rm allennlp test-install\n" [5506,5547]
                            OBJECT [5549,5982]
                                FIELD [5550,5578]
                                    String: "name" [5550,5556]
                                    STRING [5557,5578]
                                        String: "Upload master image" [5557,5578]
                                FIELD [5579,5656]
                                    String: "if" [5579,5583]
                                    STRING [5584,5656]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'push'" [5584,5656]
                                FIELD [5657,5981]
                                    String: "run" [5657,5662]
                                    STRING [5663,5981]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\n\n# Tag with current commit and 'latest'.\ndocker tag allennlp allennlp/commit:$GITHUB_SHA\ndocker tag allennlp allennlp/commit:latest\n\n# Push both tags.\ndocker push allennlp/commit:$GITHUB_SHA\ndocker push allennlp/commit:latest\n" [5663,5981]
                            OBJECT [5983,6446]
                                FIELD [5984,6013]
                                    String: "name" [5984,5990]
                                    STRING [5991,6013]
                                        String: "Upload release image" [5991,6013]
                                FIELD [6014,6094]
                                    String: "if" [6014,6018]
                                    STRING [6019,6094]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [6019,6094]
                                FIELD [6095,6445]
                                    String: "run" [6095,6100]
                                    STRING [6101,6445]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\nTAG=${GITHUB_REF#refs/tags/};\n\n# Tag with release version and 'latest'.\ndocker tag allennlp allennlp/allennlp:$TAG\ndocker tag allennlp allennlp/allennlp:latest\n\n# Push both tags.\ndocker push allennlp/allennlp:$TAG\ndocker push allennlp/allennlp:latest\n" [6101,6445]
            FIELD [6449,9267]
                String: "docs" [6449,6455]
                OBJECT [6456,9267]
                    FIELD [6457,6470]
                        String: "name" [6457,6463]
                        STRING [6464,6470]
                            String: "Docs" [6464,6470]
                    FIELD [6471,6496]
                        String: "runs-on" [6471,6480]
                        STRING [6481,6496]
                            String: "ubuntu-latest" [6481,6496]
                    FIELD [6497,9266]
                        String: "steps" [6497,6504]
                        ARRAY [6505,9266]
                            OBJECT [6506,6536]
                                FIELD [6507,6535]
                                    String: "uses" [6507,6513]
                                    STRING [6514,6535]
                                        String: "actions/checkout@v1" [6514,6535]
                            OBJECT [6537,6711]
                                FIELD [6538,6566]
                                    String: "name" [6538,6544]
                                    STRING [6545,6566]
                                        String: "Setup SSH Client 🔑" [6545,6566]
                                FIELD [6567,6613]
                                    String: "if" [6567,6571]
                                    STRING [6572,6613]
                                        String: "github.repository == 'allenai/allennlp'" [6572,6613]
                                FIELD [6614,6650]
                                    String: "uses" [6614,6620]
                                    STRING [6621,6650]
                                        String: "webfactory/ssh-agent@v0.2.0" [6621,6650]
                                FIELD [6651,6710]
                                    String: "with" [6651,6657]
                                    OBJECT [6658,6710]
                                        FIELD [6659,6709]
                                            String: "ssh-private-key" [6659,6676]
                                            STRING [6677,6709]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [6677,6709]
                            OBJECT [6712,6798]
                                FIELD [6713,6734]
                                    String: "name" [6713,6719]
                                    STRING [6720,6734]
                                        String: "Setup Python" [6720,6734]
                                FIELD [6735,6767]
                                    String: "uses" [6735,6741]
                                    STRING [6742,6767]
                                        String: "actions/setup-python@v1" [6742,6767]
                                FIELD [6768,6797]
                                    String: "with" [6768,6774]
                                    OBJECT [6775,6797]
                                        FIELD [6776,6796]
                                            String: "python-version" [6776,6792]
                                            NUMBER [6793,6796]
                                                Number: 3.7 [6793,6796]
                            OBJECT [6799,6998]
                                FIELD [6800,6825]
                                    String: "uses" [6800,6806]
                                    STRING [6807,6825]
                                        String: "actions/cache@v1" [6807,6825]
                                FIELD [6826,6997]
                                    String: "with" [6826,6832]
                                    OBJECT [6833,6997]
                                        FIELD [6834,6868]
                                            String: "path" [6834,6840]
                                            STRING [6841,6868]
                                                String: "${{ env.pythonLocation }}" [6841,6868]
                                        FIELD [6869,6996]
                                            String: "key" [6869,6874]
                                            STRING [6875,6996]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [6875,6996]
                            OBJECT [6999,7053]
                                FIELD [7000,7029]
                                    String: "name" [7000,7006]
                                    STRING [7007,7029]
                                        String: "Install requirements" [7007,7029]
                                FIELD [7030,7052]
                                    String: "run" [7030,7035]
                                    STRING [7036,7052]
                                        String: "make install\n" [7036,7052]
                            OBJECT [7054,7096]
                                FIELD [7055,7074]
                                    String: "name" [7055,7061]
                                    STRING [7062,7074]
                                        String: "Debug info" [7062,7074]
                                FIELD [7075,7095]
                                    String: "run" [7075,7080]
                                    STRING [7081,7095]
                                        String: "pip freeze\n" [7081,7095]
                            OBJECT [7097,7152]
                                FIELD [7098,7117]
                                    String: "name" [7098,7104]
                                    STRING [7105,7117]
                                        String: "Build docs" [7105,7117]
                                FIELD [7118,7151]
                                    String: "run" [7118,7123]
                                    STRING [7124,7151]
                                        String: "./scripts/build_docs.sh\n" [7124,7151]
                            OBJECT [7153,7379]
                                FIELD [7154,7176]
                                    String: "name" [7154,7160]
                                    STRING [7161,7176]
                                        String: "Configure Git" [7161,7176]
                                FIELD [7177,7223]
                                    String: "if" [7177,7181]
                                    STRING [7182,7223]
                                        String: "github.repository == 'allenai/allennlp'" [7182,7223]
                                FIELD [7224,7378]
                                    String: "run" [7224,7229]
                                    STRING [7230,7378]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [7230,7378]
                            OBJECT [7380,7593]
                                FIELD [7381,7408]
                                    String: "name" [7381,7387]
                                    STRING [7388,7408]
                                        String: "Set target folders" [7388,7408]
                                FIELD [7409,7592]
                                    String: "run" [7409,7414]
                                    STRING [7415,7592]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"::set-env name=DOCS_FOLDER::${GITHUB_REF#refs/tags/}\"\nelse\n    echo \"::set-env name=DOCS_FOLDER::master\";\nfi\n" [7415,7592]
                            OBJECT [7594,8037]
                                FIELD [7595,7614]
                                    String: "name" [7595,7601]
                                    STRING [7602,7614]
                                        String: "Stage docs" [7602,7614]
                                FIELD [7615,7696]
                                    String: "if" [7615,7619]
                                    STRING [7620,7696]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name != 'schedule'" [7620,7696]
                                FIELD [7697,8036]
                                    String: "run" [7697,7702]
                                    STRING [7703,8036]
                                        String: "echo \"Staging docs to $DOCS_FOLDER\"\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DOCS_FOLDER/\nmkdir -p ~/allennlp-docs/$DOCS_FOLDER\ncp -r site/* ~/allennlp-docs/$DOCS_FOLDER\n" [7703,8036]
                            OBJECT [8038,8955]
                                FIELD [8039,8064]
                                    String: "name" [8039,8045]
                                    STRING [8046,8064]
                                        String: "Update shortcuts" [8046,8064]
                                FIELD [8065,8145]
                                    String: "if" [8065,8069]
                                    STRING [8070,8145]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [8070,8145]
                                FIELD [8146,8954]
                                    String: "run" [8146,8151]
                                    STRING [8152,8954]
                                        String: "# Fail immediately if any step fails.\nset -e\n\nLATEST=$(./scripts/get_version.py latest)\nSTABLE=$(./scripts/get_version.py stable)\n\ncd ~/allennlp-docs/\n\necho \"Updating latest/index.html to point to $LATEST\"\nmkdir -p latest\ncat >latest/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${LATEST}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${LATEST}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n\necho \"Updating stable/index.html to point to $STABLE\"\nmkdir -p stable\ncat >stable/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${STABLE}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${STABLE}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n" [8152,8954]
                            OBJECT [8956,9190]
                                FIELD [8957,8977]
                                    String: "name" [8957,8963]
                                    STRING [8964,8977]
                                        String: "Deploy docs" [8964,8977]
                                FIELD [8978,9059]
                                    String: "if" [8978,8982]
                                    STRING [8983,9059]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name != 'schedule'" [8983,9059]
                                FIELD [9060,9189]
                                    String: "run" [9060,9065]
                                    STRING [9066,9189]
                                        String: "# And push them up to GitHub\ncd ~/allennlp-docs/\ngit add -A\ngit commit -m \"automated update of the docs\"\ngit push\n" [9066,9189]
                            OBJECT [9191,9265]
                                FIELD [9192,9209]
                                    String: "name" [9192,9198]
                                    STRING [9199,9209]
                                        String: "Clean up" [9199,9209]
                                FIELD [9210,9225]
                                    String: "if" [9210,9214]
                                    STRING [9215,9225]
                                        String: "always()" [9215,9225]
                                FIELD [9226,9264]
                                    String: "run" [9226,9231]
                                    STRING [9232,9264]
                                        String: "pip uninstall --yes allennlp\n" [9232,9264]
            FIELD [9268,9934]
                String: "publish" [9268,9277]
                OBJECT [9278,9934]
                    FIELD [9279,9292]
                        String: "name" [9279,9285]
                        STRING [9286,9292]
                            String: "PyPI" [9286,9292]
                    FIELD [9293,9390]
                        String: "needs" [9293,9300]
                        ARRAY [9301,9390]
                            STRING [9302,9314]
                                String: "check_core" [9302,9314]
                            STRING [9315,9329]
                                String: "check_models" [9315,9329]
                            STRING [9330,9342]
                                String: "gpu_checks" [9330,9342]
                            STRING [9343,9358]
                                String: "build_package" [9343,9358]
                            STRING [9359,9373]
                                String: "test_package" [9359,9373]
                            STRING [9374,9382]
                                String: "docker" [9374,9382]
                            STRING [9383,9389]
                                String: "docs" [9383,9389]
                    FIELD [9391,9468]
                        String: "if" [9391,9395]
                        STRING [9396,9468]
                            String: "github.repository == 'allenai/allennlp' && github.event_name != 'push'" [9396,9468]
                    FIELD [9469,9494]
                        String: "runs-on" [9469,9478]
                        STRING [9479,9494]
                            String: "ubuntu-latest" [9479,9494]
                    FIELD [9495,9933]
                        String: "steps" [9495,9502]
                        ARRAY [9503,9933]
                            OBJECT [9504,9534]
                                FIELD [9505,9533]
                                    String: "uses" [9505,9511]
                                    STRING [9512,9533]
                                        String: "actions/checkout@v2" [9512,9533]
                            OBJECT [9535,9621]
                                FIELD [9536,9557]
                                    String: "name" [9536,9542]
                                    STRING [9543,9557]
                                        String: "Setup Python" [9543,9557]
                                FIELD [9558,9590]
                                    String: "uses" [9558,9564]
                                    STRING [9565,9590]
                                        String: "actions/setup-python@v1" [9565,9590]
                                FIELD [9591,9620]
                                    String: "with" [9591,9597]
                                    OBJECT [9598,9620]
                                        FIELD [9599,9619]
                                            String: "python-version" [9599,9615]
                                            NUMBER [9616,9619]
                                                Number: 3.7 [9616,9619]
                            OBJECT [9622,9712]
                                FIELD [9623,9652]
                                    String: "name" [9623,9629]
                                    STRING [9630,9652]
                                        String: "Install requirements" [9630,9652]
                                FIELD [9653,9711]
                                    String: "run" [9653,9658]
                                    STRING [9659,9711]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [9659,9711]
                            OBJECT [9713,9828]
                                FIELD [9714,9744]
                                    String: "name" [9714,9720]
                                    STRING [9721,9744]
                                        String: "Download core package" [9721,9744]
                                FIELD [9745,9782]
                                    String: "uses" [9745,9751]
                                    STRING [9752,9782]
                                        String: "actions/download-artifact@v1" [9752,9782]
                                FIELD [9783,9827]
                                    String: "with" [9783,9789]
                                    OBJECT [9790,9827]
                                        FIELD [9791,9812]
                                            String: "name" [9791,9797]
                                            STRING [9798,9812]
                                                String: "core-package" [9798,9812]
                                        FIELD [9813,9826]
                                            String: "path" [9813,9819]
                                            STRING [9820,9826]
                                                String: "dist" [9820,9826]
                            OBJECT [9829,9932]
                                FIELD [9830,9859]
                                    String: "name" [9830,9836]
                                    STRING [9837,9859]
                                        String: "Publish core package" [9837,9859]
                                FIELD [9860,9931]
                                    String: "run" [9860,9865]
                                    STRING [9866,9931]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [9866,9931]