OBJECT [0,8681]
    FIELD [1,35]
        String: "name" [1,7]
        STRING [8,35]
            String: "Self-hosted runner (push)" [8,35]
    FIELD [36,183]
        String: "on" [36,40]
        OBJECT [41,183]
            FIELD [42,155]
                String: "push" [42,48]
                OBJECT [49,155]
                    FIELD [50,85]
                        String: "branches" [50,60]
                        ARRAY [61,85]
                            STRING [62,70]
                                String: "master" [62,70]
                            STRING [71,77]
                                String: "ci_*" [71,77]
                            STRING [78,84]
                                String: "ci-*" [78,84]
                    FIELD [86,154]
                        String: "paths" [86,93]
                        ARRAY [94,154]
                            STRING [95,103]
                                String: "src/**" [95,103]
                            STRING [104,114]
                                String: "tests/**" [104,114]
                            STRING [115,127]
                                String: ".github/**" [115,127]
                            STRING [128,142]
                                String: "templates/**" [128,142]
                            STRING [143,153]
                                String: "utils/**" [143,153]
            FIELD [156,182]
                String: "repository_dispatch" [156,177]
                NULL [178,182]
    FIELD [184,300]
        String: "env" [184,189]
        OBJECT [190,300]
            FIELD [191,213]
                String: "HF_HOME" [191,200]
                STRING [201,213]
                    String: "/mnt/cache" [201,213]
            FIELD [214,239]
                String: "TRANSFORMERS_IS_CI" [214,234]
                TRUE [235,239]
            FIELD [240,259]
                String: "OMP_NUM_THREADS" [240,257]
                NUMBER [258,259]
                    Number: 8 [258,259]
            FIELD [260,279]
                String: "MKL_NUM_THREADS" [260,277]
                NUMBER [278,279]
                    Number: 8 [278,279]
            FIELD [280,299]
                String: "PYTEST_TIMEOUT" [280,296]
                NUMBER [297,299]
                    Number: 60 [297,299]
    FIELD [301,8680]
        String: "jobs" [301,307]
        OBJECT [308,8680]
            FIELD [309,1828]
                String: "run_tests_torch_gpu" [309,330]
                OBJECT [331,1828]
                    FIELD [332,383]
                        String: "runs-on" [332,341]
                        ARRAY [342,383]
                            STRING [343,356]
                                String: "self-hosted" [343,356]
                            STRING [357,369]
                                String: "docker-gpu" [357,369]
                            STRING [370,382]
                                String: "single-gpu" [370,382]
                    FIELD [384,550]
                        String: "container" [384,395]
                        OBJECT [396,550]
                            FIELD [397,452]
                                String: "image" [397,404]
                                STRING [405,452]
                                    String: "pytorch/pytorch:1.9.0-cuda11.1-cudnn8-runtime" [405,452]
                            FIELD [453,549]
                                String: "options" [453,462]
                                STRING [463,549]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [463,549]
                    FIELD [551,1827]
                        String: "steps" [551,558]
                        ARRAY [559,1827]
                            OBJECT [560,900]
                                FIELD [561,590]
                                    String: "name" [561,567]
                                    STRING [568,590]
                                        String: "Install dependencies" [568,590]
                                FIELD [591,899]
                                    String: "run" [591,596]
                                    STRING [597,899]
                                        String: "apt -y update && apt install -y software-properties-common && apt -y update && add-apt-repository -y ppa:git-core/ppa && apt -y update && apt install -y git\napt install -y libsndfile1-dev\npip install --upgrade pip\npip install .[sklearn,testing,onnxruntime,sentencepiece,torch-speech,vision,timm]\n" [597,899]
                            OBJECT [901,981]
                                FIELD [902,926]
                                    String: "name" [902,908]
                                    STRING [909,926]
                                        String: "Launcher docker" [909,926]
                                FIELD [927,955]
                                    String: "uses" [927,933]
                                    STRING [934,955]
                                        String: "actions/checkout@v2" [934,955]
                                FIELD [956,980]
                                    String: "with" [956,962]
                                    OBJECT [963,980]
                                        FIELD [964,979]
                                            String: "fetch-depth" [964,977]
                                            NUMBER [978,979]
                                                Number: 2 [978,979]
                            OBJECT [982,1024]
                                FIELD [983,1002]
                                    String: "name" [983,989]
                                    STRING [990,1002]
                                        String: "NVIDIA-SMI" [990,1002]
                                FIELD [1003,1023]
                                    String: "run" [1003,1008]
                                    STRING [1009,1023]
                                        String: "nvidia-smi\n" [1009,1023]
                            OBJECT [1025,1108]
                                FIELD [1026,1075]
                                    String: "name" [1026,1032]
                                    STRING [1033,1075]
                                        String: "Are GPUs recognized by our DL frameworks" [1033,1075]
                                FIELD [1076,1107]
                                    String: "run" [1076,1081]
                                    STRING [1082,1107]
                                        String: "utils/print_env_pt.py\n" [1082,1107]
                            OBJECT [1109,1233]
                                FIELD [1110,1141]
                                    String: "name" [1110,1116]
                                    STRING [1117,1141]
                                        String: "Fetch the tests to run" [1117,1141]
                                FIELD [1142,1232]
                                    String: "run" [1142,1147]
                                    STRING [1148,1232]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit | tee test_preparation.txt\n" [1148,1232]
                            OBJECT [1234,1362]
                                FIELD [1235,1264]
                                    String: "name" [1235,1241]
                                    STRING [1242,1264]
                                        String: "Report fetched tests" [1242,1264]
                                FIELD [1265,1300]
                                    String: "uses" [1265,1271]
                                    STRING [1272,1300]
                                        String: "actions/upload-artifact@v2" [1272,1300]
                                FIELD [1301,1361]
                                    String: "with" [1301,1307]
                                    OBJECT [1308,1361]
                                        FIELD [1309,1330]
                                            String: "name" [1309,1315]
                                            STRING [1316,1330]
                                                String: "test_fetched" [1316,1330]
                                        FIELD [1331,1360]
                                            String: "path" [1331,1337]
                                            STRING [1338,1360]
                                                String: "test_preparation.txt" [1338,1360]
                            OBJECT [1363,1543]
                                FIELD [1364,1402]
                                    String: "name" [1364,1370]
                                    STRING [1371,1402]
                                        String: "Run all non-slow tests on GPU" [1371,1402]
                                FIELD [1403,1542]
                                    String: "run" [1403,1408]
                                    STRING [1409,1542]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 2 --dist=loadfile -v --make-reports=tests_torch_gpu $(cat test_list.txt)\nfi\n" [1409,1542]
                            OBJECT [1544,1655]
                                FIELD [1545,1575]
                                    String: "name" [1545,1551]
                                    STRING [1552,1575]
                                        String: "Failure short reports" [1552,1575]
                                FIELD [1576,1599]
                                    String: "if" [1576,1580]
                                    STRING [1581,1599]
                                        String: "${{ failure() }}" [1581,1599]
                                FIELD [1600,1654]
                                    String: "run" [1600,1605]
                                    STRING [1606,1654]
                                        String: "cat reports/tests_torch_gpu_failures_short.txt" [1606,1654]
                            OBJECT [1656,1826]
                                FIELD [1657,1694]
                                    String: "name" [1657,1663]
                                    STRING [1664,1694]
                                        String: "Test suite reports artifacts" [1664,1694]
                                FIELD [1695,1717]
                                    String: "if" [1695,1699]
                                    STRING [1700,1717]
                                        String: "${{ always() }}" [1700,1717]
                                FIELD [1718,1753]
                                    String: "uses" [1718,1724]
                                    STRING [1725,1753]
                                        String: "actions/upload-artifact@v2" [1725,1753]
                                FIELD [1754,1825]
                                    String: "with" [1754,1760]
                                    OBJECT [1761,1825]
                                        FIELD [1762,1807]
                                            String: "name" [1762,1768]
                                            STRING [1769,1807]
                                                String: "run_all_tests_torch_gpu_test_reports" [1769,1807]
                                        FIELD [1808,1824]
                                            String: "path" [1808,1814]
                                            STRING [1815,1824]
                                                String: "reports" [1815,1824]
            FIELD [1829,3591]
                String: "run_tests_flax_gpu" [1829,1849]
                OBJECT [1850,3591]
                    FIELD [1851,1907]
                        String: "runs-on" [1851,1860]
                        ARRAY [1861,1907]
                            STRING [1862,1875]
                                String: "self-hosted" [1862,1875]
                            STRING [1876,1893]
                                String: "docker-gpu-test" [1876,1893]
                            STRING [1894,1906]
                                String: "single-gpu" [1894,1906]
                    FIELD [1908,2060]
                        String: "container" [1908,1919]
                        OBJECT [1920,2060]
                            FIELD [1921,1962]
                                String: "image" [1921,1928]
                                STRING [1929,1962]
                                    String: "tensorflow/tensorflow:2.4.1-gpu" [1929,1962]
                            FIELD [1963,2059]
                                String: "options" [1963,1972]
                                STRING [1973,2059]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1973,2059]
                    FIELD [2061,3590]
                        String: "steps" [2061,2068]
                        ARRAY [2069,3590]
                            OBJECT [2070,2470]
                                FIELD [2071,2100]
                                    String: "name" [2071,2077]
                                    STRING [2078,2100]
                                        String: "Install dependencies" [2078,2100]
                                FIELD [2101,2469]
                                    String: "run" [2101,2106]
                                    STRING [2107,2469]
                                        String: "apt -y update && apt install -y software-properties-common && apt -y update && add-apt-repository -y ppa:git-core/ppa && apt -y update && apt install -y git\npip install --upgrade \"jax[cuda111]\" -f https://storage.googleapis.com/jax-releases/jax_releases.html\npip install --upgrade pip\npip install .[sklearn,testing,sentencepiece,flax,flax-speech,vision]\n" [2107,2469]
                            OBJECT [2471,2551]
                                FIELD [2472,2496]
                                    String: "name" [2472,2478]
                                    STRING [2479,2496]
                                        String: "Launcher docker" [2479,2496]
                                FIELD [2497,2525]
                                    String: "uses" [2497,2503]
                                    STRING [2504,2525]
                                        String: "actions/checkout@v2" [2504,2525]
                                FIELD [2526,2550]
                                    String: "with" [2526,2532]
                                    OBJECT [2533,2550]
                                        FIELD [2534,2549]
                                            String: "fetch-depth" [2534,2547]
                                            NUMBER [2548,2549]
                                                Number: 2 [2548,2549]
                            OBJECT [2552,2619]
                                FIELD [2553,2572]
                                    String: "name" [2553,2559]
                                    STRING [2560,2572]
                                        String: "NVIDIA-SMI" [2560,2572]
                                FIELD [2573,2597]
                                    String: "continue-on-error" [2573,2592]
                                    TRUE [2593,2597]
                                FIELD [2598,2618]
                                    String: "run" [2598,2603]
                                    STRING [2604,2618]
                                        String: "nvidia-smi\n" [2604,2618]
                            OBJECT [2620,2874]
                                FIELD [2621,2670]
                                    String: "name" [2621,2627]
                                    STRING [2628,2670]
                                        String: "Are GPUs recognized by our DL frameworks" [2628,2670]
                                FIELD [2671,2873]
                                    String: "run" [2671,2676]
                                    STRING [2677,2873]
                                        String: "python -c \"from jax.lib import xla_bridge; print('GPU available:', xla_bridge.get_backend().platform)\"\npython -c \"import jax; print('Number of GPUs available:', len(jax.local_devices()))\"\n" [2677,2873]
                            OBJECT [2875,2999]
                                FIELD [2876,2907]
                                    String: "name" [2876,2882]
                                    STRING [2883,2907]
                                        String: "Fetch the tests to run" [2883,2907]
                                FIELD [2908,2998]
                                    String: "run" [2908,2913]
                                    STRING [2914,2998]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit | tee test_preparation.txt\n" [2914,2998]
                            OBJECT [3000,3128]
                                FIELD [3001,3030]
                                    String: "name" [3001,3007]
                                    STRING [3008,3030]
                                        String: "Report fetched tests" [3008,3030]
                                FIELD [3031,3066]
                                    String: "uses" [3031,3037]
                                    STRING [3038,3066]
                                        String: "actions/upload-artifact@v2" [3038,3066]
                                FIELD [3067,3127]
                                    String: "with" [3067,3073]
                                    OBJECT [3074,3127]
                                        FIELD [3075,3096]
                                            String: "name" [3075,3081]
                                            STRING [3082,3096]
                                                String: "test_fetched" [3082,3096]
                                        FIELD [3097,3126]
                                            String: "path" [3097,3103]
                                            STRING [3104,3126]
                                                String: "test_preparation.txt" [3104,3126]
                            OBJECT [3129,3308]
                                FIELD [3130,3168]
                                    String: "name" [3130,3136]
                                    STRING [3137,3168]
                                        String: "Run all non-slow tests on GPU" [3137,3168]
                                FIELD [3169,3307]
                                    String: "run" [3169,3174]
                                    STRING [3175,3307]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 2 --dist=loadfile -v --make-reports=tests_flax_gpu $(cat test_list.txt)\nfi\n" [3175,3307]
                            OBJECT [3309,3419]
                                FIELD [3310,3340]
                                    String: "name" [3310,3316]
                                    STRING [3317,3340]
                                        String: "Failure short reports" [3317,3340]
                                FIELD [3341,3364]
                                    String: "if" [3341,3345]
                                    STRING [3346,3364]
                                        String: "${{ failure() }}" [3346,3364]
                                FIELD [3365,3418]
                                    String: "run" [3365,3370]
                                    STRING [3371,3418]
                                        String: "cat reports/tests_flax_gpu_failures_short.txt" [3371,3418]
                            OBJECT [3420,3589]
                                FIELD [3421,3458]
                                    String: "name" [3421,3427]
                                    STRING [3428,3458]
                                        String: "Test suite reports artifacts" [3428,3458]
                                FIELD [3459,3481]
                                    String: "if" [3459,3463]
                                    STRING [3464,3481]
                                        String: "${{ always() }}" [3464,3481]
                                FIELD [3482,3517]
                                    String: "uses" [3482,3488]
                                    STRING [3489,3517]
                                        String: "actions/upload-artifact@v2" [3489,3517]
                                FIELD [3518,3588]
                                    String: "with" [3518,3524]
                                    OBJECT [3525,3588]
                                        FIELD [3526,3570]
                                            String: "name" [3526,3532]
                                            STRING [3533,3570]
                                                String: "run_all_tests_flax_gpu_test_reports" [3533,3570]
                                        FIELD [3571,3587]
                                            String: "path" [3571,3577]
                                            STRING [3578,3587]
                                                String: "reports" [3578,3587]
            FIELD [3592,5197]
                String: "run_tests_torch_multi_gpu" [3592,3619]
                OBJECT [3620,5197]
                    FIELD [3621,3671]
                        String: "runs-on" [3621,3630]
                        ARRAY [3631,3671]
                            STRING [3632,3645]
                                String: "self-hosted" [3632,3645]
                            STRING [3646,3658]
                                String: "docker-gpu" [3646,3658]
                            STRING [3659,3670]
                                String: "multi-gpu" [3659,3670]
                    FIELD [3672,3840]
                        String: "container" [3672,3683]
                        OBJECT [3684,3840]
                            FIELD [3685,3740]
                                String: "image" [3685,3692]
                                STRING [3693,3740]
                                    String: "pytorch/pytorch:1.9.0-cuda11.1-cudnn8-runtime" [3693,3740]
                            FIELD [3741,3839]
                                String: "options" [3741,3750]
                                STRING [3751,3839]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [3751,3839]
                    FIELD [3841,5196]
                        String: "steps" [3841,3848]
                        ARRAY [3849,5196]
                            OBJECT [3850,4190]
                                FIELD [3851,3880]
                                    String: "name" [3851,3857]
                                    STRING [3858,3880]
                                        String: "Install dependencies" [3858,3880]
                                FIELD [3881,4189]
                                    String: "run" [3881,3886]
                                    STRING [3887,4189]
                                        String: "apt -y update && apt install -y software-properties-common && apt -y update && add-apt-repository -y ppa:git-core/ppa && apt -y update && apt install -y git\napt install -y libsndfile1-dev\npip install --upgrade pip\npip install .[sklearn,testing,onnxruntime,sentencepiece,torch-speech,vision,timm]\n" [3887,4189]
                            OBJECT [4191,4271]
                                FIELD [4192,4216]
                                    String: "name" [4192,4198]
                                    STRING [4199,4216]
                                        String: "Launcher docker" [4199,4216]
                                FIELD [4217,4245]
                                    String: "uses" [4217,4223]
                                    STRING [4224,4245]
                                        String: "actions/checkout@v2" [4224,4245]
                                FIELD [4246,4270]
                                    String: "with" [4246,4252]
                                    OBJECT [4253,4270]
                                        FIELD [4254,4269]
                                            String: "fetch-depth" [4254,4267]
                                            NUMBER [4268,4269]
                                                Number: 2 [4268,4269]
                            OBJECT [4272,4339]
                                FIELD [4273,4292]
                                    String: "name" [4273,4279]
                                    STRING [4280,4292]
                                        String: "NVIDIA-SMI" [4280,4292]
                                FIELD [4293,4317]
                                    String: "continue-on-error" [4293,4312]
                                    TRUE [4313,4317]
                                FIELD [4318,4338]
                                    String: "run" [4318,4323]
                                    STRING [4324,4338]
                                        String: "nvidia-smi\n" [4324,4338]
                            OBJECT [4340,4423]
                                FIELD [4341,4390]
                                    String: "name" [4341,4347]
                                    STRING [4348,4390]
                                        String: "Are GPUs recognized by our DL frameworks" [4348,4390]
                                FIELD [4391,4422]
                                    String: "run" [4391,4396]
                                    STRING [4397,4422]
                                        String: "utils/print_env_pt.py\n" [4397,4422]
                            OBJECT [4424,4548]
                                FIELD [4425,4456]
                                    String: "name" [4425,4431]
                                    STRING [4432,4456]
                                        String: "Fetch the tests to run" [4432,4456]
                                FIELD [4457,4547]
                                    String: "run" [4457,4462]
                                    STRING [4463,4547]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit | tee test_preparation.txt\n" [4463,4547]
                            OBJECT [4549,4677]
                                FIELD [4550,4579]
                                    String: "name" [4550,4556]
                                    STRING [4557,4579]
                                        String: "Report fetched tests" [4557,4579]
                                FIELD [4580,4615]
                                    String: "uses" [4580,4586]
                                    STRING [4587,4615]
                                        String: "actions/upload-artifact@v2" [4587,4615]
                                FIELD [4616,4676]
                                    String: "with" [4616,4622]
                                    OBJECT [4623,4676]
                                        FIELD [4624,4645]
                                            String: "name" [4624,4630]
                                            STRING [4631,4645]
                                                String: "test_fetched" [4631,4645]
                                        FIELD [4646,4675]
                                            String: "path" [4646,4652]
                                            STRING [4653,4675]
                                                String: "test_preparation.txt" [4653,4675]
                            OBJECT [4678,4900]
                                FIELD [4679,4717]
                                    String: "name" [4679,4685]
                                    STRING [4686,4717]
                                        String: "Run all non-slow tests on GPU" [4686,4717]
                                FIELD [4718,4753]
                                    String: "env" [4718,4723]
                                    OBJECT [4724,4753]
                                        FIELD [4725,4752]
                                            String: "MKL_SERVICE_FORCE_INTEL" [4725,4750]
                                            NUMBER [4751,4752]
                                                Number: 1 [4751,4752]
                                FIELD [4754,4899]
                                    String: "run" [4754,4759]
                                    STRING [4760,4899]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 2 --dist=loadfile -v --make-reports=tests_torch_multi_gpu $(cat test_list.txt)\nfi\n" [4760,4899]
                            OBJECT [4901,5018]
                                FIELD [4902,4932]
                                    String: "name" [4902,4908]
                                    STRING [4909,4932]
                                        String: "Failure short reports" [4909,4932]
                                FIELD [4933,4956]
                                    String: "if" [4933,4937]
                                    STRING [4938,4956]
                                        String: "${{ failure() }}" [4938,4956]
                                FIELD [4957,5017]
                                    String: "run" [4957,4962]
                                    STRING [4963,5017]
                                        String: "cat reports/tests_torch_multi_gpu_failures_short.txt" [4963,5017]
                            OBJECT [5019,5195]
                                FIELD [5020,5057]
                                    String: "name" [5020,5026]
                                    STRING [5027,5057]
                                        String: "Test suite reports artifacts" [5027,5057]
                                FIELD [5058,5080]
                                    String: "if" [5058,5062]
                                    STRING [5063,5080]
                                        String: "${{ always() }}" [5063,5080]
                                FIELD [5081,5116]
                                    String: "uses" [5081,5087]
                                    STRING [5088,5116]
                                        String: "actions/upload-artifact@v2" [5088,5116]
                                FIELD [5117,5194]
                                    String: "with" [5117,5123]
                                    OBJECT [5124,5194]
                                        FIELD [5125,5176]
                                            String: "name" [5125,5131]
                                            STRING [5132,5176]
                                                String: "run_all_tests_torch_multi_gpu_test_reports" [5132,5176]
                                        FIELD [5177,5193]
                                            String: "path" [5177,5183]
                                            STRING [5184,5193]
                                                String: "reports" [5184,5193]
            FIELD [5198,6601]
                String: "run_tests_torch_cuda_extensions_gpu" [5198,5235]
                OBJECT [5236,6601]
                    FIELD [5237,5288]
                        String: "runs-on" [5237,5246]
                        ARRAY [5247,5288]
                            STRING [5248,5261]
                                String: "self-hosted" [5248,5261]
                            STRING [5262,5274]
                                String: "docker-gpu" [5262,5274]
                            STRING [5275,5287]
                                String: "single-gpu" [5275,5287]
                    FIELD [5289,5442]
                        String: "container" [5289,5300]
                        OBJECT [5301,5442]
                            FIELD [5302,5344]
                                String: "image" [5302,5309]
                                STRING [5310,5344]
                                    String: "nvcr.io/nvidia/pytorch:21.03-py3" [5310,5344]
                            FIELD [5345,5441]
                                String: "options" [5345,5354]
                                STRING [5355,5441]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [5355,5441]
                    FIELD [5443,6600]
                        String: "steps" [5443,5450]
                        ARRAY [5451,6600]
                            OBJECT [5452,5532]
                                FIELD [5453,5477]
                                    String: "name" [5453,5459]
                                    STRING [5460,5477]
                                        String: "Launcher docker" [5460,5477]
                                FIELD [5478,5506]
                                    String: "uses" [5478,5484]
                                    STRING [5485,5506]
                                        String: "actions/checkout@v2" [5485,5506]
                                FIELD [5507,5531]
                                    String: "with" [5507,5513]
                                    OBJECT [5514,5531]
                                        FIELD [5515,5530]
                                            String: "fetch-depth" [5515,5528]
                                            NUMBER [5529,5530]
                                                Number: 2 [5529,5530]
                            OBJECT [5533,5575]
                                FIELD [5534,5553]
                                    String: "name" [5534,5540]
                                    STRING [5541,5553]
                                        String: "NVIDIA-SMI" [5541,5553]
                                FIELD [5554,5574]
                                    String: "run" [5554,5559]
                                    STRING [5560,5574]
                                        String: "nvidia-smi\n" [5560,5574]
                            OBJECT [5576,5721]
                                FIELD [5577,5606]
                                    String: "name" [5577,5583]
                                    STRING [5584,5606]
                                        String: "Install dependencies" [5584,5606]
                                FIELD [5607,5720]
                                    String: "run" [5607,5612]
                                    STRING [5613,5720]
                                        String: "apt -y update && apt install -y libaio-dev\npip install --upgrade pip\npip install .[testing,deepspeed]\n" [5613,5720]
                            OBJECT [5722,5805]
                                FIELD [5723,5772]
                                    String: "name" [5723,5729]
                                    STRING [5730,5772]
                                        String: "Are GPUs recognized by our DL frameworks" [5730,5772]
                                FIELD [5773,5804]
                                    String: "run" [5773,5778]
                                    STRING [5779,5804]
                                        String: "utils/print_env_pt.py\n" [5779,5804]
                            OBJECT [5806,5971]
                                FIELD [5807,5838]
                                    String: "name" [5807,5813]
                                    STRING [5814,5838]
                                        String: "Fetch the tests to run" [5814,5838]
                                FIELD [5839,5970]
                                    String: "run" [5839,5844]
                                    STRING [5845,5970]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit --filters tests/deepspeed tests/extended | tee test_preparation.txt\n" [5845,5970]
                            OBJECT [5972,6100]
                                FIELD [5973,6002]
                                    String: "name" [5973,5979]
                                    STRING [5980,6002]
                                        String: "Report fetched tests" [5980,6002]
                                FIELD [6003,6038]
                                    String: "uses" [6003,6009]
                                    STRING [6010,6038]
                                        String: "actions/upload-artifact@v2" [6010,6038]
                                FIELD [6039,6099]
                                    String: "with" [6039,6045]
                                    OBJECT [6046,6099]
                                        FIELD [6047,6068]
                                            String: "name" [6047,6053]
                                            STRING [6054,6068]
                                                String: "test_fetched" [6054,6068]
                                        FIELD [6069,6098]
                                            String: "path" [6069,6075]
                                            STRING [6076,6098]
                                                String: "test_preparation.txt" [6076,6098]
                            OBJECT [6101,6288]
                                FIELD [6102,6131]
                                    String: "name" [6102,6108]
                                    STRING [6109,6131]
                                        String: "Run all tests on GPU" [6109,6131]
                                FIELD [6132,6287]
                                    String: "run" [6132,6137]
                                    STRING [6138,6287]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 1 --dist=loadfile -v --make-reports=tests_torch_cuda_extensions_gpu $(cat test_list.txt)\nfi\n" [6138,6287]
                            OBJECT [6289,6416]
                                FIELD [6290,6320]
                                    String: "name" [6290,6296]
                                    STRING [6297,6320]
                                        String: "Failure short reports" [6297,6320]
                                FIELD [6321,6344]
                                    String: "if" [6321,6325]
                                    STRING [6326,6344]
                                        String: "${{ failure() }}" [6326,6344]
                                FIELD [6345,6415]
                                    String: "run" [6345,6350]
                                    STRING [6351,6415]
                                        String: "cat reports/tests_torch_cuda_extensions_gpu_failures_short.txt" [6351,6415]
                            OBJECT [6417,6599]
                                FIELD [6418,6455]
                                    String: "name" [6418,6424]
                                    STRING [6425,6455]
                                        String: "Test suite reports artifacts" [6425,6455]
                                FIELD [6456,6478]
                                    String: "if" [6456,6460]
                                    STRING [6461,6478]
                                        String: "${{ always() }}" [6461,6478]
                                FIELD [6479,6514]
                                    String: "uses" [6479,6485]
                                    STRING [6486,6514]
                                        String: "actions/upload-artifact@v2" [6486,6514]
                                FIELD [6515,6598]
                                    String: "with" [6515,6521]
                                    OBJECT [6522,6598]
                                        FIELD [6523,6580]
                                            String: "name" [6523,6529]
                                            STRING [6530,6580]
                                                String: "run_tests_torch_cuda_extensions_gpu_test_reports" [6530,6580]
                                        FIELD [6581,6597]
                                            String: "path" [6581,6587]
                                            STRING [6588,6597]
                                                String: "reports" [6588,6597]
            FIELD [6602,8134]
                String: "run_tests_torch_cuda_extensions_multi_gpu" [6602,6645]
                OBJECT [6646,8134]
                    FIELD [6647,6697]
                        String: "runs-on" [6647,6656]
                        ARRAY [6657,6697]
                            STRING [6658,6671]
                                String: "self-hosted" [6658,6671]
                            STRING [6672,6684]
                                String: "docker-gpu" [6672,6684]
                            STRING [6685,6696]
                                String: "multi-gpu" [6685,6696]
                    FIELD [6698,6851]
                        String: "container" [6698,6709]
                        OBJECT [6710,6851]
                            FIELD [6711,6753]
                                String: "image" [6711,6718]
                                STRING [6719,6753]
                                    String: "nvcr.io/nvidia/pytorch:21.03-py3" [6719,6753]
                            FIELD [6754,6850]
                                String: "options" [6754,6763]
                                STRING [6764,6850]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [6764,6850]
                    FIELD [6852,8133]
                        String: "steps" [6852,6859]
                        ARRAY [6860,8133]
                            OBJECT [6861,6941]
                                FIELD [6862,6886]
                                    String: "name" [6862,6868]
                                    STRING [6869,6886]
                                        String: "Launcher docker" [6869,6886]
                                FIELD [6887,6915]
                                    String: "uses" [6887,6893]
                                    STRING [6894,6915]
                                        String: "actions/checkout@v2" [6894,6915]
                                FIELD [6916,6940]
                                    String: "with" [6916,6922]
                                    OBJECT [6923,6940]
                                        FIELD [6924,6939]
                                            String: "fetch-depth" [6924,6937]
                                            NUMBER [6938,6939]
                                                Number: 2 [6938,6939]
                            OBJECT [6942,7009]
                                FIELD [6943,6962]
                                    String: "name" [6943,6949]
                                    STRING [6950,6962]
                                        String: "NVIDIA-SMI" [6950,6962]
                                FIELD [6963,6987]
                                    String: "continue-on-error" [6963,6982]
                                    TRUE [6983,6987]
                                FIELD [6988,7008]
                                    String: "run" [6988,6993]
                                    STRING [6994,7008]
                                        String: "nvidia-smi\n" [6994,7008]
                            OBJECT [7010,7236]
                                FIELD [7011,7040]
                                    String: "name" [7011,7017]
                                    STRING [7018,7040]
                                        String: "Install dependencies" [7018,7040]
                                FIELD [7041,7235]
                                    String: "run" [7041,7046]
                                    STRING [7047,7235]
                                        String: "apt -y update && apt install -y libaio-dev\npip install --upgrade pip\nrm -rf ~/.cache/torch_extensions/ # shared between conflicting builds\npip install .[testing,deepspeed,fairscale]\n" [7047,7235]
                            OBJECT [7237,7320]
                                FIELD [7238,7287]
                                    String: "name" [7238,7244]
                                    STRING [7245,7287]
                                        String: "Are GPUs recognized by our DL frameworks" [7245,7287]
                                FIELD [7288,7319]
                                    String: "run" [7288,7293]
                                    STRING [7294,7319]
                                        String: "utils/print_env_pt.py\n" [7294,7319]
                            OBJECT [7321,7486]
                                FIELD [7322,7353]
                                    String: "name" [7322,7328]
                                    STRING [7329,7353]
                                        String: "Fetch the tests to run" [7329,7353]
                                FIELD [7354,7485]
                                    String: "run" [7354,7359]
                                    STRING [7360,7485]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit --filters tests/deepspeed tests/extended | tee test_preparation.txt\n" [7360,7485]
                            OBJECT [7487,7615]
                                FIELD [7488,7517]
                                    String: "name" [7488,7494]
                                    STRING [7495,7517]
                                        String: "Report fetched tests" [7495,7517]
                                FIELD [7518,7553]
                                    String: "uses" [7518,7524]
                                    STRING [7525,7553]
                                        String: "actions/upload-artifact@v2" [7525,7553]
                                FIELD [7554,7614]
                                    String: "with" [7554,7560]
                                    OBJECT [7561,7614]
                                        FIELD [7562,7583]
                                            String: "name" [7562,7568]
                                            STRING [7569,7583]
                                                String: "test_fetched" [7569,7583]
                                        FIELD [7584,7613]
                                            String: "path" [7584,7590]
                                            STRING [7591,7613]
                                                String: "test_preparation.txt" [7591,7613]
                            OBJECT [7616,7809]
                                FIELD [7617,7646]
                                    String: "name" [7617,7623]
                                    STRING [7624,7646]
                                        String: "Run all tests on GPU" [7624,7646]
                                FIELD [7647,7808]
                                    String: "run" [7647,7652]
                                    STRING [7653,7808]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 1 --dist=loadfile -v --make-reports=tests_torch_cuda_extensions_multi_gpu $(cat test_list.txt)\nfi\n" [7653,7808]
                            OBJECT [7810,7943]
                                FIELD [7811,7841]
                                    String: "name" [7811,7817]
                                    STRING [7818,7841]
                                        String: "Failure short reports" [7818,7841]
                                FIELD [7842,7865]
                                    String: "if" [7842,7846]
                                    STRING [7847,7865]
                                        String: "${{ failure() }}" [7847,7865]
                                FIELD [7866,7942]
                                    String: "run" [7866,7871]
                                    STRING [7872,7942]
                                        String: "cat reports/tests_torch_cuda_extensions_multi_gpu_failures_short.txt" [7872,7942]
                            OBJECT [7944,8132]
                                FIELD [7945,7982]
                                    String: "name" [7945,7951]
                                    STRING [7952,7982]
                                        String: "Test suite reports artifacts" [7952,7982]
                                FIELD [7983,8005]
                                    String: "if" [7983,7987]
                                    STRING [7988,8005]
                                        String: "${{ always() }}" [7988,8005]
                                FIELD [8006,8041]
                                    String: "uses" [8006,8012]
                                    STRING [8013,8041]
                                        String: "actions/upload-artifact@v2" [8013,8041]
                                FIELD [8042,8131]
                                    String: "with" [8042,8048]
                                    OBJECT [8049,8131]
                                        FIELD [8050,8113]
                                            String: "name" [8050,8056]
                                            STRING [8057,8113]
                                                String: "run_tests_torch_cuda_extensions_multi_gpu_test_reports" [8057,8113]
                                        FIELD [8114,8130]
                                            String: "path" [8114,8120]
                                            STRING [8121,8130]
                                                String: "reports" [8121,8130]
            FIELD [8135,8679]
                String: "send_results" [8135,8149]
                OBJECT [8150,8679]
                    FIELD [8151,8183]
                        String: "name" [8151,8157]
                        STRING [8158,8183]
                            String: "Send results to webhook" [8158,8183]
                    FIELD [8184,8209]
                        String: "runs-on" [8184,8193]
                        STRING [8194,8209]
                            String: "ubuntu-latest" [8194,8209]
                    FIELD [8210,8225]
                        String: "if" [8210,8214]
                        STRING [8215,8225]
                            String: "always()" [8215,8225]
                    FIELD [8226,8367]
                        String: "needs" [8226,8233]
                        ARRAY [8234,8367]
                            STRING [8235,8256]
                                String: "run_tests_torch_gpu" [8235,8256]
                            STRING [8257,8284]
                                String: "run_tests_torch_multi_gpu" [8257,8284]
                            STRING [8285,8322]
                                String: "run_tests_torch_cuda_extensions_gpu" [8285,8322]
                            STRING [8323,8366]
                                String: "run_tests_torch_cuda_extensions_multi_gpu" [8323,8366]
                    FIELD [8368,8678]
                        String: "steps" [8368,8375]
                        ARRAY [8376,8678]
                            OBJECT [8377,8407]
                                FIELD [8378,8406]
                                    String: "uses" [8378,8384]
                                    STRING [8385,8406]
                                        String: "actions/checkout@v2" [8385,8406]
                            OBJECT [8408,8447]
                                FIELD [8409,8446]
                                    String: "uses" [8409,8415]
                                    STRING [8416,8446]
                                        String: "actions/download-artifact@v2" [8416,8446]
                            OBJECT [8448,8677]
                                FIELD [8449,8479]
                                    String: "name" [8449,8455]
                                    STRING [8456,8479]
                                        String: "Send message to Slack" [8456,8479]
                                FIELD [8480,8603]
                                    String: "env" [8480,8485]
                                    OBJECT [8486,8603]
                                        FIELD [8487,8543]
                                            String: "CI_SLACK_BOT_TOKEN" [8487,8507]
                                            STRING [8508,8543]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [8508,8543]
                                        FIELD [8544,8602]
                                            String: "CI_SLACK_CHANNEL_ID" [8544,8565]
                                            STRING [8566,8602]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [8566,8602]
                                FIELD [8604,8676]
                                    String: "run" [8604,8609]
                                    STRING [8610,8676]
                                        String: "pip install slack_sdk\npython utils/notification_service.py push" [8610,8676]