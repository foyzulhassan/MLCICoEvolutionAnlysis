OBJECT [0,5572]
    FIELD [1,15]
        String: "name" [1,7]
        STRING [8,15]
            String: "CI/CD" [8,15]
    FIELD [16,111]
        String: "on" [16,20]
        OBJECT [21,111]
            FIELD [22,65]
                String: "push" [22,28]
                OBJECT [29,65]
                    FIELD [30,51]
                        String: "branches" [30,40]
                        ARRAY [41,51]
                            STRING [42,50]
                                String: "master" [42,50]
                    FIELD [52,64]
                        String: "tags" [52,58]
                        ARRAY [59,64]
                            STRING [60,63]
                                String: "*" [60,63]
            FIELD [66,85]
                String: "pull_request" [66,80]
                NULL [81,85]
            FIELD [86,110]
                String: "workflow_dispatch" [86,105]
                NULL [106,110]
    FIELD [112,224]
        String: "env" [112,117]
        OBJECT [118,224]
            FIELD [119,157]
                String: "PIPX_HOME" [119,130]
                STRING [131,157]
                    String: "/home/runner/.cache/pipx" [131,157]
            FIELD [158,198]
                String: "PIPX_BIN_DIR" [158,172]
                STRING [173,198]
                    String: "/home/runner/.local/bin" [173,198]
            FIELD [199,223]
                String: "POETRY_VERSION" [199,215]
                STRING [216,223]
                    String: "1.2.0" [216,223]
    FIELD [225,5571]
        String: "jobs" [225,231]
        OBJECT [232,5571]
            FIELD [233,1243]
                String: "lint" [233,239]
                OBJECT [240,1243]
                    FIELD [241,266]
                        String: "runs-on" [241,250]
                        STRING [251,266]
                            String: "ubuntu-latest" [251,266]
                    FIELD [267,307]
                        String: "name" [267,273]
                        STRING [274,307]
                            String: "lint with isort, Black & flake8" [274,307]
                    FIELD [308,339]
                        String: "env" [308,313]
                        OBJECT [314,339]
                            FIELD [315,338]
                                String: "PYTHON_VERSION" [315,331]
                                STRING [332,338]
                                    String: "3.10" [332,338]
                    FIELD [340,1242]
                        String: "steps" [340,347]
                        ARRAY [348,1242]
                            OBJECT [349,379]
                                FIELD [350,378]
                                    String: "uses" [350,356]
                                    STRING [357,378]
                                        String: "actions/checkout@v3" [357,378]
                            OBJECT [380,652]
                                FIELD [381,443]
                                    String: "name" [381,387]
                                    STRING [388,443]
                                        String: "Load cached Poetry installation and repositories info" [388,443]
                                FIELD [444,469]
                                    String: "uses" [444,450]
                                    STRING [451,469]
                                        String: "actions/cache@v3" [451,469]
                                FIELD [470,651]
                                    String: "with" [470,476]
                                    OBJECT [477,651]
                                        FIELD [478,560]
                                            String: "path" [478,484]
                                            STRING [485,560]
                                                String: "~/.cache/pipx/venvs\n~/.local/bin\n~/.cache/pypoetry/cache/repositories\n" [485,560]
                                        FIELD [561,650]
                                            String: "key" [561,566]
                                            STRING [567,650]
                                                String: "poetry-installation-and-repos-${{ env.PYTHON_VERSION }}-${{ env.POETRY_VERSION }}" [567,650]
                            OBJECT [653,725]
                                FIELD [654,677]
                                    String: "name" [654,660]
                                    STRING [661,677]
                                        String: "Install Poetry" [661,677]
                                FIELD [678,724]
                                    String: "run" [678,683]
                                    STRING [684,724]
                                        String: "pipx install poetry==$POETRY_VERSION\n" [684,724]
                            OBJECT [726,959]
                                FIELD [727,775]
                                    String: "name" [727,733]
                                    STRING [734,775]
                                        String: "Set up Python ${{ env.python-version }}" [734,775]
                                FIELD [776,846]
                                    String: "uses" [776,782]
                                    STRING [783,846]
                                        String: "actions/setup-python@b55428b1882923874294fa556849718a1d7f2ca5" [783,846]
                                FIELD [847,958]
                                    String: "with" [847,853]
                                    OBJECT [854,958]
                                        FIELD [855,899]
                                            String: "python-version" [855,871]
                                            STRING [872,899]
                                                String: "${{ env.PYTHON_VERSION }}" [872,899]
                                        FIELD [900,916]
                                            String: "cache" [900,907]
                                            STRING [908,916]
                                                String: "poetry" [908,916]
                                        FIELD [917,957]
                                            String: "cache-dependency-path" [917,940]
                                            STRING [941,957]
                                                String: "pyproject.toml" [941,957]
                            OBJECT [960,1038]
                                FIELD [961,1001]
                                    String: "name" [961,967]
                                    STRING [968,1001]
                                        String: "Install Python dev dependencies" [968,1001]
                                FIELD [1002,1037]
                                    String: "run" [1002,1007]
                                    STRING [1008,1037]
                                        String: "poetry install --only dev\n" [1008,1037]
                            OBJECT [1039,1114]
                                FIELD [1040,1064]
                                    String: "name" [1040,1046]
                                    STRING [1047,1064]
                                        String: "Lint with isort" [1047,1064]
                                FIELD [1065,1113]
                                    String: "run" [1065,1070]
                                    STRING [1071,1113]
                                        String: "poetry run isort . --check-only --diff\n" [1071,1113]
                            OBJECT [1115,1185]
                                FIELD [1116,1140]
                                    String: "name" [1116,1122]
                                    STRING [1123,1140]
                                        String: "Lint with Black" [1123,1140]
                                FIELD [1141,1184]
                                    String: "run" [1141,1146]
                                    STRING [1147,1184]
                                        String: "poetry run black . --check --diff\n" [1147,1184]
                            OBJECT [1186,1241]
                                FIELD [1187,1212]
                                    String: "name" [1187,1193]
                                    STRING [1194,1212]
                                        String: "Lint with flake8" [1194,1212]
                                FIELD [1213,1240]
                                    String: "run" [1213,1218]
                                    STRING [1219,1240]
                                        String: "poetry run flake8\n" [1219,1240]
            FIELD [1244,3035]
                String: "test" [1244,1250]
                OBJECT [1251,3035]
                    FIELD [1252,1277]
                        String: "runs-on" [1252,1261]
                        STRING [1262,1277]
                            String: "ubuntu-latest" [1262,1277]
                    FIELD [1278,1298]
                        String: "timeout-minutes" [1278,1295]
                        NUMBER [1296,1298]
                            Number: 15 [1296,1298]
                    FIELD [1299,1360]
                        String: "strategy" [1299,1309]
                        OBJECT [1310,1360]
                            FIELD [1311,1359]
                                String: "matrix" [1311,1319]
                                OBJECT [1320,1359]
                                    FIELD [1321,1358]
                                        String: "python-version" [1321,1337]
                                        ARRAY [1338,1358]
                                            STRING [1339,1344]
                                                String: "3.8" [1339,1344]
                                            STRING [1345,1350]
                                                String: "3.9" [1345,1350]
                                            STRING [1351,1357]
                                                String: "3.10" [1351,1357]
                    FIELD [1361,1413]
                        String: "name" [1361,1367]
                        STRING [1368,1413]
                            String: "test on Python ${{ matrix.python-version }}" [1368,1413]
                    FIELD [1414,3034]
                        String: "steps" [1414,1421]
                        ARRAY [1422,3034]
                            OBJECT [1423,1453]
                                FIELD [1424,1452]
                                    String: "uses" [1424,1430]
                                    STRING [1431,1452]
                                        String: "actions/checkout@v3" [1431,1452]
                            OBJECT [1454,1552]
                                FIELD [1455,1487]
                                    String: "name" [1455,1461]
                                    STRING [1462,1487]
                                        String: "Install system packages" [1462,1487]
                                FIELD [1488,1551]
                                    String: "run" [1488,1493]
                                    STRING [1494,1551]
                                        String: "sudo apt-get install \\\n  libvoikko1 \\\n  voikko-fi\n" [1494,1551]
                            OBJECT [1553,1828]
                                FIELD [1554,1616]
                                    String: "name" [1554,1560]
                                    STRING [1561,1616]
                                        String: "Load cached Poetry installation and repositories info" [1561,1616]
                                FIELD [1617,1642]
                                    String: "uses" [1617,1623]
                                    STRING [1624,1642]
                                        String: "actions/cache@v3" [1624,1642]
                                FIELD [1643,1827]
                                    String: "with" [1643,1649]
                                    OBJECT [1650,1827]
                                        FIELD [1651,1733]
                                            String: "path" [1651,1657]
                                            STRING [1658,1733]
                                                String: "~/.cache/pipx/venvs\n~/.local/bin\n~/.cache/pypoetry/cache/repositories\n" [1658,1733]
                                        FIELD [1734,1826]
                                            String: "key" [1734,1739]
                                            STRING [1740,1826]
                                                String: "poetry-installation-and-repos-${{ matrix.python-version }}-${{ env.POETRY_VERSION }}" [1740,1826]
                            OBJECT [1829,1901]
                                FIELD [1830,1853]
                                    String: "name" [1830,1836]
                                    STRING [1837,1853]
                                        String: "Install Poetry" [1837,1853]
                                FIELD [1854,1900]
                                    String: "run" [1854,1859]
                                    STRING [1860,1900]
                                        String: "pipx install poetry==$POETRY_VERSION\n" [1860,1900]
                            OBJECT [1902,2141]
                                FIELD [1903,1954]
                                    String: "name" [1903,1909]
                                    STRING [1910,1954]
                                        String: "Set up Python ${{ matrix.python-version }}" [1910,1954]
                                FIELD [1955,2025]
                                    String: "uses" [1955,1961]
                                    STRING [1962,2025]
                                        String: "actions/setup-python@b55428b1882923874294fa556849718a1d7f2ca5" [1962,2025]
                                FIELD [2026,2140]
                                    String: "with" [2026,2032]
                                    OBJECT [2033,2140]
                                        FIELD [2034,2081]
                                            String: "python-version" [2034,2050]
                                            STRING [2051,2081]
                                                String: "${{ matrix.python-version }}" [2051,2081]
                                        FIELD [2082,2098]
                                            String: "cache" [2082,2089]
                                            STRING [2090,2098]
                                                String: "poetry" [2090,2098]
                                        FIELD [2099,2139]
                                            String: "cache-dependency-path" [2099,2122]
                                            STRING [2123,2139]
                                                String: "pyproject.toml" [2123,2139]
                            OBJECT [2142,2840]
                                FIELD [2143,2179]
                                    String: "name" [2143,2149]
                                    STRING [2150,2179]
                                        String: "Install Python dependencies" [2150,2179]
                                FIELD [2180,2839]
                                    String: "run" [2180,2185]
                                    STRING [2186,2839]
                                        String: "# Selectively install the optional dependencies for some Python versions\n# For Python 3.8:\nif [[ ${{ matrix.python-version }} == '3.8' ]]; then\n  poetry install -E \"nn omikuji yake voikko\";\nfi\n# For Python 3.9:\nif [[ ${{ matrix.python-version }} == '3.9' ]]; then\n  poetry install -E \"fasttext spacy\";\n  # download the small English pretrained spaCy model needed by spacy analyzer\n  poetry run python -m spacy download en_core_web_sm --upgrade-strategy only-if-needed\nfi\n# For Python 3.10:\nif [[ ${{ matrix.python-version }} == '3.10' ]]; then\n  poetry install -E \"nn omikuji yake\";\nfi\npoetry run python -m nltk.downloader punkt\n" [2186,2839]
                            OBJECT [2841,2922]
                                FIELD [2842,2867]
                                    String: "name" [2842,2848]
                                    STRING [2849,2867]
                                        String: "Test with pytest" [2849,2867]
                                FIELD [2868,2921]
                                    String: "run" [2868,2873]
                                    STRING [2874,2921]
                                        String: "poetry run pytest --cov=./ --cov-report xml\n" [2874,2921]
                            OBJECT [2923,3033]
                                FIELD [2924,2959]
                                    String: "name" [2924,2930]
                                    STRING [2931,2959]
                                        String: "Upload coverage to Codecov" [2931,2959]
                                FIELD [2960,3032]
                                    String: "uses" [2960,2966]
                                    STRING [2967,3032]
                                        String: "codecov/codecov-action@81cd2dc8148241f03f5839d295e000b8f761e378" [2967,3032]
            FIELD [3036,3902]
                String: "publish-docker-latest" [3036,3059]
                OBJECT [3060,3902]
                    FIELD [3061,3097]
                        String: "name" [3061,3067]
                        STRING [3068,3097]
                            String: "publish latest Docker image" [3068,3097]
                    FIELD [3098,3121]
                        String: "needs" [3098,3105]
                        ARRAY [3106,3121]
                            STRING [3107,3113]
                                String: "lint" [3107,3113]
                            STRING [3114,3120]
                                String: "test" [3114,3120]
                    FIELD [3122,3146]
                        String: "runs-on" [3122,3131]
                        STRING [3132,3146]
                            String: "ubuntu-20.04" [3132,3146]
                    FIELD [3147,3167]
                        String: "timeout-minutes" [3147,3164]
                        NUMBER [3165,3167]
                            Number: 15 [3165,3167]
                    FIELD [3168,3239]
                        String: "if" [3168,3172]
                        STRING [3173,3239]
                            String: "github.event_name == 'push' && github.ref == 'refs/heads/master'" [3173,3239]
                    FIELD [3240,3901]
                        String: "steps" [3240,3247]
                        ARRAY [3248,3901]
                            OBJECT [3249,3514]
                                FIELD [3250,3275]
                                    String: "name" [3250,3256]
                                    STRING [3257,3275]
                                        String: "Login to Quay.io" [3257,3275]
                                FIELD [3276,3345]
                                    String: "uses" [3276,3282]
                                    STRING [3283,3345]
                                        String: "docker/login-action@49ed152c8eca782a232dede0303416e8f356c37b" [3283,3345]
                                FIELD [3346,3513]
                                    String: "with" [3346,3352]
                                    OBJECT [3353,3513]
                                        FIELD [3354,3374]
                                            String: "registry" [3354,3364]
                                            STRING [3365,3374]
                                                String: "quay.io" [3365,3374]
                                        FIELD [3375,3443]
                                            String: "username" [3375,3385]
                                            STRING [3386,3443]
                                                String: "${{ secrets.YHTEENTOIMIVUUSPALVELUT_QUAY_IO_USERNAME }}" [3386,3443]
                                        FIELD [3444,3512]
                                            String: "password" [3444,3454]
                                            STRING [3455,3512]
                                                String: "${{ secrets.YHTEENTOIMIVUUSPALVELUT_QUAY_IO_PASSWORD }}" [3455,3512]
                            OBJECT [3515,3683]
                                FIELD [3516,3536]
                                    String: "name" [3516,3522]
                                    STRING [3523,3536]
                                        String: "Docker meta" [3523,3536]
                                FIELD [3537,3548]
                                    String: "id" [3537,3541]
                                    STRING [3542,3548]
                                        String: "meta" [3542,3548]
                                FIELD [3549,3621]
                                    String: "uses" [3549,3555]
                                    STRING [3556,3621]
                                        String: "docker/metadata-action@69f6fc9d46f2f8bf0d5491e4aabe0bb8c6a4678a" [3556,3621]
                                FIELD [3622,3682]
                                    String: "with" [3622,3628]
                                    OBJECT [3629,3682]
                                        FIELD [3630,3663]
                                            String: "images" [3630,3638]
                                            STRING [3639,3663]
                                                String: "quay.io/natlibfi/annif" [3639,3663]
                                        FIELD [3664,3681]
                                            String: "tags" [3664,3670]
                                            STRING [3671,3681]
                                                String: "latest\n" [3671,3681]
                            OBJECT [3684,3900]
                                FIELD [3685,3719]
                                    String: "name" [3685,3691]
                                    STRING [3692,3719]
                                        String: "Build and push to Quay.io" [3692,3719]
                                FIELD [3720,3794]
                                    String: "uses" [3720,3726]
                                    STRING [3727,3794]
                                        String: "docker/build-push-action@e551b19e49efd4e98792db7592c17c09b89db8d8" [3727,3794]
                                FIELD [3795,3899]
                                    String: "with" [3795,3801]
                                    OBJECT [3802,3899]
                                        FIELD [3803,3814]
                                            String: "push" [3803,3809]
                                            TRUE [3810,3814]
                                        FIELD [3815,3854]
                                            String: "tags" [3815,3821]
                                            STRING [3822,3854]
                                                String: "${{ steps.meta.outputs.tags }}" [3822,3854]
                                        FIELD [3855,3898]
                                            String: "labels" [3855,3863]
                                            STRING [3864,3898]
                                                String: "${{ steps.meta.outputs.labels }}" [3864,3898]
            FIELD [3903,5570]
                String: "publish-release" [3903,3920]
                OBJECT [3921,5570]
                    FIELD [3922,3946]
                        String: "name" [3922,3928]
                        STRING [3929,3946]
                            String: "publish release" [3929,3946]
                    FIELD [3947,3970]
                        String: "needs" [3947,3954]
                        ARRAY [3955,3970]
                            STRING [3956,3962]
                                String: "lint" [3956,3962]
                            STRING [3963,3969]
                                String: "test" [3963,3969]
                    FIELD [3971,3995]
                        String: "runs-on" [3971,3980]
                        STRING [3981,3995]
                            String: "ubuntu-20.04" [3981,3995]
                    FIELD [3996,4068]
                        String: "if" [3996,4000]
                        STRING [4001,4068]
                            String: "github.event_name == 'push' && contains(github.ref, 'refs/tags/')" [4001,4068]
                    FIELD [4069,5569]
                        String: "steps" [4069,4076]
                        ARRAY [4077,5569]
                            OBJECT [4078,4108]
                                FIELD [4079,4107]
                                    String: "uses" [4079,4085]
                                    STRING [4086,4107]
                                        String: "actions/checkout@v3" [4086,4107]
                            OBJECT [4109,4384]
                                FIELD [4110,4172]
                                    String: "name" [4110,4116]
                                    STRING [4117,4172]
                                        String: "Load cached Poetry installation and repositories info" [4117,4172]
                                FIELD [4173,4198]
                                    String: "uses" [4173,4179]
                                    STRING [4180,4198]
                                        String: "actions/cache@v3" [4180,4198]
                                FIELD [4199,4383]
                                    String: "with" [4199,4205]
                                    OBJECT [4206,4383]
                                        FIELD [4207,4289]
                                            String: "path" [4207,4213]
                                            STRING [4214,4289]
                                                String: "~/.cache/pipx/venvs\n~/.local/bin\n~/.cache/pypoetry/cache/repositories\n" [4214,4289]
                                        FIELD [4290,4382]
                                            String: "key" [4290,4295]
                                            STRING [4296,4382]
                                                String: "poetry-installation-and-repos-${{ matrix.python-version }}-${{ env.POETRY_VERSION }}" [4296,4382]
                            OBJECT [4385,4457]
                                FIELD [4386,4409]
                                    String: "name" [4386,4392]
                                    STRING [4393,4409]
                                        String: "Install Poetry" [4393,4409]
                                FIELD [4410,4456]
                                    String: "run" [4410,4415]
                                    STRING [4416,4456]
                                        String: "pipx install poetry==$POETRY_VERSION\n" [4416,4456]
                            OBJECT [4458,4647]
                                FIELD [4459,4485]
                                    String: "name" [4459,4465]
                                    STRING [4466,4485]
                                        String: "Set up Python 3.9" [4466,4485]
                                FIELD [4486,4556]
                                    String: "uses" [4486,4492]
                                    STRING [4493,4556]
                                        String: "actions/setup-python@b55428b1882923874294fa556849718a1d7f2ca5" [4493,4556]
                                FIELD [4557,4646]
                                    String: "with" [4557,4563]
                                    OBJECT [4564,4646]
                                        FIELD [4565,4587]
                                            String: "python-version" [4565,4581]
                                            STRING [4582,4587]
                                                String: "3.9" [4582,4587]
                                        FIELD [4588,4604]
                                            String: "cache" [4588,4595]
                                            STRING [4596,4604]
                                                String: "poetry" [4596,4604]
                                        FIELD [4605,4645]
                                            String: "cache-dependency-path" [4605,4628]
                                            STRING [4629,4645]
                                                String: "pyproject.toml" [4629,4645]
                            OBJECT [4648,4850]
                                FIELD [4649,4696]
                                    String: "name" [4649,4655]
                                    STRING [4656,4696]
                                        String: "Build and publish distribution to PyPI" [4656,4696]
                                FIELD [4697,4816]
                                    String: "env" [4697,4702]
                                    OBJECT [4703,4816]
                                        FIELD [4704,4749]
                                            String: "POETRY_HTTP_BASIC_PYPI_USERNAME" [4704,4737]
                                            STRING [4738,4749]
                                                String: "__token__" [4738,4749]
                                        FIELD [4750,4815]
                                            String: "POETRY_HTTP_BASIC_PYPI_PASSWORD" [4750,4783]
                                            STRING [4784,4815]
                                                String: "${{ secrets.PYPI_API_TOKEN }}" [4784,4815]
                                FIELD [4817,4849]
                                    String: "run" [4817,4822]
                                    STRING [4823,4849]
                                        String: "poetry publish --build\n" [4823,4849]
                            OBJECT [4851,5116]
                                FIELD [4852,4877]
                                    String: "name" [4852,4858]
                                    STRING [4859,4877]
                                        String: "Login to Quay.io" [4859,4877]
                                FIELD [4878,4947]
                                    String: "uses" [4878,4884]
                                    STRING [4885,4947]
                                        String: "docker/login-action@49ed152c8eca782a232dede0303416e8f356c37b" [4885,4947]
                                FIELD [4948,5115]
                                    String: "with" [4948,4954]
                                    OBJECT [4955,5115]
                                        FIELD [4956,4976]
                                            String: "registry" [4956,4966]
                                            STRING [4967,4976]
                                                String: "quay.io" [4967,4976]
                                        FIELD [4977,5045]
                                            String: "username" [4977,4987]
                                            STRING [4988,5045]
                                                String: "${{ secrets.YHTEENTOIMIVUUSPALVELUT_QUAY_IO_USERNAME }}" [4988,5045]
                                        FIELD [5046,5114]
                                            String: "password" [5046,5056]
                                            STRING [5057,5114]
                                                String: "${{ secrets.YHTEENTOIMIVUUSPALVELUT_QUAY_IO_PASSWORD }}" [5057,5114]
                            OBJECT [5117,5351]
                                FIELD [5118,5138]
                                    String: "name" [5118,5124]
                                    STRING [5125,5138]
                                        String: "Docker meta" [5125,5138]
                                FIELD [5139,5150]
                                    String: "id" [5139,5143]
                                    STRING [5144,5150]
                                        String: "meta" [5144,5150]
                                FIELD [5151,5223]
                                    String: "uses" [5151,5157]
                                    STRING [5158,5223]
                                        String: "docker/metadata-action@69f6fc9d46f2f8bf0d5491e4aabe0bb8c6a4678a" [5158,5223]
                                FIELD [5224,5350]
                                    String: "with" [5224,5230]
                                    OBJECT [5231,5350]
                                        FIELD [5232,5265]
                                            String: "images" [5232,5240]
                                            STRING [5241,5265]
                                                String: "quay.io/natlibfi/annif" [5241,5265]
                                        FIELD [5266,5349]
                                            String: "tags" [5266,5272]
                                            STRING [5273,5349]
                                                String: "type=semver,pattern={{version}}\ntype=semver,pattern={{major}}.{{minor}}\n" [5273,5349]
                            OBJECT [5352,5568]
                                FIELD [5353,5387]
                                    String: "name" [5353,5359]
                                    STRING [5360,5387]
                                        String: "Build and push to Quay.io" [5360,5387]
                                FIELD [5388,5462]
                                    String: "uses" [5388,5394]
                                    STRING [5395,5462]
                                        String: "docker/build-push-action@e551b19e49efd4e98792db7592c17c09b89db8d8" [5395,5462]
                                FIELD [5463,5567]
                                    String: "with" [5463,5469]
                                    OBJECT [5470,5567]
                                        FIELD [5471,5482]
                                            String: "push" [5471,5477]
                                            TRUE [5478,5482]
                                        FIELD [5483,5522]
                                            String: "tags" [5483,5489]
                                            STRING [5490,5522]
                                                String: "${{ steps.meta.outputs.tags }}" [5490,5522]
                                        FIELD [5523,5566]
                                            String: "labels" [5523,5531]
                                            STRING [5532,5566]
                                                String: "${{ steps.meta.outputs.labels }}" [5532,5566]