OBJECT [0,7922]
    FIELD [1,22]
        String: "name" [1,7]
        STRING [8,22]
            String: "Lint & Tests" [8,22]
    FIELD [23,51]
        String: "on" [23,27]
        ARRAY [28,51]
            STRING [29,35]
                String: "push" [29,35]
            STRING [36,50]
                String: "pull_request" [36,50]
    FIELD [52,7921]
        String: "jobs" [52,58]
        OBJECT [59,7921]
            FIELD [60,7458]
                String: "lint-and-tests" [60,76]
                OBJECT [77,7458]
                    FIELD [78,103]
                        String: "runs-on" [78,87]
                        STRING [88,103]
                            String: "ubuntu-latest" [88,103]
                    FIELD [104,150]
                        String: "strategy" [104,114]
                        OBJECT [115,150]
                            FIELD [116,149]
                                String: "matrix" [116,124]
                                OBJECT [125,149]
                                    FIELD [126,148]
                                        String: "python-version" [126,142]
                                        ARRAY [143,148]
                                            NUMBER [144,147]
                                                Number: 3.6 [144,147]
                    FIELD [151,7457]
                        String: "steps" [151,158]
                        ARRAY [159,7457]
                            OBJECT [160,190]
                                FIELD [161,189]
                                    String: "uses" [161,167]
                                    STRING [168,189]
                                        String: "actions/checkout@v2" [168,189]
                            OBJECT [191,334]
                                FIELD [192,243]
                                    String: "name" [192,198]
                                    STRING [199,243]
                                        String: "Set up Python ${{ matrix.python-version }}" [199,243]
                                FIELD [244,276]
                                    String: "uses" [244,250]
                                    STRING [251,276]
                                        String: "actions/setup-python@v2" [251,276]
                                FIELD [277,333]
                                    String: "with" [277,283]
                                    OBJECT [284,333]
                                        FIELD [285,332]
                                            String: "python-version" [285,301]
                                            STRING [302,332]
                                                String: "${{ matrix.python-version }}" [302,332]
                            OBJECT [335,606]
                                FIELD [336,365]
                                    String: "name" [336,342]
                                    STRING [343,365]
                                        String: "Install dependencies" [343,365]
                                FIELD [366,605]
                                    String: "run" [366,371]
                                    STRING [372,605]
                                        String: "python -m pip install --upgrade pip\npip install --upgrade setuptools==50.3.0\npython setup.py install\npip install -r requirements.opt.txt\npip install flake8\nif [ -f requirements.txt ]; then pip install -r requirements.txt; fi\n" [372,605]
                            OBJECT [607,905]
                                FIELD [608,633]
                                    String: "name" [608,614]
                                    STRING [615,633]
                                        String: "Lint with flake8" [615,633]
                                FIELD [634,904]
                                    String: "run" [634,639]
                                    STRING [640,904]
                                        String: "# stop the build if there are Python syntax errors or undefined names\nflake8 . --count --select=E9,F63,F7,F82 --show-source --statistics\n# exit-zero treats all errors as warnings. The GitHub editor is 127 chars wide\nflake8 . --count --exit-zero --statistics\n" [640,904]
                            OBJECT [906,965]
                                FIELD [907,926]
                                    String: "name" [907,913]
                                    STRING [914,926]
                                        String: "Unit tests" [914,926]
                                FIELD [927,964]
                                    String: "run" [927,932]
                                    STRING [933,964]
                                        String: "python -m unittest discover\n" [933,964]
                            OBJECT [966,1218]
                                FIELD [967,997]
                                    String: "name" [967,973]
                                    STRING [974,997]
                                        String: "Test vocabulary build" [974,997]
                                FIELD [998,1217]
                                    String: "run" [998,1003]
                                    STRING [1004,1217]
                                        String: "python onmt/bin/build_vocab.py \\\n  -config data/data.yaml \\\n  -save_data /tmp/onmt \\\n  -n_sample 5000 \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  && rm -rf /tmp/sample\n" [1004,1217]
                            OBJECT [1219,1593]
                                FIELD [1220,1254]
                                    String: "name" [1220,1226]
                                    STRING [1227,1254]
                                        String: "Test field/transform dump" [1227,1254]
                                FIELD [1255,1592]
                                    String: "run" [1255,1260]
                                    STRING [1261,1592]
                                        String: "# The dumped fields are used later when testing tools\npython train.py \\\n  -config data/data.yaml \\\n  -save_data /tmp/onmt.train.check \\\n  -dump_fields \\\n  -dump_transforms \\\n  -n_sample 30 \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000\n" [1261,1592]
                            OBJECT [1594,1929]
                                FIELD [1595,1621]
                                    String: "name" [1595,1601]
                                    STRING [1602,1621]
                                        String: "Test RNN training" [1602,1621]
                                FIELD [1622,1928]
                                    String: "run" [1622,1627]
                                    STRING [1628,1928]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -rnn_size 2 \\\n  -batch_size 10 \\\n  -word_vec_size 5 \\\n  -report_every 5\\\n  -rnn_size 10 \\\n  -train_steps 10\n" [1628,1928]
                            OBJECT [1930,2293]
                                FIELD [1931,1967]
                                    String: "name" [1931,1937]
                                    STRING [1938,1967]
                                        String: "Test RNN training with copy" [1938,1967]
                                FIELD [1968,2292]
                                    String: "run" [1968,1973]
                                    STRING [1974,2292]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -rnn_size 2 \\\n  -batch_size 10 \\\n  -word_vec_size 5 \\\n  -report_every 5 \\\n  -rnn_size 10 \\\n  -train_steps 10 \\\n  -copy_attn\n" [1974,2292]
                            OBJECT [2294,2680]
                                FIELD [2295,2335]
                                    String: "name" [2295,2301]
                                    STRING [2302,2335]
                                        String: "Test RNN training with coverage" [2302,2335]
                                FIELD [2336,2679]
                                    String: "run" [2336,2341]
                                    STRING [2342,2679]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -rnn_size 2 -batch_size 10 \\\n  -word_vec_size 5 -report_every 5        \\\n  -coverage_attn true -lambda_coverage 0.1 \\\n  -rnn_size 10 -train_steps 10\n" [2342,2679]
                            OBJECT [2681,3230]
                                FIELD [2682,2727]
                                    String: "name" [2682,2688]
                                    STRING [2689,2727]
                                        String: "Test Transformer training with align" [2689,2727]
                                FIELD [2728,3229]
                                    String: "run" [2728,2733]
                                    STRING [2734,3229]
                                        String: "python train.py \\\n  -config data/align_data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -max_generator_batches 0 \\\n  -encoder_type transformer \\\n  -decoder_type transformer \\\n  -layers 4 \\\n  -word_vec_size 16 \\\n  -rnn_size 16 \\\n  -heads 2 \\\n  -transformer_ff 64 \\\n  -lambda_align 0.05 \\\n  -alignment_layer 2 \\\n  -alignment_heads 0 \\\n  -report_every 5 \\\n  -train_steps 10\n" [2734,3229]
                            OBJECT [3231,3703]
                                FIELD [3232,3257]
                                    String: "name" [3232,3238]
                                    STRING [3239,3257]
                                        String: "Test LM training" [3239,3257]
                                FIELD [3258,3702]
                                    String: "run" [3258,3263]
                                    STRING [3264,3702]
                                        String: "python train.py \\\n    -config data/lm_data.yaml \\\n    -src_vocab /tmp/onmt.vocab.src \\\n    -tgt_vocab /tmp/onmt.vocab.src \\\n    -model_task lm \\\n    -encoder_type transformer_lm \\\n    -decoder_type transformer_lm \\\n    -src_vocab_size 1000 \\\n    -tgt_vocab_size 1000 \\\n    -dec_layers 2 -batch_size 10 \\\n    -heads 4 -transformer_ff 64 \\\n    -word_vec_size 16 -report_every 5 \\\n    -rnn_size 16 -train_steps 10\n" [3264,3702]
                            OBJECT [3704,4186]
                                FIELD [3705,3740]
                                    String: "name" [3705,3711]
                                    STRING [3712,3740]
                                        String: "Test LM training with copy" [3712,3740]
                                FIELD [3741,4185]
                                    String: "run" [3741,3746]
                                    STRING [3747,4185]
                                        String: "python train.py \\\n  -config data/lm_data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.src \\\n  -model_task lm \\\n  -encoder_type transformer_lm \\\n  -decoder_type transformer_lm \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -dec_layers 2 -batch_size 10 \\\n  -heads 4 -transformer_ff 64 \\\n  -word_vec_size 16 -report_every 5        \\\n  -rnn_size 16 -train_steps 10 \\\n  -copy_attn\n" [3747,4185]
                            OBJECT [4187,4677]
                                FIELD [4188,4231]
                                    String: "name" [4188,4194]
                                    STRING [4195,4231]
                                        String: "Test Graph neural network training" [4195,4231]
                                FIELD [4232,4676]
                                    String: "run" [4232,4237]
                                    STRING [4238,4676]
                                        String: "python train.py \\\n  -config data/ggnn_data.yaml \\\n  -src_seq_length 1000 \\\n  -tgt_seq_length 30 \\\n  -encoder_type ggnn \\\n  -layers 2 \\\n  -decoder_type rnn \\\n  -rnn_size 256 \\\n  -learning_rate 0.1 \\\n  -learning_rate_decay 0.8 \\\n  -global_attention general \\\n  -batch_size 32 \\\n  -word_vec_size 256 \\\n  -bridge \\\n  -train_steps 10 \\\n  -n_edge_types 9 \\\n  -state_dim 256 \\\n  -n_steps 10 \\\n  -n_node 64\n" [4238,4676]
                            OBJECT [4678,4865]
                                FIELD [4679,4708]
                                    String: "name" [4679,4685]
                                    STRING [4686,4708]
                                        String: "Test RNN translation" [4686,4708]
                                FIELD [4709,4864]
                                    String: "run" [4709,4714]
                                    STRING [4715,4864]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython translate.py \\\n  -model onmt/tests/test_model.pt \\\n  -src /tmp/src-test.txt \\\n  -verbose\n" [4715,4864]
                            OBJECT [4866,5093]
                                FIELD [4867,4905]
                                    String: "name" [4867,4873]
                                    STRING [4874,4905]
                                        String: "Test RNN ensemble translation" [4874,4905]
                                FIELD [4906,5092]
                                    String: "run" [4906,4911]
                                    STRING [4912,5092]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython translate.py \\\n  -model onmt/tests/test_model.pt \\\n  onmt/tests/test_model.pt \\\n  -src /tmp/src-test.txt \\\n  -verbose\n" [4912,5092]
                            OBJECT [5094,5408]
                                FIELD [5095,5141]
                                    String: "name" [5095,5101]
                                    STRING [5102,5141]
                                        String: "Test RNN translation with beam search" [5102,5141]
                                FIELD [5142,5407]
                                    String: "run" [5142,5147]
                                    STRING [5148,5407]
                                        String: "python translate.py \\\n  -model onmt/tests/test_model2.pt \\\n  -src data/morph/src.valid \\\n  -verbose \\\n  -batch_size 10 \\\n  -beam_size 10 \\\n  -tgt data/morph/tgt.valid \\\n  -out /tmp/trans\ndiff data/morph/tgt.valid /tmp/trans && rm /tmp/trans\n" [5148,5407]
                            OBJECT [5409,5810]
                                FIELD [5410,5460]
                                    String: "name" [5410,5416]
                                    STRING [5417,5460]
                                        String: "Test RNN translation with random sampling" [5417,5460]
                                FIELD [5461,5809]
                                    String: "run" [5461,5466]
                                    STRING [5467,5809]
                                        String: "python translate.py \\\n  -model onmt/tests/test_model2.pt \\\n  -src data/morph/src.valid \\\n  -verbose \\\n  -batch_size 10 \\\n  -beam_size 1 \\\n  -seed 1 \\\n  -random_sampling_topk \"-1\" \\\n  -random_sampling_temp 0.0001 \\\n  -tgt data/morph/tgt.valid \\\n  -out /tmp/trans\ndiff data/morph/tgt.valid /tmp/trans && rm /tmp/trans\n" [5467,5809]
                            OBJECT [5811,5999]
                                FIELD [5812,5839]
                                    String: "name" [5812,5818]
                                    STRING [5819,5839]
                                        String: "Test LM generation" [5819,5839]
                                FIELD [5840,5998]
                                    String: "run" [5840,5845]
                                    STRING [5846,5998]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython translate.py \\\n  -model onmt/tests/test_model_lm.pt \\\n  -src data/src-test.txt \\\n  -verbose\n" [5846,5998]
                            OBJECT [6000,6283]
                                FIELD [6001,6045]
                                    String: "name" [6001,6007]
                                    STRING [6008,6045]
                                        String: "Test LM generation with beam search" [6008,6045]
                                FIELD [6046,6282]
                                    String: "run" [6046,6051]
                                    STRING [6052,6282]
                                        String: "python translate.py \\\n  -model onmt/tests/test_model_lm.pt \\\n  -src data/data_lm/src-gen.txt \\\n  -verbose -batch_size 10 \\\n  -beam_size 10 \\\n  -out /tmp/gen\ndiff data/data_lm/gen-beam-sol.txt /tmp/gen && rm /tmp/gen\n" [6052,6282]
                            OBJECT [6284,6648]
                                FIELD [6285,6333]
                                    String: "name" [6285,6291]
                                    STRING [6292,6333]
                                        String: "Test LM generation with random sampling" [6292,6333]
                                FIELD [6334,6647]
                                    String: "run" [6334,6339]
                                    STRING [6340,6647]
                                        String: "python translate.py -model onmt/tests/test_model_lm.pt \\\n  -src data/data_lm/src-gen.txt \\\n  -verbose -batch_size 10 \\\n  -beam_size 1 \\\n  -seed 1 \\\n  -random_sampling_topk=-1 \\\n  -random_sampling_temp=0.0001 \\\n  -out /tmp/gen\ndiff data/data_lm/gen-sampling-sol.txt /tmp/gen && rm /tmp/gen\n" [6340,6647]
                            OBJECT [6649,6993]
                                FIELD [6650,6687]
                                    String: "name" [6650,6656]
                                    STRING [6657,6687]
                                        String: "Test extract_vocabulary tool" [6657,6687]
                                FIELD [6688,6992]
                                    String: "run" [6688,6693]
                                    STRING [6694,6992]
                                        String: "python tools/extract_vocabulary.py \\\n  -file /tmp/onmt.train.check.vocab.pt \\\n  -file_type field \\\n  -side src \\\n  -out_file /tmp/onmt.vocab.txt\nif ! wc -l /tmp/onmt.vocab.txt | grep -qF  \"1002\"\n  then echo \"wrong word count\" && exit 1\nelse\n  echo \"create vocabulary pass\"\nfi\n" [6694,6992]
                            OBJECT [6994,7333]
                                FIELD [6995,7033]
                                    String: "name" [6995,7001]
                                    STRING [7002,7033]
                                        String: "Test embeddings_to_torch tool" [7002,7033]
                                FIELD [7034,7332]
                                    String: "run" [7034,7039]
                                    STRING [7040,7332]
                                        String: "python tools/embeddings_to_torch.py \\\n  -emb_file_enc onmt/tests/sample_glove.txt \\\n  -emb_file_dec onmt/tests/sample_glove.txt \\\n  -dict_file /tmp/onmt.train.check.vocab.pt \\\n  -output_file /tmp/q_gloveembeddings \\\n  && rm /tmp/q_gloveembeddings*\nrm /tmp/onmt.train.check.*.pt\n" [7040,7332]
                            OBJECT [7334,7456]
                                FIELD [7335,7372]
                                    String: "name" [7335,7341]
                                    STRING [7342,7372]
                                        String: "Test extract_embeddings tool" [7342,7372]
                                FIELD [7373,7455]
                                    String: "run" [7373,7378]
                                    STRING [7379,7455]
                                        String: "python tools/extract_embeddings.py \\\n  -model onmt/tests/test_model.pt\n" [7379,7455]
            FIELD [7459,7920]
                String: "build-docs" [7459,7471]
                OBJECT [7472,7920]
                    FIELD [7473,7498]
                        String: "runs-on" [7473,7482]
                        STRING [7483,7498]
                            String: "ubuntu-latest" [7483,7498]
                    FIELD [7499,7919]
                        String: "steps" [7499,7506]
                        ARRAY [7507,7919]
                            OBJECT [7508,7538]
                                FIELD [7509,7537]
                                    String: "uses" [7509,7515]
                                    STRING [7516,7537]
                                        String: "actions/checkout@v2" [7516,7537]
                            OBJECT [7539,7630]
                                FIELD [7540,7566]
                                    String: "name" [7540,7546]
                                    STRING [7547,7566]
                                        String: "Set up Python 3.6" [7547,7566]
                                FIELD [7567,7599]
                                    String: "uses" [7567,7573]
                                    STRING [7574,7599]
                                        String: "actions/setup-python@v2" [7574,7599]
                                FIELD [7600,7629]
                                    String: "with" [7600,7606]
                                    OBJECT [7607,7629]
                                        FIELD [7608,7628]
                                            String: "python-version" [7608,7624]
                                            NUMBER [7625,7628]
                                                Number: 3.6 [7625,7628]
                            OBJECT [7631,7805]
                                FIELD [7632,7661]
                                    String: "name" [7632,7638]
                                    STRING [7639,7661]
                                        String: "Install dependencies" [7639,7661]
                                FIELD [7662,7804]
                                    String: "run" [7662,7667]
                                    STRING [7668,7804]
                                        String: "python -m pip install --upgrade pip\npip install --upgrade setuptools\npython setup.py install\npip install -r docs/requirements.txt\n" [7668,7804]
                            OBJECT [7806,7918]
                                FIELD [7807,7826]
                                    String: "name" [7807,7813]
                                    STRING [7814,7826]
                                        String: "Build docs" [7814,7826]
                                FIELD [7827,7917]
                                    String: "run" [7827,7832]
                                    STRING [7833,7917]
                                        String: "set -e\n# Check that docs are built without errors\ncd docs/ && make html && cd .." [7833,7917]