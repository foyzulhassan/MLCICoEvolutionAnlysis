OBJECT [0,3035]
    FIELD [1,20]
        String: "name" [1,7]
        STRING [8,20]
            String: "model jobs" [8,20]
    FIELD [21,200]
        String: "on" [21,25]
        OBJECT [26,200]
            FIELD [27,199]
                String: "workflow_call" [27,42]
                OBJECT [43,199]
                    FIELD [44,198]
                        String: "inputs" [44,52]
                        OBJECT [53,198]
                            FIELD [54,103]
                                String: "folder_slices" [54,69]
                                OBJECT [70,103]
                                    FIELD [71,86]
                                        String: "required" [71,81]
                                        TRUE [82,86]
                                    FIELD [87,102]
                                        String: "type" [87,93]
                                        STRING [94,102]
                                            String: "string" [94,102]
                            FIELD [104,152]
                                String: "machine_type" [104,118]
                                OBJECT [119,152]
                                    FIELD [120,135]
                                        String: "required" [120,130]
                                        TRUE [131,135]
                                    FIELD [136,151]
                                        String: "type" [136,142]
                                        STRING [143,151]
                                            String: "string" [143,151]
                            FIELD [153,197]
                                String: "slice_id" [153,163]
                                OBJECT [164,197]
                                    FIELD [165,180]
                                        String: "required" [165,175]
                                        TRUE [176,180]
                                    FIELD [181,196]
                                        String: "type" [181,187]
                                        STRING [188,196]
                                            String: "number" [188,196]
    FIELD [201,509]
        String: "env" [201,206]
        OBJECT [207,509]
            FIELD [208,230]
                String: "HF_HOME" [208,217]
                STRING [218,230]
                    String: "/mnt/cache" [218,230]
            FIELD [231,256]
                String: "TRANSFORMERS_IS_CI" [231,251]
                TRUE [252,256]
            FIELD [257,276]
                String: "OMP_NUM_THREADS" [257,274]
                NUMBER [275,276]
                    Number: 8 [275,276]
            FIELD [277,296]
                String: "MKL_NUM_THREADS" [277,294]
                NUMBER [295,296]
                    Number: 8 [295,296]
            FIELD [297,312]
                String: "RUN_SLOW" [297,307]
                TRUE [308,312]
            FIELD [313,367]
                String: "HF_HUB_READ_TOKEN" [313,332]
                STRING [333,367]
                    String: "${{ secrets.HF_HUB_READ_TOKEN }}" [333,367]
            FIELD [368,420]
                String: "SIGOPT_API_TOKEN" [368,386]
                STRING [387,420]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [387,420]
            FIELD [421,453]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [421,448]
                TRUE [449,453]
            FIELD [454,479]
                String: "RUN_PT_TF_CROSS_TESTS" [454,477]
                NUMBER [478,479]
                    Number: 1 [478,479]
            FIELD [480,508]
                String: "CUDA_VISIBLE_DEVICES" [480,502]
                STRING [503,508]
                    String: "0,1" [503,508]
    FIELD [510,3034]
        String: "jobs" [510,516]
        OBJECT [517,3034]
            FIELD [518,3033]
                String: "model_job" [518,529]
                OBJECT [530,3033]
                    FIELD [531,541]
                        String: "name" [531,537]
                        STRING [538,541]
                            String: " " [538,541]
                    FIELD [542,650]
                        String: "strategy" [542,552]
                        OBJECT [553,650]
                            FIELD [554,571]
                                String: "fail-fast" [554,565]
                                FALSE [566,571]
                            FIELD [572,649]
                                String: "matrix" [572,580]
                                OBJECT [581,649]
                                    FIELD [582,648]
                                        String: "folders" [582,591]
                                        STRING [592,648]
                                            String: "${{ fromJson(inputs.folder_slices)[inputs.slice_id] }}" [592,648]
                    FIELD [651,720]
                        String: "runs-on" [651,660]
                        ARRAY [661,720]
                            STRING [662,690]
                                String: "${{ inputs.machine_type }}" [662,690]
                            STRING [691,703]
                                String: "nvidia-gpu" [691,703]
                            STRING [704,708]
                                String: "t4" [704,708]
                            STRING [709,719]
                                String: "daily-ci" [709,719]
                    FIELD [721,883]
                        String: "container" [721,732]
                        OBJECT [733,883]
                            FIELD [734,783]
                                String: "image" [734,741]
                                STRING [742,783]
                                    String: "huggingface/transformers-all-latest-gpu" [742,783]
                            FIELD [784,882]
                                String: "options" [784,793]
                                STRING [794,882]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [794,882]
                    FIELD [884,3032]
                        String: "steps" [884,891]
                        ARRAY [892,3032]
                            OBJECT [893,1097]
                                FIELD [894,929]
                                    String: "name" [894,900]
                                    STRING [901,929]
                                        String: "Echo input and matrix info" [901,929]
                                FIELD [930,944]
                                    String: "shell" [930,937]
                                    STRING [938,944]
                                        String: "bash" [938,944]
                                FIELD [945,1096]
                                    String: "run" [945,950]
                                    STRING [951,1096]
                                        String: "echo \"${{ inputs.folder_slices }}\"\necho \"${{ matrix.folders }}\"\necho \"${{ toJson(fromJson(inputs.folder_slices)[inputs.slice_id]) }}\"\n" [951,1096]
                            OBJECT [1098,1372]
                                FIELD [1099,1141]
                                    String: "name" [1099,1105]
                                    STRING [1106,1141]
                                        String: "Echo folder ${{ matrix.folders }}" [1106,1141]
                                FIELD [1142,1156]
                                    String: "shell" [1142,1149]
                                    STRING [1150,1156]
                                        String: "bash" [1150,1156]
                                FIELD [1157,1371]
                                    String: "run" [1157,1162]
                                    STRING [1163,1371]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [1163,1371]
                            OBJECT [1373,1484]
                                FIELD [1374,1395]
                                    String: "name" [1374,1380]
                                    STRING [1381,1395]
                                        String: "Update clone" [1381,1395]
                                FIELD [1396,1431]
                                    String: "working-directory" [1396,1415]
                                    STRING [1416,1431]
                                        String: "/transformers" [1416,1431]
                                FIELD [1432,1483]
                                    String: "run" [1432,1437]
                                    STRING [1438,1483]
                                        String: "git fetch && git checkout ${{ github.sha }}" [1438,1483]
                            OBJECT [1485,1700]
                                FIELD [1486,1583]
                                    String: "name" [1486,1492]
                                    STRING [1493,1583]
                                        String: "Reinstall transformers in edit mode (remove the one installed during docker image build)" [1493,1583]
                                FIELD [1584,1619]
                                    String: "working-directory" [1584,1603]
                                    STRING [1604,1619]
                                        String: "/transformers" [1604,1619]
                                FIELD [1620,1699]
                                    String: "run" [1620,1625]
                                    STRING [1626,1699]
                                        String: "python3 -m pip uninstall -y transformers && python3 -m pip install -e ." [1626,1699]
                            OBJECT [1701,1743]
                                FIELD [1702,1721]
                                    String: "name" [1702,1708]
                                    STRING [1709,1721]
                                        String: "NVIDIA-SMI" [1709,1721]
                                FIELD [1722,1742]
                                    String: "run" [1722,1727]
                                    STRING [1728,1742]
                                        String: "nvidia-smi\n" [1728,1742]
                            OBJECT [1744,1839]
                                FIELD [1745,1765]
                                    String: "name" [1745,1751]
                                    STRING [1752,1765]
                                        String: "Environment" [1752,1765]
                                FIELD [1766,1801]
                                    String: "working-directory" [1766,1785]
                                    STRING [1786,1801]
                                        String: "/transformers" [1786,1801]
                                FIELD [1802,1838]
                                    String: "run" [1802,1807]
                                    STRING [1808,1838]
                                        String: "python3 utils/print_env.py\n" [1808,1838]
                            OBJECT [1840,1949]
                                FIELD [1841,1893]
                                    String: "name" [1841,1847]
                                    STRING [1848,1893]
                                        String: "Show installed libraries and their versions" [1848,1893]
                                FIELD [1894,1929]
                                    String: "working-directory" [1894,1913]
                                    STRING [1914,1929]
                                        String: "/transformers" [1914,1929]
                                FIELD [1930,1948]
                                    String: "run" [1930,1935]
                                    STRING [1936,1948]
                                        String: "pip freeze" [1936,1948]
                            OBJECT [1950,2148]
                                FIELD [1951,1980]
                                    String: "name" [1951,1957]
                                    STRING [1958,1980]
                                        String: "Run all tests on GPU" [1958,1980]
                                FIELD [1981,2016]
                                    String: "working-directory" [1981,2000]
                                    STRING [2001,2016]
                                        String: "/transformers" [2001,2016]
                                FIELD [2017,2147]
                                    String: "run" [2017,2022]
                                    STRING [2023,2147]
                                        String: "python3 -m pytest -v --make-reports=${{ inputs.machine_type }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [2023,2147]
                            OBJECT [2149,2342]
                                FIELD [2150,2180]
                                    String: "name" [2150,2156]
                                    STRING [2157,2180]
                                        String: "Failure short reports" [2157,2180]
                                FIELD [2181,2204]
                                    String: "if" [2181,2185]
                                    STRING [2186,2204]
                                        String: "${{ failure() }}" [2186,2204]
                                FIELD [2205,2229]
                                    String: "continue-on-error" [2205,2224]
                                    TRUE [2225,2229]
                                FIELD [2230,2341]
                                    String: "run" [2230,2235]
                                    STRING [2236,2341]
                                        String: "cat /transformers/reports/${{ inputs.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [2236,2341]
                            OBJECT [2343,2655]
                                FIELD [2344,2361]
                                    String: "name" [2344,2350]
                                    STRING [2351,2361]
                                        String: "Run test" [2351,2361]
                                FIELD [2362,2376]
                                    String: "shell" [2362,2369]
                                    STRING [2370,2376]
                                        String: "bash" [2370,2376]
                                FIELD [2377,2654]
                                    String: "run" [2377,2382]
                                    STRING [2383,2654]
                                        String: "mkdir -p /transformers/reports/${{ inputs.machine_type }}_tests_gpu_${{ matrix.folders }}\necho \"hello\" > /transformers/reports/${{ inputs.machine_type }}_tests_gpu_${{ matrix.folders }}/hello.txt\necho \"${{ inputs.machine_type }}_tests_gpu_${{ matrix.folders }}\"\n" [2383,2654]
                            OBJECT [2656,3031]
                                FIELD [2657,2779]
                                    String: "name" [2657,2663]
                                    STRING [2664,2779]
                                        String: "Test suite reports artifacts: ${{ inputs.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports" [2664,2779]
                                FIELD [2780,2802]
                                    String: "if" [2780,2784]
                                    STRING [2785,2802]
                                        String: "${{ always() }}" [2785,2802]
                                FIELD [2803,2838]
                                    String: "uses" [2803,2809]
                                    STRING [2810,2838]
                                        String: "actions/upload-artifact@v3" [2810,2838]
                                FIELD [2839,3030]
                                    String: "with" [2839,2845]
                                    OBJECT [2846,3030]
                                        FIELD [2847,2939]
                                            String: "name" [2847,2853]
                                            STRING [2854,2939]
                                                String: "${{ inputs.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports" [2854,2939]
                                        FIELD [2940,3029]
                                            String: "path" [2940,2946]
                                            STRING [2947,3029]
                                                String: "/transformers/reports/${{ inputs.machine_type }}_tests_gpu_${{ matrix.folders }}" [2947,3029]