OBJECT [0,3238]
    FIELD [1,29]
        String: "name" [1,7]
        STRING [8,29]
            String: "Build documentation" [8,29]
    FIELD [30,110]
        String: "on" [30,34]
        OBJECT [35,110]
            FIELD [36,109]
                String: "push" [36,42]
                OBJECT [43,109]
                    FIELD [44,108]
                        String: "branches" [44,54]
                        ARRAY [55,108]
                            STRING [56,64]
                                String: "master" [56,64]
                            STRING [65,79]
                                String: "doc_builder*" [65,79]
                            STRING [80,94]
                                String: "doc-builder*" [80,94]
                            STRING [95,107]
                                String: "v*-release" [95,107]
    FIELD [111,3237]
        String: "jobs" [111,117]
        OBJECT [118,3237]
            FIELD [119,3236]
                String: "build_and_package" [119,138]
                OBJECT [139,3236]
                    FIELD [140,165]
                        String: "runs-on" [140,149]
                        STRING [150,165]
                            String: "ubuntu-latest" [150,165]
                    FIELD [166,208]
                        String: "defaults" [166,176]
                        OBJECT [177,208]
                            FIELD [178,207]
                                String: "run" [178,183]
                                OBJECT [184,207]
                                    FIELD [185,206]
                                        String: "shell" [185,192]
                                        STRING [193,206]
                                            String: "bash -l {0}" [193,206]
                    FIELD [209,3235]
                        String: "steps" [209,216]
                        ARRAY [217,3235]
                            OBJECT [218,279]
                                FIELD [219,249]
                                    String: "uses" [219,225]
                                    STRING [226,249]
                                        String: "actions/setup-node@v2" [226,249]
                                FIELD [250,278]
                                    String: "with" [250,256]
                                    OBJECT [257,278]
                                        FIELD [258,277]
                                            String: "node-version" [258,272]
                                            STRING [273,277]
                                                String: "16" [273,277]
                            OBJECT [280,379]
                                FIELD [281,309]
                                    String: "uses" [281,287]
                                    STRING [288,309]
                                        String: "actions/checkout@v2" [288,309]
                                FIELD [310,378]
                                    String: "with" [310,316]
                                    OBJECT [317,378]
                                        FIELD [318,356]
                                            String: "repository" [318,330]
                                            STRING [331,356]
                                                String: "huggingface/doc-builder" [331,356]
                                        FIELD [357,377]
                                            String: "path" [357,363]
                                            STRING [364,377]
                                                String: "doc-builder" [364,377]
                            OBJECT [380,517]
                                FIELD [381,409]
                                    String: "uses" [381,387]
                                    STRING [388,409]
                                        String: "actions/checkout@v2" [388,409]
                                FIELD [410,516]
                                    String: "with" [410,416]
                                    OBJECT [417,516]
                                        FIELD [418,454]
                                            String: "repository" [418,430]
                                            STRING [431,454]
                                                String: "huggingface/doc-build" [431,454]
                                        FIELD [455,473]
                                            String: "path" [455,461]
                                            STRING [462,473]
                                                String: "doc-build" [462,473]
                                        FIELD [474,515]
                                            String: "token" [474,481]
                                            STRING [482,515]
                                                String: "${{ secrets.HUGGINGFACE_PUSH }}" [482,515]
                            OBJECT [518,619]
                                FIELD [519,547]
                                    String: "uses" [519,525]
                                    STRING [526,547]
                                        String: "actions/checkout@v2" [526,547]
                                FIELD [548,618]
                                    String: "with" [548,554]
                                    OBJECT [555,618]
                                        FIELD [556,595]
                                            String: "repository" [556,568]
                                            STRING [569,595]
                                                String: "huggingface/transformers" [569,595]
                                        FIELD [596,617]
                                            String: "path" [596,602]
                                            STRING [603,617]
                                                String: "transformers" [603,617]
                            OBJECT [620,757]
                                FIELD [621,649]
                                    String: "uses" [621,627]
                                    STRING [628,649]
                                        String: "actions/checkout@v2" [628,649]
                                FIELD [650,756]
                                    String: "with" [650,656]
                                    OBJECT [657,756]
                                        FIELD [658,694]
                                            String: "repository" [658,670]
                                            STRING [671,694]
                                                String: "huggingface/notebooks" [671,694]
                                        FIELD [695,713]
                                            String: "path" [695,701]
                                            STRING [702,713]
                                                String: "notebooks" [702,713]
                                        FIELD [714,755]
                                            String: "token" [714,721]
                                            STRING [722,755]
                                                String: "${{ secrets.HUGGINGFACE_PUSH }}" [722,755]
                            OBJECT [758,964]
                                FIELD [759,782]
                                    String: "name" [759,765]
                                    STRING [766,782]
                                        String: "Loading cache." [766,782]
                                FIELD [783,808]
                                    String: "uses" [783,789]
                                    STRING [790,808]
                                        String: "actions/cache@v2" [790,808]
                                FIELD [809,821]
                                    String: "id" [809,813]
                                    STRING [814,821]
                                        String: "cache" [814,821]
                                FIELD [822,963]
                                    String: "with" [822,828]
                                    OBJECT [829,963]
                                        FIELD [830,851]
                                            String: "path" [830,836]
                                            STRING [837,851]
                                                String: "~/.cache/pip" [837,851]
                                        FIELD [852,877]
                                            String: "key" [852,857]
                                            STRING [858,877]
                                                String: "v1-test_build_doc" [858,877]
                                        FIELD [878,962]
                                            String: "restore-keys" [878,892]
                                            STRING [893,962]
                                                String: "v1-test_build_doc-${{ hashFiles('setup.py') }}\nv1-test_build_doc\n" [893,962]
                            OBJECT [965,1678]
                                FIELD [966,992]
                                    String: "name" [966,972]
                                    STRING [973,992]
                                        String: "Setup environment" [973,992]
                                FIELD [993,1677]
                                    String: "run" [993,998]
                                    STRING [999,1677]
                                        String: "sudo apt-get -y update && sudo apt-get install -y libsndfile1-dev\n\npip install git+https://github.com/huggingface/doc-builder\ncd transformers\npip install .[dev]\ncd ..\n\nexport TORCH_VERSION=$(python -c \"from torch import version; print(version.__version__.split('+')[0])\")\npip install torch-scatter -f https://data.pyg.org/whl/torch-${TORCH_VERSION}+cpu.html\n\npip install torchvision\npython -m pip install 'git+https://github.com/facebookresearch/detectron2.git'\n\nsudo apt install tesseract-ocr\npip install pytesseract\npip install pytorch-quantization --extra-index-url https://pypi.ngc.nvidia.com\npip install https://github.com/kpu/kenlm/archive/master.zip\n" [999,1677]
                            OBJECT [1679,1820]
                                FIELD [1680,1698]
                                    String: "name" [1680,1686]
                                    STRING [1687,1698]
                                        String: "Setup git" [1687,1698]
                                FIELD [1699,1819]
                                    String: "run" [1699,1704]
                                    STRING [1705,1819]
                                        String: "git config --global user.name \"Hugging Face Doc Builder\"\ngit config --global user.email docs@huggingface.co\n" [1705,1819]
                            OBJECT [1821,2005]
                                FIELD [1822,1853]
                                    String: "name" [1822,1828]
                                    STRING [1829,1853]
                                        String: "Create build directory" [1829,1853]
                                FIELD [1854,2004]
                                    String: "run" [1854,1859]
                                    STRING [1860,2004]
                                        String: "cd doc-build\ngit pull\ncd ..\nmkdir build_dir\nmkdir build_dir/transformers\ncp doc-build/transformers/_versions.yml build_dir/transformers\n" [1860,2004]
                            OBJECT [2006,2256]
                                FIELD [2007,2034]
                                    String: "name" [2007,2013]
                                    STRING [2014,2034]
                                        String: "Make documentation" [2014,2034]
                                FIELD [2035,2204]
                                    String: "run" [2035,2040]
                                    STRING [2041,2204]
                                        String: "cd doc-builder &&\ndoc-builder build transformers ../transformers/docs/source --build_dir ../build_dir --notebook_dir ../notebooks_dir --clean --html &&\ncd ..\n" [2041,2204]
                                FIELD [2205,2255]
                                    String: "env" [2205,2210]
                                    OBJECT [2211,2255]
                                        FIELD [2212,2254]
                                            String: "NODE_OPTIONS" [2212,2226]
                                            STRING [2227,2254]
                                                String: "--max-old-space-size=6656" [2227,2254]
                            OBJECT [2257,3234]
                                FIELD [2258,2287]
                                    String: "name" [2258,2264]
                                    STRING [2265,2287]
                                        String: "Push to repositories" [2265,2287]
                                FIELD [2288,3233]
                                    String: "run" [2288,2293]
                                    STRING [2294,3233]
                                        String: "cd doc-build\ngit pull\nmv ../build_dir/transformers/_versions.yml transformers/\nrm -rf transformers/$(ls ../build_dir/transformers)\nmv ../build_dir/transformers/$(ls ../build_dir/transformers) transformers/$(ls ../build_dir/transformers)\ngit status\n\nif [[ `git status --porcelain` ]]; then \n  git add .\n  git commit -m \"Updated with commit ${{ github.sha }} \\n\\nSee: https://github.com/huggingface/transformers/commit/${{ github.sha }}\"\n  git push origin main\nelse\n  echo \"No diff in the documentation.\"\nfi\n\ncd ..\n\ncd notebooks\ngit pull\ncp -r ../notebooks_dir/. transformers_doc/\ngit status\n\nif [[ `git status --porcelain` ]]; then\n  git add transformers_doc\n  git commit -m \"Updated Transformer doc notebooks with commit ${{ github.sha }} \\n\\nSee: https://github.com/huggingface/transformers/commit/${{ github.sha }}\" &&\n  git push origin master\nelse\n  echo \"No diff in the notebooks.\"\nfi\n\ncd .." [2294,3233]