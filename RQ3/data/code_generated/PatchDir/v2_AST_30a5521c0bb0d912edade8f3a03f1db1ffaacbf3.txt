OBJECT [0,10834]
    FIELD [1,40]
        String: "name" [1,7]
        STRING [8,40]
            String: "Self-hosted runner (scheduled)" [8,40]
    FIELD [41,143]
        String: "on" [41,45]
        OBJECT [46,143]
            FIELD [47,81]
                String: "push" [47,53]
                OBJECT [54,81]
                    FIELD [55,80]
                        String: "branches" [55,65]
                        ARRAY [66,80]
                            STRING [67,79]
                                String: "multi_ci_*" [67,79]
            FIELD [82,108]
                String: "repository_dispatch" [82,103]
                NULL [104,108]
            FIELD [109,142]
                String: "schedule" [109,119]
                ARRAY [120,142]
                    OBJECT [121,141]
                        FIELD [122,140]
                            String: "cron" [122,128]
                            STRING [129,140]
                                String: "0 0 * * *" [129,140]
    FIELD [144,258]
        String: "env" [144,149]
        OBJECT [150,258]
            FIELD [151,173]
                String: "HF_HOME" [151,160]
                STRING [161,173]
                    String: "/mnt/cache" [161,173]
            FIELD [174,199]
                String: "TRANSFORMERS_IS_CI" [174,194]
                TRUE [195,199]
            FIELD [200,215]
                String: "RUN_SLOW" [200,210]
                TRUE [211,215]
            FIELD [216,236]
                String: "OMP_NUM_THREADS" [216,233]
                NUMBER [234,236]
                    Number: 16 [234,236]
            FIELD [237,257]
                String: "MKL_NUM_THREADS" [237,254]
                NUMBER [255,257]
                    Number: 16 [255,257]
    FIELD [259,10833]
        String: "jobs" [259,265]
        OBJECT [266,10833]
            FIELD [267,2388]
                String: "run_all_tests_torch_gpu" [267,292]
                OBJECT [293,2388]
                    FIELD [294,345]
                        String: "runs-on" [294,303]
                        ARRAY [304,345]
                            STRING [305,318]
                                String: "self-hosted" [305,318]
                            STRING [319,331]
                                String: "docker-gpu" [319,331]
                            STRING [332,344]
                                String: "single-gpu" [332,344]
                    FIELD [346,512]
                        String: "container" [346,357]
                        OBJECT [358,512]
                            FIELD [359,414]
                                String: "image" [359,366]
                                STRING [367,414]
                                    String: "pytorch/pytorch:1.9.0-cuda11.1-cudnn8-runtime" [367,414]
                            FIELD [415,511]
                                String: "options" [415,424]
                                STRING [425,511]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [425,511]
                    FIELD [513,2387]
                        String: "steps" [513,520]
                        ARRAY [521,2387]
                            OBJECT [522,577]
                                FIELD [523,547]
                                    String: "name" [523,529]
                                    STRING [530,547]
                                        String: "Launcher docker" [530,547]
                                FIELD [548,576]
                                    String: "uses" [548,554]
                                    STRING [555,576]
                                        String: "actions/checkout@v2" [555,576]
                            OBJECT [578,620]
                                FIELD [579,598]
                                    String: "name" [579,585]
                                    STRING [586,598]
                                        String: "NVIDIA-SMI" [586,598]
                                FIELD [599,619]
                                    String: "run" [599,604]
                                    STRING [605,619]
                                        String: "nvidia-smi\n" [605,619]
                            OBJECT [621,828]
                                FIELD [622,651]
                                    String: "name" [622,628]
                                    STRING [629,651]
                                        String: "Install dependencies" [629,651]
                                FIELD [652,827]
                                    String: "run" [652,657]
                                    STRING [658,827]
                                        String: "apt -y update && apt install -y libsndfile1-dev\npip install --upgrade pip\npip install .[integrations, sklearn,testing,onnxruntime,sentencepiece,speech,vision,timm]\n" [658,827]
                            OBJECT [829,1218]
                                FIELD [830,879]
                                    String: "name" [830,836]
                                    STRING [837,879]
                                        String: "Are GPUs recognized by our DL frameworks" [837,879]
                                FIELD [880,1217]
                                    String: "run" [880,885]
                                    STRING [886,1217]
                                        String: "python -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Cuda version:', torch.version.cuda)\"\npython -c \"import torch; print('CuDNN version:', torch.backends.cudnn.version())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [886,1217]
                            OBJECT [1219,1335]
                                FIELD [1220,1249]
                                    String: "name" [1220,1226]
                                    STRING [1227,1249]
                                        String: "Run all tests on GPU" [1227,1249]
                                FIELD [1250,1334]
                                    String: "run" [1250,1255]
                                    STRING [1256,1334]
                                        String: "python -m pytest -n 1 --dist=loadfile --make-reports=tests_torch_gpu tests\n" [1256,1334]
                            OBJECT [1336,1446]
                                FIELD [1337,1367]
                                    String: "name" [1337,1343]
                                    STRING [1344,1367]
                                        String: "Failure short reports" [1344,1367]
                                FIELD [1368,1390]
                                    String: "if" [1368,1372]
                                    STRING [1373,1390]
                                        String: "${{ always() }}" [1373,1390]
                                FIELD [1391,1445]
                                    String: "run" [1391,1396]
                                    STRING [1397,1445]
                                        String: "cat reports/tests_torch_gpu_failures_short.txt" [1397,1445]
                            OBJECT [1447,1769]
                                FIELD [1448,1482]
                                    String: "name" [1448,1454]
                                    STRING [1455,1482]
                                        String: "Run examples tests on GPU" [1455,1482]
                                FIELD [1483,1505]
                                    String: "if" [1483,1487]
                                    STRING [1488,1505]
                                        String: "${{ always() }}" [1488,1505]
                                FIELD [1506,1620]
                                    String: "env" [1506,1511]
                                    OBJECT [1512,1620]
                                        FIELD [1513,1533]
                                            String: "OMP_NUM_THREADS" [1513,1530]
                                            NUMBER [1531,1533]
                                                Number: 16 [1531,1533]
                                        FIELD [1534,1554]
                                            String: "MKL_NUM_THREADS" [1534,1551]
                                            NUMBER [1552,1554]
                                                Number: 16 [1552,1554]
                                        FIELD [1555,1570]
                                            String: "RUN_SLOW" [1555,1565]
                                            TRUE [1566,1570]
                                        FIELD [1571,1593]
                                            String: "HF_HOME" [1571,1580]
                                            STRING [1581,1593]
                                                String: "/mnt/cache" [1581,1593]
                                        FIELD [1594,1619]
                                            String: "TRANSFORMERS_IS_CI" [1594,1614]
                                            TRUE [1615,1619]
                                FIELD [1621,1768]
                                    String: "run" [1621,1626]
                                    STRING [1627,1768]
                                        String: "pip install -r examples/pytorch/_tests_requirements.txt\npython -m pytest -n 1 --dist=loadfile --make-reports=examples_torch_gpu examples\n" [1627,1768]
                            OBJECT [1770,1883]
                                FIELD [1771,1801]
                                    String: "name" [1771,1777]
                                    STRING [1778,1801]
                                        String: "Failure short reports" [1778,1801]
                                FIELD [1802,1824]
                                    String: "if" [1802,1806]
                                    STRING [1807,1824]
                                        String: "${{ always() }}" [1807,1824]
                                FIELD [1825,1882]
                                    String: "run" [1825,1830]
                                    STRING [1831,1882]
                                        String: "cat reports/examples_torch_gpu_failures_short.txt" [1831,1882]
                            OBJECT [1884,2095]
                                FIELD [1885,1923]
                                    String: "name" [1885,1891]
                                    STRING [1892,1923]
                                        String: "Run all pipeline tests on GPU" [1892,1923]
                                FIELD [1924,1946]
                                    String: "if" [1924,1928]
                                    STRING [1929,1946]
                                        String: "${{ always() }}" [1929,1946]
                                FIELD [1947,1980]
                                    String: "env" [1947,1952]
                                    OBJECT [1953,1980]
                                        FIELD [1954,1979]
                                            String: "RUN_PIPELINE_TESTS" [1954,1974]
                                            TRUE [1975,1979]
                                FIELD [1981,2094]
                                    String: "run" [1981,1986]
                                    STRING [1987,2094]
                                        String: "python -m pytest -n 1 --dist=loadfile -m is_pipeline_test --make-reports=tests_torch_pipeline_gpu tests\n" [1987,2094]
                            OBJECT [2096,2215]
                                FIELD [2097,2127]
                                    String: "name" [2097,2103]
                                    STRING [2104,2127]
                                        String: "Failure short reports" [2104,2127]
                                FIELD [2128,2150]
                                    String: "if" [2128,2132]
                                    STRING [2133,2150]
                                        String: "${{ always() }}" [2133,2150]
                                FIELD [2151,2214]
                                    String: "run" [2151,2156]
                                    STRING [2157,2214]
                                        String: "cat reports/tests_torch_pipeline_gpu_failures_short.txt" [2157,2214]
                            OBJECT [2216,2386]
                                FIELD [2217,2254]
                                    String: "name" [2217,2223]
                                    STRING [2224,2254]
                                        String: "Test suite reports artifacts" [2224,2254]
                                FIELD [2255,2277]
                                    String: "if" [2255,2259]
                                    STRING [2260,2277]
                                        String: "${{ always() }}" [2260,2277]
                                FIELD [2278,2313]
                                    String: "uses" [2278,2284]
                                    STRING [2285,2313]
                                        String: "actions/upload-artifact@v2" [2285,2313]
                                FIELD [2314,2385]
                                    String: "with" [2314,2320]
                                    OBJECT [2321,2385]
                                        FIELD [2322,2367]
                                            String: "name" [2322,2328]
                                            STRING [2329,2367]
                                                String: "run_all_tests_torch_gpu_test_reports" [2329,2367]
                                        FIELD [2368,2384]
                                            String: "path" [2368,2374]
                                            STRING [2375,2384]
                                                String: "reports" [2375,2384]
            FIELD [2389,4024]
                String: "run_all_tests_tf_gpu" [2389,2411]
                OBJECT [2412,4024]
                    FIELD [2413,2464]
                        String: "runs-on" [2413,2422]
                        ARRAY [2423,2464]
                            STRING [2424,2437]
                                String: "self-hosted" [2424,2437]
                            STRING [2438,2450]
                                String: "docker-gpu" [2438,2450]
                            STRING [2451,2463]
                                String: "single-gpu" [2451,2463]
                    FIELD [2465,2617]
                        String: "container" [2465,2476]
                        OBJECT [2477,2617]
                            FIELD [2478,2519]
                                String: "image" [2478,2485]
                                STRING [2486,2519]
                                    String: "tensorflow/tensorflow:2.4.1-gpu" [2486,2519]
                            FIELD [2520,2616]
                                String: "options" [2520,2529]
                                STRING [2530,2616]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [2530,2616]
                    FIELD [2618,4023]
                        String: "steps" [2618,2625]
                        ARRAY [2626,4023]
                            OBJECT [2627,2682]
                                FIELD [2628,2652]
                                    String: "name" [2628,2634]
                                    STRING [2635,2652]
                                        String: "Launcher docker" [2635,2652]
                                FIELD [2653,2681]
                                    String: "uses" [2653,2659]
                                    STRING [2660,2681]
                                        String: "actions/checkout@v2" [2660,2681]
                            OBJECT [2683,2725]
                                FIELD [2684,2703]
                                    String: "name" [2684,2690]
                                    STRING [2691,2703]
                                        String: "NVIDIA-SMI" [2691,2703]
                                FIELD [2704,2724]
                                    String: "run" [2704,2709]
                                    STRING [2710,2724]
                                        String: "nvidia-smi\n" [2710,2724]
                            OBJECT [2726,2844]
                                FIELD [2727,2756]
                                    String: "name" [2727,2733]
                                    STRING [2734,2756]
                                        String: "Install dependencies" [2734,2756]
                                FIELD [2757,2843]
                                    String: "run" [2757,2762]
                                    STRING [2763,2843]
                                        String: "pip install --upgrade pip\npip install .[sklearn,testing,onnx,sentencepiece]\n" [2763,2843]
                            OBJECT [2845,3188]
                                FIELD [2846,2895]
                                    String: "name" [2846,2852]
                                    STRING [2853,2895]
                                        String: "Are GPUs recognized by our DL frameworks" [2853,2895]
                                FIELD [2896,3187]
                                    String: "run" [2896,2901]
                                    STRING [2902,3187]
                                        String: "TF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [2902,3187]
                            OBJECT [3189,3365]
                                FIELD [3190,3219]
                                    String: "name" [3190,3196]
                                    STRING [3197,3219]
                                        String: "Run all tests on GPU" [3197,3219]
                                FIELD [3220,3282]
                                    String: "env" [3220,3225]
                                    OBJECT [3226,3282]
                                        FIELD [3227,3253]
                                            String: "TF_NUM_INTEROP_THREADS" [3227,3251]
                                            NUMBER [3252,3253]
                                                Number: 1 [3252,3253]
                                        FIELD [3254,3281]
                                            String: "TF_NUM_INTRAOP_THREADS" [3254,3278]
                                            NUMBER [3279,3281]
                                                Number: 16 [3279,3281]
                                FIELD [3283,3364]
                                    String: "run" [3283,3288]
                                    STRING [3289,3364]
                                        String: "python -m pytest -n 1 --dist=loadfile --make-reports=tests_tf_gpu tests\n" [3289,3364]
                            OBJECT [3366,3473]
                                FIELD [3367,3397]
                                    String: "name" [3367,3373]
                                    STRING [3374,3397]
                                        String: "Failure short reports" [3374,3397]
                                FIELD [3398,3420]
                                    String: "if" [3398,3402]
                                    STRING [3403,3420]
                                        String: "${{ always() }}" [3403,3420]
                                FIELD [3421,3472]
                                    String: "run" [3421,3426]
                                    STRING [3427,3472]
                                        String: "cat reports/tests_tf_gpu_failures_short.txt" [3427,3472]
                            OBJECT [3474,3737]
                                FIELD [3475,3513]
                                    String: "name" [3475,3481]
                                    STRING [3482,3513]
                                        String: "Run all pipeline tests on GPU" [3482,3513]
                                FIELD [3514,3536]
                                    String: "if" [3514,3518]
                                    STRING [3519,3536]
                                        String: "${{ always() }}" [3519,3536]
                                FIELD [3537,3625]
                                    String: "env" [3537,3542]
                                    OBJECT [3543,3625]
                                        FIELD [3544,3569]
                                            String: "RUN_PIPELINE_TESTS" [3544,3564]
                                            TRUE [3565,3569]
                                        FIELD [3570,3596]
                                            String: "TF_NUM_INTEROP_THREADS" [3570,3594]
                                            NUMBER [3595,3596]
                                                Number: 1 [3595,3596]
                                        FIELD [3597,3624]
                                            String: "TF_NUM_INTRAOP_THREADS" [3597,3621]
                                            NUMBER [3622,3624]
                                                Number: 16 [3622,3624]
                                FIELD [3626,3736]
                                    String: "run" [3626,3631]
                                    STRING [3632,3736]
                                        String: "python -m pytest -n 1 --dist=loadfile -m is_pipeline_test --make-reports=tests_tf_pipeline_gpu tests\n" [3632,3736]
                            OBJECT [3738,3854]
                                FIELD [3739,3769]
                                    String: "name" [3739,3745]
                                    STRING [3746,3769]
                                        String: "Failure short reports" [3746,3769]
                                FIELD [3770,3792]
                                    String: "if" [3770,3774]
                                    STRING [3775,3792]
                                        String: "${{ always() }}" [3775,3792]
                                FIELD [3793,3853]
                                    String: "run" [3793,3798]
                                    STRING [3799,3853]
                                        String: "cat reports/tests_tf_pipeline_gpu_failures_short.txt" [3799,3853]
                            OBJECT [3855,4022]
                                FIELD [3856,3893]
                                    String: "name" [3856,3862]
                                    STRING [3863,3893]
                                        String: "Test suite reports artifacts" [3863,3893]
                                FIELD [3894,3916]
                                    String: "if" [3894,3898]
                                    STRING [3899,3916]
                                        String: "${{ always() }}" [3899,3916]
                                FIELD [3917,3952]
                                    String: "uses" [3917,3923]
                                    STRING [3924,3952]
                                        String: "actions/upload-artifact@v2" [3924,3952]
                                FIELD [3953,4021]
                                    String: "with" [3953,3959]
                                    OBJECT [3960,4021]
                                        FIELD [3961,4003]
                                            String: "name" [3961,3967]
                                            STRING [3968,4003]
                                                String: "run_all_tests_tf_gpu_test_reports" [3968,4003]
                                        FIELD [4004,4020]
                                            String: "path" [4004,4010]
                                            STRING [4011,4020]
                                                String: "reports" [4011,4020]
            FIELD [4025,5782]
                String: "run_all_tests_torch_multi_gpu" [4025,4056]
                OBJECT [4057,5782]
                    FIELD [4058,4108]
                        String: "runs-on" [4058,4067]
                        ARRAY [4068,4108]
                            STRING [4069,4082]
                                String: "self-hosted" [4069,4082]
                            STRING [4083,4095]
                                String: "docker-gpu" [4083,4095]
                            STRING [4096,4107]
                                String: "multi-gpu" [4096,4107]
                    FIELD [4109,4277]
                        String: "container" [4109,4120]
                        OBJECT [4121,4277]
                            FIELD [4122,4177]
                                String: "image" [4122,4129]
                                STRING [4130,4177]
                                    String: "pytorch/pytorch:1.9.0-cuda11.1-cudnn8-runtime" [4130,4177]
                            FIELD [4178,4276]
                                String: "options" [4178,4187]
                                STRING [4188,4276]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [4188,4276]
                    FIELD [4278,5781]
                        String: "steps" [4278,4285]
                        ARRAY [4286,5781]
                            OBJECT [4287,4342]
                                FIELD [4288,4312]
                                    String: "name" [4288,4294]
                                    STRING [4295,4312]
                                        String: "Launcher docker" [4295,4312]
                                FIELD [4313,4341]
                                    String: "uses" [4313,4319]
                                    STRING [4320,4341]
                                        String: "actions/checkout@v2" [4320,4341]
                            OBJECT [4343,4385]
                                FIELD [4344,4363]
                                    String: "name" [4344,4350]
                                    STRING [4351,4363]
                                        String: "NVIDIA-SMI" [4351,4363]
                                FIELD [4364,4384]
                                    String: "run" [4364,4369]
                                    STRING [4370,4384]
                                        String: "nvidia-smi\n" [4370,4384]
                            OBJECT [4386,4593]
                                FIELD [4387,4416]
                                    String: "name" [4387,4393]
                                    STRING [4394,4416]
                                        String: "Install dependencies" [4394,4416]
                                FIELD [4417,4592]
                                    String: "run" [4417,4422]
                                    STRING [4423,4592]
                                        String: "apt -y update && apt install -y libsndfile1-dev\npip install --upgrade pip\npip install .[integrations, sklearn,testing,onnxruntime,sentencepiece,speech,vision,timm]\n" [4423,4592]
                            OBJECT [4594,4983]
                                FIELD [4595,4644]
                                    String: "name" [4595,4601]
                                    STRING [4602,4644]
                                        String: "Are GPUs recognized by our DL frameworks" [4602,4644]
                                FIELD [4645,4982]
                                    String: "run" [4645,4650]
                                    STRING [4651,4982]
                                        String: "python -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Cuda version:', torch.version.cuda)\"\npython -c \"import torch; print('CuDNN version:', torch.backends.cudnn.version())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [4651,4982]
                            OBJECT [4984,5142]
                                FIELD [4985,5014]
                                    String: "name" [4985,4991]
                                    STRING [4992,5014]
                                        String: "Run all tests on GPU" [4992,5014]
                                FIELD [5015,5050]
                                    String: "env" [5015,5020]
                                    OBJECT [5021,5050]
                                        FIELD [5022,5049]
                                            String: "MKL_SERVICE_FORCE_INTEL" [5022,5047]
                                            NUMBER [5048,5049]
                                                Number: 1 [5048,5049]
                                FIELD [5051,5141]
                                    String: "run" [5051,5056]
                                    STRING [5057,5141]
                                        String: "python -m pytest -n 1 --dist=loadfile --make-reports=tests_torch_multi_gpu tests\n" [5057,5141]
                            OBJECT [5143,5259]
                                FIELD [5144,5174]
                                    String: "name" [5144,5150]
                                    STRING [5151,5174]
                                        String: "Failure short reports" [5151,5174]
                                FIELD [5175,5197]
                                    String: "if" [5175,5179]
                                    STRING [5180,5197]
                                        String: "${{ always() }}" [5180,5197]
                                FIELD [5198,5258]
                                    String: "run" [5198,5203]
                                    STRING [5204,5258]
                                        String: "cat reports/tests_torch_multi_gpu_failures_short.txt" [5204,5258]
                            OBJECT [5260,5477]
                                FIELD [5261,5299]
                                    String: "name" [5261,5267]
                                    STRING [5268,5299]
                                        String: "Run all pipeline tests on GPU" [5268,5299]
                                FIELD [5300,5322]
                                    String: "if" [5300,5304]
                                    STRING [5305,5322]
                                        String: "${{ always() }}" [5305,5322]
                                FIELD [5323,5356]
                                    String: "env" [5323,5328]
                                    OBJECT [5329,5356]
                                        FIELD [5330,5355]
                                            String: "RUN_PIPELINE_TESTS" [5330,5350]
                                            TRUE [5351,5355]
                                FIELD [5357,5476]
                                    String: "run" [5357,5362]
                                    STRING [5363,5476]
                                        String: "python -m pytest -n 1 --dist=loadfile -m is_pipeline_test --make-reports=tests_torch_pipeline_multi_gpu tests\n" [5363,5476]
                            OBJECT [5478,5603]
                                FIELD [5479,5509]
                                    String: "name" [5479,5485]
                                    STRING [5486,5509]
                                        String: "Failure short reports" [5486,5509]
                                FIELD [5510,5532]
                                    String: "if" [5510,5514]
                                    STRING [5515,5532]
                                        String: "${{ always() }}" [5515,5532]
                                FIELD [5533,5602]
                                    String: "run" [5533,5538]
                                    STRING [5539,5602]
                                        String: "cat reports/tests_torch_pipeline_multi_gpu_failures_short.txt" [5539,5602]
                            OBJECT [5604,5780]
                                FIELD [5605,5642]
                                    String: "name" [5605,5611]
                                    STRING [5612,5642]
                                        String: "Test suite reports artifacts" [5612,5642]
                                FIELD [5643,5665]
                                    String: "if" [5643,5647]
                                    STRING [5648,5665]
                                        String: "${{ always() }}" [5648,5665]
                                FIELD [5666,5701]
                                    String: "uses" [5666,5672]
                                    STRING [5673,5701]
                                        String: "actions/upload-artifact@v2" [5673,5701]
                                FIELD [5702,5779]
                                    String: "with" [5702,5708]
                                    OBJECT [5709,5779]
                                        FIELD [5710,5761]
                                            String: "name" [5710,5716]
                                            STRING [5717,5761]
                                                String: "run_all_tests_torch_multi_gpu_test_reports" [5717,5761]
                                        FIELD [5762,5778]
                                            String: "path" [5762,5768]
                                            STRING [5769,5778]
                                                String: "reports" [5769,5778]
            FIELD [5783,7455]
                String: "run_all_tests_tf_multi_gpu" [5783,5811]
                OBJECT [5812,7455]
                    FIELD [5813,5863]
                        String: "runs-on" [5813,5822]
                        ARRAY [5823,5863]
                            STRING [5824,5837]
                                String: "self-hosted" [5824,5837]
                            STRING [5838,5850]
                                String: "docker-gpu" [5838,5850]
                            STRING [5851,5862]
                                String: "multi-gpu" [5851,5862]
                    FIELD [5864,6018]
                        String: "container" [5864,5875]
                        OBJECT [5876,6018]
                            FIELD [5877,5918]
                                String: "image" [5877,5884]
                                STRING [5885,5918]
                                    String: "tensorflow/tensorflow:2.4.1-gpu" [5885,5918]
                            FIELD [5919,6017]
                                String: "options" [5919,5928]
                                STRING [5929,6017]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [5929,6017]
                    FIELD [6019,7454]
                        String: "steps" [6019,6026]
                        ARRAY [6027,7454]
                            OBJECT [6028,6083]
                                FIELD [6029,6053]
                                    String: "name" [6029,6035]
                                    STRING [6036,6053]
                                        String: "Launcher docker" [6036,6053]
                                FIELD [6054,6082]
                                    String: "uses" [6054,6060]
                                    STRING [6061,6082]
                                        String: "actions/checkout@v2" [6061,6082]
                            OBJECT [6084,6126]
                                FIELD [6085,6104]
                                    String: "name" [6085,6091]
                                    STRING [6092,6104]
                                        String: "NVIDIA-SMI" [6092,6104]
                                FIELD [6105,6125]
                                    String: "run" [6105,6110]
                                    STRING [6111,6125]
                                        String: "nvidia-smi\n" [6111,6125]
                            OBJECT [6127,6245]
                                FIELD [6128,6157]
                                    String: "name" [6128,6134]
                                    STRING [6135,6157]
                                        String: "Install dependencies" [6135,6157]
                                FIELD [6158,6244]
                                    String: "run" [6158,6163]
                                    STRING [6164,6244]
                                        String: "pip install --upgrade pip\npip install .[sklearn,testing,onnx,sentencepiece]\n" [6164,6244]
                            OBJECT [6246,6589]
                                FIELD [6247,6296]
                                    String: "name" [6247,6253]
                                    STRING [6254,6296]
                                        String: "Are GPUs recognized by our DL frameworks" [6254,6296]
                                FIELD [6297,6588]
                                    String: "run" [6297,6302]
                                    STRING [6303,6588]
                                        String: "TF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [6303,6588]
                            OBJECT [6590,6772]
                                FIELD [6591,6620]
                                    String: "name" [6591,6597]
                                    STRING [6598,6620]
                                        String: "Run all tests on GPU" [6598,6620]
                                FIELD [6621,6683]
                                    String: "env" [6621,6626]
                                    OBJECT [6627,6683]
                                        FIELD [6628,6654]
                                            String: "TF_NUM_INTEROP_THREADS" [6628,6652]
                                            NUMBER [6653,6654]
                                                Number: 1 [6653,6654]
                                        FIELD [6655,6682]
                                            String: "TF_NUM_INTRAOP_THREADS" [6655,6679]
                                            NUMBER [6680,6682]
                                                Number: 16 [6680,6682]
                                FIELD [6684,6771]
                                    String: "run" [6684,6689]
                                    STRING [6690,6771]
                                        String: "python -m pytest -n 1 --dist=loadfile --make-reports=tests_tf_multi_gpu tests\n" [6690,6771]
                            OBJECT [6773,6886]
                                FIELD [6774,6804]
                                    String: "name" [6774,6780]
                                    STRING [6781,6804]
                                        String: "Failure short reports" [6781,6804]
                                FIELD [6805,6827]
                                    String: "if" [6805,6809]
                                    STRING [6810,6827]
                                        String: "${{ always() }}" [6810,6827]
                                FIELD [6828,6885]
                                    String: "run" [6828,6833]
                                    STRING [6834,6885]
                                        String: "cat reports/tests_tf_multi_gpu_failures_short.txt" [6834,6885]
                            OBJECT [6887,7156]
                                FIELD [6888,6926]
                                    String: "name" [6888,6894]
                                    STRING [6895,6926]
                                        String: "Run all pipeline tests on GPU" [6895,6926]
                                FIELD [6927,6949]
                                    String: "if" [6927,6931]
                                    STRING [6932,6949]
                                        String: "${{ always() }}" [6932,6949]
                                FIELD [6950,7038]
                                    String: "env" [6950,6955]
                                    OBJECT [6956,7038]
                                        FIELD [6957,6982]
                                            String: "RUN_PIPELINE_TESTS" [6957,6977]
                                            TRUE [6978,6982]
                                        FIELD [6983,7009]
                                            String: "TF_NUM_INTEROP_THREADS" [6983,7007]
                                            NUMBER [7008,7009]
                                                Number: 1 [7008,7009]
                                        FIELD [7010,7037]
                                            String: "TF_NUM_INTRAOP_THREADS" [7010,7034]
                                            NUMBER [7035,7037]
                                                Number: 16 [7035,7037]
                                FIELD [7039,7155]
                                    String: "run" [7039,7044]
                                    STRING [7045,7155]
                                        String: "python -m pytest -n 1 --dist=loadfile -m is_pipeline_test --make-reports=tests_tf_pipeline_multi_gpu tests\n" [7045,7155]
                            OBJECT [7157,7279]
                                FIELD [7158,7188]
                                    String: "name" [7158,7164]
                                    STRING [7165,7188]
                                        String: "Failure short reports" [7165,7188]
                                FIELD [7189,7211]
                                    String: "if" [7189,7193]
                                    STRING [7194,7211]
                                        String: "${{ always() }}" [7194,7211]
                                FIELD [7212,7278]
                                    String: "run" [7212,7217]
                                    STRING [7218,7278]
                                        String: "cat reports/tests_tf_pipeline_multi_gpu_failures_short.txt" [7218,7278]
                            OBJECT [7280,7453]
                                FIELD [7281,7318]
                                    String: "name" [7281,7287]
                                    STRING [7288,7318]
                                        String: "Test suite reports artifacts" [7288,7318]
                                FIELD [7319,7341]
                                    String: "if" [7319,7323]
                                    STRING [7324,7341]
                                        String: "${{ always() }}" [7324,7341]
                                FIELD [7342,7377]
                                    String: "uses" [7342,7348]
                                    STRING [7349,7377]
                                        String: "actions/upload-artifact@v2" [7349,7377]
                                FIELD [7378,7452]
                                    String: "with" [7378,7384]
                                    OBJECT [7385,7452]
                                        FIELD [7386,7434]
                                            String: "name" [7386,7392]
                                            STRING [7393,7434]
                                                String: "run_all_tests_tf_multi_gpu_test_reports" [7393,7434]
                                        FIELD [7435,7451]
                                            String: "path" [7435,7441]
                                            STRING [7442,7451]
                                                String: "reports" [7442,7451]
            FIELD [7456,8818]
                String: "run_all_tests_torch_cuda_extensions_gpu" [7456,7497]
                OBJECT [7498,8818]
                    FIELD [7499,7550]
                        String: "runs-on" [7499,7508]
                        ARRAY [7509,7550]
                            STRING [7510,7523]
                                String: "self-hosted" [7510,7523]
                            STRING [7524,7536]
                                String: "docker-gpu" [7524,7536]
                            STRING [7537,7549]
                                String: "single-gpu" [7537,7549]
                    FIELD [7551,7704]
                        String: "container" [7551,7562]
                        OBJECT [7563,7704]
                            FIELD [7564,7606]
                                String: "image" [7564,7571]
                                STRING [7572,7606]
                                    String: "nvcr.io/nvidia/pytorch:21.03-py3" [7572,7606]
                            FIELD [7607,7703]
                                String: "options" [7607,7616]
                                STRING [7617,7703]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [7617,7703]
                    FIELD [7705,8817]
                        String: "steps" [7705,7712]
                        ARRAY [7713,8817]
                            OBJECT [7714,7769]
                                FIELD [7715,7739]
                                    String: "name" [7715,7721]
                                    STRING [7722,7739]
                                        String: "Launcher docker" [7722,7739]
                                FIELD [7740,7768]
                                    String: "uses" [7740,7746]
                                    STRING [7747,7768]
                                        String: "actions/checkout@v2" [7747,7768]
                            OBJECT [7770,7812]
                                FIELD [7771,7790]
                                    String: "name" [7771,7777]
                                    STRING [7778,7790]
                                        String: "NVIDIA-SMI" [7778,7790]
                                FIELD [7791,7811]
                                    String: "run" [7791,7796]
                                    STRING [7797,7811]
                                        String: "nvidia-smi\n" [7797,7811]
                            OBJECT [7813,7958]
                                FIELD [7814,7843]
                                    String: "name" [7814,7820]
                                    STRING [7821,7843]
                                        String: "Install dependencies" [7821,7843]
                                FIELD [7844,7957]
                                    String: "run" [7844,7849]
                                    STRING [7850,7957]
                                        String: "apt -y update && apt install -y libaio-dev\npip install --upgrade pip\npip install .[testing,deepspeed]\n" [7850,7957]
                            OBJECT [7959,8348]
                                FIELD [7960,8009]
                                    String: "name" [7960,7966]
                                    STRING [7967,8009]
                                        String: "Are GPUs recognized by our DL frameworks" [7967,8009]
                                FIELD [8010,8347]
                                    String: "run" [8010,8015]
                                    STRING [8016,8347]
                                        String: "python -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Cuda version:', torch.version.cuda)\"\npython -c \"import torch; print('CuDNN version:', torch.backends.cudnn.version())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [8016,8347]
                            OBJECT [8349,8506]
                                FIELD [8350,8379]
                                    String: "name" [8350,8356]
                                    STRING [8357,8379]
                                        String: "Run all tests on GPU" [8357,8379]
                                FIELD [8380,8505]
                                    String: "run" [8380,8385]
                                    STRING [8386,8505]
                                        String: "python -m pytest -n 1 --dist=loadfile --make-reports=tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [8386,8505]
                            OBJECT [8507,8633]
                                FIELD [8508,8538]
                                    String: "name" [8508,8514]
                                    STRING [8515,8538]
                                        String: "Failure short reports" [8515,8538]
                                FIELD [8539,8561]
                                    String: "if" [8539,8543]
                                    STRING [8544,8561]
                                        String: "${{ always() }}" [8544,8561]
                                FIELD [8562,8632]
                                    String: "run" [8562,8567]
                                    STRING [8568,8632]
                                        String: "cat reports/tests_torch_cuda_extensions_gpu_failures_short.txt" [8568,8632]
                            OBJECT [8634,8816]
                                FIELD [8635,8672]
                                    String: "name" [8635,8641]
                                    STRING [8642,8672]
                                        String: "Test suite reports artifacts" [8642,8672]
                                FIELD [8673,8695]
                                    String: "if" [8673,8677]
                                    STRING [8678,8695]
                                        String: "${{ always() }}" [8678,8695]
                                FIELD [8696,8731]
                                    String: "uses" [8696,8702]
                                    STRING [8703,8731]
                                        String: "actions/upload-artifact@v2" [8703,8731]
                                FIELD [8732,8815]
                                    String: "with" [8732,8738]
                                    OBJECT [8739,8815]
                                        FIELD [8740,8797]
                                            String: "name" [8740,8746]
                                            STRING [8747,8797]
                                                String: "run_tests_torch_cuda_extensions_gpu_test_reports" [8747,8797]
                                        FIELD [8798,8814]
                                            String: "path" [8798,8804]
                                            STRING [8805,8814]
                                                String: "reports" [8805,8814]
            FIELD [8819,10214]
                String: "run_all_tests_torch_cuda_extensions_multi_gpu" [8819,8866]
                OBJECT [8867,10214]
                    FIELD [8868,8918]
                        String: "runs-on" [8868,8877]
                        ARRAY [8878,8918]
                            STRING [8879,8892]
                                String: "self-hosted" [8879,8892]
                            STRING [8893,8905]
                                String: "docker-gpu" [8893,8905]
                            STRING [8906,8917]
                                String: "multi-gpu" [8906,8917]
                    FIELD [8919,9072]
                        String: "container" [8919,8930]
                        OBJECT [8931,9072]
                            FIELD [8932,8974]
                                String: "image" [8932,8939]
                                STRING [8940,8974]
                                    String: "nvcr.io/nvidia/pytorch:21.03-py3" [8940,8974]
                            FIELD [8975,9071]
                                String: "options" [8975,8984]
                                STRING [8985,9071]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [8985,9071]
                    FIELD [9073,10213]
                        String: "steps" [9073,9080]
                        ARRAY [9081,10213]
                            OBJECT [9082,9137]
                                FIELD [9083,9107]
                                    String: "name" [9083,9089]
                                    STRING [9090,9107]
                                        String: "Launcher docker" [9090,9107]
                                FIELD [9108,9136]
                                    String: "uses" [9108,9114]
                                    STRING [9115,9136]
                                        String: "actions/checkout@v2" [9115,9136]
                            OBJECT [9138,9180]
                                FIELD [9139,9158]
                                    String: "name" [9139,9145]
                                    STRING [9146,9158]
                                        String: "NVIDIA-SMI" [9146,9158]
                                FIELD [9159,9179]
                                    String: "run" [9159,9164]
                                    STRING [9165,9179]
                                        String: "nvidia-smi\n" [9165,9179]
                            OBJECT [9181,9336]
                                FIELD [9182,9211]
                                    String: "name" [9182,9188]
                                    STRING [9189,9211]
                                        String: "Install dependencies" [9189,9211]
                                FIELD [9212,9335]
                                    String: "run" [9212,9217]
                                    STRING [9218,9335]
                                        String: "apt -y update && apt install -y libaio-dev\npip install --upgrade pip\npip install .[testing,deepspeed,fairscale]\n" [9218,9335]
                            OBJECT [9337,9726]
                                FIELD [9338,9387]
                                    String: "name" [9338,9344]
                                    STRING [9345,9387]
                                        String: "Are GPUs recognized by our DL frameworks" [9345,9387]
                                FIELD [9388,9725]
                                    String: "run" [9388,9393]
                                    STRING [9394,9725]
                                        String: "python -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Cuda version:', torch.version.cuda)\"\npython -c \"import torch; print('CuDNN version:', torch.backends.cudnn.version())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [9394,9725]
                            OBJECT [9727,9890]
                                FIELD [9728,9757]
                                    String: "name" [9728,9734]
                                    STRING [9735,9757]
                                        String: "Run all tests on GPU" [9735,9757]
                                FIELD [9758,9889]
                                    String: "run" [9758,9763]
                                    STRING [9764,9889]
                                        String: "python -m pytest -n 1 --dist=loadfile --make-reports=tests_torch_cuda_extensions_multi_gpu tests/deepspeed tests/extended\n" [9764,9889]
                            OBJECT [9891,10023]
                                FIELD [9892,9922]
                                    String: "name" [9892,9898]
                                    STRING [9899,9922]
                                        String: "Failure short reports" [9899,9922]
                                FIELD [9923,9945]
                                    String: "if" [9923,9927]
                                    STRING [9928,9945]
                                        String: "${{ always() }}" [9928,9945]
                                FIELD [9946,10022]
                                    String: "run" [9946,9951]
                                    STRING [9952,10022]
                                        String: "cat reports/tests_torch_cuda_extensions_multi_gpu_failures_short.txt" [9952,10022]
                            OBJECT [10024,10212]
                                FIELD [10025,10062]
                                    String: "name" [10025,10031]
                                    STRING [10032,10062]
                                        String: "Test suite reports artifacts" [10032,10062]
                                FIELD [10063,10085]
                                    String: "if" [10063,10067]
                                    STRING [10068,10085]
                                        String: "${{ always() }}" [10068,10085]
                                FIELD [10086,10121]
                                    String: "uses" [10086,10092]
                                    STRING [10093,10121]
                                        String: "actions/upload-artifact@v2" [10093,10121]
                                FIELD [10122,10211]
                                    String: "with" [10122,10128]
                                    OBJECT [10129,10211]
                                        FIELD [10130,10193]
                                            String: "name" [10130,10136]
                                            STRING [10137,10193]
                                                String: "run_tests_torch_cuda_extensions_multi_gpu_test_reports" [10137,10193]
                                        FIELD [10194,10210]
                                            String: "path" [10194,10200]
                                            STRING [10201,10210]
                                                String: "reports" [10201,10210]
            FIELD [10215,10832]
                String: "send_results" [10215,10229]
                OBJECT [10230,10832]
                    FIELD [10231,10263]
                        String: "name" [10231,10237]
                        STRING [10238,10263]
                            String: "Send results to webhook" [10238,10263]
                    FIELD [10264,10289]
                        String: "runs-on" [10264,10273]
                        STRING [10274,10289]
                            String: "ubuntu-latest" [10274,10289]
                    FIELD [10290,10305]
                        String: "if" [10290,10294]
                        STRING [10295,10305]
                            String: "always()" [10295,10305]
                    FIELD [10306,10515]
                        String: "needs" [10306,10313]
                        ARRAY [10314,10515]
                            STRING [10315,10340]
                                String: "run_all_tests_torch_gpu" [10315,10340]
                            STRING [10341,10363]
                                String: "run_all_tests_tf_gpu" [10341,10363]
                            STRING [10364,10395]
                                String: "run_all_tests_torch_multi_gpu" [10364,10395]
                            STRING [10396,10424]
                                String: "run_all_tests_tf_multi_gpu" [10396,10424]
                            STRING [10425,10466]
                                String: "run_all_tests_torch_cuda_extensions_gpu" [10425,10466]
                            STRING [10467,10514]
                                String: "run_all_tests_torch_cuda_extensions_multi_gpu" [10467,10514]
                    FIELD [10516,10831]
                        String: "steps" [10516,10523]
                        ARRAY [10524,10831]
                            OBJECT [10525,10555]
                                FIELD [10526,10554]
                                    String: "uses" [10526,10532]
                                    STRING [10533,10554]
                                        String: "actions/checkout@v2" [10533,10554]
                            OBJECT [10556,10595]
                                FIELD [10557,10594]
                                    String: "uses" [10557,10563]
                                    STRING [10564,10594]
                                        String: "actions/download-artifact@v2" [10564,10594]
                            OBJECT [10596,10830]
                                FIELD [10597,10627]
                                    String: "name" [10597,10603]
                                    STRING [10604,10627]
                                        String: "Send message to Slack" [10604,10627]
                                FIELD [10628,10751]
                                    String: "env" [10628,10633]
                                    OBJECT [10634,10751]
                                        FIELD [10635,10691]
                                            String: "CI_SLACK_BOT_TOKEN" [10635,10655]
                                            STRING [10656,10691]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [10656,10691]
                                        FIELD [10692,10750]
                                            String: "CI_SLACK_CHANNEL_ID" [10692,10713]
                                            STRING [10714,10750]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [10714,10750]
                                FIELD [10752,10829]
                                    String: "run" [10752,10757]
                                    STRING [10758,10829]
                                        String: "pip install slack_sdk\npython utils/notification_service.py scheduled" [10758,10829]