OBJECT [0,4935]
    FIELD [1,15]
        String: "name" [1,7]
        STRING [8,15]
            String: "CI/CD" [8,15]
    FIELD [16,111]
        String: "on" [16,20]
        OBJECT [21,111]
            FIELD [22,65]
                String: "push" [22,28]
                OBJECT [29,65]
                    FIELD [30,51]
                        String: "branches" [30,40]
                        ARRAY [41,51]
                            STRING [42,50]
                                String: "master" [42,50]
                    FIELD [52,64]
                        String: "tags" [52,58]
                        ARRAY [59,64]
                            STRING [60,63]
                                String: "*" [60,63]
            FIELD [66,85]
                String: "pull_request" [66,80]
                NULL [81,85]
            FIELD [86,110]
                String: "workflow_dispatch" [86,105]
                NULL [106,110]
    FIELD [112,4934]
        String: "jobs" [112,118]
        OBJECT [119,4934]
            FIELD [120,2690]
                String: "test" [120,126]
                OBJECT [127,2690]
                    FIELD [128,153]
                        String: "runs-on" [128,137]
                        STRING [138,153]
                            String: "ubuntu-latest" [138,153]
                    FIELD [154,174]
                        String: "timeout-minutes" [154,171]
                        NUMBER [172,174]
                            Number: 10 [172,174]
                    FIELD [175,236]
                        String: "strategy" [175,185]
                        OBJECT [186,236]
                            FIELD [187,235]
                                String: "matrix" [187,195]
                                OBJECT [196,235]
                                    FIELD [197,234]
                                        String: "python-version" [197,213]
                                        ARRAY [214,234]
                                            STRING [215,220]
                                                String: "3.8" [215,220]
                                            STRING [221,226]
                                                String: "3.9" [221,226]
                                            STRING [227,233]
                                                String: "3.10" [227,233]
                    FIELD [237,289]
                        String: "name" [237,243]
                        STRING [244,289]
                            String: "test on Python ${{ matrix.python-version }}" [244,289]
                    FIELD [290,2689]
                        String: "steps" [290,297]
                        ARRAY [298,2689]
                            OBJECT [299,329]
                                FIELD [300,328]
                                    String: "uses" [300,306]
                                    STRING [307,328]
                                        String: "actions/checkout@v3" [307,328]
                            OBJECT [330,428]
                                FIELD [331,363]
                                    String: "name" [331,337]
                                    STRING [338,363]
                                        String: "Install system packages" [338,363]
                                FIELD [364,427]
                                    String: "run" [364,369]
                                    STRING [370,427]
                                        String: "sudo apt-get install \\\n  libvoikko1 \\\n  voikko-fi\n" [370,427]
                            OBJECT [429,541]
                                FIELD [430,470]
                                    String: "name" [430,436]
                                    STRING [437,470]
                                        String: "Load cached Poetry installation" [437,470]
                                FIELD [471,496]
                                    String: "uses" [471,477]
                                    STRING [478,496]
                                        String: "actions/cache@v3" [478,496]
                                FIELD [497,540]
                                    String: "with" [497,503]
                                    OBJECT [504,540]
                                        FIELD [505,522]
                                            String: "path" [505,511]
                                            STRING [512,522]
                                                String: "~/.local" [512,522]
                                        FIELD [523,539]
                                            String: "key" [523,528]
                                            STRING [529,539]
                                                String: "poetry-0" [529,539]
                            OBJECT [542,637]
                                FIELD [543,566]
                                    String: "name" [543,549]
                                    STRING [550,566]
                                        String: "Install Poetry" [550,566]
                                FIELD [567,636]
                                    String: "uses" [567,573]
                                    STRING [574,636]
                                        String: "snok/install-poetry@2bf112a0f6979928eb6b011f39700db589c5961e" [574,636]
                            OBJECT [638,877]
                                FIELD [639,690]
                                    String: "name" [639,645]
                                    STRING [646,690]
                                        String: "Set up Python ${{ matrix.python-version }}" [646,690]
                                FIELD [691,761]
                                    String: "uses" [691,697]
                                    STRING [698,761]
                                        String: "actions/setup-python@b55428b1882923874294fa556849718a1d7f2ca5" [698,761]
                                FIELD [762,876]
                                    String: "with" [762,768]
                                    OBJECT [769,876]
                                        FIELD [770,817]
                                            String: "python-version" [770,786]
                                            STRING [787,817]
                                                String: "${{ matrix.python-version }}" [787,817]
                                        FIELD [818,834]
                                            String: "cache" [818,825]
                                            STRING [826,834]
                                                String: "poetry" [826,834]
                                        FIELD [835,875]
                                            String: "cache-dependency-path" [835,858]
                                            STRING [859,875]
                                                String: "pyproject.toml" [859,875]
                            OBJECT [878,2132]
                                FIELD [879,915]
                                    String: "name" [879,885]
                                    STRING [886,915]
                                        String: "Install Python dependencies" [886,915]
                                FIELD [916,2131]
                                    String: "run" [916,921]
                                    STRING [922,2131]
                                        String: "poetry install\npoetry run python -m nltk.downloader punkt\n# Selectively install the optional dependencies for some Python versions\n# Install the optional neural network dependencies (TensorFlow and LMDB)\n# - except for one Python version (3.9) so that we can test also without them\nif [[ ${{ matrix.python-version }} != '3.9' ]]; then poetry install -E nn; fi\n# Install the optional Omikuji and YAKE dependencies\n# - except for one Python version (3.9) so that we can test also without them\nif [[ ${{ matrix.python-version }} != '3.9' ]]; then poetry install -E \"omikuji yake\"; fi\n# Install the optional fastText dependencies for Python 3.9 only\nif [[ ${{ matrix.python-version }} == '3.9' ]]; then poetry install -E fasttext; fi\n# Install the optional spaCy dependencies for Python 3.9 only\nif [[ ${{ matrix.python-version }} == '3.9' ]]; then\n  poetry install -E spacy\n  # download the small English pretrained spaCy model needed by spacy analyzer\n  poetry run python -m spacy download en_core_web_sm --upgrade-strategy only-if-needed\nfi\n# For Python 3.8\n# - voikko and pycld3 dependencies\nif [[ ${{ matrix.python-version }} == '3.8' ]]; then poetry install -E \"voikko pycld3\"; fi\n" [922,2131]
                            OBJECT [2133,2495]
                                FIELD [2134,2159]
                                    String: "name" [2134,2140]
                                    STRING [2141,2159]
                                        String: "Lint with flake8" [2141,2159]
                                FIELD [2160,2494]
                                    String: "run" [2160,2165]
                                    STRING [2166,2494]
                                        String: "# stop the build if there are Python syntax errors or undefined names\npoetry run flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics\n# exit-zero treats all errors as warnings. The GitHub editor is 127 chars wide\npoetry run flake8 . --count --exit-zero --max-complexity=10 --max-line-length=127 --statistics\n" [2166,2494]
                            OBJECT [2496,2577]
                                FIELD [2497,2522]
                                    String: "name" [2497,2503]
                                    STRING [2504,2522]
                                        String: "Test with pytest" [2504,2522]
                                FIELD [2523,2576]
                                    String: "run" [2523,2528]
                                    STRING [2529,2576]
                                        String: "poetry run pytest --cov=./ --cov-report xml\n" [2529,2576]
                            OBJECT [2578,2688]
                                FIELD [2579,2614]
                                    String: "name" [2579,2585]
                                    STRING [2586,2614]
                                        String: "Upload coverage to Codecov" [2586,2614]
                                FIELD [2615,2687]
                                    String: "uses" [2615,2621]
                                    STRING [2622,2687]
                                        String: "codecov/codecov-action@81cd2dc8148241f03f5839d295e000b8f761e378" [2622,2687]
            FIELD [2691,3527]
                String: "publish-docker-latest" [2691,2714]
                OBJECT [2715,3527]
                    FIELD [2716,2752]
                        String: "name" [2716,2722]
                        STRING [2723,2752]
                            String: "publish latest Docker image" [2723,2752]
                    FIELD [2753,2767]
                        String: "needs" [2753,2760]
                        STRING [2761,2767]
                            String: "test" [2761,2767]
                    FIELD [2768,2792]
                        String: "runs-on" [2768,2777]
                        STRING [2778,2792]
                            String: "ubuntu-20.04" [2778,2792]
                    FIELD [2793,2864]
                        String: "if" [2793,2797]
                        STRING [2798,2864]
                            String: "github.event_name == 'push' && github.ref == 'refs/heads/master'" [2798,2864]
                    FIELD [2865,3526]
                        String: "steps" [2865,2872]
                        ARRAY [2873,3526]
                            OBJECT [2874,3139]
                                FIELD [2875,2900]
                                    String: "name" [2875,2881]
                                    STRING [2882,2900]
                                        String: "Login to Quay.io" [2882,2900]
                                FIELD [2901,2970]
                                    String: "uses" [2901,2907]
                                    STRING [2908,2970]
                                        String: "docker/login-action@49ed152c8eca782a232dede0303416e8f356c37b" [2908,2970]
                                FIELD [2971,3138]
                                    String: "with" [2971,2977]
                                    OBJECT [2978,3138]
                                        FIELD [2979,2999]
                                            String: "registry" [2979,2989]
                                            STRING [2990,2999]
                                                String: "quay.io" [2990,2999]
                                        FIELD [3000,3068]
                                            String: "username" [3000,3010]
                                            STRING [3011,3068]
                                                String: "${{ secrets.YHTEENTOIMIVUUSPALVELUT_QUAY_IO_USERNAME }}" [3011,3068]
                                        FIELD [3069,3137]
                                            String: "password" [3069,3079]
                                            STRING [3080,3137]
                                                String: "${{ secrets.YHTEENTOIMIVUUSPALVELUT_QUAY_IO_PASSWORD }}" [3080,3137]
                            OBJECT [3140,3308]
                                FIELD [3141,3161]
                                    String: "name" [3141,3147]
                                    STRING [3148,3161]
                                        String: "Docker meta" [3148,3161]
                                FIELD [3162,3173]
                                    String: "id" [3162,3166]
                                    STRING [3167,3173]
                                        String: "meta" [3167,3173]
                                FIELD [3174,3246]
                                    String: "uses" [3174,3180]
                                    STRING [3181,3246]
                                        String: "docker/metadata-action@69f6fc9d46f2f8bf0d5491e4aabe0bb8c6a4678a" [3181,3246]
                                FIELD [3247,3307]
                                    String: "with" [3247,3253]
                                    OBJECT [3254,3307]
                                        FIELD [3255,3288]
                                            String: "images" [3255,3263]
                                            STRING [3264,3288]
                                                String: "quay.io/natlibfi/annif" [3264,3288]
                                        FIELD [3289,3306]
                                            String: "tags" [3289,3295]
                                            STRING [3296,3306]
                                                String: "latest\n" [3296,3306]
                            OBJECT [3309,3525]
                                FIELD [3310,3344]
                                    String: "name" [3310,3316]
                                    STRING [3317,3344]
                                        String: "Build and push to Quay.io" [3317,3344]
                                FIELD [3345,3419]
                                    String: "uses" [3345,3351]
                                    STRING [3352,3419]
                                        String: "docker/build-push-action@e551b19e49efd4e98792db7592c17c09b89db8d8" [3352,3419]
                                FIELD [3420,3524]
                                    String: "with" [3420,3426]
                                    OBJECT [3427,3524]
                                        FIELD [3428,3439]
                                            String: "push" [3428,3434]
                                            TRUE [3435,3439]
                                        FIELD [3440,3479]
                                            String: "tags" [3440,3446]
                                            STRING [3447,3479]
                                                String: "${{ steps.meta.outputs.tags }}" [3447,3479]
                                        FIELD [3480,3523]
                                            String: "labels" [3480,3488]
                                            STRING [3489,3523]
                                                String: "${{ steps.meta.outputs.labels }}" [3489,3523]
            FIELD [3528,4933]
                String: "publish-release" [3528,3545]
                OBJECT [3546,4933]
                    FIELD [3547,3571]
                        String: "name" [3547,3553]
                        STRING [3554,3571]
                            String: "publish release" [3554,3571]
                    FIELD [3572,3586]
                        String: "needs" [3572,3579]
                        STRING [3580,3586]
                            String: "test" [3580,3586]
                    FIELD [3587,3611]
                        String: "runs-on" [3587,3596]
                        STRING [3597,3611]
                            String: "ubuntu-20.04" [3597,3611]
                    FIELD [3612,3684]
                        String: "if" [3612,3616]
                        STRING [3617,3684]
                            String: "github.event_name == 'push' && contains(github.ref, 'refs/tags/')" [3617,3684]
                    FIELD [3685,4932]
                        String: "steps" [3685,3692]
                        ARRAY [3693,4932]
                            OBJECT [3694,3724]
                                FIELD [3695,3723]
                                    String: "uses" [3695,3701]
                                    STRING [3702,3723]
                                        String: "actions/checkout@v3" [3702,3723]
                            OBJECT [3725,3820]
                                FIELD [3726,3749]
                                    String: "name" [3726,3732]
                                    STRING [3733,3749]
                                        String: "Install Poetry" [3733,3749]
                                FIELD [3750,3819]
                                    String: "uses" [3750,3756]
                                    STRING [3757,3819]
                                        String: "snok/install-poetry@2bf112a0f6979928eb6b011f39700db589c5961e" [3757,3819]
                            OBJECT [3821,4010]
                                FIELD [3822,3848]
                                    String: "name" [3822,3828]
                                    STRING [3829,3848]
                                        String: "Set up Python 3.9" [3829,3848]
                                FIELD [3849,3919]
                                    String: "uses" [3849,3855]
                                    STRING [3856,3919]
                                        String: "actions/setup-python@b55428b1882923874294fa556849718a1d7f2ca5" [3856,3919]
                                FIELD [3920,4009]
                                    String: "with" [3920,3926]
                                    OBJECT [3927,4009]
                                        FIELD [3928,3950]
                                            String: "python-version" [3928,3944]
                                            STRING [3945,3950]
                                                String: "3.9" [3945,3950]
                                        FIELD [3951,3967]
                                            String: "cache" [3951,3958]
                                            STRING [3959,3967]
                                                String: "poetry" [3959,3967]
                                        FIELD [3968,4008]
                                            String: "cache-dependency-path" [3968,3991]
                                            STRING [3992,4008]
                                                String: "pyproject.toml" [3992,4008]
                            OBJECT [4011,4213]
                                FIELD [4012,4059]
                                    String: "name" [4012,4018]
                                    STRING [4019,4059]
                                        String: "Build and publish distribution to PyPI" [4019,4059]
                                FIELD [4060,4179]
                                    String: "env" [4060,4065]
                                    OBJECT [4066,4179]
                                        FIELD [4067,4112]
                                            String: "POETRY_HTTP_BASIC_PYPI_USERNAME" [4067,4100]
                                            STRING [4101,4112]
                                                String: "__token__" [4101,4112]
                                        FIELD [4113,4178]
                                            String: "POETRY_HTTP_BASIC_PYPI_PASSWORD" [4113,4146]
                                            STRING [4147,4178]
                                                String: "${{ secrets.PYPI_API_TOKEN }}" [4147,4178]
                                FIELD [4180,4212]
                                    String: "run" [4180,4185]
                                    STRING [4186,4212]
                                        String: "poetry publish --build\n" [4186,4212]
                            OBJECT [4214,4479]
                                FIELD [4215,4240]
                                    String: "name" [4215,4221]
                                    STRING [4222,4240]
                                        String: "Login to Quay.io" [4222,4240]
                                FIELD [4241,4310]
                                    String: "uses" [4241,4247]
                                    STRING [4248,4310]
                                        String: "docker/login-action@49ed152c8eca782a232dede0303416e8f356c37b" [4248,4310]
                                FIELD [4311,4478]
                                    String: "with" [4311,4317]
                                    OBJECT [4318,4478]
                                        FIELD [4319,4339]
                                            String: "registry" [4319,4329]
                                            STRING [4330,4339]
                                                String: "quay.io" [4330,4339]
                                        FIELD [4340,4408]
                                            String: "username" [4340,4350]
                                            STRING [4351,4408]
                                                String: "${{ secrets.YHTEENTOIMIVUUSPALVELUT_QUAY_IO_USERNAME }}" [4351,4408]
                                        FIELD [4409,4477]
                                            String: "password" [4409,4419]
                                            STRING [4420,4477]
                                                String: "${{ secrets.YHTEENTOIMIVUUSPALVELUT_QUAY_IO_PASSWORD }}" [4420,4477]
                            OBJECT [4480,4714]
                                FIELD [4481,4501]
                                    String: "name" [4481,4487]
                                    STRING [4488,4501]
                                        String: "Docker meta" [4488,4501]
                                FIELD [4502,4513]
                                    String: "id" [4502,4506]
                                    STRING [4507,4513]
                                        String: "meta" [4507,4513]
                                FIELD [4514,4586]
                                    String: "uses" [4514,4520]
                                    STRING [4521,4586]
                                        String: "docker/metadata-action@69f6fc9d46f2f8bf0d5491e4aabe0bb8c6a4678a" [4521,4586]
                                FIELD [4587,4713]
                                    String: "with" [4587,4593]
                                    OBJECT [4594,4713]
                                        FIELD [4595,4628]
                                            String: "images" [4595,4603]
                                            STRING [4604,4628]
                                                String: "quay.io/natlibfi/annif" [4604,4628]
                                        FIELD [4629,4712]
                                            String: "tags" [4629,4635]
                                            STRING [4636,4712]
                                                String: "type=semver,pattern={{version}}\ntype=semver,pattern={{major}}.{{minor}}\n" [4636,4712]
                            OBJECT [4715,4931]
                                FIELD [4716,4750]
                                    String: "name" [4716,4722]
                                    STRING [4723,4750]
                                        String: "Build and push to Quay.io" [4723,4750]
                                FIELD [4751,4825]
                                    String: "uses" [4751,4757]
                                    STRING [4758,4825]
                                        String: "docker/build-push-action@e551b19e49efd4e98792db7592c17c09b89db8d8" [4758,4825]
                                FIELD [4826,4930]
                                    String: "with" [4826,4832]
                                    OBJECT [4833,4930]
                                        FIELD [4834,4845]
                                            String: "push" [4834,4840]
                                            TRUE [4841,4845]
                                        FIELD [4846,4885]
                                            String: "tags" [4846,4852]
                                            STRING [4853,4885]
                                                String: "${{ steps.meta.outputs.tags }}" [4853,4885]
                                        FIELD [4886,4929]
                                            String: "labels" [4886,4894]
                                            STRING [4895,4929]
                                                String: "${{ steps.meta.outputs.labels }}" [4895,4929]