OBJECT [0,9336]
    FIELD [1,40]
        String: "name" [1,7]
        STRING [8,40]
            String: "Self-hosted runner (scheduled)" [8,40]
    FIELD [41,169]
        String: "on" [41,45]
        OBJECT [46,169]
            FIELD [47,107]
                String: "push" [47,53]
                OBJECT [54,107]
                    FIELD [55,106]
                        String: "branches" [55,65]
                        ARRAY [66,106]
                            STRING [67,73]
                                String: "ci_*" [67,73]
                            STRING [74,105]
                                String: "framework-agnostic-tokenizers" [74,105]
            FIELD [108,134]
                String: "repository_dispatch" [108,129]
                NULL [130,134]
            FIELD [135,168]
                String: "schedule" [135,145]
                ARRAY [146,168]
                    OBJECT [147,167]
                        FIELD [148,166]
                            String: "cron" [148,154]
                            STRING [155,166]
                                String: "0 0 * * *" [155,166]
    FIELD [170,9335]
        String: "jobs" [170,176]
        OBJECT [177,9335]
            FIELD [178,2596]
                String: "run_all_tests_torch_gpu" [178,203]
                OBJECT [204,2596]
                    FIELD [205,249]
                        String: "runs-on" [205,214]
                        ARRAY [215,249]
                            STRING [216,229]
                                String: "self-hosted" [216,229]
                            STRING [230,235]
                                String: "gpu" [230,235]
                            STRING [236,248]
                                String: "single-gpu" [236,248]
                    FIELD [250,2595]
                        String: "steps" [250,257]
                        ARRAY [258,2595]
                            OBJECT [259,289]
                                FIELD [260,288]
                                    String: "uses" [260,266]
                                    STRING [267,288]
                                        String: "actions/checkout@v2" [267,288]
                            OBJECT [290,442]
                                FIELD [291,314]
                                    String: "name" [291,297]
                                    STRING [298,314]
                                        String: "Loading cache." [298,314]
                                FIELD [315,340]
                                    String: "uses" [315,321]
                                    STRING [322,340]
                                        String: "actions/cache@v2" [322,340]
                                FIELD [341,353]
                                    String: "id" [341,345]
                                    STRING [346,353]
                                        String: "cache" [346,353]
                                FIELD [354,441]
                                    String: "with" [354,360]
                                    OBJECT [361,441]
                                        FIELD [362,375]
                                            String: "path" [362,368]
                                            STRING [369,375]
                                                String: ".env" [369,375]
                                        FIELD [376,440]
                                            String: "key" [376,381]
                                            STRING [382,440]
                                                String: "v  1.1-slow_tests_torch_gpu-${{ hashFiles('setup.py') }}" [382,440]
                            OBJECT [443,524]
                                FIELD [444,467]
                                    String: "name" [444,450]
                                    STRING [451,467]
                                        String: "Python version" [451,467]
                                FIELD [468,523]
                                    String: "run" [468,473]
                                    STRING [474,523]
                                        String: "which python\npython --version\npip --version\n" [474,523]
                            OBJECT [525,559]
                                FIELD [526,546]
                                    String: "name" [526,532]
                                    STRING [533,546]
                                        String: "Current dir" [533,546]
                                FIELD [547,558]
                                    String: "run" [547,552]
                                    STRING [553,558]
                                        String: "pwd" [553,558]
                            OBJECT [560,580]
                                FIELD [561,579]
                                    String: "run" [561,566]
                                    STRING [567,579]
                                        String: "nvidia-smi" [567,579]
                            OBJECT [581,826]
                                FIELD [582,675]
                                    String: "name" [582,588]
                                    STRING [589,675]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [589,675]
                                FIELD [676,722]
                                    String: "if" [676,680]
                                    STRING [681,722]
                                        String: "steps.cache.outputs.cache-hit != 'true'" [681,722]
                                FIELD [723,825]
                                    String: "run" [723,728]
                                    STRING [729,825]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [729,825]
                            OBJECT [827,1051]
                                FIELD [828,857]
                                    String: "name" [828,834]
                                    STRING [835,857]
                                        String: "Install dependencies" [835,857]
                                FIELD [858,1050]
                                    String: "run" [858,863]
                                    STRING [864,1050]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install .[torch,sklearn,testing,onnxruntime,sentencepiece]\npip install git+https://github.com/huggingface/datasets\npip list\n" [864,1050]
                            OBJECT [1052,1310]
                                FIELD [1053,1102]
                                    String: "name" [1053,1059]
                                    STRING [1060,1102]
                                        String: "Are GPUs recognized by our DL frameworks" [1060,1102]
                                FIELD [1103,1309]
                                    String: "run" [1103,1108]
                                    STRING [1109,1309]
                                        String: "source .env/bin/activate\npython -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [1109,1309]
                            OBJECT [1311,1500]
                                FIELD [1312,1341]
                                    String: "name" [1312,1318]
                                    STRING [1319,1341]
                                        String: "Run all tests on GPU" [1319,1341]
                                FIELD [1342,1385]
                                    String: "env" [1342,1347]
                                    OBJECT [1348,1385]
                                        FIELD [1349,1368]
                                            String: "OMP_NUM_THREADS" [1349,1366]
                                            NUMBER [1367,1368]
                                                Number: 1 [1367,1368]
                                        FIELD [1369,1384]
                                            String: "RUN_SLOW" [1369,1379]
                                            TRUE [1380,1384]
                                FIELD [1386,1499]
                                    String: "run" [1386,1391]
                                    STRING [1392,1499]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s --make-reports=tests_torch_gpu tests\n" [1392,1499]
                            OBJECT [1501,1611]
                                FIELD [1502,1532]
                                    String: "name" [1502,1508]
                                    STRING [1509,1532]
                                        String: "Failure short reports" [1509,1532]
                                FIELD [1533,1555]
                                    String: "if" [1533,1537]
                                    STRING [1538,1555]
                                        String: "${{ always() }}" [1538,1555]
                                FIELD [1556,1610]
                                    String: "run" [1556,1561]
                                    STRING [1562,1610]
                                        String: "cat reports/tests_torch_gpu_failures_short.txt" [1562,1610]
                            OBJECT [1612,1877]
                                FIELD [1613,1647]
                                    String: "name" [1613,1619]
                                    STRING [1620,1647]
                                        String: "Run examples tests on GPU" [1620,1647]
                                FIELD [1648,1670]
                                    String: "if" [1648,1652]
                                    STRING [1653,1670]
                                        String: "${{ always() }}" [1653,1670]
                                FIELD [1671,1714]
                                    String: "env" [1671,1676]
                                    OBJECT [1677,1714]
                                        FIELD [1678,1697]
                                            String: "OMP_NUM_THREADS" [1678,1695]
                                            NUMBER [1696,1697]
                                                Number: 1 [1696,1697]
                                        FIELD [1698,1713]
                                            String: "RUN_SLOW" [1698,1708]
                                            TRUE [1709,1713]
                                FIELD [1715,1876]
                                    String: "run" [1715,1720]
                                    STRING [1721,1876]
                                        String: "source .env/bin/activate\npip install -r examples/requirements.txt\npython -m pytest -n 1 --dist=loadfile -s --make-reports=examples_torch_gpu examples\n" [1721,1876]
                            OBJECT [1878,1991]
                                FIELD [1879,1909]
                                    String: "name" [1879,1885]
                                    STRING [1886,1909]
                                        String: "Failure short reports" [1886,1909]
                                FIELD [1910,1932]
                                    String: "if" [1910,1914]
                                    STRING [1915,1932]
                                        String: "${{ always() }}" [1915,1932]
                                FIELD [1933,1990]
                                    String: "run" [1933,1938]
                                    STRING [1939,1990]
                                        String: "cat reports/examples_torch_gpu_failures_short.txt" [1939,1990]
                            OBJECT [1992,2303]
                                FIELD [1993,2031]
                                    String: "name" [1993,1999]
                                    STRING [2000,2031]
                                        String: "Run all pipeline tests on GPU" [2000,2031]
                                FIELD [2032,2054]
                                    String: "if" [2032,2036]
                                    STRING [2037,2054]
                                        String: "${{ always() }}" [2037,2054]
                                FIELD [2055,2159]
                                    String: "env" [2055,2060]
                                    OBJECT [2061,2159]
                                        FIELD [2062,2096]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [2062,2089]
                                            STRING [2090,2096]
                                                String: "true" [2090,2096]
                                        FIELD [2097,2116]
                                            String: "OMP_NUM_THREADS" [2097,2114]
                                            NUMBER [2115,2116]
                                                Number: 1 [2115,2116]
                                        FIELD [2117,2132]
                                            String: "RUN_SLOW" [2117,2127]
                                            TRUE [2128,2132]
                                        FIELD [2133,2158]
                                            String: "RUN_PIPELINE_TESTS" [2133,2153]
                                            TRUE [2154,2158]
                                FIELD [2160,2302]
                                    String: "run" [2160,2165]
                                    STRING [2166,2302]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s -m is_pipeline_test --make-reports=tests_torch_pipeline_gpu tests\n" [2166,2302]
                            OBJECT [2304,2423]
                                FIELD [2305,2335]
                                    String: "name" [2305,2311]
                                    STRING [2312,2335]
                                        String: "Failure short reports" [2312,2335]
                                FIELD [2336,2358]
                                    String: "if" [2336,2340]
                                    STRING [2341,2358]
                                        String: "${{ always() }}" [2341,2358]
                                FIELD [2359,2422]
                                    String: "run" [2359,2364]
                                    STRING [2365,2422]
                                        String: "cat reports/tests_torch_pipeline_gpu_failures_short.txt" [2365,2422]
                            OBJECT [2424,2594]
                                FIELD [2425,2462]
                                    String: "name" [2425,2431]
                                    STRING [2432,2462]
                                        String: "Test suite reports artifacts" [2432,2462]
                                FIELD [2463,2485]
                                    String: "if" [2463,2467]
                                    STRING [2468,2485]
                                        String: "${{ always() }}" [2468,2485]
                                FIELD [2486,2521]
                                    String: "uses" [2486,2492]
                                    STRING [2493,2521]
                                        String: "actions/upload-artifact@v2" [2493,2521]
                                FIELD [2522,2593]
                                    String: "with" [2522,2528]
                                    OBJECT [2529,2593]
                                        FIELD [2530,2575]
                                            String: "name" [2530,2536]
                                            STRING [2537,2575]
                                                String: "run_all_tests_torch_gpu_test_reports" [2537,2575]
                                        FIELD [2576,2592]
                                            String: "path" [2576,2582]
                                            STRING [2583,2592]
                                                String: "reports" [2583,2592]
            FIELD [2597,4722]
                String: "run_all_tests_tf_gpu" [2597,2619]
                OBJECT [2620,4722]
                    FIELD [2621,2665]
                        String: "runs-on" [2621,2630]
                        ARRAY [2631,2665]
                            STRING [2632,2645]
                                String: "self-hosted" [2632,2645]
                            STRING [2646,2651]
                                String: "gpu" [2646,2651]
                            STRING [2652,2664]
                                String: "single-gpu" [2652,2664]
                    FIELD [2666,4721]
                        String: "steps" [2666,2673]
                        ARRAY [2674,4721]
                            OBJECT [2675,2705]
                                FIELD [2676,2704]
                                    String: "uses" [2676,2682]
                                    STRING [2683,2704]
                                        String: "actions/checkout@v2" [2683,2704]
                            OBJECT [2706,2853]
                                FIELD [2707,2730]
                                    String: "name" [2707,2713]
                                    STRING [2714,2730]
                                        String: "Loading cache." [2714,2730]
                                FIELD [2731,2756]
                                    String: "uses" [2731,2737]
                                    STRING [2738,2756]
                                        String: "actions/cache@v2" [2738,2756]
                                FIELD [2757,2769]
                                    String: "id" [2757,2761]
                                    STRING [2762,2769]
                                        String: "cache" [2762,2769]
                                FIELD [2770,2852]
                                    String: "with" [2770,2776]
                                    OBJECT [2777,2852]
                                        FIELD [2778,2791]
                                            String: "path" [2778,2784]
                                            STRING [2785,2791]
                                                String: ".env" [2785,2791]
                                        FIELD [2792,2851]
                                            String: "key" [2792,2797]
                                            STRING [2798,2851]
                                                String: "v1.1-slow_tests_tf_gpu-${{ hashFiles('setup.py') }}" [2798,2851]
                            OBJECT [2854,2935]
                                FIELD [2855,2878]
                                    String: "name" [2855,2861]
                                    STRING [2862,2878]
                                        String: "Python version" [2862,2878]
                                FIELD [2879,2934]
                                    String: "run" [2879,2884]
                                    STRING [2885,2934]
                                        String: "which python\npython --version\npip --version\n" [2885,2934]
                            OBJECT [2936,2970]
                                FIELD [2937,2957]
                                    String: "name" [2937,2943]
                                    STRING [2944,2957]
                                        String: "Current dir" [2944,2957]
                                FIELD [2958,2969]
                                    String: "run" [2958,2963]
                                    STRING [2964,2969]
                                        String: "pwd" [2964,2969]
                            OBJECT [2971,2991]
                                FIELD [2972,2990]
                                    String: "run" [2972,2977]
                                    STRING [2978,2990]
                                        String: "nvidia-smi" [2978,2990]
                            OBJECT [2992,3237]
                                FIELD [2993,3086]
                                    String: "name" [2993,2999]
                                    STRING [3000,3086]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [3000,3086]
                                FIELD [3087,3133]
                                    String: "if" [3087,3091]
                                    STRING [3092,3133]
                                        String: "steps.cache.outputs.cache-hit != 'true'" [3092,3133]
                                FIELD [3134,3236]
                                    String: "run" [3134,3139]
                                    STRING [3140,3236]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [3140,3236]
                            OBJECT [3238,3459]
                                FIELD [3239,3268]
                                    String: "name" [3239,3245]
                                    STRING [3246,3268]
                                        String: "Install dependencies" [3246,3268]
                                FIELD [3269,3458]
                                    String: "run" [3269,3274]
                                    STRING [3275,3458]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install .[tf,sklearn,testing,onnxruntime,sentencepiece]\npip install git+https://github.com/huggingface/datasets\npip list\n" [3275,3458]
                            OBJECT [3460,3829]
                                FIELD [3461,3510]
                                    String: "name" [3461,3467]
                                    STRING [3468,3510]
                                        String: "Are GPUs recognized by our DL frameworks" [3468,3510]
                                FIELD [3511,3828]
                                    String: "run" [3511,3516]
                                    STRING [3517,3828]
                                        String: "source .env/bin/activate\nTF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [3517,3828]
                            OBJECT [3830,4016]
                                FIELD [3831,3860]
                                    String: "name" [3831,3837]
                                    STRING [3838,3860]
                                        String: "Run all tests on GPU" [3838,3860]
                                FIELD [3861,3904]
                                    String: "env" [3861,3866]
                                    OBJECT [3867,3904]
                                        FIELD [3868,3887]
                                            String: "OMP_NUM_THREADS" [3868,3885]
                                            NUMBER [3886,3887]
                                                Number: 1 [3886,3887]
                                        FIELD [3888,3903]
                                            String: "RUN_SLOW" [3888,3898]
                                            TRUE [3899,3903]
                                FIELD [3905,4015]
                                    String: "run" [3905,3910]
                                    STRING [3911,4015]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s --make-reports=tests_tf_gpu tests\n" [3911,4015]
                            OBJECT [4017,4124]
                                FIELD [4018,4048]
                                    String: "name" [4018,4024]
                                    STRING [4025,4048]
                                        String: "Failure short reports" [4025,4048]
                                FIELD [4049,4071]
                                    String: "if" [4049,4053]
                                    STRING [4054,4071]
                                        String: "${{ always() }}" [4054,4071]
                                FIELD [4072,4123]
                                    String: "run" [4072,4077]
                                    STRING [4078,4123]
                                        String: "cat reports/tests_tf_gpu_failures_short.txt" [4078,4123]
                            OBJECT [4125,4434]
                                FIELD [4126,4164]
                                    String: "name" [4126,4132]
                                    STRING [4133,4164]
                                        String: "Run all pipeline tests on GPU" [4133,4164]
                                FIELD [4165,4187]
                                    String: "if" [4165,4169]
                                    STRING [4170,4187]
                                        String: "${{ always() }}" [4170,4187]
                                FIELD [4188,4292]
                                    String: "env" [4188,4193]
                                    OBJECT [4194,4292]
                                        FIELD [4195,4229]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [4195,4222]
                                            STRING [4223,4229]
                                                String: "true" [4223,4229]
                                        FIELD [4230,4249]
                                            String: "OMP_NUM_THREADS" [4230,4247]
                                            NUMBER [4248,4249]
                                                Number: 1 [4248,4249]
                                        FIELD [4250,4265]
                                            String: "RUN_SLOW" [4250,4260]
                                            TRUE [4261,4265]
                                        FIELD [4266,4291]
                                            String: "RUN_PIPELINE_TESTS" [4266,4286]
                                            TRUE [4287,4291]
                                FIELD [4293,4433]
                                    String: "run" [4293,4298]
                                    STRING [4299,4433]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s -m is_pipeline_test --make-reports=tests_tf_pipelines_gpu tests\n" [4299,4433]
                            OBJECT [4435,4552]
                                FIELD [4436,4466]
                                    String: "name" [4436,4442]
                                    STRING [4443,4466]
                                        String: "Failure short reports" [4443,4466]
                                FIELD [4467,4489]
                                    String: "if" [4467,4471]
                                    STRING [4472,4489]
                                        String: "${{ always() }}" [4472,4489]
                                FIELD [4490,4551]
                                    String: "run" [4490,4495]
                                    STRING [4496,4551]
                                        String: "cat reports/tests_tf_pipelines_gpu_failures_short.txt" [4496,4551]
                            OBJECT [4553,4720]
                                FIELD [4554,4591]
                                    String: "name" [4554,4560]
                                    STRING [4561,4591]
                                        String: "Test suite reports artifacts" [4561,4591]
                                FIELD [4592,4614]
                                    String: "if" [4592,4596]
                                    STRING [4597,4614]
                                        String: "${{ always() }}" [4597,4614]
                                FIELD [4615,4650]
                                    String: "uses" [4615,4621]
                                    STRING [4622,4650]
                                        String: "actions/upload-artifact@v2" [4622,4650]
                                FIELD [4651,4719]
                                    String: "with" [4651,4657]
                                    OBJECT [4658,4719]
                                        FIELD [4659,4701]
                                            String: "name" [4659,4665]
                                            STRING [4666,4701]
                                                String: "run_all_tests_tf_gpu_test_reports" [4666,4701]
                                        FIELD [4702,4718]
                                            String: "path" [4702,4708]
                                            STRING [4709,4718]
                                                String: "reports" [4709,4718]
            FIELD [4723,7157]
                String: "run_all_tests_torch_multi_gpu" [4723,4754]
                OBJECT [4755,7157]
                    FIELD [4756,4799]
                        String: "runs-on" [4756,4765]
                        ARRAY [4766,4799]
                            STRING [4767,4780]
                                String: "self-hosted" [4767,4780]
                            STRING [4781,4786]
                                String: "gpu" [4781,4786]
                            STRING [4787,4798]
                                String: "multi-gpu" [4787,4798]
                    FIELD [4800,7156]
                        String: "steps" [4800,4807]
                        ARRAY [4808,7156]
                            OBJECT [4809,4839]
                                FIELD [4810,4838]
                                    String: "uses" [4810,4816]
                                    STRING [4817,4838]
                                        String: "actions/checkout@v2" [4817,4838]
                            OBJECT [4840,4996]
                                FIELD [4841,4864]
                                    String: "name" [4841,4847]
                                    STRING [4848,4864]
                                        String: "Loading cache." [4848,4864]
                                FIELD [4865,4890]
                                    String: "uses" [4865,4871]
                                    STRING [4872,4890]
                                        String: "actions/cache@v2" [4872,4890]
                                FIELD [4891,4903]
                                    String: "id" [4891,4895]
                                    STRING [4896,4903]
                                        String: "cache" [4896,4903]
                                FIELD [4904,4995]
                                    String: "with" [4904,4910]
                                    OBJECT [4911,4995]
                                        FIELD [4912,4925]
                                            String: "path" [4912,4918]
                                            STRING [4919,4925]
                                                String: ".env" [4919,4925]
                                        FIELD [4926,4994]
                                            String: "key" [4926,4931]
                                            STRING [4932,4994]
                                                String: "v1.1-slow_tests_torch_multi_gpu-${{ hashFiles('setup.py') }}" [4932,4994]
                            OBJECT [4997,5078]
                                FIELD [4998,5021]
                                    String: "name" [4998,5004]
                                    STRING [5005,5021]
                                        String: "Python version" [5005,5021]
                                FIELD [5022,5077]
                                    String: "run" [5022,5027]
                                    STRING [5028,5077]
                                        String: "which python\npython --version\npip --version\n" [5028,5077]
                            OBJECT [5079,5113]
                                FIELD [5080,5100]
                                    String: "name" [5080,5086]
                                    STRING [5087,5100]
                                        String: "Current dir" [5087,5100]
                                FIELD [5101,5112]
                                    String: "run" [5101,5106]
                                    STRING [5107,5112]
                                        String: "pwd" [5107,5112]
                            OBJECT [5114,5134]
                                FIELD [5115,5133]
                                    String: "run" [5115,5120]
                                    STRING [5121,5133]
                                        String: "nvidia-smi" [5121,5133]
                            OBJECT [5135,5380]
                                FIELD [5136,5229]
                                    String: "name" [5136,5142]
                                    STRING [5143,5229]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [5143,5229]
                                FIELD [5230,5276]
                                    String: "if" [5230,5234]
                                    STRING [5235,5276]
                                        String: "steps.cache.outputs.cache-hit != 'true'" [5235,5276]
                                FIELD [5277,5379]
                                    String: "run" [5277,5282]
                                    STRING [5283,5379]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [5283,5379]
                            OBJECT [5381,5605]
                                FIELD [5382,5411]
                                    String: "name" [5382,5388]
                                    STRING [5389,5411]
                                        String: "Install dependencies" [5389,5411]
                                FIELD [5412,5604]
                                    String: "run" [5412,5417]
                                    STRING [5418,5604]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install .[torch,sklearn,testing,onnxruntime,sentencepiece]\npip install git+https://github.com/huggingface/datasets\npip list\n" [5418,5604]
                            OBJECT [5606,5864]
                                FIELD [5607,5656]
                                    String: "name" [5607,5613]
                                    STRING [5614,5656]
                                        String: "Are GPUs recognized by our DL frameworks" [5614,5656]
                                FIELD [5657,5863]
                                    String: "run" [5657,5662]
                                    STRING [5663,5863]
                                        String: "source .env/bin/activate\npython -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [5663,5863]
                            OBJECT [5865,6066]
                                FIELD [5866,5901]
                                    String: "name" [5866,5872]
                                    STRING [5873,5901]
                                        String: "Run all tests on multi-GPU" [5873,5901]
                                FIELD [5902,5945]
                                    String: "env" [5902,5907]
                                    OBJECT [5908,5945]
                                        FIELD [5909,5928]
                                            String: "OMP_NUM_THREADS" [5909,5926]
                                            NUMBER [5927,5928]
                                                Number: 1 [5927,5928]
                                        FIELD [5929,5944]
                                            String: "RUN_SLOW" [5929,5939]
                                            TRUE [5940,5944]
                                FIELD [5946,6065]
                                    String: "run" [5946,5951]
                                    STRING [5952,6065]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s --make-reports=tests_torch_multi_gpu tests\n" [5952,6065]
                            OBJECT [6067,6183]
                                FIELD [6068,6098]
                                    String: "name" [6068,6074]
                                    STRING [6075,6098]
                                        String: "Failure short reports" [6075,6098]
                                FIELD [6099,6121]
                                    String: "if" [6099,6103]
                                    STRING [6104,6121]
                                        String: "${{ always() }}" [6104,6121]
                                FIELD [6122,6182]
                                    String: "run" [6122,6127]
                                    STRING [6128,6182]
                                        String: "cat reports/tests_torch_multi_gpu_failures_short.txt" [6128,6182]
                            OBJECT [6184,6402]
                                FIELD [6185,6225]
                                    String: "name" [6185,6191]
                                    STRING [6192,6225]
                                        String: "Run examples tests on multi-GPU" [6192,6225]
                                FIELD [6226,6269]
                                    String: "env" [6226,6231]
                                    OBJECT [6232,6269]
                                        FIELD [6233,6252]
                                            String: "OMP_NUM_THREADS" [6233,6250]
                                            NUMBER [6251,6252]
                                                Number: 1 [6251,6252]
                                        FIELD [6253,6268]
                                            String: "RUN_SLOW" [6253,6263]
                                            TRUE [6264,6268]
                                FIELD [6270,6401]
                                    String: "run" [6270,6275]
                                    STRING [6276,6401]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s --make-reports=tests_torch_examples_multi_gpu examples\n" [6276,6401]
                            OBJECT [6403,6528]
                                FIELD [6404,6434]
                                    String: "name" [6404,6410]
                                    STRING [6411,6434]
                                        String: "Failure short reports" [6411,6434]
                                FIELD [6435,6457]
                                    String: "if" [6435,6439]
                                    STRING [6440,6457]
                                        String: "${{ always() }}" [6440,6457]
                                FIELD [6458,6527]
                                    String: "run" [6458,6463]
                                    STRING [6464,6527]
                                        String: "cat reports/tests_torch_examples_multi_gpu_failures_short.txt" [6464,6527]
                            OBJECT [6529,6852]
                                FIELD [6530,6574]
                                    String: "name" [6530,6536]
                                    STRING [6537,6574]
                                        String: "Run all pipeline tests on multi-GPU" [6537,6574]
                                FIELD [6575,6597]
                                    String: "if" [6575,6579]
                                    STRING [6580,6597]
                                        String: "${{ always() }}" [6580,6597]
                                FIELD [6598,6702]
                                    String: "env" [6598,6603]
                                    OBJECT [6604,6702]
                                        FIELD [6605,6639]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [6605,6632]
                                            STRING [6633,6639]
                                                String: "true" [6633,6639]
                                        FIELD [6640,6659]
                                            String: "OMP_NUM_THREADS" [6640,6657]
                                            NUMBER [6658,6659]
                                                Number: 1 [6658,6659]
                                        FIELD [6660,6675]
                                            String: "RUN_SLOW" [6660,6670]
                                            TRUE [6671,6675]
                                        FIELD [6676,6701]
                                            String: "RUN_PIPELINE_TESTS" [6676,6696]
                                            TRUE [6697,6701]
                                FIELD [6703,6851]
                                    String: "run" [6703,6708]
                                    STRING [6709,6851]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s -m is_pipeline_test --make-reports=tests_torch_pipeline_multi_gpu tests\n" [6709,6851]
                            OBJECT [6853,6978]
                                FIELD [6854,6884]
                                    String: "name" [6854,6860]
                                    STRING [6861,6884]
                                        String: "Failure short reports" [6861,6884]
                                FIELD [6885,6907]
                                    String: "if" [6885,6889]
                                    STRING [6890,6907]
                                        String: "${{ always() }}" [6890,6907]
                                FIELD [6908,6977]
                                    String: "run" [6908,6913]
                                    STRING [6914,6977]
                                        String: "cat reports/tests_torch_pipeline_multi_gpu_failures_short.txt" [6914,6977]
                            OBJECT [6979,7155]
                                FIELD [6980,7017]
                                    String: "name" [6980,6986]
                                    STRING [6987,7017]
                                        String: "Test suite reports artifacts" [6987,7017]
                                FIELD [7018,7040]
                                    String: "if" [7018,7022]
                                    STRING [7023,7040]
                                        String: "${{ always() }}" [7023,7040]
                                FIELD [7041,7076]
                                    String: "uses" [7041,7047]
                                    STRING [7048,7076]
                                        String: "actions/upload-artifact@v2" [7048,7076]
                                FIELD [7077,7154]
                                    String: "with" [7077,7083]
                                    OBJECT [7084,7154]
                                        FIELD [7085,7136]
                                            String: "name" [7085,7091]
                                            STRING [7092,7136]
                                                String: "run_all_tests_torch_multi_gpu_test_reports" [7092,7136]
                                        FIELD [7137,7153]
                                            String: "path" [7137,7143]
                                            STRING [7144,7153]
                                                String: "reports" [7144,7153]
            FIELD [7158,9334]
                String: "run_all_tests_tf_multi_gpu" [7158,7186]
                OBJECT [7187,9334]
                    FIELD [7188,7231]
                        String: "runs-on" [7188,7197]
                        ARRAY [7198,7231]
                            STRING [7199,7212]
                                String: "self-hosted" [7199,7212]
                            STRING [7213,7218]
                                String: "gpu" [7213,7218]
                            STRING [7219,7230]
                                String: "multi-gpu" [7219,7230]
                    FIELD [7232,9333]
                        String: "steps" [7232,7239]
                        ARRAY [7240,9333]
                            OBJECT [7241,7271]
                                FIELD [7242,7270]
                                    String: "uses" [7242,7248]
                                    STRING [7249,7270]
                                        String: "actions/checkout@v2" [7249,7270]
                            OBJECT [7272,7425]
                                FIELD [7273,7296]
                                    String: "name" [7273,7279]
                                    STRING [7280,7296]
                                        String: "Loading cache." [7280,7296]
                                FIELD [7297,7322]
                                    String: "uses" [7297,7303]
                                    STRING [7304,7322]
                                        String: "actions/cache@v2" [7304,7322]
                                FIELD [7323,7335]
                                    String: "id" [7323,7327]
                                    STRING [7328,7335]
                                        String: "cache" [7328,7335]
                                FIELD [7336,7424]
                                    String: "with" [7336,7342]
                                    OBJECT [7343,7424]
                                        FIELD [7344,7357]
                                            String: "path" [7344,7350]
                                            STRING [7351,7357]
                                                String: ".env" [7351,7357]
                                        FIELD [7358,7423]
                                            String: "key" [7358,7363]
                                            STRING [7364,7423]
                                                String: "v1.1-slow_tests_tf_multi_gpu-${{ hashFiles('setup.py') }}" [7364,7423]
                            OBJECT [7426,7507]
                                FIELD [7427,7450]
                                    String: "name" [7427,7433]
                                    STRING [7434,7450]
                                        String: "Python version" [7434,7450]
                                FIELD [7451,7506]
                                    String: "run" [7451,7456]
                                    STRING [7457,7506]
                                        String: "which python\npython --version\npip --version\n" [7457,7506]
                            OBJECT [7508,7542]
                                FIELD [7509,7529]
                                    String: "name" [7509,7515]
                                    STRING [7516,7529]
                                        String: "Current dir" [7516,7529]
                                FIELD [7530,7541]
                                    String: "run" [7530,7535]
                                    STRING [7536,7541]
                                        String: "pwd" [7536,7541]
                            OBJECT [7543,7563]
                                FIELD [7544,7562]
                                    String: "run" [7544,7549]
                                    STRING [7550,7562]
                                        String: "nvidia-smi" [7550,7562]
                            OBJECT [7564,7809]
                                FIELD [7565,7658]
                                    String: "name" [7565,7571]
                                    STRING [7572,7658]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [7572,7658]
                                FIELD [7659,7705]
                                    String: "if" [7659,7663]
                                    STRING [7664,7705]
                                        String: "steps.cache.outputs.cache-hit != 'true'" [7664,7705]
                                FIELD [7706,7808]
                                    String: "run" [7706,7711]
                                    STRING [7712,7808]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [7712,7808]
                            OBJECT [7810,8031]
                                FIELD [7811,7840]
                                    String: "name" [7811,7817]
                                    STRING [7818,7840]
                                        String: "Install dependencies" [7818,7840]
                                FIELD [7841,8030]
                                    String: "run" [7841,7846]
                                    STRING [7847,8030]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install .[tf,sklearn,testing,onnxruntime,sentencepiece]\npip install git+https://github.com/huggingface/datasets\npip list\n" [7847,8030]
                            OBJECT [8032,8401]
                                FIELD [8033,8082]
                                    String: "name" [8033,8039]
                                    STRING [8040,8082]
                                        String: "Are GPUs recognized by our DL frameworks" [8040,8082]
                                FIELD [8083,8400]
                                    String: "run" [8083,8088]
                                    STRING [8089,8400]
                                        String: "source .env/bin/activate\nTF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [8089,8400]
                            OBJECT [8402,8600]
                                FIELD [8403,8438]
                                    String: "name" [8403,8409]
                                    STRING [8410,8438]
                                        String: "Run all tests on multi-GPU" [8410,8438]
                                FIELD [8439,8482]
                                    String: "env" [8439,8444]
                                    OBJECT [8445,8482]
                                        FIELD [8446,8465]
                                            String: "OMP_NUM_THREADS" [8446,8463]
                                            NUMBER [8464,8465]
                                                Number: 1 [8464,8465]
                                        FIELD [8466,8481]
                                            String: "RUN_SLOW" [8466,8476]
                                            TRUE [8477,8481]
                                FIELD [8483,8599]
                                    String: "run" [8483,8488]
                                    STRING [8489,8599]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s --make-reports=tests_tf_multi_gpu tests\n" [8489,8599]
                            OBJECT [8601,8714]
                                FIELD [8602,8632]
                                    String: "name" [8602,8608]
                                    STRING [8609,8632]
                                        String: "Failure short reports" [8609,8632]
                                FIELD [8633,8655]
                                    String: "if" [8633,8637]
                                    STRING [8638,8655]
                                        String: "${{ always() }}" [8638,8655]
                                FIELD [8656,8713]
                                    String: "run" [8656,8661]
                                    STRING [8662,8713]
                                        String: "cat reports/tests_tf_multi_gpu_failures_short.txt" [8662,8713]
                            OBJECT [8715,9035]
                                FIELD [8716,8760]
                                    String: "name" [8716,8722]
                                    STRING [8723,8760]
                                        String: "Run all pipeline tests on multi-GPU" [8723,8760]
                                FIELD [8761,8783]
                                    String: "if" [8761,8765]
                                    STRING [8766,8783]
                                        String: "${{ always() }}" [8766,8783]
                                FIELD [8784,8888]
                                    String: "env" [8784,8789]
                                    OBJECT [8790,8888]
                                        FIELD [8791,8825]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [8791,8818]
                                            STRING [8819,8825]
                                                String: "true" [8819,8825]
                                        FIELD [8826,8845]
                                            String: "OMP_NUM_THREADS" [8826,8843]
                                            NUMBER [8844,8845]
                                                Number: 1 [8844,8845]
                                        FIELD [8846,8861]
                                            String: "RUN_SLOW" [8846,8856]
                                            TRUE [8857,8861]
                                        FIELD [8862,8887]
                                            String: "RUN_PIPELINE_TESTS" [8862,8882]
                                            TRUE [8883,8887]
                                FIELD [8889,9034]
                                    String: "run" [8889,8894]
                                    STRING [8895,9034]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s -m is_pipeline_test --make-reports=tests_tf_pipeline_multi_gpu tests\n" [8895,9034]
                            OBJECT [9036,9158]
                                FIELD [9037,9067]
                                    String: "name" [9037,9043]
                                    STRING [9044,9067]
                                        String: "Failure short reports" [9044,9067]
                                FIELD [9068,9090]
                                    String: "if" [9068,9072]
                                    STRING [9073,9090]
                                        String: "${{ always() }}" [9073,9090]
                                FIELD [9091,9157]
                                    String: "run" [9091,9096]
                                    STRING [9097,9157]
                                        String: "cat reports/tests_tf_pipeline_multi_gpu_failures_short.txt" [9097,9157]
                            OBJECT [9159,9332]
                                FIELD [9160,9197]
                                    String: "name" [9160,9166]
                                    STRING [9167,9197]
                                        String: "Test suite reports artifacts" [9167,9197]
                                FIELD [9198,9220]
                                    String: "if" [9198,9202]
                                    STRING [9203,9220]
                                        String: "${{ always() }}" [9203,9220]
                                FIELD [9221,9256]
                                    String: "uses" [9221,9227]
                                    STRING [9228,9256]
                                        String: "actions/upload-artifact@v2" [9228,9256]
                                FIELD [9257,9331]
                                    String: "with" [9257,9263]
                                    OBJECT [9264,9331]
                                        FIELD [9265,9313]
                                            String: "name" [9265,9271]
                                            STRING [9272,9313]
                                                String: "run_all_tests_tf_multi_gpu_test_reports" [9272,9313]
                                        FIELD [9314,9330]
                                            String: "path" [9314,9320]
                                            STRING [9321,9330]
                                                String: "reports" [9321,9330]