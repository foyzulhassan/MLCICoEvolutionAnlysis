OBJECT [0,1917]
    FIELD [1,37]
        String: "name" [1,7]
        STRING [8,37]
            String: "publish fate_client to PyPI" [8,37]
    FIELD [38,289]
        String: "on" [38,42]
        OBJECT [43,289]
            FIELD [44,288]
                String: "workflow_dispatch" [44,63]
                OBJECT [64,288]
                    FIELD [65,287]
                        String: "inputs" [65,73]
                        OBJECT [74,287]
                            FIELD [75,131]
                                String: "source" [75,83]
                                OBJECT [84,131]
                                    FIELD [85,114]
                                        String: "description" [85,98]
                                        STRING [99,114]
                                            String: "source branch" [99,114]
                                    FIELD [115,130]
                                        String: "required" [115,125]
                                        TRUE [126,130]
                            FIELD [132,197]
                                String: "target" [132,140]
                                OBJECT [141,197]
                                    FIELD [142,180]
                                        String: "description" [142,155]
                                        STRING [156,180]
                                            String: "target package version" [156,180]
                                    FIELD [181,196]
                                        String: "required" [181,191]
                                        TRUE [192,196]
                            FIELD [198,286]
                                String: "type" [198,204]
                                OBJECT [205,286]
                                    FIELD [206,251]
                                        String: "description" [206,219]
                                        STRING [220,251]
                                            String: "publish type, test or release" [220,251]
                                    FIELD [252,268]
                                        String: "required" [252,262]
                                        FALSE [263,268]
                                    FIELD [269,285]
                                        String: "default" [269,278]
                                        STRING [279,285]
                                            String: "test" [279,285]
    FIELD [290,1916]
        String: "jobs" [290,296]
        OBJECT [297,1916]
            FIELD [298,1915]
                String: "build" [298,305]
                OBJECT [306,1915]
                    FIELD [307,443]
                        String: "name" [307,313]
                        STRING [314,443]
                            String: "(${{github.event.inputs.type}} build) branch ${{github.event.inputs.source}} -> package version ${{github.event.inputs.target}}" [314,443]
                    FIELD [444,473]
                        String: "strategy" [444,454]
                        OBJECT [455,473]
                            FIELD [456,472]
                                String: "fail-fast" [456,467]
                                TRUE [468,472]
                    FIELD [474,499]
                        String: "runs-on" [474,483]
                        STRING [484,499]
                            String: "ubuntu-latest" [484,499]
                    FIELD [500,1914]
                        String: "steps" [500,507]
                        ARRAY [508,1914]
                            OBJECT [509,588]
                                FIELD [510,538]
                                    String: "uses" [510,516]
                                    STRING [517,538]
                                        String: "actions/checkout@v2" [517,538]
                                FIELD [539,587]
                                    String: "with" [539,545]
                                    OBJECT [546,587]
                                        FIELD [547,586]
                                            String: "ref" [547,552]
                                            STRING [553,586]
                                                String: "${{github.event.inputs.source}}" [553,586]
                            OBJECT [589,653]
                                FIELD [590,622]
                                    String: "uses" [590,596]
                                    STRING [597,622]
                                        String: "actions/setup-python@v2" [597,622]
                                FIELD [623,652]
                                    String: "with" [623,629]
                                    OBJECT [630,652]
                                        FIELD [631,651]
                                            String: "python-version" [631,647]
                                            NUMBER [648,651]
                                                Number: 3.8 [648,651]
                            OBJECT [654,752]
                                FIELD [655,678]
                                    String: "name" [655,661]
                                    STRING [662,678]
                                        String: "Prepare poetry" [662,678]
                                FIELD [679,717]
                                    String: "uses" [679,685]
                                    STRING [686,717]
                                        String: "abatilo/actions-poetry@v2.0.0" [686,717]
                                FIELD [718,751]
                                    String: "with" [718,724]
                                    OBJECT [725,751]
                                        FIELD [726,750]
                                            String: "poetry-version" [726,742]
                                            STRING [743,750]
                                                String: "1.1.6" [743,750]
                            OBJECT [753,1009]
                                FIELD [754,780]
                                    String: "name" [754,760]
                                    STRING [761,780]
                                        String: "Build fate_client" [761,780]
                                FIELD [781,1008]
                                    String: "run" [781,786]
                                    STRING [787,1008]
                                        String: "cd python/fate_client\nrm -f setup.py\n# clear README.rst\necho \"# fate client\" > README.rst\n# bump fate client version\npoetry version ${{github.event.inputs.target}}\n# build package, saved in dist/\npoetry build\n" [787,1008]
                            OBJECT [1010,1101]
                                FIELD [1011,1035]
                                    String: "name" [1011,1017]
                                    STRING [1018,1035]
                                        String: "List dist files" [1018,1035]
                                FIELD [1036,1100]
                                    String: "run" [1036,1041]
                                    STRING [1042,1100]
                                        String: "ls -lh python/fate_client/dist/ python/fate_client/dist/" [1042,1100]
                            OBJECT [1102,1194]
                                FIELD [1103,1123]
                                    String: "name" [1103,1109]
                                    STRING [1110,1123]
                                        String: "Twine check" [1110,1123]
                                FIELD [1124,1193]
                                    String: "run" [1124,1129]
                                    STRING [1130,1193]
                                        String: "pip install -U twine\ntwine check python/fate_client/dist/*\n" [1130,1193]
                            OBJECT [1195,1306]
                                FIELD [1196,1223]
                                    String: "name" [1196,1202]
                                    STRING [1203,1223]
                                        String: "Upload to artifact" [1203,1223]
                                FIELD [1224,1259]
                                    String: "uses" [1224,1230]
                                    STRING [1231,1259]
                                        String: "actions/upload-artifact@v2" [1231,1259]
                                FIELD [1260,1305]
                                    String: "with" [1260,1266]
                                    OBJECT [1267,1305]
                                        FIELD [1268,1304]
                                            String: "path" [1268,1274]
                                            STRING [1275,1304]
                                                String: "python/fate_client/dist/*\n" [1275,1304]
                            OBJECT [1307,1447]
                                FIELD [1308,1329]
                                    String: "name" [1308,1314]
                                    STRING [1315,1329]
                                        String: "Test Install" [1315,1329]
                                FIELD [1330,1446]
                                    String: "run" [1330,1335]
                                    STRING [1336,1446]
                                        String: "pip install -U pip\npip install python/fate_client/dist/fate_client-${{github.event.inputs.target}}.tar.gz\n" [1336,1446]
                            OBJECT [1448,1694]
                                FIELD [1449,1477]
                                    String: "name" [1449,1455]
                                    STRING [1456,1477]
                                        String: "Upload to PyPI Test" [1456,1477]
                                FIELD [1478,1526]
                                    String: "if" [1478,1482]
                                    STRING [1483,1526]
                                        String: "${{ github.event.inputs.type == 'test' }}" [1483,1526]
                                FIELD [1527,1607]
                                    String: "run" [1527,1532]
                                    STRING [1533,1607]
                                        String: "twine upload --repository testpypi python/fate_client/dist/* --verbose\n" [1533,1607]
                                FIELD [1608,1693]
                                    String: "env" [1608,1613]
                                    OBJECT [1614,1693]
                                        FIELD [1615,1643]
                                            String: "TWINE_USERNAME" [1615,1631]
                                            STRING [1632,1643]
                                                String: "__token__" [1632,1643]
                                        FIELD [1644,1692]
                                            String: "TWINE_PASSWORD" [1644,1660]
                                            STRING [1661,1692]
                                                String: "${{ secrets.pypitest_token }}" [1661,1692]
                            OBJECT [1695,1913]
                                FIELD [1696,1719]
                                    String: "name" [1696,1702]
                                    STRING [1703,1719]
                                        String: "Upload to PyPI" [1703,1719]
                                FIELD [1720,1771]
                                    String: "if" [1720,1724]
                                    STRING [1725,1771]
                                        String: "${{ github.event.inputs.type == 'release' }}" [1725,1771]
                                FIELD [1772,1830]
                                    String: "run" [1772,1777]
                                    STRING [1778,1830]
                                        String: "twine upload python/fate_client/dist/* --verbose\n" [1778,1830]
                                FIELD [1831,1912]
                                    String: "env" [1831,1836]
                                    OBJECT [1837,1912]
                                        FIELD [1838,1866]
                                            String: "TWINE_USERNAME" [1838,1854]
                                            STRING [1855,1866]
                                                String: "__token__" [1855,1866]
                                        FIELD [1867,1911]
                                            String: "TWINE_PASSWORD" [1867,1883]
                                            STRING [1884,1911]
                                                String: "${{ secrets.pypi_token }}" [1884,1911]