OBJECT [0,8121]
    FIELD [1,16]
        String: "name" [1,7]
        STRING [8,16]
            String: "Master" [8,16]
    FIELD [17,132]
        String: "on" [17,21]
        OBJECT [22,132]
            FIELD [23,53]
                String: "push" [23,29]
                OBJECT [30,53]
                    FIELD [31,52]
                        String: "branches" [31,41]
                        ARRAY [42,52]
                            STRING [43,51]
                                String: "master" [43,51]
            FIELD [54,87]
                String: "release" [54,63]
                OBJECT [64,87]
                    FIELD [65,86]
                        String: "types" [65,72]
                        ARRAY [73,86]
                            STRING [74,85]
                                String: "published" [74,85]
            FIELD [88,131]
                String: "schedule" [88,98]
                ARRAY [99,131]
                    OBJECT [100,130]
                        FIELD [101,129]
                            String: "cron" [101,107]
                            STRING [108,129]
                                String: "37 11 * * 1,2,3,4,5" [108,129]
    FIELD [133,8120]
        String: "jobs" [133,139]
        OBJECT [140,8120]
            FIELD [141,1502]
                String: "check_core" [141,153]
                OBJECT [154,1502]
                    FIELD [155,174]
                        String: "name" [155,161]
                        STRING [162,174]
                            String: "Check Core" [162,174]
                    FIELD [175,200]
                        String: "runs-on" [175,184]
                        STRING [185,200]
                            String: "ubuntu-latest" [185,200]
                    FIELD [201,247]
                        String: "strategy" [201,211]
                        OBJECT [212,247]
                            FIELD [213,246]
                                String: "matrix" [213,221]
                                OBJECT [222,246]
                                    FIELD [223,245]
                                        String: "python" [223,231]
                                        ARRAY [232,245]
                                            STRING [233,238]
                                                String: "3.6" [233,238]
                                            STRING [239,244]
                                                String: "3.7" [239,244]
                    FIELD [248,1501]
                        String: "steps" [248,255]
                        ARRAY [256,1501]
                            OBJECT [257,287]
                                FIELD [258,286]
                                    String: "uses" [258,264]
                                    STRING [265,286]
                                        String: "actions/checkout@v2" [265,286]
                            OBJECT [288,393]
                                FIELD [289,310]
                                    String: "name" [289,295]
                                    STRING [296,310]
                                        String: "Setup Python" [296,310]
                                FIELD [311,343]
                                    String: "uses" [311,317]
                                    STRING [318,343]
                                        String: "actions/setup-python@v1" [318,343]
                                FIELD [344,392]
                                    String: "with" [344,350]
                                    OBJECT [351,392]
                                        FIELD [352,391]
                                            String: "python-version" [352,368]
                                            STRING [369,391]
                                                String: "${{ matrix.python }}" [369,391]
                            OBJECT [394,593]
                                FIELD [395,420]
                                    String: "uses" [395,401]
                                    STRING [402,420]
                                        String: "actions/cache@v1" [402,420]
                                FIELD [421,592]
                                    String: "with" [421,427]
                                    OBJECT [428,592]
                                        FIELD [429,463]
                                            String: "path" [429,435]
                                            STRING [436,463]
                                                String: "${{ env.pythonLocation }}" [436,463]
                                        FIELD [464,591]
                                            String: "key" [464,469]
                                            STRING [470,591]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [470,591]
                            OBJECT [594,648]
                                FIELD [595,624]
                                    String: "name" [595,601]
                                    STRING [602,624]
                                        String: "Install requirements" [602,624]
                                FIELD [625,647]
                                    String: "run" [625,630]
                                    STRING [631,647]
                                        String: "make install\n" [631,647]
                            OBJECT [649,691]
                                FIELD [650,669]
                                    String: "name" [650,656]
                                    STRING [657,669]
                                        String: "Debug info" [657,669]
                                FIELD [670,690]
                                    String: "run" [670,675]
                                    STRING [676,690]
                                        String: "pip freeze\n" [676,690]
                            OBJECT [692,727]
                                FIELD [693,706]
                                    String: "name" [693,699]
                                    STRING [700,706]
                                        String: "Lint" [700,706]
                                FIELD [707,726]
                                    String: "run" [707,712]
                                    STRING [713,726]
                                        String: "make lint\n" [713,726]
                            OBJECT [728,774]
                                FIELD [729,748]
                                    String: "name" [729,735]
                                    STRING [736,748]
                                        String: "Type check" [736,748]
                                FIELD [749,773]
                                    String: "run" [749,754]
                                    STRING [755,773]
                                        String: "make typecheck\n" [755,773]
                            OBJECT [775,824]
                                FIELD [776,794]
                                    String: "name" [776,782]
                                    STRING [783,794]
                                        String: "Run tests" [783,794]
                                FIELD [795,823]
                                    String: "run" [795,800]
                                    STRING [801,823]
                                        String: "make test-with-cov\n" [801,823]
                            OBJECT [825,1301]
                                FIELD [826,861]
                                    String: "name" [826,832]
                                    STRING [833,861]
                                        String: "Upload coverage to Codecov" [833,861]
                                FIELD [862,891]
                                    String: "if" [862,866]
                                    STRING [867,891]
                                        String: "matrix.python == '3.7'" [867,891]
                                FIELD [892,946]
                                    String: "env" [892,897]
                                    OBJECT [898,946]
                                        FIELD [899,945]
                                            String: "CODECOV_TOKEN" [899,914]
                                            STRING [915,945]
                                                String: "${{ secrets.CODECOV_TOKEN }}" [915,945]
                                FIELD [947,1300]
                                    String: "run" [947,952]
                                    STRING [953,1300]
                                        String: "# Ignore codecov failures as the codecov server is not\n# very reliable but we don't want to report a failure\n# in the github UI just because the coverage report failed to\n# be published.\n# This will also fail for forked repositories since the secret token won't\n# be available.\ncodecov -t $CODECOV_TOKEN || echo \"codecov upload failed\"\n" [953,1300]
                            OBJECT [1302,1500]
                                FIELD [1303,1320]
                                    String: "name" [1303,1309]
                                    STRING [1310,1320]
                                        String: "Clean up" [1310,1320]
                                FIELD [1321,1336]
                                    String: "if" [1321,1325]
                                    STRING [1326,1336]
                                        String: "always()" [1326,1336]
                                FIELD [1337,1499]
                                    String: "run" [1337,1342]
                                    STRING [1343,1499]
                                        String: "# Could run into issues with the cache if we don't uninstall the editable.\n# See https://github.com/pypa/pip/issues/4537.\npip uninstall --yes allennlp\n" [1343,1499]
            FIELD [1503,2490]
                String: "check_models" [1503,1517]
                OBJECT [1518,2490]
                    FIELD [1519,1540]
                        String: "name" [1519,1525]
                        STRING [1526,1540]
                            String: "Check Models" [1526,1540]
                    FIELD [1541,1566]
                        String: "runs-on" [1541,1550]
                        STRING [1551,1566]
                            String: "ubuntu-latest" [1551,1566]
                    FIELD [1567,1613]
                        String: "strategy" [1567,1577]
                        OBJECT [1578,1613]
                            FIELD [1579,1612]
                                String: "matrix" [1579,1587]
                                OBJECT [1588,1612]
                                    FIELD [1589,1611]
                                        String: "python" [1589,1597]
                                        ARRAY [1598,1611]
                                            STRING [1599,1604]
                                                String: "3.6" [1599,1604]
                                            STRING [1605,1610]
                                                String: "3.7" [1605,1610]
                    FIELD [1614,2489]
                        String: "steps" [1614,1621]
                        ARRAY [1622,2489]
                            OBJECT [1623,1653]
                                FIELD [1624,1652]
                                    String: "uses" [1624,1630]
                                    STRING [1631,1652]
                                        String: "actions/checkout@v2" [1631,1652]
                            OBJECT [1654,1759]
                                FIELD [1655,1676]
                                    String: "name" [1655,1661]
                                    STRING [1662,1676]
                                        String: "Setup Python" [1662,1676]
                                FIELD [1677,1709]
                                    String: "uses" [1677,1683]
                                    STRING [1684,1709]
                                        String: "actions/setup-python@v1" [1684,1709]
                                FIELD [1710,1758]
                                    String: "with" [1710,1716]
                                    OBJECT [1717,1758]
                                        FIELD [1718,1757]
                                            String: "python-version" [1718,1734]
                                            STRING [1735,1757]
                                                String: "${{ matrix.python }}" [1735,1757]
                            OBJECT [1760,1959]
                                FIELD [1761,1786]
                                    String: "uses" [1761,1767]
                                    STRING [1768,1786]
                                        String: "actions/cache@v1" [1768,1786]
                                FIELD [1787,1958]
                                    String: "with" [1787,1793]
                                    OBJECT [1794,1958]
                                        FIELD [1795,1829]
                                            String: "path" [1795,1801]
                                            STRING [1802,1829]
                                                String: "${{ env.pythonLocation }}" [1802,1829]
                                        FIELD [1830,1957]
                                            String: "key" [1830,1835]
                                            STRING [1836,1957]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [1836,1957]
                            OBJECT [1960,2014]
                                FIELD [1961,1990]
                                    String: "name" [1961,1967]
                                    STRING [1968,1990]
                                        String: "Install requirements" [1968,1990]
                                FIELD [1991,2013]
                                    String: "run" [1991,1996]
                                    STRING [1997,2013]
                                        String: "make install\n" [1997,2013]
                            OBJECT [2015,2057]
                                FIELD [2016,2035]
                                    String: "name" [2016,2022]
                                    STRING [2023,2035]
                                        String: "Debug info" [2023,2035]
                                FIELD [2036,2056]
                                    String: "run" [2036,2041]
                                    STRING [2042,2056]
                                        String: "pip freeze\n" [2042,2056]
                            OBJECT [2058,2306]
                                FIELD [2059,2096]
                                    String: "name" [2059,2065]
                                    STRING [2066,2096]
                                        String: "Pull and install models repo" [2066,2096]
                                FIELD [2097,2139]
                                    String: "env" [2097,2102]
                                    OBJECT [2103,2139]
                                        FIELD [2104,2138]
                                            String: "EXCLUDE_ALLENNLP_IN_SETUP" [2104,2131]
                                            STRING [2132,2138]
                                                String: "true" [2132,2138]
                                FIELD [2140,2305]
                                    String: "run" [2140,2145]
                                    STRING [2146,2305]
                                        String: "git clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models && pip install --upgrade --upgrade-strategy eager -e . -r dev-requirements.txt\n" [2146,2305]
                            OBJECT [2307,2376]
                                FIELD [2308,2333]
                                    String: "name" [2308,2314]
                                    STRING [2315,2333]
                                        String: "Run models tests" [2315,2333]
                                FIELD [2334,2375]
                                    String: "run" [2334,2339]
                                    STRING [2340,2375]
                                        String: "cd allennlp-models && make test\n" [2340,2375]
                            OBJECT [2377,2488]
                                FIELD [2378,2395]
                                    String: "name" [2378,2384]
                                    STRING [2385,2395]
                                        String: "Clean up" [2385,2395]
                                FIELD [2396,2411]
                                    String: "if" [2396,2400]
                                    STRING [2401,2411]
                                        String: "always()" [2401,2411]
                                FIELD [2412,2487]
                                    String: "run" [2412,2417]
                                    STRING [2418,2487]
                                        String: "pip uninstall --yes allennlp\npip uninstall --yes allennlp_models\n" [2418,2487]
            FIELD [2491,4078]
                String: "build_package" [2491,2506]
                OBJECT [2507,4078]
                    FIELD [2508,2530]
                        String: "name" [2508,2514]
                        STRING [2515,2530]
                            String: "Build Package" [2515,2530]
                    FIELD [2531,2556]
                        String: "runs-on" [2531,2540]
                        STRING [2541,2556]
                            String: "ubuntu-latest" [2541,2556]
                    FIELD [2557,4077]
                        String: "steps" [2557,2564]
                        ARRAY [2565,4077]
                            OBJECT [2566,2596]
                                FIELD [2567,2595]
                                    String: "uses" [2567,2573]
                                    STRING [2574,2595]
                                        String: "actions/checkout@v2" [2574,2595]
                            OBJECT [2597,2683]
                                FIELD [2598,2619]
                                    String: "name" [2598,2604]
                                    STRING [2605,2619]
                                        String: "Setup Python" [2605,2619]
                                FIELD [2620,2652]
                                    String: "uses" [2620,2626]
                                    STRING [2627,2652]
                                        String: "actions/setup-python@v1" [2627,2652]
                                FIELD [2653,2682]
                                    String: "with" [2653,2659]
                                    OBJECT [2660,2682]
                                        FIELD [2661,2681]
                                            String: "python-version" [2661,2677]
                                            NUMBER [2678,2681]
                                                Number: 3.7 [2678,2681]
                            OBJECT [2684,2883]
                                FIELD [2685,2710]
                                    String: "uses" [2685,2691]
                                    STRING [2692,2710]
                                        String: "actions/cache@v1" [2692,2710]
                                FIELD [2711,2882]
                                    String: "with" [2711,2717]
                                    OBJECT [2718,2882]
                                        FIELD [2719,2753]
                                            String: "path" [2719,2725]
                                            STRING [2726,2753]
                                                String: "${{ env.pythonLocation }}" [2726,2753]
                                        FIELD [2754,2881]
                                            String: "key" [2754,2759]
                                            STRING [2760,2881]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [2760,2881]
                            OBJECT [2884,3213]
                                FIELD [2885,2922]
                                    String: "name" [2885,2891]
                                    STRING [2892,2922]
                                        String: "Set version suffix (nightly)" [2892,2922]
                                FIELD [2923,2961]
                                    String: "if" [2923,2927]
                                    STRING [2928,2961]
                                        String: "github.event_name == 'schedule'" [2928,2961]
                                FIELD [2962,3212]
                                    String: "run" [2962,2967]
                                    STRING [2968,3212]
                                        String: "# This is somewhat bizarre, but you can't set env variables to bash\n# commands in the action workflow - so we have to use this odd way of\n# exporting a variable instead.\necho ::set-env name=ALLENNLP_VERSION_SUFFIX::.dev$(date -u +%Y%m%d)\n" [2968,3212]
                            OBJECT [3214,3658]
                                FIELD [3215,3252]
                                    String: "name" [3215,3221]
                                    STRING [3222,3252]
                                        String: "Set version suffix (release)" [3222,3252]
                                FIELD [3253,3290]
                                    String: "if" [3253,3257]
                                    STRING [3258,3290]
                                        String: "github.event_name == 'release'" [3258,3290]
                                FIELD [3291,3657]
                                    String: "run" [3291,3296]
                                    STRING [3297,3657]
                                        String: "# Remove '/refs/tags/' to get the actual tag from the release.\nTAG=${GITHUB_REF#/refs/tags/};\n# The tag might have a suffix like `.rc1`, which we need to set\n# as an environment variable so that the package is built with this suffix.\nSUFFIX=$(echo $TAG | sed -E 's/v[0-9]+\\.[0-9]+\\.[0-9]+//')\necho \"::set-env name=ALLENNLP_VERSION_SUFFIX::$SUFFIX\"\n" [3297,3657]
                            OBJECT [3659,3713]
                                FIELD [3660,3689]
                                    String: "name" [3660,3666]
                                    STRING [3667,3689]
                                        String: "Install requirements" [3667,3689]
                                FIELD [3690,3712]
                                    String: "run" [3690,3695]
                                    STRING [3696,3712]
                                        String: "make install\n" [3696,3712]
                            OBJECT [3714,3891]
                                FIELD [3715,3742]
                                    String: "name" [3715,3721]
                                    STRING [3722,3742]
                                        String: "Build core package" [3722,3742]
                                FIELD [3743,3890]
                                    String: "run" [3743,3748]
                                    STRING [3749,3890]
                                        String: "echo \"Building packages for core release\"\n# Just print out the version for debugging.\nmake version\npython setup.py bdist_wheel sdist\n" [3749,3890]
                            OBJECT [3892,4001]
                                FIELD [3893,3919]
                                    String: "name" [3893,3899]
                                    STRING [3900,3919]
                                        String: "Save core package" [3900,3919]
                                FIELD [3920,3955]
                                    String: "uses" [3920,3926]
                                    STRING [3927,3955]
                                        String: "actions/upload-artifact@v1" [3927,3955]
                                FIELD [3956,4000]
                                    String: "with" [3956,3962]
                                    OBJECT [3963,4000]
                                        FIELD [3964,3985]
                                            String: "name" [3964,3970]
                                            STRING [3971,3985]
                                                String: "core-package" [3971,3985]
                                        FIELD [3986,3999]
                                            String: "path" [3986,3992]
                                            STRING [3993,3999]
                                                String: "dist" [3993,3999]
                            OBJECT [4002,4076]
                                FIELD [4003,4020]
                                    String: "name" [4003,4009]
                                    STRING [4010,4020]
                                        String: "Clean up" [4010,4020]
                                FIELD [4021,4036]
                                    String: "if" [4021,4025]
                                    STRING [4026,4036]
                                        String: "always()" [4026,4036]
                                FIELD [4037,4075]
                                    String: "run" [4037,4042]
                                    STRING [4043,4075]
                                        String: "pip uninstall --yes allennlp\n" [4043,4075]
            FIELD [4079,4660]
                String: "test_package" [4079,4093]
                OBJECT [4094,4660]
                    FIELD [4095,4116]
                        String: "name" [4095,4101]
                        STRING [4102,4116]
                            String: "Test Package" [4102,4116]
                    FIELD [4117,4142]
                        String: "needs" [4117,4124]
                        ARRAY [4125,4142]
                            STRING [4126,4141]
                                String: "build_package" [4126,4141]
                    FIELD [4143,4168]
                        String: "runs-on" [4143,4152]
                        STRING [4153,4168]
                            String: "ubuntu-latest" [4153,4168]
                    FIELD [4169,4215]
                        String: "strategy" [4169,4179]
                        OBJECT [4180,4215]
                            FIELD [4181,4214]
                                String: "matrix" [4181,4189]
                                OBJECT [4190,4214]
                                    FIELD [4191,4213]
                                        String: "python" [4191,4199]
                                        ARRAY [4200,4213]
                                            STRING [4201,4206]
                                                String: "3.6" [4201,4206]
                                            STRING [4207,4212]
                                                String: "3.7" [4207,4212]
                    FIELD [4216,4659]
                        String: "steps" [4216,4223]
                        ARRAY [4224,4659]
                            OBJECT [4225,4330]
                                FIELD [4226,4247]
                                    String: "name" [4226,4232]
                                    STRING [4233,4247]
                                        String: "Setup Python" [4233,4247]
                                FIELD [4248,4280]
                                    String: "uses" [4248,4254]
                                    STRING [4255,4280]
                                        String: "actions/setup-python@v1" [4255,4280]
                                FIELD [4281,4329]
                                    String: "with" [4281,4287]
                                    OBJECT [4288,4329]
                                        FIELD [4289,4328]
                                            String: "python-version" [4289,4305]
                                            STRING [4306,4328]
                                                String: "${{ matrix.python }}" [4306,4328]
                            OBJECT [4331,4415]
                                FIELD [4332,4361]
                                    String: "name" [4332,4338]
                                    STRING [4339,4361]
                                        String: "Install requirements" [4339,4361]
                                FIELD [4362,4414]
                                    String: "run" [4362,4367]
                                    STRING [4368,4414]
                                        String: "pip install --upgrade pip setuptools wheel\n" [4368,4414]
                            OBJECT [4416,4531]
                                FIELD [4417,4447]
                                    String: "name" [4417,4423]
                                    STRING [4424,4447]
                                        String: "Download core package" [4424,4447]
                                FIELD [4448,4485]
                                    String: "uses" [4448,4454]
                                    STRING [4455,4485]
                                        String: "actions/download-artifact@v1" [4455,4485]
                                FIELD [4486,4530]
                                    String: "with" [4486,4492]
                                    OBJECT [4493,4530]
                                        FIELD [4494,4515]
                                            String: "name" [4494,4500]
                                            STRING [4501,4515]
                                                String: "core-package" [4501,4515]
                                        FIELD [4516,4529]
                                            String: "path" [4516,4522]
                                            STRING [4523,4529]
                                                String: "dist" [4523,4529]
                            OBJECT [4532,4602]
                                FIELD [4533,4562]
                                    String: "name" [4533,4539]
                                    STRING [4540,4562]
                                        String: "Install core package" [4540,4562]
                                FIELD [4563,4601]
                                    String: "run" [4563,4568]
                                    STRING [4569,4601]
                                        String: "pip install $(ls dist/*.whl)\n" [4569,4601]
                            OBJECT [4603,4658]
                                FIELD [4604,4625]
                                    String: "name" [4604,4610]
                                    STRING [4611,4625]
                                        String: "Test install" [4611,4625]
                                FIELD [4626,4657]
                                    String: "run" [4626,4631]
                                    STRING [4632,4657]
                                        String: "allennlp test-install\n" [4632,4657]
            FIELD [4661,5889]
                String: "docker" [4661,4669]
                OBJECT [4670,5889]
                    FIELD [4671,4686]
                        String: "name" [4671,4677]
                        STRING [4678,4686]
                            String: "Docker" [4678,4686]
                    FIELD [4687,4712]
                        String: "needs" [4687,4694]
                        ARRAY [4695,4712]
                            STRING [4696,4711]
                                String: "build_package" [4696,4711]
                    FIELD [4713,4738]
                        String: "runs-on" [4713,4722]
                        STRING [4723,4738]
                            String: "ubuntu-latest" [4723,4738]
                    FIELD [4739,5888]
                        String: "steps" [4739,4746]
                        ARRAY [4747,5888]
                            OBJECT [4748,4778]
                                FIELD [4749,4777]
                                    String: "uses" [4749,4755]
                                    STRING [4756,4777]
                                        String: "actions/checkout@v2" [4756,4777]
                            OBJECT [4779,4894]
                                FIELD [4780,4810]
                                    String: "name" [4780,4786]
                                    STRING [4787,4810]
                                        String: "Download core package" [4787,4810]
                                FIELD [4811,4848]
                                    String: "uses" [4811,4817]
                                    STRING [4818,4848]
                                        String: "actions/download-artifact@v1" [4818,4848]
                                FIELD [4849,4893]
                                    String: "with" [4849,4855]
                                    OBJECT [4856,4893]
                                        FIELD [4857,4878]
                                            String: "name" [4857,4863]
                                            STRING [4864,4878]
                                                String: "core-package" [4864,4878]
                                        FIELD [4879,4892]
                                            String: "path" [4879,4885]
                                            STRING [4886,4892]
                                                String: "dist" [4886,4892]
                            OBJECT [4895,5211]
                                FIELD [4896,4916]
                                    String: "name" [4896,4902]
                                    STRING [4903,4916]
                                        String: "Build image" [4903,4916]
                                FIELD [4917,5210]
                                    String: "run" [4917,4922]
                                    STRING [4923,5210]
                                        String: "# Create a small context for the Docker with only the files that we need.\ntar -czvf context.tar.gz \\\n    Dockerfile.whl \\\n    scripts/ai2_internal/resumable_train.sh \\\n    dist/*.whl\ndocker build \\\n    --pull \\\n    -f Dockerfile.whl \\\n    -t allennlp - < context.tar.gz\n" [4923,5210]
                            OBJECT [5212,5281]
                                FIELD [5213,5232]
                                    String: "name" [5213,5219]
                                    STRING [5220,5232]
                                        String: "Test image" [5220,5232]
                                FIELD [5233,5280]
                                    String: "run" [5233,5238]
                                    STRING [5239,5280]
                                        String: "docker run --rm allennlp test-install\n" [5239,5280]
                            OBJECT [5282,5571]
                                FIELD [5283,5311]
                                    String: "name" [5283,5289]
                                    STRING [5290,5311]
                                        String: "Upload master image" [5290,5311]
                                FIELD [5312,5389]
                                    String: "if" [5312,5316]
                                    STRING [5317,5389]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'push'" [5317,5389]
                                FIELD [5390,5570]
                                    String: "run" [5390,5395]
                                    STRING [5396,5570]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\ndocker tag allennlp allennlp/commit:$GITHUB_SHA\ndocker push allennlp/commit:$GITHUB_SHA\n" [5396,5570]
                            OBJECT [5572,5887]
                                FIELD [5573,5602]
                                    String: "name" [5573,5579]
                                    STRING [5580,5602]
                                        String: "Upload release image" [5580,5602]
                                FIELD [5603,5683]
                                    String: "if" [5603,5607]
                                    STRING [5608,5683]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [5608,5683]
                                FIELD [5684,5886]
                                    String: "run" [5684,5689]
                                    STRING [5690,5886]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\nTAG=${GITHUB_REF#/refs/tags/};\ndocker tag allennlp allennlp/allennlp:$TAG\ndocker push allennlp/allennlp:$TAG\n" [5690,5886]
            FIELD [5890,7465]
                String: "docs" [5890,5896]
                OBJECT [5897,7465]
                    FIELD [5898,5911]
                        String: "name" [5898,5904]
                        STRING [5905,5911]
                            String: "Docs" [5905,5911]
                    FIELD [5912,5937]
                        String: "runs-on" [5912,5921]
                        STRING [5922,5937]
                            String: "ubuntu-latest" [5922,5937]
                    FIELD [5938,7464]
                        String: "steps" [5938,5945]
                        ARRAY [5946,7464]
                            OBJECT [5947,5977]
                                FIELD [5948,5976]
                                    String: "uses" [5948,5954]
                                    STRING [5955,5976]
                                        String: "actions/checkout@v1" [5955,5976]
                            OBJECT [5978,6105]
                                FIELD [5979,6007]
                                    String: "name" [5979,5985]
                                    STRING [5986,6007]
                                        String: "Setup SSH Client 🔑" [5986,6007]
                                FIELD [6008,6044]
                                    String: "uses" [6008,6014]
                                    STRING [6015,6044]
                                        String: "webfactory/ssh-agent@v0.2.0" [6015,6044]
                                FIELD [6045,6104]
                                    String: "with" [6045,6051]
                                    OBJECT [6052,6104]
                                        FIELD [6053,6103]
                                            String: "ssh-private-key" [6053,6070]
                                            STRING [6071,6103]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [6071,6103]
                            OBJECT [6106,6192]
                                FIELD [6107,6128]
                                    String: "name" [6107,6113]
                                    STRING [6114,6128]
                                        String: "Setup Python" [6114,6128]
                                FIELD [6129,6161]
                                    String: "uses" [6129,6135]
                                    STRING [6136,6161]
                                        String: "actions/setup-python@v1" [6136,6161]
                                FIELD [6162,6191]
                                    String: "with" [6162,6168]
                                    OBJECT [6169,6191]
                                        FIELD [6170,6190]
                                            String: "python-version" [6170,6186]
                                            NUMBER [6187,6190]
                                                Number: 3.7 [6187,6190]
                            OBJECT [6193,6392]
                                FIELD [6194,6219]
                                    String: "uses" [6194,6200]
                                    STRING [6201,6219]
                                        String: "actions/cache@v1" [6201,6219]
                                FIELD [6220,6391]
                                    String: "with" [6220,6226]
                                    OBJECT [6227,6391]
                                        FIELD [6228,6262]
                                            String: "path" [6228,6234]
                                            STRING [6235,6262]
                                                String: "${{ env.pythonLocation }}" [6235,6262]
                                        FIELD [6263,6390]
                                            String: "key" [6263,6268]
                                            STRING [6269,6390]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [6269,6390]
                            OBJECT [6393,6447]
                                FIELD [6394,6423]
                                    String: "name" [6394,6400]
                                    STRING [6401,6423]
                                        String: "Install requirements" [6401,6423]
                                FIELD [6424,6446]
                                    String: "run" [6424,6429]
                                    STRING [6430,6446]
                                        String: "make install\n" [6430,6446]
                            OBJECT [6448,6490]
                                FIELD [6449,6468]
                                    String: "name" [6449,6455]
                                    STRING [6456,6468]
                                        String: "Debug info" [6456,6468]
                                FIELD [6469,6489]
                                    String: "run" [6469,6474]
                                    STRING [6475,6489]
                                        String: "pip freeze\n" [6475,6489]
                            OBJECT [6491,6546]
                                FIELD [6492,6511]
                                    String: "name" [6492,6498]
                                    STRING [6499,6511]
                                        String: "Build docs" [6499,6511]
                                FIELD [6512,6545]
                                    String: "run" [6512,6517]
                                    STRING [6518,6545]
                                        String: "./scripts/build_docs.sh\n" [6518,6545]
                            OBJECT [6547,6726]
                                FIELD [6548,6570]
                                    String: "name" [6548,6554]
                                    STRING [6555,6570]
                                        String: "Configure Git" [6555,6570]
                                FIELD [6571,6725]
                                    String: "run" [6571,6576]
                                    STRING [6577,6725]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [6577,6725]
                            OBJECT [6727,7388]
                                FIELD [6728,6748]
                                    String: "name" [6728,6734]
                                    STRING [6735,6748]
                                        String: "Deploy docs" [6735,6748]
                                FIELD [6749,6830]
                                    String: "if" [6749,6753]
                                    STRING [6754,6830]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name != 'schedule'" [6754,6830]
                                FIELD [6831,7387]
                                    String: "run" [6831,6836]
                                    STRING [6837,7387]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    DIRECTORY=${GITHUB_REF/\\/refs\\/tags\\//};\nelse\n    DIRECTORY=master;\nfi\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DIRECTORY/\nmkdir -p ~/allennlp-docs/$DIRECTORY\ncp -r site/* ~/allennlp-docs/$DIRECTORY\n\n# And push them up to GitHub\ncd ~/allennlp-docs/$DIRECTORY\ngit add .\ngit commit -m \"automated update of the docs\"\ngit push\n" [6837,7387]
                            OBJECT [7389,7463]
                                FIELD [7390,7407]
                                    String: "name" [7390,7396]
                                    STRING [7397,7407]
                                        String: "Clean up" [7397,7407]
                                FIELD [7408,7423]
                                    String: "if" [7408,7412]
                                    STRING [7413,7423]
                                        String: "always()" [7413,7423]
                                FIELD [7424,7462]
                                    String: "run" [7424,7429]
                                    STRING [7430,7462]
                                        String: "pip uninstall --yes allennlp\n" [7430,7462]
            FIELD [7466,8119]
                String: "publish" [7466,7475]
                OBJECT [7476,8119]
                    FIELD [7477,7490]
                        String: "name" [7477,7483]
                        STRING [7484,7490]
                            String: "PyPI" [7484,7490]
                    FIELD [7491,7575]
                        String: "needs" [7491,7498]
                        ARRAY [7499,7575]
                            STRING [7500,7512]
                                String: "check_core" [7500,7512]
                            STRING [7513,7527]
                                String: "check_models" [7513,7527]
                            STRING [7528,7543]
                                String: "build_package" [7528,7543]
                            STRING [7544,7558]
                                String: "test_package" [7544,7558]
                            STRING [7559,7567]
                                String: "docker" [7559,7567]
                            STRING [7568,7574]
                                String: "docs" [7568,7574]
                    FIELD [7576,7653]
                        String: "if" [7576,7580]
                        STRING [7581,7653]
                            String: "github.repository == 'allenai/allennlp' && github.event_name != 'push'" [7581,7653]
                    FIELD [7654,7679]
                        String: "runs-on" [7654,7663]
                        STRING [7664,7679]
                            String: "ubuntu-latest" [7664,7679]
                    FIELD [7680,8118]
                        String: "steps" [7680,7687]
                        ARRAY [7688,8118]
                            OBJECT [7689,7719]
                                FIELD [7690,7718]
                                    String: "uses" [7690,7696]
                                    STRING [7697,7718]
                                        String: "actions/checkout@v2" [7697,7718]
                            OBJECT [7720,7806]
                                FIELD [7721,7742]
                                    String: "name" [7721,7727]
                                    STRING [7728,7742]
                                        String: "Setup Python" [7728,7742]
                                FIELD [7743,7775]
                                    String: "uses" [7743,7749]
                                    STRING [7750,7775]
                                        String: "actions/setup-python@v1" [7750,7775]
                                FIELD [7776,7805]
                                    String: "with" [7776,7782]
                                    OBJECT [7783,7805]
                                        FIELD [7784,7804]
                                            String: "python-version" [7784,7800]
                                            NUMBER [7801,7804]
                                                Number: 3.7 [7801,7804]
                            OBJECT [7807,7897]
                                FIELD [7808,7837]
                                    String: "name" [7808,7814]
                                    STRING [7815,7837]
                                        String: "Install requirements" [7815,7837]
                                FIELD [7838,7896]
                                    String: "run" [7838,7843]
                                    STRING [7844,7896]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [7844,7896]
                            OBJECT [7898,8013]
                                FIELD [7899,7929]
                                    String: "name" [7899,7905]
                                    STRING [7906,7929]
                                        String: "Download core package" [7906,7929]
                                FIELD [7930,7967]
                                    String: "uses" [7930,7936]
                                    STRING [7937,7967]
                                        String: "actions/download-artifact@v1" [7937,7967]
                                FIELD [7968,8012]
                                    String: "with" [7968,7974]
                                    OBJECT [7975,8012]
                                        FIELD [7976,7997]
                                            String: "name" [7976,7982]
                                            STRING [7983,7997]
                                                String: "core-package" [7983,7997]
                                        FIELD [7998,8011]
                                            String: "path" [7998,8004]
                                            STRING [8005,8011]
                                                String: "dist" [8005,8011]
                            OBJECT [8014,8117]
                                FIELD [8015,8044]
                                    String: "name" [8015,8021]
                                    STRING [8022,8044]
                                        String: "Publish core package" [8022,8044]
                                FIELD [8045,8116]
                                    String: "run" [8045,8050]
                                    STRING [8051,8116]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [8051,8116]