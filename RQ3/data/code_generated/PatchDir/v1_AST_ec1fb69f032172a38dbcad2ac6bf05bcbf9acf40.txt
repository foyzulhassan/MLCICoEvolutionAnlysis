OBJECT [0,16450]
    FIELD [1,12]
        String: "name" [1,7]
        STRING [8,12]
            String: "CI" [8,12]
    FIELD [13,105]
        String: "concurrency" [13,26]
        OBJECT [27,105]
            FIELD [28,78]
                String: "group" [28,35]
                STRING [36,78]
                    String: "${{ github.workflow }}-${{ github.ref }}" [36,78]
            FIELD [79,104]
                String: "cancel-in-progress" [79,99]
                TRUE [100,104]
    FIELD [106,256]
        String: "on" [106,110]
        OBJECT [111,256]
            FIELD [112,148]
                String: "pull_request" [112,126]
                OBJECT [127,148]
                    FIELD [128,147]
                        String: "branches" [128,138]
                        ARRAY [139,147]
                            STRING [140,146]
                                String: "main" [140,146]
            FIELD [149,177]
                String: "push" [149,155]
                OBJECT [156,177]
                    FIELD [157,176]
                        String: "branches" [157,167]
                        ARRAY [168,176]
                            STRING [169,175]
                                String: "main" [169,175]
            FIELD [178,211]
                String: "release" [178,187]
                OBJECT [188,211]
                    FIELD [189,210]
                        String: "types" [189,196]
                        ARRAY [197,210]
                            STRING [198,209]
                                String: "published" [198,209]
            FIELD [212,255]
                String: "schedule" [212,222]
                ARRAY [223,255]
                    OBJECT [224,254]
                        FIELD [225,253]
                            String: "cron" [225,231]
                            STRING [232,253]
                                String: "37 11 * * 1,2,3,4,5" [232,253]
    FIELD [257,602]
        String: "env" [257,262]
        OBJECT [263,602]
            FIELD [264,288]
                String: "TORCH_VERSION" [264,279]
                STRING [280,288]
                    String: "1.10.0" [280,288]
            FIELD [289,374]
                String: "TORCH_CPU_INSTALL" [289,308]
                STRING [309,374]
                    String: "conda install pytorch torchvision torchaudio cpuonly -c pytorch" [309,374]
            FIELD [375,469]
                String: "TORCH_GPU_INSTALL" [375,394]
                STRING [395,469]
                    String: "conda install pytorch torchvision torchaudio cudatoolkit=11.3 -c pytorch" [395,469]
            FIELD [470,489]
                String: "CACHE_PREFIX" [470,484]
                STRING [485,489]
                    String: "v5" [485,489]
            FIELD [490,522]
                String: "TOKENIZERS_PARALLELISM" [490,514]
                STRING [515,522]
                    String: "false" [515,522]
            FIELD [523,544]
                String: "OMP_NUM_THREADS" [523,540]
                STRING [541,544]
                    String: "1" [541,544]
            FIELD [545,572]
                String: "MKL_THREADING_LAYER" [545,566]
                STRING [567,572]
                    String: "GNU" [567,572]
            FIELD [573,601]
                String: "DEFAULT_PYTHON_VERSION" [573,597]
                NUMBER [598,601]
                    Number: 3.8 [598,601]
    FIELD [603,645]
        String: "defaults" [603,613]
        OBJECT [614,645]
            FIELD [615,644]
                String: "run" [615,620]
                OBJECT [621,644]
                    FIELD [622,643]
                        String: "shell" [622,629]
                        STRING [630,643]
                            String: "bash -l {0}" [630,643]
    FIELD [646,16449]
        String: "jobs" [646,652]
        OBJECT [653,16449]
            FIELD [654,1398]
                String: "changelog" [654,665]
                OBJECT [666,1398]
                    FIELD [667,685]
                        String: "name" [667,673]
                        STRING [674,685]
                            String: "CHANGELOG" [674,685]
                    FIELD [686,711]
                        String: "runs-on" [686,695]
                        STRING [696,711]
                            String: "ubuntu-latest" [696,711]
                    FIELD [712,754]
                        String: "if" [712,716]
                        STRING [717,754]
                            String: "github.event_name == 'pull_request'" [717,754]
                    FIELD [755,1397]
                        String: "steps" [755,762]
                        ARRAY [763,1397]
                            OBJECT [764,794]
                                FIELD [765,793]
                                    String: "uses" [765,771]
                                    STRING [772,793]
                                        String: "actions/checkout@v1" [772,793]
                            OBJECT [795,1041]
                                FIELD [796,839]
                                    String: "name" [796,802]
                                    STRING [803,839]
                                        String: "Check if source files have changed" [803,839]
                                FIELD [840,1040]
                                    String: "run" [840,845]
                                    STRING [846,1040]
                                        String: "git diff --name-only $(git merge-base origin/main HEAD) | grep '^allennlp/.*\\.py$' && echo \"source_files_changed=true\" >> $GITHUB_ENV || echo \"source_files_changed=false\" >> $GITHUB_ENV\n" [846,1040]
                            OBJECT [1042,1396]
                                FIELD [1043,1089]
                                    String: "name" [1043,1049]
                                    STRING [1050,1089]
                                        String: "Check that CHANGELOG has been updated" [1050,1089]
                                FIELD [1090,1131]
                                    String: "if" [1090,1094]
                                    STRING [1095,1131]
                                        String: "env.source_files_changed == 'true'" [1095,1131]
                                FIELD [1132,1395]
                                    String: "run" [1132,1137]
                                    STRING [1138,1395]
                                        String: "# If this step fails, this means you haven't updated the CHANGELOG.md\n# file with notes on your contribution.\ngit diff --name-only $(git merge-base origin/main HEAD) | grep '^CHANGELOG.md$' && echo \"Thanks for helping keep our CHANGELOG up-to-date!\"\n" [1138,1395]
            FIELD [1399,1799]
                String: "style" [1399,1406]
                OBJECT [1407,1799]
                    FIELD [1408,1422]
                        String: "name" [1408,1414]
                        STRING [1415,1422]
                            String: "Style" [1415,1422]
                    FIELD [1423,1448]
                        String: "runs-on" [1423,1432]
                        STRING [1433,1448]
                            String: "ubuntu-latest" [1433,1448]
                    FIELD [1449,1798]
                        String: "steps" [1449,1456]
                        ARRAY [1457,1798]
                            OBJECT [1458,1488]
                                FIELD [1459,1487]
                                    String: "uses" [1459,1465]
                                    STRING [1466,1487]
                                        String: "actions/checkout@v2" [1466,1487]
                            OBJECT [1489,1607]
                                FIELD [1490,1511]
                                    String: "name" [1490,1496]
                                    STRING [1497,1511]
                                        String: "Setup Python" [1497,1511]
                                FIELD [1512,1544]
                                    String: "uses" [1512,1518]
                                    STRING [1519,1544]
                                        String: "actions/setup-python@v2" [1519,1544]
                                FIELD [1545,1606]
                                    String: "with" [1545,1551]
                                    OBJECT [1552,1606]
                                        FIELD [1553,1605]
                                            String: "python-version" [1553,1569]
                                            STRING [1570,1605]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [1570,1605]
                            OBJECT [1608,1707]
                                FIELD [1609,1638]
                                    String: "name" [1609,1615]
                                    STRING [1616,1638]
                                        String: "Install requirements" [1616,1638]
                                FIELD [1639,1706]
                                    String: "run" [1639,1644]
                                    STRING [1645,1706]
                                        String: "grep -E '^black' dev-requirements.txt | xargs pip install\n" [1645,1706]
                            OBJECT [1708,1750]
                                FIELD [1709,1728]
                                    String: "name" [1709,1715]
                                    STRING [1716,1728]
                                        String: "Debug info" [1716,1728]
                                FIELD [1729,1749]
                                    String: "run" [1729,1734]
                                    STRING [1735,1749]
                                        String: "pip freeze\n" [1735,1749]
                            OBJECT [1751,1797]
                                FIELD [1752,1770]
                                    String: "name" [1752,1758]
                                    STRING [1759,1770]
                                        String: "Run black" [1759,1770]
                                FIELD [1771,1796]
                                    String: "run" [1771,1776]
                                    STRING [1777,1796]
                                        String: "black --check .\n" [1777,1796]
            FIELD [1800,5131]
                String: "checks" [1800,1808]
                OBJECT [1809,5131]
                    FIELD [1810,1842]
                        String: "name" [1810,1816]
                        STRING [1817,1842]
                            String: "${{ matrix.task.name }}" [1817,1842]
                    FIELD [1843,1881]
                        String: "runs-on" [1843,1852]
                        STRING [1853,1881]
                            String: "${{ matrix.task.runs_on }}" [1853,1881]
                    FIELD [1882,1902]
                        String: "timeout-minutes" [1882,1899]
                        NUMBER [1900,1902]
                            Number: 30 [1900,1902]
                    FIELD [1903,2503]
                        String: "strategy" [1903,1913]
                        OBJECT [1914,2503]
                            FIELD [1915,1932]
                                String: "fail-fast" [1915,1926]
                                FALSE [1927,1932]
                            FIELD [1933,2502]
                                String: "matrix" [1933,1941]
                                OBJECT [1942,2502]
                                    FIELD [1943,2501]
                                        String: "task" [1943,1949]
                                        ARRAY [1950,2501]
                                            OBJECT [1951,2077]
                                                FIELD [1952,1965]
                                                    String: "name" [1952,1958]
                                                    STRING [1959,1965]
                                                        String: "Lint" [1959,1965]
                                                FIELD [1966,1991]
                                                    String: "runs_on" [1966,1975]
                                                    STRING [1976,1991]
                                                        String: "ubuntu-latest" [1976,1991]
                                                FIELD [1992,2015]
                                                    String: "coverage_report" [1992,2009]
                                                    FALSE [2010,2015]
                                                FIELD [2016,2038]
                                                    String: "torch_platform" [2016,2032]
                                                    STRING [2033,2038]
                                                        String: "cpu" [2033,2038]
                                                FIELD [2039,2076]
                                                    String: "run" [2039,2044]
                                                    STRING [2045,2076]
                                                        String: "make flake8\nmake typecheck\n" [2045,2076]
                                            OBJECT [2078,2188]
                                                FIELD [2079,2097]
                                                    String: "name" [2079,2085]
                                                    STRING [2086,2097]
                                                        String: "CPU Tests" [2086,2097]
                                                FIELD [2098,2123]
                                                    String: "runs_on" [2098,2107]
                                                    STRING [2108,2123]
                                                        String: "ubuntu-latest" [2108,2123]
                                                FIELD [2124,2146]
                                                    String: "coverage_report" [2124,2141]
                                                    TRUE [2142,2146]
                                                FIELD [2147,2169]
                                                    String: "torch_platform" [2147,2163]
                                                    STRING [2164,2169]
                                                        String: "cpu" [2164,2169]
                                                FIELD [2170,2187]
                                                    String: "run" [2170,2175]
                                                    STRING [2176,2187]
                                                        String: "make test" [2176,2187]
                                            OBJECT [2189,2322]
                                                FIELD [2190,2208]
                                                    String: "name" [2190,2196]
                                                    STRING [2197,2208]
                                                        String: "GPU Tests" [2197,2208]
                                                FIELD [2209,2252]
                                                    String: "runs_on" [2209,2218]
                                                    ARRAY [2219,2252]
                                                        STRING [2220,2233]
                                                            String: "self-hosted" [2220,2233]
                                                        STRING [2234,2239]
                                                            String: "GPU" [2234,2239]
                                                        STRING [2240,2251]
                                                            String: "Multi GPU" [2240,2251]
                                                FIELD [2253,2275]
                                                    String: "coverage_report" [2253,2270]
                                                    TRUE [2271,2275]
                                                FIELD [2276,2298]
                                                    String: "torch_platform" [2276,2292]
                                                    STRING [2293,2298]
                                                        String: "gpu" [2293,2298]
                                                FIELD [2299,2321]
                                                    String: "run" [2299,2304]
                                                    STRING [2305,2321]
                                                        String: "make gpu-tests" [2305,2321]
                                            OBJECT [2323,2500]
                                                FIELD [2324,2344]
                                                    String: "name" [2324,2330]
                                                    STRING [2331,2344]
                                                        String: "Model Tests" [2331,2344]
                                                FIELD [2345,2370]
                                                    String: "runs_on" [2345,2354]
                                                    STRING [2355,2370]
                                                        String: "ubuntu-latest" [2355,2370]
                                                FIELD [2371,2393]
                                                    String: "coverage_report" [2371,2388]
                                                    TRUE [2389,2393]
                                                FIELD [2394,2416]
                                                    String: "torch_platform" [2394,2410]
                                                    STRING [2411,2416]
                                                        String: "cpu" [2411,2416]
                                                FIELD [2417,2499]
                                                    String: "run" [2417,2422]
                                                    STRING [2423,2499]
                                                        String: "cd allennlp-models\nmake test-with-cov COV=allennlp\nmv coverage.xml ../\n" [2423,2499]
                    FIELD [2504,5130]
                        String: "steps" [2504,2511]
                        ARRAY [2512,5130]
                            OBJECT [2513,2543]
                                FIELD [2514,2542]
                                    String: "uses" [2514,2520]
                                    STRING [2521,2542]
                                        String: "actions/checkout@v2" [2521,2542]
                            OBJECT [2544,2680]
                                FIELD [2545,2588]
                                    String: "uses" [2545,2551]
                                    STRING [2552,2588]
                                        String: "conda-incubator/setup-miniconda@v2" [2552,2588]
                                FIELD [2589,2679]
                                    String: "with" [2589,2595]
                                    OBJECT [2596,2679]
                                        FIELD [2597,2625]
                                            String: "miniconda-version" [2597,2616]
                                            STRING [2617,2625]
                                                String: "latest" [2617,2625]
                                        FIELD [2626,2678]
                                            String: "python-version" [2626,2642]
                                            STRING [2643,2678]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [2643,2678]
                            OBJECT [2681,3003]
                                FIELD [2682,2710]
                                    String: "name" [2682,2688]
                                    STRING [2689,2710]
                                        String: "Set build variables" [2689,2710]
                                FIELD [2711,3002]
                                    String: "run" [2711,2716]
                                    STRING [2717,3002]
                                        String: "# Get the exact Python version to use in the cache key.\necho \"PYTHON_VERSION=$(python --version)\" >> $GITHUB_ENV\necho \"RUNNER_ARCH=$(uname -m)\" >> $GITHUB_ENV\n# Use week number in cache key so we can refresh the cache weekly.\necho \"WEEK_NUMBER=$(date +%V)\" >> $GITHUB_ENV\n" [2717,3002]
                            OBJECT [3004,3155]
                                FIELD [3005,3044]
                                    String: "name" [3005,3011]
                                    STRING [3012,3044]
                                        String: "Set build variables (CPU only)" [3012,3044]
                                FIELD [3045,3087]
                                    String: "if" [3045,3049]
                                    STRING [3050,3087]
                                        String: "matrix.task.torch_platform == 'cpu'" [3050,3087]
                                FIELD [3088,3154]
                                    String: "run" [3088,3093]
                                    STRING [3094,3154]
                                        String: "echo \"TORCH_INSTALL=$TORCH_CPU_INSTALL\" >> $GITHUB_ENV\n" [3094,3154]
                            OBJECT [3156,3307]
                                FIELD [3157,3196]
                                    String: "name" [3157,3163]
                                    STRING [3164,3196]
                                        String: "Set build variables (GPU only)" [3164,3196]
                                FIELD [3197,3239]
                                    String: "if" [3197,3201]
                                    STRING [3202,3239]
                                        String: "matrix.task.torch_platform == 'gpu'" [3202,3239]
                                FIELD [3240,3306]
                                    String: "run" [3240,3245]
                                    STRING [3246,3306]
                                        String: "echo \"TORCH_INSTALL=$TORCH_GPU_INSTALL\" >> $GITHUB_ENV\n" [3246,3306]
                            OBJECT [3308,3608]
                                FIELD [3309,3334]
                                    String: "uses" [3309,3315]
                                    STRING [3316,3334]
                                        String: "actions/cache@v2" [3316,3334]
                                FIELD [3335,3358]
                                    String: "id" [3335,3339]
                                    STRING [3340,3358]
                                        String: "virtualenv-cache" [3340,3358]
                                FIELD [3359,3607]
                                    String: "with" [3359,3365]
                                    OBJECT [3366,3607]
                                        FIELD [3367,3381]
                                            String: "path" [3367,3373]
                                            STRING [3374,3381]
                                                String: ".venv" [3374,3381]
                                        FIELD [3382,3606]
                                            String: "key" [3382,3387]
                                            STRING [3388,3606]
                                                String: "${{ env.CACHE_PREFIX }}-${{ env.WEEK_NUMBER }}-${{ runner.os }}-${{ env.RUNNER_ARCH }}-${{ env.PYTHON_VERSION }}-${{ matrix.task.torch_platform }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [3388,3606]
                            OBJECT [3609,3865]
                                FIELD [3610,3659]
                                    String: "name" [3610,3616]
                                    STRING [3617,3659]
                                        String: "Setup virtual environment (no cache hit)" [3617,3659]
                                FIELD [3660,3717]
                                    String: "if" [3660,3664]
                                    STRING [3665,3717]
                                        String: "steps.virtualenv-cache.outputs.cache-hit != 'true'" [3665,3717]
                                FIELD [3718,3864]
                                    String: "run" [3718,3723]
                                    STRING [3724,3864]
                                        String: "conda create -y -p .venv python=${{ env.DEFAULT_PYTHON_VERSION }}\nconda activate ./.venv\nmake install TORCH_INSTALL=\"$TORCH_INSTALL\"\n" [3724,3864]
                            OBJECT [3866,4055]
                                FIELD [3867,3913]
                                    String: "name" [3867,3873]
                                    STRING [3874,3913]
                                        String: "Setup virtual environment (cache hit)" [3874,3913]
                                FIELD [3914,3971]
                                    String: "if" [3914,3918]
                                    STRING [3919,3971]
                                        String: "steps.virtualenv-cache.outputs.cache-hit == 'true'" [3919,3971]
                                FIELD [3972,4054]
                                    String: "run" [3972,3977]
                                    STRING [3978,4054]
                                        String: "conda activate ./.venv\npip install --no-deps -e .\nmake download-extras\n" [3978,4054]
                            OBJECT [4056,4328]
                                FIELD [4057,4094]
                                    String: "name" [4057,4063]
                                    STRING [4064,4094]
                                        String: "Pull and install models repo" [4064,4094]
                                FIELD [4095,4135]
                                    String: "if" [4095,4099]
                                    STRING [4100,4135]
                                        String: "matrix.task.name == 'Model Tests'" [4100,4135]
                                FIELD [4136,4174]
                                    String: "env" [4136,4141]
                                    OBJECT [4142,4174]
                                        FIELD [4143,4173]
                                            String: "ALLENNLP_VERSION_OVERRIDE" [4143,4170]
                                            STRING [4171,4173]
                                                String: "" [4171,4173]
                                FIELD [4175,4327]
                                    String: "run" [4175,4180]
                                    STRING [4181,4327]
                                        String: "conda activate ./.venv\ngit clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models\npip install -e . -r dev-requirements.txt\n" [4181,4327]
                            OBJECT [4329,4395]
                                FIELD [4330,4349]
                                    String: "name" [4330,4336]
                                    STRING [4337,4349]
                                        String: "Debug info" [4337,4349]
                                FIELD [4350,4394]
                                    String: "run" [4350,4355]
                                    STRING [4356,4394]
                                        String: "conda activate ./.venv\nconda list\n" [4356,4394]
                            OBJECT [4396,4502]
                                FIELD [4397,4429]
                                    String: "name" [4397,4403]
                                    STRING [4404,4429]
                                        String: "Ensure torch up-to-date" [4404,4429]
                                FIELD [4430,4501]
                                    String: "run" [4430,4435]
                                    STRING [4436,4501]
                                        String: "conda activate ./.venv\npython scripts/check_torch_version.py\n" [4436,4501]
                            OBJECT [4503,4594]
                                FIELD [4504,4536]
                                    String: "name" [4504,4510]
                                    STRING [4511,4536]
                                        String: "${{ matrix.task.name }}" [4511,4536]
                                FIELD [4537,4593]
                                    String: "run" [4537,4542]
                                    STRING [4543,4593]
                                        String: "conda activate ./.venv\n${{ matrix.task.run }}\n" [4543,4593]
                            OBJECT [4595,4716]
                                FIELD [4596,4628]
                                    String: "name" [4596,4602]
                                    STRING [4603,4628]
                                        String: "Prepare coverage report" [4603,4628]
                                FIELD [4629,4663]
                                    String: "if" [4629,4633]
                                    STRING [4634,4663]
                                        String: "matrix.task.coverage_report" [4634,4663]
                                FIELD [4664,4715]
                                    String: "run" [4664,4669]
                                    STRING [4670,4715]
                                        String: "mkdir coverage\nmv coverage.xml coverage/\n" [4670,4715]
                            OBJECT [4717,4890]
                                FIELD [4718,4747]
                                    String: "name" [4718,4724]
                                    STRING [4725,4747]
                                        String: "Save coverage report" [4725,4747]
                                FIELD [4748,4782]
                                    String: "if" [4748,4752]
                                    STRING [4753,4782]
                                        String: "matrix.task.coverage_report" [4753,4782]
                                FIELD [4783,4818]
                                    String: "uses" [4783,4789]
                                    STRING [4790,4818]
                                        String: "actions/upload-artifact@v1" [4790,4818]
                                FIELD [4819,4889]
                                    String: "with" [4819,4825]
                                    OBJECT [4826,4889]
                                        FIELD [4827,4868]
                                            String: "name" [4827,4833]
                                            STRING [4834,4868]
                                                String: "${{ matrix.task.name }}-coverage" [4834,4868]
                                        FIELD [4869,4888]
                                            String: "path" [4869,4875]
                                            STRING [4876,4888]
                                                String: "./coverage" [4876,4888]
                            OBJECT [4891,5129]
                                FIELD [4892,4909]
                                    String: "name" [4892,4898]
                                    STRING [4899,4909]
                                        String: "Clean up" [4899,4909]
                                FIELD [4910,4925]
                                    String: "if" [4910,4914]
                                    STRING [4915,4925]
                                        String: "always()" [4915,4925]
                                FIELD [4926,5128]
                                    String: "run" [4926,4931]
                                    STRING [4932,5128]
                                        String: "# Could run into issues with the cache if we don't uninstall the editable.\n# See https://github.com/pypa/pip/issues/4537.\nconda activate ./.venv\npip uninstall --yes allennlp allennlp-models\n" [4932,5128]
            FIELD [5132,6091]
                String: "upload_coverage" [5132,5149]
                OBJECT [5150,6091]
                    FIELD [5151,5182]
                        String: "name" [5151,5157]
                        STRING [5158,5182]
                            String: "Upload Coverage Report" [5158,5182]
                    FIELD [5183,5202]
                        String: "timeout-minutes" [5183,5200]
                        NUMBER [5201,5202]
                            Number: 5 [5201,5202]
                    FIELD [5203,5321]
                        String: "if" [5203,5207]
                        STRING [5208,5321]
                            String: "github.repository == 'allenai/allennlp' && (github.event_name == 'push' || github.event_name == 'pull_request')" [5208,5321]
                    FIELD [5322,5347]
                        String: "runs-on" [5322,5331]
                        STRING [5332,5347]
                            String: "ubuntu-latest" [5332,5347]
                    FIELD [5348,5366]
                        String: "needs" [5348,5355]
                        ARRAY [5356,5366]
                            STRING [5357,5365]
                                String: "checks" [5357,5365]
                    FIELD [5367,6090]
                        String: "steps" [5367,5374]
                        ARRAY [5375,6090]
                            OBJECT [5376,5406]
                                FIELD [5377,5405]
                                    String: "uses" [5377,5383]
                                    STRING [5384,5405]
                                        String: "actions/checkout@v2" [5384,5405]
                            OBJECT [5407,5560]
                                FIELD [5408,5456]
                                    String: "name" [5408,5414]
                                    STRING [5415,5456]
                                        String: "Download coverage report from CPU tests" [5415,5456]
                                FIELD [5457,5494]
                                    String: "uses" [5457,5463]
                                    STRING [5464,5494]
                                        String: "actions/download-artifact@v1" [5464,5494]
                                FIELD [5495,5559]
                                    String: "with" [5495,5501]
                                    OBJECT [5502,5559]
                                        FIELD [5503,5530]
                                            String: "name" [5503,5509]
                                            STRING [5510,5530]
                                                String: "CPU Tests-coverage" [5510,5530]
                                        FIELD [5531,5558]
                                            String: "path" [5531,5537]
                                            STRING [5538,5558]
                                                String: "coverage/cpu_tests" [5538,5558]
                            OBJECT [5561,5714]
                                FIELD [5562,5610]
                                    String: "name" [5562,5568]
                                    STRING [5569,5610]
                                        String: "Download coverage report from GPU Tests" [5569,5610]
                                FIELD [5611,5648]
                                    String: "uses" [5611,5617]
                                    STRING [5618,5648]
                                        String: "actions/download-artifact@v1" [5618,5648]
                                FIELD [5649,5713]
                                    String: "with" [5649,5655]
                                    OBJECT [5656,5713]
                                        FIELD [5657,5684]
                                            String: "name" [5657,5663]
                                            STRING [5664,5684]
                                                String: "GPU Tests-coverage" [5664,5684]
                                        FIELD [5685,5712]
                                            String: "path" [5685,5691]
                                            STRING [5692,5712]
                                                String: "coverage/gpu_tests" [5692,5712]
                            OBJECT [5715,5874]
                                FIELD [5716,5766]
                                    String: "name" [5716,5722]
                                    STRING [5723,5766]
                                        String: "Download coverage report from model tests" [5723,5766]
                                FIELD [5767,5804]
                                    String: "uses" [5767,5773]
                                    STRING [5774,5804]
                                        String: "actions/download-artifact@v1" [5774,5804]
                                FIELD [5805,5873]
                                    String: "with" [5805,5811]
                                    OBJECT [5812,5873]
                                        FIELD [5813,5842]
                                            String: "name" [5813,5819]
                                            STRING [5820,5842]
                                                String: "Model Tests-coverage" [5820,5842]
                                        FIELD [5843,5872]
                                            String: "path" [5843,5849]
                                            STRING [5850,5872]
                                                String: "coverage/model_tests" [5850,5872]
                            OBJECT [5875,6089]
                                FIELD [5876,5911]
                                    String: "name" [5876,5882]
                                    STRING [5883,5911]
                                        String: "Upload coverage to Codecov" [5883,5911]
                                FIELD [5912,5946]
                                    String: "uses" [5912,5918]
                                    STRING [5919,5946]
                                        String: "codecov/codecov-action@v1" [5919,5946]
                                FIELD [5947,6088]
                                    String: "with" [5947,5953]
                                    OBJECT [5954,6088]
                                        FIELD [5955,6062]
                                            String: "files" [5955,5962]
                                            STRING [5963,6062]
                                                String: "coverage/cpu_tests/coverage.xml,coverage/gpu_tests/coverage.xml,coverage/model_tests/coverage.xml" [5963,6062]
                                        FIELD [6063,6087]
                                            String: "fail_ci_if_error" [6063,6081]
                                            FALSE [6082,6087]
            FIELD [6092,8805]
                String: "build_package" [6092,6107]
                OBJECT [6108,8805]
                    FIELD [6109,6131]
                        String: "name" [6109,6115]
                        STRING [6116,6131]
                            String: "Build Package" [6116,6131]
                    FIELD [6132,6152]
                        String: "timeout-minutes" [6132,6149]
                        NUMBER [6150,6152]
                            Number: 18 [6150,6152]
                    FIELD [6153,6178]
                        String: "runs-on" [6153,6162]
                        STRING [6163,6178]
                            String: "ubuntu-latest" [6163,6178]
                    FIELD [6179,8804]
                        String: "steps" [6179,6186]
                        ARRAY [6187,8804]
                            OBJECT [6188,6218]
                                FIELD [6189,6217]
                                    String: "uses" [6189,6195]
                                    STRING [6196,6217]
                                        String: "actions/checkout@v2" [6196,6217]
                            OBJECT [6219,6355]
                                FIELD [6220,6263]
                                    String: "uses" [6220,6226]
                                    STRING [6227,6263]
                                        String: "conda-incubator/setup-miniconda@v2" [6227,6263]
                                FIELD [6264,6354]
                                    String: "with" [6264,6270]
                                    OBJECT [6271,6354]
                                        FIELD [6272,6300]
                                            String: "miniconda-version" [6272,6291]
                                            STRING [6292,6300]
                                                String: "latest" [6292,6300]
                                        FIELD [6301,6353]
                                            String: "python-version" [6301,6317]
                                            STRING [6318,6353]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [6318,6353]
                            OBJECT [6356,6611]
                                FIELD [6357,6385]
                                    String: "name" [6357,6363]
                                    STRING [6364,6385]
                                        String: "Set build variables" [6364,6385]
                                FIELD [6386,6610]
                                    String: "run" [6386,6391]
                                    STRING [6392,6610]
                                        String: "echo \"PYTHON_VERSION=$(python --version)\" >> $GITHUB_ENV\necho \"RUNNER_ARCH=$(uname -m)\" >> $GITHUB_ENV\necho \"WEEK_NUMBER=$(date +%V)\" >> $GITHUB_ENV\necho \"TORCH_INSTALL=$TORCH_CPU_INSTALL\" >> $GITHUB_ENV\n" [6392,6610]
                            OBJECT [6612,6882]
                                FIELD [6613,6638]
                                    String: "uses" [6613,6619]
                                    STRING [6620,6638]
                                        String: "actions/cache@v2" [6620,6638]
                                FIELD [6639,6662]
                                    String: "id" [6639,6643]
                                    STRING [6644,6662]
                                        String: "virtualenv-cache" [6644,6662]
                                FIELD [6663,6881]
                                    String: "with" [6663,6669]
                                    OBJECT [6670,6881]
                                        FIELD [6671,6685]
                                            String: "path" [6671,6677]
                                            STRING [6678,6685]
                                                String: ".venv" [6678,6685]
                                        FIELD [6686,6880]
                                            String: "key" [6686,6691]
                                            STRING [6692,6880]
                                                String: "${{ env.CACHE_PREFIX }}-${{ env.WEEK_NUMBER }}-${{ runner.os }}-${{ env.RUNNER_ARCH }}-${{ env.PYTHON_VERSION }}-cpu-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [6692,6880]
                            OBJECT [6883,7139]
                                FIELD [6884,6933]
                                    String: "name" [6884,6890]
                                    STRING [6891,6933]
                                        String: "Setup virtual environment (no cache hit)" [6891,6933]
                                FIELD [6934,6991]
                                    String: "if" [6934,6938]
                                    STRING [6939,6991]
                                        String: "steps.virtualenv-cache.outputs.cache-hit != 'true'" [6939,6991]
                                FIELD [6992,7138]
                                    String: "run" [6992,6997]
                                    STRING [6998,7138]
                                        String: "conda create -y -p .venv python=${{ env.DEFAULT_PYTHON_VERSION }}\nconda activate ./.venv\nmake install TORCH_INSTALL=\"$TORCH_INSTALL\"\n" [6998,7138]
                            OBJECT [7140,7329]
                                FIELD [7141,7187]
                                    String: "name" [7141,7147]
                                    STRING [7148,7187]
                                        String: "Setup virtual environment (cache hit)" [7148,7187]
                                FIELD [7188,7245]
                                    String: "if" [7188,7192]
                                    STRING [7193,7245]
                                        String: "steps.virtualenv-cache.outputs.cache-hit == 'true'" [7193,7245]
                                FIELD [7246,7328]
                                    String: "run" [7246,7251]
                                    STRING [7252,7328]
                                        String: "conda activate ./.venv\npip install --no-deps -e .\nmake download-extras\n" [7252,7328]
                            OBJECT [7330,7396]
                                FIELD [7331,7350]
                                    String: "name" [7331,7337]
                                    STRING [7338,7350]
                                        String: "Debug info" [7338,7350]
                                FIELD [7351,7395]
                                    String: "run" [7351,7356]
                                    STRING [7357,7395]
                                        String: "conda activate ./.venv\npip freeze\n" [7357,7395]
                            OBJECT [7397,8058]
                                FIELD [7398,7436]
                                    String: "name" [7398,7404]
                                    STRING [7405,7436]
                                        String: "Check and set nightly version" [7405,7436]
                                FIELD [7437,7475]
                                    String: "if" [7437,7441]
                                    STRING [7442,7475]
                                        String: "github.event_name == 'schedule'" [7442,7475]
                                FIELD [7476,8057]
                                    String: "run" [7476,7481]
                                    STRING [7482,8057]
                                        String: "# Verify that current version is ahead of the last release.\nconda activate ./.venv\nLATEST=$(scripts/get_version.py latest)\nCURRENT=$(scripts/get_version.py current)\nif [ \"$CURRENT\" == \"$LATEST\" ]; then\n    echo \"Current version needs to be ahead of latest release in order to build nightly release\";\n    exit 1;\nfi\n# This is somewhat bizarre, but you can't set env variables to bash\n# commands in the action workflow - so we have to use this odd way of\n# exporting a variable instead.\necho \"ALLENNLP_VERSION_SUFFIX=dev$(date -u +%Y%m%d)\" >> $GITHUB_ENV\n" [7482,8057]
                            OBJECT [8059,8437]
                                FIELD [8060,8104]
                                    String: "name" [8060,8066]
                                    STRING [8067,8104]
                                        String: "Check version and release tag match" [8067,8104]
                                FIELD [8105,8142]
                                    String: "if" [8105,8109]
                                    STRING [8110,8142]
                                        String: "github.event_name == 'release'" [8110,8142]
                                FIELD [8143,8436]
                                    String: "run" [8143,8148]
                                    STRING [8149,8436]
                                        String: "# Remove 'refs/tags/' to get the actual tag from the release.\nconda activate ./.venv\nTAG=${GITHUB_REF#refs/tags/};\nVERSION=$(scripts/get_version.py current)\nif [ \"$TAG\" != \"$VERSION\" ]; then\n    echo \"Bad tag or version. Tag $TAG does not match $VERSION\";\n    exit 1;\nfi\n" [8149,8436]
                            OBJECT [8438,8594]
                                FIELD [8439,8466]
                                    String: "name" [8439,8445]
                                    STRING [8446,8466]
                                        String: "Build core package" [8446,8466]
                                FIELD [8467,8593]
                                    String: "run" [8467,8472]
                                    STRING [8473,8593]
                                        String: "# Just print out the version for debugging.\nconda activate ./.venv\nmake version\npython setup.py bdist_wheel sdist\n" [8473,8593]
                            OBJECT [8595,8704]
                                FIELD [8596,8622]
                                    String: "name" [8596,8602]
                                    STRING [8603,8622]
                                        String: "Save core package" [8603,8622]
                                FIELD [8623,8658]
                                    String: "uses" [8623,8629]
                                    STRING [8630,8658]
                                        String: "actions/upload-artifact@v1" [8630,8658]
                                FIELD [8659,8703]
                                    String: "with" [8659,8665]
                                    OBJECT [8666,8703]
                                        FIELD [8667,8688]
                                            String: "name" [8667,8673]
                                            STRING [8674,8688]
                                                String: "core-package" [8674,8688]
                                        FIELD [8689,8702]
                                            String: "path" [8689,8695]
                                            STRING [8696,8702]
                                                String: "dist" [8696,8702]
                            OBJECT [8705,8803]
                                FIELD [8706,8723]
                                    String: "name" [8706,8712]
                                    STRING [8713,8723]
                                        String: "Clean up" [8713,8723]
                                FIELD [8724,8739]
                                    String: "if" [8724,8728]
                                    STRING [8729,8739]
                                        String: "always()" [8729,8739]
                                FIELD [8740,8802]
                                    String: "run" [8740,8745]
                                    STRING [8746,8802]
                                        String: "conda activate ./.venv\npip uninstall --yes allennlp\n" [8746,8802]
            FIELD [8806,9645]
                String: "test_package" [8806,8820]
                OBJECT [8821,9645]
                    FIELD [8822,8843]
                        String: "name" [8822,8828]
                        STRING [8829,8843]
                            String: "Test Package" [8829,8843]
                    FIELD [8844,8864]
                        String: "timeout-minutes" [8844,8861]
                        NUMBER [8862,8864]
                            Number: 10 [8862,8864]
                    FIELD [8865,8890]
                        String: "needs" [8865,8872]
                        ARRAY [8873,8890]
                            STRING [8874,8889]
                                String: "build_package" [8874,8889]
                    FIELD [8891,8916]
                        String: "runs-on" [8891,8900]
                        STRING [8901,8916]
                            String: "ubuntu-latest" [8901,8916]
                    FIELD [8917,8969]
                        String: "strategy" [8917,8927]
                        OBJECT [8928,8969]
                            FIELD [8929,8968]
                                String: "matrix" [8929,8937]
                                OBJECT [8938,8968]
                                    FIELD [8939,8967]
                                        String: "python" [8939,8947]
                                        ARRAY [8948,8967]
                                            STRING [8949,8954]
                                                String: "3.7" [8949,8954]
                                            STRING [8955,8960]
                                                String: "3.8" [8955,8960]
                                            STRING [8961,8966]
                                                String: "3.9" [8961,8966]
                    FIELD [8970,9644]
                        String: "steps" [8970,8977]
                        ARRAY [8978,9644]
                            OBJECT [8979,9009]
                                FIELD [8980,9008]
                                    String: "uses" [8980,8986]
                                    STRING [8987,9008]
                                        String: "actions/checkout@v2" [8987,9008]
                            OBJECT [9010,9115]
                                FIELD [9011,9032]
                                    String: "name" [9011,9017]
                                    STRING [9018,9032]
                                        String: "Setup Python" [9018,9032]
                                FIELD [9033,9065]
                                    String: "uses" [9033,9039]
                                    STRING [9040,9065]
                                        String: "actions/setup-python@v2" [9040,9065]
                                FIELD [9066,9114]
                                    String: "with" [9066,9072]
                                    OBJECT [9073,9114]
                                        FIELD [9074,9113]
                                            String: "python-version" [9074,9090]
                                            STRING [9091,9113]
                                                String: "${{ matrix.python }}" [9091,9113]
                            OBJECT [9116,9200]
                                FIELD [9117,9146]
                                    String: "name" [9117,9123]
                                    STRING [9124,9146]
                                        String: "Install requirements" [9124,9146]
                                FIELD [9147,9199]
                                    String: "run" [9147,9152]
                                    STRING [9153,9199]
                                        String: "pip install --upgrade pip setuptools wheel\n" [9153,9199]
                            OBJECT [9201,9316]
                                FIELD [9202,9232]
                                    String: "name" [9202,9208]
                                    STRING [9209,9232]
                                        String: "Download core package" [9209,9232]
                                FIELD [9233,9270]
                                    String: "uses" [9233,9239]
                                    STRING [9240,9270]
                                        String: "actions/download-artifact@v1" [9240,9270]
                                FIELD [9271,9315]
                                    String: "with" [9271,9277]
                                    OBJECT [9278,9315]
                                        FIELD [9279,9300]
                                            String: "name" [9279,9285]
                                            STRING [9286,9300]
                                                String: "core-package" [9286,9300]
                                        FIELD [9301,9314]
                                            String: "path" [9301,9307]
                                            STRING [9308,9314]
                                                String: "dist" [9308,9314]
                            OBJECT [9317,9387]
                                FIELD [9318,9347]
                                    String: "name" [9318,9324]
                                    STRING [9325,9347]
                                        String: "Install core package" [9325,9347]
                                FIELD [9348,9386]
                                    String: "run" [9348,9353]
                                    STRING [9354,9386]
                                        String: "pip install $(ls dist/*.whl)\n" [9354,9386]
                            OBJECT [9388,9457]
                                FIELD [9389,9425]
                                    String: "name" [9389,9395]
                                    STRING [9396,9425]
                                        String: "Download NLTK prerequisites" [9396,9425]
                                FIELD [9426,9456]
                                    String: "run" [9426,9431]
                                    STRING [9432,9456]
                                        String: "make download-extras\n" [9432,9456]
                            OBJECT [9458,9544]
                                FIELD [9459,9485]
                                    String: "name" [9459,9465]
                                    STRING [9466,9485]
                                        String: "Cleanup workspace" [9466,9485]
                                FIELD [9486,9543]
                                    String: "run" [9486,9491]
                                    STRING [9492,9543]
                                        String: "rm -rf allennlp/ setup.py tests/ test_fixtures/\n" [9492,9543]
                            OBJECT [9545,9587]
                                FIELD [9546,9565]
                                    String: "name" [9546,9552]
                                    STRING [9553,9565]
                                        String: "Pip freeze" [9553,9565]
                                FIELD [9566,9586]
                                    String: "run" [9566,9571]
                                    STRING [9572,9586]
                                        String: "pip freeze\n" [9572,9586]
                            OBJECT [9588,9643]
                                FIELD [9589,9610]
                                    String: "name" [9589,9595]
                                    STRING [9596,9610]
                                        String: "Test install" [9596,9610]
                                FIELD [9611,9642]
                                    String: "run" [9611,9616]
                                    STRING [9617,9642]
                                        String: "allennlp test-install\n" [9617,9642]
            FIELD [9646,11249]
                String: "docker" [9646,9654]
                OBJECT [9655,11249]
                    FIELD [9656,9697]
                        String: "name" [9656,9662]
                        STRING [9663,9697]
                            String: "Docker (CUDA ${{ matrix.cuda }})" [9663,9697]
                    FIELD [9698,9718]
                        String: "timeout-minutes" [9698,9715]
                        NUMBER [9716,9718]
                            Number: 18 [9716,9718]
                    FIELD [9719,9765]
                        String: "if" [9719,9723]
                        STRING [9724,9765]
                            String: "github.repository == 'allenai/allennlp'" [9724,9765]
                    FIELD [9766,9791]
                        String: "runs-on" [9766,9775]
                        STRING [9776,9791]
                            String: "ubuntu-latest" [9776,9791]
                    FIELD [9792,9831]
                        String: "strategy" [9792,9802]
                        OBJECT [9803,9831]
                            FIELD [9804,9830]
                                String: "matrix" [9804,9812]
                                OBJECT [9813,9830]
                                    FIELD [9814,9829]
                                        String: "cuda" [9814,9820]
                                        ARRAY [9821,9829]
                                            STRING [9822,9828]
                                                String: "11.3" [9822,9828]
                    FIELD [9832,11248]
                        String: "steps" [9832,9839]
                        ARRAY [9840,11248]
                            OBJECT [9841,9871]
                                FIELD [9842,9870]
                                    String: "uses" [9842,9848]
                                    STRING [9849,9870]
                                        String: "actions/checkout@v2" [9849,9870]
                            OBJECT [9872,10287]
                                FIELD [9873,9914]
                                    String: "name" [9873,9879]
                                    STRING [9880,9914]
                                        String: "Set image name and torch version" [9880,9914]
                                FIELD [9915,9950]
                                    String: "env" [9915,9920]
                                    OBJECT [9921,9950]
                                        FIELD [9922,9949]
                                            String: "CUDA" [9922,9928]
                                            STRING [9929,9949]
                                                String: "${{ matrix.cuda }}" [9929,9949]
                                FIELD [9951,10286]
                                    String: "run" [9951,9956]
                                    STRING [9957,10286]
                                        String: "echo \"DOCKER_TORCH_VERSION=${TORCH_VERSION}-cuda${CUDA}\" >> $GITHUB_ENV;\nif [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCKER_IMAGE_NAME=allennlp/allennlp:${GITHUB_REF#refs/tags/}-cuda${CUDA}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCKER_IMAGE_NAME=allennlp/commit:${GITHUB_SHA}-cuda${CUDA}\" >> $GITHUB_ENV;\nfi\n" [9957,10286]
                            OBJECT [10288,10426]
                                FIELD [10289,10309]
                                    String: "name" [10289,10295]
                                    STRING [10296,10309]
                                        String: "Build image" [10296,10309]
                                FIELD [10310,10425]
                                    String: "run" [10310,10315]
                                    STRING [10316,10425]
                                        String: "make docker-image DOCKER_IMAGE_NAME=\"$DOCKER_IMAGE_NAME\" DOCKER_TORCH_VERSION=\"$DOCKER_TORCH_VERSION\"\n" [10316,10425]
                            OBJECT [10427,10506]
                                FIELD [10428,10447]
                                    String: "name" [10428,10434]
                                    STRING [10435,10447]
                                        String: "Test image" [10435,10447]
                                FIELD [10448,10505]
                                    String: "run" [10448,10453]
                                    STRING [10454,10505]
                                        String: "docker run --rm $DOCKER_IMAGE_NAME test-install\n" [10454,10505]
                            OBJECT [10507,10704]
                                FIELD [10508,10543]
                                    String: "name" [10508,10514]
                                    STRING [10515,10543]
                                        String: "Authenticate to Docker Hub" [10515,10543]
                                FIELD [10544,10612]
                                    String: "if" [10544,10548]
                                    STRING [10549,10612]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [10549,10612]
                                FIELD [10613,10703]
                                    String: "run" [10613,10618]
                                    STRING [10619,10703]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\n" [10619,10703]
                            OBJECT [10705,10838]
                                FIELD [10706,10727]
                                    String: "name" [10706,10712]
                                    STRING [10713,10727]
                                        String: "Upload image" [10713,10727]
                                FIELD [10728,10796]
                                    String: "if" [10728,10732]
                                    STRING [10733,10796]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [10733,10796]
                                FIELD [10797,10837]
                                    String: "run" [10797,10802]
                                    STRING [10803,10837]
                                        String: "docker push $DOCKER_IMAGE_NAME\n" [10803,10837]
                            OBJECT [10839,11050]
                                FIELD [10840,10876]
                                    String: "name" [10840,10846]
                                    STRING [10847,10876]
                                        String: "Upload default commit image" [10847,10876]
                                FIELD [10877,10936]
                                    String: "if" [10877,10881]
                                    STRING [10882,10936]
                                        String: "github.event_name == 'push' && matrix.cuda == '11.3'" [10882,10936]
                                FIELD [10937,11049]
                                    String: "run" [10937,10942]
                                    STRING [10943,11049]
                                        String: "docker tag $DOCKER_IMAGE_NAME allennlp/commit:${GITHUB_SHA}\ndocker push allennlp/commit:${GITHUB_SHA}\n" [10943,11049]
                            OBJECT [11051,11247]
                                FIELD [11052,11080]
                                    String: "name" [11052,11058]
                                    STRING [11059,11080]
                                        String: "Upload latest image" [11059,11080]
                                FIELD [11081,11143]
                                    String: "if" [11081,11085]
                                    STRING [11086,11143]
                                        String: "github.event_name == 'release' && matrix.cuda == '11.3'" [11086,11143]
                                FIELD [11144,11246]
                                    String: "run" [11144,11149]
                                    STRING [11150,11246]
                                        String: "docker tag $DOCKER_IMAGE_NAME allennlp/allennlp:latest\ndocker push allennlp/allennlp:latest\n" [11150,11246]
            FIELD [11250,15712]
                String: "docs" [11250,11256]
                OBJECT [11257,15712]
                    FIELD [11258,11271]
                        String: "name" [11258,11264]
                        STRING [11265,11271]
                            String: "Docs" [11265,11271]
                    FIELD [11272,11292]
                        String: "timeout-minutes" [11272,11289]
                        NUMBER [11290,11292]
                            Number: 15 [11290,11292]
                    FIELD [11293,11339]
                        String: "if" [11293,11297]
                        STRING [11298,11339]
                            String: "github.repository == 'allenai/allennlp'" [11298,11339]
                    FIELD [11340,11365]
                        String: "runs-on" [11340,11349]
                        STRING [11350,11365]
                            String: "ubuntu-latest" [11350,11365]
                    FIELD [11366,15711]
                        String: "steps" [11366,11373]
                        ARRAY [11374,15711]
                            OBJECT [11375,11405]
                                FIELD [11376,11404]
                                    String: "uses" [11376,11382]
                                    STRING [11383,11404]
                                        String: "actions/checkout@v1" [11383,11404]
                            OBJECT [11406,11602]
                                FIELD [11407,11435]
                                    String: "name" [11407,11413]
                                    STRING [11414,11435]
                                        String: "Setup SSH Client " [11414,11435]
                                FIELD [11436,11504]
                                    String: "if" [11436,11440]
                                    STRING [11441,11504]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [11441,11504]
                                FIELD [11505,11541]
                                    String: "uses" [11505,11511]
                                    STRING [11512,11541]
                                        String: "webfactory/ssh-agent@v0.4.1" [11512,11541]
                                FIELD [11542,11601]
                                    String: "with" [11542,11548]
                                    OBJECT [11549,11601]
                                        FIELD [11550,11600]
                                            String: "ssh-private-key" [11550,11567]
                                            STRING [11568,11600]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [11568,11600]
                            OBJECT [11603,11739]
                                FIELD [11604,11647]
                                    String: "uses" [11604,11610]
                                    STRING [11611,11647]
                                        String: "conda-incubator/setup-miniconda@v2" [11611,11647]
                                FIELD [11648,11738]
                                    String: "with" [11648,11654]
                                    OBJECT [11655,11738]
                                        FIELD [11656,11684]
                                            String: "miniconda-version" [11656,11675]
                                            STRING [11676,11684]
                                                String: "latest" [11676,11684]
                                        FIELD [11685,11737]
                                            String: "python-version" [11685,11701]
                                            STRING [11702,11737]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [11702,11737]
                            OBJECT [11740,11995]
                                FIELD [11741,11769]
                                    String: "name" [11741,11747]
                                    STRING [11748,11769]
                                        String: "Set build variables" [11748,11769]
                                FIELD [11770,11994]
                                    String: "run" [11770,11775]
                                    STRING [11776,11994]
                                        String: "echo \"PYTHON_VERSION=$(python --version)\" >> $GITHUB_ENV\necho \"RUNNER_ARCH=$(uname -m)\" >> $GITHUB_ENV\necho \"WEEK_NUMBER=$(date +%V)\" >> $GITHUB_ENV\necho \"TORCH_INSTALL=$TORCH_CPU_INSTALL\" >> $GITHUB_ENV\n" [11776,11994]
                            OBJECT [11996,12266]
                                FIELD [11997,12022]
                                    String: "uses" [11997,12003]
                                    STRING [12004,12022]
                                        String: "actions/cache@v2" [12004,12022]
                                FIELD [12023,12046]
                                    String: "id" [12023,12027]
                                    STRING [12028,12046]
                                        String: "virtualenv-cache" [12028,12046]
                                FIELD [12047,12265]
                                    String: "with" [12047,12053]
                                    OBJECT [12054,12265]
                                        FIELD [12055,12069]
                                            String: "path" [12055,12061]
                                            STRING [12062,12069]
                                                String: ".venv" [12062,12069]
                                        FIELD [12070,12264]
                                            String: "key" [12070,12075]
                                            STRING [12076,12264]
                                                String: "${{ env.CACHE_PREFIX }}-${{ env.WEEK_NUMBER }}-${{ runner.os }}-${{ env.RUNNER_ARCH }}-${{ env.PYTHON_VERSION }}-cpu-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [12076,12264]
                            OBJECT [12267,12523]
                                FIELD [12268,12317]
                                    String: "name" [12268,12274]
                                    STRING [12275,12317]
                                        String: "Setup virtual environment (no cache hit)" [12275,12317]
                                FIELD [12318,12375]
                                    String: "if" [12318,12322]
                                    STRING [12323,12375]
                                        String: "steps.virtualenv-cache.outputs.cache-hit != 'true'" [12323,12375]
                                FIELD [12376,12522]
                                    String: "run" [12376,12381]
                                    STRING [12382,12522]
                                        String: "conda create -y -p .venv python=${{ env.DEFAULT_PYTHON_VERSION }}\nconda activate ./.venv\nmake install TORCH_INSTALL=\"$TORCH_INSTALL\"\n" [12382,12522]
                            OBJECT [12524,12713]
                                FIELD [12525,12571]
                                    String: "name" [12525,12531]
                                    STRING [12532,12571]
                                        String: "Setup virtual environment (cache hit)" [12532,12571]
                                FIELD [12572,12629]
                                    String: "if" [12572,12576]
                                    STRING [12577,12629]
                                        String: "steps.virtualenv-cache.outputs.cache-hit == 'true'" [12577,12629]
                                FIELD [12630,12712]
                                    String: "run" [12630,12635]
                                    STRING [12636,12712]
                                        String: "conda activate ./.venv\npip install --no-deps -e .\nmake download-extras\n" [12636,12712]
                            OBJECT [12714,12780]
                                FIELD [12715,12734]
                                    String: "name" [12715,12721]
                                    STRING [12722,12734]
                                        String: "Debug info" [12722,12734]
                                FIELD [12735,12779]
                                    String: "run" [12735,12740]
                                    STRING [12741,12779]
                                        String: "conda activate ./.venv\nconda list\n" [12741,12779]
                            OBJECT [12781,13218]
                                FIELD [12782,12810]
                                    String: "name" [12782,12788]
                                    STRING [12789,12810]
                                        String: "Prepare environment" [12789,12810]
                                FIELD [12811,13217]
                                    String: "run" [12811,12816]
                                    STRING [12817,13217]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCS_FOLDER=${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\n    echo \"BASE_SOURCE_LINK=https://github.com/allenai/allennlp/blob/${GITHUB_REF#refs/tags/}/allennlp/\" >> $GITHUB_ENV;\nelse\n    echo \"DOCS_FOLDER=main\" >> $GITHUB_ENV;\n    echo \"BASE_SOURCE_LINK=https://github.com/allenai/allennlp/blob/main/allennlp/\" >> $GITHUB_ENV;\nfi\n" [12817,13217]
                            OBJECT [13219,13298]
                                FIELD [13220,13239]
                                    String: "name" [13220,13226]
                                    STRING [13227,13239]
                                        String: "Build docs" [13227,13239]
                                FIELD [13240,13297]
                                    String: "run" [13240,13245]
                                    STRING [13246,13297]
                                        String: "conda activate ./.venv\n./scripts/build_docs.sh\n" [13246,13297]
                            OBJECT [13299,13356]
                                FIELD [13300,13322]
                                    String: "name" [13300,13306]
                                    STRING [13307,13322]
                                        String: "Print the ref" [13307,13322]
                                FIELD [13323,13355]
                                    String: "run" [13323,13328]
                                    STRING [13329,13355]
                                        String: "echo ${{ github.ref }}\n" [13329,13355]
                            OBJECT [13357,13642]
                                FIELD [13358,13380]
                                    String: "name" [13358,13364]
                                    STRING [13365,13380]
                                        String: "Configure Git" [13365,13380]
                                FIELD [13381,13486]
                                    String: "if" [13381,13385]
                                    STRING [13386,13486]
                                        String: "github.event_name == 'release' || (github.event_name == 'push' && github.ref == 'refs/heads/main')" [13386,13486]
                                FIELD [13487,13641]
                                    String: "run" [13487,13492]
                                    STRING [13493,13641]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [13493,13641]
                            OBJECT [13643,14110]
                                FIELD [13644,13663]
                                    String: "name" [13644,13650]
                                    STRING [13651,13663]
                                        String: "Stage docs" [13651,13663]
                                FIELD [13664,13769]
                                    String: "if" [13664,13668]
                                    STRING [13669,13769]
                                        String: "github.event_name == 'release' || (github.event_name == 'push' && github.ref == 'refs/heads/main')" [13669,13769]
                                FIELD [13770,14109]
                                    String: "run" [13770,13775]
                                    STRING [13776,14109]
                                        String: "echo \"Staging docs to $DOCS_FOLDER\"\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DOCS_FOLDER/\nmkdir -p ~/allennlp-docs/$DOCS_FOLDER\ncp -r site/* ~/allennlp-docs/$DOCS_FOLDER\n" [13776,14109]
                            OBJECT [14111,15009]
                                FIELD [14112,14137]
                                    String: "name" [14112,14118]
                                    STRING [14119,14137]
                                        String: "Update shortcuts" [14119,14137]
                                FIELD [14138,14175]
                                    String: "if" [14138,14142]
                                    STRING [14143,14175]
                                        String: "github.event_name == 'release'" [14143,14175]
                                FIELD [14176,15008]
                                    String: "run" [14176,14181]
                                    STRING [14182,15008]
                                        String: "# Fail immediately if any step fails.\nset -e\nconda activate ./.venv\n\nLATEST=$(./scripts/get_version.py latest)\nSTABLE=$(./scripts/get_version.py stable)\n\ncd ~/allennlp-docs/\n\necho \"Updating latest/index.html to point to $LATEST\"\nmkdir -p latest\ncat >latest/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${LATEST}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${LATEST}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n\necho \"Updating stable/index.html to point to $STABLE\"\nmkdir -p stable\ncat >stable/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${STABLE}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${STABLE}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n" [14182,15008]
                            OBJECT [15010,15268]
                                FIELD [15011,15031]
                                    String: "name" [15011,15017]
                                    STRING [15018,15031]
                                        String: "Deploy docs" [15018,15031]
                                FIELD [15032,15137]
                                    String: "if" [15032,15036]
                                    STRING [15037,15137]
                                        String: "github.event_name == 'release' || (github.event_name == 'push' && github.ref == 'refs/heads/main')" [15037,15137]
                                FIELD [15138,15267]
                                    String: "run" [15138,15143]
                                    STRING [15144,15267]
                                        String: "# And push them up to GitHub\ncd ~/allennlp-docs/\ngit add -A\ngit commit -m \"automated update of the docs\"\ngit push\n" [15144,15267]
                            OBJECT [15269,15611]
                                FIELD [15270,15307]
                                    String: "name" [15270,15276]
                                    STRING [15277,15307]
                                        String: "Re-write docs commit history" [15277,15307]
                                FIELD [15308,15345]
                                    String: "if" [15308,15312]
                                    STRING [15313,15345]
                                        String: "github.event_name == 'release'" [15313,15345]
                                FIELD [15346,15610]
                                    String: "run" [15346,15351]
                                    STRING [15352,15610]
                                        String: "cd ~/allennlp-docs/\ngit checkout --orphan latest_branch\ngit add -A\ngit commit -m \"Re-write commit history\"\ngit branch -D master  # remove old master branch\ngit branch -m master  # rename clean new branch to master branch\ngit push -f origin master\n" [15352,15610]
                            OBJECT [15612,15710]
                                FIELD [15613,15630]
                                    String: "name" [15613,15619]
                                    STRING [15620,15630]
                                        String: "Clean up" [15620,15630]
                                FIELD [15631,15646]
                                    String: "if" [15631,15635]
                                    STRING [15636,15646]
                                        String: "always()" [15636,15646]
                                FIELD [15647,15709]
                                    String: "run" [15647,15652]
                                    STRING [15653,15709]
                                        String: "conda activate ./.venv\npip uninstall --yes allennlp\n" [15653,15709]
            FIELD [15713,16448]
                String: "publish" [15713,15722]
                OBJECT [15723,16448]
                    FIELD [15724,15737]
                        String: "name" [15724,15730]
                        STRING [15731,15737]
                            String: "PyPI" [15731,15737]
                    FIELD [15738,15758]
                        String: "timeout-minutes" [15738,15755]
                        NUMBER [15756,15758]
                            Number: 10 [15756,15758]
                    FIELD [15759,15832]
                        String: "needs" [15759,15766]
                        ARRAY [15767,15832]
                            STRING [15768,15775]
                                String: "style" [15768,15775]
                            STRING [15776,15784]
                                String: "checks" [15776,15784]
                            STRING [15785,15800]
                                String: "build_package" [15785,15800]
                            STRING [15801,15815]
                                String: "test_package" [15801,15815]
                            STRING [15816,15824]
                                String: "docker" [15816,15824]
                            STRING [15825,15831]
                                String: "docs" [15825,15831]
                    FIELD [15833,15950]
                        String: "if" [15833,15837]
                        STRING [15838,15950]
                            String: "github.repository == 'allenai/allennlp' && (github.event_name == 'release' || github.event_name == 'schedule')" [15838,15950]
                    FIELD [15951,15976]
                        String: "runs-on" [15951,15960]
                        STRING [15961,15976]
                            String: "ubuntu-latest" [15961,15976]
                    FIELD [15977,16447]
                        String: "steps" [15977,15984]
                        ARRAY [15985,16447]
                            OBJECT [15986,16016]
                                FIELD [15987,16015]
                                    String: "uses" [15987,15993]
                                    STRING [15994,16015]
                                        String: "actions/checkout@v2" [15994,16015]
                            OBJECT [16017,16135]
                                FIELD [16018,16039]
                                    String: "name" [16018,16024]
                                    STRING [16025,16039]
                                        String: "Setup Python" [16025,16039]
                                FIELD [16040,16072]
                                    String: "uses" [16040,16046]
                                    STRING [16047,16072]
                                        String: "actions/setup-python@v2" [16047,16072]
                                FIELD [16073,16134]
                                    String: "with" [16073,16079]
                                    OBJECT [16080,16134]
                                        FIELD [16081,16133]
                                            String: "python-version" [16081,16097]
                                            STRING [16098,16133]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [16098,16133]
                            OBJECT [16136,16226]
                                FIELD [16137,16166]
                                    String: "name" [16137,16143]
                                    STRING [16144,16166]
                                        String: "Install requirements" [16144,16166]
                                FIELD [16167,16225]
                                    String: "run" [16167,16172]
                                    STRING [16173,16225]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [16173,16225]
                            OBJECT [16227,16342]
                                FIELD [16228,16258]
                                    String: "name" [16228,16234]
                                    STRING [16235,16258]
                                        String: "Download core package" [16235,16258]
                                FIELD [16259,16296]
                                    String: "uses" [16259,16265]
                                    STRING [16266,16296]
                                        String: "actions/download-artifact@v1" [16266,16296]
                                FIELD [16297,16341]
                                    String: "with" [16297,16303]
                                    OBJECT [16304,16341]
                                        FIELD [16305,16326]
                                            String: "name" [16305,16311]
                                            STRING [16312,16326]
                                                String: "core-package" [16312,16326]
                                        FIELD [16327,16340]
                                            String: "path" [16327,16333]
                                            STRING [16334,16340]
                                                String: "dist" [16334,16340]
                            OBJECT [16343,16446]
                                FIELD [16344,16373]
                                    String: "name" [16344,16350]
                                    STRING [16351,16373]
                                        String: "Publish core package" [16351,16373]
                                FIELD [16374,16445]
                                    String: "run" [16374,16379]
                                    STRING [16380,16445]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [16380,16445]