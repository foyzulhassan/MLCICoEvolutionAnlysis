OBJECT [0,3167]
    FIELD [1,14]
        String: "name" [1,7]
        STRING [8,14]
            String: "main" [8,14]
    FIELD [15,271]
        String: "on" [15,19]
        OBJECT [20,271]
            FIELD [21,32]
                String: "push" [21,27]
                NULL [28,32]
            FIELD [33,52]
                String: "pull_request" [33,47]
                NULL [48,52]
            FIELD [53,270]
                String: "workflow_dispatch" [53,72]
                OBJECT [73,270]
                    FIELD [74,269]
                        String: "inputs" [74,82]
                        OBJECT [83,269]
                            FIELD [84,268]
                                String: "ramp_workflow_url" [84,103]
                                OBJECT [104,268]
                                    FIELD [105,159]
                                        String: "description" [105,118]
                                        STRING [119,159]
                                            String: "pip installable ramp-workflow repo URL" [119,159]
                                    FIELD [160,175]
                                        String: "required" [160,170]
                                        TRUE [171,175]
                                    FIELD [176,267]
                                        String: "default" [176,185]
                                        STRING [186,267]
                                            String: "https://github.com/paris-saclay-cds/ramp-workflow/archive/refs/heads/master.zip" [186,267]
    FIELD [272,3166]
        String: "jobs" [272,278]
        OBJECT [279,3166]
            FIELD [280,2822]
                String: "main" [280,286]
                OBJECT [287,2822]
                    FIELD [288,325]
                        String: "name" [288,294]
                        STRING [295,325]
                            String: "test-py-${{ matrix.python }}" [295,325]
                    FIELD [326,354]
                        String: "runs-on" [326,335]
                        STRING [336,354]
                            String: "${{ matrix.os }}" [336,354]
                    FIELD [355,516]
                        String: "strategy" [355,365]
                        OBJECT [366,516]
                            FIELD [367,515]
                                String: "matrix" [367,375]
                                OBJECT [376,515]
                                    FIELD [377,398]
                                        String: "os" [377,381]
                                        ARRAY [382,398]
                                            STRING [383,397]
                                                String: "ubuntu-20.04" [383,397]
                                    FIELD [399,434]
                                        String: "python" [399,407]
                                        ARRAY [408,434]
                                            STRING [409,414]
                                                String: "3.7" [409,414]
                                            STRING [415,420]
                                                String: "3.8" [415,420]
                                            STRING [421,426]
                                                String: "3.9" [421,426]
                                            STRING [427,433]
                                                String: "3.10" [427,433]
                                    FIELD [435,514]
                                        String: "include" [435,444]
                                        ARRAY [445,514]
                                            OBJECT [446,513]
                                                FIELD [447,466]
                                                    String: "os" [447,451]
                                                    STRING [452,466]
                                                        String: "ubuntu-20.04" [452,466]
                                                FIELD [467,479]
                                                    String: "python" [467,475]
                                                    NUMBER [476,479]
                                                        Number: 3.8 [476,479]
                                                FIELD [480,512]
                                                    String: "ramp_workflow_version" [480,503]
                                                    STRING [504,512]
                                                        String: "master" [504,512]
                    FIELD [517,750]
                        String: "services" [517,527]
                        OBJECT [528,750]
                            FIELD [529,749]
                                String: "postgres" [529,539]
                                OBJECT [540,749]
                                    FIELD [541,571]
                                        String: "image" [541,548]
                                        STRING [549,571]
                                            String: "postgres:11.6-alpine" [549,571]
                                    FIELD [572,593]
                                        String: "ports" [572,579]
                                        ARRAY [580,593]
                                            STRING [581,592]
                                                String: "5432:5432" [581,592]
                                    FIELD [594,651]
                                        String: "env" [594,599]
                                        OBJECT [600,651]
                                            FIELD [601,627]
                                                String: "POSTGRES_USER" [601,616]
                                                STRING [617,627]
                                                    String: "postgres" [617,627]
                                            FIELD [628,650]
                                                String: "POSTGRES_PASSWORD" [628,647]
                                                STRING [648,650]
                                                    String: "" [648,650]
                                    FIELD [652,748]
                                        String: "options" [652,661]
                                        STRING [662,748]
                                            String: "--health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5" [662,748]
                    FIELD [751,2821]
                        String: "steps" [751,758]
                        ARRAY [759,2821]
                            OBJECT [760,790]
                                FIELD [761,789]
                                    String: "uses" [761,767]
                                    STRING [768,789]
                                        String: "actions/checkout@v2" [768,789]
                            OBJECT [791,967]
                                FIELD [792,812]
                                    String: "name" [792,798]
                                    STRING [799,812]
                                        String: "Setup conda" [799,812]
                                FIELD [813,846]
                                    String: "uses" [813,819]
                                    STRING [820,846]
                                        String: "s-weigand/setup-conda@v1" [820,846]
                                FIELD [847,966]
                                    String: "with" [847,853]
                                    OBJECT [854,966]
                                        FIELD [855,874]
                                            String: "update-conda" [855,869]
                                            TRUE [870,874]
                                        FIELD [875,897]
                                            String: "activate-conda" [875,891]
                                            FALSE [892,897]
                                        FIELD [898,937]
                                            String: "python-version" [898,914]
                                            STRING [915,937]
                                                String: "${{ matrix.python }}" [915,937]
                                        FIELD [938,965]
                                            String: "conda-channels" [938,954]
                                            STRING [955,965]
                                                String: "anaconda" [955,965]
                            OBJECT [968,1254]
                                FIELD [969,989]
                                    String: "name" [969,975]
                                    STRING [976,989]
                                        String: "Create envs" [976,989]
                                FIELD [990,1205]
                                    String: "run" [990,995]
                                    STRING [996,1205]
                                        String: "conda install --yes mamba -n base -c conda-forge\nmamba create --yes -n testenv python=$PYTHON_VERSION\nmamba env update -n testenv -f environment.yml\nmamba env create -f ci_tools/environment_iris_kit.yml\n" [996,1205]
                                FIELD [1206,1253]
                                    String: "env" [1206,1211]
                                    OBJECT [1212,1253]
                                        FIELD [1213,1252]
                                            String: "PYTHON_VERSION" [1213,1229]
                                            STRING [1230,1252]
                                                String: "${{ matrix.python }}" [1230,1252]
                            OBJECT [1255,1809]
                                FIELD [1256,1283]
                                    String: "name" [1256,1262]
                                    STRING [1263,1283]
                                        String: "Install ramp-board" [1263,1283]
                                FIELD [1284,1760]
                                    String: "run" [1284,1289]
                                    STRING [1290,1760]
                                        String: "source activate testenv\nif [ \"$PYTHON_VERSION\" == \"3.8\" ]; then\n    python -m pip install \"dask==2021.4.1\" \"distributed==2021.4.1\"\nfi\nif [ \"${{ matrix.ramp_workflow_version }}\" == \"master\" ]; then\n   pip install https://github.com/paris-saclay-cds/ramp-workflow/archive/refs/heads/master.zip\nfi\nif [ \"${{ github.event.inputs.ramp_workflow_url }}\" != \"\" ]; then\n   pip install \"${{ github.event.inputs.ramp_workflow_url }}\"\nfi\nmake inplace\n" [1290,1760]
                                FIELD [1761,1808]
                                    String: "env" [1761,1766]
                                    OBJECT [1767,1808]
                                        FIELD [1768,1807]
                                            String: "PYTHON_VERSION" [1768,1784]
                                            STRING [1785,1807]
                                                String: "${{ matrix.python }}" [1785,1807]
                            OBJECT [1810,2081]
                                FIELD [1811,1838]
                                    String: "name" [1811,1817]
                                    STRING [1818,1838]
                                        String: "Test ramp-frontend" [1818,1838]
                                FIELD [1839,2080]
                                    String: "run" [1839,1844]
                                    STRING [1845,2080]
                                        String: "set -e\nsource activate testenv\npython -m smtpd -n -c DebuggingServer 127.0.0.1:8025 &\nsleep 3 # wait for the server to start\npytest -rvsl ramp-frontend --cov=ramp_frontend --cov-report=term-missing --cov-report=xml --cov-append\n" [1845,2080]
                            OBJECT [2082,2252]
                                FIELD [2083,2108]
                                    String: "name" [2083,2089]
                                    STRING [2090,2108]
                                        String: "Test ramp-engine" [2090,2108]
                                FIELD [2109,2251]
                                    String: "run" [2109,2114]
                                    STRING [2115,2251]
                                        String: "set -e\nsource activate testenv\npytest -rvsl ramp-engine/ --cov=ramp_engine --cov-report=term-missing --cov-report=xml --cov-append\n" [2115,2251]
                            OBJECT [2253,2430]
                                FIELD [2254,2281]
                                    String: "name" [2254,2260]
                                    STRING [2261,2281]
                                        String: "Test ramp-database" [2261,2281]
                                FIELD [2282,2429]
                                    String: "run" [2282,2287]
                                    STRING [2288,2429]
                                        String: "set -e\nsource activate testenv\npytest -rvsl ramp-database/ --cov=ramp_database --cov-report=term-missing  --cov-report=xml --cov-append\n" [2288,2429]
                            OBJECT [2431,2598]
                                FIELD [2432,2456]
                                    String: "name" [2432,2438]
                                    STRING [2439,2456]
                                        String: "Test ramp-utils" [2439,2456]
                                FIELD [2457,2597]
                                    String: "run" [2457,2462]
                                    STRING [2463,2597]
                                        String: "set -e\nsource activate testenv\npytest -rvsl ramp-utils/ --cov=ramp_utils --cov-report=term-missing --cov-report=xml --cov-append\n" [2463,2597]
                            OBJECT [2599,2711]
                                FIELD [2600,2625]
                                    String: "name" [2600,2606]
                                    STRING [2607,2625]
                                        String: "Test integration" [2607,2625]
                                FIELD [2626,2710]
                                    String: "run" [2626,2631]
                                    STRING [2632,2710]
                                        String: "set -e\nsource activate testenv\nbash ci_tools/actions/integration_test.sh\n" [2632,2710]
                            OBJECT [2712,2820]
                                FIELD [2713,2747]
                                    String: "uses" [2713,2719]
                                    STRING [2720,2747]
                                        String: "codecov/codecov-action@v1" [2720,2747]
                                FIELD [2748,2819]
                                    String: "with" [2748,2754]
                                    OBJECT [2755,2819]
                                        FIELD [2756,2779]
                                            String: "fail_ci_if_error" [2756,2774]
                                            TRUE [2775,2779]
                                        FIELD [2780,2794]
                                            String: "verbose" [2780,2789]
                                            TRUE [2790,2794]
                                        FIELD [2795,2818]
                                            String: "file" [2795,2801]
                                            STRING [2802,2818]
                                                String: "./coverage.xml" [2802,2818]
            FIELD [2823,3165]
                String: "lint" [2823,2829]
                OBJECT [2830,3165]
                    FIELD [2831,2844]
                        String: "name" [2831,2837]
                        STRING [2838,2844]
                            String: "lint" [2838,2844]
                    FIELD [2845,2870]
                        String: "runs-on" [2845,2854]
                        STRING [2855,2870]
                            String: "ubuntu-latest" [2855,2870]
                    FIELD [2871,3164]
                        String: "steps" [2871,2878]
                        ARRAY [2879,3164]
                            OBJECT [2880,2910]
                                FIELD [2881,2909]
                                    String: "uses" [2881,2887]
                                    STRING [2888,2909]
                                        String: "actions/checkout@v2" [2888,2909]
                            OBJECT [2911,3001]
                                FIELD [2912,2944]
                                    String: "uses" [2912,2918]
                                    STRING [2919,2944]
                                        String: "actions/setup-python@v2" [2919,2944]
                                FIELD [2945,2968]
                                    String: "name" [2945,2951]
                                    STRING [2952,2968]
                                        String: "Install Python" [2952,2968]
                                FIELD [2969,3000]
                                    String: "with" [2969,2975]
                                    OBJECT [2976,3000]
                                        FIELD [2977,2999]
                                            String: "python-version" [2977,2993]
                                            STRING [2994,2999]
                                                String: "3.7" [2994,2999]
                            OBJECT [3002,3074]
                                FIELD [3003,3032]
                                    String: "name" [3003,3009]
                                    STRING [3010,3032]
                                        String: "Install dependencies" [3010,3032]
                                FIELD [3033,3073]
                                    String: "run" [3033,3038]
                                    STRING [3039,3073]
                                        String: "pip install flake8 black==21.8b0" [3039,3073]
                            OBJECT [3075,3118]
                                FIELD [3076,3095]
                                    String: "name" [3076,3082]
                                    STRING [3083,3095]
                                        String: "Run flake8" [3083,3095]
                                FIELD [3096,3117]
                                    String: "run" [3096,3101]
                                    STRING [3102,3117]
                                        String: "flake8 ramp-*" [3102,3117]
                            OBJECT [3119,3163]
                                FIELD [3120,3138]
                                    String: "name" [3120,3126]
                                    STRING [3127,3138]
                                        String: "Run black" [3127,3138]
                                FIELD [3139,3162]
                                    String: "run" [3139,3144]
                                    STRING [3145,3162]
                                        String: "black --check ." [3145,3162]