OBJECT [0,5067]
    FIELD [1,20]
        String: "name" [1,7]
        STRING [8,20]
            String: "Autoformat" [8,20]
    FIELD [21,74]
        String: "on" [21,25]
        OBJECT [26,74]
            FIELD [27,73]
                String: "issue_comment" [27,42]
                OBJECT [43,73]
                    FIELD [44,72]
                        String: "types" [44,51]
                        ARRAY [52,72]
                            STRING [53,62]
                                String: "created" [53,62]
                            STRING [63,71]
                                String: "edited" [63,71]
    FIELD [75,147]
        String: "defaults" [75,85]
        OBJECT [86,147]
            FIELD [87,146]
                String: "run" [87,92]
                OBJECT [93,146]
                    FIELD [94,145]
                        String: "shell" [94,101]
                        STRING [102,145]
                            String: "bash --noprofile --norc -exo pipefail {0}" [102,145]
    FIELD [148,5066]
        String: "jobs" [148,154]
        OBJECT [155,5066]
            FIELD [156,1680]
                String: "check-comment" [156,171]
                OBJECT [172,1680]
                    FIELD [173,198]
                        String: "runs-on" [173,182]
                        STRING [183,198]
                            String: "ubuntu-latest" [183,198]
                    FIELD [199,358]
                        String: "if" [199,203]
                        STRING [204,358]
                            String: "${{ github.event.issue.pull_request && contains(github.event.comment.body, '@mlflow-automation') && contains(github.event.comment.body, 'autoformat') }}" [204,358]
                    FIELD [359,859]
                        String: "outputs" [359,368]
                        OBJECT [369,859]
                            FIELD [370,452]
                                String: "should_autoformat" [370,389]
                                STRING [390,452]
                                    String: "${{ fromJSON(steps.judge.outputs.result).shouldAutoformat }}" [390,452]
                            FIELD [453,522]
                                String: "repository" [453,465]
                                STRING [466,522]
                                    String: "${{ fromJSON(steps.judge.outputs.result).repository }}" [466,522]
                            FIELD [523,588]
                                String: "head_ref" [523,533]
                                STRING [534,588]
                                    String: "${{ fromJSON(steps.judge.outputs.result).head_ref }}" [534,588]
                            FIELD [589,654]
                                String: "head_sha" [589,599]
                                STRING [600,654]
                                    String: "${{ fromJSON(steps.judge.outputs.result).head_sha }}" [600,654]
                            FIELD [655,720]
                                String: "base_ref" [655,665]
                                STRING [666,720]
                                    String: "${{ fromJSON(steps.judge.outputs.result).base_ref }}" [666,720]
                            FIELD [721,786]
                                String: "base_sha" [721,731]
                                STRING [732,786]
                                    String: "${{ fromJSON(steps.judge.outputs.result).base_sha }}" [732,786]
                            FIELD [787,858]
                                String: "pull_number" [787,800]
                                STRING [801,858]
                                    String: "${{ fromJSON(steps.judge.outputs.result).pull_number }}" [801,858]
                    FIELD [860,1679]
                        String: "steps" [860,867]
                        ARRAY [868,1679]
                            OBJECT [869,899]
                                FIELD [870,898]
                                    String: "uses" [870,876]
                                    STRING [877,898]
                                        String: "actions/checkout@v3" [877,898]
                            OBJECT [900,1678]
                                FIELD [901,915]
                                    String: "name" [901,907]
                                    STRING [908,915]
                                        String: "judge" [908,915]
                                FIELD [916,928]
                                    String: "id" [916,920]
                                    STRING [921,928]
                                        String: "judge" [921,928]
                                FIELD [929,962]
                                    String: "uses" [929,935]
                                    STRING [936,962]
                                        String: "actions/github-script@v6" [936,962]
                                FIELD [963,1677]
                                    String: "with" [963,969]
                                    OBJECT [970,1677]
                                        FIELD [971,1015]
                                            String: "github-token" [971,985]
                                            STRING [986,1015]
                                                String: "${{ secrets.GITHUB_TOKEN }}" [986,1015]
                                        FIELD [1016,1676]
                                            String: "script" [1016,1024]
                                            STRING [1025,1676]
                                                String: "core.debug(JSON.stringify(context, null, 2));\nconst autoformat = require('./.github/workflows/autoformat.js');\nconst { comment } = context.payload;\nconst isMaintainer = autoformat.isMlflowMaintainer(comment.author_association);\nif (!isMaintainer) {\n  core.setFailed(\"Only MLflow maintainers can trigger this workflow.\");\n}\nconst shouldAutoformat = autoformat.shouldAutoformat(comment);\nif (shouldAutoformat) {\n  await autoformat.createReaction(context, github);\n  await autoformat.createStatus(context, github, core);\n}\nconst pullInfo = await autoformat.getPullInformation(context, github);\nreturn { ...pullInfo, shouldAutoformat };\n" [1025,1676]
            FIELD [1681,4514]
                String: "format" [1681,1689]
                OBJECT [1690,4514]
                    FIELD [1691,1716]
                        String: "runs-on" [1691,1700]
                        STRING [1701,1716]
                            String: "ubuntu-latest" [1701,1716]
                    FIELD [1717,1740]
                        String: "needs" [1717,1724]
                        STRING [1725,1740]
                            String: "check-comment" [1725,1740]
                    FIELD [1741,1810]
                        String: "if" [1741,1745]
                        STRING [1746,1810]
                            String: "${{ needs.check-comment.outputs.should_autoformat == 'true' }}" [1746,1810]
                    FIELD [1811,4513]
                        String: "steps" [1811,1818]
                        ARRAY [1819,4513]
                            OBJECT [1820,2039]
                                FIELD [1821,1849]
                                    String: "uses" [1821,1827]
                                    STRING [1828,1849]
                                        String: "actions/checkout@v3" [1828,1849]
                                FIELD [1850,2038]
                                    String: "with" [1850,1856]
                                    OBJECT [1857,2038]
                                        FIELD [1858,1918]
                                            String: "repository" [1858,1870]
                                            STRING [1871,1918]
                                                String: "${{ needs.check-comment.outputs.repository }}" [1871,1918]
                                        FIELD [1919,1970]
                                            String: "ref" [1919,1924]
                                            STRING [1925,1970]
                                                String: "${{ needs.check-comment.outputs.head_ref }}" [1925,1970]
                                        FIELD [1971,1988]
                                            String: "fetch-depth" [1971,1984]
                                            NUMBER [1985,1988]
                                                Number: 300 [1985,1988]
                                        FIELD [1989,2037]
                                            String: "token" [1989,1996]
                                            STRING [1997,2037]
                                                String: "${{ secrets.MLFLOW_AUTOMATION_TOKEN }}" [1997,2037]
                            OBJECT [2040,2902]
                                FIELD [2041,2060]
                                    String: "name" [2041,2047]
                                    STRING [2048,2060]
                                        String: "Check diff" [2048,2060]
                                FIELD [2061,2072]
                                    String: "id" [2061,2065]
                                    STRING [2066,2072]
                                        String: "diff" [2066,2072]
                                FIELD [2073,2211]
                                    String: "env" [2073,2078]
                                    OBJECT [2079,2211]
                                        FIELD [2080,2124]
                                            String: "GITHUB_TOKEN" [2080,2094]
                                            STRING [2095,2124]
                                                String: "${{ secrets.GITHUB_TOKEN }}" [2095,2124]
                                        FIELD [2125,2165]
                                            String: "OWNER" [2125,2132]
                                            STRING [2133,2165]
                                                String: "${{ github.repository_owner }}" [2133,2165]
                                        FIELD [2166,2210]
                                            String: "REPO" [2166,2172]
                                            STRING [2173,2210]
                                                String: "${{ github.event.repository.name }}" [2173,2210]
                                FIELD [2212,2901]
                                    String: "run" [2212,2217]
                                    STRING [2218,2901]
                                        String: "changed_files=\"$(gh pr view ${{ needs.check-comment.outputs.pull_number }} --json files --jq '.files.[].path')\"\nprotos=$([[ -z $(echo \"$changed_files\" | grep '^mlflow/protos') ]] && echo \"false\" || echo \"true\")\npython=$([[ -z $(echo \"$changed_files\" | grep '\\.py$') ]] && echo \"false\" || echo \"true\")\njs=$([[ -z $(echo \"$changed_files\" | grep '^mlflow/server/js') ]] && echo \"false\" || echo \"true\")\nr=$([[ -z $(echo \"$changed_files\" | grep '^mlflow/R/mlflow') ]] && echo \"false\" || echo \"true\")\necho \"protos=$protos\" >> $GITHUB_OUTPUT\necho \"python=$python\" >> $GITHUB_OUTPUT\necho \"js=$js\" >> $GITHUB_OUTPUT\necho \"r=$r\" >> $GITHUB_OUTPUT\n" [2218,2901]
                            OBJECT [2903,3174]
                                FIELD [2904,2930]
                                    String: "name" [2904,2910]
                                    STRING [2911,2930]
                                        String: "Merge base branch" [2911,2930]
                                FIELD [2931,3173]
                                    String: "run" [2931,2936]
                                    STRING [2937,3173]
                                        String: "git config user.name 'mlflow-automation'\ngit config user.email 'mlflow-automation@users.noreply.github.com'\ngit fetch origin ${{ needs.check-comment.outputs.base_ref }}\ngit merge origin/${{ needs.check-comment.outputs.base_ref }}\n" [2937,3173]
                            OBJECT [3175,3245]
                                FIELD [3176,3244]
                                    String: "run" [3176,3181]
                                    STRING [3182,3244]
                                        String: "pre-commit run prettier --all-files --color=always || true\n" [3182,3244]
                            OBJECT [3246,3382]
                                FIELD [3247,3289]
                                    String: "if" [3247,3251]
                                    STRING [3252,3289]
                                        String: "steps.diff.outputs.protos == 'true'" [3252,3289]
                                FIELD [3290,3317]
                                    String: "env" [3290,3295]
                                    OBJECT [3296,3317]
                                        FIELD [3297,3316]
                                            String: "DOCKER_BUILDKIT" [3297,3314]
                                            NUMBER [3315,3316]
                                                Number: 1 [3315,3316]
                                FIELD [3318,3381]
                                    String: "run" [3318,3323]
                                    STRING [3324,3381]
                                        String: "docker build -t gen-protos -f dev/Dockerfile.protos .\n" [3324,3381]
                            OBJECT [3383,3518]
                                FIELD [3384,3426]
                                    String: "if" [3384,3388]
                                    STRING [3389,3426]
                                        String: "steps.diff.outputs.protos == 'true'" [3389,3426]
                                FIELD [3427,3517]
                                    String: "run" [3427,3432]
                                    STRING [3433,3517]
                                        String: "docker run --rm -w /mlflow -v $(pwd):/mlflow gen-protos ./dev/generate-protos.sh\n" [3433,3517]
                            OBJECT [3519,3603]
                                FIELD [3520,3562]
                                    String: "if" [3520,3524]
                                    STRING [3525,3562]
                                        String: "steps.diff.outputs.python == 'true'" [3525,3562]
                                FIELD [3563,3602]
                                    String: "uses" [3563,3569]
                                    STRING [3570,3602]
                                        String: "./.github/actions/setup-python" [3570,3602]
                            OBJECT [3604,3708]
                                FIELD [3605,3647]
                                    String: "if" [3605,3609]
                                    STRING [3610,3647]
                                        String: "steps.diff.outputs.python == 'true'" [3610,3647]
                                FIELD [3648,3707]
                                    String: "run" [3648,3653]
                                    STRING [3654,3707]
                                        String: "pip install -r requirements/lint-requirements.txt\n" [3654,3707]
                            OBJECT [3709,3771]
                                FIELD [3710,3752]
                                    String: "if" [3710,3714]
                                    STRING [3715,3752]
                                        String: "steps.diff.outputs.python == 'true'" [3715,3752]
                                FIELD [3753,3770]
                                    String: "run" [3753,3758]
                                    STRING [3759,3770]
                                        String: "black .\n" [3759,3770]
                            OBJECT [3772,3872]
                                FIELD [3773,3811]
                                    String: "if" [3773,3777]
                                    STRING [3778,3811]
                                        String: "steps.diff.outputs.js == 'true'" [3778,3811]
                                FIELD [3812,3842]
                                    String: "uses" [3812,3818]
                                    STRING [3819,3842]
                                        String: "actions/setup-node@v3" [3819,3842]
                                FIELD [3843,3871]
                                    String: "with" [3843,3849]
                                    OBJECT [3850,3871]
                                        FIELD [3851,3870]
                                            String: "node-version" [3851,3865]
                                            STRING [3866,3870]
                                                String: "16" [3866,3870]
                            OBJECT [3873,3975]
                                FIELD [3874,3912]
                                    String: "if" [3874,3878]
                                    STRING [3879,3912]
                                        String: "steps.diff.outputs.js == 'true'" [3879,3912]
                                FIELD [3913,3951]
                                    String: "working-directory" [3913,3932]
                                    STRING [3933,3951]
                                        String: "mlflow/server/js" [3933,3951]
                                FIELD [3952,3974]
                                    String: "run" [3952,3957]
                                    STRING [3958,3974]
                                        String: "yarn install\n" [3958,3974]
                            OBJECT [3976,4083]
                                FIELD [3977,4015]
                                    String: "if" [3977,3981]
                                    STRING [3982,4015]
                                        String: "steps.diff.outputs.js == 'true'" [3982,4015]
                                FIELD [4016,4054]
                                    String: "working-directory" [4016,4035]
                                    STRING [4036,4054]
                                        String: "mlflow/server/js" [4036,4054]
                                FIELD [4055,4082]
                                    String: "run" [4055,4060]
                                    STRING [4061,4082]
                                        String: "yarn run lint:fix\n" [4061,4082]
                            OBJECT [4084,4195]
                                FIELD [4085,4123]
                                    String: "if" [4085,4089]
                                    STRING [4090,4123]
                                        String: "steps.diff.outputs.js == 'true'" [4090,4123]
                                FIELD [4124,4162]
                                    String: "working-directory" [4124,4143]
                                    STRING [4144,4162]
                                        String: "mlflow/server/js" [4144,4162]
                                FIELD [4163,4194]
                                    String: "run" [4163,4168]
                                    STRING [4169,4194]
                                        String: "yarn run extract-i18n\n" [4169,4194]
                            OBJECT [4196,4288]
                                FIELD [4197,4234]
                                    String: "if" [4197,4201]
                                    STRING [4202,4234]
                                        String: "steps.diff.outputs.r == 'true'" [4202,4234]
                                FIELD [4235,4261]
                                    String: "working-directory" [4235,4254]
                                    STRING [4255,4261]
                                        String: "docs" [4255,4261]
                                FIELD [4262,4287]
                                    String: "run" [4262,4267]
                                    STRING [4268,4287]
                                        String: "./build-rdoc.sh\n" [4268,4287]
                            OBJECT [4289,4512]
                                FIELD [4290,4311]
                                    String: "name" [4290,4296]
                                    STRING [4297,4311]
                                        String: "Push changes" [4297,4311]
                                FIELD [4312,4511]
                                    String: "run" [4312,4317]
                                    STRING [4318,4511]
                                        String: "if [ -n \"$(git status --porcelain)\" ]; then\n  git add -A\n  git commit -s -m \"Autoformat: https://github.com/${{ github.repository }}/actions/runs/${{ github.run_id }}\"\n  git push\nfi\n" [4318,4511]
            FIELD [4515,5065]
                String: "update-status" [4515,4530]
                OBJECT [4531,5065]
                    FIELD [4532,4557]
                        String: "runs-on" [4532,4541]
                        STRING [4542,4557]
                            String: "ubuntu-latest" [4542,4557]
                    FIELD [4558,4592]
                        String: "needs" [4558,4565]
                        ARRAY [4566,4592]
                            STRING [4567,4582]
                                String: "check-comment" [4567,4582]
                            STRING [4583,4591]
                                String: "format" [4583,4591]
                    FIELD [4593,4667]
                        String: "if" [4593,4597]
                        STRING [4598,4667]
                            String: "always() && needs.check-comment.outputs.should_autoformat == 'true'" [4598,4667]
                    FIELD [4668,5064]
                        String: "steps" [4668,4675]
                        ARRAY [4676,5064]
                            OBJECT [4677,4707]
                                FIELD [4678,4706]
                                    String: "uses" [4678,4684]
                                    STRING [4685,4706]
                                        String: "actions/checkout@v3" [4685,4706]
                            OBJECT [4708,5063]
                                FIELD [4709,4731]
                                    String: "name" [4709,4715]
                                    STRING [4716,4731]
                                        String: "Update status" [4716,4731]
                                FIELD [4732,4765]
                                    String: "uses" [4732,4738]
                                    STRING [4739,4765]
                                        String: "actions/github-script@v6" [4739,4765]
                                FIELD [4766,5062]
                                    String: "with" [4766,4772]
                                    OBJECT [4773,5062]
                                        FIELD [4774,4818]
                                            String: "github-token" [4774,4788]
                                            STRING [4789,4818]
                                                String: "${{ secrets.GITHUB_TOKEN }}" [4789,4818]
                                        FIELD [4819,5061]
                                            String: "script" [4819,4827]
                                            STRING [4828,5061]
                                                String: "const needs = ${{ toJson(needs) }};\nconst head_sha = '${{ needs.check-comment.outputs.head_sha }}'\nconst autoformat = require('./.github/workflows/autoformat.js');\nawait autoformat.updateStatus(context, github, head_sha, needs);" [4828,5061]