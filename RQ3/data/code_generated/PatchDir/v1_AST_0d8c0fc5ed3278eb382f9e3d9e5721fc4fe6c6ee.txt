OBJECT [0,16296]
    FIELD [1,12]
        String: "name" [1,7]
        STRING [8,12]
            String: "CI" [8,12]
    FIELD [13,105]
        String: "concurrency" [13,26]
        OBJECT [27,105]
            FIELD [28,78]
                String: "group" [28,35]
                STRING [36,78]
                    String: "${{ github.workflow }}-${{ github.ref }}" [36,78]
            FIELD [79,104]
                String: "cancel-in-progress" [79,99]
                TRUE [100,104]
    FIELD [106,256]
        String: "on" [106,110]
        OBJECT [111,256]
            FIELD [112,148]
                String: "pull_request" [112,126]
                OBJECT [127,148]
                    FIELD [128,147]
                        String: "branches" [128,138]
                        ARRAY [139,147]
                            STRING [140,146]
                                String: "main" [140,146]
            FIELD [149,177]
                String: "push" [149,155]
                OBJECT [156,177]
                    FIELD [157,176]
                        String: "branches" [157,167]
                        ARRAY [168,176]
                            STRING [169,175]
                                String: "main" [169,175]
            FIELD [178,211]
                String: "release" [178,187]
                OBJECT [188,211]
                    FIELD [189,210]
                        String: "types" [189,196]
                        ARRAY [197,210]
                            STRING [198,209]
                                String: "published" [198,209]
            FIELD [212,255]
                String: "schedule" [212,222]
                ARRAY [223,255]
                    OBJECT [224,254]
                        FIELD [225,253]
                            String: "cron" [225,231]
                            STRING [232,253]
                                String: "37 11 * * 1,2,3,4,5" [232,253]
    FIELD [257,602]
        String: "env" [257,262]
        OBJECT [263,602]
            FIELD [264,288]
                String: "TORCH_VERSION" [264,279]
                STRING [280,288]
                    String: "1.10.0" [280,288]
            FIELD [289,374]
                String: "TORCH_CPU_INSTALL" [289,308]
                STRING [309,374]
                    String: "conda install pytorch torchvision torchaudio cpuonly -c pytorch" [309,374]
            FIELD [375,469]
                String: "TORCH_GPU_INSTALL" [375,394]
                STRING [395,469]
                    String: "conda install pytorch torchvision torchaudio cudatoolkit=11.3 -c pytorch" [395,469]
            FIELD [470,489]
                String: "CACHE_PREFIX" [470,484]
                STRING [485,489]
                    String: "v4" [485,489]
            FIELD [490,522]
                String: "TOKENIZERS_PARALLELISM" [490,514]
                STRING [515,522]
                    String: "false" [515,522]
            FIELD [523,544]
                String: "OMP_NUM_THREADS" [523,540]
                STRING [541,544]
                    String: "1" [541,544]
            FIELD [545,572]
                String: "MKL_THREADING_LAYER" [545,566]
                STRING [567,572]
                    String: "GNU" [567,572]
            FIELD [573,601]
                String: "DEFAULT_PYTHON_VERSION" [573,597]
                NUMBER [598,601]
                    Number: 3.8 [598,601]
    FIELD [603,645]
        String: "defaults" [603,613]
        OBJECT [614,645]
            FIELD [615,644]
                String: "run" [615,620]
                OBJECT [621,644]
                    FIELD [622,643]
                        String: "shell" [622,629]
                        STRING [630,643]
                            String: "bash -l {0}" [630,643]
    FIELD [646,16295]
        String: "jobs" [646,652]
        OBJECT [653,16295]
            FIELD [654,1398]
                String: "changelog" [654,665]
                OBJECT [666,1398]
                    FIELD [667,685]
                        String: "name" [667,673]
                        STRING [674,685]
                            String: "CHANGELOG" [674,685]
                    FIELD [686,711]
                        String: "runs-on" [686,695]
                        STRING [696,711]
                            String: "ubuntu-latest" [696,711]
                    FIELD [712,754]
                        String: "if" [712,716]
                        STRING [717,754]
                            String: "github.event_name == 'pull_request'" [717,754]
                    FIELD [755,1397]
                        String: "steps" [755,762]
                        ARRAY [763,1397]
                            OBJECT [764,794]
                                FIELD [765,793]
                                    String: "uses" [765,771]
                                    STRING [772,793]
                                        String: "actions/checkout@v1" [772,793]
                            OBJECT [795,1041]
                                FIELD [796,839]
                                    String: "name" [796,802]
                                    STRING [803,839]
                                        String: "Check if source files have changed" [803,839]
                                FIELD [840,1040]
                                    String: "run" [840,845]
                                    STRING [846,1040]
                                        String: "git diff --name-only $(git merge-base origin/main HEAD) | grep '^allennlp/.*\\.py$' && echo \"source_files_changed=true\" >> $GITHUB_ENV || echo \"source_files_changed=false\" >> $GITHUB_ENV\n" [846,1040]
                            OBJECT [1042,1396]
                                FIELD [1043,1089]
                                    String: "name" [1043,1049]
                                    STRING [1050,1089]
                                        String: "Check that CHANGELOG has been updated" [1050,1089]
                                FIELD [1090,1131]
                                    String: "if" [1090,1094]
                                    STRING [1095,1131]
                                        String: "env.source_files_changed == 'true'" [1095,1131]
                                FIELD [1132,1395]
                                    String: "run" [1132,1137]
                                    STRING [1138,1395]
                                        String: "# If this step fails, this means you haven't updated the CHANGELOG.md\n# file with notes on your contribution.\ngit diff --name-only $(git merge-base origin/main HEAD) | grep '^CHANGELOG.md$' && echo \"Thanks for helping keep our CHANGELOG up-to-date!\"\n" [1138,1395]
            FIELD [1399,1799]
                String: "style" [1399,1406]
                OBJECT [1407,1799]
                    FIELD [1408,1422]
                        String: "name" [1408,1414]
                        STRING [1415,1422]
                            String: "Style" [1415,1422]
                    FIELD [1423,1448]
                        String: "runs-on" [1423,1432]
                        STRING [1433,1448]
                            String: "ubuntu-latest" [1433,1448]
                    FIELD [1449,1798]
                        String: "steps" [1449,1456]
                        ARRAY [1457,1798]
                            OBJECT [1458,1488]
                                FIELD [1459,1487]
                                    String: "uses" [1459,1465]
                                    STRING [1466,1487]
                                        String: "actions/checkout@v2" [1466,1487]
                            OBJECT [1489,1607]
                                FIELD [1490,1511]
                                    String: "name" [1490,1496]
                                    STRING [1497,1511]
                                        String: "Setup Python" [1497,1511]
                                FIELD [1512,1544]
                                    String: "uses" [1512,1518]
                                    STRING [1519,1544]
                                        String: "actions/setup-python@v2" [1519,1544]
                                FIELD [1545,1606]
                                    String: "with" [1545,1551]
                                    OBJECT [1552,1606]
                                        FIELD [1553,1605]
                                            String: "python-version" [1553,1569]
                                            STRING [1570,1605]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [1570,1605]
                            OBJECT [1608,1707]
                                FIELD [1609,1638]
                                    String: "name" [1609,1615]
                                    STRING [1616,1638]
                                        String: "Install requirements" [1616,1638]
                                FIELD [1639,1706]
                                    String: "run" [1639,1644]
                                    STRING [1645,1706]
                                        String: "grep -E '^black' dev-requirements.txt | xargs pip install\n" [1645,1706]
                            OBJECT [1708,1750]
                                FIELD [1709,1728]
                                    String: "name" [1709,1715]
                                    STRING [1716,1728]
                                        String: "Debug info" [1716,1728]
                                FIELD [1729,1749]
                                    String: "run" [1729,1734]
                                    STRING [1735,1749]
                                        String: "pip freeze\n" [1735,1749]
                            OBJECT [1751,1797]
                                FIELD [1752,1770]
                                    String: "name" [1752,1758]
                                    STRING [1759,1770]
                                        String: "Run black" [1759,1770]
                                FIELD [1771,1796]
                                    String: "run" [1771,1776]
                                    STRING [1777,1796]
                                        String: "black --check .\n" [1777,1796]
            FIELD [1800,5131]
                String: "checks" [1800,1808]
                OBJECT [1809,5131]
                    FIELD [1810,1842]
                        String: "name" [1810,1816]
                        STRING [1817,1842]
                            String: "${{ matrix.task.name }}" [1817,1842]
                    FIELD [1843,1881]
                        String: "runs-on" [1843,1852]
                        STRING [1853,1881]
                            String: "${{ matrix.task.runs_on }}" [1853,1881]
                    FIELD [1882,1902]
                        String: "timeout-minutes" [1882,1899]
                        NUMBER [1900,1902]
                            Number: 30 [1900,1902]
                    FIELD [1903,2503]
                        String: "strategy" [1903,1913]
                        OBJECT [1914,2503]
                            FIELD [1915,1932]
                                String: "fail-fast" [1915,1926]
                                FALSE [1927,1932]
                            FIELD [1933,2502]
                                String: "matrix" [1933,1941]
                                OBJECT [1942,2502]
                                    FIELD [1943,2501]
                                        String: "task" [1943,1949]
                                        ARRAY [1950,2501]
                                            OBJECT [1951,2077]
                                                FIELD [1952,1965]
                                                    String: "name" [1952,1958]
                                                    STRING [1959,1965]
                                                        String: "Lint" [1959,1965]
                                                FIELD [1966,1991]
                                                    String: "runs_on" [1966,1975]
                                                    STRING [1976,1991]
                                                        String: "ubuntu-latest" [1976,1991]
                                                FIELD [1992,2015]
                                                    String: "coverage_report" [1992,2009]
                                                    FALSE [2010,2015]
                                                FIELD [2016,2038]
                                                    String: "torch_platform" [2016,2032]
                                                    STRING [2033,2038]
                                                        String: "cpu" [2033,2038]
                                                FIELD [2039,2076]
                                                    String: "run" [2039,2044]
                                                    STRING [2045,2076]
                                                        String: "make flake8\nmake typecheck\n" [2045,2076]
                                            OBJECT [2078,2188]
                                                FIELD [2079,2097]
                                                    String: "name" [2079,2085]
                                                    STRING [2086,2097]
                                                        String: "CPU Tests" [2086,2097]
                                                FIELD [2098,2123]
                                                    String: "runs_on" [2098,2107]
                                                    STRING [2108,2123]
                                                        String: "ubuntu-latest" [2108,2123]
                                                FIELD [2124,2146]
                                                    String: "coverage_report" [2124,2141]
                                                    TRUE [2142,2146]
                                                FIELD [2147,2169]
                                                    String: "torch_platform" [2147,2163]
                                                    STRING [2164,2169]
                                                        String: "cpu" [2164,2169]
                                                FIELD [2170,2187]
                                                    String: "run" [2170,2175]
                                                    STRING [2176,2187]
                                                        String: "make test" [2176,2187]
                                            OBJECT [2189,2322]
                                                FIELD [2190,2208]
                                                    String: "name" [2190,2196]
                                                    STRING [2197,2208]
                                                        String: "GPU Tests" [2197,2208]
                                                FIELD [2209,2252]
                                                    String: "runs_on" [2209,2218]
                                                    ARRAY [2219,2252]
                                                        STRING [2220,2233]
                                                            String: "self-hosted" [2220,2233]
                                                        STRING [2234,2239]
                                                            String: "GPU" [2234,2239]
                                                        STRING [2240,2251]
                                                            String: "Multi GPU" [2240,2251]
                                                FIELD [2253,2275]
                                                    String: "coverage_report" [2253,2270]
                                                    TRUE [2271,2275]
                                                FIELD [2276,2298]
                                                    String: "torch_platform" [2276,2292]
                                                    STRING [2293,2298]
                                                        String: "gpu" [2293,2298]
                                                FIELD [2299,2321]
                                                    String: "run" [2299,2304]
                                                    STRING [2305,2321]
                                                        String: "make gpu-tests" [2305,2321]
                                            OBJECT [2323,2500]
                                                FIELD [2324,2344]
                                                    String: "name" [2324,2330]
                                                    STRING [2331,2344]
                                                        String: "Model Tests" [2331,2344]
                                                FIELD [2345,2370]
                                                    String: "runs_on" [2345,2354]
                                                    STRING [2355,2370]
                                                        String: "ubuntu-latest" [2355,2370]
                                                FIELD [2371,2393]
                                                    String: "coverage_report" [2371,2388]
                                                    TRUE [2389,2393]
                                                FIELD [2394,2416]
                                                    String: "torch_platform" [2394,2410]
                                                    STRING [2411,2416]
                                                        String: "cpu" [2411,2416]
                                                FIELD [2417,2499]
                                                    String: "run" [2417,2422]
                                                    STRING [2423,2499]
                                                        String: "cd allennlp-models\nmake test-with-cov COV=allennlp\nmv coverage.xml ../\n" [2423,2499]
                    FIELD [2504,5130]
                        String: "steps" [2504,2511]
                        ARRAY [2512,5130]
                            OBJECT [2513,2543]
                                FIELD [2514,2542]
                                    String: "uses" [2514,2520]
                                    STRING [2521,2542]
                                        String: "actions/checkout@v2" [2521,2542]
                            OBJECT [2544,2680]
                                FIELD [2545,2588]
                                    String: "uses" [2545,2551]
                                    STRING [2552,2588]
                                        String: "conda-incubator/setup-miniconda@v2" [2552,2588]
                                FIELD [2589,2679]
                                    String: "with" [2589,2595]
                                    OBJECT [2596,2679]
                                        FIELD [2597,2625]
                                            String: "miniconda-version" [2597,2616]
                                            STRING [2617,2625]
                                                String: "latest" [2617,2625]
                                        FIELD [2626,2678]
                                            String: "python-version" [2626,2642]
                                            STRING [2643,2678]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [2643,2678]
                            OBJECT [2681,3003]
                                FIELD [2682,2710]
                                    String: "name" [2682,2688]
                                    STRING [2689,2710]
                                        String: "Set build variables" [2689,2710]
                                FIELD [2711,3002]
                                    String: "run" [2711,2716]
                                    STRING [2717,3002]
                                        String: "# Get the exact Python version to use in the cache key.\necho \"PYTHON_VERSION=$(python --version)\" >> $GITHUB_ENV\necho \"RUNNER_ARCH=$(uname -m)\" >> $GITHUB_ENV\n# Use week number in cache key so we can refresh the cache weekly.\necho \"WEEK_NUMBER=$(date +%V)\" >> $GITHUB_ENV\n" [2717,3002]
                            OBJECT [3004,3155]
                                FIELD [3005,3044]
                                    String: "name" [3005,3011]
                                    STRING [3012,3044]
                                        String: "Set build variables (CPU only)" [3012,3044]
                                FIELD [3045,3087]
                                    String: "if" [3045,3049]
                                    STRING [3050,3087]
                                        String: "matrix.task.torch_platform == 'cpu'" [3050,3087]
                                FIELD [3088,3154]
                                    String: "run" [3088,3093]
                                    STRING [3094,3154]
                                        String: "echo \"TORCH_INSTALL=$TORCH_CPU_INSTALL\" >> $GITHUB_ENV\n" [3094,3154]
                            OBJECT [3156,3307]
                                FIELD [3157,3196]
                                    String: "name" [3157,3163]
                                    STRING [3164,3196]
                                        String: "Set build variables (GPU only)" [3164,3196]
                                FIELD [3197,3239]
                                    String: "if" [3197,3201]
                                    STRING [3202,3239]
                                        String: "matrix.task.torch_platform == 'gpu'" [3202,3239]
                                FIELD [3240,3306]
                                    String: "run" [3240,3245]
                                    STRING [3246,3306]
                                        String: "echo \"TORCH_INSTALL=$TORCH_GPU_INSTALL\" >> $GITHUB_ENV\n" [3246,3306]
                            OBJECT [3308,3608]
                                FIELD [3309,3334]
                                    String: "uses" [3309,3315]
                                    STRING [3316,3334]
                                        String: "actions/cache@v2" [3316,3334]
                                FIELD [3335,3358]
                                    String: "id" [3335,3339]
                                    STRING [3340,3358]
                                        String: "virtualenv-cache" [3340,3358]
                                FIELD [3359,3607]
                                    String: "with" [3359,3365]
                                    OBJECT [3366,3607]
                                        FIELD [3367,3381]
                                            String: "path" [3367,3373]
                                            STRING [3374,3381]
                                                String: ".venv" [3374,3381]
                                        FIELD [3382,3606]
                                            String: "key" [3382,3387]
                                            STRING [3388,3606]
                                                String: "${{ env.CACHE_PREFIX }}-${{ env.WEEK_NUMBER }}-${{ runner.os }}-${{ env.RUNNER_ARCH }}-${{ env.PYTHON_VERSION }}-${{ matrix.task.torch_platform }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [3388,3606]
                            OBJECT [3609,3865]
                                FIELD [3610,3659]
                                    String: "name" [3610,3616]
                                    STRING [3617,3659]
                                        String: "Setup virtual environment (no cache hit)" [3617,3659]
                                FIELD [3660,3717]
                                    String: "if" [3660,3664]
                                    STRING [3665,3717]
                                        String: "steps.virtualenv-cache.outputs.cache-hit != 'true'" [3665,3717]
                                FIELD [3718,3864]
                                    String: "run" [3718,3723]
                                    STRING [3724,3864]
                                        String: "conda create -y -p .venv python=${{ env.DEFAULT_PYTHON_VERSION }}\nconda activate ./.venv\nmake install TORCH_INSTALL=\"$TORCH_INSTALL\"\n" [3724,3864]
                            OBJECT [3866,4055]
                                FIELD [3867,3913]
                                    String: "name" [3867,3873]
                                    STRING [3874,3913]
                                        String: "Setup virtual environment (cache hit)" [3874,3913]
                                FIELD [3914,3971]
                                    String: "if" [3914,3918]
                                    STRING [3919,3971]
                                        String: "steps.virtualenv-cache.outputs.cache-hit == 'true'" [3919,3971]
                                FIELD [3972,4054]
                                    String: "run" [3972,3977]
                                    STRING [3978,4054]
                                        String: "conda activate ./.venv\npip install --no-deps -e .\nmake download-extras\n" [3978,4054]
                            OBJECT [4056,4328]
                                FIELD [4057,4094]
                                    String: "name" [4057,4063]
                                    STRING [4064,4094]
                                        String: "Pull and install models repo" [4064,4094]
                                FIELD [4095,4135]
                                    String: "if" [4095,4099]
                                    STRING [4100,4135]
                                        String: "matrix.task.name == 'Model Tests'" [4100,4135]
                                FIELD [4136,4174]
                                    String: "env" [4136,4141]
                                    OBJECT [4142,4174]
                                        FIELD [4143,4173]
                                            String: "ALLENNLP_VERSION_OVERRIDE" [4143,4170]
                                            STRING [4171,4173]
                                                String: "" [4171,4173]
                                FIELD [4175,4327]
                                    String: "run" [4175,4180]
                                    STRING [4181,4327]
                                        String: "conda activate ./.venv\ngit clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models\npip install -e . -r dev-requirements.txt\n" [4181,4327]
                            OBJECT [4329,4395]
                                FIELD [4330,4349]
                                    String: "name" [4330,4336]
                                    STRING [4337,4349]
                                        String: "Debug info" [4337,4349]
                                FIELD [4350,4394]
                                    String: "run" [4350,4355]
                                    STRING [4356,4394]
                                        String: "conda activate ./.venv\nconda list\n" [4356,4394]
                            OBJECT [4396,4502]
                                FIELD [4397,4429]
                                    String: "name" [4397,4403]
                                    STRING [4404,4429]
                                        String: "Ensure torch up-to-date" [4404,4429]
                                FIELD [4430,4501]
                                    String: "run" [4430,4435]
                                    STRING [4436,4501]
                                        String: "conda activate ./.venv\npython scripts/check_torch_version.py\n" [4436,4501]
                            OBJECT [4503,4594]
                                FIELD [4504,4536]
                                    String: "name" [4504,4510]
                                    STRING [4511,4536]
                                        String: "${{ matrix.task.name }}" [4511,4536]
                                FIELD [4537,4593]
                                    String: "run" [4537,4542]
                                    STRING [4543,4593]
                                        String: "conda activate ./.venv\n${{ matrix.task.run }}\n" [4543,4593]
                            OBJECT [4595,4716]
                                FIELD [4596,4628]
                                    String: "name" [4596,4602]
                                    STRING [4603,4628]
                                        String: "Prepare coverage report" [4603,4628]
                                FIELD [4629,4663]
                                    String: "if" [4629,4633]
                                    STRING [4634,4663]
                                        String: "matrix.task.coverage_report" [4634,4663]
                                FIELD [4664,4715]
                                    String: "run" [4664,4669]
                                    STRING [4670,4715]
                                        String: "mkdir coverage\nmv coverage.xml coverage/\n" [4670,4715]
                            OBJECT [4717,4890]
                                FIELD [4718,4747]
                                    String: "name" [4718,4724]
                                    STRING [4725,4747]
                                        String: "Save coverage report" [4725,4747]
                                FIELD [4748,4782]
                                    String: "if" [4748,4752]
                                    STRING [4753,4782]
                                        String: "matrix.task.coverage_report" [4753,4782]
                                FIELD [4783,4818]
                                    String: "uses" [4783,4789]
                                    STRING [4790,4818]
                                        String: "actions/upload-artifact@v1" [4790,4818]
                                FIELD [4819,4889]
                                    String: "with" [4819,4825]
                                    OBJECT [4826,4889]
                                        FIELD [4827,4868]
                                            String: "name" [4827,4833]
                                            STRING [4834,4868]
                                                String: "${{ matrix.task.name }}-coverage" [4834,4868]
                                        FIELD [4869,4888]
                                            String: "path" [4869,4875]
                                            STRING [4876,4888]
                                                String: "./coverage" [4876,4888]
                            OBJECT [4891,5129]
                                FIELD [4892,4909]
                                    String: "name" [4892,4898]
                                    STRING [4899,4909]
                                        String: "Clean up" [4899,4909]
                                FIELD [4910,4925]
                                    String: "if" [4910,4914]
                                    STRING [4915,4925]
                                        String: "always()" [4915,4925]
                                FIELD [4926,5128]
                                    String: "run" [4926,4931]
                                    STRING [4932,5128]
                                        String: "# Could run into issues with the cache if we don't uninstall the editable.\n# See https://github.com/pypa/pip/issues/4537.\nconda activate ./.venv\npip uninstall --yes allennlp allennlp-models\n" [4932,5128]
            FIELD [5132,6091]
                String: "upload_coverage" [5132,5149]
                OBJECT [5150,6091]
                    FIELD [5151,5182]
                        String: "name" [5151,5157]
                        STRING [5158,5182]
                            String: "Upload Coverage Report" [5158,5182]
                    FIELD [5183,5202]
                        String: "timeout-minutes" [5183,5200]
                        NUMBER [5201,5202]
                            Number: 5 [5201,5202]
                    FIELD [5203,5321]
                        String: "if" [5203,5207]
                        STRING [5208,5321]
                            String: "github.repository == 'allenai/allennlp' && (github.event_name == 'push' || github.event_name == 'pull_request')" [5208,5321]
                    FIELD [5322,5347]
                        String: "runs-on" [5322,5331]
                        STRING [5332,5347]
                            String: "ubuntu-latest" [5332,5347]
                    FIELD [5348,5366]
                        String: "needs" [5348,5355]
                        ARRAY [5356,5366]
                            STRING [5357,5365]
                                String: "checks" [5357,5365]
                    FIELD [5367,6090]
                        String: "steps" [5367,5374]
                        ARRAY [5375,6090]
                            OBJECT [5376,5406]
                                FIELD [5377,5405]
                                    String: "uses" [5377,5383]
                                    STRING [5384,5405]
                                        String: "actions/checkout@v2" [5384,5405]
                            OBJECT [5407,5560]
                                FIELD [5408,5456]
                                    String: "name" [5408,5414]
                                    STRING [5415,5456]
                                        String: "Download coverage report from CPU tests" [5415,5456]
                                FIELD [5457,5494]
                                    String: "uses" [5457,5463]
                                    STRING [5464,5494]
                                        String: "actions/download-artifact@v1" [5464,5494]
                                FIELD [5495,5559]
                                    String: "with" [5495,5501]
                                    OBJECT [5502,5559]
                                        FIELD [5503,5530]
                                            String: "name" [5503,5509]
                                            STRING [5510,5530]
                                                String: "CPU Tests-coverage" [5510,5530]
                                        FIELD [5531,5558]
                                            String: "path" [5531,5537]
                                            STRING [5538,5558]
                                                String: "coverage/cpu_tests" [5538,5558]
                            OBJECT [5561,5714]
                                FIELD [5562,5610]
                                    String: "name" [5562,5568]
                                    STRING [5569,5610]
                                        String: "Download coverage report from GPU Tests" [5569,5610]
                                FIELD [5611,5648]
                                    String: "uses" [5611,5617]
                                    STRING [5618,5648]
                                        String: "actions/download-artifact@v1" [5618,5648]
                                FIELD [5649,5713]
                                    String: "with" [5649,5655]
                                    OBJECT [5656,5713]
                                        FIELD [5657,5684]
                                            String: "name" [5657,5663]
                                            STRING [5664,5684]
                                                String: "GPU Tests-coverage" [5664,5684]
                                        FIELD [5685,5712]
                                            String: "path" [5685,5691]
                                            STRING [5692,5712]
                                                String: "coverage/gpu_tests" [5692,5712]
                            OBJECT [5715,5874]
                                FIELD [5716,5766]
                                    String: "name" [5716,5722]
                                    STRING [5723,5766]
                                        String: "Download coverage report from model tests" [5723,5766]
                                FIELD [5767,5804]
                                    String: "uses" [5767,5773]
                                    STRING [5774,5804]
                                        String: "actions/download-artifact@v1" [5774,5804]
                                FIELD [5805,5873]
                                    String: "with" [5805,5811]
                                    OBJECT [5812,5873]
                                        FIELD [5813,5842]
                                            String: "name" [5813,5819]
                                            STRING [5820,5842]
                                                String: "Model Tests-coverage" [5820,5842]
                                        FIELD [5843,5872]
                                            String: "path" [5843,5849]
                                            STRING [5850,5872]
                                                String: "coverage/model_tests" [5850,5872]
                            OBJECT [5875,6089]
                                FIELD [5876,5911]
                                    String: "name" [5876,5882]
                                    STRING [5883,5911]
                                        String: "Upload coverage to Codecov" [5883,5911]
                                FIELD [5912,5946]
                                    String: "uses" [5912,5918]
                                    STRING [5919,5946]
                                        String: "codecov/codecov-action@v1" [5919,5946]
                                FIELD [5947,6088]
                                    String: "with" [5947,5953]
                                    OBJECT [5954,6088]
                                        FIELD [5955,6062]
                                            String: "files" [5955,5962]
                                            STRING [5963,6062]
                                                String: "coverage/cpu_tests/coverage.xml,coverage/gpu_tests/coverage.xml,coverage/model_tests/coverage.xml" [5963,6062]
                                        FIELD [6063,6087]
                                            String: "fail_ci_if_error" [6063,6081]
                                            FALSE [6082,6087]
            FIELD [6092,8805]
                String: "build_package" [6092,6107]
                OBJECT [6108,8805]
                    FIELD [6109,6131]
                        String: "name" [6109,6115]
                        STRING [6116,6131]
                            String: "Build Package" [6116,6131]
                    FIELD [6132,6152]
                        String: "timeout-minutes" [6132,6149]
                        NUMBER [6150,6152]
                            Number: 18 [6150,6152]
                    FIELD [6153,6178]
                        String: "runs-on" [6153,6162]
                        STRING [6163,6178]
                            String: "ubuntu-latest" [6163,6178]
                    FIELD [6179,8804]
                        String: "steps" [6179,6186]
                        ARRAY [6187,8804]
                            OBJECT [6188,6218]
                                FIELD [6189,6217]
                                    String: "uses" [6189,6195]
                                    STRING [6196,6217]
                                        String: "actions/checkout@v2" [6196,6217]
                            OBJECT [6219,6355]
                                FIELD [6220,6263]
                                    String: "uses" [6220,6226]
                                    STRING [6227,6263]
                                        String: "conda-incubator/setup-miniconda@v2" [6227,6263]
                                FIELD [6264,6354]
                                    String: "with" [6264,6270]
                                    OBJECT [6271,6354]
                                        FIELD [6272,6300]
                                            String: "miniconda-version" [6272,6291]
                                            STRING [6292,6300]
                                                String: "latest" [6292,6300]
                                        FIELD [6301,6353]
                                            String: "python-version" [6301,6317]
                                            STRING [6318,6353]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [6318,6353]
                            OBJECT [6356,6611]
                                FIELD [6357,6385]
                                    String: "name" [6357,6363]
                                    STRING [6364,6385]
                                        String: "Set build variables" [6364,6385]
                                FIELD [6386,6610]
                                    String: "run" [6386,6391]
                                    STRING [6392,6610]
                                        String: "echo \"PYTHON_VERSION=$(python --version)\" >> $GITHUB_ENV\necho \"RUNNER_ARCH=$(uname -m)\" >> $GITHUB_ENV\necho \"WEEK_NUMBER=$(date +%V)\" >> $GITHUB_ENV\necho \"TORCH_INSTALL=$TORCH_CPU_INSTALL\" >> $GITHUB_ENV\n" [6392,6610]
                            OBJECT [6612,6882]
                                FIELD [6613,6638]
                                    String: "uses" [6613,6619]
                                    STRING [6620,6638]
                                        String: "actions/cache@v2" [6620,6638]
                                FIELD [6639,6662]
                                    String: "id" [6639,6643]
                                    STRING [6644,6662]
                                        String: "virtualenv-cache" [6644,6662]
                                FIELD [6663,6881]
                                    String: "with" [6663,6669]
                                    OBJECT [6670,6881]
                                        FIELD [6671,6685]
                                            String: "path" [6671,6677]
                                            STRING [6678,6685]
                                                String: ".venv" [6678,6685]
                                        FIELD [6686,6880]
                                            String: "key" [6686,6691]
                                            STRING [6692,6880]
                                                String: "${{ env.CACHE_PREFIX }}-${{ env.WEEK_NUMBER }}-${{ runner.os }}-${{ env.RUNNER_ARCH }}-${{ env.PYTHON_VERSION }}-cpu-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [6692,6880]
                            OBJECT [6883,7139]
                                FIELD [6884,6933]
                                    String: "name" [6884,6890]
                                    STRING [6891,6933]
                                        String: "Setup virtual environment (no cache hit)" [6891,6933]
                                FIELD [6934,6991]
                                    String: "if" [6934,6938]
                                    STRING [6939,6991]
                                        String: "steps.virtualenv-cache.outputs.cache-hit != 'true'" [6939,6991]
                                FIELD [6992,7138]
                                    String: "run" [6992,6997]
                                    STRING [6998,7138]
                                        String: "conda create -y -p .venv python=${{ env.DEFAULT_PYTHON_VERSION }}\nconda activate ./.venv\nmake install TORCH_INSTALL=\"$TORCH_INSTALL\"\n" [6998,7138]
                            OBJECT [7140,7329]
                                FIELD [7141,7187]
                                    String: "name" [7141,7147]
                                    STRING [7148,7187]
                                        String: "Setup virtual environment (cache hit)" [7148,7187]
                                FIELD [7188,7245]
                                    String: "if" [7188,7192]
                                    STRING [7193,7245]
                                        String: "steps.virtualenv-cache.outputs.cache-hit == 'true'" [7193,7245]
                                FIELD [7246,7328]
                                    String: "run" [7246,7251]
                                    STRING [7252,7328]
                                        String: "conda activate ./.venv\npip install --no-deps -e .\nmake download-extras\n" [7252,7328]
                            OBJECT [7330,7396]
                                FIELD [7331,7350]
                                    String: "name" [7331,7337]
                                    STRING [7338,7350]
                                        String: "Debug info" [7338,7350]
                                FIELD [7351,7395]
                                    String: "run" [7351,7356]
                                    STRING [7357,7395]
                                        String: "conda activate ./.venv\npip freeze\n" [7357,7395]
                            OBJECT [7397,8058]
                                FIELD [7398,7436]
                                    String: "name" [7398,7404]
                                    STRING [7405,7436]
                                        String: "Check and set nightly version" [7405,7436]
                                FIELD [7437,7475]
                                    String: "if" [7437,7441]
                                    STRING [7442,7475]
                                        String: "github.event_name == 'schedule'" [7442,7475]
                                FIELD [7476,8057]
                                    String: "run" [7476,7481]
                                    STRING [7482,8057]
                                        String: "# Verify that current version is ahead of the last release.\nconda activate ./.venv\nLATEST=$(scripts/get_version.py latest)\nCURRENT=$(scripts/get_version.py current)\nif [ \"$CURRENT\" == \"$LATEST\" ]; then\n    echo \"Current version needs to be ahead of latest release in order to build nightly release\";\n    exit 1;\nfi\n# This is somewhat bizarre, but you can't set env variables to bash\n# commands in the action workflow - so we have to use this odd way of\n# exporting a variable instead.\necho \"ALLENNLP_VERSION_SUFFIX=dev$(date -u +%Y%m%d)\" >> $GITHUB_ENV\n" [7482,8057]
                            OBJECT [8059,8437]
                                FIELD [8060,8104]
                                    String: "name" [8060,8066]
                                    STRING [8067,8104]
                                        String: "Check version and release tag match" [8067,8104]
                                FIELD [8105,8142]
                                    String: "if" [8105,8109]
                                    STRING [8110,8142]
                                        String: "github.event_name == 'release'" [8110,8142]
                                FIELD [8143,8436]
                                    String: "run" [8143,8148]
                                    STRING [8149,8436]
                                        String: "# Remove 'refs/tags/' to get the actual tag from the release.\nconda activate ./.venv\nTAG=${GITHUB_REF#refs/tags/};\nVERSION=$(scripts/get_version.py current)\nif [ \"$TAG\" != \"$VERSION\" ]; then\n    echo \"Bad tag or version. Tag $TAG does not match $VERSION\";\n    exit 1;\nfi\n" [8149,8436]
                            OBJECT [8438,8594]
                                FIELD [8439,8466]
                                    String: "name" [8439,8445]
                                    STRING [8446,8466]
                                        String: "Build core package" [8446,8466]
                                FIELD [8467,8593]
                                    String: "run" [8467,8472]
                                    STRING [8473,8593]
                                        String: "# Just print out the version for debugging.\nconda activate ./.venv\nmake version\npython setup.py bdist_wheel sdist\n" [8473,8593]
                            OBJECT [8595,8704]
                                FIELD [8596,8622]
                                    String: "name" [8596,8602]
                                    STRING [8603,8622]
                                        String: "Save core package" [8603,8622]
                                FIELD [8623,8658]
                                    String: "uses" [8623,8629]
                                    STRING [8630,8658]
                                        String: "actions/upload-artifact@v1" [8630,8658]
                                FIELD [8659,8703]
                                    String: "with" [8659,8665]
                                    OBJECT [8666,8703]
                                        FIELD [8667,8688]
                                            String: "name" [8667,8673]
                                            STRING [8674,8688]
                                                String: "core-package" [8674,8688]
                                        FIELD [8689,8702]
                                            String: "path" [8689,8695]
                                            STRING [8696,8702]
                                                String: "dist" [8696,8702]
                            OBJECT [8705,8803]
                                FIELD [8706,8723]
                                    String: "name" [8706,8712]
                                    STRING [8713,8723]
                                        String: "Clean up" [8713,8723]
                                FIELD [8724,8739]
                                    String: "if" [8724,8728]
                                    STRING [8729,8739]
                                        String: "always()" [8729,8739]
                                FIELD [8740,8802]
                                    String: "run" [8740,8745]
                                    STRING [8746,8802]
                                        String: "conda activate ./.venv\npip uninstall --yes allennlp\n" [8746,8802]
            FIELD [8806,9451]
                String: "test_package" [8806,8820]
                OBJECT [8821,9451]
                    FIELD [8822,8843]
                        String: "name" [8822,8828]
                        STRING [8829,8843]
                            String: "Test Package" [8829,8843]
                    FIELD [8844,8864]
                        String: "timeout-minutes" [8844,8861]
                        NUMBER [8862,8864]
                            Number: 10 [8862,8864]
                    FIELD [8865,8890]
                        String: "needs" [8865,8872]
                        ARRAY [8873,8890]
                            STRING [8874,8889]
                                String: "build_package" [8874,8889]
                    FIELD [8891,8916]
                        String: "runs-on" [8891,8900]
                        STRING [8901,8916]
                            String: "ubuntu-latest" [8901,8916]
                    FIELD [8917,8963]
                        String: "strategy" [8917,8927]
                        OBJECT [8928,8963]
                            FIELD [8929,8962]
                                String: "matrix" [8929,8937]
                                OBJECT [8938,8962]
                                    FIELD [8939,8961]
                                        String: "python" [8939,8947]
                                        ARRAY [8948,8961]
                                            STRING [8949,8954]
                                                String: "3.7" [8949,8954]
                                            STRING [8955,8960]
                                                String: "3.8" [8955,8960]
                    FIELD [8964,9450]
                        String: "steps" [8964,8971]
                        ARRAY [8972,9450]
                            OBJECT [8973,9078]
                                FIELD [8974,8995]
                                    String: "name" [8974,8980]
                                    STRING [8981,8995]
                                        String: "Setup Python" [8981,8995]
                                FIELD [8996,9028]
                                    String: "uses" [8996,9002]
                                    STRING [9003,9028]
                                        String: "actions/setup-python@v2" [9003,9028]
                                FIELD [9029,9077]
                                    String: "with" [9029,9035]
                                    OBJECT [9036,9077]
                                        FIELD [9037,9076]
                                            String: "python-version" [9037,9053]
                                            STRING [9054,9076]
                                                String: "${{ matrix.python }}" [9054,9076]
                            OBJECT [9079,9163]
                                FIELD [9080,9109]
                                    String: "name" [9080,9086]
                                    STRING [9087,9109]
                                        String: "Install requirements" [9087,9109]
                                FIELD [9110,9162]
                                    String: "run" [9110,9115]
                                    STRING [9116,9162]
                                        String: "pip install --upgrade pip setuptools wheel\n" [9116,9162]
                            OBJECT [9164,9279]
                                FIELD [9165,9195]
                                    String: "name" [9165,9171]
                                    STRING [9172,9195]
                                        String: "Download core package" [9172,9195]
                                FIELD [9196,9233]
                                    String: "uses" [9196,9202]
                                    STRING [9203,9233]
                                        String: "actions/download-artifact@v1" [9203,9233]
                                FIELD [9234,9278]
                                    String: "with" [9234,9240]
                                    OBJECT [9241,9278]
                                        FIELD [9242,9263]
                                            String: "name" [9242,9248]
                                            STRING [9249,9263]
                                                String: "core-package" [9249,9263]
                                        FIELD [9264,9277]
                                            String: "path" [9264,9270]
                                            STRING [9271,9277]
                                                String: "dist" [9271,9277]
                            OBJECT [9280,9350]
                                FIELD [9281,9310]
                                    String: "name" [9281,9287]
                                    STRING [9288,9310]
                                        String: "Install core package" [9288,9310]
                                FIELD [9311,9349]
                                    String: "run" [9311,9316]
                                    STRING [9317,9349]
                                        String: "pip install $(ls dist/*.whl)\n" [9317,9349]
                            OBJECT [9351,9393]
                                FIELD [9352,9371]
                                    String: "name" [9352,9358]
                                    STRING [9359,9371]
                                        String: "Pip freeze" [9359,9371]
                                FIELD [9372,9392]
                                    String: "run" [9372,9377]
                                    STRING [9378,9392]
                                        String: "pip freeze\n" [9378,9392]
                            OBJECT [9394,9449]
                                FIELD [9395,9416]
                                    String: "name" [9395,9401]
                                    STRING [9402,9416]
                                        String: "Test install" [9402,9416]
                                FIELD [9417,9448]
                                    String: "run" [9417,9422]
                                    STRING [9423,9448]
                                        String: "allennlp test-install\n" [9423,9448]
            FIELD [9452,11095]
                String: "docker" [9452,9460]
                OBJECT [9461,11095]
                    FIELD [9462,9503]
                        String: "name" [9462,9468]
                        STRING [9469,9503]
                            String: "Docker (CUDA ${{ matrix.cuda }})" [9469,9503]
                    FIELD [9504,9524]
                        String: "timeout-minutes" [9504,9521]
                        NUMBER [9522,9524]
                            Number: 18 [9522,9524]
                    FIELD [9525,9571]
                        String: "if" [9525,9529]
                        STRING [9530,9571]
                            String: "github.repository == 'allenai/allennlp'" [9530,9571]
                    FIELD [9572,9597]
                        String: "runs-on" [9572,9581]
                        STRING [9582,9597]
                            String: "ubuntu-latest" [9582,9597]
                    FIELD [9598,9637]
                        String: "strategy" [9598,9608]
                        OBJECT [9609,9637]
                            FIELD [9610,9636]
                                String: "matrix" [9610,9618]
                                OBJECT [9619,9636]
                                    FIELD [9620,9635]
                                        String: "cuda" [9620,9626]
                                        ARRAY [9627,9635]
                                            STRING [9628,9634]
                                                String: "11.3" [9628,9634]
                    FIELD [9638,11094]
                        String: "steps" [9638,9645]
                        ARRAY [9646,11094]
                            OBJECT [9647,9677]
                                FIELD [9648,9676]
                                    String: "uses" [9648,9654]
                                    STRING [9655,9676]
                                        String: "actions/checkout@v2" [9655,9676]
                            OBJECT [9678,10093]
                                FIELD [9679,9720]
                                    String: "name" [9679,9685]
                                    STRING [9686,9720]
                                        String: "Set image name and torch version" [9686,9720]
                                FIELD [9721,9756]
                                    String: "env" [9721,9726]
                                    OBJECT [9727,9756]
                                        FIELD [9728,9755]
                                            String: "CUDA" [9728,9734]
                                            STRING [9735,9755]
                                                String: "${{ matrix.cuda }}" [9735,9755]
                                FIELD [9757,10092]
                                    String: "run" [9757,9762]
                                    STRING [9763,10092]
                                        String: "echo \"DOCKER_TORCH_VERSION=${TORCH_VERSION}-cuda${CUDA}\" >> $GITHUB_ENV;\nif [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCKER_IMAGE_NAME=allennlp/allennlp:${GITHUB_REF#refs/tags/}-cuda${CUDA}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCKER_IMAGE_NAME=allennlp/commit:${GITHUB_SHA}-cuda${CUDA}\" >> $GITHUB_ENV;\nfi\n" [9763,10092]
                            OBJECT [10094,10232]
                                FIELD [10095,10115]
                                    String: "name" [10095,10101]
                                    STRING [10102,10115]
                                        String: "Build image" [10102,10115]
                                FIELD [10116,10231]
                                    String: "run" [10116,10121]
                                    STRING [10122,10231]
                                        String: "make docker-image DOCKER_IMAGE_NAME=\"$DOCKER_IMAGE_NAME\" DOCKER_TORCH_VERSION=\"$DOCKER_TORCH_VERSION\"\n" [10122,10231]
                            OBJECT [10233,10352]
                                FIELD [10234,10253]
                                    String: "name" [10234,10240]
                                    STRING [10241,10253]
                                        String: "Test image" [10241,10253]
                                FIELD [10254,10351]
                                    String: "run" [10254,10259]
                                    STRING [10260,10351]
                                        String: "make docker-run DOCKER_GPUS='' DOCKER_IMAGE_NAME=$DOCKER_IMAGE_NAME ARGS='test-install'\n" [10260,10351]
                            OBJECT [10353,10550]
                                FIELD [10354,10389]
                                    String: "name" [10354,10360]
                                    STRING [10361,10389]
                                        String: "Authenticate to Docker Hub" [10361,10389]
                                FIELD [10390,10458]
                                    String: "if" [10390,10394]
                                    STRING [10395,10458]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [10395,10458]
                                FIELD [10459,10549]
                                    String: "run" [10459,10464]
                                    STRING [10465,10549]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\n" [10465,10549]
                            OBJECT [10551,10684]
                                FIELD [10552,10573]
                                    String: "name" [10552,10558]
                                    STRING [10559,10573]
                                        String: "Upload image" [10559,10573]
                                FIELD [10574,10642]
                                    String: "if" [10574,10578]
                                    STRING [10579,10642]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [10579,10642]
                                FIELD [10643,10683]
                                    String: "run" [10643,10648]
                                    STRING [10649,10683]
                                        String: "docker push $DOCKER_IMAGE_NAME\n" [10649,10683]
                            OBJECT [10685,10896]
                                FIELD [10686,10722]
                                    String: "name" [10686,10692]
                                    STRING [10693,10722]
                                        String: "Upload default commit image" [10693,10722]
                                FIELD [10723,10782]
                                    String: "if" [10723,10727]
                                    STRING [10728,10782]
                                        String: "github.event_name == 'push' && matrix.cuda == '11.3'" [10728,10782]
                                FIELD [10783,10895]
                                    String: "run" [10783,10788]
                                    STRING [10789,10895]
                                        String: "docker tag $DOCKER_IMAGE_NAME allennlp/commit:${GITHUB_SHA}\ndocker push allennlp/commit:${GITHUB_SHA}\n" [10789,10895]
                            OBJECT [10897,11093]
                                FIELD [10898,10926]
                                    String: "name" [10898,10904]
                                    STRING [10905,10926]
                                        String: "Upload latest image" [10905,10926]
                                FIELD [10927,10989]
                                    String: "if" [10927,10931]
                                    STRING [10932,10989]
                                        String: "github.event_name == 'release' && matrix.cuda == '11.3'" [10932,10989]
                                FIELD [10990,11092]
                                    String: "run" [10990,10995]
                                    STRING [10996,11092]
                                        String: "docker tag $DOCKER_IMAGE_NAME allennlp/allennlp:latest\ndocker push allennlp/allennlp:latest\n" [10996,11092]
            FIELD [11096,15558]
                String: "docs" [11096,11102]
                OBJECT [11103,15558]
                    FIELD [11104,11117]
                        String: "name" [11104,11110]
                        STRING [11111,11117]
                            String: "Docs" [11111,11117]
                    FIELD [11118,11138]
                        String: "timeout-minutes" [11118,11135]
                        NUMBER [11136,11138]
                            Number: 15 [11136,11138]
                    FIELD [11139,11185]
                        String: "if" [11139,11143]
                        STRING [11144,11185]
                            String: "github.repository == 'allenai/allennlp'" [11144,11185]
                    FIELD [11186,11211]
                        String: "runs-on" [11186,11195]
                        STRING [11196,11211]
                            String: "ubuntu-latest" [11196,11211]
                    FIELD [11212,15557]
                        String: "steps" [11212,11219]
                        ARRAY [11220,15557]
                            OBJECT [11221,11251]
                                FIELD [11222,11250]
                                    String: "uses" [11222,11228]
                                    STRING [11229,11250]
                                        String: "actions/checkout@v1" [11229,11250]
                            OBJECT [11252,11448]
                                FIELD [11253,11281]
                                    String: "name" [11253,11259]
                                    STRING [11260,11281]
                                        String: "Setup SSH Client " [11260,11281]
                                FIELD [11282,11350]
                                    String: "if" [11282,11286]
                                    STRING [11287,11350]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [11287,11350]
                                FIELD [11351,11387]
                                    String: "uses" [11351,11357]
                                    STRING [11358,11387]
                                        String: "webfactory/ssh-agent@v0.4.1" [11358,11387]
                                FIELD [11388,11447]
                                    String: "with" [11388,11394]
                                    OBJECT [11395,11447]
                                        FIELD [11396,11446]
                                            String: "ssh-private-key" [11396,11413]
                                            STRING [11414,11446]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [11414,11446]
                            OBJECT [11449,11585]
                                FIELD [11450,11493]
                                    String: "uses" [11450,11456]
                                    STRING [11457,11493]
                                        String: "conda-incubator/setup-miniconda@v2" [11457,11493]
                                FIELD [11494,11584]
                                    String: "with" [11494,11500]
                                    OBJECT [11501,11584]
                                        FIELD [11502,11530]
                                            String: "miniconda-version" [11502,11521]
                                            STRING [11522,11530]
                                                String: "latest" [11522,11530]
                                        FIELD [11531,11583]
                                            String: "python-version" [11531,11547]
                                            STRING [11548,11583]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [11548,11583]
                            OBJECT [11586,11841]
                                FIELD [11587,11615]
                                    String: "name" [11587,11593]
                                    STRING [11594,11615]
                                        String: "Set build variables" [11594,11615]
                                FIELD [11616,11840]
                                    String: "run" [11616,11621]
                                    STRING [11622,11840]
                                        String: "echo \"PYTHON_VERSION=$(python --version)\" >> $GITHUB_ENV\necho \"RUNNER_ARCH=$(uname -m)\" >> $GITHUB_ENV\necho \"WEEK_NUMBER=$(date +%V)\" >> $GITHUB_ENV\necho \"TORCH_INSTALL=$TORCH_CPU_INSTALL\" >> $GITHUB_ENV\n" [11622,11840]
                            OBJECT [11842,12112]
                                FIELD [11843,11868]
                                    String: "uses" [11843,11849]
                                    STRING [11850,11868]
                                        String: "actions/cache@v2" [11850,11868]
                                FIELD [11869,11892]
                                    String: "id" [11869,11873]
                                    STRING [11874,11892]
                                        String: "virtualenv-cache" [11874,11892]
                                FIELD [11893,12111]
                                    String: "with" [11893,11899]
                                    OBJECT [11900,12111]
                                        FIELD [11901,11915]
                                            String: "path" [11901,11907]
                                            STRING [11908,11915]
                                                String: ".venv" [11908,11915]
                                        FIELD [11916,12110]
                                            String: "key" [11916,11921]
                                            STRING [11922,12110]
                                                String: "${{ env.CACHE_PREFIX }}-${{ env.WEEK_NUMBER }}-${{ runner.os }}-${{ env.RUNNER_ARCH }}-${{ env.PYTHON_VERSION }}-cpu-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [11922,12110]
                            OBJECT [12113,12369]
                                FIELD [12114,12163]
                                    String: "name" [12114,12120]
                                    STRING [12121,12163]
                                        String: "Setup virtual environment (no cache hit)" [12121,12163]
                                FIELD [12164,12221]
                                    String: "if" [12164,12168]
                                    STRING [12169,12221]
                                        String: "steps.virtualenv-cache.outputs.cache-hit != 'true'" [12169,12221]
                                FIELD [12222,12368]
                                    String: "run" [12222,12227]
                                    STRING [12228,12368]
                                        String: "conda create -y -p .venv python=${{ env.DEFAULT_PYTHON_VERSION }}\nconda activate ./.venv\nmake install TORCH_INSTALL=\"$TORCH_INSTALL\"\n" [12228,12368]
                            OBJECT [12370,12559]
                                FIELD [12371,12417]
                                    String: "name" [12371,12377]
                                    STRING [12378,12417]
                                        String: "Setup virtual environment (cache hit)" [12378,12417]
                                FIELD [12418,12475]
                                    String: "if" [12418,12422]
                                    STRING [12423,12475]
                                        String: "steps.virtualenv-cache.outputs.cache-hit == 'true'" [12423,12475]
                                FIELD [12476,12558]
                                    String: "run" [12476,12481]
                                    STRING [12482,12558]
                                        String: "conda activate ./.venv\npip install --no-deps -e .\nmake download-extras\n" [12482,12558]
                            OBJECT [12560,12626]
                                FIELD [12561,12580]
                                    String: "name" [12561,12567]
                                    STRING [12568,12580]
                                        String: "Debug info" [12568,12580]
                                FIELD [12581,12625]
                                    String: "run" [12581,12586]
                                    STRING [12587,12625]
                                        String: "conda activate ./.venv\nconda list\n" [12587,12625]
                            OBJECT [12627,13064]
                                FIELD [12628,12656]
                                    String: "name" [12628,12634]
                                    STRING [12635,12656]
                                        String: "Prepare environment" [12635,12656]
                                FIELD [12657,13063]
                                    String: "run" [12657,12662]
                                    STRING [12663,13063]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCS_FOLDER=${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\n    echo \"BASE_SOURCE_LINK=https://github.com/allenai/allennlp/blob/${GITHUB_REF#refs/tags/}/allennlp/\" >> $GITHUB_ENV;\nelse\n    echo \"DOCS_FOLDER=main\" >> $GITHUB_ENV;\n    echo \"BASE_SOURCE_LINK=https://github.com/allenai/allennlp/blob/main/allennlp/\" >> $GITHUB_ENV;\nfi\n" [12663,13063]
                            OBJECT [13065,13144]
                                FIELD [13066,13085]
                                    String: "name" [13066,13072]
                                    STRING [13073,13085]
                                        String: "Build docs" [13073,13085]
                                FIELD [13086,13143]
                                    String: "run" [13086,13091]
                                    STRING [13092,13143]
                                        String: "conda activate ./.venv\n./scripts/build_docs.sh\n" [13092,13143]
                            OBJECT [13145,13202]
                                FIELD [13146,13168]
                                    String: "name" [13146,13152]
                                    STRING [13153,13168]
                                        String: "Print the ref" [13153,13168]
                                FIELD [13169,13201]
                                    String: "run" [13169,13174]
                                    STRING [13175,13201]
                                        String: "echo ${{ github.ref }}\n" [13175,13201]
                            OBJECT [13203,13488]
                                FIELD [13204,13226]
                                    String: "name" [13204,13210]
                                    STRING [13211,13226]
                                        String: "Configure Git" [13211,13226]
                                FIELD [13227,13332]
                                    String: "if" [13227,13231]
                                    STRING [13232,13332]
                                        String: "github.event_name == 'release' || (github.event_name == 'push' && github.ref == 'refs/heads/main')" [13232,13332]
                                FIELD [13333,13487]
                                    String: "run" [13333,13338]
                                    STRING [13339,13487]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [13339,13487]
                            OBJECT [13489,13956]
                                FIELD [13490,13509]
                                    String: "name" [13490,13496]
                                    STRING [13497,13509]
                                        String: "Stage docs" [13497,13509]
                                FIELD [13510,13615]
                                    String: "if" [13510,13514]
                                    STRING [13515,13615]
                                        String: "github.event_name == 'release' || (github.event_name == 'push' && github.ref == 'refs/heads/main')" [13515,13615]
                                FIELD [13616,13955]
                                    String: "run" [13616,13621]
                                    STRING [13622,13955]
                                        String: "echo \"Staging docs to $DOCS_FOLDER\"\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DOCS_FOLDER/\nmkdir -p ~/allennlp-docs/$DOCS_FOLDER\ncp -r site/* ~/allennlp-docs/$DOCS_FOLDER\n" [13622,13955]
                            OBJECT [13957,14855]
                                FIELD [13958,13983]
                                    String: "name" [13958,13964]
                                    STRING [13965,13983]
                                        String: "Update shortcuts" [13965,13983]
                                FIELD [13984,14021]
                                    String: "if" [13984,13988]
                                    STRING [13989,14021]
                                        String: "github.event_name == 'release'" [13989,14021]
                                FIELD [14022,14854]
                                    String: "run" [14022,14027]
                                    STRING [14028,14854]
                                        String: "# Fail immediately if any step fails.\nset -e\nconda activate ./.venv\n\nLATEST=$(./scripts/get_version.py latest)\nSTABLE=$(./scripts/get_version.py stable)\n\ncd ~/allennlp-docs/\n\necho \"Updating latest/index.html to point to $LATEST\"\nmkdir -p latest\ncat >latest/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${LATEST}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${LATEST}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n\necho \"Updating stable/index.html to point to $STABLE\"\nmkdir -p stable\ncat >stable/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${STABLE}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${STABLE}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n" [14028,14854]
                            OBJECT [14856,15114]
                                FIELD [14857,14877]
                                    String: "name" [14857,14863]
                                    STRING [14864,14877]
                                        String: "Deploy docs" [14864,14877]
                                FIELD [14878,14983]
                                    String: "if" [14878,14882]
                                    STRING [14883,14983]
                                        String: "github.event_name == 'release' || (github.event_name == 'push' && github.ref == 'refs/heads/main')" [14883,14983]
                                FIELD [14984,15113]
                                    String: "run" [14984,14989]
                                    STRING [14990,15113]
                                        String: "# And push them up to GitHub\ncd ~/allennlp-docs/\ngit add -A\ngit commit -m \"automated update of the docs\"\ngit push\n" [14990,15113]
                            OBJECT [15115,15457]
                                FIELD [15116,15153]
                                    String: "name" [15116,15122]
                                    STRING [15123,15153]
                                        String: "Re-write docs commit history" [15123,15153]
                                FIELD [15154,15191]
                                    String: "if" [15154,15158]
                                    STRING [15159,15191]
                                        String: "github.event_name == 'release'" [15159,15191]
                                FIELD [15192,15456]
                                    String: "run" [15192,15197]
                                    STRING [15198,15456]
                                        String: "cd ~/allennlp-docs/\ngit checkout --orphan latest_branch\ngit add -A\ngit commit -m \"Re-write commit history\"\ngit branch -D master  # remove old master branch\ngit branch -m master  # rename clean new branch to master branch\ngit push -f origin master\n" [15198,15456]
                            OBJECT [15458,15556]
                                FIELD [15459,15476]
                                    String: "name" [15459,15465]
                                    STRING [15466,15476]
                                        String: "Clean up" [15466,15476]
                                FIELD [15477,15492]
                                    String: "if" [15477,15481]
                                    STRING [15482,15492]
                                        String: "always()" [15482,15492]
                                FIELD [15493,15555]
                                    String: "run" [15493,15498]
                                    STRING [15499,15555]
                                        String: "conda activate ./.venv\npip uninstall --yes allennlp\n" [15499,15555]
            FIELD [15559,16294]
                String: "publish" [15559,15568]
                OBJECT [15569,16294]
                    FIELD [15570,15583]
                        String: "name" [15570,15576]
                        STRING [15577,15583]
                            String: "PyPI" [15577,15583]
                    FIELD [15584,15604]
                        String: "timeout-minutes" [15584,15601]
                        NUMBER [15602,15604]
                            Number: 10 [15602,15604]
                    FIELD [15605,15678]
                        String: "needs" [15605,15612]
                        ARRAY [15613,15678]
                            STRING [15614,15621]
                                String: "style" [15614,15621]
                            STRING [15622,15630]
                                String: "checks" [15622,15630]
                            STRING [15631,15646]
                                String: "build_package" [15631,15646]
                            STRING [15647,15661]
                                String: "test_package" [15647,15661]
                            STRING [15662,15670]
                                String: "docker" [15662,15670]
                            STRING [15671,15677]
                                String: "docs" [15671,15677]
                    FIELD [15679,15796]
                        String: "if" [15679,15683]
                        STRING [15684,15796]
                            String: "github.repository == 'allenai/allennlp' && (github.event_name == 'release' || github.event_name == 'schedule')" [15684,15796]
                    FIELD [15797,15822]
                        String: "runs-on" [15797,15806]
                        STRING [15807,15822]
                            String: "ubuntu-latest" [15807,15822]
                    FIELD [15823,16293]
                        String: "steps" [15823,15830]
                        ARRAY [15831,16293]
                            OBJECT [15832,15862]
                                FIELD [15833,15861]
                                    String: "uses" [15833,15839]
                                    STRING [15840,15861]
                                        String: "actions/checkout@v2" [15840,15861]
                            OBJECT [15863,15981]
                                FIELD [15864,15885]
                                    String: "name" [15864,15870]
                                    STRING [15871,15885]
                                        String: "Setup Python" [15871,15885]
                                FIELD [15886,15918]
                                    String: "uses" [15886,15892]
                                    STRING [15893,15918]
                                        String: "actions/setup-python@v2" [15893,15918]
                                FIELD [15919,15980]
                                    String: "with" [15919,15925]
                                    OBJECT [15926,15980]
                                        FIELD [15927,15979]
                                            String: "python-version" [15927,15943]
                                            STRING [15944,15979]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [15944,15979]
                            OBJECT [15982,16072]
                                FIELD [15983,16012]
                                    String: "name" [15983,15989]
                                    STRING [15990,16012]
                                        String: "Install requirements" [15990,16012]
                                FIELD [16013,16071]
                                    String: "run" [16013,16018]
                                    STRING [16019,16071]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [16019,16071]
                            OBJECT [16073,16188]
                                FIELD [16074,16104]
                                    String: "name" [16074,16080]
                                    STRING [16081,16104]
                                        String: "Download core package" [16081,16104]
                                FIELD [16105,16142]
                                    String: "uses" [16105,16111]
                                    STRING [16112,16142]
                                        String: "actions/download-artifact@v1" [16112,16142]
                                FIELD [16143,16187]
                                    String: "with" [16143,16149]
                                    OBJECT [16150,16187]
                                        FIELD [16151,16172]
                                            String: "name" [16151,16157]
                                            STRING [16158,16172]
                                                String: "core-package" [16158,16172]
                                        FIELD [16173,16186]
                                            String: "path" [16173,16179]
                                            STRING [16180,16186]
                                                String: "dist" [16180,16186]
                            OBJECT [16189,16292]
                                FIELD [16190,16219]
                                    String: "name" [16190,16196]
                                    STRING [16197,16219]
                                        String: "Publish core package" [16197,16219]
                                FIELD [16220,16291]
                                    String: "run" [16220,16225]
                                    STRING [16226,16291]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [16226,16291]