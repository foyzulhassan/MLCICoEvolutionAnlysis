OBJECT [0,16769]
    FIELD [1,35]
        String: "name" [1,7]
        STRING [8,35]
            String: "Self-hosted runner (push)" [8,35]
    FIELD [36,282]
        String: "on" [36,40]
        OBJECT [41,282]
            FIELD [42,149]
                String: "workflow_run" [42,56]
                OBJECT [57,149]
                    FIELD [58,106]
                        String: "workflows" [58,69]
                        ARRAY [70,106]
                            STRING [71,105]
                                String: "Self-hosted runner (push-caller)" [71,105]
                    FIELD [107,126]
                        String: "branches" [107,117]
                        ARRAY [118,126]
                            STRING [119,125]
                                String: "main" [119,125]
                    FIELD [127,148]
                        String: "types" [127,134]
                        ARRAY [135,148]
                            STRING [136,147]
                                String: "completed" [136,147]
            FIELD [150,254]
                String: "push" [150,156]
                OBJECT [157,254]
                    FIELD [158,184]
                        String: "branches" [158,168]
                        ARRAY [169,184]
                            STRING [170,176]
                                String: "ci_*" [170,176]
                            STRING [177,183]
                                String: "ci-*" [177,183]
                    FIELD [185,253]
                        String: "paths" [185,192]
                        ARRAY [193,253]
                            STRING [194,202]
                                String: "src/**" [194,202]
                            STRING [203,213]
                                String: "tests/**" [203,213]
                            STRING [214,226]
                                String: ".github/**" [214,226]
                            STRING [227,241]
                                String: "templates/**" [227,241]
                            STRING [242,252]
                                String: "utils/**" [242,252]
            FIELD [255,281]
                String: "repository_dispatch" [255,276]
                NULL [277,281]
    FIELD [283,458]
        String: "env" [283,288]
        OBJECT [289,458]
            FIELD [290,312]
                String: "HF_HOME" [290,299]
                STRING [300,312]
                    String: "/mnt/cache" [300,312]
            FIELD [313,338]
                String: "TRANSFORMERS_IS_CI" [313,333]
                TRUE [334,338]
            FIELD [339,358]
                String: "OMP_NUM_THREADS" [339,356]
                NUMBER [357,358]
                    Number: 8 [357,358]
            FIELD [359,378]
                String: "MKL_NUM_THREADS" [359,376]
                NUMBER [377,378]
                    Number: 8 [377,378]
            FIELD [379,398]
                String: "PYTEST_TIMEOUT" [379,395]
                NUMBER [396,398]
                    Number: 60 [396,398]
            FIELD [399,431]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [399,426]
                TRUE [427,431]
            FIELD [432,457]
                String: "RUN_PT_TF_CROSS_TESTS" [432,455]
                NUMBER [456,457]
                    Number: 1 [456,457]
    FIELD [459,16768]
        String: "jobs" [459,465]
        OBJECT [466,16768]
            FIELD [467,2887]
                String: "setup" [467,474]
                OBJECT [475,2887]
                    FIELD [476,490]
                        String: "name" [476,482]
                        STRING [483,490]
                            String: "Setup" [483,490]
                    FIELD [491,516]
                        String: "runs-on" [491,500]
                        STRING [501,516]
                            String: "ubuntu-latest" [501,516]
                    FIELD [517,632]
                        String: "outputs" [517,526]
                        OBJECT [527,632]
                            FIELD [528,577]
                                String: "matrix" [528,536]
                                STRING [537,577]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [537,577]
                            FIELD [578,631]
                                String: "test_map" [578,588]
                                STRING [589,631]
                                    String: "${{ steps.set-matrix.outputs.test_map }}" [589,631]
                    FIELD [633,2886]
                        String: "steps" [633,640]
                        ARRAY [641,2886]
                            OBJECT [642,1359]
                                FIELD [643,688]
                                    String: "name" [643,649]
                                    STRING [650,688]
                                        String: "Prepare custom environment variables" [650,688]
                                FIELD [689,703]
                                    String: "shell" [689,696]
                                    STRING [697,703]
                                        String: "bash" [697,703]
                                FIELD [704,1358]
                                    String: "run" [704,709]
                                    STRING [710,1358]
                                        String: "CI_BRANCH_PUSH=${{ github.event.ref }}\nCI_BRANCH_PUSH=${CI_BRANCH_PUSH/'refs/heads/'/''}\nCI_BRANCH_WORKFLOW_RUN=${{ github.event.workflow_run.head_branch }}\nCI_SHA_PUSH=${{ github.event.head_commit.id }}\nCI_SHA_WORKFLOW_RUN=${{ github.event.workflow_run.head_sha }}\necho $CI_BRANCH_PUSH\necho $CI_BRANCH_WORKFLOW_RUN\necho $CI_SHA_PUSH\necho $CI_SHA_WORKFLOW_RUN\n[[ ! -z \"$CI_BRANCH_PUSH\" ]] && echo \"CI_BRANCH=$CI_BRANCH_PUSH\" >> $GITHUB_ENV || echo \"CI_BRANCH=$CI_BRANCH_WORKFLOW_RUN\" >> $GITHUB_ENV\n[[ ! -z \"$CI_SHA_PUSH\" ]] && echo \"CI_SHA=$CI_SHA_PUSH\" >> $GITHUB_ENV || echo \"CI_SHA=$CI_SHA_WORKFLOW_RUN\" >> $GITHUB_ENV\n" [710,1358]
                            OBJECT [1360,1495]
                                FIELD [1361,1397]
                                    String: "name" [1361,1367]
                                    STRING [1368,1397]
                                        String: "print environment variables" [1368,1397]
                                FIELD [1398,1494]
                                    String: "run" [1398,1403]
                                    STRING [1404,1494]
                                        String: "echo \"env.CI_BRANCH = ${{ env.CI_BRANCH }}\"\necho \"env.CI_SHA = ${{ env.CI_SHA }}\"\n" [1404,1494]
                            OBJECT [1496,1582]
                                FIELD [1497,1527]
                                    String: "name" [1497,1503]
                                    STRING [1504,1527]
                                        String: "Checkout transformers" [1504,1527]
                                FIELD [1528,1556]
                                    String: "uses" [1528,1534]
                                    STRING [1535,1556]
                                        String: "actions/checkout@v2" [1535,1556]
                                FIELD [1557,1581]
                                    String: "with" [1557,1563]
                                    OBJECT [1564,1581]
                                        FIELD [1565,1580]
                                            String: "fetch-depth" [1565,1578]
                                            NUMBER [1579,1580]
                                                Number: 2 [1579,1580]
                            OBJECT [1583,1868]
                                FIELD [1584,1633]
                                    String: "name" [1584,1590]
                                    STRING [1591,1633]
                                        String: "Update clone using environment variables" [1591,1633]
                                FIELD [1634,1867]
                                    String: "run" [1634,1639]
                                    STRING [1640,1867]
                                        String: "echo \"original branch = $(git branch --show-current)\"\ngit fetch && git checkout ${{ env.CI_BRANCH }}\necho \"updated branch = $(git branch --show-current)\"\ngit checkout ${{ env.CI_SHA }}\necho \"log = $(git log -n 1)\"\n" [1640,1867]
                            OBJECT [1869,1971]
                                FIELD [1870,1886]
                                    String: "name" [1870,1876]
                                    STRING [1877,1886]
                                        String: "Cleanup" [1877,1886]
                                FIELD [1887,1970]
                                    String: "run" [1887,1892]
                                    STRING [1893,1970]
                                        String: "rm -rf tests/__pycache__\nrm -rf tests/models/__pycache__\nrm -rf reports\n" [1893,1970]
                            OBJECT [1972,2130]
                                FIELD [1973,2004]
                                    String: "name" [1973,1979]
                                    STRING [1980,2004]
                                        String: "Fetch the tests to run" [1980,2004]
                                FIELD [2005,2129]
                                    String: "run" [2005,2010]
                                    STRING [2011,2129]
                                        String: "pip install --upgrade git-python\npython utils/tests_fetcher.py --diff_with_last_commit | tee test_preparation.txt\n" [2011,2129]
                            OBJECT [2131,2259]
                                FIELD [2132,2161]
                                    String: "name" [2132,2138]
                                    STRING [2139,2161]
                                        String: "Report fetched tests" [2139,2161]
                                FIELD [2162,2197]
                                    String: "uses" [2162,2168]
                                    STRING [2169,2197]
                                        String: "actions/upload-artifact@v2" [2169,2197]
                                FIELD [2198,2258]
                                    String: "with" [2198,2204]
                                    OBJECT [2205,2258]
                                        FIELD [2206,2227]
                                            String: "name" [2206,2212]
                                            STRING [2213,2227]
                                                String: "test_fetched" [2213,2227]
                                        FIELD [2228,2257]
                                            String: "path" [2228,2234]
                                            STRING [2235,2257]
                                                String: "test_preparation.txt" [2235,2257]
                            OBJECT [2260,2885]
                                FIELD [2261,2278]
                                    String: "id" [2261,2265]
                                    STRING [2266,2278]
                                        String: "set-matrix" [2266,2278]
                                FIELD [2279,2314]
                                    String: "name" [2279,2285]
                                    STRING [2286,2314]
                                        String: "Organize tests into models" [2286,2314]
                                FIELD [2315,2884]
                                    String: "run" [2315,2320]
                                    STRING [2321,2884]
                                        String: "if [ -f test_map.json ]; then\n    keys=$(python3 -c 'import json; fp = open(\"test_map.json\"); test_map = json.load(fp); fp.close(); d = list(test_map.keys()); print(d)')\n    test_map=$(python3 -c 'import json; fp = open(\"test_map.json\"); test_map = json.load(fp); fp.close(); print(test_map)')\nelse\n    keys=$(python3 -c 'keys = [\"dummy\"]; print(keys)')\n    test_map=$(python3 -c 'test_map = {\"dummy\": []}; print(test_map)')\nfi\necho $keys\necho $test_map\necho \"::set-output name=matrix::$keys\"\necho \"::set-output name=test_map::$test_map\"\n" [2321,2884]
            FIELD [2888,5808]
                String: "run_tests_single_gpu" [2888,2910]
                OBJECT [2911,5808]
                    FIELD [2912,2932]
                        String: "name" [2912,2918]
                        STRING [2919,2932]
                            String: "Model tests" [2919,2932]
                    FIELD [2933,2948]
                        String: "needs" [2933,2940]
                        STRING [2941,2948]
                            String: "setup" [2941,2948]
                    FIELD [2949,3019]
                        String: "if" [2949,2953]
                        STRING [2954,3019]
                            String: "contains(fromJson(needs.setup.outputs.matrix), 'dummy') != true" [2954,3019]
                    FIELD [3020,3147]
                        String: "strategy" [3020,3030]
                        OBJECT [3031,3147]
                            FIELD [3032,3049]
                                String: "fail-fast" [3032,3043]
                                FALSE [3044,3049]
                            FIELD [3050,3146]
                                String: "matrix" [3050,3058]
                                OBJECT [3059,3146]
                                    FIELD [3060,3115]
                                        String: "folders" [3060,3069]
                                        STRING [3070,3115]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [3070,3115]
                                    FIELD [3116,3145]
                                        String: "machine_type" [3116,3130]
                                        ARRAY [3131,3145]
                                            STRING [3132,3144]
                                                String: "single-gpu" [3132,3144]
                    FIELD [3148,3215]
                        String: "runs-on" [3148,3157]
                        ARRAY [3158,3215]
                            STRING [3159,3172]
                                String: "self-hosted" [3159,3172]
                            STRING [3173,3185]
                                String: "docker-gpu" [3173,3185]
                            STRING [3186,3214]
                                String: "${{ matrix.machine_type }}" [3186,3214]
                    FIELD [3216,3376]
                        String: "container" [3216,3227]
                        OBJECT [3228,3376]
                            FIELD [3229,3278]
                                String: "image" [3229,3236]
                                STRING [3237,3278]
                                    String: "huggingface/transformers-all-latest-gpu" [3237,3278]
                            FIELD [3279,3375]
                                String: "options" [3279,3288]
                                STRING [3289,3375]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [3289,3375]
                    FIELD [3377,5807]
                        String: "steps" [3377,3384]
                        ARRAY [3385,5807]
                            OBJECT [3386,4103]
                                FIELD [3387,3432]
                                    String: "name" [3387,3393]
                                    STRING [3394,3432]
                                        String: "Prepare custom environment variables" [3394,3432]
                                FIELD [3433,3447]
                                    String: "shell" [3433,3440]
                                    STRING [3441,3447]
                                        String: "bash" [3441,3447]
                                FIELD [3448,4102]
                                    String: "run" [3448,3453]
                                    STRING [3454,4102]
                                        String: "CI_BRANCH_PUSH=${{ github.event.ref }}\nCI_BRANCH_PUSH=${CI_BRANCH_PUSH/'refs/heads/'/''}\nCI_BRANCH_WORKFLOW_RUN=${{ github.event.workflow_run.head_branch }}\nCI_SHA_PUSH=${{ github.event.head_commit.id }}\nCI_SHA_WORKFLOW_RUN=${{ github.event.workflow_run.head_sha }}\necho $CI_BRANCH_PUSH\necho $CI_BRANCH_WORKFLOW_RUN\necho $CI_SHA_PUSH\necho $CI_SHA_WORKFLOW_RUN\n[[ ! -z \"$CI_BRANCH_PUSH\" ]] && echo \"CI_BRANCH=$CI_BRANCH_PUSH\" >> $GITHUB_ENV || echo \"CI_BRANCH=$CI_BRANCH_WORKFLOW_RUN\" >> $GITHUB_ENV\n[[ ! -z \"$CI_SHA_PUSH\" ]] && echo \"CI_SHA=$CI_SHA_PUSH\" >> $GITHUB_ENV || echo \"CI_SHA=$CI_SHA_WORKFLOW_RUN\" >> $GITHUB_ENV\n" [3454,4102]
                            OBJECT [4104,4239]
                                FIELD [4105,4141]
                                    String: "name" [4105,4111]
                                    STRING [4112,4141]
                                        String: "print environment variables" [4112,4141]
                                FIELD [4142,4238]
                                    String: "run" [4142,4147]
                                    STRING [4148,4238]
                                        String: "echo \"env.CI_BRANCH = ${{ env.CI_BRANCH }}\"\necho \"env.CI_SHA = ${{ env.CI_SHA }}\"\n" [4148,4238]
                            OBJECT [4240,4561]
                                FIELD [4241,4290]
                                    String: "name" [4241,4247]
                                    STRING [4248,4290]
                                        String: "Update clone using environment variables" [4248,4290]
                                FIELD [4291,4326]
                                    String: "working-directory" [4291,4310]
                                    STRING [4311,4326]
                                        String: "/transformers" [4311,4326]
                                FIELD [4327,4560]
                                    String: "run" [4327,4332]
                                    STRING [4333,4560]
                                        String: "echo \"original branch = $(git branch --show-current)\"\ngit fetch && git checkout ${{ env.CI_BRANCH }}\necho \"updated branch = $(git branch --show-current)\"\ngit checkout ${{ env.CI_SHA }}\necho \"log = $(git log -n 1)\"\n" [4333,4560]
                            OBJECT [4562,4908]
                                FIELD [4563,4605]
                                    String: "name" [4563,4569]
                                    STRING [4570,4605]
                                        String: "Echo folder ${{ matrix.folders }}" [4570,4605]
                                FIELD [4606,4620]
                                    String: "shell" [4606,4613]
                                    STRING [4614,4620]
                                        String: "bash" [4614,4620]
                                FIELD [4621,4907]
                                    String: "run" [4621,4626]
                                    STRING [4627,4907]
                                        String: "echo \"${{ matrix.folders }}\"\necho \"${{ fromJson(needs.setup.outputs.test_map)[matrix.folders] }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [4627,4907]
                            OBJECT [4909,4951]
                                FIELD [4910,4929]
                                    String: "name" [4910,4916]
                                    STRING [4917,4929]
                                        String: "NVIDIA-SMI" [4917,4929]
                                FIELD [4930,4950]
                                    String: "run" [4930,4935]
                                    STRING [4936,4950]
                                        String: "nvidia-smi\n" [4936,4950]
                            OBJECT [4952,5047]
                                FIELD [4953,4973]
                                    String: "name" [4953,4959]
                                    STRING [4960,4973]
                                        String: "Environment" [4960,4973]
                                FIELD [4974,5009]
                                    String: "working-directory" [4974,4993]
                                    STRING [4994,5009]
                                        String: "/transformers" [4994,5009]
                                FIELD [5010,5046]
                                    String: "run" [5010,5015]
                                    STRING [5016,5046]
                                        String: "python3 utils/print_env.py\n" [5016,5046]
                            OBJECT [5048,5321]
                                FIELD [5049,5096]
                                    String: "name" [5049,5055]
                                    STRING [5056,5096]
                                        String: "Run all non-slow selected tests on GPU" [5056,5096]
                                FIELD [5097,5132]
                                    String: "working-directory" [5097,5116]
                                    STRING [5117,5132]
                                        String: "/transformers" [5117,5132]
                                FIELD [5133,5320]
                                    String: "run" [5133,5138]
                                    STRING [5139,5320]
                                        String: "python3 -m pytest -n 2 --dist=loadfile -v --make-reports=${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }} ${{ fromJson(needs.setup.outputs.test_map)[matrix.folders] }}\n" [5139,5320]
                            OBJECT [5322,5515]
                                FIELD [5323,5353]
                                    String: "name" [5323,5329]
                                    STRING [5330,5353]
                                        String: "Failure short reports" [5330,5353]
                                FIELD [5354,5377]
                                    String: "if" [5354,5358]
                                    STRING [5359,5377]
                                        String: "${{ failure() }}" [5359,5377]
                                FIELD [5378,5402]
                                    String: "continue-on-error" [5378,5397]
                                    TRUE [5398,5402]
                                FIELD [5403,5514]
                                    String: "run" [5403,5408]
                                    STRING [5409,5514]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [5409,5514]
                            OBJECT [5516,5806]
                                FIELD [5517,5554]
                                    String: "name" [5517,5523]
                                    STRING [5524,5554]
                                        String: "Test suite reports artifacts" [5524,5554]
                                FIELD [5555,5577]
                                    String: "if" [5555,5559]
                                    STRING [5560,5577]
                                        String: "${{ always() }}" [5560,5577]
                                FIELD [5578,5613]
                                    String: "uses" [5578,5584]
                                    STRING [5585,5613]
                                        String: "actions/upload-artifact@v2" [5585,5613]
                                FIELD [5614,5805]
                                    String: "with" [5614,5620]
                                    OBJECT [5621,5805]
                                        FIELD [5622,5714]
                                            String: "name" [5622,5628]
                                            STRING [5629,5714]
                                                String: "${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports" [5629,5714]
                                        FIELD [5715,5804]
                                            String: "path" [5715,5721]
                                            STRING [5722,5804]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}" [5722,5804]
            FIELD [5809,8765]
                String: "run_tests_multi_gpu" [5809,5830]
                OBJECT [5831,8765]
                    FIELD [5832,5852]
                        String: "name" [5832,5838]
                        STRING [5839,5852]
                            String: "Model tests" [5839,5852]
                    FIELD [5853,5868]
                        String: "needs" [5853,5860]
                        STRING [5861,5868]
                            String: "setup" [5861,5868]
                    FIELD [5869,5939]
                        String: "if" [5869,5873]
                        STRING [5874,5939]
                            String: "contains(fromJson(needs.setup.outputs.matrix), 'dummy') != true" [5874,5939]
                    FIELD [5940,6066]
                        String: "strategy" [5940,5950]
                        OBJECT [5951,6066]
                            FIELD [5952,5969]
                                String: "fail-fast" [5952,5963]
                                FALSE [5964,5969]
                            FIELD [5970,6065]
                                String: "matrix" [5970,5978]
                                OBJECT [5979,6065]
                                    FIELD [5980,6035]
                                        String: "folders" [5980,5989]
                                        STRING [5990,6035]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [5990,6035]
                                    FIELD [6036,6064]
                                        String: "machine_type" [6036,6050]
                                        ARRAY [6051,6064]
                                            STRING [6052,6063]
                                                String: "multi-gpu" [6052,6063]
                    FIELD [6067,6134]
                        String: "runs-on" [6067,6076]
                        ARRAY [6077,6134]
                            STRING [6078,6091]
                                String: "self-hosted" [6078,6091]
                            STRING [6092,6104]
                                String: "docker-gpu" [6092,6104]
                            STRING [6105,6133]
                                String: "${{ matrix.machine_type }}" [6105,6133]
                    FIELD [6135,6297]
                        String: "container" [6135,6146]
                        OBJECT [6147,6297]
                            FIELD [6148,6197]
                                String: "image" [6148,6155]
                                STRING [6156,6197]
                                    String: "huggingface/transformers-all-latest-gpu" [6156,6197]
                            FIELD [6198,6296]
                                String: "options" [6198,6207]
                                STRING [6208,6296]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [6208,6296]
                    FIELD [6298,8764]
                        String: "steps" [6298,6305]
                        ARRAY [6306,8764]
                            OBJECT [6307,7024]
                                FIELD [6308,6353]
                                    String: "name" [6308,6314]
                                    STRING [6315,6353]
                                        String: "Prepare custom environment variables" [6315,6353]
                                FIELD [6354,6368]
                                    String: "shell" [6354,6361]
                                    STRING [6362,6368]
                                        String: "bash" [6362,6368]
                                FIELD [6369,7023]
                                    String: "run" [6369,6374]
                                    STRING [6375,7023]
                                        String: "CI_BRANCH_PUSH=${{ github.event.ref }}\nCI_BRANCH_PUSH=${CI_BRANCH_PUSH/'refs/heads/'/''}\nCI_BRANCH_WORKFLOW_RUN=${{ github.event.workflow_run.head_branch }}\nCI_SHA_PUSH=${{ github.event.head_commit.id }}\nCI_SHA_WORKFLOW_RUN=${{ github.event.workflow_run.head_sha }}\necho $CI_BRANCH_PUSH\necho $CI_BRANCH_WORKFLOW_RUN\necho $CI_SHA_PUSH\necho $CI_SHA_WORKFLOW_RUN\n[[ ! -z \"$CI_BRANCH_PUSH\" ]] && echo \"CI_BRANCH=$CI_BRANCH_PUSH\" >> $GITHUB_ENV || echo \"CI_BRANCH=$CI_BRANCH_WORKFLOW_RUN\" >> $GITHUB_ENV\n[[ ! -z \"$CI_SHA_PUSH\" ]] && echo \"CI_SHA=$CI_SHA_PUSH\" >> $GITHUB_ENV || echo \"CI_SHA=$CI_SHA_WORKFLOW_RUN\" >> $GITHUB_ENV\n" [6375,7023]
                            OBJECT [7025,7160]
                                FIELD [7026,7062]
                                    String: "name" [7026,7032]
                                    STRING [7033,7062]
                                        String: "print environment variables" [7033,7062]
                                FIELD [7063,7159]
                                    String: "run" [7063,7068]
                                    STRING [7069,7159]
                                        String: "echo \"env.CI_BRANCH = ${{ env.CI_BRANCH }}\"\necho \"env.CI_SHA = ${{ env.CI_SHA }}\"\n" [7069,7159]
                            OBJECT [7161,7482]
                                FIELD [7162,7211]
                                    String: "name" [7162,7168]
                                    STRING [7169,7211]
                                        String: "Update clone using environment variables" [7169,7211]
                                FIELD [7212,7247]
                                    String: "working-directory" [7212,7231]
                                    STRING [7232,7247]
                                        String: "/transformers" [7232,7247]
                                FIELD [7248,7481]
                                    String: "run" [7248,7253]
                                    STRING [7254,7481]
                                        String: "echo \"original branch = $(git branch --show-current)\"\ngit fetch && git checkout ${{ env.CI_BRANCH }}\necho \"updated branch = $(git branch --show-current)\"\ngit checkout ${{ env.CI_SHA }}\necho \"log = $(git log -n 1)\"\n" [7254,7481]
                            OBJECT [7483,7829]
                                FIELD [7484,7526]
                                    String: "name" [7484,7490]
                                    STRING [7491,7526]
                                        String: "Echo folder ${{ matrix.folders }}" [7491,7526]
                                FIELD [7527,7541]
                                    String: "shell" [7527,7534]
                                    STRING [7535,7541]
                                        String: "bash" [7535,7541]
                                FIELD [7542,7828]
                                    String: "run" [7542,7547]
                                    STRING [7548,7828]
                                        String: "echo \"${{ matrix.folders }}\"\necho \"${{ fromJson(needs.setup.outputs.test_map)[matrix.folders] }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [7548,7828]
                            OBJECT [7830,7872]
                                FIELD [7831,7850]
                                    String: "name" [7831,7837]
                                    STRING [7838,7850]
                                        String: "NVIDIA-SMI" [7838,7850]
                                FIELD [7851,7871]
                                    String: "run" [7851,7856]
                                    STRING [7857,7871]
                                        String: "nvidia-smi\n" [7857,7871]
                            OBJECT [7873,7968]
                                FIELD [7874,7894]
                                    String: "name" [7874,7880]
                                    STRING [7881,7894]
                                        String: "Environment" [7881,7894]
                                FIELD [7895,7930]
                                    String: "working-directory" [7895,7914]
                                    STRING [7915,7930]
                                        String: "/transformers" [7915,7930]
                                FIELD [7931,7967]
                                    String: "run" [7931,7936]
                                    STRING [7937,7967]
                                        String: "python3 utils/print_env.py\n" [7937,7967]
                            OBJECT [7969,8278]
                                FIELD [7970,8017]
                                    String: "name" [7970,7976]
                                    STRING [7977,8017]
                                        String: "Run all non-slow selected tests on GPU" [7977,8017]
                                FIELD [8018,8053]
                                    String: "env" [8018,8023]
                                    OBJECT [8024,8053]
                                        FIELD [8025,8052]
                                            String: "MKL_SERVICE_FORCE_INTEL" [8025,8050]
                                            NUMBER [8051,8052]
                                                Number: 1 [8051,8052]
                                FIELD [8054,8089]
                                    String: "working-directory" [8054,8073]
                                    STRING [8074,8089]
                                        String: "/transformers" [8074,8089]
                                FIELD [8090,8277]
                                    String: "run" [8090,8095]
                                    STRING [8096,8277]
                                        String: "python3 -m pytest -n 2 --dist=loadfile -v --make-reports=${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }} ${{ fromJson(needs.setup.outputs.test_map)[matrix.folders] }}\n" [8096,8277]
                            OBJECT [8279,8472]
                                FIELD [8280,8310]
                                    String: "name" [8280,8286]
                                    STRING [8287,8310]
                                        String: "Failure short reports" [8287,8310]
                                FIELD [8311,8334]
                                    String: "if" [8311,8315]
                                    STRING [8316,8334]
                                        String: "${{ failure() }}" [8316,8334]
                                FIELD [8335,8359]
                                    String: "continue-on-error" [8335,8354]
                                    TRUE [8355,8359]
                                FIELD [8360,8471]
                                    String: "run" [8360,8365]
                                    STRING [8366,8471]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [8366,8471]
                            OBJECT [8473,8763]
                                FIELD [8474,8511]
                                    String: "name" [8474,8480]
                                    STRING [8481,8511]
                                        String: "Test suite reports artifacts" [8481,8511]
                                FIELD [8512,8534]
                                    String: "if" [8512,8516]
                                    STRING [8517,8534]
                                        String: "${{ always() }}" [8517,8534]
                                FIELD [8535,8570]
                                    String: "uses" [8535,8541]
                                    STRING [8542,8570]
                                        String: "actions/upload-artifact@v2" [8542,8570]
                                FIELD [8571,8762]
                                    String: "with" [8571,8577]
                                    OBJECT [8578,8762]
                                        FIELD [8579,8671]
                                            String: "name" [8579,8585]
                                            STRING [8586,8671]
                                                String: "${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports" [8586,8671]
                                        FIELD [8672,8761]
                                            String: "path" [8672,8678]
                                            STRING [8679,8761]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}" [8679,8761]
            FIELD [8766,11703]
                String: "run_tests_torch_cuda_extensions_single_gpu" [8766,8810]
                OBJECT [8811,11703]
                    FIELD [8812,8847]
                        String: "name" [8812,8818]
                        STRING [8819,8847]
                            String: "Torch CUDA extension tests" [8819,8847]
                    FIELD [8848,8863]
                        String: "needs" [8848,8855]
                        STRING [8856,8863]
                            String: "setup" [8856,8863]
                    FIELD [8864,8992]
                        String: "if" [8864,8868]
                        STRING [8869,8992]
                            String: "contains(fromJson(needs.setup.outputs.matrix), 'deepspeed') || contains(fromJson(needs.setup.outputs.matrix), 'extended')" [8869,8992]
                    FIELD [8993,9064]
                        String: "strategy" [8993,9003]
                        OBJECT [9004,9064]
                            FIELD [9005,9022]
                                String: "fail-fast" [9005,9016]
                                FALSE [9017,9022]
                            FIELD [9023,9063]
                                String: "matrix" [9023,9031]
                                OBJECT [9032,9063]
                                    FIELD [9033,9062]
                                        String: "machine_type" [9033,9047]
                                        ARRAY [9048,9062]
                                            STRING [9049,9061]
                                                String: "single-gpu" [9049,9061]
                    FIELD [9065,9132]
                        String: "runs-on" [9065,9074]
                        ARRAY [9075,9132]
                            STRING [9076,9089]
                                String: "self-hosted" [9076,9089]
                            STRING [9090,9102]
                                String: "docker-gpu" [9090,9102]
                            STRING [9103,9131]
                                String: "${{ matrix.machine_type }}" [9103,9131]
                    FIELD [9133,9307]
                        String: "container" [9133,9144]
                        OBJECT [9145,9307]
                            FIELD [9146,9209]
                                String: "image" [9146,9153]
                                STRING [9154,9209]
                                    String: "huggingface/transformers-pytorch-deepspeed-latest-gpu" [9154,9209]
                            FIELD [9210,9306]
                                String: "options" [9210,9219]
                                STRING [9220,9306]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [9220,9306]
                    FIELD [9308,11702]
                        String: "steps" [9308,9315]
                        ARRAY [9316,11702]
                            OBJECT [9317,10034]
                                FIELD [9318,9363]
                                    String: "name" [9318,9324]
                                    STRING [9325,9363]
                                        String: "Prepare custom environment variables" [9325,9363]
                                FIELD [9364,9378]
                                    String: "shell" [9364,9371]
                                    STRING [9372,9378]
                                        String: "bash" [9372,9378]
                                FIELD [9379,10033]
                                    String: "run" [9379,9384]
                                    STRING [9385,10033]
                                        String: "CI_BRANCH_PUSH=${{ github.event.ref }}\nCI_BRANCH_PUSH=${CI_BRANCH_PUSH/'refs/heads/'/''}\nCI_BRANCH_WORKFLOW_RUN=${{ github.event.workflow_run.head_branch }}\nCI_SHA_PUSH=${{ github.event.head_commit.id }}\nCI_SHA_WORKFLOW_RUN=${{ github.event.workflow_run.head_sha }}\necho $CI_BRANCH_PUSH\necho $CI_BRANCH_WORKFLOW_RUN\necho $CI_SHA_PUSH\necho $CI_SHA_WORKFLOW_RUN\n[[ ! -z \"$CI_BRANCH_PUSH\" ]] && echo \"CI_BRANCH=$CI_BRANCH_PUSH\" >> $GITHUB_ENV || echo \"CI_BRANCH=$CI_BRANCH_WORKFLOW_RUN\" >> $GITHUB_ENV\n[[ ! -z \"$CI_SHA_PUSH\" ]] && echo \"CI_SHA=$CI_SHA_PUSH\" >> $GITHUB_ENV || echo \"CI_SHA=$CI_SHA_WORKFLOW_RUN\" >> $GITHUB_ENV\n" [9385,10033]
                            OBJECT [10035,10170]
                                FIELD [10036,10072]
                                    String: "name" [10036,10042]
                                    STRING [10043,10072]
                                        String: "print environment variables" [10043,10072]
                                FIELD [10073,10169]
                                    String: "run" [10073,10078]
                                    STRING [10079,10169]
                                        String: "echo \"env.CI_BRANCH = ${{ env.CI_BRANCH }}\"\necho \"env.CI_SHA = ${{ env.CI_SHA }}\"\n" [10079,10169]
                            OBJECT [10171,10502]
                                FIELD [10172,10221]
                                    String: "name" [10172,10178]
                                    STRING [10179,10221]
                                        String: "Update clone using environment variables" [10179,10221]
                                FIELD [10222,10267]
                                    String: "working-directory" [10222,10241]
                                    STRING [10242,10267]
                                        String: "/workspace/transformers" [10242,10267]
                                FIELD [10268,10501]
                                    String: "run" [10268,10273]
                                    STRING [10274,10501]
                                        String: "echo \"original branch = $(git branch --show-current)\"\ngit fetch && git checkout ${{ env.CI_BRANCH }}\necho \"updated branch = $(git branch --show-current)\"\ngit checkout ${{ env.CI_SHA }}\necho \"log = $(git log -n 1)\"\n" [10274,10501]
                            OBJECT [10503,10804]
                                FIELD [10504,10540]
                                    String: "name" [10504,10510]
                                    STRING [10511,10540]
                                        String: "Pre build DeepSpeed *again*" [10511,10540]
                                FIELD [10541,10573]
                                    String: "working-directory" [10541,10560]
                                    STRING [10561,10573]
                                        String: "/workspace" [10561,10573]
                                FIELD [10574,10803]
                                    String: "run" [10574,10579]
                                    STRING [10580,10803]
                                        String: "python3 -m pip uninstall -y deepspeed\nDS_BUILD_CPU_ADAM=1 DS_BUILD_AIO=1 DS_BUILD_UTILS=1 python3 -m pip install deepspeed --global-option=\"build_ext\" --global-option=\"-j8\" --no-cache -v --disable-pip-version-check\n" [10580,10803]
                            OBJECT [10805,10847]
                                FIELD [10806,10825]
                                    String: "name" [10806,10812]
                                    STRING [10813,10825]
                                        String: "NVIDIA-SMI" [10813,10825]
                                FIELD [10826,10846]
                                    String: "run" [10826,10831]
                                    STRING [10832,10846]
                                        String: "nvidia-smi\n" [10832,10846]
                            OBJECT [10848,10952]
                                FIELD [10849,10869]
                                    String: "name" [10849,10855]
                                    STRING [10856,10869]
                                        String: "Environment" [10856,10869]
                                FIELD [10870,10915]
                                    String: "working-directory" [10870,10889]
                                    STRING [10890,10915]
                                        String: "/workspace/transformers" [10890,10915]
                                FIELD [10916,10951]
                                    String: "run" [10916,10921]
                                    STRING [10922,10951]
                                        String: "python utils/print_env.py\n" [10922,10951]
                            OBJECT [10953,11204]
                                FIELD [10954,11001]
                                    String: "name" [10954,10960]
                                    STRING [10961,11001]
                                        String: "Run all non-slow selected tests on GPU" [10961,11001]
                                FIELD [11002,11047]
                                    String: "working-directory" [11002,11021]
                                    STRING [11022,11047]
                                        String: "/workspace/transformers" [11022,11047]
                                FIELD [11048,11203]
                                    String: "run" [11048,11053]
                                    STRING [11054,11203]
                                        String: "python -m pytest -n 1 --dist=loadfile -v --make-reports=${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [11054,11203]
                            OBJECT [11205,11408]
                                FIELD [11206,11236]
                                    String: "name" [11206,11212]
                                    STRING [11213,11236]
                                        String: "Failure short reports" [11213,11236]
                                FIELD [11237,11260]
                                    String: "if" [11237,11241]
                                    STRING [11242,11260]
                                        String: "${{ failure() }}" [11242,11260]
                                FIELD [11261,11285]
                                    String: "continue-on-error" [11261,11280]
                                    TRUE [11281,11285]
                                FIELD [11286,11407]
                                    String: "run" [11286,11291]
                                    STRING [11292,11407]
                                        String: "cat /workspace/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu/failures_short.txt" [11292,11407]
                            OBJECT [11409,11701]
                                FIELD [11410,11447]
                                    String: "name" [11410,11416]
                                    STRING [11417,11447]
                                        String: "Test suite reports artifacts" [11417,11447]
                                FIELD [11448,11470]
                                    String: "if" [11448,11452]
                                    STRING [11453,11470]
                                        String: "${{ always() }}" [11453,11470]
                                FIELD [11471,11506]
                                    String: "uses" [11471,11477]
                                    STRING [11478,11506]
                                        String: "actions/upload-artifact@v2" [11478,11506]
                                FIELD [11507,11700]
                                    String: "with" [11507,11513]
                                    OBJECT [11514,11700]
                                        FIELD [11515,11599]
                                            String: "name" [11515,11521]
                                            STRING [11522,11599]
                                                String: "${{ matrix.machine_type }}_run_tests_torch_cuda_extensions_gpu_test_reports" [11522,11599]
                                        FIELD [11600,11699]
                                            String: "path" [11600,11606]
                                            STRING [11607,11699]
                                                String: "/workspace/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu" [11607,11699]
            FIELD [11704,14641]
                String: "run_tests_torch_cuda_extensions_multi_gpu" [11704,11747]
                OBJECT [11748,14641]
                    FIELD [11749,11784]
                        String: "name" [11749,11755]
                        STRING [11756,11784]
                            String: "Torch CUDA extension tests" [11756,11784]
                    FIELD [11785,11800]
                        String: "needs" [11785,11792]
                        STRING [11793,11800]
                            String: "setup" [11793,11800]
                    FIELD [11801,11929]
                        String: "if" [11801,11805]
                        STRING [11806,11929]
                            String: "contains(fromJson(needs.setup.outputs.matrix), 'deepspeed') || contains(fromJson(needs.setup.outputs.matrix), 'extended')" [11806,11929]
                    FIELD [11930,12000]
                        String: "strategy" [11930,11940]
                        OBJECT [11941,12000]
                            FIELD [11942,11959]
                                String: "fail-fast" [11942,11953]
                                FALSE [11954,11959]
                            FIELD [11960,11999]
                                String: "matrix" [11960,11968]
                                OBJECT [11969,11999]
                                    FIELD [11970,11998]
                                        String: "machine_type" [11970,11984]
                                        ARRAY [11985,11998]
                                            STRING [11986,11997]
                                                String: "multi-gpu" [11986,11997]
                    FIELD [12001,12068]
                        String: "runs-on" [12001,12010]
                        ARRAY [12011,12068]
                            STRING [12012,12025]
                                String: "self-hosted" [12012,12025]
                            STRING [12026,12038]
                                String: "docker-gpu" [12026,12038]
                            STRING [12039,12067]
                                String: "${{ matrix.machine_type }}" [12039,12067]
                    FIELD [12069,12245]
                        String: "container" [12069,12080]
                        OBJECT [12081,12245]
                            FIELD [12082,12145]
                                String: "image" [12082,12089]
                                STRING [12090,12145]
                                    String: "huggingface/transformers-pytorch-deepspeed-latest-gpu" [12090,12145]
                            FIELD [12146,12244]
                                String: "options" [12146,12155]
                                STRING [12156,12244]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [12156,12244]
                    FIELD [12246,14640]
                        String: "steps" [12246,12253]
                        ARRAY [12254,14640]
                            OBJECT [12255,12972]
                                FIELD [12256,12301]
                                    String: "name" [12256,12262]
                                    STRING [12263,12301]
                                        String: "Prepare custom environment variables" [12263,12301]
                                FIELD [12302,12316]
                                    String: "shell" [12302,12309]
                                    STRING [12310,12316]
                                        String: "bash" [12310,12316]
                                FIELD [12317,12971]
                                    String: "run" [12317,12322]
                                    STRING [12323,12971]
                                        String: "CI_BRANCH_PUSH=${{ github.event.ref }}\nCI_BRANCH_PUSH=${CI_BRANCH_PUSH/'refs/heads/'/''}\nCI_BRANCH_WORKFLOW_RUN=${{ github.event.workflow_run.head_branch }}\nCI_SHA_PUSH=${{ github.event.head_commit.id }}\nCI_SHA_WORKFLOW_RUN=${{ github.event.workflow_run.head_sha }}\necho $CI_BRANCH_PUSH\necho $CI_BRANCH_WORKFLOW_RUN\necho $CI_SHA_PUSH\necho $CI_SHA_WORKFLOW_RUN\n[[ ! -z \"$CI_BRANCH_PUSH\" ]] && echo \"CI_BRANCH=$CI_BRANCH_PUSH\" >> $GITHUB_ENV || echo \"CI_BRANCH=$CI_BRANCH_WORKFLOW_RUN\" >> $GITHUB_ENV\n[[ ! -z \"$CI_SHA_PUSH\" ]] && echo \"CI_SHA=$CI_SHA_PUSH\" >> $GITHUB_ENV || echo \"CI_SHA=$CI_SHA_WORKFLOW_RUN\" >> $GITHUB_ENV\n" [12323,12971]
                            OBJECT [12973,13108]
                                FIELD [12974,13010]
                                    String: "name" [12974,12980]
                                    STRING [12981,13010]
                                        String: "print environment variables" [12981,13010]
                                FIELD [13011,13107]
                                    String: "run" [13011,13016]
                                    STRING [13017,13107]
                                        String: "echo \"env.CI_BRANCH = ${{ env.CI_BRANCH }}\"\necho \"env.CI_SHA = ${{ env.CI_SHA }}\"\n" [13017,13107]
                            OBJECT [13109,13440]
                                FIELD [13110,13159]
                                    String: "name" [13110,13116]
                                    STRING [13117,13159]
                                        String: "Update clone using environment variables" [13117,13159]
                                FIELD [13160,13205]
                                    String: "working-directory" [13160,13179]
                                    STRING [13180,13205]
                                        String: "/workspace/transformers" [13180,13205]
                                FIELD [13206,13439]
                                    String: "run" [13206,13211]
                                    STRING [13212,13439]
                                        String: "echo \"original branch = $(git branch --show-current)\"\ngit fetch && git checkout ${{ env.CI_BRANCH }}\necho \"updated branch = $(git branch --show-current)\"\ngit checkout ${{ env.CI_SHA }}\necho \"log = $(git log -n 1)\"\n" [13212,13439]
                            OBJECT [13441,13742]
                                FIELD [13442,13478]
                                    String: "name" [13442,13448]
                                    STRING [13449,13478]
                                        String: "Pre build DeepSpeed *again*" [13449,13478]
                                FIELD [13479,13511]
                                    String: "working-directory" [13479,13498]
                                    STRING [13499,13511]
                                        String: "/workspace" [13499,13511]
                                FIELD [13512,13741]
                                    String: "run" [13512,13517]
                                    STRING [13518,13741]
                                        String: "python3 -m pip uninstall -y deepspeed\nDS_BUILD_CPU_ADAM=1 DS_BUILD_AIO=1 DS_BUILD_UTILS=1 python3 -m pip install deepspeed --global-option=\"build_ext\" --global-option=\"-j8\" --no-cache -v --disable-pip-version-check\n" [13518,13741]
                            OBJECT [13743,13785]
                                FIELD [13744,13763]
                                    String: "name" [13744,13750]
                                    STRING [13751,13763]
                                        String: "NVIDIA-SMI" [13751,13763]
                                FIELD [13764,13784]
                                    String: "run" [13764,13769]
                                    STRING [13770,13784]
                                        String: "nvidia-smi\n" [13770,13784]
                            OBJECT [13786,13890]
                                FIELD [13787,13807]
                                    String: "name" [13787,13793]
                                    STRING [13794,13807]
                                        String: "Environment" [13794,13807]
                                FIELD [13808,13853]
                                    String: "working-directory" [13808,13827]
                                    STRING [13828,13853]
                                        String: "/workspace/transformers" [13828,13853]
                                FIELD [13854,13889]
                                    String: "run" [13854,13859]
                                    STRING [13860,13889]
                                        String: "python utils/print_env.py\n" [13860,13889]
                            OBJECT [13891,14142]
                                FIELD [13892,13939]
                                    String: "name" [13892,13898]
                                    STRING [13899,13939]
                                        String: "Run all non-slow selected tests on GPU" [13899,13939]
                                FIELD [13940,13985]
                                    String: "working-directory" [13940,13959]
                                    STRING [13960,13985]
                                        String: "/workspace/transformers" [13960,13985]
                                FIELD [13986,14141]
                                    String: "run" [13986,13991]
                                    STRING [13992,14141]
                                        String: "python -m pytest -n 1 --dist=loadfile -v --make-reports=${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [13992,14141]
                            OBJECT [14143,14346]
                                FIELD [14144,14174]
                                    String: "name" [14144,14150]
                                    STRING [14151,14174]
                                        String: "Failure short reports" [14151,14174]
                                FIELD [14175,14198]
                                    String: "if" [14175,14179]
                                    STRING [14180,14198]
                                        String: "${{ failure() }}" [14180,14198]
                                FIELD [14199,14223]
                                    String: "continue-on-error" [14199,14218]
                                    TRUE [14219,14223]
                                FIELD [14224,14345]
                                    String: "run" [14224,14229]
                                    STRING [14230,14345]
                                        String: "cat /workspace/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu/failures_short.txt" [14230,14345]
                            OBJECT [14347,14639]
                                FIELD [14348,14385]
                                    String: "name" [14348,14354]
                                    STRING [14355,14385]
                                        String: "Test suite reports artifacts" [14355,14385]
                                FIELD [14386,14408]
                                    String: "if" [14386,14390]
                                    STRING [14391,14408]
                                        String: "${{ always() }}" [14391,14408]
                                FIELD [14409,14444]
                                    String: "uses" [14409,14415]
                                    STRING [14416,14444]
                                        String: "actions/upload-artifact@v2" [14416,14444]
                                FIELD [14445,14638]
                                    String: "with" [14445,14451]
                                    OBJECT [14452,14638]
                                        FIELD [14453,14537]
                                            String: "name" [14453,14459]
                                            STRING [14460,14537]
                                                String: "${{ matrix.machine_type }}_run_tests_torch_cuda_extensions_gpu_test_reports" [14460,14537]
                                        FIELD [14538,14637]
                                            String: "path" [14538,14544]
                                            STRING [14545,14637]
                                                String: "/workspace/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu" [14545,14637]
            FIELD [14642,16767]
                String: "send_results" [14642,14656]
                OBJECT [14657,16767]
                    FIELD [14658,14690]
                        String: "name" [14658,14664]
                        STRING [14665,14690]
                            String: "Send results to webhook" [14665,14690]
                    FIELD [14691,14716]
                        String: "runs-on" [14691,14700]
                        STRING [14701,14716]
                            String: "ubuntu-latest" [14701,14716]
                    FIELD [14717,14732]
                        String: "if" [14717,14721]
                        STRING [14722,14732]
                            String: "always()" [14722,14732]
                    FIELD [14733,14884]
                        String: "needs" [14733,14740]
                        ARRAY [14741,14884]
                            STRING [14742,14749]
                                String: "setup" [14742,14749]
                            STRING [14750,14772]
                                String: "run_tests_single_gpu" [14750,14772]
                            STRING [14773,14794]
                                String: "run_tests_multi_gpu" [14773,14794]
                            STRING [14795,14839]
                                String: "run_tests_torch_cuda_extensions_single_gpu" [14795,14839]
                            STRING [14840,14883]
                                String: "run_tests_torch_cuda_extensions_multi_gpu" [14840,14883]
                    FIELD [14885,16766]
                        String: "steps" [14885,14892]
                        ARRAY [14893,16766]
                            OBJECT [14894,15611]
                                FIELD [14895,14940]
                                    String: "name" [14895,14901]
                                    STRING [14902,14940]
                                        String: "Prepare custom environment variables" [14902,14940]
                                FIELD [14941,14955]
                                    String: "shell" [14941,14948]
                                    STRING [14949,14955]
                                        String: "bash" [14949,14955]
                                FIELD [14956,15610]
                                    String: "run" [14956,14961]
                                    STRING [14962,15610]
                                        String: "CI_BRANCH_PUSH=${{ github.event.ref }}\nCI_BRANCH_PUSH=${CI_BRANCH_PUSH/'refs/heads/'/''}\nCI_BRANCH_WORKFLOW_RUN=${{ github.event.workflow_run.head_branch }}\nCI_SHA_PUSH=${{ github.event.head_commit.id }}\nCI_SHA_WORKFLOW_RUN=${{ github.event.workflow_run.head_sha }}\necho $CI_BRANCH_PUSH\necho $CI_BRANCH_WORKFLOW_RUN\necho $CI_SHA_PUSH\necho $CI_SHA_WORKFLOW_RUN\n[[ ! -z \"$CI_BRANCH_PUSH\" ]] && echo \"CI_BRANCH=$CI_BRANCH_PUSH\" >> $GITHUB_ENV || echo \"CI_BRANCH=$CI_BRANCH_WORKFLOW_RUN\" >> $GITHUB_ENV\n[[ ! -z \"$CI_SHA_PUSH\" ]] && echo \"CI_SHA=$CI_SHA_PUSH\" >> $GITHUB_ENV || echo \"CI_SHA=$CI_SHA_WORKFLOW_RUN\" >> $GITHUB_ENV\n" [14962,15610]
                            OBJECT [15612,15747]
                                FIELD [15613,15649]
                                    String: "name" [15613,15619]
                                    STRING [15620,15649]
                                        String: "print environment variables" [15620,15649]
                                FIELD [15650,15746]
                                    String: "run" [15650,15655]
                                    STRING [15656,15746]
                                        String: "echo \"env.CI_BRANCH = ${{ env.CI_BRANCH }}\"\necho \"env.CI_SHA = ${{ env.CI_SHA }}\"\n" [15656,15746]
                            OBJECT [15748,15778]
                                FIELD [15749,15777]
                                    String: "uses" [15749,15755]
                                    STRING [15756,15777]
                                        String: "actions/checkout@v2" [15756,15777]
                            OBJECT [15779,16064]
                                FIELD [15780,15829]
                                    String: "name" [15780,15786]
                                    STRING [15787,15829]
                                        String: "Update clone using environment variables" [15787,15829]
                                FIELD [15830,16063]
                                    String: "run" [15830,15835]
                                    STRING [15836,16063]
                                        String: "echo \"original branch = $(git branch --show-current)\"\ngit fetch && git checkout ${{ env.CI_BRANCH }}\necho \"updated branch = $(git branch --show-current)\"\ngit checkout ${{ env.CI_SHA }}\necho \"log = $(git log -n 1)\"\n" [15836,16063]
                            OBJECT [16065,16104]
                                FIELD [16066,16103]
                                    String: "uses" [16066,16072]
                                    STRING [16073,16103]
                                        String: "actions/download-artifact@v2" [16073,16103]
                            OBJECT [16105,16765]
                                FIELD [16106,16136]
                                    String: "name" [16106,16112]
                                    STRING [16113,16136]
                                        String: "Send message to Slack" [16113,16136]
                                FIELD [16137,16658]
                                    String: "env" [16137,16142]
                                    OBJECT [16143,16658]
                                        FIELD [16144,16200]
                                            String: "CI_SLACK_BOT_TOKEN" [16144,16164]
                                            STRING [16165,16200]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [16165,16200]
                                        FIELD [16201,16259]
                                            String: "CI_SLACK_CHANNEL_ID" [16201,16222]
                                            STRING [16223,16259]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [16223,16259]
                                        FIELD [16260,16330]
                                            String: "CI_SLACK_CHANNEL_ID_DAILY" [16260,16287]
                                            STRING [16288,16330]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY }}" [16288,16330]
                                        FIELD [16331,16407]
                                            String: "CI_SLACK_CHANNEL_DUMMY_TESTS" [16331,16361]
                                            STRING [16362,16407]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_DUMMY_TESTS }}" [16362,16407]
                                        FIELD [16408,16473]
                                            String: "CI_SLACK_REPORT_CHANNEL_ID" [16408,16436]
                                            STRING [16437,16473]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [16437,16473]
                                        FIELD [16474,16491]
                                            String: "CI_EVENT" [16474,16484]
                                            STRING [16485,16491]
                                                String: "push" [16485,16491]
                                        FIELD [16492,16549]
                                            String: "CI_TITLE_PUSH" [16492,16507]
                                            STRING [16508,16549]
                                                String: "${{ github.event.head_commit.message }}" [16508,16549]
                                        FIELD [16550,16628]
                                            String: "CI_TITLE_WORKFLOW_RUN" [16550,16573]
                                            STRING [16574,16628]
                                                String: "${{ github.event.workflow_run.head_commit.message }}" [16574,16628]
                                        FIELD [16629,16657]
                                            String: "CI_SHA" [16629,16637]
                                            STRING [16638,16657]
                                                String: "${{ env.CI_SHA }}" [16638,16657]
                                FIELD [16659,16764]
                                    String: "run" [16659,16664]
                                    STRING [16665,16764]
                                        String: "pip install slack_sdk\npython utils/notification_service.py \"${{ needs.setup.outputs.matrix }}\"" [16665,16764]