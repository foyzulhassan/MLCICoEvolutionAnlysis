OBJECT [0,10892]
    FIELD [1,16]
        String: "name" [1,7]
        STRING [8,16]
            String: "Master" [8,16]
    FIELD [17,132]
        String: "on" [17,21]
        OBJECT [22,132]
            FIELD [23,53]
                String: "push" [23,29]
                OBJECT [30,53]
                    FIELD [31,52]
                        String: "branches" [31,41]
                        ARRAY [42,52]
                            STRING [43,51]
                                String: "master" [43,51]
            FIELD [54,87]
                String: "release" [54,63]
                OBJECT [64,87]
                    FIELD [65,86]
                        String: "types" [65,72]
                        ARRAY [73,86]
                            STRING [74,85]
                                String: "published" [74,85]
            FIELD [88,131]
                String: "schedule" [88,98]
                ARRAY [99,131]
                    OBJECT [100,130]
                        FIELD [101,129]
                            String: "cron" [101,107]
                            STRING [108,129]
                                String: "37 11 * * 1,2,3,4,5" [108,129]
    FIELD [133,10891]
        String: "jobs" [133,139]
        OBJECT [140,10891]
            FIELD [141,707]
                String: "gpu_checks" [141,153]
                OBJECT [154,707]
                    FIELD [155,174]
                        String: "name" [155,161]
                        STRING [162,174]
                            String: "GPU Checks" [162,174]
                    FIELD [175,221]
                        String: "if" [175,179]
                        STRING [180,221]
                            String: "github.repository == 'allenai/allennlp'" [180,221]
                    FIELD [222,242]
                        String: "timeout-minutes" [222,239]
                        NUMBER [240,242]
                            Number: 15 [240,242]
                    FIELD [243,274]
                        String: "runs-on" [243,252]
                        ARRAY [253,274]
                            STRING [254,267]
                                String: "self-hosted" [254,267]
                            STRING [268,273]
                                String: "GPU" [268,273]
                    FIELD [275,706]
                        String: "steps" [275,282]
                        ARRAY [283,706]
                            OBJECT [284,314]
                                FIELD [285,313]
                                    String: "uses" [285,291]
                                    STRING [292,313]
                                        String: "actions/checkout@v2" [292,313]
                            OBJECT [315,526]
                                FIELD [316,339]
                                    String: "name" [316,322]
                                    STRING [323,339]
                                        String: "Set Docker tag" [323,339]
                                FIELD [340,525]
                                    String: "run" [340,345]
                                    STRING [346,525]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCKER_TAG=${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCKER_TAG=$GITHUB_SHA\" >> $GITHUB_ENV;\nfi\n" [346,525]
                            OBJECT [527,610]
                                FIELD [528,553]
                                    String: "name" [528,534]
                                    STRING [535,553]
                                        String: "Build test image" [535,553]
                                FIELD [554,609]
                                    String: "run" [554,559]
                                    STRING [560,609]
                                        String: "make docker-test-image DOCKER_TAG=$DOCKER_TAG\n" [560,609]
                            OBJECT [611,705]
                                FIELD [612,634]
                                    String: "name" [612,618]
                                    STRING [619,634]
                                        String: "Run GPU tests" [619,634]
                                FIELD [635,704]
                                    String: "run" [635,640]
                                    STRING [641,704]
                                        String: "make docker-test-run DOCKER_TAG=$DOCKER_TAG ARGS='gpu-test'\n" [641,704]
            FIELD [708,2013]
                String: "check_core" [708,720]
                OBJECT [721,2013]
                    FIELD [722,741]
                        String: "name" [722,728]
                        STRING [729,741]
                            String: "Check Core" [729,741]
                    FIELD [742,823]
                        String: "if" [742,746]
                        STRING [747,823]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [747,823]
                    FIELD [824,849]
                        String: "runs-on" [824,833]
                        STRING [834,849]
                            String: "ubuntu-latest" [834,849]
                    FIELD [850,896]
                        String: "strategy" [850,860]
                        OBJECT [861,896]
                            FIELD [862,895]
                                String: "matrix" [862,870]
                                OBJECT [871,895]
                                    FIELD [872,894]
                                        String: "python" [872,880]
                                        ARRAY [881,894]
                                            STRING [882,887]
                                                String: "3.7" [882,887]
                                            STRING [888,893]
                                                String: "3.8" [888,893]
                    FIELD [897,2012]
                        String: "steps" [897,904]
                        ARRAY [905,2012]
                            OBJECT [906,936]
                                FIELD [907,935]
                                    String: "uses" [907,913]
                                    STRING [914,935]
                                        String: "actions/checkout@v2" [914,935]
                            OBJECT [937,1042]
                                FIELD [938,959]
                                    String: "name" [938,944]
                                    STRING [945,959]
                                        String: "Setup Python" [945,959]
                                FIELD [960,992]
                                    String: "uses" [960,966]
                                    STRING [967,992]
                                        String: "actions/setup-python@v1" [967,992]
                                FIELD [993,1041]
                                    String: "with" [993,999]
                                    OBJECT [1000,1041]
                                        FIELD [1001,1040]
                                            String: "python-version" [1001,1017]
                                            STRING [1018,1040]
                                                String: "${{ matrix.python }}" [1018,1040]
                            OBJECT [1043,1242]
                                FIELD [1044,1069]
                                    String: "uses" [1044,1050]
                                    STRING [1051,1069]
                                        String: "actions/cache@v2" [1051,1069]
                                FIELD [1070,1241]
                                    String: "with" [1070,1076]
                                    OBJECT [1077,1241]
                                        FIELD [1078,1112]
                                            String: "path" [1078,1084]
                                            STRING [1085,1112]
                                                String: "${{ env.pythonLocation }}" [1085,1112]
                                        FIELD [1113,1240]
                                            String: "key" [1113,1118]
                                            STRING [1119,1240]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [1119,1240]
                            OBJECT [1243,1297]
                                FIELD [1244,1273]
                                    String: "name" [1244,1250]
                                    STRING [1251,1273]
                                        String: "Install requirements" [1251,1273]
                                FIELD [1274,1296]
                                    String: "run" [1274,1279]
                                    STRING [1280,1296]
                                        String: "make install\n" [1280,1296]
                            OBJECT [1298,1340]
                                FIELD [1299,1318]
                                    String: "name" [1299,1305]
                                    STRING [1306,1318]
                                        String: "Debug info" [1306,1318]
                                FIELD [1319,1339]
                                    String: "run" [1319,1324]
                                    STRING [1325,1339]
                                        String: "pip freeze\n" [1325,1339]
                            OBJECT [1341,1396]
                                FIELD [1342,1357]
                                    String: "name" [1342,1348]
                                    STRING [1349,1357]
                                        String: "Format" [1349,1357]
                                FIELD [1358,1373]
                                    String: "if" [1358,1362]
                                    STRING [1363,1373]
                                        String: "always()" [1363,1373]
                                FIELD [1374,1395]
                                    String: "run" [1374,1379]
                                    STRING [1380,1395]
                                        String: "make format\n" [1380,1395]
                            OBJECT [1397,1448]
                                FIELD [1398,1411]
                                    String: "name" [1398,1404]
                                    STRING [1405,1411]
                                        String: "Lint" [1405,1411]
                                FIELD [1412,1427]
                                    String: "if" [1412,1416]
                                    STRING [1417,1427]
                                        String: "always()" [1417,1427]
                                FIELD [1428,1447]
                                    String: "run" [1428,1433]
                                    STRING [1434,1447]
                                        String: "make lint\n" [1434,1447]
                            OBJECT [1449,1511]
                                FIELD [1450,1469]
                                    String: "name" [1450,1456]
                                    STRING [1457,1469]
                                        String: "Type check" [1457,1469]
                                FIELD [1470,1485]
                                    String: "if" [1470,1474]
                                    STRING [1475,1485]
                                        String: "always()" [1475,1485]
                                FIELD [1486,1510]
                                    String: "run" [1486,1491]
                                    STRING [1492,1510]
                                        String: "make typecheck\n" [1492,1510]
                            OBJECT [1512,1577]
                                FIELD [1513,1531]
                                    String: "name" [1513,1519]
                                    STRING [1520,1531]
                                        String: "Run tests" [1520,1531]
                                FIELD [1532,1547]
                                    String: "if" [1532,1536]
                                    STRING [1537,1547]
                                        String: "always()" [1537,1547]
                                FIELD [1548,1576]
                                    String: "run" [1548,1553]
                                    STRING [1554,1576]
                                        String: "make test-with-cov\n" [1554,1576]
                            OBJECT [1578,1812]
                                FIELD [1579,1614]
                                    String: "name" [1579,1585]
                                    STRING [1586,1614]
                                        String: "Upload coverage to Codecov" [1586,1614]
                                FIELD [1615,1718]
                                    String: "if" [1615,1619]
                                    STRING [1620,1718]
                                        String: "matrix.python == '3.7' && github.repository == 'allenai/allennlp' && github.event_name == 'push'" [1620,1718]
                                FIELD [1719,1753]
                                    String: "uses" [1719,1725]
                                    STRING [1726,1753]
                                        String: "codecov/codecov-action@v1" [1726,1753]
                                FIELD [1754,1811]
                                    String: "with" [1754,1760]
                                    OBJECT [1761,1811]
                                        FIELD [1762,1785]
                                            String: "file" [1762,1768]
                                            STRING [1769,1785]
                                                String: "./coverage.xml" [1769,1785]
                                        FIELD [1786,1810]
                                            String: "fail_ci_if_error" [1786,1804]
                                            FALSE [1805,1810]
                            OBJECT [1813,2011]
                                FIELD [1814,1831]
                                    String: "name" [1814,1820]
                                    STRING [1821,1831]
                                        String: "Clean up" [1821,1831]
                                FIELD [1832,1847]
                                    String: "if" [1832,1836]
                                    STRING [1837,1847]
                                        String: "always()" [1837,1847]
                                FIELD [1848,2010]
                                    String: "run" [1848,1853]
                                    STRING [1854,2010]
                                        String: "# Could run into issues with the cache if we don't uninstall the editable.\n# See https://github.com/pypa/pip/issues/4537.\npip uninstall --yes allennlp\n" [1854,2010]
            FIELD [2014,3058]
                String: "check_models" [2014,2028]
                OBJECT [2029,3058]
                    FIELD [2030,2051]
                        String: "name" [2030,2036]
                        STRING [2037,2051]
                            String: "Check Models" [2037,2051]
                    FIELD [2052,2133]
                        String: "if" [2052,2056]
                        STRING [2057,2133]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [2057,2133]
                    FIELD [2134,2159]
                        String: "runs-on" [2134,2143]
                        STRING [2144,2159]
                            String: "ubuntu-latest" [2144,2159]
                    FIELD [2160,2206]
                        String: "strategy" [2160,2170]
                        OBJECT [2171,2206]
                            FIELD [2172,2205]
                                String: "matrix" [2172,2180]
                                OBJECT [2181,2205]
                                    FIELD [2182,2204]
                                        String: "python" [2182,2190]
                                        ARRAY [2191,2204]
                                            STRING [2192,2197]
                                                String: "3.7" [2192,2197]
                                            STRING [2198,2203]
                                                String: "3.8" [2198,2203]
                    FIELD [2207,3057]
                        String: "steps" [2207,2214]
                        ARRAY [2215,3057]
                            OBJECT [2216,2246]
                                FIELD [2217,2245]
                                    String: "uses" [2217,2223]
                                    STRING [2224,2245]
                                        String: "actions/checkout@v2" [2224,2245]
                            OBJECT [2247,2352]
                                FIELD [2248,2269]
                                    String: "name" [2248,2254]
                                    STRING [2255,2269]
                                        String: "Setup Python" [2255,2269]
                                FIELD [2270,2302]
                                    String: "uses" [2270,2276]
                                    STRING [2277,2302]
                                        String: "actions/setup-python@v1" [2277,2302]
                                FIELD [2303,2351]
                                    String: "with" [2303,2309]
                                    OBJECT [2310,2351]
                                        FIELD [2311,2350]
                                            String: "python-version" [2311,2327]
                                            STRING [2328,2350]
                                                String: "${{ matrix.python }}" [2328,2350]
                            OBJECT [2353,2552]
                                FIELD [2354,2379]
                                    String: "uses" [2354,2360]
                                    STRING [2361,2379]
                                        String: "actions/cache@v2" [2361,2379]
                                FIELD [2380,2551]
                                    String: "with" [2380,2386]
                                    OBJECT [2387,2551]
                                        FIELD [2388,2422]
                                            String: "path" [2388,2394]
                                            STRING [2395,2422]
                                                String: "${{ env.pythonLocation }}" [2395,2422]
                                        FIELD [2423,2550]
                                            String: "key" [2423,2428]
                                            STRING [2429,2550]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [2429,2550]
                            OBJECT [2553,2607]
                                FIELD [2554,2583]
                                    String: "name" [2554,2560]
                                    STRING [2561,2583]
                                        String: "Install requirements" [2561,2583]
                                FIELD [2584,2606]
                                    String: "run" [2584,2589]
                                    STRING [2590,2606]
                                        String: "make install\n" [2590,2606]
                            OBJECT [2608,2650]
                                FIELD [2609,2628]
                                    String: "name" [2609,2615]
                                    STRING [2616,2628]
                                        String: "Debug info" [2616,2628]
                                FIELD [2629,2649]
                                    String: "run" [2629,2634]
                                    STRING [2635,2649]
                                        String: "pip freeze\n" [2635,2649]
                            OBJECT [2651,2895]
                                FIELD [2652,2689]
                                    String: "name" [2652,2658]
                                    STRING [2659,2689]
                                        String: "Pull and install models repo" [2659,2689]
                                FIELD [2690,2728]
                                    String: "env" [2690,2695]
                                    OBJECT [2696,2728]
                                        FIELD [2697,2727]
                                            String: "ALLENNLP_VERSION_OVERRIDE" [2697,2724]
                                            STRING [2725,2727]
                                                String: "" [2725,2727]
                                FIELD [2729,2894]
                                    String: "run" [2729,2734]
                                    STRING [2735,2894]
                                        String: "git clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models && pip install --upgrade --upgrade-strategy eager -e . -r dev-requirements.txt\n" [2735,2894]
                            OBJECT [2896,2965]
                                FIELD [2897,2922]
                                    String: "name" [2897,2903]
                                    STRING [2904,2922]
                                        String: "Run models tests" [2904,2922]
                                FIELD [2923,2964]
                                    String: "run" [2923,2928]
                                    STRING [2929,2964]
                                        String: "cd allennlp-models && make test\n" [2929,2964]
                            OBJECT [2966,3056]
                                FIELD [2967,2984]
                                    String: "name" [2967,2973]
                                    STRING [2974,2984]
                                        String: "Clean up" [2974,2984]
                                FIELD [2985,3000]
                                    String: "if" [2985,2989]
                                    STRING [2990,3000]
                                        String: "always()" [2990,3000]
                                FIELD [3001,3055]
                                    String: "run" [3001,3006]
                                    STRING [3007,3055]
                                        String: "pip uninstall --yes allennlp allennlp-models\n" [3007,3055]
            FIELD [3059,4946]
                String: "build_package" [3059,3074]
                OBJECT [3075,4946]
                    FIELD [3076,3098]
                        String: "name" [3076,3082]
                        STRING [3083,3098]
                            String: "Build Package" [3083,3098]
                    FIELD [3099,3180]
                        String: "if" [3099,3103]
                        STRING [3104,3180]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [3104,3180]
                    FIELD [3181,3206]
                        String: "runs-on" [3181,3190]
                        STRING [3191,3206]
                            String: "ubuntu-latest" [3191,3206]
                    FIELD [3207,4945]
                        String: "steps" [3207,3214]
                        ARRAY [3215,4945]
                            OBJECT [3216,3246]
                                FIELD [3217,3245]
                                    String: "uses" [3217,3223]
                                    STRING [3224,3245]
                                        String: "actions/checkout@v2" [3224,3245]
                            OBJECT [3247,3333]
                                FIELD [3248,3269]
                                    String: "name" [3248,3254]
                                    STRING [3255,3269]
                                        String: "Setup Python" [3255,3269]
                                FIELD [3270,3302]
                                    String: "uses" [3270,3276]
                                    STRING [3277,3302]
                                        String: "actions/setup-python@v1" [3277,3302]
                                FIELD [3303,3332]
                                    String: "with" [3303,3309]
                                    OBJECT [3310,3332]
                                        FIELD [3311,3331]
                                            String: "python-version" [3311,3327]
                                            NUMBER [3328,3331]
                                                Number: 3.7 [3328,3331]
                            OBJECT [3334,3533]
                                FIELD [3335,3360]
                                    String: "uses" [3335,3341]
                                    STRING [3342,3360]
                                        String: "actions/cache@v2" [3342,3360]
                                FIELD [3361,3532]
                                    String: "with" [3361,3367]
                                    OBJECT [3368,3532]
                                        FIELD [3369,3403]
                                            String: "path" [3369,3375]
                                            STRING [3376,3403]
                                                String: "${{ env.pythonLocation }}" [3376,3403]
                                        FIELD [3404,3531]
                                            String: "key" [3404,3409]
                                            STRING [3410,3531]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [3410,3531]
                            OBJECT [3534,3588]
                                FIELD [3535,3564]
                                    String: "name" [3535,3541]
                                    STRING [3542,3564]
                                        String: "Install requirements" [3542,3564]
                                FIELD [3565,3587]
                                    String: "run" [3565,3570]
                                    STRING [3571,3587]
                                        String: "make install\n" [3571,3587]
                            OBJECT [3589,4226]
                                FIELD [3590,3628]
                                    String: "name" [3590,3596]
                                    STRING [3597,3628]
                                        String: "Check and set nightly version" [3597,3628]
                                FIELD [3629,3667]
                                    String: "if" [3629,3633]
                                    STRING [3634,3667]
                                        String: "github.event_name == 'schedule'" [3634,3667]
                                FIELD [3668,4225]
                                    String: "run" [3668,3673]
                                    STRING [3674,4225]
                                        String: "# Verify that current version is ahead of the last release.\nLATEST=$(scripts/get_version.py latest)\nCURRENT=$(scripts/get_version.py current)\nif [ \"$CURRENT\" == \"$LATEST\" ]; then\n    echo \"Current version needs to be ahead of latest release in order to build nightly release\";\n    exit 1;\nfi\n# This is somewhat bizarre, but you can't set env variables to bash\n# commands in the action workflow - so we have to use this odd way of\n# exporting a variable instead.\necho \"ALLENNLP_VERSION_SUFFIX=dev$(date -u +%Y%m%d)\" >> $GITHUB_ENV\n" [3674,4225]
                            OBJECT [4227,4581]
                                FIELD [4228,4272]
                                    String: "name" [4228,4234]
                                    STRING [4235,4272]
                                        String: "Check version and release tag match" [4235,4272]
                                FIELD [4273,4310]
                                    String: "if" [4273,4277]
                                    STRING [4278,4310]
                                        String: "github.event_name == 'release'" [4278,4310]
                                FIELD [4311,4580]
                                    String: "run" [4311,4316]
                                    STRING [4317,4580]
                                        String: "# Remove 'refs/tags/' to get the actual tag from the release.\nTAG=${GITHUB_REF#refs/tags/};\nVERSION=$(scripts/get_version.py current)\nif [ \"$TAG\" != \"$VERSION\" ]; then\n    echo \"Bad tag or version. Tag $TAG does not match $VERSION\";\n    exit 1;\nfi\n" [4317,4580]
                            OBJECT [4582,4759]
                                FIELD [4583,4610]
                                    String: "name" [4583,4589]
                                    STRING [4590,4610]
                                        String: "Build core package" [4590,4610]
                                FIELD [4611,4758]
                                    String: "run" [4611,4616]
                                    STRING [4617,4758]
                                        String: "echo \"Building packages for core release\"\n# Just print out the version for debugging.\nmake version\npython setup.py bdist_wheel sdist\n" [4617,4758]
                            OBJECT [4760,4869]
                                FIELD [4761,4787]
                                    String: "name" [4761,4767]
                                    STRING [4768,4787]
                                        String: "Save core package" [4768,4787]
                                FIELD [4788,4823]
                                    String: "uses" [4788,4794]
                                    STRING [4795,4823]
                                        String: "actions/upload-artifact@v1" [4795,4823]
                                FIELD [4824,4868]
                                    String: "with" [4824,4830]
                                    OBJECT [4831,4868]
                                        FIELD [4832,4853]
                                            String: "name" [4832,4838]
                                            STRING [4839,4853]
                                                String: "core-package" [4839,4853]
                                        FIELD [4854,4867]
                                            String: "path" [4854,4860]
                                            STRING [4861,4867]
                                                String: "dist" [4861,4867]
                            OBJECT [4870,4944]
                                FIELD [4871,4888]
                                    String: "name" [4871,4877]
                                    STRING [4878,4888]
                                        String: "Clean up" [4878,4888]
                                FIELD [4889,4904]
                                    String: "if" [4889,4893]
                                    STRING [4894,4904]
                                        String: "always()" [4894,4904]
                                FIELD [4905,4943]
                                    String: "run" [4905,4910]
                                    STRING [4911,4943]
                                        String: "pip uninstall --yes allennlp\n" [4911,4943]
            FIELD [4947,5940]
                String: "test_package" [4947,4961]
                OBJECT [4962,5940]
                    FIELD [4963,4984]
                        String: "name" [4963,4969]
                        STRING [4970,4984]
                            String: "Test Package" [4970,4984]
                    FIELD [4985,5066]
                        String: "if" [4985,4989]
                        STRING [4990,5066]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [4990,5066]
                    FIELD [5067,5092]
                        String: "needs" [5067,5074]
                        ARRAY [5075,5092]
                            STRING [5076,5091]
                                String: "build_package" [5076,5091]
                    FIELD [5093,5118]
                        String: "runs-on" [5093,5102]
                        STRING [5103,5118]
                            String: "ubuntu-latest" [5103,5118]
                    FIELD [5119,5165]
                        String: "strategy" [5119,5129]
                        OBJECT [5130,5165]
                            FIELD [5131,5164]
                                String: "matrix" [5131,5139]
                                OBJECT [5140,5164]
                                    FIELD [5141,5163]
                                        String: "python" [5141,5149]
                                        ARRAY [5150,5163]
                                            STRING [5151,5156]
                                                String: "3.7" [5151,5156]
                                            STRING [5157,5162]
                                                String: "3.8" [5157,5162]
                    FIELD [5166,5939]
                        String: "steps" [5166,5173]
                        ARRAY [5174,5939]
                            OBJECT [5175,5280]
                                FIELD [5176,5197]
                                    String: "name" [5176,5182]
                                    STRING [5183,5197]
                                        String: "Setup Python" [5183,5197]
                                FIELD [5198,5230]
                                    String: "uses" [5198,5204]
                                    STRING [5205,5230]
                                        String: "actions/setup-python@v1" [5205,5230]
                                FIELD [5231,5279]
                                    String: "with" [5231,5237]
                                    OBJECT [5238,5279]
                                        FIELD [5239,5278]
                                            String: "python-version" [5239,5255]
                                            STRING [5256,5278]
                                                String: "${{ matrix.python }}" [5256,5278]
                            OBJECT [5281,5365]
                                FIELD [5282,5311]
                                    String: "name" [5282,5288]
                                    STRING [5289,5311]
                                        String: "Install requirements" [5289,5311]
                                FIELD [5312,5364]
                                    String: "run" [5312,5317]
                                    STRING [5318,5364]
                                        String: "pip install --upgrade pip setuptools wheel\n" [5318,5364]
                            OBJECT [5366,5481]
                                FIELD [5367,5397]
                                    String: "name" [5367,5373]
                                    STRING [5374,5397]
                                        String: "Download core package" [5374,5397]
                                FIELD [5398,5435]
                                    String: "uses" [5398,5404]
                                    STRING [5405,5435]
                                        String: "actions/download-artifact@v1" [5405,5435]
                                FIELD [5436,5480]
                                    String: "with" [5436,5442]
                                    OBJECT [5443,5480]
                                        FIELD [5444,5465]
                                            String: "name" [5444,5450]
                                            STRING [5451,5465]
                                                String: "core-package" [5451,5465]
                                        FIELD [5466,5479]
                                            String: "path" [5466,5472]
                                            STRING [5473,5479]
                                                String: "dist" [5473,5479]
                            OBJECT [5482,5839]
                                FIELD [5483,5512]
                                    String: "name" [5483,5489]
                                    STRING [5490,5512]
                                        String: "Install core package" [5490,5512]
                                FIELD [5513,5838]
                                    String: "run" [5513,5518]
                                    STRING [5519,5838]
                                        String: "pip install $(ls dist/*.whl)\n# In PyTorch 1.7, dataclasses is an unconditional dependency, when it should\n# only be a conditional dependency for Python < 3.7.\n# This has been fixed on PyTorch master branch, so we should be able to\n# remove this check with the next PyTorch release.\npip uninstall -y dataclasses\n" [5519,5838]
                            OBJECT [5840,5882]
                                FIELD [5841,5860]
                                    String: "name" [5841,5847]
                                    STRING [5848,5860]
                                        String: "Pip freeze" [5848,5860]
                                FIELD [5861,5881]
                                    String: "run" [5861,5866]
                                    STRING [5867,5881]
                                        String: "pip freeze\n" [5867,5881]
                            OBJECT [5883,5938]
                                FIELD [5884,5905]
                                    String: "name" [5884,5890]
                                    STRING [5891,5905]
                                        String: "Test install" [5891,5905]
                                FIELD [5906,5937]
                                    String: "run" [5906,5911]
                                    STRING [5912,5937]
                                        String: "allennlp test-install\n" [5912,5937]
            FIELD [5941,7323]
                String: "docker" [5941,5949]
                OBJECT [5950,7323]
                    FIELD [5951,5966]
                        String: "name" [5951,5957]
                        STRING [5958,5966]
                            String: "Docker" [5958,5966]
                    FIELD [5967,6048]
                        String: "if" [5967,5971]
                        STRING [5972,6048]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [5972,6048]
                    FIELD [6049,6074]
                        String: "needs" [6049,6056]
                        ARRAY [6057,6074]
                            STRING [6058,6073]
                                String: "build_package" [6058,6073]
                    FIELD [6075,6100]
                        String: "runs-on" [6075,6084]
                        STRING [6085,6100]
                            String: "ubuntu-latest" [6085,6100]
                    FIELD [6101,7322]
                        String: "steps" [6101,6108]
                        ARRAY [6109,7322]
                            OBJECT [6110,6140]
                                FIELD [6111,6139]
                                    String: "uses" [6111,6117]
                                    STRING [6118,6139]
                                        String: "actions/checkout@v2" [6118,6139]
                            OBJECT [6141,6407]
                                FIELD [6142,6172]
                                    String: "name" [6142,6148]
                                    STRING [6149,6172]
                                        String: "Set Docker image name" [6149,6172]
                                FIELD [6173,6406]
                                    String: "run" [6173,6178]
                                    STRING [6179,6406]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCKER_IMAGE_NAME=allennlp/allennlp:${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCKER_IMAGE_NAME=allennlp/commit:$GITHUB_SHA\" >> $GITHUB_ENV;\nfi\n" [6179,6406]
                            OBJECT [6408,6523]
                                FIELD [6409,6439]
                                    String: "name" [6409,6415]
                                    STRING [6416,6439]
                                        String: "Download core package" [6416,6439]
                                FIELD [6440,6477]
                                    String: "uses" [6440,6446]
                                    STRING [6447,6477]
                                        String: "actions/download-artifact@v1" [6447,6477]
                                FIELD [6478,6522]
                                    String: "with" [6478,6484]
                                    OBJECT [6485,6522]
                                        FIELD [6486,6507]
                                            String: "name" [6486,6492]
                                            STRING [6493,6507]
                                                String: "core-package" [6493,6507]
                                        FIELD [6508,6521]
                                            String: "path" [6508,6514]
                                            STRING [6515,6521]
                                                String: "dist" [6515,6521]
                            OBJECT [6524,6611]
                                FIELD [6525,6545]
                                    String: "name" [6525,6531]
                                    STRING [6532,6545]
                                        String: "Build image" [6532,6545]
                                FIELD [6546,6610]
                                    String: "run" [6546,6551]
                                    STRING [6552,6610]
                                        String: "make docker-image DOCKER_IMAGE_NAME=$DOCKER_IMAGE_NAME\n" [6552,6610]
                            OBJECT [6612,6716]
                                FIELD [6613,6632]
                                    String: "name" [6613,6619]
                                    STRING [6620,6632]
                                        String: "Test image" [6620,6632]
                                FIELD [6633,6715]
                                    String: "run" [6633,6638]
                                    STRING [6639,6715]
                                        String: "make docker-run DOCKER_IMAGE_NAME=$DOCKER_IMAGE_NAME ARGS='test-install'\n" [6639,6715]
                            OBJECT [6717,6948]
                                FIELD [6718,6746]
                                    String: "name" [6718,6724]
                                    STRING [6725,6746]
                                        String: "Upload master image" [6725,6746]
                                FIELD [6747,6824]
                                    String: "if" [6747,6751]
                                    STRING [6752,6824]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'push'" [6752,6824]
                                FIELD [6825,6947]
                                    String: "run" [6825,6830]
                                    STRING [6831,6947]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\ndocker push $DOCKER_IMAGE_NAME\n" [6831,6947]
                            OBJECT [6949,7321]
                                FIELD [6950,6979]
                                    String: "name" [6950,6956]
                                    STRING [6957,6979]
                                        String: "Upload release image" [6957,6979]
                                FIELD [6980,7060]
                                    String: "if" [6980,6984]
                                    STRING [6985,7060]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [6985,7060]
                                FIELD [7061,7320]
                                    String: "run" [7061,7066]
                                    STRING [7067,7320]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\n\n# Tag with latest.\ndocker tag $DOCKER_IMAGE_NAME allennlp/allennlp:latest\n\n# Push both tags.\ndocker push $DOCKER_IMAGE_NAME\ndocker push allennlp/allennlp:latest\n" [7067,7320]
            FIELD [7324,10223]
                String: "docs" [7324,7330]
                OBJECT [7331,10223]
                    FIELD [7332,7345]
                        String: "name" [7332,7338]
                        STRING [7339,7345]
                            String: "Docs" [7339,7345]
                    FIELD [7346,7427]
                        String: "if" [7346,7350]
                        STRING [7351,7427]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [7351,7427]
                    FIELD [7428,7453]
                        String: "runs-on" [7428,7437]
                        STRING [7438,7453]
                            String: "ubuntu-latest" [7438,7453]
                    FIELD [7454,10222]
                        String: "steps" [7454,7461]
                        ARRAY [7462,10222]
                            OBJECT [7463,7493]
                                FIELD [7464,7492]
                                    String: "uses" [7464,7470]
                                    STRING [7471,7492]
                                        String: "actions/checkout@v1" [7471,7492]
                            OBJECT [7494,7668]
                                FIELD [7495,7523]
                                    String: "name" [7495,7501]
                                    STRING [7502,7523]
                                        String: "Setup SSH Client ðŸ”‘" [7502,7523]
                                FIELD [7524,7570]
                                    String: "if" [7524,7528]
                                    STRING [7529,7570]
                                        String: "github.repository == 'allenai/allennlp'" [7529,7570]
                                FIELD [7571,7607]
                                    String: "uses" [7571,7577]
                                    STRING [7578,7607]
                                        String: "webfactory/ssh-agent@v0.2.0" [7578,7607]
                                FIELD [7608,7667]
                                    String: "with" [7608,7614]
                                    OBJECT [7615,7667]
                                        FIELD [7616,7666]
                                            String: "ssh-private-key" [7616,7633]
                                            STRING [7634,7666]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [7634,7666]
                            OBJECT [7669,7755]
                                FIELD [7670,7691]
                                    String: "name" [7670,7676]
                                    STRING [7677,7691]
                                        String: "Setup Python" [7677,7691]
                                FIELD [7692,7724]
                                    String: "uses" [7692,7698]
                                    STRING [7699,7724]
                                        String: "actions/setup-python@v1" [7699,7724]
                                FIELD [7725,7754]
                                    String: "with" [7725,7731]
                                    OBJECT [7732,7754]
                                        FIELD [7733,7753]
                                            String: "python-version" [7733,7749]
                                            NUMBER [7750,7753]
                                                Number: 3.7 [7750,7753]
                            OBJECT [7756,7955]
                                FIELD [7757,7782]
                                    String: "uses" [7757,7763]
                                    STRING [7764,7782]
                                        String: "actions/cache@v2" [7764,7782]
                                FIELD [7783,7954]
                                    String: "with" [7783,7789]
                                    OBJECT [7790,7954]
                                        FIELD [7791,7825]
                                            String: "path" [7791,7797]
                                            STRING [7798,7825]
                                                String: "${{ env.pythonLocation }}" [7798,7825]
                                        FIELD [7826,7953]
                                            String: "key" [7826,7831]
                                            STRING [7832,7953]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [7832,7953]
                            OBJECT [7956,8010]
                                FIELD [7957,7986]
                                    String: "name" [7957,7963]
                                    STRING [7964,7986]
                                        String: "Install requirements" [7964,7986]
                                FIELD [7987,8009]
                                    String: "run" [7987,7992]
                                    STRING [7993,8009]
                                        String: "make install\n" [7993,8009]
                            OBJECT [8011,8053]
                                FIELD [8012,8031]
                                    String: "name" [8012,8018]
                                    STRING [8019,8031]
                                        String: "Debug info" [8019,8031]
                                FIELD [8032,8052]
                                    String: "run" [8032,8037]
                                    STRING [8038,8052]
                                        String: "pip freeze\n" [8038,8052]
                            OBJECT [8054,8109]
                                FIELD [8055,8074]
                                    String: "name" [8055,8061]
                                    STRING [8062,8074]
                                        String: "Build docs" [8062,8074]
                                FIELD [8075,8108]
                                    String: "run" [8075,8080]
                                    STRING [8081,8108]
                                        String: "./scripts/build_docs.sh\n" [8081,8108]
                            OBJECT [8110,8336]
                                FIELD [8111,8133]
                                    String: "name" [8111,8117]
                                    STRING [8118,8133]
                                        String: "Configure Git" [8118,8133]
                                FIELD [8134,8180]
                                    String: "if" [8134,8138]
                                    STRING [8139,8180]
                                        String: "github.repository == 'allenai/allennlp'" [8139,8180]
                                FIELD [8181,8335]
                                    String: "run" [8181,8186]
                                    STRING [8187,8335]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [8187,8335]
                            OBJECT [8337,8549]
                                FIELD [8338,8365]
                                    String: "name" [8338,8344]
                                    STRING [8345,8365]
                                        String: "Set target folders" [8345,8365]
                                FIELD [8366,8548]
                                    String: "run" [8366,8371]
                                    STRING [8372,8548]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCS_FOLDER=${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCS_FOLDER=master\" >> $GITHUB_ENV;\nfi\n" [8372,8548]
                            OBJECT [8550,8993]
                                FIELD [8551,8570]
                                    String: "name" [8551,8557]
                                    STRING [8558,8570]
                                        String: "Stage docs" [8558,8570]
                                FIELD [8571,8652]
                                    String: "if" [8571,8575]
                                    STRING [8576,8652]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name != 'schedule'" [8576,8652]
                                FIELD [8653,8992]
                                    String: "run" [8653,8658]
                                    STRING [8659,8992]
                                        String: "echo \"Staging docs to $DOCS_FOLDER\"\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DOCS_FOLDER/\nmkdir -p ~/allennlp-docs/$DOCS_FOLDER\ncp -r site/* ~/allennlp-docs/$DOCS_FOLDER\n" [8659,8992]
                            OBJECT [8994,9911]
                                FIELD [8995,9020]
                                    String: "name" [8995,9001]
                                    STRING [9002,9020]
                                        String: "Update shortcuts" [9002,9020]
                                FIELD [9021,9101]
                                    String: "if" [9021,9025]
                                    STRING [9026,9101]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [9026,9101]
                                FIELD [9102,9910]
                                    String: "run" [9102,9107]
                                    STRING [9108,9910]
                                        String: "# Fail immediately if any step fails.\nset -e\n\nLATEST=$(./scripts/get_version.py latest)\nSTABLE=$(./scripts/get_version.py stable)\n\ncd ~/allennlp-docs/\n\necho \"Updating latest/index.html to point to $LATEST\"\nmkdir -p latest\ncat >latest/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${LATEST}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${LATEST}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n\necho \"Updating stable/index.html to point to $STABLE\"\nmkdir -p stable\ncat >stable/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${STABLE}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${STABLE}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n" [9108,9910]
                            OBJECT [9912,10146]
                                FIELD [9913,9933]
                                    String: "name" [9913,9919]
                                    STRING [9920,9933]
                                        String: "Deploy docs" [9920,9933]
                                FIELD [9934,10015]
                                    String: "if" [9934,9938]
                                    STRING [9939,10015]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name != 'schedule'" [9939,10015]
                                FIELD [10016,10145]
                                    String: "run" [10016,10021]
                                    STRING [10022,10145]
                                        String: "# And push them up to GitHub\ncd ~/allennlp-docs/\ngit add -A\ngit commit -m \"automated update of the docs\"\ngit push\n" [10022,10145]
                            OBJECT [10147,10221]
                                FIELD [10148,10165]
                                    String: "name" [10148,10154]
                                    STRING [10155,10165]
                                        String: "Clean up" [10155,10165]
                                FIELD [10166,10181]
                                    String: "if" [10166,10170]
                                    STRING [10171,10181]
                                        String: "always()" [10171,10181]
                                FIELD [10182,10220]
                                    String: "run" [10182,10187]
                                    STRING [10188,10220]
                                        String: "pip uninstall --yes allennlp\n" [10188,10220]
            FIELD [10224,10890]
                String: "publish" [10224,10233]
                OBJECT [10234,10890]
                    FIELD [10235,10248]
                        String: "name" [10235,10241]
                        STRING [10242,10248]
                            String: "PyPI" [10242,10248]
                    FIELD [10249,10346]
                        String: "needs" [10249,10256]
                        ARRAY [10257,10346]
                            STRING [10258,10270]
                                String: "check_core" [10258,10270]
                            STRING [10271,10285]
                                String: "check_models" [10271,10285]
                            STRING [10286,10298]
                                String: "gpu_checks" [10286,10298]
                            STRING [10299,10314]
                                String: "build_package" [10299,10314]
                            STRING [10315,10329]
                                String: "test_package" [10315,10329]
                            STRING [10330,10338]
                                String: "docker" [10330,10338]
                            STRING [10339,10345]
                                String: "docs" [10339,10345]
                    FIELD [10347,10424]
                        String: "if" [10347,10351]
                        STRING [10352,10424]
                            String: "github.repository == 'allenai/allennlp' && github.event_name != 'push'" [10352,10424]
                    FIELD [10425,10450]
                        String: "runs-on" [10425,10434]
                        STRING [10435,10450]
                            String: "ubuntu-latest" [10435,10450]
                    FIELD [10451,10889]
                        String: "steps" [10451,10458]
                        ARRAY [10459,10889]
                            OBJECT [10460,10490]
                                FIELD [10461,10489]
                                    String: "uses" [10461,10467]
                                    STRING [10468,10489]
                                        String: "actions/checkout@v2" [10468,10489]
                            OBJECT [10491,10577]
                                FIELD [10492,10513]
                                    String: "name" [10492,10498]
                                    STRING [10499,10513]
                                        String: "Setup Python" [10499,10513]
                                FIELD [10514,10546]
                                    String: "uses" [10514,10520]
                                    STRING [10521,10546]
                                        String: "actions/setup-python@v1" [10521,10546]
                                FIELD [10547,10576]
                                    String: "with" [10547,10553]
                                    OBJECT [10554,10576]
                                        FIELD [10555,10575]
                                            String: "python-version" [10555,10571]
                                            NUMBER [10572,10575]
                                                Number: 3.7 [10572,10575]
                            OBJECT [10578,10668]
                                FIELD [10579,10608]
                                    String: "name" [10579,10585]
                                    STRING [10586,10608]
                                        String: "Install requirements" [10586,10608]
                                FIELD [10609,10667]
                                    String: "run" [10609,10614]
                                    STRING [10615,10667]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [10615,10667]
                            OBJECT [10669,10784]
                                FIELD [10670,10700]
                                    String: "name" [10670,10676]
                                    STRING [10677,10700]
                                        String: "Download core package" [10677,10700]
                                FIELD [10701,10738]
                                    String: "uses" [10701,10707]
                                    STRING [10708,10738]
                                        String: "actions/download-artifact@v1" [10708,10738]
                                FIELD [10739,10783]
                                    String: "with" [10739,10745]
                                    OBJECT [10746,10783]
                                        FIELD [10747,10768]
                                            String: "name" [10747,10753]
                                            STRING [10754,10768]
                                                String: "core-package" [10754,10768]
                                        FIELD [10769,10782]
                                            String: "path" [10769,10775]
                                            STRING [10776,10782]
                                                String: "dist" [10776,10782]
                            OBJECT [10785,10888]
                                FIELD [10786,10815]
                                    String: "name" [10786,10792]
                                    STRING [10793,10815]
                                        String: "Publish core package" [10793,10815]
                                FIELD [10816,10887]
                                    String: "run" [10816,10821]
                                    STRING [10822,10887]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [10822,10887]