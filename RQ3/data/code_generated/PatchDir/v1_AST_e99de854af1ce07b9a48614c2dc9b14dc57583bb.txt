OBJECT [0,10173]
    FIELD [1,16]
        String: "name" [1,7]
        STRING [8,16]
            String: "Master" [8,16]
    FIELD [17,132]
        String: "on" [17,21]
        OBJECT [22,132]
            FIELD [23,53]
                String: "push" [23,29]
                OBJECT [30,53]
                    FIELD [31,52]
                        String: "branches" [31,41]
                        ARRAY [42,52]
                            STRING [43,51]
                                String: "master" [43,51]
            FIELD [54,87]
                String: "release" [54,63]
                OBJECT [64,87]
                    FIELD [65,86]
                        String: "types" [65,72]
                        ARRAY [73,86]
                            STRING [74,85]
                                String: "published" [74,85]
            FIELD [88,131]
                String: "schedule" [88,98]
                ARRAY [99,131]
                    OBJECT [100,130]
                        FIELD [101,129]
                            String: "cron" [101,107]
                            STRING [108,129]
                                String: "37 11 * * 1,2,3,4,5" [108,129]
    FIELD [133,10172]
        String: "jobs" [133,139]
        OBJECT [140,10172]
            FIELD [141,710]
                String: "gpu_checks" [141,153]
                OBJECT [154,710]
                    FIELD [155,174]
                        String: "name" [155,161]
                        STRING [162,174]
                            String: "GPU Checks" [162,174]
                    FIELD [175,221]
                        String: "if" [175,179]
                        STRING [180,221]
                            String: "github.repository == 'allenai/allennlp'" [180,221]
                    FIELD [222,253]
                        String: "runs-on" [222,231]
                        ARRAY [232,253]
                            STRING [233,246]
                                String: "self-hosted" [233,246]
                            STRING [247,252]
                                String: "GPU" [247,252]
                    FIELD [254,709]
                        String: "steps" [254,261]
                        ARRAY [262,709]
                            OBJECT [263,293]
                                FIELD [264,292]
                                    String: "uses" [264,270]
                                    STRING [271,292]
                                        String: "actions/checkout@v2" [271,292]
                            OBJECT [294,513]
                                FIELD [295,320]
                                    String: "name" [295,301]
                                    STRING [302,320]
                                        String: "Set Docker label" [302,320]
                                FIELD [321,512]
                                    String: "run" [321,326]
                                    STRING [327,512]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"::set-env name=DOCKER_LABEL::${GITHUB_REF#refs/tags/}\";\nelse\n    echo \"::set-env name=DOCKER_LABEL::$GITHUB_SHA\";\nfi\n" [327,512]
                            OBJECT [514,605]
                                FIELD [515,540]
                                    String: "name" [515,521]
                                    STRING [522,540]
                                        String: "Build test image" [522,540]
                                FIELD [541,604]
                                    String: "run" [541,546]
                                    STRING [547,604]
                                        String: "make docker-test-image DOCKER_LABEL=\"$DOCKER_LABEL\"\n" [547,604]
                            OBJECT [606,708]
                                FIELD [607,629]
                                    String: "name" [607,613]
                                    STRING [614,629]
                                        String: "Run GPU tests" [614,629]
                                FIELD [630,707]
                                    String: "run" [630,635]
                                    STRING [636,707]
                                        String: "make docker-test-run DOCKER_LABEL=\"$DOCKER_LABEL\" ARGS='gpu-test'\n" [636,707]
            FIELD [711,2072]
                String: "check_core" [711,723]
                OBJECT [724,2072]
                    FIELD [725,744]
                        String: "name" [725,731]
                        STRING [732,744]
                            String: "Check Core" [732,744]
                    FIELD [745,770]
                        String: "runs-on" [745,754]
                        STRING [755,770]
                            String: "ubuntu-latest" [755,770]
                    FIELD [771,817]
                        String: "strategy" [771,781]
                        OBJECT [782,817]
                            FIELD [783,816]
                                String: "matrix" [783,791]
                                OBJECT [792,816]
                                    FIELD [793,815]
                                        String: "python" [793,801]
                                        ARRAY [802,815]
                                            STRING [803,808]
                                                String: "3.6" [803,808]
                                            STRING [809,814]
                                                String: "3.7" [809,814]
                    FIELD [818,2071]
                        String: "steps" [818,825]
                        ARRAY [826,2071]
                            OBJECT [827,857]
                                FIELD [828,856]
                                    String: "uses" [828,834]
                                    STRING [835,856]
                                        String: "actions/checkout@v2" [835,856]
                            OBJECT [858,963]
                                FIELD [859,880]
                                    String: "name" [859,865]
                                    STRING [866,880]
                                        String: "Setup Python" [866,880]
                                FIELD [881,913]
                                    String: "uses" [881,887]
                                    STRING [888,913]
                                        String: "actions/setup-python@v1" [888,913]
                                FIELD [914,962]
                                    String: "with" [914,920]
                                    OBJECT [921,962]
                                        FIELD [922,961]
                                            String: "python-version" [922,938]
                                            STRING [939,961]
                                                String: "${{ matrix.python }}" [939,961]
                            OBJECT [964,1163]
                                FIELD [965,990]
                                    String: "uses" [965,971]
                                    STRING [972,990]
                                        String: "actions/cache@v1" [972,990]
                                FIELD [991,1162]
                                    String: "with" [991,997]
                                    OBJECT [998,1162]
                                        FIELD [999,1033]
                                            String: "path" [999,1005]
                                            STRING [1006,1033]
                                                String: "${{ env.pythonLocation }}" [1006,1033]
                                        FIELD [1034,1161]
                                            String: "key" [1034,1039]
                                            STRING [1040,1161]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [1040,1161]
                            OBJECT [1164,1218]
                                FIELD [1165,1194]
                                    String: "name" [1165,1171]
                                    STRING [1172,1194]
                                        String: "Install requirements" [1172,1194]
                                FIELD [1195,1217]
                                    String: "run" [1195,1200]
                                    STRING [1201,1217]
                                        String: "make install\n" [1201,1217]
                            OBJECT [1219,1261]
                                FIELD [1220,1239]
                                    String: "name" [1220,1226]
                                    STRING [1227,1239]
                                        String: "Debug info" [1227,1239]
                                FIELD [1240,1260]
                                    String: "run" [1240,1245]
                                    STRING [1246,1260]
                                        String: "pip freeze\n" [1246,1260]
                            OBJECT [1262,1297]
                                FIELD [1263,1276]
                                    String: "name" [1263,1269]
                                    STRING [1270,1276]
                                        String: "Lint" [1270,1276]
                                FIELD [1277,1296]
                                    String: "run" [1277,1282]
                                    STRING [1283,1296]
                                        String: "make lint\n" [1283,1296]
                            OBJECT [1298,1344]
                                FIELD [1299,1318]
                                    String: "name" [1299,1305]
                                    STRING [1306,1318]
                                        String: "Type check" [1306,1318]
                                FIELD [1319,1343]
                                    String: "run" [1319,1324]
                                    STRING [1325,1343]
                                        String: "make typecheck\n" [1325,1343]
                            OBJECT [1345,1394]
                                FIELD [1346,1364]
                                    String: "name" [1346,1352]
                                    STRING [1353,1364]
                                        String: "Run tests" [1353,1364]
                                FIELD [1365,1393]
                                    String: "run" [1365,1370]
                                    STRING [1371,1393]
                                        String: "make test-with-cov\n" [1371,1393]
                            OBJECT [1395,1871]
                                FIELD [1396,1431]
                                    String: "name" [1396,1402]
                                    STRING [1403,1431]
                                        String: "Upload coverage to Codecov" [1403,1431]
                                FIELD [1432,1461]
                                    String: "if" [1432,1436]
                                    STRING [1437,1461]
                                        String: "matrix.python == '3.7'" [1437,1461]
                                FIELD [1462,1516]
                                    String: "env" [1462,1467]
                                    OBJECT [1468,1516]
                                        FIELD [1469,1515]
                                            String: "CODECOV_TOKEN" [1469,1484]
                                            STRING [1485,1515]
                                                String: "${{ secrets.CODECOV_TOKEN }}" [1485,1515]
                                FIELD [1517,1870]
                                    String: "run" [1517,1522]
                                    STRING [1523,1870]
                                        String: "# Ignore codecov failures as the codecov server is not\n# very reliable but we don't want to report a failure\n# in the github UI just because the coverage report failed to\n# be published.\n# This will also fail for forked repositories since the secret token won't\n# be available.\ncodecov -t $CODECOV_TOKEN || echo \"codecov upload failed\"\n" [1523,1870]
                            OBJECT [1872,2070]
                                FIELD [1873,1890]
                                    String: "name" [1873,1879]
                                    STRING [1880,1890]
                                        String: "Clean up" [1880,1890]
                                FIELD [1891,1906]
                                    String: "if" [1891,1895]
                                    STRING [1896,1906]
                                        String: "always()" [1896,1906]
                                FIELD [1907,2069]
                                    String: "run" [1907,1912]
                                    STRING [1913,2069]
                                        String: "# Could run into issues with the cache if we don't uninstall the editable.\n# See https://github.com/pypa/pip/issues/4537.\npip uninstall --yes allennlp\n" [1913,2069]
            FIELD [2073,3056]
                String: "check_models" [2073,2087]
                OBJECT [2088,3056]
                    FIELD [2089,2110]
                        String: "name" [2089,2095]
                        STRING [2096,2110]
                            String: "Check Models" [2096,2110]
                    FIELD [2111,2136]
                        String: "runs-on" [2111,2120]
                        STRING [2121,2136]
                            String: "ubuntu-latest" [2121,2136]
                    FIELD [2137,2183]
                        String: "strategy" [2137,2147]
                        OBJECT [2148,2183]
                            FIELD [2149,2182]
                                String: "matrix" [2149,2157]
                                OBJECT [2158,2182]
                                    FIELD [2159,2181]
                                        String: "python" [2159,2167]
                                        ARRAY [2168,2181]
                                            STRING [2169,2174]
                                                String: "3.6" [2169,2174]
                                            STRING [2175,2180]
                                                String: "3.7" [2175,2180]
                    FIELD [2184,3055]
                        String: "steps" [2184,2191]
                        ARRAY [2192,3055]
                            OBJECT [2193,2223]
                                FIELD [2194,2222]
                                    String: "uses" [2194,2200]
                                    STRING [2201,2222]
                                        String: "actions/checkout@v2" [2201,2222]
                            OBJECT [2224,2329]
                                FIELD [2225,2246]
                                    String: "name" [2225,2231]
                                    STRING [2232,2246]
                                        String: "Setup Python" [2232,2246]
                                FIELD [2247,2279]
                                    String: "uses" [2247,2253]
                                    STRING [2254,2279]
                                        String: "actions/setup-python@v1" [2254,2279]
                                FIELD [2280,2328]
                                    String: "with" [2280,2286]
                                    OBJECT [2287,2328]
                                        FIELD [2288,2327]
                                            String: "python-version" [2288,2304]
                                            STRING [2305,2327]
                                                String: "${{ matrix.python }}" [2305,2327]
                            OBJECT [2330,2529]
                                FIELD [2331,2356]
                                    String: "uses" [2331,2337]
                                    STRING [2338,2356]
                                        String: "actions/cache@v1" [2338,2356]
                                FIELD [2357,2528]
                                    String: "with" [2357,2363]
                                    OBJECT [2364,2528]
                                        FIELD [2365,2399]
                                            String: "path" [2365,2371]
                                            STRING [2372,2399]
                                                String: "${{ env.pythonLocation }}" [2372,2399]
                                        FIELD [2400,2527]
                                            String: "key" [2400,2405]
                                            STRING [2406,2527]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [2406,2527]
                            OBJECT [2530,2584]
                                FIELD [2531,2560]
                                    String: "name" [2531,2537]
                                    STRING [2538,2560]
                                        String: "Install requirements" [2538,2560]
                                FIELD [2561,2583]
                                    String: "run" [2561,2566]
                                    STRING [2567,2583]
                                        String: "make install\n" [2567,2583]
                            OBJECT [2585,2627]
                                FIELD [2586,2605]
                                    String: "name" [2586,2592]
                                    STRING [2593,2605]
                                        String: "Debug info" [2593,2605]
                                FIELD [2606,2626]
                                    String: "run" [2606,2611]
                                    STRING [2612,2626]
                                        String: "pip freeze\n" [2612,2626]
                            OBJECT [2628,2872]
                                FIELD [2629,2666]
                                    String: "name" [2629,2635]
                                    STRING [2636,2666]
                                        String: "Pull and install models repo" [2636,2666]
                                FIELD [2667,2705]
                                    String: "env" [2667,2672]
                                    OBJECT [2673,2705]
                                        FIELD [2674,2704]
                                            String: "ALLENNLP_VERSION_OVERRIDE" [2674,2701]
                                            STRING [2702,2704]
                                                String: "" [2702,2704]
                                FIELD [2706,2871]
                                    String: "run" [2706,2711]
                                    STRING [2712,2871]
                                        String: "git clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models && pip install --upgrade --upgrade-strategy eager -e . -r dev-requirements.txt\n" [2712,2871]
                            OBJECT [2873,2942]
                                FIELD [2874,2899]
                                    String: "name" [2874,2880]
                                    STRING [2881,2899]
                                        String: "Run models tests" [2881,2899]
                                FIELD [2900,2941]
                                    String: "run" [2900,2905]
                                    STRING [2906,2941]
                                        String: "cd allennlp-models && make test\n" [2906,2941]
                            OBJECT [2943,3054]
                                FIELD [2944,2961]
                                    String: "name" [2944,2950]
                                    STRING [2951,2961]
                                        String: "Clean up" [2951,2961]
                                FIELD [2962,2977]
                                    String: "if" [2962,2966]
                                    STRING [2967,2977]
                                        String: "always()" [2967,2977]
                                FIELD [2978,3053]
                                    String: "run" [2978,2983]
                                    STRING [2984,3053]
                                        String: "pip uninstall --yes allennlp\npip uninstall --yes allennlp_models\n" [2984,3053]
            FIELD [3057,4860]
                String: "build_package" [3057,3072]
                OBJECT [3073,4860]
                    FIELD [3074,3096]
                        String: "name" [3074,3080]
                        STRING [3081,3096]
                            String: "Build Package" [3081,3096]
                    FIELD [3097,3122]
                        String: "runs-on" [3097,3106]
                        STRING [3107,3122]
                            String: "ubuntu-latest" [3107,3122]
                    FIELD [3123,4859]
                        String: "steps" [3123,3130]
                        ARRAY [3131,4859]
                            OBJECT [3132,3162]
                                FIELD [3133,3161]
                                    String: "uses" [3133,3139]
                                    STRING [3140,3161]
                                        String: "actions/checkout@v2" [3140,3161]
                            OBJECT [3163,3249]
                                FIELD [3164,3185]
                                    String: "name" [3164,3170]
                                    STRING [3171,3185]
                                        String: "Setup Python" [3171,3185]
                                FIELD [3186,3218]
                                    String: "uses" [3186,3192]
                                    STRING [3193,3218]
                                        String: "actions/setup-python@v1" [3193,3218]
                                FIELD [3219,3248]
                                    String: "with" [3219,3225]
                                    OBJECT [3226,3248]
                                        FIELD [3227,3247]
                                            String: "python-version" [3227,3243]
                                            NUMBER [3244,3247]
                                                Number: 3.7 [3244,3247]
                            OBJECT [3250,3449]
                                FIELD [3251,3276]
                                    String: "uses" [3251,3257]
                                    STRING [3258,3276]
                                        String: "actions/cache@v1" [3258,3276]
                                FIELD [3277,3448]
                                    String: "with" [3277,3283]
                                    OBJECT [3284,3448]
                                        FIELD [3285,3319]
                                            String: "path" [3285,3291]
                                            STRING [3292,3319]
                                                String: "${{ env.pythonLocation }}" [3292,3319]
                                        FIELD [3320,3447]
                                            String: "key" [3320,3325]
                                            STRING [3326,3447]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [3326,3447]
                            OBJECT [3450,3504]
                                FIELD [3451,3480]
                                    String: "name" [3451,3457]
                                    STRING [3458,3480]
                                        String: "Install requirements" [3458,3480]
                                FIELD [3481,3503]
                                    String: "run" [3481,3486]
                                    STRING [3487,3503]
                                        String: "make install\n" [3487,3503]
                            OBJECT [3505,4140]
                                FIELD [3506,3544]
                                    String: "name" [3506,3512]
                                    STRING [3513,3544]
                                        String: "Check and set nightly version" [3513,3544]
                                FIELD [3545,3583]
                                    String: "if" [3545,3549]
                                    STRING [3550,3583]
                                        String: "github.event_name == 'schedule'" [3550,3583]
                                FIELD [3584,4139]
                                    String: "run" [3584,3589]
                                    STRING [3590,4139]
                                        String: "# Verify that current version is ahead of the last release.\nLATEST=$(scripts/get_version.py latest)\nCURRENT=$(scripts/get_version.py current)\nif [ \"$CURRENT\" == \"$LATEST\" ]; then\n    echo \"Current version needs to be ahead of latest release in order to build nightly release\";\n    exit 1;\nfi\n# This is somewhat bizarre, but you can't set env variables to bash\n# commands in the action workflow - so we have to use this odd way of\n# exporting a variable instead.\necho ::set-env name=ALLENNLP_VERSION_SUFFIX::.dev$(date -u +%Y%m%d)\n" [3590,4139]
                            OBJECT [4141,4495]
                                FIELD [4142,4186]
                                    String: "name" [4142,4148]
                                    STRING [4149,4186]
                                        String: "Check version and release tag match" [4149,4186]
                                FIELD [4187,4224]
                                    String: "if" [4187,4191]
                                    STRING [4192,4224]
                                        String: "github.event_name == 'release'" [4192,4224]
                                FIELD [4225,4494]
                                    String: "run" [4225,4230]
                                    STRING [4231,4494]
                                        String: "# Remove 'refs/tags/' to get the actual tag from the release.\nTAG=${GITHUB_REF#refs/tags/};\nVERSION=$(scripts/get_version.py current)\nif [ \"$TAG\" != \"$VERSION\" ]; then\n    echo \"Bad tag or version. Tag $TAG does not match $VERSION\";\n    exit 1;\nfi\n" [4231,4494]
                            OBJECT [4496,4673]
                                FIELD [4497,4524]
                                    String: "name" [4497,4503]
                                    STRING [4504,4524]
                                        String: "Build core package" [4504,4524]
                                FIELD [4525,4672]
                                    String: "run" [4525,4530]
                                    STRING [4531,4672]
                                        String: "echo \"Building packages for core release\"\n# Just print out the version for debugging.\nmake version\npython setup.py bdist_wheel sdist\n" [4531,4672]
                            OBJECT [4674,4783]
                                FIELD [4675,4701]
                                    String: "name" [4675,4681]
                                    STRING [4682,4701]
                                        String: "Save core package" [4682,4701]
                                FIELD [4702,4737]
                                    String: "uses" [4702,4708]
                                    STRING [4709,4737]
                                        String: "actions/upload-artifact@v1" [4709,4737]
                                FIELD [4738,4782]
                                    String: "with" [4738,4744]
                                    OBJECT [4745,4782]
                                        FIELD [4746,4767]
                                            String: "name" [4746,4752]
                                            STRING [4753,4767]
                                                String: "core-package" [4753,4767]
                                        FIELD [4768,4781]
                                            String: "path" [4768,4774]
                                            STRING [4775,4781]
                                                String: "dist" [4775,4781]
                            OBJECT [4784,4858]
                                FIELD [4785,4802]
                                    String: "name" [4785,4791]
                                    STRING [4792,4802]
                                        String: "Clean up" [4792,4802]
                                FIELD [4803,4818]
                                    String: "if" [4803,4807]
                                    STRING [4808,4818]
                                        String: "always()" [4808,4818]
                                FIELD [4819,4857]
                                    String: "run" [4819,4824]
                                    STRING [4825,4857]
                                        String: "pip uninstall --yes allennlp\n" [4825,4857]
            FIELD [4861,5442]
                String: "test_package" [4861,4875]
                OBJECT [4876,5442]
                    FIELD [4877,4898]
                        String: "name" [4877,4883]
                        STRING [4884,4898]
                            String: "Test Package" [4884,4898]
                    FIELD [4899,4924]
                        String: "needs" [4899,4906]
                        ARRAY [4907,4924]
                            STRING [4908,4923]
                                String: "build_package" [4908,4923]
                    FIELD [4925,4950]
                        String: "runs-on" [4925,4934]
                        STRING [4935,4950]
                            String: "ubuntu-latest" [4935,4950]
                    FIELD [4951,4997]
                        String: "strategy" [4951,4961]
                        OBJECT [4962,4997]
                            FIELD [4963,4996]
                                String: "matrix" [4963,4971]
                                OBJECT [4972,4996]
                                    FIELD [4973,4995]
                                        String: "python" [4973,4981]
                                        ARRAY [4982,4995]
                                            STRING [4983,4988]
                                                String: "3.6" [4983,4988]
                                            STRING [4989,4994]
                                                String: "3.7" [4989,4994]
                    FIELD [4998,5441]
                        String: "steps" [4998,5005]
                        ARRAY [5006,5441]
                            OBJECT [5007,5112]
                                FIELD [5008,5029]
                                    String: "name" [5008,5014]
                                    STRING [5015,5029]
                                        String: "Setup Python" [5015,5029]
                                FIELD [5030,5062]
                                    String: "uses" [5030,5036]
                                    STRING [5037,5062]
                                        String: "actions/setup-python@v1" [5037,5062]
                                FIELD [5063,5111]
                                    String: "with" [5063,5069]
                                    OBJECT [5070,5111]
                                        FIELD [5071,5110]
                                            String: "python-version" [5071,5087]
                                            STRING [5088,5110]
                                                String: "${{ matrix.python }}" [5088,5110]
                            OBJECT [5113,5197]
                                FIELD [5114,5143]
                                    String: "name" [5114,5120]
                                    STRING [5121,5143]
                                        String: "Install requirements" [5121,5143]
                                FIELD [5144,5196]
                                    String: "run" [5144,5149]
                                    STRING [5150,5196]
                                        String: "pip install --upgrade pip setuptools wheel\n" [5150,5196]
                            OBJECT [5198,5313]
                                FIELD [5199,5229]
                                    String: "name" [5199,5205]
                                    STRING [5206,5229]
                                        String: "Download core package" [5206,5229]
                                FIELD [5230,5267]
                                    String: "uses" [5230,5236]
                                    STRING [5237,5267]
                                        String: "actions/download-artifact@v1" [5237,5267]
                                FIELD [5268,5312]
                                    String: "with" [5268,5274]
                                    OBJECT [5275,5312]
                                        FIELD [5276,5297]
                                            String: "name" [5276,5282]
                                            STRING [5283,5297]
                                                String: "core-package" [5283,5297]
                                        FIELD [5298,5311]
                                            String: "path" [5298,5304]
                                            STRING [5305,5311]
                                                String: "dist" [5305,5311]
                            OBJECT [5314,5384]
                                FIELD [5315,5344]
                                    String: "name" [5315,5321]
                                    STRING [5322,5344]
                                        String: "Install core package" [5322,5344]
                                FIELD [5345,5383]
                                    String: "run" [5345,5350]
                                    STRING [5351,5383]
                                        String: "pip install $(ls dist/*.whl)\n" [5351,5383]
                            OBJECT [5385,5440]
                                FIELD [5386,5407]
                                    String: "name" [5386,5392]
                                    STRING [5393,5407]
                                        String: "Test install" [5393,5407]
                                FIELD [5408,5439]
                                    String: "run" [5408,5413]
                                    STRING [5414,5439]
                                        String: "allennlp test-install\n" [5414,5439]
            FIELD [5443,6684]
                String: "docker" [5443,5451]
                OBJECT [5452,6684]
                    FIELD [5453,5468]
                        String: "name" [5453,5459]
                        STRING [5460,5468]
                            String: "Docker" [5460,5468]
                    FIELD [5469,5494]
                        String: "needs" [5469,5476]
                        ARRAY [5477,5494]
                            STRING [5478,5493]
                                String: "build_package" [5478,5493]
                    FIELD [5495,5520]
                        String: "runs-on" [5495,5504]
                        STRING [5505,5520]
                            String: "ubuntu-latest" [5505,5520]
                    FIELD [5521,6683]
                        String: "steps" [5521,5528]
                        ARRAY [5529,6683]
                            OBJECT [5530,5560]
                                FIELD [5531,5559]
                                    String: "uses" [5531,5537]
                                    STRING [5538,5559]
                                        String: "actions/checkout@v2" [5538,5559]
                            OBJECT [5561,5676]
                                FIELD [5562,5592]
                                    String: "name" [5562,5568]
                                    STRING [5569,5592]
                                        String: "Download core package" [5569,5592]
                                FIELD [5593,5630]
                                    String: "uses" [5593,5599]
                                    STRING [5600,5630]
                                        String: "actions/download-artifact@v1" [5600,5630]
                                FIELD [5631,5675]
                                    String: "with" [5631,5637]
                                    OBJECT [5638,5675]
                                        FIELD [5639,5660]
                                            String: "name" [5639,5645]
                                            STRING [5646,5660]
                                                String: "core-package" [5646,5660]
                                        FIELD [5661,5674]
                                            String: "path" [5661,5667]
                                            STRING [5668,5674]
                                                String: "dist" [5668,5674]
                            OBJECT [5677,5727]
                                FIELD [5678,5698]
                                    String: "name" [5678,5684]
                                    STRING [5685,5698]
                                        String: "Build image" [5685,5698]
                                FIELD [5699,5726]
                                    String: "run" [5699,5704]
                                    STRING [5705,5726]
                                        String: "make docker-image\n" [5705,5726]
                            OBJECT [5728,5795]
                                FIELD [5729,5748]
                                    String: "name" [5729,5735]
                                    STRING [5736,5748]
                                        String: "Test image" [5736,5748]
                                FIELD [5749,5794]
                                    String: "run" [5749,5754]
                                    STRING [5755,5794]
                                        String: "make docker-run ARGS='test-install'\n" [5755,5794]
                            OBJECT [5796,6261]
                                FIELD [5797,5825]
                                    String: "name" [5797,5803]
                                    STRING [5804,5825]
                                        String: "Upload master image" [5804,5825]
                                FIELD [5826,5903]
                                    String: "if" [5826,5830]
                                    STRING [5831,5903]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'push'" [5831,5903]
                                FIELD [5904,6260]
                                    String: "run" [5904,5909]
                                    STRING [5910,6260]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\n\n# Tag with current commit and 'latest'.\ndocker tag allennlp/allennlp:latest allennlp/commit:$GITHUB_SHA\ndocker tag allennlp/allennlp:latest allennlp/commit:latest\n\n# Push both tags.\ndocker push allennlp/commit:$GITHUB_SHA\ndocker push allennlp/commit:latest\n" [5910,6260]
                            OBJECT [6262,6682]
                                FIELD [6263,6292]
                                    String: "name" [6263,6269]
                                    STRING [6270,6292]
                                        String: "Upload release image" [6270,6292]
                                FIELD [6293,6373]
                                    String: "if" [6293,6297]
                                    STRING [6298,6373]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [6298,6373]
                                FIELD [6374,6681]
                                    String: "run" [6374,6379]
                                    STRING [6380,6681]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\nTAG=${GITHUB_REF#refs/tags/};\n\n# Tag with release version.\ndocker tag allennlp/allennlp:latest allennlp/allennlp:$TAG\n\n# Push both tags.\ndocker push allennlp/allennlp:$TAG\ndocker push allennlp/allennlp:latest\n" [6380,6681]
            FIELD [6685,9504]
                String: "docs" [6685,6691]
                OBJECT [6692,9504]
                    FIELD [6693,6706]
                        String: "name" [6693,6699]
                        STRING [6700,6706]
                            String: "Docs" [6700,6706]
                    FIELD [6707,6732]
                        String: "runs-on" [6707,6716]
                        STRING [6717,6732]
                            String: "ubuntu-latest" [6717,6732]
                    FIELD [6733,9503]
                        String: "steps" [6733,6740]
                        ARRAY [6741,9503]
                            OBJECT [6742,6772]
                                FIELD [6743,6771]
                                    String: "uses" [6743,6749]
                                    STRING [6750,6771]
                                        String: "actions/checkout@v1" [6750,6771]
                            OBJECT [6773,6947]
                                FIELD [6774,6802]
                                    String: "name" [6774,6780]
                                    STRING [6781,6802]
                                        String: "Setup SSH Client 🔑" [6781,6802]
                                FIELD [6803,6849]
                                    String: "if" [6803,6807]
                                    STRING [6808,6849]
                                        String: "github.repository == 'allenai/allennlp'" [6808,6849]
                                FIELD [6850,6886]
                                    String: "uses" [6850,6856]
                                    STRING [6857,6886]
                                        String: "webfactory/ssh-agent@v0.2.0" [6857,6886]
                                FIELD [6887,6946]
                                    String: "with" [6887,6893]
                                    OBJECT [6894,6946]
                                        FIELD [6895,6945]
                                            String: "ssh-private-key" [6895,6912]
                                            STRING [6913,6945]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [6913,6945]
                            OBJECT [6948,7034]
                                FIELD [6949,6970]
                                    String: "name" [6949,6955]
                                    STRING [6956,6970]
                                        String: "Setup Python" [6956,6970]
                                FIELD [6971,7003]
                                    String: "uses" [6971,6977]
                                    STRING [6978,7003]
                                        String: "actions/setup-python@v1" [6978,7003]
                                FIELD [7004,7033]
                                    String: "with" [7004,7010]
                                    OBJECT [7011,7033]
                                        FIELD [7012,7032]
                                            String: "python-version" [7012,7028]
                                            NUMBER [7029,7032]
                                                Number: 3.7 [7029,7032]
                            OBJECT [7035,7234]
                                FIELD [7036,7061]
                                    String: "uses" [7036,7042]
                                    STRING [7043,7061]
                                        String: "actions/cache@v1" [7043,7061]
                                FIELD [7062,7233]
                                    String: "with" [7062,7068]
                                    OBJECT [7069,7233]
                                        FIELD [7070,7104]
                                            String: "path" [7070,7076]
                                            STRING [7077,7104]
                                                String: "${{ env.pythonLocation }}" [7077,7104]
                                        FIELD [7105,7232]
                                            String: "key" [7105,7110]
                                            STRING [7111,7232]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [7111,7232]
                            OBJECT [7235,7289]
                                FIELD [7236,7265]
                                    String: "name" [7236,7242]
                                    STRING [7243,7265]
                                        String: "Install requirements" [7243,7265]
                                FIELD [7266,7288]
                                    String: "run" [7266,7271]
                                    STRING [7272,7288]
                                        String: "make install\n" [7272,7288]
                            OBJECT [7290,7332]
                                FIELD [7291,7310]
                                    String: "name" [7291,7297]
                                    STRING [7298,7310]
                                        String: "Debug info" [7298,7310]
                                FIELD [7311,7331]
                                    String: "run" [7311,7316]
                                    STRING [7317,7331]
                                        String: "pip freeze\n" [7317,7331]
                            OBJECT [7333,7388]
                                FIELD [7334,7353]
                                    String: "name" [7334,7340]
                                    STRING [7341,7353]
                                        String: "Build docs" [7341,7353]
                                FIELD [7354,7387]
                                    String: "run" [7354,7359]
                                    STRING [7360,7387]
                                        String: "./scripts/build_docs.sh\n" [7360,7387]
                            OBJECT [7389,7615]
                                FIELD [7390,7412]
                                    String: "name" [7390,7396]
                                    STRING [7397,7412]
                                        String: "Configure Git" [7397,7412]
                                FIELD [7413,7459]
                                    String: "if" [7413,7417]
                                    STRING [7418,7459]
                                        String: "github.repository == 'allenai/allennlp'" [7418,7459]
                                FIELD [7460,7614]
                                    String: "run" [7460,7465]
                                    STRING [7466,7614]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [7466,7614]
                            OBJECT [7616,7830]
                                FIELD [7617,7644]
                                    String: "name" [7617,7623]
                                    STRING [7624,7644]
                                        String: "Set target folders" [7624,7644]
                                FIELD [7645,7829]
                                    String: "run" [7645,7650]
                                    STRING [7651,7829]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"::set-env name=DOCS_FOLDER::${GITHUB_REF#refs/tags/}\";\nelse\n    echo \"::set-env name=DOCS_FOLDER::master\";\nfi\n" [7651,7829]
                            OBJECT [7831,8274]
                                FIELD [7832,7851]
                                    String: "name" [7832,7838]
                                    STRING [7839,7851]
                                        String: "Stage docs" [7839,7851]
                                FIELD [7852,7933]
                                    String: "if" [7852,7856]
                                    STRING [7857,7933]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name != 'schedule'" [7857,7933]
                                FIELD [7934,8273]
                                    String: "run" [7934,7939]
                                    STRING [7940,8273]
                                        String: "echo \"Staging docs to $DOCS_FOLDER\"\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DOCS_FOLDER/\nmkdir -p ~/allennlp-docs/$DOCS_FOLDER\ncp -r site/* ~/allennlp-docs/$DOCS_FOLDER\n" [7940,8273]
                            OBJECT [8275,9192]
                                FIELD [8276,8301]
                                    String: "name" [8276,8282]
                                    STRING [8283,8301]
                                        String: "Update shortcuts" [8283,8301]
                                FIELD [8302,8382]
                                    String: "if" [8302,8306]
                                    STRING [8307,8382]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [8307,8382]
                                FIELD [8383,9191]
                                    String: "run" [8383,8388]
                                    STRING [8389,9191]
                                        String: "# Fail immediately if any step fails.\nset -e\n\nLATEST=$(./scripts/get_version.py latest)\nSTABLE=$(./scripts/get_version.py stable)\n\ncd ~/allennlp-docs/\n\necho \"Updating latest/index.html to point to $LATEST\"\nmkdir -p latest\ncat >latest/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${LATEST}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${LATEST}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n\necho \"Updating stable/index.html to point to $STABLE\"\nmkdir -p stable\ncat >stable/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${STABLE}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${STABLE}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n" [8389,9191]
                            OBJECT [9193,9427]
                                FIELD [9194,9214]
                                    String: "name" [9194,9200]
                                    STRING [9201,9214]
                                        String: "Deploy docs" [9201,9214]
                                FIELD [9215,9296]
                                    String: "if" [9215,9219]
                                    STRING [9220,9296]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name != 'schedule'" [9220,9296]
                                FIELD [9297,9426]
                                    String: "run" [9297,9302]
                                    STRING [9303,9426]
                                        String: "# And push them up to GitHub\ncd ~/allennlp-docs/\ngit add -A\ngit commit -m \"automated update of the docs\"\ngit push\n" [9303,9426]
                            OBJECT [9428,9502]
                                FIELD [9429,9446]
                                    String: "name" [9429,9435]
                                    STRING [9436,9446]
                                        String: "Clean up" [9436,9446]
                                FIELD [9447,9462]
                                    String: "if" [9447,9451]
                                    STRING [9452,9462]
                                        String: "always()" [9452,9462]
                                FIELD [9463,9501]
                                    String: "run" [9463,9468]
                                    STRING [9469,9501]
                                        String: "pip uninstall --yes allennlp\n" [9469,9501]
            FIELD [9505,10171]
                String: "publish" [9505,9514]
                OBJECT [9515,10171]
                    FIELD [9516,9529]
                        String: "name" [9516,9522]
                        STRING [9523,9529]
                            String: "PyPI" [9523,9529]
                    FIELD [9530,9627]
                        String: "needs" [9530,9537]
                        ARRAY [9538,9627]
                            STRING [9539,9551]
                                String: "check_core" [9539,9551]
                            STRING [9552,9566]
                                String: "check_models" [9552,9566]
                            STRING [9567,9579]
                                String: "gpu_checks" [9567,9579]
                            STRING [9580,9595]
                                String: "build_package" [9580,9595]
                            STRING [9596,9610]
                                String: "test_package" [9596,9610]
                            STRING [9611,9619]
                                String: "docker" [9611,9619]
                            STRING [9620,9626]
                                String: "docs" [9620,9626]
                    FIELD [9628,9705]
                        String: "if" [9628,9632]
                        STRING [9633,9705]
                            String: "github.repository == 'allenai/allennlp' && github.event_name != 'push'" [9633,9705]
                    FIELD [9706,9731]
                        String: "runs-on" [9706,9715]
                        STRING [9716,9731]
                            String: "ubuntu-latest" [9716,9731]
                    FIELD [9732,10170]
                        String: "steps" [9732,9739]
                        ARRAY [9740,10170]
                            OBJECT [9741,9771]
                                FIELD [9742,9770]
                                    String: "uses" [9742,9748]
                                    STRING [9749,9770]
                                        String: "actions/checkout@v2" [9749,9770]
                            OBJECT [9772,9858]
                                FIELD [9773,9794]
                                    String: "name" [9773,9779]
                                    STRING [9780,9794]
                                        String: "Setup Python" [9780,9794]
                                FIELD [9795,9827]
                                    String: "uses" [9795,9801]
                                    STRING [9802,9827]
                                        String: "actions/setup-python@v1" [9802,9827]
                                FIELD [9828,9857]
                                    String: "with" [9828,9834]
                                    OBJECT [9835,9857]
                                        FIELD [9836,9856]
                                            String: "python-version" [9836,9852]
                                            NUMBER [9853,9856]
                                                Number: 3.7 [9853,9856]
                            OBJECT [9859,9949]
                                FIELD [9860,9889]
                                    String: "name" [9860,9866]
                                    STRING [9867,9889]
                                        String: "Install requirements" [9867,9889]
                                FIELD [9890,9948]
                                    String: "run" [9890,9895]
                                    STRING [9896,9948]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [9896,9948]
                            OBJECT [9950,10065]
                                FIELD [9951,9981]
                                    String: "name" [9951,9957]
                                    STRING [9958,9981]
                                        String: "Download core package" [9958,9981]
                                FIELD [9982,10019]
                                    String: "uses" [9982,9988]
                                    STRING [9989,10019]
                                        String: "actions/download-artifact@v1" [9989,10019]
                                FIELD [10020,10064]
                                    String: "with" [10020,10026]
                                    OBJECT [10027,10064]
                                        FIELD [10028,10049]
                                            String: "name" [10028,10034]
                                            STRING [10035,10049]
                                                String: "core-package" [10035,10049]
                                        FIELD [10050,10063]
                                            String: "path" [10050,10056]
                                            STRING [10057,10063]
                                                String: "dist" [10057,10063]
                            OBJECT [10066,10169]
                                FIELD [10067,10096]
                                    String: "name" [10067,10073]
                                    STRING [10074,10096]
                                        String: "Publish core package" [10074,10096]
                                FIELD [10097,10168]
                                    String: "run" [10097,10102]
                                    STRING [10103,10168]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [10103,10168]