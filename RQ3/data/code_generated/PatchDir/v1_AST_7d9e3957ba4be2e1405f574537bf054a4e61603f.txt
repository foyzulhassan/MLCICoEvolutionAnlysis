OBJECT [0,5111]
    FIELD [1,12]
        String: "name" [1,7]
        STRING [8,12]
            String: "ci" [8,12]
    FIELD [13,41]
        String: "on" [13,17]
        ARRAY [18,41]
            STRING [19,25]
                String: "push" [19,25]
            STRING [26,40]
                String: "pull_request" [26,40]
    FIELD [42,59]
        String: "env" [42,47]
        OBJECT [48,59]
            FIELD [49,58]
                String: "CI" [49,53]
                TRUE [54,58]
    FIELD [60,5110]
        String: "jobs" [60,66]
        OBJECT [67,5110]
            FIELD [68,2170]
                String: "ubuntu-test" [68,81]
                OBJECT [82,2170]
                    FIELD [83,108]
                        String: "runs-on" [83,92]
                        STRING [93,108]
                            String: "ubuntu-latest" [93,108]
                    FIELD [109,159]
                        String: "strategy" [109,119]
                        OBJECT [120,159]
                            FIELD [121,158]
                                String: "matrix" [121,129]
                                OBJECT [130,158]
                                    FIELD [131,157]
                                        String: "python-version" [131,147]
                                        ARRAY [148,157]
                                            NUMBER [149,152]
                                                Number: 3.6 [149,152]
                                            NUMBER [153,156]
                                                Number: 3.7 [153,156]
                    FIELD [160,365]
                        String: "services" [160,170]
                        OBJECT [171,365]
                            FIELD [172,364]
                                String: "postgres" [172,182]
                                OBJECT [183,364]
                                    FIELD [184,205]
                                        String: "image" [184,191]
                                        STRING [192,205]
                                            String: "postgres:12" [192,205]
                                    FIELD [206,244]
                                        String: "env" [206,211]
                                        OBJECT [212,244]
                                            FIELD [213,243]
                                                String: "POSTGRES_PASSWORD" [213,232]
                                                STRING [233,243]
                                                    String: "postgres" [233,243]
                                    FIELD [245,341]
                                        String: "options" [245,254]
                                        STRING [255,341]
                                            String: "--health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5" [255,341]
                                    FIELD [342,363]
                                        String: "ports" [342,349]
                                        ARRAY [350,363]
                                            STRING [351,362]
                                                String: "5432:5432" [351,362]
                    FIELD [366,2169]
                        String: "steps" [366,373]
                        ARRAY [374,2169]
                            OBJECT [375,405]
                                FIELD [376,404]
                                    String: "uses" [376,382]
                                    STRING [383,404]
                                        String: "actions/checkout@v2" [383,404]
                            OBJECT [406,549]
                                FIELD [407,458]
                                    String: "name" [407,413]
                                    STRING [414,458]
                                        String: "Set up Python ${{ matrix.python-version }}" [414,458]
                                FIELD [459,491]
                                    String: "uses" [459,465]
                                    STRING [466,491]
                                        String: "actions/setup-python@v1" [466,491]
                                FIELD [492,548]
                                    String: "with" [492,498]
                                    OBJECT [499,548]
                                        FIELD [500,547]
                                            String: "python-version" [500,516]
                                            STRING [517,547]
                                                String: "${{ matrix.python-version }}" [517,547]
                            OBJECT [550,1135]
                                FIELD [551,591]
                                    String: "name" [551,557]
                                    STRING [558,591]
                                        String: "Install dependencies for Ubuntu" [558,591]
                                FIELD [592,1134]
                                    String: "run" [592,597]
                                    STRING [598,1134]
                                        String: "sudo apt-get install neofetch\n# Install ImageMagick library for Wand\nsudo apt-get install libmagickwand-dev ghostscript\n# Remove the policy file to allow the visualizer test to open the PDF.\n# See: https://github.com/HazyResearch/fonduer/issues/170\nsudo rm -rf /etc/ImageMagick-6/policy.xml\nsudo apt-get install -q -y poppler-utils\npip install --upgrade pip setuptools\n# Install PyTorch for Linux with no CUDA support\npip install torch==1.5.0+cpu torchvision==0.6.0+cpu -f https://download.pytorch.org/whl/torch_stable.html\n" [598,1134]
                            OBJECT [1136,1245]
                                FIELD [1137,1164]
                                    String: "name" [1137,1143]
                                    STRING [1144,1164]
                                        String: "Print Version Info" [1144,1164]
                                FIELD [1165,1244]
                                    String: "run" [1165,1170]
                                    STRING [1171,1244]
                                        String: "neofetch\npdfinfo -v\npsql --version\npython --version\npip --version\n" [1171,1244]
                            OBJECT [1246,1324]
                                FIELD [1247,1271]
                                    String: "name" [1247,1253]
                                    STRING [1254,1271]
                                        String: "Install Fonduer" [1254,1271]
                                FIELD [1272,1323]
                                    String: "run" [1272,1277]
                                    STRING [1278,1323]
                                        String: "make dev_extra\npip install -q pytest-cov\n" [1278,1323]
                            OBJECT [1325,1390]
                                FIELD [1326,1357]
                                    String: "name" [1326,1332]
                                    STRING [1333,1357]
                                        String: "Run preliminary checks" [1333,1357]
                                FIELD [1358,1389]
                                    String: "run" [1358,1363]
                                    STRING [1364,1389]
                                        String: "make check\nmake docs\n" [1364,1389]
                            OBJECT [1391,1826]
                                FIELD [1392,1436]
                                    String: "name" [1392,1398]
                                    STRING [1399,1436]
                                        String: "Set up test databases and test data" [1399,1436]
                                FIELD [1437,1793]
                                    String: "run" [1437,1442]
                                    STRING [1443,1793]
                                        String: "createdb e2e_test -p 5432 -h 127.0.0.1 -w -U postgres\ncreatedb inc_test -p 5432 -h 127.0.0.1 -w -U postgres\ncreatedb meta_test -p 5432 -h 127.0.0.1 -w -U postgres\ncreatedb parser_test -p 5432 -h 127.0.0.1 -w -U postgres\ncreatedb pg_test -p 5432 -h 127.0.0.1 -w -U postgres\ncd tests && ./download_data.sh && cd ..\npython -m spacy download en\n" [1443,1793]
                                FIELD [1794,1825]
                                    String: "env" [1794,1799]
                                    OBJECT [1800,1825]
                                        FIELD [1801,1824]
                                            String: "PGPASSWORD" [1801,1813]
                                            STRING [1814,1824]
                                                String: "postgres" [1814,1824]
                            OBJECT [1827,1998]
                                FIELD [1828,1853]
                                    String: "name" [1828,1834]
                                    STRING [1835,1853]
                                        String: "Test with pytest" [1835,1853]
                                FIELD [1854,1896]
                                    String: "run" [1854,1859]
                                    STRING [1860,1896]
                                        String: "pytest --cov=./ --cov-report=xml\n" [1860,1896]
                                FIELD [1897,1997]
                                    String: "env" [1897,1902]
                                    OBJECT [1903,1997]
                                        FIELD [1904,1927]
                                            String: "PGPASSWORD" [1904,1916]
                                            STRING [1917,1927]
                                                String: "postgres" [1917,1927]
                                        FIELD [1928,1947]
                                            String: "PGUSER" [1928,1936]
                                            STRING [1937,1947]
                                                String: "postgres" [1937,1947]
                                        FIELD [1948,1968]
                                            String: "POSTGRES_PORT" [1948,1963]
                                            NUMBER [1964,1968]
                                                Number: 5432 [1964,1968]
                                        FIELD [1969,1996]
                                            String: "POSTGRES_HOST" [1969,1984]
                                            STRING [1985,1996]
                                                String: "127.0.0.1" [1985,1996]
                            OBJECT [1999,2168]
                                FIELD [2000,2029]
                                    String: "name" [2000,2006]
                                    STRING [2007,2029]
                                        String: "Upload to codecov.io" [2007,2029]
                                FIELD [2030,2064]
                                    String: "uses" [2030,2036]
                                    STRING [2037,2064]
                                        String: "codecov/codecov-action@v1" [2037,2064]
                                FIELD [2065,2167]
                                    String: "with" [2065,2071]
                                    OBJECT [2072,2167]
                                        FIELD [2073,2096]
                                            String: "file" [2073,2079]
                                            STRING [2080,2096]
                                                String: "./coverage.xml" [2080,2096]
                                        FIELD [2097,2116]
                                            String: "flags" [2097,2104]
                                            STRING [2105,2116]
                                                String: "unittests" [2105,2116]
                                        FIELD [2117,2142]
                                            String: "name" [2117,2123]
                                            STRING [2124,2142]
                                                String: "codecov-umbrella" [2124,2142]
                                        FIELD [2143,2166]
                                            String: "fail_ci_if_error" [2143,2161]
                                            TRUE [2162,2166]
            FIELD [2171,4456]
                String: "macos-test" [2171,2183]
                OBJECT [2184,4456]
                    FIELD [2185,2209]
                        String: "runs-on" [2185,2194]
                        STRING [2195,2209]
                            String: "macos-latest" [2195,2209]
                    FIELD [2210,2269]
                        String: "strategy" [2210,2220]
                        OBJECT [2221,2269]
                            FIELD [2222,2268]
                                String: "matrix" [2222,2230]
                                OBJECT [2231,2268]
                                    FIELD [2232,2267]
                                        String: "python-version" [2232,2248]
                                        ARRAY [2249,2267]
                                            STRING [2250,2258]
                                                String: "3.6.10" [2250,2258]
                                            STRING [2259,2266]
                                                String: "3.7.7" [2259,2266]
                    FIELD [2270,4455]
                        String: "steps" [2270,2277]
                        ARRAY [2278,4455]
                            OBJECT [2279,2309]
                                FIELD [2280,2308]
                                    String: "uses" [2280,2286]
                                    STRING [2287,2308]
                                        String: "actions/checkout@v2" [2287,2308]
                            OBJECT [2310,2574]
                                FIELD [2311,2371]
                                    String: "name" [2311,2317]
                                    STRING [2318,2371]
                                        String: "Install python version ${{ matrix.python-version }}" [2318,2371]
                                FIELD [2372,2410]
                                    String: "uses" [2372,2378]
                                    STRING [2379,2410]
                                        String: "gabrielfalcao/pyenv-action@v5" [2379,2410]
                                FIELD [2411,2573]
                                    String: "with" [2411,2417]
                                    OBJECT [2418,2573]
                                        FIELD [2419,2459]
                                            String: "default" [2419,2428]
                                            STRING [2429,2459]
                                                String: "${{ matrix.python-version }}" [2429,2459]
                                        FIELD [2460,2572]
                                            String: "command" [2460,2469]
                                            STRING [2470,2572]
                                                String: "pip install -U pip  # upgrade pip after installing python\necho \"::add-path::`pyenv root`/shims\"\n" [2470,2572]
                            OBJECT [2575,3393]
                                FIELD [2576,2615]
                                    String: "name" [2576,2582]
                                    STRING [2583,2615]
                                        String: "Install dependencies for macOS" [2583,2615]
                                FIELD [2616,3392]
                                    String: "run" [2616,2621]
                                    STRING [2622,3392]
                                        String: "brew update\n# Install ImageMagick for Wand.\nbrew install freetype imagemagick ghostscript\n\nbrew install poppler\n\nbrew install neofetch\n# - name: Install postgres for macOS\n#   run: |\n# Install PostgreSQL 10 (12 not compatible with Fonduer)\n# See https://github.com/HazyResearch/fonduer/issues/371\nbrew install postgresql@10\nexport PATH=\"/usr/local/opt/postgresql@10/bin:$PATH\"\necho \"::add-path::/usr/local/opt/postgresql@10/bin\"\n\n# https://github.com/brianmario/mysql2/issues/795\necho \"::set-env name=LIBRARY_PATH::$LIBRARY_PATH:/usr/local/opt/openssl@1.1/lib/\"\n\n# Start postgresql for osx\nrm -rf /usr/local/var/postgresql@10\ninitdb /usr/local/var/postgresql@10\npg_ctl -D /usr/local/var/postgresql@10 start; sleep 5\ncreateuser -s postgres\n" [2622,3392]
                            OBJECT [3394,3768]
                                FIELD [3395,3439]
                                    String: "name" [3395,3401]
                                    STRING [3402,3439]
                                        String: "Set up test databases and test data" [3402,3439]
                                FIELD [3440,3767]
                                    String: "run" [3440,3445]
                                    STRING [3446,3767]
                                        String: "createdb e2e_test -p 5432 -h 127.0.0.1 -w -U postgres\ncreatedb inc_test -p 5432 -h 127.0.0.1 -w -U postgres\ncreatedb meta_test -p 5432 -h 127.0.0.1 -w -U postgres\ncreatedb parser_test -p 5432 -h 127.0.0.1 -w -U postgres\ncreatedb pg_test -p 5432 -h 127.0.0.1 -w -U postgres\ncd tests && ./download_data.sh && cd ..\n" [3446,3767]
                            OBJECT [3769,3878]
                                FIELD [3770,3797]
                                    String: "name" [3770,3776]
                                    STRING [3777,3797]
                                        String: "Print Version Info" [3777,3797]
                                FIELD [3798,3877]
                                    String: "run" [3798,3803]
                                    STRING [3804,3877]
                                        String: "pdfinfo -v\npsql --version\npython --version\npip --version\nneofetch\n" [3804,3877]
                            OBJECT [3879,3957]
                                FIELD [3880,3904]
                                    String: "name" [3880,3886]
                                    STRING [3887,3904]
                                        String: "Install Fonduer" [3887,3904]
                                FIELD [3905,3956]
                                    String: "run" [3905,3910]
                                    STRING [3911,3956]
                                        String: "make dev_extra\npip install -q pytest-cov\n" [3911,3956]
                            OBJECT [3958,4055]
                                FIELD [3959,3990]
                                    String: "name" [3959,3965]
                                    STRING [3966,3990]
                                        String: "Run preliminary checks" [3966,3990]
                                FIELD [3991,4022]
                                    String: "run" [3991,3996]
                                    STRING [3997,4022]
                                        String: "make check\nmake docs\n" [3997,4022]
                                FIELD [4023,4054]
                                    String: "env" [4023,4028]
                                    OBJECT [4029,4054]
                                        FIELD [4030,4053]
                                            String: "PGPASSWORD" [4030,4042]
                                            STRING [4043,4053]
                                                String: "postgres" [4043,4053]
                            OBJECT [4056,4284]
                                FIELD [4057,4082]
                                    String: "name" [4057,4063]
                                    STRING [4064,4082]
                                        String: "Test with pytest" [4064,4082]
                                FIELD [4083,4154]
                                    String: "run" [4083,4088]
                                    STRING [4089,4154]
                                        String: "python -m spacy download en\npytest --cov=./ --cov-report=xml\n" [4089,4154]
                                FIELD [4155,4283]
                                    String: "env" [4155,4160]
                                    OBJECT [4161,4283]
                                        FIELD [4162,4185]
                                            String: "PGPASSWORD" [4162,4174]
                                            STRING [4175,4185]
                                                String: "postgres" [4175,4185]
                                        FIELD [4186,4205]
                                            String: "PGUSER" [4186,4194]
                                            STRING [4195,4205]
                                                String: "postgres" [4195,4205]
                                        FIELD [4206,4226]
                                            String: "POSTGRES_PORT" [4206,4221]
                                            NUMBER [4222,4226]
                                                Number: 5432 [4222,4226]
                                        FIELD [4227,4254]
                                            String: "POSTGRES_HOST" [4227,4242]
                                            STRING [4243,4254]
                                                String: "127.0.0.1" [4243,4254]
                                        FIELD [4255,4282]
                                            String: "KMP_DUPLICATE_LIB_OK" [4255,4277]
                                            TRUE [4278,4282]
                            OBJECT [4285,4454]
                                FIELD [4286,4315]
                                    String: "name" [4286,4292]
                                    STRING [4293,4315]
                                        String: "Upload to codecov.io" [4293,4315]
                                FIELD [4316,4350]
                                    String: "uses" [4316,4322]
                                    STRING [4323,4350]
                                        String: "codecov/codecov-action@v1" [4323,4350]
                                FIELD [4351,4453]
                                    String: "with" [4351,4357]
                                    OBJECT [4358,4453]
                                        FIELD [4359,4382]
                                            String: "file" [4359,4365]
                                            STRING [4366,4382]
                                                String: "./coverage.xml" [4366,4382]
                                        FIELD [4383,4402]
                                            String: "flags" [4383,4390]
                                            STRING [4391,4402]
                                                String: "unittests" [4391,4402]
                                        FIELD [4403,4428]
                                            String: "name" [4403,4409]
                                            STRING [4410,4428]
                                                String: "codecov-umbrella" [4410,4428]
                                        FIELD [4429,4452]
                                            String: "fail_ci_if_error" [4429,4447]
                                            TRUE [4448,4452]
            FIELD [4457,5109]
                String: "build-and-publish" [4457,4476]
                OBJECT [4477,5109]
                    FIELD [4478,4520]
                        String: "name" [4478,4484]
                        STRING [4485,4520]
                            String: "Build and Publish Fonduer to PyPI" [4485,4520]
                    FIELD [4521,4546]
                        String: "runs-on" [4521,4530]
                        STRING [4531,4546]
                            String: "ubuntu-latest" [4531,4546]
                    FIELD [4547,4583]
                        String: "needs" [4547,4554]
                        ARRAY [4555,4583]
                            STRING [4556,4569]
                                String: "ubuntu-test" [4556,4569]
                            STRING [4570,4582]
                                String: "macos-test" [4570,4582]
                    FIELD [4584,4630]
                        String: "strategy" [4584,4594]
                        OBJECT [4595,4630]
                            FIELD [4596,4629]
                                String: "matrix" [4596,4604]
                                OBJECT [4605,4629]
                                    FIELD [4606,4628]
                                        String: "python-version" [4606,4622]
                                        ARRAY [4623,4628]
                                            NUMBER [4624,4627]
                                                Number: 3.7 [4624,4627]
                    FIELD [4631,5108]
                        String: "steps" [4631,4638]
                        ARRAY [4639,5108]
                            OBJECT [4640,4670]
                                FIELD [4641,4669]
                                    String: "uses" [4641,4647]
                                    STRING [4648,4669]
                                        String: "actions/checkout@v2" [4648,4669]
                            OBJECT [4671,4814]
                                FIELD [4672,4723]
                                    String: "name" [4672,4678]
                                    STRING [4679,4723]
                                        String: "Set up Python ${{ matrix.python-version }}" [4679,4723]
                                FIELD [4724,4756]
                                    String: "uses" [4724,4730]
                                    STRING [4731,4756]
                                        String: "actions/setup-python@v1" [4731,4756]
                                FIELD [4757,4813]
                                    String: "with" [4757,4763]
                                    OBJECT [4764,4813]
                                        FIELD [4765,4812]
                                            String: "python-version" [4765,4781]
                                            STRING [4782,4812]
                                                String: "${{ matrix.python-version }}" [4782,4812]
                            OBJECT [4815,4920]
                                FIELD [4816,4838]
                                    String: "name" [4816,4822]
                                    STRING [4823,4838]
                                        String: "Build Fonduer" [4823,4838]
                                FIELD [4839,4919]
                                    String: "run" [4839,4844]
                                    STRING [4845,4919]
                                        String: "pip install -U setuptools wheel pip\npython setup.py sdist bdist_wheel\n" [4845,4919]
                            OBJECT [4921,5107]
                                FIELD [4922,4962]
                                    String: "name" [4922,4928]
                                    STRING [4929,4962]
                                        String: "Publish distribution ðŸ“¦ to PyPI" [4929,4962]
                                FIELD [4963,5011]
                                    String: "if" [4963,4967]
                                    STRING [4968,5011]
                                        String: "startsWith(github.event.ref, 'refs/tags')" [4968,5011]
                                FIELD [5012,5055]
                                    String: "uses" [5012,5018]
                                    STRING [5019,5055]
                                        String: "pypa/gh-action-pypi-publish@master" [5019,5055]
                                FIELD [5056,5106]
                                    String: "with" [5056,5062]
                                    OBJECT [5063,5106]
                                        FIELD [5064,5105]
                                            String: "password" [5064,5074]
                                            STRING [5075,5105]
                                                String: "${{ secrets.pypi_password }}" [5075,5105]