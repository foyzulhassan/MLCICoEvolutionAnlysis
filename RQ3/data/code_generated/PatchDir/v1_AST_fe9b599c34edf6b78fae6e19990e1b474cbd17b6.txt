OBJECT [0,4287]
    FIELD [1,28]
        String: "name" [1,7]
        STRING [8,28]
            String: "Test package build" [8,28]
    FIELD [29,169]
        String: "on" [29,33]
        OBJECT [34,169]
            FIELD [35,88]
                String: "push" [35,41]
                OBJECT [42,88]
                    FIELD [43,87]
                        String: "branches" [43,53]
                        ARRAY [54,87]
                            STRING [55,63]
                                String: "master" [55,63]
                            STRING [64,86]
                                String: "branch-[0-9]+.[0-9]+" [64,86]
            FIELD [89,168]
                String: "pull_request" [89,103]
                OBJECT [104,168]
                    FIELD [105,167]
                        String: "types" [105,112]
                        ARRAY [113,167]
                            STRING [114,122]
                                String: "opened" [114,122]
                            STRING [123,136]
                                String: "synchronize" [123,136]
                            STRING [137,147]
                                String: "reopened" [137,147]
                            STRING [148,166]
                                String: "ready_for_review" [148,166]
    FIELD [170,203]
        String: "permissions" [170,183]
        OBJECT [184,203]
            FIELD [185,202]
                String: "contents" [185,195]
                STRING [196,202]
                    String: "read" [196,202]
    FIELD [204,321]
        String: "concurrency" [204,217]
        OBJECT [218,321]
            FIELD [219,294]
                String: "group" [219,226]
                STRING [227,294]
                    String: "${{ github.workflow }}-${{ github.event_name }}-${{ github.ref }}" [227,294]
            FIELD [295,320]
                String: "cancel-in-progress" [295,315]
                TRUE [316,320]
    FIELD [322,394]
        String: "defaults" [322,332]
        OBJECT [333,394]
            FIELD [334,393]
                String: "run" [334,339]
                OBJECT [340,393]
                    FIELD [341,392]
                        String: "shell" [341,348]
                        STRING [349,392]
                            String: "bash --noprofile --norc -exo pipefail {0}" [349,392]
    FIELD [395,4286]
        String: "jobs" [395,401]
        OBJECT [402,4286]
            FIELD [403,4285]
                String: "build" [403,410]
                OBJECT [411,4285]
                    FIELD [412,498]
                        String: "if" [412,416]
                        STRING [417,498]
                            String: "github.event_name != 'pull_request' || github.event.pull_request.draft == false" [417,498]
                    FIELD [499,524]
                        String: "runs-on" [499,508]
                        STRING [509,524]
                            String: "ubuntu-latest" [509,524]
                    FIELD [525,545]
                        String: "timeout-minutes" [525,542]
                        NUMBER [543,545]
                            Number: 10 [543,545]
                    FIELD [546,579]
                        String: "permissions" [546,559]
                        OBJECT [560,579]
                            FIELD [561,578]
                                String: "actions" [561,570]
                                STRING [571,578]
                                    String: "write" [571,578]
                    FIELD [580,628]
                        String: "strategy" [580,590]
                        OBJECT [591,628]
                            FIELD [592,627]
                                String: "matrix" [592,600]
                                OBJECT [601,627]
                                    FIELD [602,626]
                                        String: "type" [602,608]
                                        ARRAY [609,626]
                                            STRING [610,616]
                                                String: "full" [610,616]
                                            STRING [617,625]
                                                String: "skinny" [617,625]
                    FIELD [629,4284]
                        String: "steps" [629,636]
                        ARRAY [637,4284]
                            OBJECT [638,702]
                                FIELD [639,667]
                                    String: "uses" [639,645]
                                    STRING [646,667]
                                        String: "actions/checkout@v4" [646,667]
                                FIELD [668,701]
                                    String: "with" [668,674]
                                    OBJECT [675,701]
                                        FIELD [676,700]
                                            String: "submodules" [676,688]
                                            STRING [689,700]
                                                String: "recursive" [689,700]
                            OBJECT [703,741]
                                FIELD [704,740]
                                    String: "uses" [704,710]
                                    STRING [711,740]
                                        String: "./.github/actions/untracked" [711,740]
                            OBJECT [742,783]
                                FIELD [743,782]
                                    String: "uses" [743,749]
                                    STRING [750,782]
                                        String: "./.github/actions/setup-python" [750,782]
                            OBJECT [784,845]
                                FIELD [785,815]
                                    String: "uses" [785,791]
                                    STRING [792,815]
                                        String: "actions/setup-node@v3" [792,815]
                                FIELD [816,844]
                                    String: "with" [816,822]
                                    OBJECT [823,844]
                                        FIELD [824,843]
                                            String: "node-version" [824,838]
                                            STRING [839,843]
                                                String: "16" [839,843]
                            OBJECT [846,931]
                                FIELD [847,864]
                                    String: "name" [847,853]
                                    STRING [854,864]
                                        String: "Build UI" [854,864]
                                FIELD [865,903]
                                    String: "working-directory" [865,884]
                                    STRING [885,903]
                                        String: "mlflow/server/js" [885,903]
                                FIELD [904,930]
                                    String: "run" [904,909]
                                    STRING [910,930]
                                        String: "yarn\nyarn build\n" [910,930]
                            OBJECT [932,1046]
                                FIELD [933,972]
                                    String: "name" [933,939]
                                    STRING [940,972]
                                        String: "Check dependencies consistency" [940,972]
                                FIELD [973,1045]
                                    String: "run" [973,978]
                                    STRING [979,1045]
                                        String: "pip install pyyaml\n./dev/validate-requirements-consistency.sh\n" [979,1045]
                            OBJECT [1047,1112]
                                FIELD [1048,1077]
                                    String: "name" [1048,1054]
                                    STRING [1055,1077]
                                        String: "Install dependencies" [1055,1077]
                                FIELD [1078,1111]
                                    String: "run" [1078,1083]
                                    STRING [1084,1111]
                                        String: "pip install build twine\n" [1084,1111]
                            OBJECT [1113,1759]
                                FIELD [1114,1147]
                                    String: "name" [1114,1120]
                                    STRING [1121,1147]
                                        String: "Build distribution files" [1121,1147]
                                FIELD [1148,1165]
                                    String: "id" [1148,1152]
                                    STRING [1153,1165]
                                        String: "build-dist" [1153,1165]
                                FIELD [1166,1758]
                                    String: "run" [1166,1171]
                                    STRING [1172,1758]
                                        String: "if [ \"${{ matrix.type }}\" == \"skinny\" ]; then\n  ./dev/build.sh --skinny\nelse\n  ./dev/build.sh\nfi\n\n# List distribution files and check their file sizes\nls -lh dist\n\n# Set step outputs\nsdist_path=$(find dist -type f -name \"*.tar.gz\")\nwheel_path=$(find dist -type f -name \"*.whl\")\nwheel_name=$(basename $wheel_path)\nwheel_size=$(stat -c %s $wheel_path)\necho \"sdist-path=${sdist_path}\" >> $GITHUB_OUTPUT\necho \"wheel-path=${wheel_path}\" >> $GITHUB_OUTPUT\necho \"wheel-name=${wheel_name}\" >> $GITHUB_OUTPUT\necho \"wheel-size=${wheel_size}\" >> $GITHUB_OUTPUT\n" [1172,1758]
                            OBJECT [1760,1865]
                                FIELD [1761,1803]
                                    String: "name" [1761,1767]
                                    STRING [1768,1803]
                                        String: "List files in source distribution" [1768,1803]
                                FIELD [1804,1864]
                                    String: "run" [1804,1809]
                                    STRING [1810,1864]
                                        String: "tar -tf ${{ steps.build-dist.outputs.sdist-path }}\n" [1810,1864]
                            OBJECT [1866,1972]
                                FIELD [1867,1909]
                                    String: "name" [1867,1873]
                                    STRING [1874,1909]
                                        String: "List files in binary distribution" [1874,1909]
                                FIELD [1910,1971]
                                    String: "run" [1910,1915]
                                    STRING [1916,1971]
                                        String: "unzip -l ${{ steps.build-dist.outputs.wheel-path }}\n" [1916,1971]
                            OBJECT [1973,2275]
                                FIELD [1974,2031]
                                    String: "name" [1974,1980]
                                    STRING [1981,2031]
                                        String: "Compare files in source and binary distributions" [1981,2031]
                                FIELD [2032,2274]
                                    String: "run" [2032,2037]
                                    STRING [2038,2274]
                                        String: "tar -tzf ${{ steps.build-dist.outputs.sdist-path }} | grep -v '/$' | cut -d'/' -f2- | sort > /tmp/source.txt\nzipinfo -1 ${{ steps.build-dist.outputs.wheel-path }} | sort > /tmp/wheel.txt\ndiff /tmp/source.txt /tmp/wheel.txt || true\n" [2038,2274]
                            OBJECT [2276,2376]
                                FIELD [2277,2301]
                                    String: "name" [2277,2283]
                                    STRING [2284,2301]
                                        String: "Run twine check" [2284,2301]
                                FIELD [2302,2375]
                                    String: "run" [2302,2307]
                                    STRING [2308,2375]
                                        String: "twine check --strict ${{ steps.build-dist.outputs.wheel-path }}\n" [2308,2375]
                            OBJECT [2377,2539]
                                FIELD [2378,2417]
                                    String: "name" [2378,2384]
                                    STRING [2385,2417]
                                        String: "Test installation from tarball" [2385,2417]
                                FIELD [2418,2538]
                                    String: "run" [2418,2423]
                                    STRING [2424,2538]
                                        String: "pip install ${{ steps.build-dist.outputs.sdist-path }}\npython -c \"import mlflow; print(mlflow.__version__)\"\n" [2424,2538]
                            OBJECT [2540,2718]
                                FIELD [2541,2578]
                                    String: "name" [2541,2547]
                                    STRING [2548,2578]
                                        String: "Test installation from wheel" [2548,2578]
                                FIELD [2579,2717]
                                    String: "run" [2579,2584]
                                    STRING [2585,2717]
                                        String: "pip install --force-reinstall ${{ steps.build-dist.outputs.wheel-path }}\npython -c \"import mlflow; print(mlflow.__version__)\"\n" [2585,2717]
                            OBJECT [2719,2925]
                                FIELD [2720,2740]
                                    String: "name" [2720,2726]
                                    STRING [2727,2740]
                                        String: "Store wheel" [2727,2740]
                                FIELD [2741,2776]
                                    String: "uses" [2741,2747]
                                    STRING [2748,2776]
                                        String: "actions/upload-artifact@v4" [2748,2776]
                                FIELD [2777,2811]
                                    String: "if" [2777,2781]
                                    STRING [2782,2811]
                                        String: "github.event_name == 'push'" [2782,2811]
                                FIELD [2812,2924]
                                    String: "with" [2812,2818]
                                    OBJECT [2819,2924]
                                        FIELD [2820,2871]
                                            String: "name" [2820,2826]
                                            STRING [2827,2871]
                                                String: "${{ steps.build-dist.outputs.wheel-name }}" [2827,2871]
                                        FIELD [2872,2923]
                                            String: "path" [2872,2878]
                                            STRING [2879,2923]
                                                String: "${{ steps.build-dist.outputs.wheel-path }}" [2879,2923]
                            OBJECT [2926,4283]
                                FIELD [2927,2953]
                                    String: "name" [2927,2933]
                                    STRING [2934,2953]
                                        String: "Remove old wheels" [2934,2953]
                                FIELD [2954,2987]
                                    String: "uses" [2954,2960]
                                    STRING [2961,2987]
                                        String: "actions/github-script@v7" [2961,2987]
                                FIELD [2988,3022]
                                    String: "if" [2988,2992]
                                    STRING [2993,3022]
                                        String: "github.event_name == 'push'" [2993,3022]
                                FIELD [3023,3088]
                                    String: "env" [3023,3028]
                                    OBJECT [3029,3088]
                                        FIELD [3030,3087]
                                            String: "WHEEL_SIZE" [3030,3042]
                                            STRING [3043,3087]
                                                String: "${{ steps.build-dist.outputs.wheel-size }}" [3043,3087]
                                FIELD [3089,4282]
                                    String: "with" [3089,3095]
                                    OBJECT [3096,4282]
                                        FIELD [3097,3141]
                                            String: "github-token" [3097,3111]
                                            STRING [3112,3141]
                                                String: "${{ secrets.GITHUB_TOKEN }}" [3112,3141]
                                        FIELD [3142,4281]
                                            String: "script" [3142,3150]
                                            STRING [3151,4281]
                                                String: "const { owner, repo } = context.repo;\n\n// For some reason, the newly-uploaded wheel in the previous step is not included.\nconst artifactsResp = await github.rest.actions.listArtifactsForRepo({\n  owner,\n  repo,\n});\nconst wheels = artifactsResp.data.artifacts.filter(({ name }) => name.endsWith(\".whl\"));\n\n// The storage usage limit for a free github account is up to 500 MB. See the page below for details:\n// https://docs.github.com/en/github/setting-up-and-managing-billing-and-payments-on-github/about-billing-for-github-actions\nMAX_SIZE_IN_BYTES = 300_000_000; // 300 MB\n\nlet index = 0;\nlet sum = parseInt(process.env.WHEEL_SIZE);  // include the newly-uploaded wheel\nfor (const [idx, { size_in_bytes }] of wheels.entries()) {\n  index = idx;\n  sum += size_in_bytes;\n  if (sum > MAX_SIZE_IN_BYTES) {\n    break;\n  }\n}\n\nif (sum <= MAX_SIZE_IN_BYTES) {\n  return;\n}\n\n// Delete old wheels\nconst promises = wheels.slice(index).map(({ id: artifact_id }) =>\n  github.rest.actions.deleteArtifact({\n    owner,\n    repo,\n    artifact_id,\n  })\n);\nPromise.all(promises).then(data => console.log(data));" [3151,4281]