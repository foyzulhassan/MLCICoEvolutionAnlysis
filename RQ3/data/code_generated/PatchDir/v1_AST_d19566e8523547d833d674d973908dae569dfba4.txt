OBJECT [0,3148]
    FIELD [1,20]
        String: "name" [1,7]
        STRING [8,20]
            String: "model jobs" [8,20]
    FIELD [21,200]
        String: "on" [21,25]
        OBJECT [26,200]
            FIELD [27,199]
                String: "workflow_call" [27,42]
                OBJECT [43,199]
                    FIELD [44,198]
                        String: "inputs" [44,52]
                        OBJECT [53,198]
                            FIELD [54,103]
                                String: "folder_slices" [54,69]
                                OBJECT [70,103]
                                    FIELD [71,86]
                                        String: "required" [71,81]
                                        TRUE [82,86]
                                    FIELD [87,102]
                                        String: "type" [87,93]
                                        STRING [94,102]
                                            String: "string" [94,102]
                            FIELD [104,152]
                                String: "machine_type" [104,118]
                                OBJECT [119,152]
                                    FIELD [120,135]
                                        String: "required" [120,130]
                                        TRUE [131,135]
                                    FIELD [136,151]
                                        String: "type" [136,142]
                                        STRING [143,151]
                                            String: "string" [143,151]
                            FIELD [153,197]
                                String: "slice_id" [153,163]
                                OBJECT [164,197]
                                    FIELD [165,180]
                                        String: "required" [165,175]
                                        TRUE [176,180]
                                    FIELD [181,196]
                                        String: "type" [181,187]
                                        STRING [188,196]
                                            String: "number" [188,196]
    FIELD [201,509]
        String: "env" [201,206]
        OBJECT [207,509]
            FIELD [208,230]
                String: "HF_HOME" [208,217]
                STRING [218,230]
                    String: "/mnt/cache" [218,230]
            FIELD [231,256]
                String: "TRANSFORMERS_IS_CI" [231,251]
                TRUE [252,256]
            FIELD [257,276]
                String: "OMP_NUM_THREADS" [257,274]
                NUMBER [275,276]
                    Number: 8 [275,276]
            FIELD [277,296]
                String: "MKL_NUM_THREADS" [277,294]
                NUMBER [295,296]
                    Number: 8 [295,296]
            FIELD [297,312]
                String: "RUN_SLOW" [297,307]
                TRUE [308,312]
            FIELD [313,367]
                String: "HF_HUB_READ_TOKEN" [313,332]
                STRING [333,367]
                    String: "${{ secrets.HF_HUB_READ_TOKEN }}" [333,367]
            FIELD [368,420]
                String: "SIGOPT_API_TOKEN" [368,386]
                STRING [387,420]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [387,420]
            FIELD [421,453]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [421,448]
                TRUE [449,453]
            FIELD [454,479]
                String: "RUN_PT_TF_CROSS_TESTS" [454,477]
                NUMBER [478,479]
                    Number: 1 [478,479]
            FIELD [480,508]
                String: "CUDA_VISIBLE_DEVICES" [480,502]
                STRING [503,508]
                    String: "0,1" [503,508]
    FIELD [510,3147]
        String: "jobs" [510,516]
        OBJECT [517,3147]
            FIELD [518,3146]
                String: "run_models_gpu" [518,534]
                OBJECT [535,3146]
                    FIELD [536,546]
                        String: "name" [536,542]
                        STRING [543,546]
                            String: " " [543,546]
                    FIELD [547,655]
                        String: "strategy" [547,557]
                        OBJECT [558,655]
                            FIELD [559,576]
                                String: "fail-fast" [559,570]
                                FALSE [571,576]
                            FIELD [577,654]
                                String: "matrix" [577,585]
                                OBJECT [586,654]
                                    FIELD [587,653]
                                        String: "folders" [587,596]
                                        STRING [597,653]
                                            String: "${{ fromJson(inputs.folder_slices)[inputs.slice_id] }}" [597,653]
                    FIELD [656,725]
                        String: "runs-on" [656,665]
                        ARRAY [666,725]
                            STRING [667,695]
                                String: "${{ inputs.machine_type }}" [667,695]
                            STRING [696,708]
                                String: "nvidia-gpu" [696,708]
                            STRING [709,713]
                                String: "t4" [709,713]
                            STRING [714,724]
                                String: "daily-ci" [714,724]
                    FIELD [726,888]
                        String: "container" [726,737]
                        OBJECT [738,888]
                            FIELD [739,788]
                                String: "image" [739,746]
                                STRING [747,788]
                                    String: "huggingface/transformers-all-latest-gpu" [747,788]
                            FIELD [789,887]
                                String: "options" [789,798]
                                STRING [799,887]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [799,887]
                    FIELD [889,3145]
                        String: "steps" [889,896]
                        ARRAY [897,3145]
                            OBJECT [898,1102]
                                FIELD [899,934]
                                    String: "name" [899,905]
                                    STRING [906,934]
                                        String: "Echo input and matrix info" [906,934]
                                FIELD [935,949]
                                    String: "shell" [935,942]
                                    STRING [943,949]
                                        String: "bash" [943,949]
                                FIELD [950,1101]
                                    String: "run" [950,955]
                                    STRING [956,1101]
                                        String: "echo \"${{ inputs.folder_slices }}\"\necho \"${{ matrix.folders }}\"\necho \"${{ toJson(fromJson(inputs.folder_slices)[inputs.slice_id]) }}\"\n" [956,1101]
                            OBJECT [1103,1377]
                                FIELD [1104,1146]
                                    String: "name" [1104,1110]
                                    STRING [1111,1146]
                                        String: "Echo folder ${{ matrix.folders }}" [1111,1146]
                                FIELD [1147,1161]
                                    String: "shell" [1147,1154]
                                    STRING [1155,1161]
                                        String: "bash" [1155,1161]
                                FIELD [1162,1376]
                                    String: "run" [1162,1167]
                                    STRING [1168,1376]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [1168,1376]
                            OBJECT [1378,1489]
                                FIELD [1379,1400]
                                    String: "name" [1379,1385]
                                    STRING [1386,1400]
                                        String: "Update clone" [1386,1400]
                                FIELD [1401,1436]
                                    String: "working-directory" [1401,1420]
                                    STRING [1421,1436]
                                        String: "/transformers" [1421,1436]
                                FIELD [1437,1488]
                                    String: "run" [1437,1442]
                                    STRING [1443,1488]
                                        String: "git fetch && git checkout ${{ github.sha }}" [1443,1488]
                            OBJECT [1490,1705]
                                FIELD [1491,1588]
                                    String: "name" [1491,1497]
                                    STRING [1498,1588]
                                        String: "Reinstall transformers in edit mode (remove the one installed during docker image build)" [1498,1588]
                                FIELD [1589,1624]
                                    String: "working-directory" [1589,1608]
                                    STRING [1609,1624]
                                        String: "/transformers" [1609,1624]
                                FIELD [1625,1704]
                                    String: "run" [1625,1630]
                                    STRING [1631,1704]
                                        String: "python3 -m pip uninstall -y transformers && python3 -m pip install -e ." [1631,1704]
                            OBJECT [1706,1748]
                                FIELD [1707,1726]
                                    String: "name" [1707,1713]
                                    STRING [1714,1726]
                                        String: "NVIDIA-SMI" [1714,1726]
                                FIELD [1727,1747]
                                    String: "run" [1727,1732]
                                    STRING [1733,1747]
                                        String: "nvidia-smi\n" [1733,1747]
                            OBJECT [1749,1844]
                                FIELD [1750,1770]
                                    String: "name" [1750,1756]
                                    STRING [1757,1770]
                                        String: "Environment" [1757,1770]
                                FIELD [1771,1806]
                                    String: "working-directory" [1771,1790]
                                    STRING [1791,1806]
                                        String: "/transformers" [1791,1806]
                                FIELD [1807,1843]
                                    String: "run" [1807,1812]
                                    STRING [1813,1843]
                                        String: "python3 utils/print_env.py\n" [1813,1843]
                            OBJECT [1845,1954]
                                FIELD [1846,1898]
                                    String: "name" [1846,1852]
                                    STRING [1853,1898]
                                        String: "Show installed libraries and their versions" [1853,1898]
                                FIELD [1899,1934]
                                    String: "working-directory" [1899,1918]
                                    STRING [1919,1934]
                                        String: "/transformers" [1919,1934]
                                FIELD [1935,1953]
                                    String: "run" [1935,1940]
                                    STRING [1941,1953]
                                        String: "pip freeze" [1941,1953]
                            OBJECT [1955,2177]
                                FIELD [1956,1985]
                                    String: "name" [1956,1962]
                                    STRING [1963,1985]
                                        String: "Run all tests on GPU" [1963,1985]
                                FIELD [1986,2021]
                                    String: "working-directory" [1986,2005]
                                    STRING [2006,2021]
                                        String: "/transformers" [2006,2021]
                                FIELD [2022,2176]
                                    String: "run" [2022,2027]
                                    STRING [2028,2176]
                                        String: "python3 -m pytest -rsfE -v --make-reports=${{ inputs.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports tests/${{ matrix.folders }}" [2028,2176]
                            OBJECT [2178,2389]
                                FIELD [2179,2209]
                                    String: "name" [2179,2185]
                                    STRING [2186,2209]
                                        String: "Failure short reports" [2186,2209]
                                FIELD [2210,2233]
                                    String: "if" [2210,2214]
                                    STRING [2215,2233]
                                        String: "${{ failure() }}" [2215,2233]
                                FIELD [2234,2258]
                                    String: "continue-on-error" [2234,2253]
                                    TRUE [2254,2258]
                                FIELD [2259,2388]
                                    String: "run" [2259,2264]
                                    STRING [2265,2388]
                                        String: "cat /transformers/reports/${{ inputs.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports/failures_short.txt" [2265,2388]
                            OBJECT [2390,2756]
                                FIELD [2391,2408]
                                    String: "name" [2391,2397]
                                    STRING [2398,2408]
                                        String: "Run test" [2398,2408]
                                FIELD [2409,2423]
                                    String: "shell" [2409,2416]
                                    STRING [2417,2423]
                                        String: "bash" [2417,2423]
                                FIELD [2424,2755]
                                    String: "run" [2424,2429]
                                    STRING [2430,2755]
                                        String: "mkdir -p /transformers/reports/${{ inputs.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports\necho \"hello\" > /transformers/reports/${{ inputs.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports/hello.txt\necho \"${{ inputs.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports\"\n" [2430,2755]
                            OBJECT [2757,3144]
                                FIELD [2758,2877]
                                    String: "name" [2758,2764]
                                    STRING [2765,2877]
                                        String: "Test suite reports artifacts: ${{ inputs.machine_type }}_run_models_gpu_${{ env.matrix_folders }}_test_reports" [2765,2877]
                                FIELD [2878,2900]
                                    String: "if" [2878,2882]
                                    STRING [2883,2900]
                                        String: "${{ always() }}" [2883,2900]
                                FIELD [2901,2936]
                                    String: "uses" [2901,2907]
                                    STRING [2908,2936]
                                        String: "actions/upload-artifact@v4" [2908,2936]
                                FIELD [2937,3143]
                                    String: "with" [2937,2943]
                                    OBJECT [2944,3143]
                                        FIELD [2945,3034]
                                            String: "name" [2945,2951]
                                            STRING [2952,3034]
                                                String: "${{ inputs.machine_type }}_run_models_gpu_${{ env.matrix_folders }}_test_reports" [2952,3034]
                                        FIELD [3035,3142]
                                            String: "path" [3035,3041]
                                            STRING [3042,3142]
                                                String: "/transformers/reports/${{ inputs.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports" [3042,3142]