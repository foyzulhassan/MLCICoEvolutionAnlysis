OBJECT [0,3430]
    FIELD [1,17]
        String: "name" [1,7]
        STRING [8,17]
            String: "PHPUnit" [8,17]
    FIELD [18,255]
        String: "on" [18,22]
        OBJECT [23,255]
            FIELD [24,206]
                String: "pull_request" [24,38]
                OBJECT [39,206]
                    FIELD [40,205]
                        String: "paths" [40,47]
                        ARRAY [48,205]
                            STRING [49,71]
                                String: ".github/workflows/**" [49,71]
                            STRING [72,84]
                                String: "appinfo/**" [72,84]
                            STRING [85,93]
                                String: "lib/**" [85,93]
                            STRING [94,108]
                                String: "templates/**" [94,108]
                            STRING [109,119]
                                String: "tests/**" [109,119]
                            STRING [120,131]
                                String: "vendor/**" [120,131]
                            STRING [132,147]
                                String: "vendor-bin/**" [132,147]
                            STRING [148,172]
                                String: ".php-cs-fixer.dist.php" [148,172]
                            STRING [173,188]
                                String: "composer.json" [173,188]
                            STRING [189,204]
                                String: "composer.lock" [189,204]
            FIELD [207,254]
                String: "push" [207,213]
                OBJECT [214,254]
                    FIELD [215,253]
                        String: "branches" [215,225]
                        ARRAY [226,253]
                            STRING [227,233]
                                String: "main" [227,233]
                            STRING [234,242]
                                String: "master" [234,242]
                            STRING [243,252]
                                String: "stable*" [243,252]
    FIELD [256,289]
        String: "permissions" [256,269]
        OBJECT [270,289]
            FIELD [271,288]
                String: "contents" [271,281]
                STRING [282,288]
                    String: "read" [282,288]
    FIELD [290,399]
        String: "env" [290,295]
        OBJECT [296,399]
            FIELD [297,335]
                String: "PHPUNIT_CONFIG" [297,313]
                STRING [314,335]
                    String: "./tests/phpunit.xml" [314,335]
            FIELD [336,398]
                String: "PHPUNIT_INTEGRATION_CONFIG" [336,364]
                STRING [365,398]
                    String: "./tests/phpunit.integration.xml" [365,398]
    FIELD [400,3429]
        String: "jobs" [400,406]
        OBJECT [407,3429]
            FIELD [408,3174]
                String: "phpunit-mysql" [408,423]
                OBJECT [424,3174]
                    FIELD [425,450]
                        String: "runs-on" [425,434]
                        STRING [435,450]
                            String: "ubuntu-latest" [435,450]
                    FIELD [451,538]
                        String: "strategy" [451,461]
                        OBJECT [462,538]
                            FIELD [463,537]
                                String: "matrix" [463,471]
                                OBJECT [472,537]
                                    FIELD [473,507]
                                        String: "php-versions" [473,487]
                                        ARRAY [488,507]
                                            STRING [489,494]
                                                String: "7.4" [489,494]
                                            STRING [495,500]
                                                String: "8.0" [495,500]
                                            STRING [501,506]
                                                String: "8.1" [501,506]
                                    FIELD [508,536]
                                        String: "server-versions" [508,525]
                                        ARRAY [526,536]
                                            STRING [527,535]
                                                String: "master" [527,535]
                    FIELD [539,760]
                        String: "services" [539,549]
                        OBJECT [550,760]
                            FIELD [551,759]
                                String: "mysql" [551,558]
                                OBJECT [559,759]
                                    FIELD [560,582]
                                        String: "image" [560,567]
                                        STRING [568,582]
                                            String: "mariadb:10.5" [568,582]
                                    FIELD [583,608]
                                        String: "ports" [583,590]
                                        ARRAY [591,608]
                                            STRING [592,607]
                                                String: "4444:3306/tcp" [592,607]
                                    FIELD [609,653]
                                        String: "env" [609,614]
                                        OBJECT [615,653]
                                            FIELD [616,652]
                                                String: "MYSQL_ROOT_PASSWORD" [616,637]
                                                STRING [638,652]
                                                    String: "rootpassword" [638,652]
                                    FIELD [654,758]
                                        String: "options" [654,663]
                                        STRING [664,758]
                                            String: "--health-cmd=\"mysqladmin ping\" --health-interval 5s --health-timeout 2s --health-retries 5" [664,758]
                    FIELD [761,3173]
                        String: "steps" [761,768]
                        ARRAY [769,3173]
                            OBJECT [770,883]
                                FIELD [771,791]
                                    String: "name" [771,777]
                                    STRING [778,791]
                                        String: "Set app env" [778,791]
                                FIELD [792,882]
                                    String: "run" [792,797]
                                    STRING [798,882]
                                        String: "# Split and keep last\necho \"APP_NAME=${GITHUB_REPOSITORY##*/}\" >> $GITHUB_ENV\n" [798,882]
                            OBJECT [884,1156]
                                FIELD [885,932]
                                    String: "name" [885,891]
                                    STRING [892,932]
                                        String: "Enable ONLY_FULL_GROUP_BY MySQL option" [892,932]
                                FIELD [933,1155]
                                    String: "run" [933,938]
                                    STRING [939,1155]
                                        String: "echo \"SET GLOBAL sql_mode=(SELECT CONCAT(@@sql_mode,',ONLY_FULL_GROUP_BY'));\" | mysql -h 127.0.0.1 -P 4444 -u root -prootpassword\necho \"SELECT @@sql_mode;\" | mysql -h 127.0.0.1 -P 4444 -u root -prootpassword\n" [939,1155]
                            OBJECT [1157,1309]
                                FIELD [1158,1182]
                                    String: "name" [1158,1164]
                                    STRING [1165,1182]
                                        String: "Checkout server" [1165,1182]
                                FIELD [1183,1211]
                                    String: "uses" [1183,1189]
                                    STRING [1190,1211]
                                        String: "actions/checkout@v3" [1190,1211]
                                FIELD [1212,1308]
                                    String: "with" [1212,1218]
                                    OBJECT [1219,1308]
                                        FIELD [1220,1237]
                                            String: "submodules" [1220,1232]
                                            TRUE [1233,1237]
                                        FIELD [1238,1269]
                                            String: "repository" [1238,1250]
                                            STRING [1251,1269]
                                                String: "nextcloud/server" [1251,1269]
                                        FIELD [1270,1307]
                                            String: "ref" [1270,1275]
                                            STRING [1276,1307]
                                                String: "${{ matrix.server-versions }}" [1276,1307]
                            OBJECT [1310,1405]
                                FIELD [1311,1332]
                                    String: "name" [1311,1317]
                                    STRING [1318,1332]
                                        String: "Checkout app" [1318,1332]
                                FIELD [1333,1361]
                                    String: "uses" [1333,1339]
                                    STRING [1340,1361]
                                        String: "actions/checkout@v3" [1340,1361]
                                FIELD [1362,1404]
                                    String: "with" [1362,1368]
                                    OBJECT [1369,1404]
                                        FIELD [1370,1403]
                                            String: "path" [1370,1376]
                                            STRING [1377,1403]
                                                String: "apps/${{ env.APP_NAME }}" [1377,1403]
                            OBJECT [1406,1642]
                                FIELD [1407,1453]
                                    String: "name" [1407,1413]
                                    STRING [1414,1453]
                                        String: "Set up php ${{ matrix.php-versions }}" [1414,1453]
                                FIELD [1454,1488]
                                    String: "uses" [1454,1460]
                                    STRING [1461,1488]
                                        String: "shivammathur/setup-php@v2" [1461,1488]
                                FIELD [1489,1641]
                                    String: "with" [1489,1495]
                                    OBJECT [1496,1641]
                                        FIELD [1497,1539]
                                            String: "php-version" [1497,1510]
                                            STRING [1511,1539]
                                                String: "${{ matrix.php-versions }}" [1511,1539]
                                        FIELD [1540,1557]
                                            String: "tools" [1540,1547]
                                            STRING [1548,1557]
                                                String: "phpunit" [1548,1557]
                                        FIELD [1558,1622]
                                            String: "extensions" [1558,1570]
                                            STRING [1571,1622]
                                                String: "mbstring, iconv, fileinfo, intl, mysql, pdo_mysql" [1571,1622]
                                        FIELD [1623,1640]
                                            String: "coverage" [1623,1633]
                                            STRING [1634,1640]
                                                String: "none" [1634,1640]
                            OBJECT [1643,1805]
                                FIELD [1644,1682]
                                    String: "name" [1644,1650]
                                    STRING [1651,1682]
                                        String: "Check composer file existence" [1651,1682]
                                FIELD [1683,1704]
                                    String: "id" [1683,1687]
                                    STRING [1688,1704]
                                        String: "check_composer" [1688,1704]
                                FIELD [1705,1746]
                                    String: "uses" [1705,1711]
                                    STRING [1712,1746]
                                        String: "andstor/file-existence-action@v1" [1712,1746]
                                FIELD [1747,1804]
                                    String: "with" [1747,1753]
                                    OBJECT [1754,1804]
                                        FIELD [1755,1803]
                                            String: "files" [1755,1762]
                                            STRING [1763,1803]
                                                String: "apps/${{ env.APP_NAME }}/composer.json" [1763,1803]
                            OBJECT [1806,1956]
                                FIELD [1807,1830]
                                    String: "name" [1807,1813]
                                    STRING [1814,1830]
                                        String: "Set up PHPUnit" [1814,1830]
                                FIELD [1831,1889]
                                    String: "if" [1831,1835]
                                    STRING [1836,1889]
                                        String: "steps.check_composer.outputs.files_exists == 'true'" [1836,1889]
                                FIELD [1890,1936]
                                    String: "working-directory" [1890,1909]
                                    STRING [1910,1936]
                                        String: "apps/${{ env.APP_NAME }}" [1910,1936]
                                FIELD [1937,1955]
                                    String: "run" [1937,1942]
                                    STRING [1943,1955]
                                        String: "composer i" [1943,1955]
                            OBJECT [1957,2288]
                                FIELD [1958,1983]
                                    String: "name" [1958,1964]
                                    STRING [1965,1983]
                                        String: "Set up Nextcloud" [1965,1983]
                                FIELD [1984,2006]
                                    String: "env" [1984,1989]
                                    OBJECT [1990,2006]
                                        FIELD [1991,2005]
                                            String: "DB_PORT" [1991,2000]
                                            NUMBER [2001,2005]
                                                Number: 4444 [2001,2005]
                                FIELD [2007,2287]
                                    String: "run" [2007,2012]
                                    STRING [2013,2287]
                                        String: "mkdir data\n./occ maintenance:install --verbose --database=mysql --database-name=nextcloud --database-host=127.0.0.1 --database-port=$DB_PORT --database-user=root --database-pass=rootpassword --admin-user admin --admin-pass password\n./occ app:enable ${{ env.APP_NAME }}\n" [2013,2287]
                            OBJECT [2289,2468]
                                FIELD [2290,2334]
                                    String: "name" [2290,2296]
                                    STRING [2297,2334]
                                        String: "Check PHPUnit config file existence" [2297,2334]
                                FIELD [2335,2355]
                                    String: "id" [2335,2339]
                                    STRING [2340,2355]
                                        String: "check_phpunit" [2340,2355]
                                FIELD [2356,2397]
                                    String: "uses" [2356,2362]
                                    STRING [2363,2397]
                                        String: "andstor/file-existence-action@v1" [2363,2397]
                                FIELD [2398,2467]
                                    String: "with" [2398,2404]
                                    OBJECT [2405,2467]
                                        FIELD [2406,2466]
                                            String: "files" [2406,2413]
                                            STRING [2414,2466]
                                                String: "apps/${{ env.APP_NAME }}/${{ env.PHPUNIT_CONFIG }}" [2414,2466]
                            OBJECT [2469,2623]
                                FIELD [2470,2486]
                                    String: "name" [2470,2476]
                                    STRING [2477,2486]
                                        String: "PHPUnit" [2477,2486]
                                FIELD [2487,2544]
                                    String: "if" [2487,2491]
                                    STRING [2492,2544]
                                        String: "steps.check_phpunit.outputs.files_exists == 'true'" [2492,2544]
                                FIELD [2545,2591]
                                    String: "working-directory" [2545,2564]
                                    STRING [2565,2591]
                                        String: "apps/${{ env.APP_NAME }}" [2565,2591]
                                FIELD [2592,2622]
                                    String: "run" [2592,2597]
                                    STRING [2598,2622]
                                        String: "composer run test:unit" [2598,2622]
                            OBJECT [2624,2831]
                                FIELD [2625,2681]
                                    String: "name" [2625,2631]
                                    STRING [2632,2681]
                                        String: "Check PHPUnit integration config file existence" [2632,2681]
                                FIELD [2682,2706]
                                    String: "id" [2682,2686]
                                    STRING [2687,2706]
                                        String: "check_integration" [2687,2706]
                                FIELD [2707,2748]
                                    String: "uses" [2707,2713]
                                    STRING [2714,2748]
                                        String: "andstor/file-existence-action@v1" [2714,2748]
                                FIELD [2749,2830]
                                    String: "with" [2749,2755]
                                    OBJECT [2756,2830]
                                        FIELD [2757,2829]
                                            String: "files" [2757,2764]
                                            STRING [2765,2829]
                                                String: "apps/${{ env.APP_NAME }}/${{ env.PHPUNIT_INTEGRATION_CONFIG }}" [2765,2829]
                            OBJECT [2832,2950]
                                FIELD [2833,2855]
                                    String: "name" [2833,2839]
                                    STRING [2840,2855]
                                        String: "Run Nextcloud" [2840,2855]
                                FIELD [2856,2917]
                                    String: "if" [2856,2860]
                                    STRING [2861,2917]
                                        String: "steps.check_integration.outputs.files_exists == 'true'" [2861,2917]
                                FIELD [2918,2949]
                                    String: "run" [2918,2923]
                                    STRING [2924,2949]
                                        String: "php -S localhost:8080 &" [2924,2949]
                            OBJECT [2951,3172]
                                FIELD [2952,2980]
                                    String: "name" [2952,2958]
                                    STRING [2959,2980]
                                        String: "PHPUnit integration" [2959,2980]
                                FIELD [2981,3042]
                                    String: "if" [2981,2985]
                                    STRING [2986,3042]
                                        String: "steps.check_integration.outputs.files_exists == 'true'" [2986,3042]
                                FIELD [3043,3089]
                                    String: "working-directory" [3043,3062]
                                    STRING [3063,3089]
                                        String: "apps/${{ env.APP_NAME }}" [3063,3089]
                                FIELD [3090,3171]
                                    String: "run" [3090,3095]
                                    STRING [3096,3171]
                                        String: "./vendor/phpunit/phpunit/phpunit -c ${{ env.PHPUNIT_INTEGRATION_CONFIG }}" [3096,3171]
            FIELD [3175,3428]
                String: "summary" [3175,3184]
                OBJECT [3185,3428]
                    FIELD [3186,3219]
                        String: "permissions" [3186,3199]
                        OBJECT [3200,3219]
                            FIELD [3201,3218]
                                String: "contents" [3201,3211]
                                STRING [3212,3218]
                                    String: "none" [3212,3218]
                    FIELD [3220,3245]
                        String: "runs-on" [3220,3229]
                        STRING [3230,3245]
                            String: "ubuntu-latest" [3230,3245]
                    FIELD [3246,3269]
                        String: "needs" [3246,3253]
                        STRING [3254,3269]
                            String: "phpunit-mysql" [3254,3269]
                    FIELD [3270,3285]
                        String: "if" [3270,3274]
                        STRING [3275,3285]
                            String: "always()" [3275,3285]
                    FIELD [3286,3316]
                        String: "name" [3286,3292]
                        STRING [3293,3316]
                            String: "phpunit-mysql-summary" [3293,3316]
                    FIELD [3317,3427]
                        String: "steps" [3317,3324]
                        ARRAY [3325,3427]
                            OBJECT [3326,3426]
                                FIELD [3327,3350]
                                    String: "name" [3327,3333]
                                    STRING [3334,3350]
                                        String: "Summary status" [3334,3350]
                                FIELD [3351,3425]
                                    String: "run" [3351,3356]
                                    STRING [3357,3425]
                                        String: "if ${{ needs.phpunit-mysql.result != 'success' }}; then exit 1; fi" [3357,3425]