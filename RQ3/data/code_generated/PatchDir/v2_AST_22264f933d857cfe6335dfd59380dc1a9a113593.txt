OBJECT [0,18522]
    FIELD [1,35]
        String: "name" [1,7]
        STRING [8,35]
            String: "Self-hosted runner (push)" [8,35]
    FIELD [36,282]
        String: "on" [36,40]
        OBJECT [41,282]
            FIELD [42,149]
                String: "workflow_run" [42,56]
                OBJECT [57,149]
                    FIELD [58,106]
                        String: "workflows" [58,69]
                        ARRAY [70,106]
                            STRING [71,105]
                                String: "Self-hosted runner (push-caller)" [71,105]
                    FIELD [107,126]
                        String: "branches" [107,117]
                        ARRAY [118,126]
                            STRING [119,125]
                                String: "main" [119,125]
                    FIELD [127,148]
                        String: "types" [127,134]
                        ARRAY [135,148]
                            STRING [136,147]
                                String: "completed" [136,147]
            FIELD [150,254]
                String: "push" [150,156]
                OBJECT [157,254]
                    FIELD [158,184]
                        String: "branches" [158,168]
                        ARRAY [169,184]
                            STRING [170,176]
                                String: "ci_*" [170,176]
                            STRING [177,183]
                                String: "ci-*" [177,183]
                    FIELD [185,253]
                        String: "paths" [185,192]
                        ARRAY [193,253]
                            STRING [194,202]
                                String: "src/**" [194,202]
                            STRING [203,213]
                                String: "tests/**" [203,213]
                            STRING [214,226]
                                String: ".github/**" [214,226]
                            STRING [227,241]
                                String: "templates/**" [227,241]
                            STRING [242,252]
                                String: "utils/**" [242,252]
            FIELD [255,281]
                String: "repository_dispatch" [255,276]
                NULL [277,281]
    FIELD [283,458]
        String: "env" [283,288]
        OBJECT [289,458]
            FIELD [290,312]
                String: "HF_HOME" [290,299]
                STRING [300,312]
                    String: "/mnt/cache" [300,312]
            FIELD [313,338]
                String: "TRANSFORMERS_IS_CI" [313,333]
                TRUE [334,338]
            FIELD [339,358]
                String: "OMP_NUM_THREADS" [339,356]
                NUMBER [357,358]
                    Number: 8 [357,358]
            FIELD [359,378]
                String: "MKL_NUM_THREADS" [359,376]
                NUMBER [377,378]
                    Number: 8 [377,378]
            FIELD [379,398]
                String: "PYTEST_TIMEOUT" [379,395]
                NUMBER [396,398]
                    Number: 60 [396,398]
            FIELD [399,431]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [399,426]
                TRUE [427,431]
            FIELD [432,457]
                String: "RUN_PT_TF_CROSS_TESTS" [432,455]
                NUMBER [456,457]
                    Number: 1 [456,457]
    FIELD [459,18521]
        String: "jobs" [459,465]
        OBJECT [466,18521]
            FIELD [467,840]
                String: "check_runner_status" [467,488]
                OBJECT [489,840]
                    FIELD [490,518]
                        String: "name" [490,496]
                        STRING [497,518]
                            String: "Check Runner Status" [497,518]
                    FIELD [519,544]
                        String: "runs-on" [519,528]
                        STRING [529,544]
                            String: "ubuntu-latest" [529,544]
                    FIELD [545,839]
                        String: "steps" [545,552]
                        ARRAY [553,839]
                            OBJECT [554,640]
                                FIELD [555,585]
                                    String: "name" [555,561]
                                    STRING [562,585]
                                        String: "Checkout transformers" [562,585]
                                FIELD [586,614]
                                    String: "uses" [586,592]
                                    STRING [593,614]
                                        String: "actions/checkout@v2" [593,614]
                                FIELD [615,639]
                                    String: "with" [615,621]
                                    OBJECT [622,639]
                                        FIELD [623,638]
                                            String: "fetch-depth" [623,636]
                                            NUMBER [637,638]
                                                Number: 2 [637,638]
                            OBJECT [641,838]
                                FIELD [642,670]
                                    String: "name" [642,648]
                                    STRING [649,670]
                                        String: "Check Runner Status" [649,670]
                                FIELD [671,837]
                                    String: "run" [671,676]
                                    STRING [677,837]
                                        String: "python utils/check_self_hosted_runner.py --target_runners single-gpu-ci-runner-docker,multi-gpu-ci-runner-docker --token ${{ secrets.ACCESS_REPO_INFO_TOKEN }}" [677,837]
            FIELD [841,1259]
                String: "check_runners" [841,856]
                OBJECT [857,1259]
                    FIELD [858,880]
                        String: "name" [858,864]
                        STRING [865,880]
                            String: "Check Runners" [865,880]
                    FIELD [881,910]
                        String: "needs" [881,888]
                        STRING [889,910]
                            String: "check_runner_status" [889,910]
                    FIELD [911,976]
                        String: "strategy" [911,921]
                        OBJECT [922,976]
                            FIELD [923,975]
                                String: "matrix" [923,931]
                                OBJECT [932,975]
                                    FIELD [933,974]
                                        String: "machine_type" [933,947]
                                        ARRAY [948,974]
                                            STRING [949,961]
                                                String: "single-gpu" [949,961]
                                            STRING [962,973]
                                                String: "multi-gpu" [962,973]
                    FIELD [977,1044]
                        String: "runs-on" [977,986]
                        ARRAY [987,1044]
                            STRING [988,1001]
                                String: "self-hosted" [988,1001]
                            STRING [1002,1014]
                                String: "docker-gpu" [1002,1014]
                            STRING [1015,1043]
                                String: "${{ matrix.machine_type }}" [1015,1043]
                    FIELD [1045,1205]
                        String: "container" [1045,1056]
                        OBJECT [1057,1205]
                            FIELD [1058,1107]
                                String: "image" [1058,1065]
                                STRING [1066,1107]
                                    String: "huggingface/transformers-all-latest-gpu" [1066,1107]
                            FIELD [1108,1204]
                                String: "options" [1108,1117]
                                STRING [1118,1204]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1118,1204]
                    FIELD [1206,1258]
                        String: "steps" [1206,1213]
                        ARRAY [1214,1258]
                            OBJECT [1215,1257]
                                FIELD [1216,1235]
                                    String: "name" [1216,1222]
                                    STRING [1223,1235]
                                        String: "NVIDIA-SMI" [1223,1235]
                                FIELD [1236,1256]
                                    String: "run" [1236,1241]
                                    STRING [1242,1256]
                                        String: "nvidia-smi\n" [1242,1256]
            FIELD [1260,3973]
                String: "setup" [1260,1267]
                OBJECT [1268,3973]
                    FIELD [1269,1283]
                        String: "name" [1269,1275]
                        STRING [1276,1283]
                            String: "Setup" [1276,1283]
                    FIELD [1284,1307]
                        String: "needs" [1284,1291]
                        STRING [1292,1307]
                            String: "check_runners" [1292,1307]
                    FIELD [1308,1373]
                        String: "strategy" [1308,1318]
                        OBJECT [1319,1373]
                            FIELD [1320,1372]
                                String: "matrix" [1320,1328]
                                OBJECT [1329,1372]
                                    FIELD [1330,1371]
                                        String: "machine_type" [1330,1344]
                                        ARRAY [1345,1371]
                                            STRING [1346,1358]
                                                String: "single-gpu" [1346,1358]
                                            STRING [1359,1370]
                                                String: "multi-gpu" [1359,1370]
                    FIELD [1374,1441]
                        String: "runs-on" [1374,1383]
                        ARRAY [1384,1441]
                            STRING [1385,1398]
                                String: "self-hosted" [1385,1398]
                            STRING [1399,1411]
                                String: "docker-gpu" [1399,1411]
                            STRING [1412,1440]
                                String: "${{ matrix.machine_type }}" [1412,1440]
                    FIELD [1442,1602]
                        String: "container" [1442,1453]
                        OBJECT [1454,1602]
                            FIELD [1455,1504]
                                String: "image" [1455,1462]
                                STRING [1463,1504]
                                    String: "huggingface/transformers-all-latest-gpu" [1463,1504]
                            FIELD [1505,1601]
                                String: "options" [1505,1514]
                                STRING [1515,1601]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1515,1601]
                    FIELD [1603,1718]
                        String: "outputs" [1603,1612]
                        OBJECT [1613,1718]
                            FIELD [1614,1663]
                                String: "matrix" [1614,1622]
                                STRING [1623,1663]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [1623,1663]
                            FIELD [1664,1717]
                                String: "test_map" [1664,1674]
                                STRING [1675,1717]
                                    String: "${{ steps.set-matrix.outputs.test_map }}" [1675,1717]
                    FIELD [1719,3972]
                        String: "steps" [1719,1726]
                        ARRAY [1727,3972]
                            OBJECT [1728,2445]
                                FIELD [1729,1774]
                                    String: "name" [1729,1735]
                                    STRING [1736,1774]
                                        String: "Prepare custom environment variables" [1736,1774]
                                FIELD [1775,1789]
                                    String: "shell" [1775,1782]
                                    STRING [1783,1789]
                                        String: "bash" [1783,1789]
                                FIELD [1790,2444]
                                    String: "run" [1790,1795]
                                    STRING [1796,2444]
                                        String: "CI_BRANCH_PUSH=${{ github.event.ref }}\nCI_BRANCH_PUSH=${CI_BRANCH_PUSH/'refs/heads/'/''}\nCI_BRANCH_WORKFLOW_RUN=${{ github.event.workflow_run.head_branch }}\nCI_SHA_PUSH=${{ github.event.head_commit.id }}\nCI_SHA_WORKFLOW_RUN=${{ github.event.workflow_run.head_sha }}\necho $CI_BRANCH_PUSH\necho $CI_BRANCH_WORKFLOW_RUN\necho $CI_SHA_PUSH\necho $CI_SHA_WORKFLOW_RUN\n[[ ! -z \"$CI_BRANCH_PUSH\" ]] && echo \"CI_BRANCH=$CI_BRANCH_PUSH\" >> $GITHUB_ENV || echo \"CI_BRANCH=$CI_BRANCH_WORKFLOW_RUN\" >> $GITHUB_ENV\n[[ ! -z \"$CI_SHA_PUSH\" ]] && echo \"CI_SHA=$CI_SHA_PUSH\" >> $GITHUB_ENV || echo \"CI_SHA=$CI_SHA_WORKFLOW_RUN\" >> $GITHUB_ENV\n" [1796,2444]
                            OBJECT [2446,2581]
                                FIELD [2447,2483]
                                    String: "name" [2447,2453]
                                    STRING [2454,2483]
                                        String: "print environment variables" [2454,2483]
                                FIELD [2484,2580]
                                    String: "run" [2484,2489]
                                    STRING [2490,2580]
                                        String: "echo \"env.CI_BRANCH = ${{ env.CI_BRANCH }}\"\necho \"env.CI_SHA = ${{ env.CI_SHA }}\"\n" [2490,2580]
                            OBJECT [2582,2668]
                                FIELD [2583,2613]
                                    String: "name" [2583,2589]
                                    STRING [2590,2613]
                                        String: "Checkout transformers" [2590,2613]
                                FIELD [2614,2642]
                                    String: "uses" [2614,2620]
                                    STRING [2621,2642]
                                        String: "actions/checkout@v2" [2621,2642]
                                FIELD [2643,2667]
                                    String: "with" [2643,2649]
                                    OBJECT [2650,2667]
                                        FIELD [2651,2666]
                                            String: "fetch-depth" [2651,2664]
                                            NUMBER [2665,2666]
                                                Number: 2 [2665,2666]
                            OBJECT [2669,2954]
                                FIELD [2670,2719]
                                    String: "name" [2670,2676]
                                    STRING [2677,2719]
                                        String: "Update clone using environment variables" [2677,2719]
                                FIELD [2720,2953]
                                    String: "run" [2720,2725]
                                    STRING [2726,2953]
                                        String: "echo \"original branch = $(git branch --show-current)\"\ngit fetch && git checkout ${{ env.CI_BRANCH }}\necho \"updated branch = $(git branch --show-current)\"\ngit checkout ${{ env.CI_SHA }}\necho \"log = $(git log -n 1)\"\n" [2726,2953]
                            OBJECT [2955,3057]
                                FIELD [2956,2972]
                                    String: "name" [2956,2962]
                                    STRING [2963,2972]
                                        String: "Cleanup" [2963,2972]
                                FIELD [2973,3056]
                                    String: "run" [2973,2978]
                                    STRING [2979,3056]
                                        String: "rm -rf tests/__pycache__\nrm -rf tests/models/__pycache__\nrm -rf reports\n" [2979,3056]
                            OBJECT [3058,3216]
                                FIELD [3059,3090]
                                    String: "name" [3059,3065]
                                    STRING [3066,3090]
                                        String: "Fetch the tests to run" [3066,3090]
                                FIELD [3091,3215]
                                    String: "run" [3091,3096]
                                    STRING [3097,3215]
                                        String: "pip install --upgrade git-python\npython utils/tests_fetcher.py --diff_with_last_commit | tee test_preparation.txt\n" [3097,3215]
                            OBJECT [3217,3345]
                                FIELD [3218,3247]
                                    String: "name" [3218,3224]
                                    STRING [3225,3247]
                                        String: "Report fetched tests" [3225,3247]
                                FIELD [3248,3283]
                                    String: "uses" [3248,3254]
                                    STRING [3255,3283]
                                        String: "actions/upload-artifact@v2" [3255,3283]
                                FIELD [3284,3344]
                                    String: "with" [3284,3290]
                                    OBJECT [3291,3344]
                                        FIELD [3292,3313]
                                            String: "name" [3292,3298]
                                            STRING [3299,3313]
                                                String: "test_fetched" [3299,3313]
                                        FIELD [3314,3343]
                                            String: "path" [3314,3320]
                                            STRING [3321,3343]
                                                String: "test_preparation.txt" [3321,3343]
                            OBJECT [3346,3971]
                                FIELD [3347,3364]
                                    String: "id" [3347,3351]
                                    STRING [3352,3364]
                                        String: "set-matrix" [3352,3364]
                                FIELD [3365,3400]
                                    String: "name" [3365,3371]
                                    STRING [3372,3400]
                                        String: "Organize tests into models" [3372,3400]
                                FIELD [3401,3970]
                                    String: "run" [3401,3406]
                                    STRING [3407,3970]
                                        String: "if [ -f test_map.json ]; then\n    keys=$(python3 -c 'import json; fp = open(\"test_map.json\"); test_map = json.load(fp); fp.close(); d = list(test_map.keys()); print(d)')\n    test_map=$(python3 -c 'import json; fp = open(\"test_map.json\"); test_map = json.load(fp); fp.close(); print(test_map)')\nelse\n    keys=$(python3 -c 'keys = [\"dummy\"]; print(keys)')\n    test_map=$(python3 -c 'test_map = {\"dummy\": []}; print(test_map)')\nfi\necho $keys\necho $test_map\necho \"::set-output name=matrix::$keys\"\necho \"::set-output name=test_map::$test_map\"\n" [3407,3970]
            FIELD [3974,6894]
                String: "run_tests_single_gpu" [3974,3996]
                OBJECT [3997,6894]
                    FIELD [3998,4018]
                        String: "name" [3998,4004]
                        STRING [4005,4018]
                            String: "Model tests" [4005,4018]
                    FIELD [4019,4034]
                        String: "needs" [4019,4026]
                        STRING [4027,4034]
                            String: "setup" [4027,4034]
                    FIELD [4035,4105]
                        String: "if" [4035,4039]
                        STRING [4040,4105]
                            String: "contains(fromJson(needs.setup.outputs.matrix), 'dummy') != true" [4040,4105]
                    FIELD [4106,4233]
                        String: "strategy" [4106,4116]
                        OBJECT [4117,4233]
                            FIELD [4118,4135]
                                String: "fail-fast" [4118,4129]
                                FALSE [4130,4135]
                            FIELD [4136,4232]
                                String: "matrix" [4136,4144]
                                OBJECT [4145,4232]
                                    FIELD [4146,4201]
                                        String: "folders" [4146,4155]
                                        STRING [4156,4201]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [4156,4201]
                                    FIELD [4202,4231]
                                        String: "machine_type" [4202,4216]
                                        ARRAY [4217,4231]
                                            STRING [4218,4230]
                                                String: "single-gpu" [4218,4230]
                    FIELD [4234,4301]
                        String: "runs-on" [4234,4243]
                        ARRAY [4244,4301]
                            STRING [4245,4258]
                                String: "self-hosted" [4245,4258]
                            STRING [4259,4271]
                                String: "docker-gpu" [4259,4271]
                            STRING [4272,4300]
                                String: "${{ matrix.machine_type }}" [4272,4300]
                    FIELD [4302,4462]
                        String: "container" [4302,4313]
                        OBJECT [4314,4462]
                            FIELD [4315,4364]
                                String: "image" [4315,4322]
                                STRING [4323,4364]
                                    String: "huggingface/transformers-all-latest-gpu" [4323,4364]
                            FIELD [4365,4461]
                                String: "options" [4365,4374]
                                STRING [4375,4461]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [4375,4461]
                    FIELD [4463,6893]
                        String: "steps" [4463,4470]
                        ARRAY [4471,6893]
                            OBJECT [4472,5189]
                                FIELD [4473,4518]
                                    String: "name" [4473,4479]
                                    STRING [4480,4518]
                                        String: "Prepare custom environment variables" [4480,4518]
                                FIELD [4519,4533]
                                    String: "shell" [4519,4526]
                                    STRING [4527,4533]
                                        String: "bash" [4527,4533]
                                FIELD [4534,5188]
                                    String: "run" [4534,4539]
                                    STRING [4540,5188]
                                        String: "CI_BRANCH_PUSH=${{ github.event.ref }}\nCI_BRANCH_PUSH=${CI_BRANCH_PUSH/'refs/heads/'/''}\nCI_BRANCH_WORKFLOW_RUN=${{ github.event.workflow_run.head_branch }}\nCI_SHA_PUSH=${{ github.event.head_commit.id }}\nCI_SHA_WORKFLOW_RUN=${{ github.event.workflow_run.head_sha }}\necho $CI_BRANCH_PUSH\necho $CI_BRANCH_WORKFLOW_RUN\necho $CI_SHA_PUSH\necho $CI_SHA_WORKFLOW_RUN\n[[ ! -z \"$CI_BRANCH_PUSH\" ]] && echo \"CI_BRANCH=$CI_BRANCH_PUSH\" >> $GITHUB_ENV || echo \"CI_BRANCH=$CI_BRANCH_WORKFLOW_RUN\" >> $GITHUB_ENV\n[[ ! -z \"$CI_SHA_PUSH\" ]] && echo \"CI_SHA=$CI_SHA_PUSH\" >> $GITHUB_ENV || echo \"CI_SHA=$CI_SHA_WORKFLOW_RUN\" >> $GITHUB_ENV\n" [4540,5188]
                            OBJECT [5190,5325]
                                FIELD [5191,5227]
                                    String: "name" [5191,5197]
                                    STRING [5198,5227]
                                        String: "print environment variables" [5198,5227]
                                FIELD [5228,5324]
                                    String: "run" [5228,5233]
                                    STRING [5234,5324]
                                        String: "echo \"env.CI_BRANCH = ${{ env.CI_BRANCH }}\"\necho \"env.CI_SHA = ${{ env.CI_SHA }}\"\n" [5234,5324]
                            OBJECT [5326,5647]
                                FIELD [5327,5376]
                                    String: "name" [5327,5333]
                                    STRING [5334,5376]
                                        String: "Update clone using environment variables" [5334,5376]
                                FIELD [5377,5412]
                                    String: "working-directory" [5377,5396]
                                    STRING [5397,5412]
                                        String: "/transformers" [5397,5412]
                                FIELD [5413,5646]
                                    String: "run" [5413,5418]
                                    STRING [5419,5646]
                                        String: "echo \"original branch = $(git branch --show-current)\"\ngit fetch && git checkout ${{ env.CI_BRANCH }}\necho \"updated branch = $(git branch --show-current)\"\ngit checkout ${{ env.CI_SHA }}\necho \"log = $(git log -n 1)\"\n" [5419,5646]
                            OBJECT [5648,5994]
                                FIELD [5649,5691]
                                    String: "name" [5649,5655]
                                    STRING [5656,5691]
                                        String: "Echo folder ${{ matrix.folders }}" [5656,5691]
                                FIELD [5692,5706]
                                    String: "shell" [5692,5699]
                                    STRING [5700,5706]
                                        String: "bash" [5700,5706]
                                FIELD [5707,5993]
                                    String: "run" [5707,5712]
                                    STRING [5713,5993]
                                        String: "echo \"${{ matrix.folders }}\"\necho \"${{ fromJson(needs.setup.outputs.test_map)[matrix.folders] }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [5713,5993]
                            OBJECT [5995,6037]
                                FIELD [5996,6015]
                                    String: "name" [5996,6002]
                                    STRING [6003,6015]
                                        String: "NVIDIA-SMI" [6003,6015]
                                FIELD [6016,6036]
                                    String: "run" [6016,6021]
                                    STRING [6022,6036]
                                        String: "nvidia-smi\n" [6022,6036]
                            OBJECT [6038,6133]
                                FIELD [6039,6059]
                                    String: "name" [6039,6045]
                                    STRING [6046,6059]
                                        String: "Environment" [6046,6059]
                                FIELD [6060,6095]
                                    String: "working-directory" [6060,6079]
                                    STRING [6080,6095]
                                        String: "/transformers" [6080,6095]
                                FIELD [6096,6132]
                                    String: "run" [6096,6101]
                                    STRING [6102,6132]
                                        String: "python3 utils/print_env.py\n" [6102,6132]
                            OBJECT [6134,6407]
                                FIELD [6135,6182]
                                    String: "name" [6135,6141]
                                    STRING [6142,6182]
                                        String: "Run all non-slow selected tests on GPU" [6142,6182]
                                FIELD [6183,6218]
                                    String: "working-directory" [6183,6202]
                                    STRING [6203,6218]
                                        String: "/transformers" [6203,6218]
                                FIELD [6219,6406]
                                    String: "run" [6219,6224]
                                    STRING [6225,6406]
                                        String: "python3 -m pytest -n 2 --dist=loadfile -v --make-reports=${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }} ${{ fromJson(needs.setup.outputs.test_map)[matrix.folders] }}\n" [6225,6406]
                            OBJECT [6408,6601]
                                FIELD [6409,6439]
                                    String: "name" [6409,6415]
                                    STRING [6416,6439]
                                        String: "Failure short reports" [6416,6439]
                                FIELD [6440,6463]
                                    String: "if" [6440,6444]
                                    STRING [6445,6463]
                                        String: "${{ failure() }}" [6445,6463]
                                FIELD [6464,6488]
                                    String: "continue-on-error" [6464,6483]
                                    TRUE [6484,6488]
                                FIELD [6489,6600]
                                    String: "run" [6489,6494]
                                    STRING [6495,6600]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [6495,6600]
                            OBJECT [6602,6892]
                                FIELD [6603,6640]
                                    String: "name" [6603,6609]
                                    STRING [6610,6640]
                                        String: "Test suite reports artifacts" [6610,6640]
                                FIELD [6641,6663]
                                    String: "if" [6641,6645]
                                    STRING [6646,6663]
                                        String: "${{ always() }}" [6646,6663]
                                FIELD [6664,6699]
                                    String: "uses" [6664,6670]
                                    STRING [6671,6699]
                                        String: "actions/upload-artifact@v2" [6671,6699]
                                FIELD [6700,6891]
                                    String: "with" [6700,6706]
                                    OBJECT [6707,6891]
                                        FIELD [6708,6800]
                                            String: "name" [6708,6714]
                                            STRING [6715,6800]
                                                String: "${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports" [6715,6800]
                                        FIELD [6801,6890]
                                            String: "path" [6801,6807]
                                            STRING [6808,6890]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}" [6808,6890]
            FIELD [6895,9851]
                String: "run_tests_multi_gpu" [6895,6916]
                OBJECT [6917,9851]
                    FIELD [6918,6938]
                        String: "name" [6918,6924]
                        STRING [6925,6938]
                            String: "Model tests" [6925,6938]
                    FIELD [6939,6954]
                        String: "needs" [6939,6946]
                        STRING [6947,6954]
                            String: "setup" [6947,6954]
                    FIELD [6955,7025]
                        String: "if" [6955,6959]
                        STRING [6960,7025]
                            String: "contains(fromJson(needs.setup.outputs.matrix), 'dummy') != true" [6960,7025]
                    FIELD [7026,7152]
                        String: "strategy" [7026,7036]
                        OBJECT [7037,7152]
                            FIELD [7038,7055]
                                String: "fail-fast" [7038,7049]
                                FALSE [7050,7055]
                            FIELD [7056,7151]
                                String: "matrix" [7056,7064]
                                OBJECT [7065,7151]
                                    FIELD [7066,7121]
                                        String: "folders" [7066,7075]
                                        STRING [7076,7121]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [7076,7121]
                                    FIELD [7122,7150]
                                        String: "machine_type" [7122,7136]
                                        ARRAY [7137,7150]
                                            STRING [7138,7149]
                                                String: "multi-gpu" [7138,7149]
                    FIELD [7153,7220]
                        String: "runs-on" [7153,7162]
                        ARRAY [7163,7220]
                            STRING [7164,7177]
                                String: "self-hosted" [7164,7177]
                            STRING [7178,7190]
                                String: "docker-gpu" [7178,7190]
                            STRING [7191,7219]
                                String: "${{ matrix.machine_type }}" [7191,7219]
                    FIELD [7221,7383]
                        String: "container" [7221,7232]
                        OBJECT [7233,7383]
                            FIELD [7234,7283]
                                String: "image" [7234,7241]
                                STRING [7242,7283]
                                    String: "huggingface/transformers-all-latest-gpu" [7242,7283]
                            FIELD [7284,7382]
                                String: "options" [7284,7293]
                                STRING [7294,7382]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [7294,7382]
                    FIELD [7384,9850]
                        String: "steps" [7384,7391]
                        ARRAY [7392,9850]
                            OBJECT [7393,8110]
                                FIELD [7394,7439]
                                    String: "name" [7394,7400]
                                    STRING [7401,7439]
                                        String: "Prepare custom environment variables" [7401,7439]
                                FIELD [7440,7454]
                                    String: "shell" [7440,7447]
                                    STRING [7448,7454]
                                        String: "bash" [7448,7454]
                                FIELD [7455,8109]
                                    String: "run" [7455,7460]
                                    STRING [7461,8109]
                                        String: "CI_BRANCH_PUSH=${{ github.event.ref }}\nCI_BRANCH_PUSH=${CI_BRANCH_PUSH/'refs/heads/'/''}\nCI_BRANCH_WORKFLOW_RUN=${{ github.event.workflow_run.head_branch }}\nCI_SHA_PUSH=${{ github.event.head_commit.id }}\nCI_SHA_WORKFLOW_RUN=${{ github.event.workflow_run.head_sha }}\necho $CI_BRANCH_PUSH\necho $CI_BRANCH_WORKFLOW_RUN\necho $CI_SHA_PUSH\necho $CI_SHA_WORKFLOW_RUN\n[[ ! -z \"$CI_BRANCH_PUSH\" ]] && echo \"CI_BRANCH=$CI_BRANCH_PUSH\" >> $GITHUB_ENV || echo \"CI_BRANCH=$CI_BRANCH_WORKFLOW_RUN\" >> $GITHUB_ENV\n[[ ! -z \"$CI_SHA_PUSH\" ]] && echo \"CI_SHA=$CI_SHA_PUSH\" >> $GITHUB_ENV || echo \"CI_SHA=$CI_SHA_WORKFLOW_RUN\" >> $GITHUB_ENV\n" [7461,8109]
                            OBJECT [8111,8246]
                                FIELD [8112,8148]
                                    String: "name" [8112,8118]
                                    STRING [8119,8148]
                                        String: "print environment variables" [8119,8148]
                                FIELD [8149,8245]
                                    String: "run" [8149,8154]
                                    STRING [8155,8245]
                                        String: "echo \"env.CI_BRANCH = ${{ env.CI_BRANCH }}\"\necho \"env.CI_SHA = ${{ env.CI_SHA }}\"\n" [8155,8245]
                            OBJECT [8247,8568]
                                FIELD [8248,8297]
                                    String: "name" [8248,8254]
                                    STRING [8255,8297]
                                        String: "Update clone using environment variables" [8255,8297]
                                FIELD [8298,8333]
                                    String: "working-directory" [8298,8317]
                                    STRING [8318,8333]
                                        String: "/transformers" [8318,8333]
                                FIELD [8334,8567]
                                    String: "run" [8334,8339]
                                    STRING [8340,8567]
                                        String: "echo \"original branch = $(git branch --show-current)\"\ngit fetch && git checkout ${{ env.CI_BRANCH }}\necho \"updated branch = $(git branch --show-current)\"\ngit checkout ${{ env.CI_SHA }}\necho \"log = $(git log -n 1)\"\n" [8340,8567]
                            OBJECT [8569,8915]
                                FIELD [8570,8612]
                                    String: "name" [8570,8576]
                                    STRING [8577,8612]
                                        String: "Echo folder ${{ matrix.folders }}" [8577,8612]
                                FIELD [8613,8627]
                                    String: "shell" [8613,8620]
                                    STRING [8621,8627]
                                        String: "bash" [8621,8627]
                                FIELD [8628,8914]
                                    String: "run" [8628,8633]
                                    STRING [8634,8914]
                                        String: "echo \"${{ matrix.folders }}\"\necho \"${{ fromJson(needs.setup.outputs.test_map)[matrix.folders] }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [8634,8914]
                            OBJECT [8916,8958]
                                FIELD [8917,8936]
                                    String: "name" [8917,8923]
                                    STRING [8924,8936]
                                        String: "NVIDIA-SMI" [8924,8936]
                                FIELD [8937,8957]
                                    String: "run" [8937,8942]
                                    STRING [8943,8957]
                                        String: "nvidia-smi\n" [8943,8957]
                            OBJECT [8959,9054]
                                FIELD [8960,8980]
                                    String: "name" [8960,8966]
                                    STRING [8967,8980]
                                        String: "Environment" [8967,8980]
                                FIELD [8981,9016]
                                    String: "working-directory" [8981,9000]
                                    STRING [9001,9016]
                                        String: "/transformers" [9001,9016]
                                FIELD [9017,9053]
                                    String: "run" [9017,9022]
                                    STRING [9023,9053]
                                        String: "python3 utils/print_env.py\n" [9023,9053]
                            OBJECT [9055,9364]
                                FIELD [9056,9103]
                                    String: "name" [9056,9062]
                                    STRING [9063,9103]
                                        String: "Run all non-slow selected tests on GPU" [9063,9103]
                                FIELD [9104,9139]
                                    String: "env" [9104,9109]
                                    OBJECT [9110,9139]
                                        FIELD [9111,9138]
                                            String: "MKL_SERVICE_FORCE_INTEL" [9111,9136]
                                            NUMBER [9137,9138]
                                                Number: 1 [9137,9138]
                                FIELD [9140,9175]
                                    String: "working-directory" [9140,9159]
                                    STRING [9160,9175]
                                        String: "/transformers" [9160,9175]
                                FIELD [9176,9363]
                                    String: "run" [9176,9181]
                                    STRING [9182,9363]
                                        String: "python3 -m pytest -n 2 --dist=loadfile -v --make-reports=${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }} ${{ fromJson(needs.setup.outputs.test_map)[matrix.folders] }}\n" [9182,9363]
                            OBJECT [9365,9558]
                                FIELD [9366,9396]
                                    String: "name" [9366,9372]
                                    STRING [9373,9396]
                                        String: "Failure short reports" [9373,9396]
                                FIELD [9397,9420]
                                    String: "if" [9397,9401]
                                    STRING [9402,9420]
                                        String: "${{ failure() }}" [9402,9420]
                                FIELD [9421,9445]
                                    String: "continue-on-error" [9421,9440]
                                    TRUE [9441,9445]
                                FIELD [9446,9557]
                                    String: "run" [9446,9451]
                                    STRING [9452,9557]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [9452,9557]
                            OBJECT [9559,9849]
                                FIELD [9560,9597]
                                    String: "name" [9560,9566]
                                    STRING [9567,9597]
                                        String: "Test suite reports artifacts" [9567,9597]
                                FIELD [9598,9620]
                                    String: "if" [9598,9602]
                                    STRING [9603,9620]
                                        String: "${{ always() }}" [9603,9620]
                                FIELD [9621,9656]
                                    String: "uses" [9621,9627]
                                    STRING [9628,9656]
                                        String: "actions/upload-artifact@v2" [9628,9656]
                                FIELD [9657,9848]
                                    String: "with" [9657,9663]
                                    OBJECT [9664,9848]
                                        FIELD [9665,9757]
                                            String: "name" [9665,9671]
                                            STRING [9672,9757]
                                                String: "${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports" [9672,9757]
                                        FIELD [9758,9847]
                                            String: "path" [9758,9764]
                                            STRING [9765,9847]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}" [9765,9847]
            FIELD [9852,12906]
                String: "run_tests_torch_cuda_extensions_single_gpu" [9852,9896]
                OBJECT [9897,12906]
                    FIELD [9898,9933]
                        String: "name" [9898,9904]
                        STRING [9905,9933]
                            String: "Torch CUDA extension tests" [9905,9933]
                    FIELD [9934,9949]
                        String: "needs" [9934,9941]
                        STRING [9942,9949]
                            String: "setup" [9942,9949]
                    FIELD [9950,10078]
                        String: "if" [9950,9954]
                        STRING [9955,10078]
                            String: "contains(fromJson(needs.setup.outputs.matrix), 'deepspeed') || contains(fromJson(needs.setup.outputs.matrix), 'extended')" [9955,10078]
                    FIELD [10079,10150]
                        String: "strategy" [10079,10089]
                        OBJECT [10090,10150]
                            FIELD [10091,10108]
                                String: "fail-fast" [10091,10102]
                                FALSE [10103,10108]
                            FIELD [10109,10149]
                                String: "matrix" [10109,10117]
                                OBJECT [10118,10149]
                                    FIELD [10119,10148]
                                        String: "machine_type" [10119,10133]
                                        ARRAY [10134,10148]
                                            STRING [10135,10147]
                                                String: "single-gpu" [10135,10147]
                    FIELD [10151,10218]
                        String: "runs-on" [10151,10160]
                        ARRAY [10161,10218]
                            STRING [10162,10175]
                                String: "self-hosted" [10162,10175]
                            STRING [10176,10188]
                                String: "docker-gpu" [10176,10188]
                            STRING [10189,10217]
                                String: "${{ matrix.machine_type }}" [10189,10217]
                    FIELD [10219,10393]
                        String: "container" [10219,10230]
                        OBJECT [10231,10393]
                            FIELD [10232,10295]
                                String: "image" [10232,10239]
                                STRING [10240,10295]
                                    String: "huggingface/transformers-pytorch-deepspeed-latest-gpu" [10240,10295]
                            FIELD [10296,10392]
                                String: "options" [10296,10305]
                                STRING [10306,10392]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [10306,10392]
                    FIELD [10394,12905]
                        String: "steps" [10394,10401]
                        ARRAY [10402,12905]
                            OBJECT [10403,11120]
                                FIELD [10404,10449]
                                    String: "name" [10404,10410]
                                    STRING [10411,10449]
                                        String: "Prepare custom environment variables" [10411,10449]
                                FIELD [10450,10464]
                                    String: "shell" [10450,10457]
                                    STRING [10458,10464]
                                        String: "bash" [10458,10464]
                                FIELD [10465,11119]
                                    String: "run" [10465,10470]
                                    STRING [10471,11119]
                                        String: "CI_BRANCH_PUSH=${{ github.event.ref }}\nCI_BRANCH_PUSH=${CI_BRANCH_PUSH/'refs/heads/'/''}\nCI_BRANCH_WORKFLOW_RUN=${{ github.event.workflow_run.head_branch }}\nCI_SHA_PUSH=${{ github.event.head_commit.id }}\nCI_SHA_WORKFLOW_RUN=${{ github.event.workflow_run.head_sha }}\necho $CI_BRANCH_PUSH\necho $CI_BRANCH_WORKFLOW_RUN\necho $CI_SHA_PUSH\necho $CI_SHA_WORKFLOW_RUN\n[[ ! -z \"$CI_BRANCH_PUSH\" ]] && echo \"CI_BRANCH=$CI_BRANCH_PUSH\" >> $GITHUB_ENV || echo \"CI_BRANCH=$CI_BRANCH_WORKFLOW_RUN\" >> $GITHUB_ENV\n[[ ! -z \"$CI_SHA_PUSH\" ]] && echo \"CI_SHA=$CI_SHA_PUSH\" >> $GITHUB_ENV || echo \"CI_SHA=$CI_SHA_WORKFLOW_RUN\" >> $GITHUB_ENV\n" [10471,11119]
                            OBJECT [11121,11256]
                                FIELD [11122,11158]
                                    String: "name" [11122,11128]
                                    STRING [11129,11158]
                                        String: "print environment variables" [11129,11158]
                                FIELD [11159,11255]
                                    String: "run" [11159,11164]
                                    STRING [11165,11255]
                                        String: "echo \"env.CI_BRANCH = ${{ env.CI_BRANCH }}\"\necho \"env.CI_SHA = ${{ env.CI_SHA }}\"\n" [11165,11255]
                            OBJECT [11257,11588]
                                FIELD [11258,11307]
                                    String: "name" [11258,11264]
                                    STRING [11265,11307]
                                        String: "Update clone using environment variables" [11265,11307]
                                FIELD [11308,11353]
                                    String: "working-directory" [11308,11327]
                                    STRING [11328,11353]
                                        String: "/workspace/transformers" [11328,11353]
                                FIELD [11354,11587]
                                    String: "run" [11354,11359]
                                    STRING [11360,11587]
                                        String: "echo \"original branch = $(git branch --show-current)\"\ngit fetch && git checkout ${{ env.CI_BRANCH }}\necho \"updated branch = $(git branch --show-current)\"\ngit checkout ${{ env.CI_SHA }}\necho \"log = $(git log -n 1)\"\n" [11360,11587]
                            OBJECT [11589,11683]
                                FIELD [11590,11629]
                                    String: "name" [11590,11596]
                                    STRING [11597,11629]
                                        String: "Remove cached torch extensions" [11597,11629]
                                FIELD [11630,11682]
                                    String: "run" [11630,11635]
                                    STRING [11636,11682]
                                        String: "rm -rf /github/home/.cache/torch_extensions/" [11636,11682]
                            OBJECT [11684,12007]
                                FIELD [11685,11721]
                                    String: "name" [11685,11691]
                                    STRING [11692,11721]
                                        String: "Pre build DeepSpeed *again*" [11692,11721]
                                FIELD [11722,11754]
                                    String: "working-directory" [11722,11741]
                                    STRING [11742,11754]
                                        String: "/workspace" [11742,11754]
                                FIELD [11755,12006]
                                    String: "run" [11755,11760]
                                    STRING [11761,12006]
                                        String: "python3 -m pip uninstall -y deepspeed\nDS_BUILD_CPU_ADAM=1 DS_BUILD_FUSED_ADAM=1 DS_BUILD_AIO=1 DS_BUILD_UTILS=1 python3 -m pip install deepspeed --global-option=\"build_ext\" --global-option=\"-j8\" --no-cache -v --disable-pip-version-check\n" [11761,12006]
                            OBJECT [12008,12050]
                                FIELD [12009,12028]
                                    String: "name" [12009,12015]
                                    STRING [12016,12028]
                                        String: "NVIDIA-SMI" [12016,12028]
                                FIELD [12029,12049]
                                    String: "run" [12029,12034]
                                    STRING [12035,12049]
                                        String: "nvidia-smi\n" [12035,12049]
                            OBJECT [12051,12155]
                                FIELD [12052,12072]
                                    String: "name" [12052,12058]
                                    STRING [12059,12072]
                                        String: "Environment" [12059,12072]
                                FIELD [12073,12118]
                                    String: "working-directory" [12073,12092]
                                    STRING [12093,12118]
                                        String: "/workspace/transformers" [12093,12118]
                                FIELD [12119,12154]
                                    String: "run" [12119,12124]
                                    STRING [12125,12154]
                                        String: "python utils/print_env.py\n" [12125,12154]
                            OBJECT [12156,12407]
                                FIELD [12157,12204]
                                    String: "name" [12157,12163]
                                    STRING [12164,12204]
                                        String: "Run all non-slow selected tests on GPU" [12164,12204]
                                FIELD [12205,12250]
                                    String: "working-directory" [12205,12224]
                                    STRING [12225,12250]
                                        String: "/workspace/transformers" [12225,12250]
                                FIELD [12251,12406]
                                    String: "run" [12251,12256]
                                    STRING [12257,12406]
                                        String: "python -m pytest -n 1 --dist=loadfile -v --make-reports=${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [12257,12406]
                            OBJECT [12408,12611]
                                FIELD [12409,12439]
                                    String: "name" [12409,12415]
                                    STRING [12416,12439]
                                        String: "Failure short reports" [12416,12439]
                                FIELD [12440,12463]
                                    String: "if" [12440,12444]
                                    STRING [12445,12463]
                                        String: "${{ failure() }}" [12445,12463]
                                FIELD [12464,12488]
                                    String: "continue-on-error" [12464,12483]
                                    TRUE [12484,12488]
                                FIELD [12489,12610]
                                    String: "run" [12489,12494]
                                    STRING [12495,12610]
                                        String: "cat /workspace/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu/failures_short.txt" [12495,12610]
                            OBJECT [12612,12904]
                                FIELD [12613,12650]
                                    String: "name" [12613,12619]
                                    STRING [12620,12650]
                                        String: "Test suite reports artifacts" [12620,12650]
                                FIELD [12651,12673]
                                    String: "if" [12651,12655]
                                    STRING [12656,12673]
                                        String: "${{ always() }}" [12656,12673]
                                FIELD [12674,12709]
                                    String: "uses" [12674,12680]
                                    STRING [12681,12709]
                                        String: "actions/upload-artifact@v2" [12681,12709]
                                FIELD [12710,12903]
                                    String: "with" [12710,12716]
                                    OBJECT [12717,12903]
                                        FIELD [12718,12802]
                                            String: "name" [12718,12724]
                                            STRING [12725,12802]
                                                String: "${{ matrix.machine_type }}_run_tests_torch_cuda_extensions_gpu_test_reports" [12725,12802]
                                        FIELD [12803,12902]
                                            String: "path" [12803,12809]
                                            STRING [12810,12902]
                                                String: "/workspace/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu" [12810,12902]
            FIELD [12907,15961]
                String: "run_tests_torch_cuda_extensions_multi_gpu" [12907,12950]
                OBJECT [12951,15961]
                    FIELD [12952,12987]
                        String: "name" [12952,12958]
                        STRING [12959,12987]
                            String: "Torch CUDA extension tests" [12959,12987]
                    FIELD [12988,13003]
                        String: "needs" [12988,12995]
                        STRING [12996,13003]
                            String: "setup" [12996,13003]
                    FIELD [13004,13132]
                        String: "if" [13004,13008]
                        STRING [13009,13132]
                            String: "contains(fromJson(needs.setup.outputs.matrix), 'deepspeed') || contains(fromJson(needs.setup.outputs.matrix), 'extended')" [13009,13132]
                    FIELD [13133,13203]
                        String: "strategy" [13133,13143]
                        OBJECT [13144,13203]
                            FIELD [13145,13162]
                                String: "fail-fast" [13145,13156]
                                FALSE [13157,13162]
                            FIELD [13163,13202]
                                String: "matrix" [13163,13171]
                                OBJECT [13172,13202]
                                    FIELD [13173,13201]
                                        String: "machine_type" [13173,13187]
                                        ARRAY [13188,13201]
                                            STRING [13189,13200]
                                                String: "multi-gpu" [13189,13200]
                    FIELD [13204,13271]
                        String: "runs-on" [13204,13213]
                        ARRAY [13214,13271]
                            STRING [13215,13228]
                                String: "self-hosted" [13215,13228]
                            STRING [13229,13241]
                                String: "docker-gpu" [13229,13241]
                            STRING [13242,13270]
                                String: "${{ matrix.machine_type }}" [13242,13270]
                    FIELD [13272,13448]
                        String: "container" [13272,13283]
                        OBJECT [13284,13448]
                            FIELD [13285,13348]
                                String: "image" [13285,13292]
                                STRING [13293,13348]
                                    String: "huggingface/transformers-pytorch-deepspeed-latest-gpu" [13293,13348]
                            FIELD [13349,13447]
                                String: "options" [13349,13358]
                                STRING [13359,13447]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [13359,13447]
                    FIELD [13449,15960]
                        String: "steps" [13449,13456]
                        ARRAY [13457,15960]
                            OBJECT [13458,14175]
                                FIELD [13459,13504]
                                    String: "name" [13459,13465]
                                    STRING [13466,13504]
                                        String: "Prepare custom environment variables" [13466,13504]
                                FIELD [13505,13519]
                                    String: "shell" [13505,13512]
                                    STRING [13513,13519]
                                        String: "bash" [13513,13519]
                                FIELD [13520,14174]
                                    String: "run" [13520,13525]
                                    STRING [13526,14174]
                                        String: "CI_BRANCH_PUSH=${{ github.event.ref }}\nCI_BRANCH_PUSH=${CI_BRANCH_PUSH/'refs/heads/'/''}\nCI_BRANCH_WORKFLOW_RUN=${{ github.event.workflow_run.head_branch }}\nCI_SHA_PUSH=${{ github.event.head_commit.id }}\nCI_SHA_WORKFLOW_RUN=${{ github.event.workflow_run.head_sha }}\necho $CI_BRANCH_PUSH\necho $CI_BRANCH_WORKFLOW_RUN\necho $CI_SHA_PUSH\necho $CI_SHA_WORKFLOW_RUN\n[[ ! -z \"$CI_BRANCH_PUSH\" ]] && echo \"CI_BRANCH=$CI_BRANCH_PUSH\" >> $GITHUB_ENV || echo \"CI_BRANCH=$CI_BRANCH_WORKFLOW_RUN\" >> $GITHUB_ENV\n[[ ! -z \"$CI_SHA_PUSH\" ]] && echo \"CI_SHA=$CI_SHA_PUSH\" >> $GITHUB_ENV || echo \"CI_SHA=$CI_SHA_WORKFLOW_RUN\" >> $GITHUB_ENV\n" [13526,14174]
                            OBJECT [14176,14311]
                                FIELD [14177,14213]
                                    String: "name" [14177,14183]
                                    STRING [14184,14213]
                                        String: "print environment variables" [14184,14213]
                                FIELD [14214,14310]
                                    String: "run" [14214,14219]
                                    STRING [14220,14310]
                                        String: "echo \"env.CI_BRANCH = ${{ env.CI_BRANCH }}\"\necho \"env.CI_SHA = ${{ env.CI_SHA }}\"\n" [14220,14310]
                            OBJECT [14312,14643]
                                FIELD [14313,14362]
                                    String: "name" [14313,14319]
                                    STRING [14320,14362]
                                        String: "Update clone using environment variables" [14320,14362]
                                FIELD [14363,14408]
                                    String: "working-directory" [14363,14382]
                                    STRING [14383,14408]
                                        String: "/workspace/transformers" [14383,14408]
                                FIELD [14409,14642]
                                    String: "run" [14409,14414]
                                    STRING [14415,14642]
                                        String: "echo \"original branch = $(git branch --show-current)\"\ngit fetch && git checkout ${{ env.CI_BRANCH }}\necho \"updated branch = $(git branch --show-current)\"\ngit checkout ${{ env.CI_SHA }}\necho \"log = $(git log -n 1)\"\n" [14415,14642]
                            OBJECT [14644,14738]
                                FIELD [14645,14684]
                                    String: "name" [14645,14651]
                                    STRING [14652,14684]
                                        String: "Remove cached torch extensions" [14652,14684]
                                FIELD [14685,14737]
                                    String: "run" [14685,14690]
                                    STRING [14691,14737]
                                        String: "rm -rf /github/home/.cache/torch_extensions/" [14691,14737]
                            OBJECT [14739,15062]
                                FIELD [14740,14776]
                                    String: "name" [14740,14746]
                                    STRING [14747,14776]
                                        String: "Pre build DeepSpeed *again*" [14747,14776]
                                FIELD [14777,14809]
                                    String: "working-directory" [14777,14796]
                                    STRING [14797,14809]
                                        String: "/workspace" [14797,14809]
                                FIELD [14810,15061]
                                    String: "run" [14810,14815]
                                    STRING [14816,15061]
                                        String: "python3 -m pip uninstall -y deepspeed\nDS_BUILD_CPU_ADAM=1 DS_BUILD_FUSED_ADAM=1 DS_BUILD_AIO=1 DS_BUILD_UTILS=1 python3 -m pip install deepspeed --global-option=\"build_ext\" --global-option=\"-j8\" --no-cache -v --disable-pip-version-check\n" [14816,15061]
                            OBJECT [15063,15105]
                                FIELD [15064,15083]
                                    String: "name" [15064,15070]
                                    STRING [15071,15083]
                                        String: "NVIDIA-SMI" [15071,15083]
                                FIELD [15084,15104]
                                    String: "run" [15084,15089]
                                    STRING [15090,15104]
                                        String: "nvidia-smi\n" [15090,15104]
                            OBJECT [15106,15210]
                                FIELD [15107,15127]
                                    String: "name" [15107,15113]
                                    STRING [15114,15127]
                                        String: "Environment" [15114,15127]
                                FIELD [15128,15173]
                                    String: "working-directory" [15128,15147]
                                    STRING [15148,15173]
                                        String: "/workspace/transformers" [15148,15173]
                                FIELD [15174,15209]
                                    String: "run" [15174,15179]
                                    STRING [15180,15209]
                                        String: "python utils/print_env.py\n" [15180,15209]
                            OBJECT [15211,15462]
                                FIELD [15212,15259]
                                    String: "name" [15212,15218]
                                    STRING [15219,15259]
                                        String: "Run all non-slow selected tests on GPU" [15219,15259]
                                FIELD [15260,15305]
                                    String: "working-directory" [15260,15279]
                                    STRING [15280,15305]
                                        String: "/workspace/transformers" [15280,15305]
                                FIELD [15306,15461]
                                    String: "run" [15306,15311]
                                    STRING [15312,15461]
                                        String: "python -m pytest -n 1 --dist=loadfile -v --make-reports=${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [15312,15461]
                            OBJECT [15463,15666]
                                FIELD [15464,15494]
                                    String: "name" [15464,15470]
                                    STRING [15471,15494]
                                        String: "Failure short reports" [15471,15494]
                                FIELD [15495,15518]
                                    String: "if" [15495,15499]
                                    STRING [15500,15518]
                                        String: "${{ failure() }}" [15500,15518]
                                FIELD [15519,15543]
                                    String: "continue-on-error" [15519,15538]
                                    TRUE [15539,15543]
                                FIELD [15544,15665]
                                    String: "run" [15544,15549]
                                    STRING [15550,15665]
                                        String: "cat /workspace/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu/failures_short.txt" [15550,15665]
                            OBJECT [15667,15959]
                                FIELD [15668,15705]
                                    String: "name" [15668,15674]
                                    STRING [15675,15705]
                                        String: "Test suite reports artifacts" [15675,15705]
                                FIELD [15706,15728]
                                    String: "if" [15706,15710]
                                    STRING [15711,15728]
                                        String: "${{ always() }}" [15711,15728]
                                FIELD [15729,15764]
                                    String: "uses" [15729,15735]
                                    STRING [15736,15764]
                                        String: "actions/upload-artifact@v2" [15736,15764]
                                FIELD [15765,15958]
                                    String: "with" [15765,15771]
                                    OBJECT [15772,15958]
                                        FIELD [15773,15857]
                                            String: "name" [15773,15779]
                                            STRING [15780,15857]
                                                String: "${{ matrix.machine_type }}_run_tests_torch_cuda_extensions_gpu_test_reports" [15780,15857]
                                        FIELD [15858,15957]
                                            String: "path" [15858,15864]
                                            STRING [15865,15957]
                                                String: "/workspace/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu" [15865,15957]
            FIELD [15962,18520]
                String: "send_results" [15962,15976]
                OBJECT [15977,18520]
                    FIELD [15978,16010]
                        String: "name" [15978,15984]
                        STRING [15985,16010]
                            String: "Send results to webhook" [15985,16010]
                    FIELD [16011,16036]
                        String: "runs-on" [16011,16020]
                        STRING [16021,16036]
                            String: "ubuntu-latest" [16021,16036]
                    FIELD [16037,16052]
                        String: "if" [16037,16041]
                        STRING [16042,16052]
                            String: "always()" [16042,16052]
                    FIELD [16053,16242]
                        String: "needs" [16053,16060]
                        ARRAY [16061,16242]
                            STRING [16062,16083]
                                String: "check_runner_status" [16062,16083]
                            STRING [16084,16099]
                                String: "check_runners" [16084,16099]
                            STRING [16100,16107]
                                String: "setup" [16100,16107]
                            STRING [16108,16130]
                                String: "run_tests_single_gpu" [16108,16130]
                            STRING [16131,16152]
                                String: "run_tests_multi_gpu" [16131,16152]
                            STRING [16153,16197]
                                String: "run_tests_torch_cuda_extensions_single_gpu" [16153,16197]
                            STRING [16198,16241]
                                String: "run_tests_torch_cuda_extensions_multi_gpu" [16198,16241]
                    FIELD [16243,18519]
                        String: "steps" [16243,16250]
                        ARRAY [16251,18519]
                            OBJECT [16252,16489]
                                FIELD [16253,16284]
                                    String: "name" [16253,16259]
                                    STRING [16260,16284]
                                        String: "Preliminary job status" [16260,16284]
                                FIELD [16285,16299]
                                    String: "shell" [16285,16292]
                                    STRING [16293,16299]
                                        String: "bash" [16293,16299]
                                FIELD [16300,16488]
                                    String: "run" [16300,16305]
                                    STRING [16306,16488]
                                        String: "echo \"Runner availability: ${{ needs.check_runner_status.result }}\"\necho \"Setup status: ${{ needs.setup.result }}\"\necho \"Runner status: ${{ needs.check_runners.result }}\"\n" [16306,16488]
                            OBJECT [16490,17207]
                                FIELD [16491,16536]
                                    String: "name" [16491,16497]
                                    STRING [16498,16536]
                                        String: "Prepare custom environment variables" [16498,16536]
                                FIELD [16537,16551]
                                    String: "shell" [16537,16544]
                                    STRING [16545,16551]
                                        String: "bash" [16545,16551]
                                FIELD [16552,17206]
                                    String: "run" [16552,16557]
                                    STRING [16558,17206]
                                        String: "CI_BRANCH_PUSH=${{ github.event.ref }}\nCI_BRANCH_PUSH=${CI_BRANCH_PUSH/'refs/heads/'/''}\nCI_BRANCH_WORKFLOW_RUN=${{ github.event.workflow_run.head_branch }}\nCI_SHA_PUSH=${{ github.event.head_commit.id }}\nCI_SHA_WORKFLOW_RUN=${{ github.event.workflow_run.head_sha }}\necho $CI_BRANCH_PUSH\necho $CI_BRANCH_WORKFLOW_RUN\necho $CI_SHA_PUSH\necho $CI_SHA_WORKFLOW_RUN\n[[ ! -z \"$CI_BRANCH_PUSH\" ]] && echo \"CI_BRANCH=$CI_BRANCH_PUSH\" >> $GITHUB_ENV || echo \"CI_BRANCH=$CI_BRANCH_WORKFLOW_RUN\" >> $GITHUB_ENV\n[[ ! -z \"$CI_SHA_PUSH\" ]] && echo \"CI_SHA=$CI_SHA_PUSH\" >> $GITHUB_ENV || echo \"CI_SHA=$CI_SHA_WORKFLOW_RUN\" >> $GITHUB_ENV\n" [16558,17206]
                            OBJECT [17208,17343]
                                FIELD [17209,17245]
                                    String: "name" [17209,17215]
                                    STRING [17216,17245]
                                        String: "print environment variables" [17216,17245]
                                FIELD [17246,17342]
                                    String: "run" [17246,17251]
                                    STRING [17252,17342]
                                        String: "echo \"env.CI_BRANCH = ${{ env.CI_BRANCH }}\"\necho \"env.CI_SHA = ${{ env.CI_SHA }}\"\n" [17252,17342]
                            OBJECT [17344,17374]
                                FIELD [17345,17373]
                                    String: "uses" [17345,17351]
                                    STRING [17352,17373]
                                        String: "actions/checkout@v2" [17352,17373]
                            OBJECT [17375,17660]
                                FIELD [17376,17425]
                                    String: "name" [17376,17382]
                                    STRING [17383,17425]
                                        String: "Update clone using environment variables" [17383,17425]
                                FIELD [17426,17659]
                                    String: "run" [17426,17431]
                                    STRING [17432,17659]
                                        String: "echo \"original branch = $(git branch --show-current)\"\ngit fetch && git checkout ${{ env.CI_BRANCH }}\necho \"updated branch = $(git branch --show-current)\"\ngit checkout ${{ env.CI_SHA }}\necho \"log = $(git log -n 1)\"\n" [17432,17659]
                            OBJECT [17661,17700]
                                FIELD [17662,17699]
                                    String: "uses" [17662,17668]
                                    STRING [17669,17699]
                                        String: "actions/download-artifact@v2" [17669,17699]
                            OBJECT [17701,18518]
                                FIELD [17702,17732]
                                    String: "name" [17702,17708]
                                    STRING [17709,17732]
                                        String: "Send message to Slack" [17709,17732]
                                FIELD [17733,18411]
                                    String: "env" [17733,17738]
                                    OBJECT [17739,18411]
                                        FIELD [17740,17796]
                                            String: "CI_SLACK_BOT_TOKEN" [17740,17760]
                                            STRING [17761,17796]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [17761,17796]
                                        FIELD [17797,17855]
                                            String: "CI_SLACK_CHANNEL_ID" [17797,17818]
                                            STRING [17819,17855]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [17819,17855]
                                        FIELD [17856,17926]
                                            String: "CI_SLACK_CHANNEL_ID_DAILY" [17856,17883]
                                            STRING [17884,17926]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY }}" [17884,17926]
                                        FIELD [17927,18003]
                                            String: "CI_SLACK_CHANNEL_DUMMY_TESTS" [17927,17957]
                                            STRING [17958,18003]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_DUMMY_TESTS }}" [17958,18003]
                                        FIELD [18004,18069]
                                            String: "CI_SLACK_REPORT_CHANNEL_ID" [18004,18032]
                                            STRING [18033,18069]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [18033,18069]
                                        FIELD [18070,18087]
                                            String: "CI_EVENT" [18070,18080]
                                            STRING [18081,18087]
                                                String: "push" [18081,18087]
                                        FIELD [18088,18145]
                                            String: "CI_TITLE_PUSH" [18088,18103]
                                            STRING [18104,18145]
                                                String: "${{ github.event.head_commit.message }}" [18104,18145]
                                        FIELD [18146,18224]
                                            String: "CI_TITLE_WORKFLOW_RUN" [18146,18169]
                                            STRING [18170,18224]
                                                String: "${{ github.event.workflow_run.head_commit.message }}" [18170,18224]
                                        FIELD [18225,18253]
                                            String: "CI_SHA" [18225,18233]
                                            STRING [18234,18253]
                                                String: "${{ env.CI_SHA }}" [18234,18253]
                                        FIELD [18254,18311]
                                            String: "RUNNER_STATUS" [18254,18269]
                                            STRING [18270,18311]
                                                String: "${{ needs.check_runner_status.result }}" [18270,18311]
                                        FIELD [18312,18367]
                                            String: "RUNNER_ENV_STATUS" [18312,18331]
                                            STRING [18332,18367]
                                                String: "${{ needs.check_runners.result }}" [18332,18367]
                                        FIELD [18368,18410]
                                            String: "SETUP_STATUS" [18368,18382]
                                            STRING [18383,18410]
                                                String: "${{ needs.setup.result }}" [18383,18410]
                                FIELD [18412,18517]
                                    String: "run" [18412,18417]
                                    STRING [18418,18517]
                                        String: "pip install slack_sdk\npython utils/notification_service.py \"${{ needs.setup.outputs.matrix }}\"" [18418,18517]