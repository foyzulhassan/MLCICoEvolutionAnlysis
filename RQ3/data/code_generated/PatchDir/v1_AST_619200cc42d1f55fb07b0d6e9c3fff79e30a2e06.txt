OBJECT [0,10782]
    FIELD [1,40]
        String: "name" [1,7]
        STRING [8,40]
            String: "Self-hosted runner (scheduled)" [8,40]
    FIELD [41,143]
        String: "on" [41,45]
        OBJECT [46,143]
            FIELD [47,81]
                String: "push" [47,53]
                OBJECT [54,81]
                    FIELD [55,80]
                        String: "branches" [55,65]
                        ARRAY [66,80]
                            STRING [67,79]
                                String: "multi_ci_*" [67,79]
            FIELD [82,108]
                String: "repository_dispatch" [82,103]
                NULL [104,108]
            FIELD [109,142]
                String: "schedule" [109,119]
                ARRAY [120,142]
                    OBJECT [121,141]
                        FIELD [122,140]
                            String: "cron" [122,128]
                            STRING [129,140]
                                String: "0 0 * * *" [129,140]
    FIELD [144,258]
        String: "env" [144,149]
        OBJECT [150,258]
            FIELD [151,173]
                String: "HF_HOME" [151,160]
                STRING [161,173]
                    String: "/mnt/cache" [161,173]
            FIELD [174,199]
                String: "TRANSFORMERS_IS_CI" [174,194]
                TRUE [195,199]
            FIELD [200,215]
                String: "RUN_SLOW" [200,210]
                TRUE [211,215]
            FIELD [216,236]
                String: "OMP_NUM_THREADS" [216,233]
                NUMBER [234,236]
                    Number: 16 [234,236]
            FIELD [237,257]
                String: "MKL_NUM_THREADS" [237,254]
                NUMBER [255,257]
                    Number: 16 [255,257]
    FIELD [259,10781]
        String: "jobs" [259,265]
        OBJECT [266,10781]
            FIELD [267,2362]
                String: "run_all_tests_torch_gpu" [267,292]
                OBJECT [293,2362]
                    FIELD [294,345]
                        String: "runs-on" [294,303]
                        ARRAY [304,345]
                            STRING [305,318]
                                String: "self-hosted" [305,318]
                            STRING [319,331]
                                String: "docker-gpu" [319,331]
                            STRING [332,344]
                                String: "single-gpu" [332,344]
                    FIELD [346,512]
                        String: "container" [346,357]
                        OBJECT [358,512]
                            FIELD [359,414]
                                String: "image" [359,366]
                                STRING [367,414]
                                    String: "pytorch/pytorch:1.8.0-cuda11.1-cudnn8-runtime" [367,414]
                            FIELD [415,511]
                                String: "options" [415,424]
                                STRING [425,511]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [425,511]
                    FIELD [513,2361]
                        String: "steps" [513,520]
                        ARRAY [521,2361]
                            OBJECT [522,577]
                                FIELD [523,547]
                                    String: "name" [523,529]
                                    STRING [530,547]
                                        String: "Launcher docker" [530,547]
                                FIELD [548,576]
                                    String: "uses" [548,554]
                                    STRING [555,576]
                                        String: "actions/checkout@v2" [555,576]
                            OBJECT [578,620]
                                FIELD [579,598]
                                    String: "name" [579,585]
                                    STRING [586,598]
                                        String: "NVIDIA-SMI" [586,598]
                                FIELD [599,619]
                                    String: "run" [599,604]
                                    STRING [605,619]
                                        String: "nvidia-smi\n" [605,619]
                            OBJECT [621,802]
                                FIELD [622,651]
                                    String: "name" [622,628]
                                    STRING [629,651]
                                        String: "Install dependencies" [629,651]
                                FIELD [652,801]
                                    String: "run" [652,657]
                                    STRING [658,801]
                                        String: "apt -y update && apt install -y libsndfile1-dev\npip install --upgrade pip\npip install .[sklearn,testing,onnxruntime,sentencepiece,speech]\n" [658,801]
                            OBJECT [803,1192]
                                FIELD [804,853]
                                    String: "name" [804,810]
                                    STRING [811,853]
                                        String: "Are GPUs recognized by our DL frameworks" [811,853]
                                FIELD [854,1191]
                                    String: "run" [854,859]
                                    STRING [860,1191]
                                        String: "python -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Cuda version:', torch.version.cuda)\"\npython -c \"import torch; print('CuDNN version:', torch.backends.cudnn.version())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [860,1191]
                            OBJECT [1193,1309]
                                FIELD [1194,1223]
                                    String: "name" [1194,1200]
                                    STRING [1201,1223]
                                        String: "Run all tests on GPU" [1201,1223]
                                FIELD [1224,1308]
                                    String: "run" [1224,1229]
                                    STRING [1230,1308]
                                        String: "python -m pytest -n 1 --dist=loadfile --make-reports=tests_torch_gpu tests\n" [1230,1308]
                            OBJECT [1310,1420]
                                FIELD [1311,1341]
                                    String: "name" [1311,1317]
                                    STRING [1318,1341]
                                        String: "Failure short reports" [1318,1341]
                                FIELD [1342,1364]
                                    String: "if" [1342,1346]
                                    STRING [1347,1364]
                                        String: "${{ always() }}" [1347,1364]
                                FIELD [1365,1419]
                                    String: "run" [1365,1370]
                                    STRING [1371,1419]
                                        String: "cat reports/tests_torch_gpu_failures_short.txt" [1371,1419]
                            OBJECT [1421,1743]
                                FIELD [1422,1456]
                                    String: "name" [1422,1428]
                                    STRING [1429,1456]
                                        String: "Run examples tests on GPU" [1429,1456]
                                FIELD [1457,1479]
                                    String: "if" [1457,1461]
                                    STRING [1462,1479]
                                        String: "${{ always() }}" [1462,1479]
                                FIELD [1480,1594]
                                    String: "env" [1480,1485]
                                    OBJECT [1486,1594]
                                        FIELD [1487,1507]
                                            String: "OMP_NUM_THREADS" [1487,1504]
                                            NUMBER [1505,1507]
                                                Number: 16 [1505,1507]
                                        FIELD [1508,1528]
                                            String: "MKL_NUM_THREADS" [1508,1525]
                                            NUMBER [1526,1528]
                                                Number: 16 [1526,1528]
                                        FIELD [1529,1544]
                                            String: "RUN_SLOW" [1529,1539]
                                            TRUE [1540,1544]
                                        FIELD [1545,1567]
                                            String: "HF_HOME" [1545,1554]
                                            STRING [1555,1567]
                                                String: "/mnt/cache" [1555,1567]
                                        FIELD [1568,1593]
                                            String: "TRANSFORMERS_IS_CI" [1568,1588]
                                            TRUE [1589,1593]
                                FIELD [1595,1742]
                                    String: "run" [1595,1600]
                                    STRING [1601,1742]
                                        String: "pip install -r examples/pytorch/_tests_requirements.txt\npython -m pytest -n 1 --dist=loadfile --make-reports=examples_torch_gpu examples\n" [1601,1742]
                            OBJECT [1744,1857]
                                FIELD [1745,1775]
                                    String: "name" [1745,1751]
                                    STRING [1752,1775]
                                        String: "Failure short reports" [1752,1775]
                                FIELD [1776,1798]
                                    String: "if" [1776,1780]
                                    STRING [1781,1798]
                                        String: "${{ always() }}" [1781,1798]
                                FIELD [1799,1856]
                                    String: "run" [1799,1804]
                                    STRING [1805,1856]
                                        String: "cat reports/examples_torch_gpu_failures_short.txt" [1805,1856]
                            OBJECT [1858,2069]
                                FIELD [1859,1897]
                                    String: "name" [1859,1865]
                                    STRING [1866,1897]
                                        String: "Run all pipeline tests on GPU" [1866,1897]
                                FIELD [1898,1920]
                                    String: "if" [1898,1902]
                                    STRING [1903,1920]
                                        String: "${{ always() }}" [1903,1920]
                                FIELD [1921,1954]
                                    String: "env" [1921,1926]
                                    OBJECT [1927,1954]
                                        FIELD [1928,1953]
                                            String: "RUN_PIPELINE_TESTS" [1928,1948]
                                            TRUE [1949,1953]
                                FIELD [1955,2068]
                                    String: "run" [1955,1960]
                                    STRING [1961,2068]
                                        String: "python -m pytest -n 1 --dist=loadfile -m is_pipeline_test --make-reports=tests_torch_pipeline_gpu tests\n" [1961,2068]
                            OBJECT [2070,2189]
                                FIELD [2071,2101]
                                    String: "name" [2071,2077]
                                    STRING [2078,2101]
                                        String: "Failure short reports" [2078,2101]
                                FIELD [2102,2124]
                                    String: "if" [2102,2106]
                                    STRING [2107,2124]
                                        String: "${{ always() }}" [2107,2124]
                                FIELD [2125,2188]
                                    String: "run" [2125,2130]
                                    STRING [2131,2188]
                                        String: "cat reports/tests_torch_pipeline_gpu_failures_short.txt" [2131,2188]
                            OBJECT [2190,2360]
                                FIELD [2191,2228]
                                    String: "name" [2191,2197]
                                    STRING [2198,2228]
                                        String: "Test suite reports artifacts" [2198,2228]
                                FIELD [2229,2251]
                                    String: "if" [2229,2233]
                                    STRING [2234,2251]
                                        String: "${{ always() }}" [2234,2251]
                                FIELD [2252,2287]
                                    String: "uses" [2252,2258]
                                    STRING [2259,2287]
                                        String: "actions/upload-artifact@v2" [2259,2287]
                                FIELD [2288,2359]
                                    String: "with" [2288,2294]
                                    OBJECT [2295,2359]
                                        FIELD [2296,2341]
                                            String: "name" [2296,2302]
                                            STRING [2303,2341]
                                                String: "run_all_tests_torch_gpu_test_reports" [2303,2341]
                                        FIELD [2342,2358]
                                            String: "path" [2342,2348]
                                            STRING [2349,2358]
                                                String: "reports" [2349,2358]
            FIELD [2363,3998]
                String: "run_all_tests_tf_gpu" [2363,2385]
                OBJECT [2386,3998]
                    FIELD [2387,2438]
                        String: "runs-on" [2387,2396]
                        ARRAY [2397,2438]
                            STRING [2398,2411]
                                String: "self-hosted" [2398,2411]
                            STRING [2412,2424]
                                String: "docker-gpu" [2412,2424]
                            STRING [2425,2437]
                                String: "single-gpu" [2425,2437]
                    FIELD [2439,2591]
                        String: "container" [2439,2450]
                        OBJECT [2451,2591]
                            FIELD [2452,2493]
                                String: "image" [2452,2459]
                                STRING [2460,2493]
                                    String: "tensorflow/tensorflow:2.4.1-gpu" [2460,2493]
                            FIELD [2494,2590]
                                String: "options" [2494,2503]
                                STRING [2504,2590]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [2504,2590]
                    FIELD [2592,3997]
                        String: "steps" [2592,2599]
                        ARRAY [2600,3997]
                            OBJECT [2601,2656]
                                FIELD [2602,2626]
                                    String: "name" [2602,2608]
                                    STRING [2609,2626]
                                        String: "Launcher docker" [2609,2626]
                                FIELD [2627,2655]
                                    String: "uses" [2627,2633]
                                    STRING [2634,2655]
                                        String: "actions/checkout@v2" [2634,2655]
                            OBJECT [2657,2699]
                                FIELD [2658,2677]
                                    String: "name" [2658,2664]
                                    STRING [2665,2677]
                                        String: "NVIDIA-SMI" [2665,2677]
                                FIELD [2678,2698]
                                    String: "run" [2678,2683]
                                    STRING [2684,2698]
                                        String: "nvidia-smi\n" [2684,2698]
                            OBJECT [2700,2818]
                                FIELD [2701,2730]
                                    String: "name" [2701,2707]
                                    STRING [2708,2730]
                                        String: "Install dependencies" [2708,2730]
                                FIELD [2731,2817]
                                    String: "run" [2731,2736]
                                    STRING [2737,2817]
                                        String: "pip install --upgrade pip\npip install .[sklearn,testing,onnx,sentencepiece]\n" [2737,2817]
                            OBJECT [2819,3162]
                                FIELD [2820,2869]
                                    String: "name" [2820,2826]
                                    STRING [2827,2869]
                                        String: "Are GPUs recognized by our DL frameworks" [2827,2869]
                                FIELD [2870,3161]
                                    String: "run" [2870,2875]
                                    STRING [2876,3161]
                                        String: "TF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [2876,3161]
                            OBJECT [3163,3339]
                                FIELD [3164,3193]
                                    String: "name" [3164,3170]
                                    STRING [3171,3193]
                                        String: "Run all tests on GPU" [3171,3193]
                                FIELD [3194,3256]
                                    String: "env" [3194,3199]
                                    OBJECT [3200,3256]
                                        FIELD [3201,3227]
                                            String: "TF_NUM_INTEROP_THREADS" [3201,3225]
                                            NUMBER [3226,3227]
                                                Number: 1 [3226,3227]
                                        FIELD [3228,3255]
                                            String: "TF_NUM_INTRAOP_THREADS" [3228,3252]
                                            NUMBER [3253,3255]
                                                Number: 16 [3253,3255]
                                FIELD [3257,3338]
                                    String: "run" [3257,3262]
                                    STRING [3263,3338]
                                        String: "python -m pytest -n 1 --dist=loadfile --make-reports=tests_tf_gpu tests\n" [3263,3338]
                            OBJECT [3340,3447]
                                FIELD [3341,3371]
                                    String: "name" [3341,3347]
                                    STRING [3348,3371]
                                        String: "Failure short reports" [3348,3371]
                                FIELD [3372,3394]
                                    String: "if" [3372,3376]
                                    STRING [3377,3394]
                                        String: "${{ always() }}" [3377,3394]
                                FIELD [3395,3446]
                                    String: "run" [3395,3400]
                                    STRING [3401,3446]
                                        String: "cat reports/tests_tf_gpu_failures_short.txt" [3401,3446]
                            OBJECT [3448,3711]
                                FIELD [3449,3487]
                                    String: "name" [3449,3455]
                                    STRING [3456,3487]
                                        String: "Run all pipeline tests on GPU" [3456,3487]
                                FIELD [3488,3510]
                                    String: "if" [3488,3492]
                                    STRING [3493,3510]
                                        String: "${{ always() }}" [3493,3510]
                                FIELD [3511,3599]
                                    String: "env" [3511,3516]
                                    OBJECT [3517,3599]
                                        FIELD [3518,3543]
                                            String: "RUN_PIPELINE_TESTS" [3518,3538]
                                            TRUE [3539,3543]
                                        FIELD [3544,3570]
                                            String: "TF_NUM_INTEROP_THREADS" [3544,3568]
                                            NUMBER [3569,3570]
                                                Number: 1 [3569,3570]
                                        FIELD [3571,3598]
                                            String: "TF_NUM_INTRAOP_THREADS" [3571,3595]
                                            NUMBER [3596,3598]
                                                Number: 16 [3596,3598]
                                FIELD [3600,3710]
                                    String: "run" [3600,3605]
                                    STRING [3606,3710]
                                        String: "python -m pytest -n 1 --dist=loadfile -m is_pipeline_test --make-reports=tests_tf_pipeline_gpu tests\n" [3606,3710]
                            OBJECT [3712,3828]
                                FIELD [3713,3743]
                                    String: "name" [3713,3719]
                                    STRING [3720,3743]
                                        String: "Failure short reports" [3720,3743]
                                FIELD [3744,3766]
                                    String: "if" [3744,3748]
                                    STRING [3749,3766]
                                        String: "${{ always() }}" [3749,3766]
                                FIELD [3767,3827]
                                    String: "run" [3767,3772]
                                    STRING [3773,3827]
                                        String: "cat reports/tests_tf_pipeline_gpu_failures_short.txt" [3773,3827]
                            OBJECT [3829,3996]
                                FIELD [3830,3867]
                                    String: "name" [3830,3836]
                                    STRING [3837,3867]
                                        String: "Test suite reports artifacts" [3837,3867]
                                FIELD [3868,3890]
                                    String: "if" [3868,3872]
                                    STRING [3873,3890]
                                        String: "${{ always() }}" [3873,3890]
                                FIELD [3891,3926]
                                    String: "uses" [3891,3897]
                                    STRING [3898,3926]
                                        String: "actions/upload-artifact@v2" [3898,3926]
                                FIELD [3927,3995]
                                    String: "with" [3927,3933]
                                    OBJECT [3934,3995]
                                        FIELD [3935,3977]
                                            String: "name" [3935,3941]
                                            STRING [3942,3977]
                                                String: "run_all_tests_tf_gpu_test_reports" [3942,3977]
                                        FIELD [3978,3994]
                                            String: "path" [3978,3984]
                                            STRING [3985,3994]
                                                String: "reports" [3985,3994]
            FIELD [3999,5730]
                String: "run_all_tests_torch_multi_gpu" [3999,4030]
                OBJECT [4031,5730]
                    FIELD [4032,4082]
                        String: "runs-on" [4032,4041]
                        ARRAY [4042,4082]
                            STRING [4043,4056]
                                String: "self-hosted" [4043,4056]
                            STRING [4057,4069]
                                String: "docker-gpu" [4057,4069]
                            STRING [4070,4081]
                                String: "multi-gpu" [4070,4081]
                    FIELD [4083,4251]
                        String: "container" [4083,4094]
                        OBJECT [4095,4251]
                            FIELD [4096,4151]
                                String: "image" [4096,4103]
                                STRING [4104,4151]
                                    String: "pytorch/pytorch:1.8.0-cuda11.1-cudnn8-runtime" [4104,4151]
                            FIELD [4152,4250]
                                String: "options" [4152,4161]
                                STRING [4162,4250]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [4162,4250]
                    FIELD [4252,5729]
                        String: "steps" [4252,4259]
                        ARRAY [4260,5729]
                            OBJECT [4261,4316]
                                FIELD [4262,4286]
                                    String: "name" [4262,4268]
                                    STRING [4269,4286]
                                        String: "Launcher docker" [4269,4286]
                                FIELD [4287,4315]
                                    String: "uses" [4287,4293]
                                    STRING [4294,4315]
                                        String: "actions/checkout@v2" [4294,4315]
                            OBJECT [4317,4359]
                                FIELD [4318,4337]
                                    String: "name" [4318,4324]
                                    STRING [4325,4337]
                                        String: "NVIDIA-SMI" [4325,4337]
                                FIELD [4338,4358]
                                    String: "run" [4338,4343]
                                    STRING [4344,4358]
                                        String: "nvidia-smi\n" [4344,4358]
                            OBJECT [4360,4541]
                                FIELD [4361,4390]
                                    String: "name" [4361,4367]
                                    STRING [4368,4390]
                                        String: "Install dependencies" [4368,4390]
                                FIELD [4391,4540]
                                    String: "run" [4391,4396]
                                    STRING [4397,4540]
                                        String: "apt -y update && apt install -y libsndfile1-dev\npip install --upgrade pip\npip install .[sklearn,testing,onnxruntime,sentencepiece,speech]\n" [4397,4540]
                            OBJECT [4542,4931]
                                FIELD [4543,4592]
                                    String: "name" [4543,4549]
                                    STRING [4550,4592]
                                        String: "Are GPUs recognized by our DL frameworks" [4550,4592]
                                FIELD [4593,4930]
                                    String: "run" [4593,4598]
                                    STRING [4599,4930]
                                        String: "python -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Cuda version:', torch.version.cuda)\"\npython -c \"import torch; print('CuDNN version:', torch.backends.cudnn.version())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [4599,4930]
                            OBJECT [4932,5090]
                                FIELD [4933,4962]
                                    String: "name" [4933,4939]
                                    STRING [4940,4962]
                                        String: "Run all tests on GPU" [4940,4962]
                                FIELD [4963,4998]
                                    String: "env" [4963,4968]
                                    OBJECT [4969,4998]
                                        FIELD [4970,4997]
                                            String: "MKL_SERVICE_FORCE_INTEL" [4970,4995]
                                            NUMBER [4996,4997]
                                                Number: 1 [4996,4997]
                                FIELD [4999,5089]
                                    String: "run" [4999,5004]
                                    STRING [5005,5089]
                                        String: "python -m pytest -n 1 --dist=loadfile --make-reports=tests_torch_multi_gpu tests\n" [5005,5089]
                            OBJECT [5091,5207]
                                FIELD [5092,5122]
                                    String: "name" [5092,5098]
                                    STRING [5099,5122]
                                        String: "Failure short reports" [5099,5122]
                                FIELD [5123,5145]
                                    String: "if" [5123,5127]
                                    STRING [5128,5145]
                                        String: "${{ always() }}" [5128,5145]
                                FIELD [5146,5206]
                                    String: "run" [5146,5151]
                                    STRING [5152,5206]
                                        String: "cat reports/tests_torch_multi_gpu_failures_short.txt" [5152,5206]
                            OBJECT [5208,5425]
                                FIELD [5209,5247]
                                    String: "name" [5209,5215]
                                    STRING [5216,5247]
                                        String: "Run all pipeline tests on GPU" [5216,5247]
                                FIELD [5248,5270]
                                    String: "if" [5248,5252]
                                    STRING [5253,5270]
                                        String: "${{ always() }}" [5253,5270]
                                FIELD [5271,5304]
                                    String: "env" [5271,5276]
                                    OBJECT [5277,5304]
                                        FIELD [5278,5303]
                                            String: "RUN_PIPELINE_TESTS" [5278,5298]
                                            TRUE [5299,5303]
                                FIELD [5305,5424]
                                    String: "run" [5305,5310]
                                    STRING [5311,5424]
                                        String: "python -m pytest -n 1 --dist=loadfile -m is_pipeline_test --make-reports=tests_torch_pipeline_multi_gpu tests\n" [5311,5424]
                            OBJECT [5426,5551]
                                FIELD [5427,5457]
                                    String: "name" [5427,5433]
                                    STRING [5434,5457]
                                        String: "Failure short reports" [5434,5457]
                                FIELD [5458,5480]
                                    String: "if" [5458,5462]
                                    STRING [5463,5480]
                                        String: "${{ always() }}" [5463,5480]
                                FIELD [5481,5550]
                                    String: "run" [5481,5486]
                                    STRING [5487,5550]
                                        String: "cat reports/tests_torch_pipeline_multi_gpu_failures_short.txt" [5487,5550]
                            OBJECT [5552,5728]
                                FIELD [5553,5590]
                                    String: "name" [5553,5559]
                                    STRING [5560,5590]
                                        String: "Test suite reports artifacts" [5560,5590]
                                FIELD [5591,5613]
                                    String: "if" [5591,5595]
                                    STRING [5596,5613]
                                        String: "${{ always() }}" [5596,5613]
                                FIELD [5614,5649]
                                    String: "uses" [5614,5620]
                                    STRING [5621,5649]
                                        String: "actions/upload-artifact@v2" [5621,5649]
                                FIELD [5650,5727]
                                    String: "with" [5650,5656]
                                    OBJECT [5657,5727]
                                        FIELD [5658,5709]
                                            String: "name" [5658,5664]
                                            STRING [5665,5709]
                                                String: "run_all_tests_torch_multi_gpu_test_reports" [5665,5709]
                                        FIELD [5710,5726]
                                            String: "path" [5710,5716]
                                            STRING [5717,5726]
                                                String: "reports" [5717,5726]
            FIELD [5731,7403]
                String: "run_all_tests_tf_multi_gpu" [5731,5759]
                OBJECT [5760,7403]
                    FIELD [5761,5811]
                        String: "runs-on" [5761,5770]
                        ARRAY [5771,5811]
                            STRING [5772,5785]
                                String: "self-hosted" [5772,5785]
                            STRING [5786,5798]
                                String: "docker-gpu" [5786,5798]
                            STRING [5799,5810]
                                String: "multi-gpu" [5799,5810]
                    FIELD [5812,5966]
                        String: "container" [5812,5823]
                        OBJECT [5824,5966]
                            FIELD [5825,5866]
                                String: "image" [5825,5832]
                                STRING [5833,5866]
                                    String: "tensorflow/tensorflow:2.4.1-gpu" [5833,5866]
                            FIELD [5867,5965]
                                String: "options" [5867,5876]
                                STRING [5877,5965]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [5877,5965]
                    FIELD [5967,7402]
                        String: "steps" [5967,5974]
                        ARRAY [5975,7402]
                            OBJECT [5976,6031]
                                FIELD [5977,6001]
                                    String: "name" [5977,5983]
                                    STRING [5984,6001]
                                        String: "Launcher docker" [5984,6001]
                                FIELD [6002,6030]
                                    String: "uses" [6002,6008]
                                    STRING [6009,6030]
                                        String: "actions/checkout@v2" [6009,6030]
                            OBJECT [6032,6074]
                                FIELD [6033,6052]
                                    String: "name" [6033,6039]
                                    STRING [6040,6052]
                                        String: "NVIDIA-SMI" [6040,6052]
                                FIELD [6053,6073]
                                    String: "run" [6053,6058]
                                    STRING [6059,6073]
                                        String: "nvidia-smi\n" [6059,6073]
                            OBJECT [6075,6193]
                                FIELD [6076,6105]
                                    String: "name" [6076,6082]
                                    STRING [6083,6105]
                                        String: "Install dependencies" [6083,6105]
                                FIELD [6106,6192]
                                    String: "run" [6106,6111]
                                    STRING [6112,6192]
                                        String: "pip install --upgrade pip\npip install .[sklearn,testing,onnx,sentencepiece]\n" [6112,6192]
                            OBJECT [6194,6537]
                                FIELD [6195,6244]
                                    String: "name" [6195,6201]
                                    STRING [6202,6244]
                                        String: "Are GPUs recognized by our DL frameworks" [6202,6244]
                                FIELD [6245,6536]
                                    String: "run" [6245,6250]
                                    STRING [6251,6536]
                                        String: "TF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [6251,6536]
                            OBJECT [6538,6720]
                                FIELD [6539,6568]
                                    String: "name" [6539,6545]
                                    STRING [6546,6568]
                                        String: "Run all tests on GPU" [6546,6568]
                                FIELD [6569,6631]
                                    String: "env" [6569,6574]
                                    OBJECT [6575,6631]
                                        FIELD [6576,6602]
                                            String: "TF_NUM_INTEROP_THREADS" [6576,6600]
                                            NUMBER [6601,6602]
                                                Number: 1 [6601,6602]
                                        FIELD [6603,6630]
                                            String: "TF_NUM_INTRAOP_THREADS" [6603,6627]
                                            NUMBER [6628,6630]
                                                Number: 16 [6628,6630]
                                FIELD [6632,6719]
                                    String: "run" [6632,6637]
                                    STRING [6638,6719]
                                        String: "python -m pytest -n 1 --dist=loadfile --make-reports=tests_tf_multi_gpu tests\n" [6638,6719]
                            OBJECT [6721,6834]
                                FIELD [6722,6752]
                                    String: "name" [6722,6728]
                                    STRING [6729,6752]
                                        String: "Failure short reports" [6729,6752]
                                FIELD [6753,6775]
                                    String: "if" [6753,6757]
                                    STRING [6758,6775]
                                        String: "${{ always() }}" [6758,6775]
                                FIELD [6776,6833]
                                    String: "run" [6776,6781]
                                    STRING [6782,6833]
                                        String: "cat reports/tests_tf_multi_gpu_failures_short.txt" [6782,6833]
                            OBJECT [6835,7104]
                                FIELD [6836,6874]
                                    String: "name" [6836,6842]
                                    STRING [6843,6874]
                                        String: "Run all pipeline tests on GPU" [6843,6874]
                                FIELD [6875,6897]
                                    String: "if" [6875,6879]
                                    STRING [6880,6897]
                                        String: "${{ always() }}" [6880,6897]
                                FIELD [6898,6986]
                                    String: "env" [6898,6903]
                                    OBJECT [6904,6986]
                                        FIELD [6905,6930]
                                            String: "RUN_PIPELINE_TESTS" [6905,6925]
                                            TRUE [6926,6930]
                                        FIELD [6931,6957]
                                            String: "TF_NUM_INTEROP_THREADS" [6931,6955]
                                            NUMBER [6956,6957]
                                                Number: 1 [6956,6957]
                                        FIELD [6958,6985]
                                            String: "TF_NUM_INTRAOP_THREADS" [6958,6982]
                                            NUMBER [6983,6985]
                                                Number: 16 [6983,6985]
                                FIELD [6987,7103]
                                    String: "run" [6987,6992]
                                    STRING [6993,7103]
                                        String: "python -m pytest -n 1 --dist=loadfile -m is_pipeline_test --make-reports=tests_tf_pipeline_multi_gpu tests\n" [6993,7103]
                            OBJECT [7105,7227]
                                FIELD [7106,7136]
                                    String: "name" [7106,7112]
                                    STRING [7113,7136]
                                        String: "Failure short reports" [7113,7136]
                                FIELD [7137,7159]
                                    String: "if" [7137,7141]
                                    STRING [7142,7159]
                                        String: "${{ always() }}" [7142,7159]
                                FIELD [7160,7226]
                                    String: "run" [7160,7165]
                                    STRING [7166,7226]
                                        String: "cat reports/tests_tf_pipeline_multi_gpu_failures_short.txt" [7166,7226]
                            OBJECT [7228,7401]
                                FIELD [7229,7266]
                                    String: "name" [7229,7235]
                                    STRING [7236,7266]
                                        String: "Test suite reports artifacts" [7236,7266]
                                FIELD [7267,7289]
                                    String: "if" [7267,7271]
                                    STRING [7272,7289]
                                        String: "${{ always() }}" [7272,7289]
                                FIELD [7290,7325]
                                    String: "uses" [7290,7296]
                                    STRING [7297,7325]
                                        String: "actions/upload-artifact@v2" [7297,7325]
                                FIELD [7326,7400]
                                    String: "with" [7326,7332]
                                    OBJECT [7333,7400]
                                        FIELD [7334,7382]
                                            String: "name" [7334,7340]
                                            STRING [7341,7382]
                                                String: "run_all_tests_tf_multi_gpu_test_reports" [7341,7382]
                                        FIELD [7383,7399]
                                            String: "path" [7383,7389]
                                            STRING [7390,7399]
                                                String: "reports" [7390,7399]
            FIELD [7404,8766]
                String: "run_all_tests_torch_cuda_extensions_gpu" [7404,7445]
                OBJECT [7446,8766]
                    FIELD [7447,7498]
                        String: "runs-on" [7447,7456]
                        ARRAY [7457,7498]
                            STRING [7458,7471]
                                String: "self-hosted" [7458,7471]
                            STRING [7472,7484]
                                String: "docker-gpu" [7472,7484]
                            STRING [7485,7497]
                                String: "single-gpu" [7485,7497]
                    FIELD [7499,7652]
                        String: "container" [7499,7510]
                        OBJECT [7511,7652]
                            FIELD [7512,7554]
                                String: "image" [7512,7519]
                                STRING [7520,7554]
                                    String: "nvcr.io/nvidia/pytorch:21.03-py3" [7520,7554]
                            FIELD [7555,7651]
                                String: "options" [7555,7564]
                                STRING [7565,7651]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [7565,7651]
                    FIELD [7653,8765]
                        String: "steps" [7653,7660]
                        ARRAY [7661,8765]
                            OBJECT [7662,7717]
                                FIELD [7663,7687]
                                    String: "name" [7663,7669]
                                    STRING [7670,7687]
                                        String: "Launcher docker" [7670,7687]
                                FIELD [7688,7716]
                                    String: "uses" [7688,7694]
                                    STRING [7695,7716]
                                        String: "actions/checkout@v2" [7695,7716]
                            OBJECT [7718,7760]
                                FIELD [7719,7738]
                                    String: "name" [7719,7725]
                                    STRING [7726,7738]
                                        String: "NVIDIA-SMI" [7726,7738]
                                FIELD [7739,7759]
                                    String: "run" [7739,7744]
                                    STRING [7745,7759]
                                        String: "nvidia-smi\n" [7745,7759]
                            OBJECT [7761,7906]
                                FIELD [7762,7791]
                                    String: "name" [7762,7768]
                                    STRING [7769,7791]
                                        String: "Install dependencies" [7769,7791]
                                FIELD [7792,7905]
                                    String: "run" [7792,7797]
                                    STRING [7798,7905]
                                        String: "apt -y update && apt install -y libaio-dev\npip install --upgrade pip\npip install .[testing,deepspeed]\n" [7798,7905]
                            OBJECT [7907,8296]
                                FIELD [7908,7957]
                                    String: "name" [7908,7914]
                                    STRING [7915,7957]
                                        String: "Are GPUs recognized by our DL frameworks" [7915,7957]
                                FIELD [7958,8295]
                                    String: "run" [7958,7963]
                                    STRING [7964,8295]
                                        String: "python -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Cuda version:', torch.version.cuda)\"\npython -c \"import torch; print('CuDNN version:', torch.backends.cudnn.version())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [7964,8295]
                            OBJECT [8297,8454]
                                FIELD [8298,8327]
                                    String: "name" [8298,8304]
                                    STRING [8305,8327]
                                        String: "Run all tests on GPU" [8305,8327]
                                FIELD [8328,8453]
                                    String: "run" [8328,8333]
                                    STRING [8334,8453]
                                        String: "python -m pytest -n 1 --dist=loadfile --make-reports=tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [8334,8453]
                            OBJECT [8455,8581]
                                FIELD [8456,8486]
                                    String: "name" [8456,8462]
                                    STRING [8463,8486]
                                        String: "Failure short reports" [8463,8486]
                                FIELD [8487,8509]
                                    String: "if" [8487,8491]
                                    STRING [8492,8509]
                                        String: "${{ always() }}" [8492,8509]
                                FIELD [8510,8580]
                                    String: "run" [8510,8515]
                                    STRING [8516,8580]
                                        String: "cat reports/tests_torch_cuda_extensions_gpu_failures_short.txt" [8516,8580]
                            OBJECT [8582,8764]
                                FIELD [8583,8620]
                                    String: "name" [8583,8589]
                                    STRING [8590,8620]
                                        String: "Test suite reports artifacts" [8590,8620]
                                FIELD [8621,8643]
                                    String: "if" [8621,8625]
                                    STRING [8626,8643]
                                        String: "${{ always() }}" [8626,8643]
                                FIELD [8644,8679]
                                    String: "uses" [8644,8650]
                                    STRING [8651,8679]
                                        String: "actions/upload-artifact@v2" [8651,8679]
                                FIELD [8680,8763]
                                    String: "with" [8680,8686]
                                    OBJECT [8687,8763]
                                        FIELD [8688,8745]
                                            String: "name" [8688,8694]
                                            STRING [8695,8745]
                                                String: "run_tests_torch_cuda_extensions_gpu_test_reports" [8695,8745]
                                        FIELD [8746,8762]
                                            String: "path" [8746,8752]
                                            STRING [8753,8762]
                                                String: "reports" [8753,8762]
            FIELD [8767,10162]
                String: "run_all_tests_torch_cuda_extensions_multi_gpu" [8767,8814]
                OBJECT [8815,10162]
                    FIELD [8816,8866]
                        String: "runs-on" [8816,8825]
                        ARRAY [8826,8866]
                            STRING [8827,8840]
                                String: "self-hosted" [8827,8840]
                            STRING [8841,8853]
                                String: "docker-gpu" [8841,8853]
                            STRING [8854,8865]
                                String: "multi-gpu" [8854,8865]
                    FIELD [8867,9020]
                        String: "container" [8867,8878]
                        OBJECT [8879,9020]
                            FIELD [8880,8922]
                                String: "image" [8880,8887]
                                STRING [8888,8922]
                                    String: "nvcr.io/nvidia/pytorch:21.03-py3" [8888,8922]
                            FIELD [8923,9019]
                                String: "options" [8923,8932]
                                STRING [8933,9019]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [8933,9019]
                    FIELD [9021,10161]
                        String: "steps" [9021,9028]
                        ARRAY [9029,10161]
                            OBJECT [9030,9085]
                                FIELD [9031,9055]
                                    String: "name" [9031,9037]
                                    STRING [9038,9055]
                                        String: "Launcher docker" [9038,9055]
                                FIELD [9056,9084]
                                    String: "uses" [9056,9062]
                                    STRING [9063,9084]
                                        String: "actions/checkout@v2" [9063,9084]
                            OBJECT [9086,9128]
                                FIELD [9087,9106]
                                    String: "name" [9087,9093]
                                    STRING [9094,9106]
                                        String: "NVIDIA-SMI" [9094,9106]
                                FIELD [9107,9127]
                                    String: "run" [9107,9112]
                                    STRING [9113,9127]
                                        String: "nvidia-smi\n" [9113,9127]
                            OBJECT [9129,9284]
                                FIELD [9130,9159]
                                    String: "name" [9130,9136]
                                    STRING [9137,9159]
                                        String: "Install dependencies" [9137,9159]
                                FIELD [9160,9283]
                                    String: "run" [9160,9165]
                                    STRING [9166,9283]
                                        String: "apt -y update && apt install -y libaio-dev\npip install --upgrade pip\npip install .[testing,deepspeed,fairscale]\n" [9166,9283]
                            OBJECT [9285,9674]
                                FIELD [9286,9335]
                                    String: "name" [9286,9292]
                                    STRING [9293,9335]
                                        String: "Are GPUs recognized by our DL frameworks" [9293,9335]
                                FIELD [9336,9673]
                                    String: "run" [9336,9341]
                                    STRING [9342,9673]
                                        String: "python -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Cuda version:', torch.version.cuda)\"\npython -c \"import torch; print('CuDNN version:', torch.backends.cudnn.version())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [9342,9673]
                            OBJECT [9675,9838]
                                FIELD [9676,9705]
                                    String: "name" [9676,9682]
                                    STRING [9683,9705]
                                        String: "Run all tests on GPU" [9683,9705]
                                FIELD [9706,9837]
                                    String: "run" [9706,9711]
                                    STRING [9712,9837]
                                        String: "python -m pytest -n 1 --dist=loadfile --make-reports=tests_torch_cuda_extensions_multi_gpu tests/deepspeed tests/extended\n" [9712,9837]
                            OBJECT [9839,9971]
                                FIELD [9840,9870]
                                    String: "name" [9840,9846]
                                    STRING [9847,9870]
                                        String: "Failure short reports" [9847,9870]
                                FIELD [9871,9893]
                                    String: "if" [9871,9875]
                                    STRING [9876,9893]
                                        String: "${{ always() }}" [9876,9893]
                                FIELD [9894,9970]
                                    String: "run" [9894,9899]
                                    STRING [9900,9970]
                                        String: "cat reports/tests_torch_cuda_extensions_multi_gpu_failures_short.txt" [9900,9970]
                            OBJECT [9972,10160]
                                FIELD [9973,10010]
                                    String: "name" [9973,9979]
                                    STRING [9980,10010]
                                        String: "Test suite reports artifacts" [9980,10010]
                                FIELD [10011,10033]
                                    String: "if" [10011,10015]
                                    STRING [10016,10033]
                                        String: "${{ always() }}" [10016,10033]
                                FIELD [10034,10069]
                                    String: "uses" [10034,10040]
                                    STRING [10041,10069]
                                        String: "actions/upload-artifact@v2" [10041,10069]
                                FIELD [10070,10159]
                                    String: "with" [10070,10076]
                                    OBJECT [10077,10159]
                                        FIELD [10078,10141]
                                            String: "name" [10078,10084]
                                            STRING [10085,10141]
                                                String: "run_tests_torch_cuda_extensions_multi_gpu_test_reports" [10085,10141]
                                        FIELD [10142,10158]
                                            String: "path" [10142,10148]
                                            STRING [10149,10158]
                                                String: "reports" [10149,10158]
            FIELD [10163,10780]
                String: "send_results" [10163,10177]
                OBJECT [10178,10780]
                    FIELD [10179,10211]
                        String: "name" [10179,10185]
                        STRING [10186,10211]
                            String: "Send results to webhook" [10186,10211]
                    FIELD [10212,10237]
                        String: "runs-on" [10212,10221]
                        STRING [10222,10237]
                            String: "ubuntu-latest" [10222,10237]
                    FIELD [10238,10253]
                        String: "if" [10238,10242]
                        STRING [10243,10253]
                            String: "always()" [10243,10253]
                    FIELD [10254,10463]
                        String: "needs" [10254,10261]
                        ARRAY [10262,10463]
                            STRING [10263,10288]
                                String: "run_all_tests_torch_gpu" [10263,10288]
                            STRING [10289,10311]
                                String: "run_all_tests_tf_gpu" [10289,10311]
                            STRING [10312,10343]
                                String: "run_all_tests_torch_multi_gpu" [10312,10343]
                            STRING [10344,10372]
                                String: "run_all_tests_tf_multi_gpu" [10344,10372]
                            STRING [10373,10414]
                                String: "run_all_tests_torch_cuda_extensions_gpu" [10373,10414]
                            STRING [10415,10462]
                                String: "run_all_tests_torch_cuda_extensions_multi_gpu" [10415,10462]
                    FIELD [10464,10779]
                        String: "steps" [10464,10471]
                        ARRAY [10472,10779]
                            OBJECT [10473,10503]
                                FIELD [10474,10502]
                                    String: "uses" [10474,10480]
                                    STRING [10481,10502]
                                        String: "actions/checkout@v2" [10481,10502]
                            OBJECT [10504,10543]
                                FIELD [10505,10542]
                                    String: "uses" [10505,10511]
                                    STRING [10512,10542]
                                        String: "actions/download-artifact@v2" [10512,10542]
                            OBJECT [10544,10778]
                                FIELD [10545,10575]
                                    String: "name" [10545,10551]
                                    STRING [10552,10575]
                                        String: "Send message to Slack" [10552,10575]
                                FIELD [10576,10699]
                                    String: "env" [10576,10581]
                                    OBJECT [10582,10699]
                                        FIELD [10583,10639]
                                            String: "CI_SLACK_BOT_TOKEN" [10583,10603]
                                            STRING [10604,10639]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [10604,10639]
                                        FIELD [10640,10698]
                                            String: "CI_SLACK_CHANNEL_ID" [10640,10661]
                                            STRING [10662,10698]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [10662,10698]
                                FIELD [10700,10777]
                                    String: "run" [10700,10705]
                                    STRING [10706,10777]
                                        String: "pip install slack_sdk\npython utils/notification_service.py scheduled" [10706,10777]