OBJECT [0,8029]
    FIELD [1,16]
        String: "name" [1,7]
        STRING [8,16]
            String: "Master" [8,16]
    FIELD [17,132]
        String: "on" [17,21]
        OBJECT [22,132]
            FIELD [23,53]
                String: "push" [23,29]
                OBJECT [30,53]
                    FIELD [31,52]
                        String: "branches" [31,41]
                        ARRAY [42,52]
                            STRING [43,51]
                                String: "master" [43,51]
            FIELD [54,87]
                String: "release" [54,63]
                OBJECT [64,87]
                    FIELD [65,86]
                        String: "types" [65,72]
                        ARRAY [73,86]
                            STRING [74,85]
                                String: "published" [74,85]
            FIELD [88,131]
                String: "schedule" [88,98]
                ARRAY [99,131]
                    OBJECT [100,130]
                        FIELD [101,129]
                            String: "cron" [101,107]
                            STRING [108,129]
                                String: "37 11 * * 1,2,3,4,5" [108,129]
    FIELD [133,8028]
        String: "jobs" [133,139]
        OBJECT [140,8028]
            FIELD [141,1561]
                String: "check_core" [141,153]
                OBJECT [154,1561]
                    FIELD [155,174]
                        String: "name" [155,161]
                        STRING [162,174]
                            String: "Check Core" [162,174]
                    FIELD [175,200]
                        String: "runs-on" [175,184]
                        STRING [185,200]
                            String: "ubuntu-latest" [185,200]
                    FIELD [201,247]
                        String: "strategy" [201,211]
                        OBJECT [212,247]
                            FIELD [213,246]
                                String: "matrix" [213,221]
                                OBJECT [222,246]
                                    FIELD [223,245]
                                        String: "python" [223,231]
                                        ARRAY [232,245]
                                            STRING [233,238]
                                                String: "3.6" [233,238]
                                            STRING [239,244]
                                                String: "3.7" [239,244]
                    FIELD [248,1560]
                        String: "steps" [248,255]
                        ARRAY [256,1560]
                            OBJECT [257,287]
                                FIELD [258,286]
                                    String: "uses" [258,264]
                                    STRING [265,286]
                                        String: "actions/checkout@v2" [265,286]
                            OBJECT [288,393]
                                FIELD [289,310]
                                    String: "name" [289,295]
                                    STRING [296,310]
                                        String: "Setup Python" [296,310]
                                FIELD [311,343]
                                    String: "uses" [311,317]
                                    STRING [318,343]
                                        String: "actions/setup-python@v1" [318,343]
                                FIELD [344,392]
                                    String: "with" [344,350]
                                    OBJECT [351,392]
                                        FIELD [352,391]
                                            String: "python-version" [352,368]
                                            STRING [369,391]
                                                String: "${{ matrix.python }}" [369,391]
                            OBJECT [394,652]
                                FIELD [395,420]
                                    String: "uses" [395,401]
                                    STRING [402,420]
                                        String: "actions/cache@v1" [402,420]
                                FIELD [421,651]
                                    String: "with" [421,427]
                                    OBJECT [428,651]
                                        FIELD [429,463]
                                            String: "path" [429,435]
                                            STRING [436,463]
                                                String: "${{ env.pythonLocation }}" [436,463]
                                        FIELD [464,586]
                                            String: "key" [464,469]
                                            STRING [470,586]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [470,586]
                                        FIELD [587,650]
                                            String: "restore-keys" [587,601]
                                            STRING [602,650]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}\n" [602,650]
                            OBJECT [653,707]
                                FIELD [654,683]
                                    String: "name" [654,660]
                                    STRING [661,683]
                                        String: "Install requirements" [661,683]
                                FIELD [684,706]
                                    String: "run" [684,689]
                                    STRING [690,706]
                                        String: "make install\n" [690,706]
                            OBJECT [708,750]
                                FIELD [709,728]
                                    String: "name" [709,715]
                                    STRING [716,728]
                                        String: "Debug info" [716,728]
                                FIELD [729,749]
                                    String: "run" [729,734]
                                    STRING [735,749]
                                        String: "pip freeze\n" [735,749]
                            OBJECT [751,786]
                                FIELD [752,765]
                                    String: "name" [752,758]
                                    STRING [759,765]
                                        String: "Lint" [759,765]
                                FIELD [766,785]
                                    String: "run" [766,771]
                                    STRING [772,785]
                                        String: "make lint\n" [772,785]
                            OBJECT [787,833]
                                FIELD [788,807]
                                    String: "name" [788,794]
                                    STRING [795,807]
                                        String: "Type check" [795,807]
                                FIELD [808,832]
                                    String: "run" [808,813]
                                    STRING [814,832]
                                        String: "make typecheck\n" [814,832]
                            OBJECT [834,883]
                                FIELD [835,853]
                                    String: "name" [835,841]
                                    STRING [842,853]
                                        String: "Run tests" [842,853]
                                FIELD [854,882]
                                    String: "run" [854,859]
                                    STRING [860,882]
                                        String: "make test-with-cov\n" [860,882]
                            OBJECT [884,1360]
                                FIELD [885,920]
                                    String: "name" [885,891]
                                    STRING [892,920]
                                        String: "Upload coverage to Codecov" [892,920]
                                FIELD [921,950]
                                    String: "if" [921,925]
                                    STRING [926,950]
                                        String: "matrix.python == '3.7'" [926,950]
                                FIELD [951,1005]
                                    String: "env" [951,956]
                                    OBJECT [957,1005]
                                        FIELD [958,1004]
                                            String: "CODECOV_TOKEN" [958,973]
                                            STRING [974,1004]
                                                String: "${{ secrets.CODECOV_TOKEN }}" [974,1004]
                                FIELD [1006,1359]
                                    String: "run" [1006,1011]
                                    STRING [1012,1359]
                                        String: "# Ignore codecov failures as the codecov server is not\n# very reliable but we don't want to report a failure\n# in the github UI just because the coverage report failed to\n# be published.\n# This will also fail for forked repositories since the secret token won't\n# be available.\ncodecov -t $CODECOV_TOKEN || echo \"codecov upload failed\"\n" [1012,1359]
                            OBJECT [1361,1559]
                                FIELD [1362,1379]
                                    String: "name" [1362,1368]
                                    STRING [1369,1379]
                                        String: "Clean up" [1369,1379]
                                FIELD [1380,1395]
                                    String: "if" [1380,1384]
                                    STRING [1385,1395]
                                        String: "always()" [1385,1395]
                                FIELD [1396,1558]
                                    String: "run" [1396,1401]
                                    STRING [1402,1558]
                                        String: "# Could run into issues with the cache if we don't uninstall the editable.\n# See https://github.com/pypa/pip/issues/4537.\npip uninstall --yes allennlp\n" [1402,1558]
            FIELD [1562,2608]
                String: "check_models" [1562,1576]
                OBJECT [1577,2608]
                    FIELD [1578,1599]
                        String: "name" [1578,1584]
                        STRING [1585,1599]
                            String: "Check Models" [1585,1599]
                    FIELD [1600,1625]
                        String: "runs-on" [1600,1609]
                        STRING [1610,1625]
                            String: "ubuntu-latest" [1610,1625]
                    FIELD [1626,1672]
                        String: "strategy" [1626,1636]
                        OBJECT [1637,1672]
                            FIELD [1638,1671]
                                String: "matrix" [1638,1646]
                                OBJECT [1647,1671]
                                    FIELD [1648,1670]
                                        String: "python" [1648,1656]
                                        ARRAY [1657,1670]
                                            STRING [1658,1663]
                                                String: "3.6" [1658,1663]
                                            STRING [1664,1669]
                                                String: "3.7" [1664,1669]
                    FIELD [1673,2607]
                        String: "steps" [1673,1680]
                        ARRAY [1681,2607]
                            OBJECT [1682,1712]
                                FIELD [1683,1711]
                                    String: "uses" [1683,1689]
                                    STRING [1690,1711]
                                        String: "actions/checkout@v2" [1690,1711]
                            OBJECT [1713,1818]
                                FIELD [1714,1735]
                                    String: "name" [1714,1720]
                                    STRING [1721,1735]
                                        String: "Setup Python" [1721,1735]
                                FIELD [1736,1768]
                                    String: "uses" [1736,1742]
                                    STRING [1743,1768]
                                        String: "actions/setup-python@v1" [1743,1768]
                                FIELD [1769,1817]
                                    String: "with" [1769,1775]
                                    OBJECT [1776,1817]
                                        FIELD [1777,1816]
                                            String: "python-version" [1777,1793]
                                            STRING [1794,1816]
                                                String: "${{ matrix.python }}" [1794,1816]
                            OBJECT [1819,2077]
                                FIELD [1820,1845]
                                    String: "uses" [1820,1826]
                                    STRING [1827,1845]
                                        String: "actions/cache@v1" [1827,1845]
                                FIELD [1846,2076]
                                    String: "with" [1846,1852]
                                    OBJECT [1853,2076]
                                        FIELD [1854,1888]
                                            String: "path" [1854,1860]
                                            STRING [1861,1888]
                                                String: "${{ env.pythonLocation }}" [1861,1888]
                                        FIELD [1889,2011]
                                            String: "key" [1889,1894]
                                            STRING [1895,2011]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [1895,2011]
                                        FIELD [2012,2075]
                                            String: "restore-keys" [2012,2026]
                                            STRING [2027,2075]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}\n" [2027,2075]
                            OBJECT [2078,2132]
                                FIELD [2079,2108]
                                    String: "name" [2079,2085]
                                    STRING [2086,2108]
                                        String: "Install requirements" [2086,2108]
                                FIELD [2109,2131]
                                    String: "run" [2109,2114]
                                    STRING [2115,2131]
                                        String: "make install\n" [2115,2131]
                            OBJECT [2133,2175]
                                FIELD [2134,2153]
                                    String: "name" [2134,2140]
                                    STRING [2141,2153]
                                        String: "Debug info" [2141,2153]
                                FIELD [2154,2174]
                                    String: "run" [2154,2159]
                                    STRING [2160,2174]
                                        String: "pip freeze\n" [2160,2174]
                            OBJECT [2176,2424]
                                FIELD [2177,2214]
                                    String: "name" [2177,2183]
                                    STRING [2184,2214]
                                        String: "Pull and install models repo" [2184,2214]
                                FIELD [2215,2257]
                                    String: "env" [2215,2220]
                                    OBJECT [2221,2257]
                                        FIELD [2222,2256]
                                            String: "EXCLUDE_ALLENNLP_IN_SETUP" [2222,2249]
                                            STRING [2250,2256]
                                                String: "true" [2250,2256]
                                FIELD [2258,2423]
                                    String: "run" [2258,2263]
                                    STRING [2264,2423]
                                        String: "git clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models && pip install --upgrade --upgrade-strategy eager -e . -r dev-requirements.txt\n" [2264,2423]
                            OBJECT [2425,2494]
                                FIELD [2426,2451]
                                    String: "name" [2426,2432]
                                    STRING [2433,2451]
                                        String: "Run models tests" [2433,2451]
                                FIELD [2452,2493]
                                    String: "run" [2452,2457]
                                    STRING [2458,2493]
                                        String: "cd allennlp-models && make test\n" [2458,2493]
                            OBJECT [2495,2606]
                                FIELD [2496,2513]
                                    String: "name" [2496,2502]
                                    STRING [2503,2513]
                                        String: "Clean up" [2503,2513]
                                FIELD [2514,2529]
                                    String: "if" [2514,2518]
                                    STRING [2519,2529]
                                        String: "always()" [2519,2529]
                                FIELD [2530,2605]
                                    String: "run" [2530,2535]
                                    STRING [2536,2605]
                                        String: "pip uninstall --yes allennlp\npip uninstall --yes allennlp_models\n" [2536,2605]
            FIELD [2609,3860]
                String: "build_package" [2609,2624]
                OBJECT [2625,3860]
                    FIELD [2626,2648]
                        String: "name" [2626,2632]
                        STRING [2633,2648]
                            String: "Build Package" [2633,2648]
                    FIELD [2649,2674]
                        String: "runs-on" [2649,2658]
                        STRING [2659,2674]
                            String: "ubuntu-latest" [2659,2674]
                    FIELD [2675,2715]
                        String: "strategy" [2675,2685]
                        OBJECT [2686,2715]
                            FIELD [2687,2714]
                                String: "matrix" [2687,2695]
                                OBJECT [2696,2714]
                                    FIELD [2697,2713]
                                        String: "python" [2697,2705]
                                        ARRAY [2706,2713]
                                            STRING [2707,2712]
                                                String: "3.7" [2707,2712]
                    FIELD [2716,3859]
                        String: "steps" [2716,2723]
                        ARRAY [2724,3859]
                            OBJECT [2725,2755]
                                FIELD [2726,2754]
                                    String: "uses" [2726,2732]
                                    STRING [2733,2754]
                                        String: "actions/checkout@v2" [2733,2754]
                            OBJECT [2756,2861]
                                FIELD [2757,2778]
                                    String: "name" [2757,2763]
                                    STRING [2764,2778]
                                        String: "Setup Python" [2764,2778]
                                FIELD [2779,2811]
                                    String: "uses" [2779,2785]
                                    STRING [2786,2811]
                                        String: "actions/setup-python@v1" [2786,2811]
                                FIELD [2812,2860]
                                    String: "with" [2812,2818]
                                    OBJECT [2819,2860]
                                        FIELD [2820,2859]
                                            String: "python-version" [2820,2836]
                                            STRING [2837,2859]
                                                String: "${{ matrix.python }}" [2837,2859]
                            OBJECT [2862,3120]
                                FIELD [2863,2888]
                                    String: "uses" [2863,2869]
                                    STRING [2870,2888]
                                        String: "actions/cache@v1" [2870,2888]
                                FIELD [2889,3119]
                                    String: "with" [2889,2895]
                                    OBJECT [2896,3119]
                                        FIELD [2897,2931]
                                            String: "path" [2897,2903]
                                            STRING [2904,2931]
                                                String: "${{ env.pythonLocation }}" [2904,2931]
                                        FIELD [2932,3054]
                                            String: "key" [2932,2937]
                                            STRING [2938,3054]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [2938,3054]
                                        FIELD [3055,3118]
                                            String: "restore-keys" [3055,3069]
                                            STRING [3070,3118]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}\n" [3070,3118]
                            OBJECT [3121,3440]
                                FIELD [3122,3149]
                                    String: "name" [3122,3128]
                                    STRING [3129,3149]
                                        String: "Set version suffix" [3129,3149]
                                FIELD [3150,3188]
                                    String: "if" [3150,3154]
                                    STRING [3155,3188]
                                        String: "github.event_name == 'schedule'" [3155,3188]
                                FIELD [3189,3439]
                                    String: "run" [3189,3194]
                                    STRING [3195,3439]
                                        String: "# This is somewhat bizarre, but you can't set env variables to bash\n# commands in the action workflow - so we have to use this odd way of\n# exporting a variable instead.\necho ::set-env name=ALLENNLP_VERSION_SUFFIX::.dev$(date -u +%Y%m%d)\n" [3195,3439]
                            OBJECT [3441,3495]
                                FIELD [3442,3471]
                                    String: "name" [3442,3448]
                                    STRING [3449,3471]
                                        String: "Install requirements" [3449,3471]
                                FIELD [3472,3494]
                                    String: "run" [3472,3477]
                                    STRING [3478,3494]
                                        String: "make install\n" [3478,3494]
                            OBJECT [3496,3673]
                                FIELD [3497,3524]
                                    String: "name" [3497,3503]
                                    STRING [3504,3524]
                                        String: "Build core package" [3504,3524]
                                FIELD [3525,3672]
                                    String: "run" [3525,3530]
                                    STRING [3531,3672]
                                        String: "echo \"Building packages for core release\"\n# Just print out the version for debugging.\nmake version\npython setup.py bdist_wheel sdist\n" [3531,3672]
                            OBJECT [3674,3783]
                                FIELD [3675,3701]
                                    String: "name" [3675,3681]
                                    STRING [3682,3701]
                                        String: "Save core package" [3682,3701]
                                FIELD [3702,3737]
                                    String: "uses" [3702,3708]
                                    STRING [3709,3737]
                                        String: "actions/upload-artifact@v1" [3709,3737]
                                FIELD [3738,3782]
                                    String: "with" [3738,3744]
                                    OBJECT [3745,3782]
                                        FIELD [3746,3767]
                                            String: "name" [3746,3752]
                                            STRING [3753,3767]
                                                String: "core-package" [3753,3767]
                                        FIELD [3768,3781]
                                            String: "path" [3768,3774]
                                            STRING [3775,3781]
                                                String: "dist" [3775,3781]
                            OBJECT [3784,3858]
                                FIELD [3785,3802]
                                    String: "name" [3785,3791]
                                    STRING [3792,3802]
                                        String: "Clean up" [3792,3802]
                                FIELD [3803,3818]
                                    String: "if" [3803,3807]
                                    STRING [3808,3818]
                                        String: "always()" [3808,3818]
                                FIELD [3819,3857]
                                    String: "run" [3819,3824]
                                    STRING [3825,3857]
                                        String: "pip uninstall --yes allennlp\n" [3825,3857]
            FIELD [3861,4442]
                String: "test_package" [3861,3875]
                OBJECT [3876,4442]
                    FIELD [3877,3898]
                        String: "name" [3877,3883]
                        STRING [3884,3898]
                            String: "Test Package" [3884,3898]
                    FIELD [3899,3924]
                        String: "needs" [3899,3906]
                        ARRAY [3907,3924]
                            STRING [3908,3923]
                                String: "build_package" [3908,3923]
                    FIELD [3925,3950]
                        String: "runs-on" [3925,3934]
                        STRING [3935,3950]
                            String: "ubuntu-latest" [3935,3950]
                    FIELD [3951,3997]
                        String: "strategy" [3951,3961]
                        OBJECT [3962,3997]
                            FIELD [3963,3996]
                                String: "matrix" [3963,3971]
                                OBJECT [3972,3996]
                                    FIELD [3973,3995]
                                        String: "python" [3973,3981]
                                        ARRAY [3982,3995]
                                            STRING [3983,3988]
                                                String: "3.6" [3983,3988]
                                            STRING [3989,3994]
                                                String: "3.7" [3989,3994]
                    FIELD [3998,4441]
                        String: "steps" [3998,4005]
                        ARRAY [4006,4441]
                            OBJECT [4007,4112]
                                FIELD [4008,4029]
                                    String: "name" [4008,4014]
                                    STRING [4015,4029]
                                        String: "Setup Python" [4015,4029]
                                FIELD [4030,4062]
                                    String: "uses" [4030,4036]
                                    STRING [4037,4062]
                                        String: "actions/setup-python@v1" [4037,4062]
                                FIELD [4063,4111]
                                    String: "with" [4063,4069]
                                    OBJECT [4070,4111]
                                        FIELD [4071,4110]
                                            String: "python-version" [4071,4087]
                                            STRING [4088,4110]
                                                String: "${{ matrix.python }}" [4088,4110]
                            OBJECT [4113,4197]
                                FIELD [4114,4143]
                                    String: "name" [4114,4120]
                                    STRING [4121,4143]
                                        String: "Install requirements" [4121,4143]
                                FIELD [4144,4196]
                                    String: "run" [4144,4149]
                                    STRING [4150,4196]
                                        String: "pip install --upgrade pip setuptools wheel\n" [4150,4196]
                            OBJECT [4198,4313]
                                FIELD [4199,4229]
                                    String: "name" [4199,4205]
                                    STRING [4206,4229]
                                        String: "Download core package" [4206,4229]
                                FIELD [4230,4267]
                                    String: "uses" [4230,4236]
                                    STRING [4237,4267]
                                        String: "actions/download-artifact@v1" [4237,4267]
                                FIELD [4268,4312]
                                    String: "with" [4268,4274]
                                    OBJECT [4275,4312]
                                        FIELD [4276,4297]
                                            String: "name" [4276,4282]
                                            STRING [4283,4297]
                                                String: "core-package" [4283,4297]
                                        FIELD [4298,4311]
                                            String: "path" [4298,4304]
                                            STRING [4305,4311]
                                                String: "dist" [4305,4311]
                            OBJECT [4314,4384]
                                FIELD [4315,4344]
                                    String: "name" [4315,4321]
                                    STRING [4322,4344]
                                        String: "Install core package" [4322,4344]
                                FIELD [4345,4383]
                                    String: "run" [4345,4350]
                                    STRING [4351,4383]
                                        String: "pip install $(ls dist/*.whl)\n" [4351,4383]
                            OBJECT [4385,4440]
                                FIELD [4386,4407]
                                    String: "name" [4386,4392]
                                    STRING [4393,4407]
                                        String: "Test install" [4393,4407]
                                FIELD [4408,4439]
                                    String: "run" [4408,4413]
                                    STRING [4414,4439]
                                        String: "allennlp test-install\n" [4414,4439]
            FIELD [4443,5678]
                String: "docker" [4443,4451]
                OBJECT [4452,5678]
                    FIELD [4453,4468]
                        String: "name" [4453,4459]
                        STRING [4460,4468]
                            String: "Docker" [4460,4468]
                    FIELD [4469,4494]
                        String: "needs" [4469,4476]
                        ARRAY [4477,4494]
                            STRING [4478,4493]
                                String: "build_package" [4478,4493]
                    FIELD [4495,4520]
                        String: "runs-on" [4495,4504]
                        STRING [4505,4520]
                            String: "ubuntu-latest" [4505,4520]
                    FIELD [4521,5677]
                        String: "steps" [4521,4528]
                        ARRAY [4529,5677]
                            OBJECT [4530,4560]
                                FIELD [4531,4559]
                                    String: "uses" [4531,4537]
                                    STRING [4538,4559]
                                        String: "actions/checkout@v2" [4538,4559]
                            OBJECT [4561,4676]
                                FIELD [4562,4592]
                                    String: "name" [4562,4568]
                                    STRING [4569,4592]
                                        String: "Download core package" [4569,4592]
                                FIELD [4593,4630]
                                    String: "uses" [4593,4599]
                                    STRING [4600,4630]
                                        String: "actions/download-artifact@v1" [4600,4630]
                                FIELD [4631,4675]
                                    String: "with" [4631,4637]
                                    OBJECT [4638,4675]
                                        FIELD [4639,4660]
                                            String: "name" [4639,4645]
                                            STRING [4646,4660]
                                                String: "core-package" [4646,4660]
                                        FIELD [4661,4674]
                                            String: "path" [4661,4667]
                                            STRING [4668,4674]
                                                String: "dist" [4668,4674]
                            OBJECT [4677,4993]
                                FIELD [4678,4698]
                                    String: "name" [4678,4684]
                                    STRING [4685,4698]
                                        String: "Build image" [4685,4698]
                                FIELD [4699,4992]
                                    String: "run" [4699,4704]
                                    STRING [4705,4992]
                                        String: "# Create a small context for the Docker with only the files that we need.\ntar -czvf context.tar.gz \\\n    Dockerfile.whl \\\n    scripts/ai2_internal/resumable_train.sh \\\n    dist/*.whl\ndocker build \\\n    --pull \\\n    -f Dockerfile.whl \\\n    -t allennlp - < context.tar.gz\n" [4705,4992]
                            OBJECT [4994,5063]
                                FIELD [4995,5014]
                                    String: "name" [4995,5001]
                                    STRING [5002,5014]
                                        String: "Test image" [5002,5014]
                                FIELD [5015,5062]
                                    String: "run" [5015,5020]
                                    STRING [5021,5062]
                                        String: "docker run --rm allennlp test-install\n" [5021,5062]
                            OBJECT [5064,5353]
                                FIELD [5065,5093]
                                    String: "name" [5065,5071]
                                    STRING [5072,5093]
                                        String: "Upload master image" [5072,5093]
                                FIELD [5094,5171]
                                    String: "if" [5094,5098]
                                    STRING [5099,5171]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'push'" [5099,5171]
                                FIELD [5172,5352]
                                    String: "run" [5172,5177]
                                    STRING [5178,5352]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\ndocker tag allennlp allennlp/commit:$GITHUB_SHA\ndocker push allennlp/commit:$GITHUB_SHA\n" [5178,5352]
                            OBJECT [5354,5676]
                                FIELD [5355,5384]
                                    String: "name" [5355,5361]
                                    STRING [5362,5384]
                                        String: "Upload release image" [5362,5384]
                                FIELD [5385,5465]
                                    String: "if" [5385,5389]
                                    STRING [5390,5465]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [5390,5465]
                                FIELD [5466,5675]
                                    String: "run" [5466,5471]
                                    STRING [5472,5675]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\nTAG=${GITHUB_REF/\\/refs\\/tags\\//};\ndocker tag allennlp allennlp/allennlp:$TAG\ndocker push allennlp/allennlp:$TAG\n" [5472,5675]
            FIELD [5679,7373]
                String: "docs" [5679,5685]
                OBJECT [5686,7373]
                    FIELD [5687,5700]
                        String: "name" [5687,5693]
                        STRING [5694,5700]
                            String: "Docs" [5694,5700]
                    FIELD [5701,5726]
                        String: "runs-on" [5701,5710]
                        STRING [5711,5726]
                            String: "ubuntu-latest" [5711,5726]
                    FIELD [5727,5767]
                        String: "strategy" [5727,5737]
                        OBJECT [5738,5767]
                            FIELD [5739,5766]
                                String: "matrix" [5739,5747]
                                OBJECT [5748,5766]
                                    FIELD [5749,5765]
                                        String: "python" [5749,5757]
                                        ARRAY [5758,5765]
                                            STRING [5759,5764]
                                                String: "3.7" [5759,5764]
                    FIELD [5768,7372]
                        String: "steps" [5768,5775]
                        ARRAY [5776,7372]
                            OBJECT [5777,5807]
                                FIELD [5778,5806]
                                    String: "uses" [5778,5784]
                                    STRING [5785,5806]
                                        String: "actions/checkout@v1" [5785,5806]
                            OBJECT [5808,5935]
                                FIELD [5809,5837]
                                    String: "name" [5809,5815]
                                    STRING [5816,5837]
                                        String: "Setup SSH Client ðŸ”‘" [5816,5837]
                                FIELD [5838,5874]
                                    String: "uses" [5838,5844]
                                    STRING [5845,5874]
                                        String: "webfactory/ssh-agent@v0.2.0" [5845,5874]
                                FIELD [5875,5934]
                                    String: "with" [5875,5881]
                                    OBJECT [5882,5934]
                                        FIELD [5883,5933]
                                            String: "ssh-private-key" [5883,5900]
                                            STRING [5901,5933]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [5901,5933]
                            OBJECT [5936,6041]
                                FIELD [5937,5958]
                                    String: "name" [5937,5943]
                                    STRING [5944,5958]
                                        String: "Setup Python" [5944,5958]
                                FIELD [5959,5991]
                                    String: "uses" [5959,5965]
                                    STRING [5966,5991]
                                        String: "actions/setup-python@v1" [5966,5991]
                                FIELD [5992,6040]
                                    String: "with" [5992,5998]
                                    OBJECT [5999,6040]
                                        FIELD [6000,6039]
                                            String: "python-version" [6000,6016]
                                            STRING [6017,6039]
                                                String: "${{ matrix.python }}" [6017,6039]
                            OBJECT [6042,6300]
                                FIELD [6043,6068]
                                    String: "uses" [6043,6049]
                                    STRING [6050,6068]
                                        String: "actions/cache@v1" [6050,6068]
                                FIELD [6069,6299]
                                    String: "with" [6069,6075]
                                    OBJECT [6076,6299]
                                        FIELD [6077,6111]
                                            String: "path" [6077,6083]
                                            STRING [6084,6111]
                                                String: "${{ env.pythonLocation }}" [6084,6111]
                                        FIELD [6112,6234]
                                            String: "key" [6112,6117]
                                            STRING [6118,6234]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [6118,6234]
                                        FIELD [6235,6298]
                                            String: "restore-keys" [6235,6249]
                                            STRING [6250,6298]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}\n" [6250,6298]
                            OBJECT [6301,6355]
                                FIELD [6302,6331]
                                    String: "name" [6302,6308]
                                    STRING [6309,6331]
                                        String: "Install requirements" [6309,6331]
                                FIELD [6332,6354]
                                    String: "run" [6332,6337]
                                    STRING [6338,6354]
                                        String: "make install\n" [6338,6354]
                            OBJECT [6356,6398]
                                FIELD [6357,6376]
                                    String: "name" [6357,6363]
                                    STRING [6364,6376]
                                        String: "Debug info" [6364,6376]
                                FIELD [6377,6397]
                                    String: "run" [6377,6382]
                                    STRING [6383,6397]
                                        String: "pip freeze\n" [6383,6397]
                            OBJECT [6399,6454]
                                FIELD [6400,6419]
                                    String: "name" [6400,6406]
                                    STRING [6407,6419]
                                        String: "Build docs" [6407,6419]
                                FIELD [6420,6453]
                                    String: "run" [6420,6425]
                                    STRING [6426,6453]
                                        String: "./scripts/build_docs.sh\n" [6426,6453]
                            OBJECT [6455,6634]
                                FIELD [6456,6478]
                                    String: "name" [6456,6462]
                                    STRING [6463,6478]
                                        String: "Configure Git" [6463,6478]
                                FIELD [6479,6633]
                                    String: "run" [6479,6484]
                                    STRING [6485,6633]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [6485,6633]
                            OBJECT [6635,7296]
                                FIELD [6636,6656]
                                    String: "name" [6636,6642]
                                    STRING [6643,6656]
                                        String: "Deploy docs" [6643,6656]
                                FIELD [6657,6738]
                                    String: "if" [6657,6661]
                                    STRING [6662,6738]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name != 'schedule'" [6662,6738]
                                FIELD [6739,7295]
                                    String: "run" [6739,6744]
                                    STRING [6745,7295]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    DIRECTORY=${GITHUB_REF/\\/refs\\/tags\\//};\nelse\n    DIRECTORY=master;\nfi\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DIRECTORY/\nmkdir -p ~/allennlp-docs/$DIRECTORY\ncp -r site/* ~/allennlp-docs/$DIRECTORY\n\n# And push them up to GitHub\ncd ~/allennlp-docs/$DIRECTORY\ngit add .\ngit commit -m \"automated update of the docs\"\ngit push\n" [6745,7295]
                            OBJECT [7297,7371]
                                FIELD [7298,7315]
                                    String: "name" [7298,7304]
                                    STRING [7305,7315]
                                        String: "Clean up" [7305,7315]
                                FIELD [7316,7331]
                                    String: "if" [7316,7320]
                                    STRING [7321,7331]
                                        String: "always()" [7321,7331]
                                FIELD [7332,7370]
                                    String: "run" [7332,7337]
                                    STRING [7338,7370]
                                        String: "pip uninstall --yes allennlp\n" [7338,7370]
            FIELD [7374,8027]
                String: "publish" [7374,7383]
                OBJECT [7384,8027]
                    FIELD [7385,7398]
                        String: "name" [7385,7391]
                        STRING [7392,7398]
                            String: "PyPI" [7392,7398]
                    FIELD [7399,7483]
                        String: "needs" [7399,7406]
                        ARRAY [7407,7483]
                            STRING [7408,7420]
                                String: "check_core" [7408,7420]
                            STRING [7421,7435]
                                String: "check_models" [7421,7435]
                            STRING [7436,7451]
                                String: "build_package" [7436,7451]
                            STRING [7452,7466]
                                String: "test_package" [7452,7466]
                            STRING [7467,7475]
                                String: "docker" [7467,7475]
                            STRING [7476,7482]
                                String: "docs" [7476,7482]
                    FIELD [7484,7561]
                        String: "if" [7484,7488]
                        STRING [7489,7561]
                            String: "github.repository == 'allenai/allennlp' && github.event_name != 'push'" [7489,7561]
                    FIELD [7562,7587]
                        String: "runs-on" [7562,7571]
                        STRING [7572,7587]
                            String: "ubuntu-latest" [7572,7587]
                    FIELD [7588,8026]
                        String: "steps" [7588,7595]
                        ARRAY [7596,8026]
                            OBJECT [7597,7627]
                                FIELD [7598,7626]
                                    String: "uses" [7598,7604]
                                    STRING [7605,7626]
                                        String: "actions/checkout@v2" [7605,7626]
                            OBJECT [7628,7714]
                                FIELD [7629,7650]
                                    String: "name" [7629,7635]
                                    STRING [7636,7650]
                                        String: "Setup Python" [7636,7650]
                                FIELD [7651,7683]
                                    String: "uses" [7651,7657]
                                    STRING [7658,7683]
                                        String: "actions/setup-python@v1" [7658,7683]
                                FIELD [7684,7713]
                                    String: "with" [7684,7690]
                                    OBJECT [7691,7713]
                                        FIELD [7692,7712]
                                            String: "python-version" [7692,7708]
                                            NUMBER [7709,7712]
                                                Number: 3.7 [7709,7712]
                            OBJECT [7715,7805]
                                FIELD [7716,7745]
                                    String: "name" [7716,7722]
                                    STRING [7723,7745]
                                        String: "Install requirements" [7723,7745]
                                FIELD [7746,7804]
                                    String: "run" [7746,7751]
                                    STRING [7752,7804]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [7752,7804]
                            OBJECT [7806,7921]
                                FIELD [7807,7837]
                                    String: "name" [7807,7813]
                                    STRING [7814,7837]
                                        String: "Download core package" [7814,7837]
                                FIELD [7838,7875]
                                    String: "uses" [7838,7844]
                                    STRING [7845,7875]
                                        String: "actions/download-artifact@v1" [7845,7875]
                                FIELD [7876,7920]
                                    String: "with" [7876,7882]
                                    OBJECT [7883,7920]
                                        FIELD [7884,7905]
                                            String: "name" [7884,7890]
                                            STRING [7891,7905]
                                                String: "core-package" [7891,7905]
                                        FIELD [7906,7919]
                                            String: "path" [7906,7912]
                                            STRING [7913,7919]
                                                String: "dist" [7913,7919]
                            OBJECT [7922,8025]
                                FIELD [7923,7952]
                                    String: "name" [7923,7929]
                                    STRING [7930,7952]
                                        String: "Publish core package" [7930,7952]
                                FIELD [7953,8024]
                                    String: "run" [7953,7958]
                                    STRING [7959,8024]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [7959,8024]