OBJECT [0,11077]
    FIELD [1,40]
        String: "name" [1,7]
        STRING [8,40]
            String: "Self-hosted runner (scheduled)" [8,40]
    FIELD [41,108]
        String: "on" [41,45]
        OBJECT [46,108]
            FIELD [47,73]
                String: "repository_dispatch" [47,68]
                NULL [69,73]
            FIELD [74,107]
                String: "schedule" [74,84]
                ARRAY [85,107]
                    OBJECT [86,106]
                        FIELD [87,105]
                            String: "cron" [87,93]
                            STRING [94,105]
                                String: "0 2 * * *" [94,105]
    FIELD [109,333]
        String: "env" [109,114]
        OBJECT [115,333]
            FIELD [116,138]
                String: "HF_HOME" [116,125]
                STRING [126,138]
                    String: "/mnt/cache" [126,138]
            FIELD [139,164]
                String: "TRANSFORMERS_IS_CI" [139,159]
                TRUE [160,164]
            FIELD [165,184]
                String: "OMP_NUM_THREADS" [165,182]
                NUMBER [183,184]
                    Number: 8 [183,184]
            FIELD [185,204]
                String: "MKL_NUM_THREADS" [185,202]
                NUMBER [203,204]
                    Number: 8 [203,204]
            FIELD [205,220]
                String: "RUN_SLOW" [205,215]
                TRUE [216,220]
            FIELD [221,273]
                String: "SIGOPT_API_TOKEN" [221,239]
                STRING [240,273]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [240,273]
            FIELD [274,306]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [274,301]
                TRUE [302,306]
            FIELD [307,332]
                String: "RUN_PT_TF_CROSS_TESTS" [307,330]
                NUMBER [331,332]
                    Number: 1 [331,332]
    FIELD [334,11076]
        String: "jobs" [334,340]
        OBJECT [341,11076]
            FIELD [342,1464]
                String: "setup" [342,349]
                OBJECT [350,1464]
                    FIELD [351,365]
                        String: "name" [351,357]
                        STRING [358,365]
                            String: "Setup" [358,365]
                    FIELD [366,431]
                        String: "strategy" [366,376]
                        OBJECT [377,431]
                            FIELD [378,430]
                                String: "matrix" [378,386]
                                OBJECT [387,430]
                                    FIELD [388,429]
                                        String: "machine_type" [388,402]
                                        ARRAY [403,429]
                                            STRING [404,416]
                                                String: "single-gpu" [404,416]
                                            STRING [417,428]
                                                String: "multi-gpu" [417,428]
                    FIELD [432,499]
                        String: "runs-on" [432,441]
                        STRING [442,499]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker') }}" [442,499]
                    FIELD [500,660]
                        String: "container" [500,511]
                        OBJECT [512,660]
                            FIELD [513,562]
                                String: "image" [513,520]
                                STRING [521,562]
                                    String: "huggingface/transformers-all-latest-gpu" [521,562]
                            FIELD [563,659]
                                String: "options" [563,572]
                                STRING [573,659]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [573,659]
                    FIELD [661,722]
                        String: "outputs" [661,670]
                        OBJECT [671,722]
                            FIELD [672,721]
                                String: "matrix" [672,680]
                                STRING [681,721]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [681,721]
                    FIELD [723,1463]
                        String: "steps" [723,730]
                        ARRAY [731,1463]
                            OBJECT [732,845]
                                FIELD [733,754]
                                    String: "name" [733,739]
                                    STRING [740,754]
                                        String: "Update clone" [740,754]
                                FIELD [755,790]
                                    String: "working-directory" [755,774]
                                    STRING [775,790]
                                        String: "/transformers" [775,790]
                                FIELD [791,844]
                                    String: "run" [791,796]
                                    STRING [797,844]
                                        String: "git fetch && git checkout ${{ github.sha }}\n" [797,844]
                            OBJECT [846,984]
                                FIELD [847,863]
                                    String: "name" [847,853]
                                    STRING [854,863]
                                        String: "Cleanup" [854,863]
                                FIELD [864,899]
                                    String: "working-directory" [864,883]
                                    STRING [884,899]
                                        String: "/transformers" [884,899]
                                FIELD [900,983]
                                    String: "run" [900,905]
                                    STRING [906,983]
                                        String: "rm -rf tests/__pycache__\nrm -rf tests/models/__pycache__\nrm -rf reports\n" [906,983]
                            OBJECT [985,1419]
                                FIELD [986,1003]
                                    String: "id" [986,990]
                                    STRING [991,1003]
                                        String: "set-matrix" [991,1003]
                                FIELD [1004,1036]
                                    String: "name" [1004,1010]
                                    STRING [1011,1036]
                                        String: "Identify models to test" [1011,1036]
                                FIELD [1037,1078]
                                    String: "working-directory" [1037,1056]
                                    STRING [1057,1078]
                                        String: "/transformers/tests" [1057,1078]
                                FIELD [1079,1418]
                                    String: "run" [1079,1084]
                                    STRING [1085,1418]
                                        String: "echo \"::set-output name=matrix::$(python3 -c 'import os; tests = os.getcwd(); model_tests = os.listdir(os.path.join(tests, \"models\")); d1 = sorted(list(filter(os.path.isdir, os.listdir(tests)))); d2 = sorted(list(filter(os.path.isdir, [f\"models/{x}\" for x in model_tests]))); d1.remove(\"models\"); d = d2 + d1; print(d)')\"\n" [1085,1418]
                            OBJECT [1420,1462]
                                FIELD [1421,1440]
                                    String: "name" [1421,1427]
                                    STRING [1428,1440]
                                        String: "NVIDIA-SMI" [1428,1440]
                                FIELD [1441,1461]
                                    String: "run" [1441,1446]
                                    STRING [1447,1461]
                                        String: "nvidia-smi\n" [1447,1461]
            FIELD [1465,3103]
                String: "run_tests_single_gpu" [1465,1487]
                OBJECT [1488,3103]
                    FIELD [1489,1509]
                        String: "name" [1489,1495]
                        STRING [1496,1509]
                            String: "Model tests" [1496,1509]
                    FIELD [1510,1637]
                        String: "strategy" [1510,1520]
                        OBJECT [1521,1637]
                            FIELD [1522,1539]
                                String: "fail-fast" [1522,1533]
                                FALSE [1534,1539]
                            FIELD [1540,1636]
                                String: "matrix" [1540,1548]
                                OBJECT [1549,1636]
                                    FIELD [1550,1605]
                                        String: "folders" [1550,1559]
                                        STRING [1560,1605]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [1560,1605]
                                    FIELD [1606,1635]
                                        String: "machine_type" [1606,1620]
                                        ARRAY [1621,1635]
                                            STRING [1622,1634]
                                                String: "single-gpu" [1622,1634]
                    FIELD [1638,1705]
                        String: "runs-on" [1638,1647]
                        STRING [1648,1705]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker') }}" [1648,1705]
                    FIELD [1706,1866]
                        String: "container" [1706,1717]
                        OBJECT [1718,1866]
                            FIELD [1719,1768]
                                String: "image" [1719,1726]
                                STRING [1727,1768]
                                    String: "huggingface/transformers-all-latest-gpu" [1727,1768]
                            FIELD [1769,1865]
                                String: "options" [1769,1778]
                                STRING [1779,1865]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1779,1865]
                    FIELD [1867,1882]
                        String: "needs" [1867,1874]
                        STRING [1875,1882]
                            String: "setup" [1875,1882]
                    FIELD [1883,3102]
                        String: "steps" [1883,1890]
                        ARRAY [1891,3102]
                            OBJECT [1892,2166]
                                FIELD [1893,1935]
                                    String: "name" [1893,1899]
                                    STRING [1900,1935]
                                        String: "Echo folder ${{ matrix.folders }}" [1900,1935]
                                FIELD [1936,1950]
                                    String: "shell" [1936,1943]
                                    STRING [1944,1950]
                                        String: "bash" [1944,1950]
                                FIELD [1951,2165]
                                    String: "run" [1951,1956]
                                    STRING [1957,2165]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [1957,2165]
                            OBJECT [2167,2278]
                                FIELD [2168,2189]
                                    String: "name" [2168,2174]
                                    STRING [2175,2189]
                                        String: "Update clone" [2175,2189]
                                FIELD [2190,2225]
                                    String: "working-directory" [2190,2209]
                                    STRING [2210,2225]
                                        String: "/transformers" [2210,2225]
                                FIELD [2226,2277]
                                    String: "run" [2226,2231]
                                    STRING [2232,2277]
                                        String: "git fetch && git checkout ${{ github.sha }}" [2232,2277]
                            OBJECT [2279,2321]
                                FIELD [2280,2299]
                                    String: "name" [2280,2286]
                                    STRING [2287,2299]
                                        String: "NVIDIA-SMI" [2287,2299]
                                FIELD [2300,2320]
                                    String: "run" [2300,2305]
                                    STRING [2306,2320]
                                        String: "nvidia-smi\n" [2306,2320]
                            OBJECT [2322,2417]
                                FIELD [2323,2343]
                                    String: "name" [2323,2329]
                                    STRING [2330,2343]
                                        String: "Environment" [2330,2343]
                                FIELD [2344,2379]
                                    String: "working-directory" [2344,2363]
                                    STRING [2364,2379]
                                        String: "/transformers" [2364,2379]
                                FIELD [2380,2416]
                                    String: "run" [2380,2385]
                                    STRING [2386,2416]
                                        String: "python3 utils/print_env.py\n" [2386,2416]
                            OBJECT [2418,2616]
                                FIELD [2419,2448]
                                    String: "name" [2419,2425]
                                    STRING [2426,2448]
                                        String: "Run all tests on GPU" [2426,2448]
                                FIELD [2449,2484]
                                    String: "working-directory" [2449,2468]
                                    STRING [2469,2484]
                                        String: "/transformers" [2469,2484]
                                FIELD [2485,2615]
                                    String: "run" [2485,2490]
                                    STRING [2491,2615]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [2491,2615]
                            OBJECT [2617,2810]
                                FIELD [2618,2648]
                                    String: "name" [2618,2624]
                                    STRING [2625,2648]
                                        String: "Failure short reports" [2625,2648]
                                FIELD [2649,2672]
                                    String: "if" [2649,2653]
                                    STRING [2654,2672]
                                        String: "${{ failure() }}" [2654,2672]
                                FIELD [2673,2697]
                                    String: "continue-on-error" [2673,2692]
                                    TRUE [2693,2697]
                                FIELD [2698,2809]
                                    String: "run" [2698,2703]
                                    STRING [2704,2809]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [2704,2809]
                            OBJECT [2811,3101]
                                FIELD [2812,2849]
                                    String: "name" [2812,2818]
                                    STRING [2819,2849]
                                        String: "Test suite reports artifacts" [2819,2849]
                                FIELD [2850,2872]
                                    String: "if" [2850,2854]
                                    STRING [2855,2872]
                                        String: "${{ always() }}" [2855,2872]
                                FIELD [2873,2908]
                                    String: "uses" [2873,2879]
                                    STRING [2880,2908]
                                        String: "actions/upload-artifact@v2" [2880,2908]
                                FIELD [2909,3100]
                                    String: "with" [2909,2915]
                                    OBJECT [2916,3100]
                                        FIELD [2917,3009]
                                            String: "name" [2917,2923]
                                            STRING [2924,3009]
                                                String: "${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports" [2924,3009]
                                        FIELD [3010,3099]
                                            String: "path" [3010,3016]
                                            STRING [3017,3099]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}" [3017,3099]
            FIELD [3104,4742]
                String: "run_tests_multi_gpu" [3104,3125]
                OBJECT [3126,4742]
                    FIELD [3127,3147]
                        String: "name" [3127,3133]
                        STRING [3134,3147]
                            String: "Model tests" [3134,3147]
                    FIELD [3148,3274]
                        String: "strategy" [3148,3158]
                        OBJECT [3159,3274]
                            FIELD [3160,3177]
                                String: "fail-fast" [3160,3171]
                                FALSE [3172,3177]
                            FIELD [3178,3273]
                                String: "matrix" [3178,3186]
                                OBJECT [3187,3273]
                                    FIELD [3188,3243]
                                        String: "folders" [3188,3197]
                                        STRING [3198,3243]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [3198,3243]
                                    FIELD [3244,3272]
                                        String: "machine_type" [3244,3258]
                                        ARRAY [3259,3272]
                                            STRING [3260,3271]
                                                String: "multi-gpu" [3260,3271]
                    FIELD [3275,3342]
                        String: "runs-on" [3275,3284]
                        STRING [3285,3342]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker') }}" [3285,3342]
                    FIELD [3343,3505]
                        String: "container" [3343,3354]
                        OBJECT [3355,3505]
                            FIELD [3356,3405]
                                String: "image" [3356,3363]
                                STRING [3364,3405]
                                    String: "huggingface/transformers-all-latest-gpu" [3364,3405]
                            FIELD [3406,3504]
                                String: "options" [3406,3415]
                                STRING [3416,3504]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [3416,3504]
                    FIELD [3506,3521]
                        String: "needs" [3506,3513]
                        STRING [3514,3521]
                            String: "setup" [3514,3521]
                    FIELD [3522,4741]
                        String: "steps" [3522,3529]
                        ARRAY [3530,4741]
                            OBJECT [3531,3805]
                                FIELD [3532,3574]
                                    String: "name" [3532,3538]
                                    STRING [3539,3574]
                                        String: "Echo folder ${{ matrix.folders }}" [3539,3574]
                                FIELD [3575,3589]
                                    String: "shell" [3575,3582]
                                    STRING [3583,3589]
                                        String: "bash" [3583,3589]
                                FIELD [3590,3804]
                                    String: "run" [3590,3595]
                                    STRING [3596,3804]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [3596,3804]
                            OBJECT [3806,3917]
                                FIELD [3807,3828]
                                    String: "name" [3807,3813]
                                    STRING [3814,3828]
                                        String: "Update clone" [3814,3828]
                                FIELD [3829,3864]
                                    String: "working-directory" [3829,3848]
                                    STRING [3849,3864]
                                        String: "/transformers" [3849,3864]
                                FIELD [3865,3916]
                                    String: "run" [3865,3870]
                                    STRING [3871,3916]
                                        String: "git fetch && git checkout ${{ github.sha }}" [3871,3916]
                            OBJECT [3918,3960]
                                FIELD [3919,3938]
                                    String: "name" [3919,3925]
                                    STRING [3926,3938]
                                        String: "NVIDIA-SMI" [3926,3938]
                                FIELD [3939,3959]
                                    String: "run" [3939,3944]
                                    STRING [3945,3959]
                                        String: "nvidia-smi\n" [3945,3959]
                            OBJECT [3961,4056]
                                FIELD [3962,3982]
                                    String: "name" [3962,3968]
                                    STRING [3969,3982]
                                        String: "Environment" [3969,3982]
                                FIELD [3983,4018]
                                    String: "working-directory" [3983,4002]
                                    STRING [4003,4018]
                                        String: "/transformers" [4003,4018]
                                FIELD [4019,4055]
                                    String: "run" [4019,4024]
                                    STRING [4025,4055]
                                        String: "python3 utils/print_env.py\n" [4025,4055]
                            OBJECT [4057,4255]
                                FIELD [4058,4087]
                                    String: "name" [4058,4064]
                                    STRING [4065,4087]
                                        String: "Run all tests on GPU" [4065,4087]
                                FIELD [4088,4123]
                                    String: "working-directory" [4088,4107]
                                    STRING [4108,4123]
                                        String: "/transformers" [4108,4123]
                                FIELD [4124,4254]
                                    String: "run" [4124,4129]
                                    STRING [4130,4254]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [4130,4254]
                            OBJECT [4256,4449]
                                FIELD [4257,4287]
                                    String: "name" [4257,4263]
                                    STRING [4264,4287]
                                        String: "Failure short reports" [4264,4287]
                                FIELD [4288,4311]
                                    String: "if" [4288,4292]
                                    STRING [4293,4311]
                                        String: "${{ failure() }}" [4293,4311]
                                FIELD [4312,4336]
                                    String: "continue-on-error" [4312,4331]
                                    TRUE [4332,4336]
                                FIELD [4337,4448]
                                    String: "run" [4337,4342]
                                    STRING [4343,4448]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [4343,4448]
                            OBJECT [4450,4740]
                                FIELD [4451,4488]
                                    String: "name" [4451,4457]
                                    STRING [4458,4488]
                                        String: "Test suite reports artifacts" [4458,4488]
                                FIELD [4489,4511]
                                    String: "if" [4489,4493]
                                    STRING [4494,4511]
                                        String: "${{ always() }}" [4494,4511]
                                FIELD [4512,4547]
                                    String: "uses" [4512,4518]
                                    STRING [4519,4547]
                                        String: "actions/upload-artifact@v2" [4519,4547]
                                FIELD [4548,4739]
                                    String: "with" [4548,4554]
                                    OBJECT [4555,4739]
                                        FIELD [4556,4648]
                                            String: "name" [4556,4562]
                                            STRING [4563,4648]
                                                String: "${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports" [4563,4648]
                                        FIELD [4649,4738]
                                            String: "path" [4649,4655]
                                            STRING [4656,4738]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}" [4656,4738]
            FIELD [4743,5851]
                String: "run_examples_gpu" [4743,4761]
                OBJECT [4762,5851]
                    FIELD [4763,4790]
                        String: "name" [4763,4769]
                        STRING [4770,4790]
                            String: "Examples directory" [4770,4790]
                    FIELD [4791,4836]
                        String: "runs-on" [4791,4800]
                        ARRAY [4801,4836]
                            STRING [4802,4815]
                                String: "self-hosted" [4802,4815]
                            STRING [4816,4835]
                                String: "single-gpu-docker" [4816,4835]
                    FIELD [4837,4997]
                        String: "container" [4837,4848]
                        OBJECT [4849,4997]
                            FIELD [4850,4899]
                                String: "image" [4850,4857]
                                STRING [4858,4899]
                                    String: "huggingface/transformers-all-latest-gpu" [4858,4899]
                            FIELD [4900,4996]
                                String: "options" [4900,4909]
                                STRING [4910,4996]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [4910,4996]
                    FIELD [4998,5013]
                        String: "needs" [4998,5005]
                        STRING [5006,5013]
                            String: "setup" [5006,5013]
                    FIELD [5014,5850]
                        String: "steps" [5014,5021]
                        ARRAY [5022,5850]
                            OBJECT [5023,5134]
                                FIELD [5024,5045]
                                    String: "name" [5024,5030]
                                    STRING [5031,5045]
                                        String: "Update clone" [5031,5045]
                                FIELD [5046,5081]
                                    String: "working-directory" [5046,5065]
                                    STRING [5066,5081]
                                        String: "/transformers" [5066,5081]
                                FIELD [5082,5133]
                                    String: "run" [5082,5087]
                                    STRING [5088,5133]
                                        String: "git fetch && git checkout ${{ github.sha }}" [5088,5133]
                            OBJECT [5135,5177]
                                FIELD [5136,5155]
                                    String: "name" [5136,5142]
                                    STRING [5143,5155]
                                        String: "NVIDIA-SMI" [5143,5155]
                                FIELD [5156,5176]
                                    String: "run" [5156,5161]
                                    STRING [5162,5176]
                                        String: "nvidia-smi\n" [5162,5176]
                            OBJECT [5178,5273]
                                FIELD [5179,5199]
                                    String: "name" [5179,5185]
                                    STRING [5186,5199]
                                        String: "Environment" [5186,5199]
                                FIELD [5200,5235]
                                    String: "working-directory" [5200,5219]
                                    STRING [5220,5235]
                                        String: "/transformers" [5220,5235]
                                FIELD [5236,5272]
                                    String: "run" [5236,5241]
                                    STRING [5242,5272]
                                        String: "python3 utils/print_env.py\n" [5242,5272]
                            OBJECT [5274,5490]
                                FIELD [5275,5309]
                                    String: "name" [5275,5281]
                                    STRING [5282,5309]
                                        String: "Run examples tests on GPU" [5282,5309]
                                FIELD [5310,5345]
                                    String: "working-directory" [5310,5329]
                                    STRING [5330,5345]
                                        String: "/transformers" [5330,5345]
                                FIELD [5346,5489]
                                    String: "run" [5346,5351]
                                    STRING [5352,5489]
                                        String: "pip install -r examples/pytorch/_tests_requirements.txt\npython3 -m pytest -v --make-reports=single-gpu_examples_gpu examples/pytorch\n" [5352,5489]
                            OBJECT [5491,5649]
                                FIELD [5492,5522]
                                    String: "name" [5492,5498]
                                    STRING [5499,5522]
                                        String: "Failure short reports" [5499,5522]
                                FIELD [5523,5546]
                                    String: "if" [5523,5527]
                                    STRING [5528,5546]
                                        String: "${{ failure() }}" [5528,5546]
                                FIELD [5547,5571]
                                    String: "continue-on-error" [5547,5566]
                                    TRUE [5567,5571]
                                FIELD [5572,5648]
                                    String: "run" [5572,5577]
                                    STRING [5578,5648]
                                        String: "cat /transformers/reports/single-gpu_examples_gpu/failures_short.txt" [5578,5648]
                            OBJECT [5650,5849]
                                FIELD [5651,5688]
                                    String: "name" [5651,5657]
                                    STRING [5658,5688]
                                        String: "Test suite reports artifacts" [5658,5688]
                                FIELD [5689,5711]
                                    String: "if" [5689,5693]
                                    STRING [5694,5711]
                                        String: "${{ always() }}" [5694,5711]
                                FIELD [5712,5747]
                                    String: "uses" [5712,5718]
                                    STRING [5719,5747]
                                        String: "actions/upload-artifact@v2" [5719,5747]
                                FIELD [5748,5848]
                                    String: "with" [5748,5754]
                                    OBJECT [5755,5848]
                                        FIELD [5756,5792]
                                            String: "name" [5756,5762]
                                            STRING [5763,5792]
                                                String: "single-gpu_run_examples_gpu" [5763,5792]
                                        FIELD [5793,5847]
                                            String: "path" [5793,5799]
                                            STRING [5800,5847]
                                                String: "/transformers/reports/single-gpu_examples_gpu" [5800,5847]
            FIELD [5852,7194]
                String: "run_pipelines_torch_gpu" [5852,5877]
                OBJECT [5878,7194]
                    FIELD [5879,5905]
                        String: "name" [5879,5885]
                        STRING [5886,5905]
                            String: "PyTorch pipelines" [5886,5905]
                    FIELD [5906,5989]
                        String: "strategy" [5906,5916]
                        OBJECT [5917,5989]
                            FIELD [5918,5935]
                                String: "fail-fast" [5918,5929]
                                FALSE [5930,5935]
                            FIELD [5936,5988]
                                String: "matrix" [5936,5944]
                                OBJECT [5945,5988]
                                    FIELD [5946,5987]
                                        String: "machine_type" [5946,5960]
                                        ARRAY [5961,5987]
                                            STRING [5962,5974]
                                                String: "single-gpu" [5962,5974]
                                            STRING [5975,5986]
                                                String: "multi-gpu" [5975,5986]
                    FIELD [5990,6057]
                        String: "runs-on" [5990,5999]
                        STRING [6000,6057]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker') }}" [6000,6057]
                    FIELD [6058,6217]
                        String: "container" [6058,6069]
                        OBJECT [6070,6217]
                            FIELD [6071,6117]
                                String: "image" [6071,6078]
                                STRING [6079,6117]
                                    String: "huggingface/transformers-pytorch-gpu" [6079,6117]
                            FIELD [6118,6216]
                                String: "options" [6118,6127]
                                STRING [6128,6216]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [6128,6216]
                    FIELD [6218,6233]
                        String: "needs" [6218,6225]
                        STRING [6226,6233]
                            String: "setup" [6226,6233]
                    FIELD [6234,7193]
                        String: "steps" [6234,6241]
                        ARRAY [6242,7193]
                            OBJECT [6243,6354]
                                FIELD [6244,6265]
                                    String: "name" [6244,6250]
                                    STRING [6251,6265]
                                        String: "Update clone" [6251,6265]
                                FIELD [6266,6301]
                                    String: "working-directory" [6266,6285]
                                    STRING [6286,6301]
                                        String: "/transformers" [6286,6301]
                                FIELD [6302,6353]
                                    String: "run" [6302,6307]
                                    STRING [6308,6353]
                                        String: "git fetch && git checkout ${{ github.sha }}" [6308,6353]
                            OBJECT [6355,6397]
                                FIELD [6356,6375]
                                    String: "name" [6356,6362]
                                    STRING [6363,6375]
                                        String: "NVIDIA-SMI" [6363,6375]
                                FIELD [6376,6396]
                                    String: "run" [6376,6381]
                                    STRING [6382,6396]
                                        String: "nvidia-smi\n" [6382,6396]
                            OBJECT [6398,6493]
                                FIELD [6399,6419]
                                    String: "name" [6399,6405]
                                    STRING [6406,6419]
                                        String: "Environment" [6406,6419]
                                FIELD [6420,6455]
                                    String: "working-directory" [6420,6439]
                                    STRING [6440,6455]
                                        String: "/transformers" [6440,6455]
                                FIELD [6456,6492]
                                    String: "run" [6456,6461]
                                    STRING [6462,6492]
                                        String: "python3 utils/print_env.py\n" [6462,6492]
                            OBJECT [6494,6749]
                                FIELD [6495,6533]
                                    String: "name" [6495,6501]
                                    STRING [6502,6533]
                                        String: "Run all pipeline tests on GPU" [6502,6533]
                                FIELD [6534,6569]
                                    String: "working-directory" [6534,6553]
                                    STRING [6554,6569]
                                        String: "/transformers" [6554,6569]
                                FIELD [6570,6603]
                                    String: "env" [6570,6575]
                                    OBJECT [6576,6603]
                                        FIELD [6577,6602]
                                            String: "RUN_PIPELINE_TESTS" [6577,6597]
                                            TRUE [6598,6602]
                                FIELD [6604,6748]
                                    String: "run" [6604,6609]
                                    STRING [6610,6748]
                                        String: "python3 -m pytest -n 1 -v --dist=loadfile -m is_pipeline_test --make-reports=${{ matrix.machine_type }}_tests_torch_pipeline_gpu tests\n" [6610,6748]
                            OBJECT [6750,6936]
                                FIELD [6751,6781]
                                    String: "name" [6751,6757]
                                    STRING [6758,6781]
                                        String: "Failure short reports" [6758,6781]
                                FIELD [6782,6805]
                                    String: "if" [6782,6786]
                                    STRING [6787,6805]
                                        String: "${{ failure() }}" [6787,6805]
                                FIELD [6806,6830]
                                    String: "continue-on-error" [6806,6825]
                                    TRUE [6826,6830]
                                FIELD [6831,6935]
                                    String: "run" [6831,6836]
                                    STRING [6837,6935]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_torch_pipeline_gpu/failures_short.txt" [6837,6935]
                            OBJECT [6937,7192]
                                FIELD [6938,6975]
                                    String: "name" [6938,6944]
                                    STRING [6945,6975]
                                        String: "Test suite reports artifacts" [6945,6975]
                                FIELD [6976,6998]
                                    String: "if" [6976,6980]
                                    STRING [6981,6998]
                                        String: "${{ always() }}" [6981,6998]
                                FIELD [6999,7034]
                                    String: "uses" [6999,7005]
                                    STRING [7006,7034]
                                        String: "actions/upload-artifact@v2" [7006,7034]
                                FIELD [7035,7191]
                                    String: "with" [7035,7041]
                                    OBJECT [7042,7191]
                                        FIELD [7043,7107]
                                            String: "name" [7043,7049]
                                            STRING [7050,7107]
                                                String: "${{ matrix.machine_type }}_run_tests_torch_pipeline_gpu" [7050,7107]
                                        FIELD [7108,7190]
                                            String: "path" [7108,7114]
                                            STRING [7115,7190]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_torch_pipeline_gpu" [7115,7190]
            FIELD [7195,8506]
                String: "run_pipelines_tf_gpu" [7195,7217]
                OBJECT [7218,8506]
                    FIELD [7219,7248]
                        String: "name" [7219,7225]
                        STRING [7226,7248]
                            String: "TensorFlow pipelines" [7226,7248]
                    FIELD [7249,7332]
                        String: "strategy" [7249,7259]
                        OBJECT [7260,7332]
                            FIELD [7261,7278]
                                String: "fail-fast" [7261,7272]
                                FALSE [7273,7278]
                            FIELD [7279,7331]
                                String: "matrix" [7279,7287]
                                OBJECT [7288,7331]
                                    FIELD [7289,7330]
                                        String: "machine_type" [7289,7303]
                                        ARRAY [7304,7330]
                                            STRING [7305,7317]
                                                String: "single-gpu" [7305,7317]
                                            STRING [7318,7329]
                                                String: "multi-gpu" [7318,7329]
                    FIELD [7333,7400]
                        String: "runs-on" [7333,7342]
                        STRING [7343,7400]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker') }}" [7343,7400]
                    FIELD [7401,7563]
                        String: "container" [7401,7412]
                        OBJECT [7413,7563]
                            FIELD [7414,7463]
                                String: "image" [7414,7421]
                                STRING [7422,7463]
                                    String: "huggingface/transformers-tensorflow-gpu" [7422,7463]
                            FIELD [7464,7562]
                                String: "options" [7464,7473]
                                STRING [7474,7562]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [7474,7562]
                    FIELD [7564,7579]
                        String: "needs" [7564,7571]
                        STRING [7572,7579]
                            String: "setup" [7572,7579]
                    FIELD [7580,8505]
                        String: "steps" [7580,7587]
                        ARRAY [7588,8505]
                            OBJECT [7589,7702]
                                FIELD [7590,7611]
                                    String: "name" [7590,7596]
                                    STRING [7597,7611]
                                        String: "Update clone" [7597,7611]
                                FIELD [7612,7647]
                                    String: "working-directory" [7612,7631]
                                    STRING [7632,7647]
                                        String: "/transformers" [7632,7647]
                                FIELD [7648,7701]
                                    String: "run" [7648,7653]
                                    STRING [7654,7701]
                                        String: "git fetch && git checkout ${{ github.sha }}\n" [7654,7701]
                            OBJECT [7703,7745]
                                FIELD [7704,7723]
                                    String: "name" [7704,7710]
                                    STRING [7711,7723]
                                        String: "NVIDIA-SMI" [7711,7723]
                                FIELD [7724,7744]
                                    String: "run" [7724,7729]
                                    STRING [7730,7744]
                                        String: "nvidia-smi\n" [7730,7744]
                            OBJECT [7746,7841]
                                FIELD [7747,7767]
                                    String: "name" [7747,7753]
                                    STRING [7754,7767]
                                        String: "Environment" [7754,7767]
                                FIELD [7768,7803]
                                    String: "working-directory" [7768,7787]
                                    STRING [7788,7803]
                                        String: "/transformers" [7788,7803]
                                FIELD [7804,7840]
                                    String: "run" [7804,7809]
                                    STRING [7810,7840]
                                        String: "python3 utils/print_env.py\n" [7810,7840]
                            OBJECT [7842,8094]
                                FIELD [7843,7881]
                                    String: "name" [7843,7849]
                                    STRING [7850,7881]
                                        String: "Run all pipeline tests on GPU" [7850,7881]
                                FIELD [7882,7917]
                                    String: "working-directory" [7882,7901]
                                    STRING [7902,7917]
                                        String: "/transformers" [7902,7917]
                                FIELD [7918,7951]
                                    String: "env" [7918,7923]
                                    OBJECT [7924,7951]
                                        FIELD [7925,7950]
                                            String: "RUN_PIPELINE_TESTS" [7925,7945]
                                            TRUE [7946,7950]
                                FIELD [7952,8093]
                                    String: "run" [7952,7957]
                                    STRING [7958,8093]
                                        String: "python3 -m pytest -n 1 -v --dist=loadfile -m is_pipeline_test --make-reports=${{ matrix.machine_type }}_tests_tf_pipeline_gpu tests\n" [7958,8093]
                            OBJECT [8095,8254]
                                FIELD [8096,8126]
                                    String: "name" [8096,8102]
                                    STRING [8103,8126]
                                        String: "Failure short reports" [8103,8126]
                                FIELD [8127,8149]
                                    String: "if" [8127,8131]
                                    STRING [8132,8149]
                                        String: "${{ always() }}" [8132,8149]
                                FIELD [8150,8253]
                                    String: "run" [8150,8155]
                                    STRING [8156,8253]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_tf_pipeline_gpu/failures_short.txt\n" [8156,8253]
                            OBJECT [8255,8504]
                                FIELD [8256,8293]
                                    String: "name" [8256,8262]
                                    STRING [8263,8293]
                                        String: "Test suite reports artifacts" [8263,8293]
                                FIELD [8294,8316]
                                    String: "if" [8294,8298]
                                    STRING [8299,8316]
                                        String: "${{ always() }}" [8299,8316]
                                FIELD [8317,8352]
                                    String: "uses" [8317,8323]
                                    STRING [8324,8352]
                                        String: "actions/upload-artifact@v2" [8324,8352]
                                FIELD [8353,8503]
                                    String: "with" [8353,8359]
                                    OBJECT [8360,8503]
                                        FIELD [8361,8422]
                                            String: "name" [8361,8367]
                                            STRING [8368,8422]
                                                String: "${{ matrix.machine_type }}_run_tests_tf_pipeline_gpu" [8368,8422]
                                        FIELD [8423,8502]
                                            String: "path" [8423,8429]
                                            STRING [8430,8502]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_tf_pipeline_gpu" [8430,8502]
            FIELD [8507,10223]
                String: "run_all_tests_torch_cuda_extensions_gpu" [8507,8548]
                OBJECT [8549,10223]
                    FIELD [8550,8585]
                        String: "name" [8550,8556]
                        STRING [8557,8585]
                            String: "Torch CUDA extension tests" [8557,8585]
                    FIELD [8586,8669]
                        String: "strategy" [8586,8596]
                        OBJECT [8597,8669]
                            FIELD [8598,8615]
                                String: "fail-fast" [8598,8609]
                                FALSE [8610,8615]
                            FIELD [8616,8668]
                                String: "matrix" [8616,8624]
                                OBJECT [8625,8668]
                                    FIELD [8626,8667]
                                        String: "machine_type" [8626,8640]
                                        ARRAY [8641,8667]
                                            STRING [8642,8654]
                                                String: "single-gpu" [8642,8654]
                                            STRING [8655,8666]
                                                String: "multi-gpu" [8655,8666]
                    FIELD [8670,8737]
                        String: "runs-on" [8670,8679]
                        STRING [8680,8737]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker') }}" [8680,8737]
                    FIELD [8738,8753]
                        String: "needs" [8738,8745]
                        STRING [8746,8753]
                            String: "setup" [8746,8753]
                    FIELD [8754,8930]
                        String: "container" [8754,8765]
                        OBJECT [8766,8930]
                            FIELD [8767,8830]
                                String: "image" [8767,8774]
                                STRING [8775,8830]
                                    String: "huggingface/transformers-pytorch-deepspeed-latest-gpu" [8775,8830]
                            FIELD [8831,8929]
                                String: "options" [8831,8840]
                                STRING [8841,8929]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [8841,8929]
                    FIELD [8931,10222]
                        String: "steps" [8931,8938]
                        ARRAY [8939,10222]
                            OBJECT [8940,9061]
                                FIELD [8941,8962]
                                    String: "name" [8941,8947]
                                    STRING [8948,8962]
                                        String: "Update clone" [8948,8962]
                                FIELD [8963,9008]
                                    String: "working-directory" [8963,8982]
                                    STRING [8983,9008]
                                        String: "/workspace/transformers" [8983,9008]
                                FIELD [9009,9060]
                                    String: "run" [9009,9014]
                                    STRING [9015,9060]
                                        String: "git fetch && git checkout ${{ github.sha }}" [9015,9060]
                            OBJECT [9062,9363]
                                FIELD [9063,9099]
                                    String: "name" [9063,9069]
                                    STRING [9070,9099]
                                        String: "Pre build DeepSpeed *again*" [9070,9099]
                                FIELD [9100,9132]
                                    String: "working-directory" [9100,9119]
                                    STRING [9120,9132]
                                        String: "/workspace" [9120,9132]
                                FIELD [9133,9362]
                                    String: "run" [9133,9138]
                                    STRING [9139,9362]
                                        String: "python3 -m pip uninstall -y deepspeed\nDS_BUILD_CPU_ADAM=1 DS_BUILD_AIO=1 DS_BUILD_UTILS=1 python3 -m pip install deepspeed --global-option=\"build_ext\" --global-option=\"-j8\" --no-cache -v --disable-pip-version-check\n" [9139,9362]
                            OBJECT [9364,9406]
                                FIELD [9365,9384]
                                    String: "name" [9365,9371]
                                    STRING [9372,9384]
                                        String: "NVIDIA-SMI" [9372,9384]
                                FIELD [9385,9405]
                                    String: "run" [9385,9390]
                                    STRING [9391,9405]
                                        String: "nvidia-smi\n" [9391,9405]
                            OBJECT [9407,9511]
                                FIELD [9408,9428]
                                    String: "name" [9408,9414]
                                    STRING [9415,9428]
                                        String: "Environment" [9415,9428]
                                FIELD [9429,9474]
                                    String: "working-directory" [9429,9448]
                                    STRING [9449,9474]
                                        String: "/workspace/transformers" [9449,9474]
                                FIELD [9475,9510]
                                    String: "run" [9475,9480]
                                    STRING [9481,9510]
                                        String: "python utils/print_env.py\n" [9481,9510]
                            OBJECT [9512,9724]
                                FIELD [9513,9542]
                                    String: "name" [9513,9519]
                                    STRING [9520,9542]
                                        String: "Run all tests on GPU" [9520,9542]
                                FIELD [9543,9588]
                                    String: "working-directory" [9543,9562]
                                    STRING [9563,9588]
                                        String: "/workspace/transformers" [9563,9588]
                                FIELD [9589,9723]
                                    String: "run" [9589,9594]
                                    STRING [9595,9723]
                                        String: "python -m pytest -v --make-reports=${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [9595,9723]
                            OBJECT [9725,9928]
                                FIELD [9726,9756]
                                    String: "name" [9726,9732]
                                    STRING [9733,9756]
                                        String: "Failure short reports" [9733,9756]
                                FIELD [9757,9780]
                                    String: "if" [9757,9761]
                                    STRING [9762,9780]
                                        String: "${{ failure() }}" [9762,9780]
                                FIELD [9781,9805]
                                    String: "continue-on-error" [9781,9800]
                                    TRUE [9801,9805]
                                FIELD [9806,9927]
                                    String: "run" [9806,9811]
                                    STRING [9812,9927]
                                        String: "cat /workspace/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu/failures_short.txt" [9812,9927]
                            OBJECT [9929,10221]
                                FIELD [9930,9967]
                                    String: "name" [9930,9936]
                                    STRING [9937,9967]
                                        String: "Test suite reports artifacts" [9937,9967]
                                FIELD [9968,9990]
                                    String: "if" [9968,9972]
                                    STRING [9973,9990]
                                        String: "${{ always() }}" [9973,9990]
                                FIELD [9991,10026]
                                    String: "uses" [9991,9997]
                                    STRING [9998,10026]
                                        String: "actions/upload-artifact@v2" [9998,10026]
                                FIELD [10027,10220]
                                    String: "with" [10027,10033]
                                    OBJECT [10034,10220]
                                        FIELD [10035,10119]
                                            String: "name" [10035,10041]
                                            STRING [10042,10119]
                                                String: "${{ matrix.machine_type }}_run_tests_torch_cuda_extensions_gpu_test_reports" [10042,10119]
                                        FIELD [10120,10219]
                                            String: "path" [10120,10126]
                                            STRING [10127,10219]
                                                String: "/workspace/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu" [10127,10219]
            FIELD [10224,11075]
                String: "send_results" [10224,10238]
                OBJECT [10239,11075]
                    FIELD [10240,10272]
                        String: "name" [10240,10246]
                        STRING [10247,10272]
                            String: "Send results to webhook" [10247,10272]
                    FIELD [10273,10298]
                        String: "runs-on" [10273,10282]
                        STRING [10283,10298]
                            String: "ubuntu-latest" [10283,10298]
                    FIELD [10299,10314]
                        String: "if" [10299,10303]
                        STRING [10304,10314]
                            String: "always()" [10304,10314]
                    FIELD [10315,10487]
                        String: "needs" [10315,10322]
                        ARRAY [10323,10487]
                            STRING [10324,10331]
                                String: "setup" [10324,10331]
                            STRING [10332,10354]
                                String: "run_tests_single_gpu" [10332,10354]
                            STRING [10355,10376]
                                String: "run_tests_multi_gpu" [10355,10376]
                            STRING [10377,10395]
                                String: "run_examples_gpu" [10377,10395]
                            STRING [10396,10418]
                                String: "run_pipelines_tf_gpu" [10396,10418]
                            STRING [10419,10444]
                                String: "run_pipelines_torch_gpu" [10419,10444]
                            STRING [10445,10486]
                                String: "run_all_tests_torch_cuda_extensions_gpu" [10445,10486]
                    FIELD [10488,11074]
                        String: "steps" [10488,10495]
                        ARRAY [10496,11074]
                            OBJECT [10497,10527]
                                FIELD [10498,10526]
                                    String: "uses" [10498,10504]
                                    STRING [10505,10526]
                                        String: "actions/checkout@v2" [10505,10526]
                            OBJECT [10528,10567]
                                FIELD [10529,10566]
                                    String: "uses" [10529,10535]
                                    STRING [10536,10566]
                                        String: "actions/download-artifact@v2" [10536,10566]
                            OBJECT [10568,11073]
                                FIELD [10569,10599]
                                    String: "name" [10569,10575]
                                    STRING [10576,10599]
                                        String: "Send message to Slack" [10576,10599]
                                FIELD [10600,10966]
                                    String: "env" [10600,10605]
                                    OBJECT [10606,10966]
                                        FIELD [10607,10663]
                                            String: "CI_SLACK_BOT_TOKEN" [10607,10627]
                                            STRING [10628,10663]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [10628,10663]
                                        FIELD [10664,10722]
                                            String: "CI_SLACK_CHANNEL_ID" [10664,10685]
                                            STRING [10686,10722]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [10686,10722]
                                        FIELD [10723,10793]
                                            String: "CI_SLACK_CHANNEL_ID_DAILY" [10723,10750]
                                            STRING [10751,10793]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY }}" [10751,10793]
                                        FIELD [10794,10870]
                                            String: "CI_SLACK_CHANNEL_DUMMY_TESTS" [10794,10824]
                                            STRING [10825,10870]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_DUMMY_TESTS }}" [10825,10870]
                                        FIELD [10871,10942]
                                            String: "CI_SLACK_REPORT_CHANNEL_ID" [10871,10899]
                                            STRING [10900,10942]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY }}" [10900,10942]
                                        FIELD [10943,10965]
                                            String: "CI_EVENT" [10943,10953]
                                            STRING [10954,10965]
                                                String: "scheduled" [10954,10965]
                                FIELD [10967,11072]
                                    String: "run" [10967,10972]
                                    STRING [10973,11072]
                                        String: "pip install slack_sdk\npython utils/notification_service.py \"${{ needs.setup.outputs.matrix }}\"" [10973,11072]