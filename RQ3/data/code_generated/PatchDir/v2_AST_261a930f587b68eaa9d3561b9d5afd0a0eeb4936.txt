OBJECT [0,2299]
    FIELD [1,21]
        String: "name" [1,7]
        STRING [8,21]
            String: "master only" [8,21]
    FIELD [22,75]
        String: "on" [22,26]
        OBJECT [27,75]
            FIELD [28,74]
                String: "push" [28,34]
                OBJECT [35,74]
                    FIELD [36,55]
                        String: "branches" [36,46]
                        STRING [47,55]
                            String: "master" [47,55]
                    FIELD [56,73]
                        String: "tags" [56,62]
                        ARRAY [63,73]
                            STRING [64,72]
                                String: "v*.*.*" [64,72]
    FIELD [76,2298]
        String: "jobs" [76,82]
        OBJECT [83,2298]
            FIELD [84,2127]
                String: "build-docker-images" [84,105]
                OBJECT [106,2127]
                    FIELD [107,132]
                        String: "runs-on" [107,116]
                        ARRAY [117,132]
                            STRING [118,131]
                                String: "self-hosted" [118,131]
                    FIELD [133,202]
                        String: "strategy" [133,143]
                        OBJECT [144,202]
                            FIELD [145,201]
                                String: "matrix" [145,153]
                                OBJECT [154,201]
                                    FIELD [155,200]
                                        String: "component" [155,166]
                                        ARRAY [167,200]
                                            STRING [168,174]
                                                String: "core" [168,174]
                                            STRING [175,184]
                                                String: "serving" [175,184]
                                            STRING [185,194]
                                                String: "jupyter" [185,194]
                                            STRING [195,199]
                                                String: "ci" [195,199]
                    FIELD [203,2126]
                        String: "steps" [203,210]
                        ARRAY [211,2126]
                            OBJECT [212,242]
                                FIELD [213,241]
                                    String: "uses" [213,219]
                                    STRING [220,241]
                                        String: "actions/checkout@v2" [220,241]
                            OBJECT [243,371]
                                FIELD [244,307]
                                    String: "uses" [244,250]
                                    STRING [251,307]
                                        String: "GoogleCloudPlatform/github-actions/setup-gcloud@master" [251,307]
                                FIELD [308,370]
                                    String: "with" [308,314]
                                    OBJECT [315,370]
                                        FIELD [316,335]
                                            String: "version" [316,325]
                                            STRING [326,335]
                                                String: "290.0.1" [326,335]
                                        FIELD [336,369]
                                            String: "export_default_credentials" [336,364]
                                            TRUE [365,369]
                            OBJECT [372,418]
                                FIELD [373,417]
                                    String: "run" [373,378]
                                    STRING [379,417]
                                        String: "gcloud auth configure-docker --quiet" [379,417]
                            OBJECT [419,538]
                                FIELD [420,440]
                                    String: "name" [420,426]
                                    STRING [427,440]
                                        String: "Build image" [427,440]
                                FIELD [441,537]
                                    String: "run" [441,446]
                                    STRING [447,537]
                                        String: "make build-${{ matrix.component }}-docker REGISTRY=gcr.io/kf-feast VERSION=${GITHUB_SHA}" [447,537]
                            OBJECT [539,656]
                                FIELD [540,559]
                                    String: "name" [540,546]
                                    STRING [547,559]
                                        String: "Push image" [547,559]
                                FIELD [560,655]
                                    String: "run" [560,565]
                                    STRING [566,655]
                                        String: "make push-${{ matrix.component }}-docker REGISTRY=gcr.io/kf-feast VERSION=${GITHUB_SHA}" [566,655]
                            OBJECT [657,943]
                                FIELD [658,690]
                                    String: "name" [658,664]
                                    STRING [665,690]
                                        String: "Push image to feast dev" [665,690]
                                FIELD [691,942]
                                    String: "run" [691,696]
                                    STRING [697,942]
                                        String: "if [ ${GITHUB_REF#refs/*/} == \"master\" ]; then\n  docker tag gcr.io/kf-feast/feast-${{ matrix.component }}:${GITHUB_SHA} gcr.io/kf-feast/feast-${{ matrix.component }}:dev\n  docker push gcr.io/kf-feast/feast-${{ matrix.component }}:dev\nfi\n" [697,942]
                            OBJECT [944,1060]
                                FIELD [945,965]
                                    String: "name" [945,951]
                                    STRING [952,965]
                                        String: "Get version" [952,965]
                                FIELD [966,984]
                                    String: "id" [966,970]
                                    STRING [971,984]
                                        String: "get_version" [971,984]
                                FIELD [985,1059]
                                    String: "run" [985,990]
                                    STRING [991,1059]
                                        String: "echo ::set-output name=VERSION::${${GITHUB_REF/refs\\/tags\\//}:1}" [991,1059]
                            OBJECT [1061,2125]
                                FIELD [1062,1093]
                                    String: "name" [1062,1068]
                                    STRING [1069,1093]
                                        String: "Push versioned release" [1069,1093]
                                FIELD [1094,2124]
                                    String: "run" [1094,1099]
                                    STRING [1100,2124]
                                        String: "\n# Build and push semver tagged commits\nrx='^([0-9]+\\.){0,2}(\\*|[0-9]+)$'\nif [[ ${{ steps.get_version.outputs.VERSION }} =~ $rx ]]; then\n\n  docker tag gcr.io/kf-feast/feast-${{ matrix.component }}:${GITHUB_SHA} gcr.io/kf-feast/feast-${{ matrix.component }}:${{ steps.get_version.outputs.VERSION }}\n  docker push gcr.io/kf-feast/feast-${{ matrix.component }}:${{ steps.get_version.outputs.VERSION }}\n\n  # Also update \"latest\" image if tagged commit is pushed to stable branch\n  HIGHEST_SEMVER_TAG=$(git tag -l --sort -version:refname | head -n 1)\n  echo \"Only push to latest tag if tag is the highest semver version $HIGHEST_SEMVER_TAG\"\n\n  if [ ${{ steps.get_version.outputs.VERSION }} == \"${HIGHEST_SEMVER_TAG:1}\" ]\n  then\n    docker tag gcr.io/kf-feast/feast-${{ matrix.component }}:${GITHUB_SHA} gcr.io/kf-feast/feast-${{ matrix.component }}:${{ steps.get_version.outputs.VERSION }}\n    docker push gcr.io/kf-feast/feast-${{ matrix.component }}:${{ steps.get_version.outputs.VERSION }}\n  fi\nfi\n" [1100,2124]
            FIELD [2128,2297]
                String: "tests-docker-compose" [2128,2150]
                OBJECT [2151,2297]
                    FIELD [2152,2177]
                        String: "runs-on" [2152,2161]
                        STRING [2162,2177]
                            String: "ubuntu-latest" [2162,2177]
                    FIELD [2178,2296]
                        String: "steps" [2178,2185]
                        ARRAY [2186,2296]
                            OBJECT [2187,2217]
                                FIELD [2188,2216]
                                    String: "uses" [2188,2194]
                                    STRING [2195,2216]
                                        String: "actions/checkout@v2" [2195,2216]
                            OBJECT [2218,2295]
                                FIELD [2219,2247]
                                    String: "name" [2219,2225]
                                    STRING [2226,2247]
                                        String: "Test docker compose" [2226,2247]
                                FIELD [2248,2294]
                                    String: "run" [2248,2253]
                                    STRING [2254,2294]
                                        String: "./infra/scripts/test-docker-compose.sh" [2254,2294]