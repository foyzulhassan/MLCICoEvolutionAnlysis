OBJECT [0,18520]
    FIELD [1,22]
        String: "name" [1,7]
        STRING [8,22]
            String: "Lint & Tests" [8,22]
    FIELD [23,51]
        String: "on" [23,27]
        ARRAY [28,51]
            STRING [29,35]
                String: "push" [29,35]
            STRING [36,50]
                String: "pull_request" [36,50]
    FIELD [52,18519]
        String: "jobs" [52,58]
        OBJECT [59,18519]
            FIELD [60,18063]
                String: "lint-and-tests" [60,76]
                OBJECT [77,18063]
                    FIELD [78,103]
                        String: "runs-on" [78,87]
                        STRING [88,103]
                            String: "ubuntu-latest" [88,103]
                    FIELD [104,150]
                        String: "strategy" [104,114]
                        OBJECT [115,150]
                            FIELD [116,149]
                                String: "matrix" [116,124]
                                OBJECT [125,149]
                                    FIELD [126,148]
                                        String: "python-version" [126,142]
                                        ARRAY [143,148]
                                            NUMBER [144,147]
                                                Number: 3.9 [144,147]
                    FIELD [151,18062]
                        String: "steps" [151,158]
                        ARRAY [159,18062]
                            OBJECT [160,190]
                                FIELD [161,189]
                                    String: "uses" [161,167]
                                    STRING [168,189]
                                        String: "actions/checkout@v2" [168,189]
                            OBJECT [191,334]
                                FIELD [192,243]
                                    String: "name" [192,198]
                                    STRING [199,243]
                                        String: "Set up Python ${{ matrix.python-version }}" [199,243]
                                FIELD [244,276]
                                    String: "uses" [244,250]
                                    STRING [251,276]
                                        String: "actions/setup-python@v2" [251,276]
                                FIELD [277,333]
                                    String: "with" [277,283]
                                    OBJECT [284,333]
                                        FIELD [285,332]
                                            String: "python-version" [285,301]
                                            STRING [302,332]
                                                String: "${{ matrix.python-version }}" [302,332]
                            OBJECT [335,663]
                                FIELD [336,365]
                                    String: "name" [336,342]
                                    STRING [343,365]
                                        String: "Install dependencies" [343,365]
                                FIELD [366,662]
                                    String: "run" [366,371]
                                    STRING [372,662]
                                        String: "python -m pip install --upgrade pip\npip install --upgrade setuptools\npip install -e .\npip install -r requirements.opt.txt\npip install sacrebleu\npip install flake8\npython -m pip install black==22.* flake8==3.8.*\nif [ -f requirements.txt ]; then pip install -r requirements.txt; fi\n" [372,662]
                            OBJECT [664,722]
                                FIELD [665,695]
                                    String: "name" [665,671]
                                    STRING [672,695]
                                        String: "Check code with Black" [672,695]
                                FIELD [696,721]
                                    String: "run" [696,701]
                                    STRING [702,721]
                                        String: "black --check .\n" [702,721]
                            OBJECT [723,769]
                                FIELD [724,749]
                                    String: "name" [724,730]
                                    STRING [731,749]
                                        String: "Lint with flake8" [731,749]
                                FIELD [750,768]
                                    String: "run" [750,755]
                                    STRING [756,768]
                                        String: "flake8 .\n" [756,768]
                            OBJECT [770,829]
                                FIELD [771,790]
                                    String: "name" [771,777]
                                    STRING [778,790]
                                        String: "Unit tests" [778,790]
                                FIELD [791,828]
                                    String: "run" [791,796]
                                    STRING [797,828]
                                        String: "python -m unittest discover\n" [797,828]
                            OBJECT [830,1082]
                                FIELD [831,861]
                                    String: "name" [831,837]
                                    STRING [838,861]
                                        String: "Test vocabulary build" [838,861]
                                FIELD [862,1081]
                                    String: "run" [862,867]
                                    STRING [868,1081]
                                        String: "python onmt/bin/build_vocab.py \\\n  -config data/data.yaml \\\n  -save_data /tmp/onmt \\\n  -n_sample 5000 \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  && rm -rf /tmp/sample\n" [868,1081]
                            OBJECT [1083,1371]
                                FIELD [1084,1128]
                                    String: "name" [1084,1090]
                                    STRING [1091,1128]
                                        String: "Test vocabulary build with features" [1091,1128]
                                FIELD [1129,1370]
                                    String: "run" [1129,1134]
                                    STRING [1135,1370]
                                        String: "python onmt/bin/build_vocab.py \\\n  -config data/features_data.yaml \\\n  -save_data /tmp/onmt_feat \\\n  -src_vocab /tmp/onmt_feat.vocab.src \\\n  -tgt_vocab /tmp/onmt_feat.vocab.tgt \\\n  -n_sample -1 \\\n  && rm -rf /tmp/sample\n" [1135,1370]
                            OBJECT [1372,1785]
                                FIELD [1373,1407]
                                    String: "name" [1373,1379]
                                    STRING [1380,1407]
                                        String: "Test field/transform dump" [1380,1407]
                                FIELD [1408,1784]
                                    String: "run" [1408,1413]
                                    STRING [1414,1784]
                                        String: "# The dumped fields are used later when testing tools\npython train.py \\\n  -config data/data.yaml \\\n  -save_data /tmp/onmt.train.check \\\n  -dump_fields \\\n  -dump_transforms \\\n  -n_sample 30 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000\n" [1414,1784]
                            OBJECT [1786,2322]
                                FIELD [1787,1813]
                                    String: "name" [1787,1793]
                                    STRING [1794,1813]
                                        String: "Test RNN training" [1794,1813]
                                FIELD [1814,2321]
                                    String: "run" [1814,1819]
                                    STRING [1820,2321]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -hidden_size 2 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -batch_size 10 \\\n  -word_vec_size 5 \\\n  -report_every 5\\\n  -hidden_size 10 \\\n  -train_steps 10 \\\n  -tensorboard \"true\" \\\n  -tensorboard_log_dir /tmp/logs_train\npython onmt/tests/test_events.py --logdir /tmp/logs_train -tensorboard_checks train\n" [1820,2321]
                            OBJECT [2323,3040]
                                FIELD [2324,2375]
                                    String: "name" [2324,2330]
                                    STRING [2331,2375]
                                        String: "Test RNN training and validation with copy" [2331,2375]
                                FIELD [2376,3039]
                                    String: "run" [2376,2381]
                                    STRING [2382,3039]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -hidden_size 2 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -batch_size 10 \\\n  -word_vec_size 5 \\\n  -report_every 5 \\\n  -hidden_size 10 \\\n  -train_steps 10 -valid_steps 5 \\\n  -tensorboard \"true\" \\\n  -tensorboard_log_dir /tmp/logs_train_and_valid \\\n  -copy_attn\npython onmt/tests/test_events.py --logdir /tmp/logs_train_and_valid -tensorboard_checks train\n        python onmt/tests/test_events.py --logdir /tmp/logs_train_and_valid -tensorboard_checks valid\n" [2382,3039]
                            OBJECT [3041,3472]
                                FIELD [3042,3082]
                                    String: "name" [3042,3048]
                                    STRING [3049,3082]
                                        String: "Test RNN training with coverage" [3049,3082]
                                FIELD [3083,3471]
                                    String: "run" [3083,3088]
                                    STRING [3089,3471]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -hidden_size 2 -batch_size 10 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -word_vec_size 5 -report_every 5        \\\n  -coverage_attn true -lambda_coverage 0.1 \\\n  -hidden_size 10 -train_steps 10\n" [3089,3471]
                            OBJECT [3473,4124]
                                FIELD [3474,3519]
                                    String: "name" [3474,3480]
                                    STRING [3481,3519]
                                        String: "Test Transformer training with align" [3481,3519]
                                FIELD [3520,4123]
                                    String: "run" [3520,3525]
                                    STRING [3526,4123]
                                        String: "python train.py \\\n  -config data/align_data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -encoder_type transformer \\\n  -decoder_type transformer \\\n  -layers 4 \\\n  -word_vec_size 16 \\\n  -hidden_size 16 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -heads 2 \\\n  -transformer_ff 64 \\\n  -lambda_align 0.05 \\\n  -alignment_layer 2 \\\n  -alignment_heads 0 \\\n  -dropout_steps 0 3 7 \\\n  -dropout 0.3 0.2 0.1 \\\n  -attention_dropout 0.2 0.1 0.1 \\\n  -report_every 5 \\\n  -train_steps 10\n" [3526,4123]
                            OBJECT [4125,5133]
                                FIELD [4126,4205]
                                    String: "name" [4126,4132]
                                    STRING [4133,4205]
                                        String: "Test Transformer training and validation with dynamic scoring and copy" [4133,4205]
                                FIELD [4206,5132]
                                    String: "run" [4206,4211]
                                    STRING [4212,5132]
                                        String: "python3 train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -encoder_type transformer \\\n  -decoder_type transformer \\\n  -layers 4 \\\n  -word_vec_size 16 \\\n  -hidden_size 16 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -heads 2 \\\n  -transformer_ff 64 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -accum_count 2 4 8 \\\n  -accum_steps 0 15000 30000 \\\n  -save_model /tmp/onmt.model \\\n  -train_steps 10  -valid_steps 5 \\\n  -report_every 2 \\\n  -valid_metrics \"BLEU\" \"TER\" \\\n  -tensorboard \"true\" \\\n  -scoring_debug \"true\" \\\n  -tensorboard_log_dir /tmp/logs_dynamic-scoring_and_copy \\\n  -dump_preds /tmp/dump_preds \\\n  -position_encoding \\\n  -copy_attn\npython onmt/tests/test_events.py --logdir /tmp/logs_dynamic-scoring_and_copy -tensorboard_checks valid_metrics \n" [4212,5132]
                            OBJECT [5134,6147]
                                FIELD [5135,5221]
                                    String: "name" [5135,5141]
                                    STRING [5142,5221]
                                        String: "Test Transformer training and validation with dynamic scoring and maxrelative" [5142,5221]
                                FIELD [5222,6146]
                                    String: "run" [5222,5227]
                                    STRING [5228,6146]
                                        String: "python3 train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -encoder_type transformer \\\n  -decoder_type transformer \\\n  -layers 4 \\\n  -word_vec_size 16 \\\n  -hidden_size 16 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -heads 2 \\\n  -transformer_ff 64 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -accum_count 2 4 8 \\\n  -accum_steps 0 15000 30000 \\\n  -save_model /tmp/onmt.model \\\n  -train_steps 10  -valid_steps 5 \\\n  -report_every 2 \\\n  -valid_metrics \"BLEU\" \"TER\" \\\n  -tensorboard \"true\" \\\n  -scoring_debug \"true\" \\\n  -tensorboard_log_dir /tmp/logs_dynamic-scoring_and_relative \\\n  -dump_preds /tmp/dump_preds \\\n  -max_relative_positions 8\npython onmt/tests/test_events.py --logdir /tmp/logs_dynamic-scoring_and_relative -tensorboard_checks valid_metrics \n" [5228,6146]
                            OBJECT [6148,7153]
                                FIELD [6149,6230]
                                    String: "name" [6149,6155]
                                    STRING [6156,6230]
                                        String: "Test Transformer training and validation with dynamic scoring and rotary" [6156,6230]
                                FIELD [6231,7152]
                                    String: "run" [6231,6236]
                                    STRING [6237,7152]
                                        String: "python3 train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -encoder_type transformer \\\n  -decoder_type transformer \\\n  -layers 4 \\\n  -word_vec_size 16 \\\n  -hidden_size 16 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -heads 2 \\\n  -transformer_ff 64 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -accum_count 2 4 8 \\\n  -accum_steps 0 15000 30000 \\\n  -save_model /tmp/onmt.model \\\n  -train_steps 10  -valid_steps 5 \\\n  -report_every 2 \\\n  -valid_metrics \"BLEU\" \"TER\" \\\n  -tensorboard \"true\" \\\n  -scoring_debug \"true\" \\\n  -tensorboard_log_dir /tmp/logs_dynamic-scoring_and_rotary \\\n  -dump_preds /tmp/dump_preds \\\n  -max_relative_positions -1\npython onmt/tests/test_events.py --logdir /tmp/logs_dynamic-scoring_and_rotary -tensorboard_checks valid_metrics \n" [6237,7152]
                            OBJECT [7154,8155]
                                FIELD [7155,7235]
                                    String: "name" [7155,7161]
                                    STRING [7162,7235]
                                        String: "Test Transformer training and validation with dynamic scoring and alibi" [7162,7235]
                                FIELD [7236,8154]
                                    String: "run" [7236,7241]
                                    STRING [7242,8154]
                                        String: "python3 train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -encoder_type transformer \\\n  -decoder_type transformer \\\n  -layers 4 \\\n  -word_vec_size 16 \\\n  -hidden_size 16 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -heads 2 \\\n  -transformer_ff 64 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -accum_count 2 4 8 \\\n  -accum_steps 0 15000 30000 \\\n  -save_model /tmp/onmt.model \\\n  -train_steps 10  -valid_steps 5 \\\n  -report_every 2 \\\n  -valid_metrics \"BLEU\" \"TER\" \\\n  -tensorboard \"true\" \\\n  -scoring_debug \"true\" \\\n  -tensorboard_log_dir /tmp/logs_dynamic-scoring_and_alibi \\\n  -dump_preds /tmp/dump_preds \\\n  -max_relative_positions 8\npython onmt/tests/test_events.py --logdir /tmp/logs_dynamic-scoring_and_alibi -tensorboard_checks valid_metrics \n" [7242,8154]
                            OBJECT [8156,8672]
                                FIELD [8157,8182]
                                    String: "name" [8157,8163]
                                    STRING [8164,8182]
                                        String: "Test LM training" [8164,8182]
                                FIELD [8183,8671]
                                    String: "run" [8183,8188]
                                    STRING [8189,8671]
                                        String: "python train.py \\\n    -config data/lm_data.yaml \\\n    -src_vocab /tmp/onmt.vocab.src \\\n    -tgt_vocab /tmp/onmt.vocab.src \\\n    -model_task lm \\\n    -encoder_type transformer_lm \\\n    -decoder_type transformer_lm \\\n    -src_vocab_size 1000 \\\n    -tgt_vocab_size 1000 \\\n    -num_workers 0 -bucket_size 1024 \\\n    -dec_layers 2 -batch_size 10 \\\n    -heads 4 -transformer_ff 64 \\\n    -word_vec_size 16 -report_every 5 \\\n    -hidden_size 16 -train_steps 10\n" [8189,8671]
                            OBJECT [8673,9197]
                                FIELD [8674,8709]
                                    String: "name" [8674,8680]
                                    STRING [8681,8709]
                                        String: "Test LM training with copy" [8681,8709]
                                FIELD [8710,9196]
                                    String: "run" [8710,8715]
                                    STRING [8716,9196]
                                        String: "python train.py \\\n  -config data/lm_data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.src \\\n  -model_task lm \\\n  -encoder_type transformer_lm \\\n  -decoder_type transformer_lm \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -dec_layers 2 -batch_size 10 \\\n  -heads 4 -transformer_ff 64 \\\n  -word_vec_size 16 -report_every 5        \\\n  -hidden_size 16 -train_steps 10 \\\n  -copy_attn\n" [8716,9196]
                            OBJECT [9198,9730]
                                FIELD [9199,9242]
                                    String: "name" [9199,9205]
                                    STRING [9206,9242]
                                        String: "Test Graph neural network training" [9206,9242]
                                FIELD [9243,9729]
                                    String: "run" [9243,9248]
                                    STRING [9249,9729]
                                        String: "python train.py \\\n  -config data/ggnn_data.yaml \\\n  -src_seq_length 1000 \\\n  -tgt_seq_length 30 \\\n  -encoder_type ggnn \\\n  -layers 2 \\\n  -decoder_type rnn \\\n  -hidden_size 256 \\\n  -learning_rate 0.1 \\\n  -learning_rate_decay 0.8 \\\n  -global_attention general \\\n  -batch_size 32 \\\n  -word_vec_size 256 \\\n  -bridge \\\n  -num_workers 0 -bucket_size 1024 \\\n  -train_steps 10 \\\n  -n_edge_types 9 \\\n  -state_dim 256 \\\n  -n_steps 10 \\\n  -n_node 64\n" [9249,9729]
                            OBJECT [9731,10195]
                                FIELD [9732,9771]
                                    String: "name" [9732,9738]
                                    STRING [9739,9771]
                                        String: "Testing training with features" [9739,9771]
                                FIELD [9772,10194]
                                    String: "run" [9772,9777]
                                    STRING [9778,10194]
                                        String: "python onmt/bin/train.py \\\n  -config data/features_data.yaml \\\n  -src_vocab /tmp/onmt_feat.vocab.src \\\n  -tgt_vocab /tmp/onmt_feat.vocab.tgt \\\n  -src_vocab_size 1000 -tgt_vocab_size 1000 \\\n  -hidden_size 2 -batch_size 10 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -word_vec_size 5 -hidden_size 10 \\\n  -report_every 5 -train_steps 10 \\\n  -save_model /tmp/onmt.model \\\n  -save_checkpoint_steps 10\n" [9778,10194]
                            OBJECT [10196,10732]
                                FIELD [10197,10256]
                                    String: "name" [10197,10203]
                                    STRING [10204,10256]
                                        String: "Testing training with features and dynamic scoring" [10204,10256]
                                FIELD [10257,10731]
                                    String: "run" [10257,10262]
                                    STRING [10263,10731]
                                        String: "python onmt/bin/train.py \\\n  -config data/features_data.yaml \\\n  -src_vocab /tmp/onmt_feat.vocab.src \\\n  -tgt_vocab /tmp/onmt_feat.vocab.tgt \\\n  -src_vocab_size 1000 -tgt_vocab_size 1000 \\\n  -hidden_size 2 -batch_size 10 \\\n  -word_vec_size 5 -hidden_size 10 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -report_every 5 -train_steps 10 -valid_steps 5\\\n  -valid_metrics \"BLEU\" \"TER\" \\\n  -save_model /tmp/onmt.model \\\n  -save_checkpoint_steps 10\n" [10263,10731]
                            OBJECT [10733,10937]
                                FIELD [10734,10776]
                                    String: "name" [10734,10740]
                                    STRING [10741,10776]
                                        String: "Testing translation with features" [10741,10776]
                                FIELD [10777,10936]
                                    String: "run" [10777,10782]
                                    STRING [10783,10936]
                                        String: "python translate.py \\\n    -model /tmp/onmt.model_step_10.pt \\\n    -src data/data_features/src-test-with-feats.txt \\\n    -n_src_feats 1 -verbose\n" [10783,10936]
                            OBJECT [10938,11125]
                                FIELD [10939,10968]
                                    String: "name" [10939,10945]
                                    STRING [10946,10968]
                                        String: "Test RNN translation" [10946,10968]
                                FIELD [10969,11124]
                                    String: "run" [10969,10974]
                                    STRING [10975,11124]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython translate.py \\\n  -model onmt/tests/test_model.pt \\\n  -src /tmp/src-test.txt \\\n  -verbose\n" [10975,11124]
                            OBJECT [11126,11353]
                                FIELD [11127,11165]
                                    String: "name" [11127,11133]
                                    STRING [11134,11165]
                                        String: "Test RNN ensemble translation" [11134,11165]
                                FIELD [11166,11352]
                                    String: "run" [11166,11171]
                                    STRING [11172,11352]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython translate.py \\\n  -model onmt/tests/test_model.pt \\\n  onmt/tests/test_model.pt \\\n  -src /tmp/src-test.txt \\\n  -verbose\n" [11172,11352]
                            OBJECT [11354,11668]
                                FIELD [11355,11401]
                                    String: "name" [11355,11361]
                                    STRING [11362,11401]
                                        String: "Test RNN translation with beam search" [11362,11401]
                                FIELD [11402,11667]
                                    String: "run" [11402,11407]
                                    STRING [11408,11667]
                                        String: "python translate.py \\\n  -model onmt/tests/test_model2.pt \\\n  -src data/morph/src.valid \\\n  -verbose \\\n  -batch_size 10 \\\n  -beam_size 10 \\\n  -tgt data/morph/tgt.valid \\\n  -out /tmp/trans\ndiff data/morph/tgt.valid /tmp/trans && rm /tmp/trans\n" [11408,11667]
                            OBJECT [11669,12070]
                                FIELD [11670,11720]
                                    String: "name" [11670,11676]
                                    STRING [11677,11720]
                                        String: "Test RNN translation with random sampling" [11677,11720]
                                FIELD [11721,12069]
                                    String: "run" [11721,11726]
                                    STRING [11727,12069]
                                        String: "python translate.py \\\n  -model onmt/tests/test_model2.pt \\\n  -src data/morph/src.valid \\\n  -verbose \\\n  -batch_size 10 \\\n  -beam_size 1 \\\n  -seed 1 \\\n  -random_sampling_topk \"-1\" \\\n  -random_sampling_temp 0.0001 \\\n  -tgt data/morph/tgt.valid \\\n  -out /tmp/trans\ndiff data/morph/tgt.valid /tmp/trans && rm /tmp/trans\n" [11727,12069]
                            OBJECT [12071,12259]
                                FIELD [12072,12099]
                                    String: "name" [12072,12078]
                                    STRING [12079,12099]
                                        String: "Test LM generation" [12079,12099]
                                FIELD [12100,12258]
                                    String: "run" [12100,12105]
                                    STRING [12106,12258]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython translate.py \\\n  -model onmt/tests/test_model_lm.pt \\\n  -src /tmp/src-test.txt \\\n  -verbose\n" [12106,12258]
                            OBJECT [12260,12590]
                                FIELD [12261,12305]
                                    String: "name" [12261,12267]
                                    STRING [12268,12305]
                                        String: "Test LM generation with beam search" [12268,12305]
                                FIELD [12306,12589]
                                    String: "run" [12306,12311]
                                    STRING [12312,12589]
                                        String: "python translate.py \\\n  -model onmt/tests/test_model_lm.pt \\\n  -src data/data_lm/src-gen.txt \\\n  -verbose -batch_size 1 \\\n  -beam_size 10 \\\n  -ban_unk_token \\\n  -length_penalty none \\\n  -out /tmp/gen\ndiff data/data_lm/gen-beam-sol.txt /tmp/gen && rm /tmp/gen\n" [12312,12589]
                            OBJECT [12591,13002]
                                FIELD [12592,12640]
                                    String: "name" [12592,12598]
                                    STRING [12599,12640]
                                        String: "Test LM generation with random sampling" [12599,12640]
                                FIELD [12641,13001]
                                    String: "run" [12641,12646]
                                    STRING [12647,13001]
                                        String: "python translate.py -model onmt/tests/test_model_lm.pt \\\n  -src data/data_lm/src-gen.txt \\\n  -verbose -batch_size 1 \\\n  -beam_size 1 \\\n  -seed 1 \\\n  -random_sampling_topk -1 \\\n  -random_sampling_temp 0.0001 \\\n  -ban_unk_token \\\n  -length_penalty none \\\n  -out /tmp/gen\ndiff data/data_lm/gen-sampling-sol.txt /tmp/gen && rm /tmp/gen\n" [12647,13001]
                            OBJECT [13003,13522]
                                FIELD [13004,13066]
                                    String: "name" [13004,13010]
                                    STRING [13011,13066]
                                        String: "Test LM generation with random top-k/nucleus sampling" [13011,13066]
                                FIELD [13067,13521]
                                    String: "run" [13067,13072]
                                    STRING [13073,13521]
                                        String: "python translate.py -model onmt/tests/test_model_lm.pt \\\n  -src data/data_lm/src-gen.txt \\\n  -verbose -batch_size 1 \\\n  -beam_size 1 \\\n  -seed 3 \\\n  -random_sampling_topk -1 \\\n  -random_sampling_topp 0.95 \\\n  -random_sampling_temp 1 \\\n  -ban_unk_token \\\n  -length_penalty none \\\n  -out /tmp/gen\ndiff data/data_lm/gen-nucleus-sampling-sol$(python -c \"import torch; print(torch.__version__[0])\").txt /tmp/gen && rm /tmp/gen\n" [13073,13521]
                            OBJECT [13523,14058]
                                FIELD [13524,13584]
                                    String: "name" [13524,13530]
                                    STRING [13531,13584]
                                        String: "Test LM generation with random sampling multi-beams" [13531,13584]
                                FIELD [13585,14057]
                                    String: "run" [13585,13590]
                                    STRING [13591,14057]
                                        String: "python translate.py -model onmt/tests/test_model_lm.pt \\\n  -src data/data_lm/src-gen.txt \\\n  -verbose -batch_size 1 \\\n  -beam_size 10 \\\n  -seed 2 \\\n  -random_sampling_topk 50 \\\n  -random_sampling_topp 0.95 \\\n  -random_sampling_temp 1 \\\n  -length_penalty avg \\\n  -ban_unk_token \\\n  -min_length 5 \\\n  -out /tmp/gen\ndiff data/data_lm/gen-sampling-beams-sol$(python -c \"import torch; print(torch.__version__[0])\").txt /tmp/gen && rm /tmp/gen\n" [13591,14057]
                            OBJECT [14059,14424]
                                FIELD [14060,14096]
                                    String: "name" [14060,14066]
                                    STRING [14067,14096]
                                        String: "Test py-LM inference engine" [14067,14096]
                                FIELD [14097,14423]
                                    String: "run" [14097,14102]
                                    STRING [14103,14423]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython onmt/tests/test_inference_engines.py \\\n  -model onmt/tests/test_model_lm.pt \\\n  -model_task lm \\\n  -input_file /tmp/src-test.txt \\\n  -inference_config_file data/inference-engine_py.yaml \\\n  -inference_mode py \\\n  -out /tmp/inference_engine_lm_py_outputs\n" [14103,14423]
                            OBJECT [14425,14793]
                                FIELD [14426,14463]
                                    String: "name" [14426,14432]
                                    STRING [14433,14463]
                                        String: "Test ct2-LM inference engine" [14433,14463]
                                FIELD [14464,14792]
                                    String: "run" [14464,14469]
                                    STRING [14470,14792]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython onmt/tests/test_inference_engines.py \\\n  -model onmt/tests/test_model_lm_ct2 \\\n  -model_task lm \\\n  -input_file /tmp/src-test.txt \\\n  -inference_config_file data/inference-engine_py.yaml \\\n  -inference_mode ct2 \\\n  -out /tmp/inference_engine_lm_py_outputs\n" [14470,14792]
                            OBJECT [14794,15166]
                                FIELD [14795,14836]
                                    String: "name" [14795,14801]
                                    STRING [14802,14836]
                                        String: "Test py-SEQ2SEQ inference engine" [14802,14836]
                                FIELD [14837,15165]
                                    String: "run" [14837,14842]
                                    STRING [14843,15165]
                                        String: "head data/src-test.txt > /tmp/src-test.txt\npython onmt/tests/test_inference_engines.py \\\n  -model onmt/tests/test_model.pt \\\n  -model_task seq2seq \\\n  -input_file /tmp/src-test.txt \\\n  -inference_config_file data/inference-engine_py.yaml \\\n  -inference_mode py \\\n  -out /tmp/inference_engine_lm_py_outputs\n" [14843,15165]
                            OBJECT [15167,15483]
                                FIELD [15168,15205]
                                    String: "name" [15168,15174]
                                    STRING [15175,15205]
                                        String: "Test extract_vocabulary tool" [15175,15205]
                                FIELD [15206,15482]
                                    String: "run" [15206,15211]
                                    STRING [15212,15482]
                                        String: "python tools/extract_vocabulary.py \\\n  -model onmt/tests/test_model.pt \\\n  -side src \\\n  -out_file /tmp/onmt.vocab.txt\nif ! wc -l /tmp/onmt.vocab.txt | grep -qF  \"1002\"\n  then echo \"wrong word count\" && exit 1\nelse\n  echo \"create vocabulary pass\"\nfi\n" [15212,15482]
                            OBJECT [15484,15786]
                                FIELD [15485,15523]
                                    String: "name" [15485,15491]
                                    STRING [15492,15523]
                                        String: "Test embeddings_to_torch tool" [15492,15523]
                                FIELD [15524,15785]
                                    String: "run" [15524,15529]
                                    STRING [15530,15785]
                                        String: "python tools/embeddings_to_torch.py \\\n  -emb_file_enc onmt/tests/sample_glove.txt \\\n  -emb_file_dec onmt/tests/sample_glove.txt \\\n  -dict_file onmt/tests/test_model.pt \\\n  -output_file /tmp/q_gloveembeddings \\\n  && rm /tmp/q_gloveembeddings*\n" [15530,15785]
                            OBJECT [15787,15909]
                                FIELD [15788,15825]
                                    String: "name" [15788,15794]
                                    STRING [15795,15825]
                                        String: "Test extract_embeddings tool" [15795,15825]
                                FIELD [15826,15908]
                                    String: "run" [15826,15831]
                                    STRING [15832,15908]
                                        String: "python tools/extract_embeddings.py \\\n  -model onmt/tests/test_model.pt\n" [15832,15908]
                            OBJECT [15910,16869]
                                FIELD [15911,15953]
                                    String: "name" [15911,15917]
                                    STRING [15918,15953]
                                        String: "Test checkpoint vocabulary update" [15918,15953]
                                FIELD [15954,16868]
                                    String: "run" [15954,15959]
                                    STRING [15960,16868]
                                        String: "python train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -hidden_size 2 \\\n  -batch_size 10 \\\n  -word_vec_size 5 \\\n  -report_every 5\\\n  -hidden_size 10 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -train_steps 10 \\\n  -save_model /tmp/onmt.model \\\n  -save_checkpoint_steps 10\nsed -i '1s/^/new_tok\\t100000000\\n/' /tmp/onmt.vocab.src\npython train.py \\\n  -config data/data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.tgt \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -hidden_size 2 \\\n  -batch_size 10 \\\n  -word_vec_size 5 \\\n  -report_every 5\\\n  -hidden_size 10 \\\n  -train_steps 20 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -update_vocab \\\n  -reset_optim \"states\" \\\n  -train_from /tmp/onmt.model_step_10.pt\n" [15960,16868]
                            OBJECT [16870,18061]
                                FIELD [16871,16921]
                                    String: "name" [16871,16877]
                                    STRING [16878,16921]
                                        String: "Test checkpoint vocabulary update with LM" [16878,16921]
                                FIELD [16922,18060]
                                    String: "run" [16922,16927]
                                    STRING [16928,18060]
                                        String: "python train.py \\\n  -config data/lm_data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.src \\\n  -model_task lm \\\n  -encoder_type transformer_lm \\\n  -decoder_type transformer_lm \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -dec_layers 2 -batch_size 10 \\\n  -heads 4 -transformer_ff 64 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -word_vec_size 16 -report_every 5 \\\n  -save_model /tmp/lm.onmt.model \\\n  -save_checkpoint_steps 10 \\\n  -hidden_size 16 -train_steps 10\nsed -i '1s/^/new_tok2\\t100000000\\n/' /tmp/onmt.vocab.src\npython train.py \\\n  -config data/lm_data.yaml \\\n  -src_vocab /tmp/onmt.vocab.src \\\n  -tgt_vocab /tmp/onmt.vocab.src \\\n  -model_task lm \\\n  -encoder_type transformer_lm \\\n  -decoder_type transformer_lm \\\n  -src_vocab_size 1000 \\\n  -tgt_vocab_size 1000 \\\n  -num_workers 0 -bucket_size 1024 \\\n  -dec_layers 2 -batch_size 10 \\\n  -heads 4 -transformer_ff 64 \\\n  -word_vec_size 16 -report_every 5 \\\n  -hidden_size 16  -train_steps 20 \\\n  -update_vocab -reset_optim \"states\" \\\n  -train_from /tmp/lm.onmt.model_step_10.pt\n" [16928,18060]
            FIELD [18064,18518]
                String: "build-docs" [18064,18076]
                OBJECT [18077,18518]
                    FIELD [18078,18103]
                        String: "runs-on" [18078,18087]
                        STRING [18088,18103]
                            String: "ubuntu-latest" [18088,18103]
                    FIELD [18104,18517]
                        String: "steps" [18104,18111]
                        ARRAY [18112,18517]
                            OBJECT [18113,18143]
                                FIELD [18114,18142]
                                    String: "uses" [18114,18120]
                                    STRING [18121,18142]
                                        String: "actions/checkout@v2" [18121,18142]
                            OBJECT [18144,18235]
                                FIELD [18145,18171]
                                    String: "name" [18145,18151]
                                    STRING [18152,18171]
                                        String: "Set up Python 3.9" [18152,18171]
                                FIELD [18172,18204]
                                    String: "uses" [18172,18178]
                                    STRING [18179,18204]
                                        String: "actions/setup-python@v2" [18179,18204]
                                FIELD [18205,18234]
                                    String: "with" [18205,18211]
                                    OBJECT [18212,18234]
                                        FIELD [18213,18233]
                                            String: "python-version" [18213,18229]
                                            NUMBER [18230,18233]
                                                Number: 3.9 [18230,18233]
                            OBJECT [18236,18403]
                                FIELD [18237,18266]
                                    String: "name" [18237,18243]
                                    STRING [18244,18266]
                                        String: "Install dependencies" [18244,18266]
                                FIELD [18267,18402]
                                    String: "run" [18267,18272]
                                    STRING [18273,18402]
                                        String: "python -m pip install --upgrade pip\npip install --upgrade setuptools\npip install -e .\npip install -r docs/requirements.txt\n" [18273,18402]
                            OBJECT [18404,18516]
                                FIELD [18405,18424]
                                    String: "name" [18405,18411]
                                    STRING [18412,18424]
                                        String: "Build docs" [18412,18424]
                                FIELD [18425,18515]
                                    String: "run" [18425,18430]
                                    STRING [18431,18515]
                                        String: "set -e\n# Check that docs are built without errors\ncd docs/ && make html && cd .." [18431,18515]