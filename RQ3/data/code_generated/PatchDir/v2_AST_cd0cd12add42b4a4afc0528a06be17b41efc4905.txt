OBJECT [0,4384]
    FIELD [1,56]
        String: "name" [1,7]
        STRING [8,56]
            String: "Slow tests on important models (on Push - A10)" [8,56]
    FIELD [57,92]
        String: "on" [57,61]
        OBJECT [62,92]
            FIELD [63,91]
                String: "push" [63,69]
                OBJECT [70,91]
                    FIELD [71,90]
                        String: "branches" [71,81]
                        ARRAY [82,90]
                            STRING [83,89]
                                String: "main" [83,89]
    FIELD [93,431]
        String: "env" [93,98]
        OBJECT [99,431]
            FIELD [100,118]
                String: "IS_GITHUB_CI" [100,114]
                STRING [115,118]
                    String: "1" [115,118]
            FIELD [119,158]
                String: "OUTPUT_SLACK_CHANNEL_ID" [119,144]
                STRING [145,158]
                    String: "C06L2SGMEEA" [145,158]
            FIELD [159,213]
                String: "HF_HUB_READ_TOKEN" [159,178]
                STRING [179,213]
                    String: "${{ secrets.HF_HUB_READ_TOKEN }}" [179,213]
            FIELD [214,236]
                String: "HF_HOME" [214,223]
                STRING [224,236]
                    String: "/mnt/cache" [224,236]
            FIELD [237,262]
                String: "TRANSFORMERS_IS_CI" [237,257]
                TRUE [258,262]
            FIELD [263,282]
                String: "OMP_NUM_THREADS" [263,280]
                NUMBER [281,282]
                    Number: 8 [281,282]
            FIELD [283,302]
                String: "MKL_NUM_THREADS" [283,300]
                NUMBER [301,302]
                    Number: 8 [301,302]
            FIELD [303,318]
                String: "RUN_SLOW" [303,313]
                TRUE [314,318]
            FIELD [319,371]
                String: "SIGOPT_API_TOKEN" [319,337]
                STRING [338,371]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [338,371]
            FIELD [372,404]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [372,399]
                TRUE [400,404]
            FIELD [405,430]
                String: "RUN_PT_TF_CROSS_TESTS" [405,428]
                NUMBER [429,430]
                    Number: 1 [429,430]
    FIELD [432,4383]
        String: "jobs" [432,438]
        OBJECT [439,4383]
            FIELD [440,1476]
                String: "get_modified_models" [440,461]
                OBJECT [462,1476]
                    FIELD [463,494]
                        String: "name" [463,469]
                        STRING [470,494]
                            String: "Get all modified files" [470,494]
                    FIELD [495,520]
                        String: "runs-on" [495,504]
                        STRING [505,520]
                            String: "ubuntu-latest" [505,520]
                    FIELD [521,582]
                        String: "outputs" [521,530]
                        OBJECT [531,582]
                            FIELD [532,581]
                                String: "matrix" [532,540]
                                STRING [541,581]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [541,581]
                    FIELD [583,1475]
                        String: "steps" [583,590]
                        ARRAY [591,1475]
                            OBJECT [592,646]
                                FIELD [593,616]
                                    String: "name" [593,599]
                                    STRING [600,616]
                                        String: "Check out code" [600,616]
                                FIELD [617,645]
                                    String: "uses" [617,623]
                                    STRING [624,645]
                                        String: "actions/checkout@v4" [624,645]
                            OBJECT [647,817]
                                FIELD [648,674]
                                    String: "name" [648,654]
                                    STRING [655,674]
                                        String: "Get changed files" [655,674]
                                FIELD [675,695]
                                    String: "id" [675,679]
                                    STRING [680,695]
                                        String: "changed-files" [680,695]
                                FIELD [696,770]
                                    String: "uses" [696,702]
                                    STRING [703,770]
                                        String: "tj-actions/changed-files@3f54ebb830831fc121d3263c1857cfbdc310cdb9" [703,770]
                                FIELD [771,816]
                                    String: "with" [771,777]
                                    OBJECT [778,816]
                                        FIELD [779,815]
                                            String: "files" [779,786]
                                            STRING [787,815]
                                                String: "src/transformers/models/**" [787,815]
                            OBJECT [818,1474]
                                FIELD [819,874]
                                    String: "name" [819,825]
                                    STRING [826,874]
                                        String: "Run step if only the files listed above change" [826,874]
                                FIELD [875,931]
                                    String: "if" [875,879]
                                    STRING [880,931]
                                        String: "steps.changed-files.outputs.any_changed == 'true'" [880,931]
                                FIELD [932,949]
                                    String: "id" [932,936]
                                    STRING [937,949]
                                        String: "set-matrix" [937,949]
                                FIELD [950,1032]
                                    String: "env" [950,955]
                                    OBJECT [956,1032]
                                        FIELD [957,1031]
                                            String: "ALL_CHANGED_FILES" [957,976]
                                            STRING [977,1031]
                                                String: "${{ steps.changed-files.outputs.all_changed_files }}" [977,1031]
                                FIELD [1033,1473]
                                    String: "run" [1033,1038]
                                    STRING [1039,1473]
                                        String: "model_arrays=()\nfor file in $ALL_CHANGED_FILES; do\n    model_path=\"${file#*models/}\"\n    model_path=\"models/${model_path%%/*}\"\n    if grep -qFx \"$model_path\" utils/important_models.txt; then\n        # Append the file to the matrix string\n        model_arrays+=(\"$model_path\")\n    fi\ndone\nmatrix_string=$(printf '\"%s\", ' \"${model_arrays[@]}\" | sed 's/, $//')\necho \"matrix=[$matrix_string]\" >> $GITHUB_OUTPUT\n" [1039,1473]
            FIELD [1477,4382]
                String: "test_modified_files" [1477,1498]
                OBJECT [1499,4382]
                    FIELD [1500,1529]
                        String: "needs" [1500,1507]
                        STRING [1508,1529]
                            String: "get_modified_models" [1508,1529]
                    FIELD [1530,1555]
                        String: "name" [1530,1536]
                        STRING [1537,1555]
                            String: "Slow & FA2 tests" [1537,1555]
                    FIELD [1556,1604]
                        String: "runs-on" [1556,1565]
                        ARRAY [1566,1604]
                            STRING [1567,1579]
                                String: "single-gpu" [1567,1579]
                            STRING [1580,1592]
                                String: "nvidia-gpu" [1580,1592]
                            STRING [1593,1598]
                                String: "a10" [1593,1598]
                            STRING [1599,1603]
                                String: "ci" [1599,1603]
                    FIELD [1605,1760]
                        String: "container" [1605,1616]
                        OBJECT [1617,1760]
                            FIELD [1618,1667]
                                String: "image" [1618,1625]
                                STRING [1626,1667]
                                    String: "huggingface/transformers-all-latest-gpu" [1626,1667]
                            FIELD [1668,1759]
                                String: "options" [1668,1677]
                                STRING [1678,1759]
                                    String: "--gpus all --privileged --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1678,1759]
                    FIELD [1761,1938]
                        String: "if" [1761,1765]
                        STRING [1766,1938]
                            String: "${{ needs.get_modified_models.outputs.matrix != '[]' && needs.get_modified_models.outputs.matrix != '' && fromJson(needs.get_modified_models.outputs.matrix)[0] != null }}" [1766,1938]
                    FIELD [1939,2053]
                        String: "strategy" [1939,1949]
                        OBJECT [1950,2053]
                            FIELD [1951,1968]
                                String: "fail-fast" [1951,1962]
                                FALSE [1963,1968]
                            FIELD [1969,2052]
                                String: "matrix" [1969,1977]
                                OBJECT [1978,2052]
                                    FIELD [1979,2051]
                                        String: "model-name" [1979,1991]
                                        STRING [1992,2051]
                                            String: "${{ fromJson(needs.get_modified_models.outputs.matrix) }}" [1992,2051]
                    FIELD [2054,4381]
                        String: "steps" [2054,2061]
                        ARRAY [2062,4381]
                            OBJECT [2063,2117]
                                FIELD [2064,2087]
                                    String: "name" [2064,2070]
                                    STRING [2071,2087]
                                        String: "Check out code" [2071,2087]
                                FIELD [2088,2116]
                                    String: "uses" [2088,2094]
                                    STRING [2095,2116]
                                        String: "actions/checkout@v4" [2095,2116]
                            OBJECT [2118,2397]
                                FIELD [2119,2169]
                                    String: "name" [2119,2125]
                                    STRING [2126,2169]
                                        String: "Install locally transformers & other libs" [2126,2169]
                                FIELD [2170,2396]
                                    String: "run" [2170,2175]
                                    STRING [2176,2396]
                                        String: "apt install sudo\nsudo -H pip install --upgrade pip\nsudo -H pip uninstall -y transformers \nsudo -H pip install -U -e \".[testing]\" \nMAX_JOBS=4 pip install flash-attn --no-build-isolation\npip install bitsandbytes\n" [2176,2396]
                            OBJECT [2398,2440]
                                FIELD [2399,2418]
                                    String: "name" [2399,2405]
                                    STRING [2406,2418]
                                        String: "NVIDIA-SMI" [2406,2418]
                                FIELD [2419,2439]
                                    String: "run" [2419,2424]
                                    STRING [2425,2439]
                                        String: "nvidia-smi\n" [2425,2439]
                            OBJECT [2441,2514]
                                FIELD [2442,2494]
                                    String: "name" [2442,2448]
                                    STRING [2449,2494]
                                        String: "Show installed libraries and their versions" [2449,2494]
                                FIELD [2495,2513]
                                    String: "run" [2495,2500]
                                    STRING [2501,2513]
                                        String: "pip freeze" [2501,2513]
                            OBJECT [2515,2700]
                                FIELD [2516,2538]
                                    String: "name" [2516,2522]
                                    STRING [2523,2538]
                                        String: "Run FA2 tests" [2523,2538]
                                FIELD [2539,2559]
                                    String: "id" [2539,2543]
                                    STRING [2544,2559]
                                        String: "run_fa2_tests" [2544,2559]
                                FIELD [2560,2699]
                                    String: "run" [2560,2565]
                                    STRING [2566,2699]
                                        String: "pytest -rs -m \"flash_attn_test\" --make-reports=${{ matrix.model-name }}_fa2_tests/ tests/${{ matrix.model-name }}/test_modeling_*" [2566,2699]
                            OBJECT [2701,2954]
                                FIELD [2702,2775]
                                    String: "name" [2702,2708]
                                    STRING [2709,2775]
                                        String: "Test suite reports artifacts: ${{ matrix.model-name }}_fa2_tests" [2709,2775]
                                FIELD [2776,2798]
                                    String: "if" [2776,2780]
                                    STRING [2781,2798]
                                        String: "${{ always() }}" [2781,2798]
                                FIELD [2799,2834]
                                    String: "uses" [2799,2805]
                                    STRING [2806,2834]
                                        String: "actions/upload-artifact@v4" [2806,2834]
                                FIELD [2835,2953]
                                    String: "with" [2835,2841]
                                    OBJECT [2842,2953]
                                        FIELD [2843,2886]
                                            String: "name" [2843,2849]
                                            STRING [2850,2886]
                                                String: "${{ matrix.model-name }}_fa2_tests" [2850,2886]
                                        FIELD [2887,2952]
                                            String: "path" [2887,2893]
                                            STRING [2894,2952]
                                                String: "/transformers/reports/${{ matrix.model-name }}_fa2_tests" [2894,2952]
                            OBJECT [2955,3258]
                                FIELD [2956,2978]
                                    String: "name" [2956,2962]
                                    STRING [2963,2978]
                                        String: "Post to Slack" [2963,2978]
                                FIELD [2979,2994]
                                    String: "if" [2979,2983]
                                    STRING [2984,2994]
                                        String: "always()" [2984,2994]
                                FIELD [2995,3032]
                                    String: "uses" [2995,3001]
                                    STRING [3002,3032]
                                        String: "./.github/actions/post-slack" [3002,3032]
                                FIELD [3033,3257]
                                    String: "with" [3033,3039]
                                    OBJECT [3040,3257]
                                        FIELD [3041,3093]
                                            String: "slack_channel" [3041,3056]
                                            STRING [3057,3093]
                                                String: "${{ env.OUTPUT_SLACK_CHANNEL_ID }}" [3057,3093]
                                        FIELD [3094,3158]
                                            String: "title" [3094,3101]
                                            STRING [3102,3158]
                                                String: "ðŸ¤— Results of the FA2 tests - ${{ matrix.model-name }}" [3102,3158]
                                        FIELD [3159,3206]
                                            String: "status" [3159,3167]
                                            STRING [3168,3206]
                                                String: "${{ steps.run_fa2_tests.conclusion}}" [3168,3206]
                                        FIELD [3207,3256]
                                            String: "slack_token" [3207,3220]
                                            STRING [3221,3256]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [3221,3256]
                            OBJECT [3259,3484]
                                FIELD [3260,3290]
                                    String: "name" [3260,3266]
                                    STRING [3267,3290]
                                        String: "Run integration tests" [3267,3290]
                                FIELD [3291,3319]
                                    String: "id" [3291,3295]
                                    STRING [3296,3319]
                                        String: "run_integration_tests" [3296,3319]
                                FIELD [3320,3335]
                                    String: "if" [3320,3324]
                                    STRING [3325,3335]
                                        String: "always()" [3325,3335]
                                FIELD [3336,3483]
                                    String: "run" [3336,3341]
                                    STRING [3342,3483]
                                        String: "pytest -rs -k \"IntegrationTest\"  --make-reports=tests_integration_${{ matrix.model-name }} tests/${{ matrix.model-name }}/test_modeling_*" [3342,3483]
                            OBJECT [3485,3762]
                                FIELD [3486,3567]
                                    String: "name" [3486,3492]
                                    STRING [3493,3567]
                                        String: "Test suite reports artifacts: tests_integration_${{ matrix.model-name }}" [3493,3567]
                                FIELD [3568,3590]
                                    String: "if" [3568,3572]
                                    STRING [3573,3590]
                                        String: "${{ always() }}" [3573,3590]
                                FIELD [3591,3626]
                                    String: "uses" [3591,3597]
                                    STRING [3598,3626]
                                        String: "actions/upload-artifact@v4" [3598,3626]
                                FIELD [3627,3761]
                                    String: "with" [3627,3633]
                                    OBJECT [3634,3761]
                                        FIELD [3635,3686]
                                            String: "name" [3635,3641]
                                            STRING [3642,3686]
                                                String: "tests_integration_${{ matrix.model-name }}" [3642,3686]
                                        FIELD [3687,3760]
                                            String: "path" [3687,3693]
                                            STRING [3694,3760]
                                                String: "/transformers/reports/tests_integration_${{ matrix.model-name }}" [3694,3760]
                            OBJECT [3763,4082]
                                FIELD [3764,3786]
                                    String: "name" [3764,3770]
                                    STRING [3771,3786]
                                        String: "Post to Slack" [3771,3786]
                                FIELD [3787,3802]
                                    String: "if" [3787,3791]
                                    STRING [3792,3802]
                                        String: "always()" [3792,3802]
                                FIELD [3803,3840]
                                    String: "uses" [3803,3809]
                                    STRING [3810,3840]
                                        String: "./.github/actions/post-slack" [3810,3840]
                                FIELD [3841,4081]
                                    String: "with" [3841,3847]
                                    OBJECT [3848,4081]
                                        FIELD [3849,3901]
                                            String: "slack_channel" [3849,3864]
                                            STRING [3865,3901]
                                                String: "${{ env.OUTPUT_SLACK_CHANNEL_ID }}" [3865,3901]
                                        FIELD [3902,3974]
                                            String: "title" [3902,3909]
                                            STRING [3910,3974]
                                                String: "ðŸ¤— Results of the Integration tests - ${{ matrix.model-name }}" [3910,3974]
                                        FIELD [3975,4030]
                                            String: "status" [3975,3983]
                                            STRING [3984,4030]
                                                String: "${{ steps.run_integration_tests.conclusion}}" [3984,4030]
                                        FIELD [4031,4080]
                                            String: "slack_token" [4031,4044]
                                            STRING [4045,4080]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [4045,4080]
                            OBJECT [4083,4380]
                                FIELD [4084,4102]
                                    String: "name" [4084,4090]
                                    STRING [4091,4102]
                                        String: "Tailscale" [4091,4102]
                                FIELD [4103,4148]
                                    String: "if" [4103,4107]
                                    STRING [4108,4148]
                                        String: "${{ failure() || runner.debug == '1'}}" [4108,4148]
                                FIELD [4149,4189]
                                    String: "uses" [4149,4155]
                                    STRING [4156,4189]
                                        String: "huggingface/tailscale-action@v1" [4156,4189]
                                FIELD [4190,4379]
                                    String: "with" [4190,4196]
                                    OBJECT [4197,4379]
                                        FIELD [4198,4246]
                                            String: "authkey" [4198,4207]
                                            STRING [4208,4246]
                                                String: "${{ secrets.TAILSCALE_SSH_AUTHKEY }}" [4208,4246]
                                        FIELD [4247,4303]
                                            String: "slackChannel" [4247,4261]
                                            STRING [4262,4303]
                                                String: "${{ secrets.SLACK_CIFEEDBACK_CHANNEL }}" [4262,4303]
                                        FIELD [4304,4360]
                                            String: "slackToken" [4304,4316]
                                            STRING [4317,4360]
                                                String: "${{ secrets.SLACK_CIFEEDBACK_BOT_TOKEN }}" [4317,4360]
                                        FIELD [4361,4378]
                                            String: "waitForSSH" [4361,4373]
                                            TRUE [4374,4378]