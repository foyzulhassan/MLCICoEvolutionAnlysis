OBJECT [0,11944]
    FIELD [1,12]
        String: "name" [1,7]
        STRING [8,12]
            String: "CI" [8,12]
    FIELD [13,167]
        String: "on" [13,17]
        OBJECT [18,167]
            FIELD [19,57]
                String: "pull_request" [19,33]
                OBJECT [34,57]
                    FIELD [35,56]
                        String: "branches" [35,45]
                        ARRAY [46,56]
                            STRING [47,55]
                                String: "master" [47,55]
            FIELD [58,88]
                String: "push" [58,64]
                OBJECT [65,88]
                    FIELD [66,87]
                        String: "branches" [66,76]
                        ARRAY [77,87]
                            STRING [78,86]
                                String: "master" [78,86]
            FIELD [89,122]
                String: "release" [89,98]
                OBJECT [99,122]
                    FIELD [100,121]
                        String: "types" [100,107]
                        ARRAY [108,121]
                            STRING [109,120]
                                String: "published" [109,120]
            FIELD [123,166]
                String: "schedule" [123,133]
                ARRAY [134,166]
                    OBJECT [135,165]
                        FIELD [136,164]
                            String: "cron" [136,142]
                            STRING [143,164]
                                String: "37 11 * * 1,2,3,4,5" [143,164]
    FIELD [168,11943]
        String: "jobs" [168,174]
        OBJECT [175,11943]
            FIELD [176,633]
                String: "changelog" [176,187]
                OBJECT [188,633]
                    FIELD [189,207]
                        String: "name" [189,195]
                        STRING [196,207]
                            String: "CHANGELOG" [196,207]
                    FIELD [208,233]
                        String: "runs-on" [208,217]
                        STRING [218,233]
                            String: "ubuntu-latest" [218,233]
                    FIELD [234,276]
                        String: "if" [234,238]
                        STRING [239,276]
                            String: "github.event_name == 'pull_request'" [239,276]
                    FIELD [277,632]
                        String: "steps" [277,284]
                        ARRAY [285,632]
                            OBJECT [286,316]
                                FIELD [287,315]
                                    String: "uses" [287,293]
                                    STRING [294,315]
                                        String: "actions/checkout@v1" [294,315]
                            OBJECT [317,631]
                                FIELD [318,364]
                                    String: "name" [318,324]
                                    STRING [325,364]
                                        String: "Check that CHANGELOG has been updated" [325,364]
                                FIELD [365,630]
                                    String: "run" [365,370]
                                    STRING [371,630]
                                        String: "# If this step fails, this means you haven't updated the CHANGELOG.md\n# file with notes on your contribution.\ngit diff --name-only $(git merge-base origin/master HEAD) | grep '^CHANGELOG.md$' && echo \"Thanks for helping keep our CHANGELOG up-to-date!\"\n" [371,630]
            FIELD [634,1200]
                String: "gpu_checks" [634,646]
                OBJECT [647,1200]
                    FIELD [648,667]
                        String: "name" [648,654]
                        STRING [655,667]
                            String: "GPU Checks" [655,667]
                    FIELD [668,714]
                        String: "if" [668,672]
                        STRING [673,714]
                            String: "github.repository == 'allenai/allennlp'" [673,714]
                    FIELD [715,735]
                        String: "timeout-minutes" [715,732]
                        NUMBER [733,735]
                            Number: 15 [733,735]
                    FIELD [736,767]
                        String: "runs-on" [736,745]
                        ARRAY [746,767]
                            STRING [747,760]
                                String: "self-hosted" [747,760]
                            STRING [761,766]
                                String: "GPU" [761,766]
                    FIELD [768,1199]
                        String: "steps" [768,775]
                        ARRAY [776,1199]
                            OBJECT [777,807]
                                FIELD [778,806]
                                    String: "uses" [778,784]
                                    STRING [785,806]
                                        String: "actions/checkout@v2" [785,806]
                            OBJECT [808,1019]
                                FIELD [809,832]
                                    String: "name" [809,815]
                                    STRING [816,832]
                                        String: "Set Docker tag" [816,832]
                                FIELD [833,1018]
                                    String: "run" [833,838]
                                    STRING [839,1018]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCKER_TAG=${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCKER_TAG=$GITHUB_SHA\" >> $GITHUB_ENV;\nfi\n" [839,1018]
                            OBJECT [1020,1103]
                                FIELD [1021,1046]
                                    String: "name" [1021,1027]
                                    STRING [1028,1046]
                                        String: "Build test image" [1028,1046]
                                FIELD [1047,1102]
                                    String: "run" [1047,1052]
                                    STRING [1053,1102]
                                        String: "make docker-test-image DOCKER_TAG=$DOCKER_TAG\n" [1053,1102]
                            OBJECT [1104,1198]
                                FIELD [1105,1127]
                                    String: "name" [1105,1111]
                                    STRING [1112,1127]
                                        String: "Run GPU tests" [1112,1127]
                                FIELD [1128,1197]
                                    String: "run" [1128,1133]
                                    STRING [1134,1197]
                                        String: "make docker-test-run DOCKER_TAG=$DOCKER_TAG ARGS='gpu-test'\n" [1134,1197]
            FIELD [1201,2465]
                String: "check_core" [1201,1213]
                OBJECT [1214,2465]
                    FIELD [1215,1234]
                        String: "name" [1215,1221]
                        STRING [1222,1234]
                            String: "Check Core" [1222,1234]
                    FIELD [1235,1260]
                        String: "runs-on" [1235,1244]
                        STRING [1245,1260]
                            String: "ubuntu-latest" [1245,1260]
                    FIELD [1261,1307]
                        String: "strategy" [1261,1271]
                        OBJECT [1272,1307]
                            FIELD [1273,1306]
                                String: "matrix" [1273,1281]
                                OBJECT [1282,1306]
                                    FIELD [1283,1305]
                                        String: "python" [1283,1291]
                                        ARRAY [1292,1305]
                                            STRING [1293,1298]
                                                String: "3.7" [1293,1298]
                                            STRING [1299,1304]
                                                String: "3.8" [1299,1304]
                    FIELD [1308,2464]
                        String: "steps" [1308,1315]
                        ARRAY [1316,2464]
                            OBJECT [1317,1347]
                                FIELD [1318,1346]
                                    String: "uses" [1318,1324]
                                    STRING [1325,1346]
                                        String: "actions/checkout@v2" [1325,1346]
                            OBJECT [1348,1453]
                                FIELD [1349,1370]
                                    String: "name" [1349,1355]
                                    STRING [1356,1370]
                                        String: "Setup Python" [1356,1370]
                                FIELD [1371,1403]
                                    String: "uses" [1371,1377]
                                    STRING [1378,1403]
                                        String: "actions/setup-python@v1" [1378,1403]
                                FIELD [1404,1452]
                                    String: "with" [1404,1410]
                                    OBJECT [1411,1452]
                                        FIELD [1412,1451]
                                            String: "python-version" [1412,1428]
                                            STRING [1429,1451]
                                                String: "${{ matrix.python }}" [1429,1451]
                            OBJECT [1454,1653]
                                FIELD [1455,1480]
                                    String: "uses" [1455,1461]
                                    STRING [1462,1480]
                                        String: "actions/cache@v2" [1462,1480]
                                FIELD [1481,1652]
                                    String: "with" [1481,1487]
                                    OBJECT [1488,1652]
                                        FIELD [1489,1523]
                                            String: "path" [1489,1495]
                                            STRING [1496,1523]
                                                String: "${{ env.pythonLocation }}" [1496,1523]
                                        FIELD [1524,1651]
                                            String: "key" [1524,1529]
                                            STRING [1530,1651]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [1530,1651]
                            OBJECT [1654,1708]
                                FIELD [1655,1684]
                                    String: "name" [1655,1661]
                                    STRING [1662,1684]
                                        String: "Install requirements" [1662,1684]
                                FIELD [1685,1707]
                                    String: "run" [1685,1690]
                                    STRING [1691,1707]
                                        String: "make install\n" [1691,1707]
                            OBJECT [1709,1751]
                                FIELD [1710,1729]
                                    String: "name" [1710,1716]
                                    STRING [1717,1729]
                                        String: "Debug info" [1717,1729]
                                FIELD [1730,1750]
                                    String: "run" [1730,1735]
                                    STRING [1736,1750]
                                        String: "pip freeze\n" [1736,1750]
                            OBJECT [1752,1807]
                                FIELD [1753,1768]
                                    String: "name" [1753,1759]
                                    STRING [1760,1768]
                                        String: "Format" [1760,1768]
                                FIELD [1769,1784]
                                    String: "if" [1769,1773]
                                    STRING [1774,1784]
                                        String: "always()" [1774,1784]
                                FIELD [1785,1806]
                                    String: "run" [1785,1790]
                                    STRING [1791,1806]
                                        String: "make format\n" [1791,1806]
                            OBJECT [1808,1859]
                                FIELD [1809,1822]
                                    String: "name" [1809,1815]
                                    STRING [1816,1822]
                                        String: "Lint" [1816,1822]
                                FIELD [1823,1838]
                                    String: "if" [1823,1827]
                                    STRING [1828,1838]
                                        String: "always()" [1828,1838]
                                FIELD [1839,1858]
                                    String: "run" [1839,1844]
                                    STRING [1845,1858]
                                        String: "make lint\n" [1845,1858]
                            OBJECT [1860,1922]
                                FIELD [1861,1880]
                                    String: "name" [1861,1867]
                                    STRING [1868,1880]
                                        String: "Type check" [1868,1880]
                                FIELD [1881,1896]
                                    String: "if" [1881,1885]
                                    STRING [1886,1896]
                                        String: "always()" [1886,1896]
                                FIELD [1897,1921]
                                    String: "run" [1897,1902]
                                    STRING [1903,1921]
                                        String: "make typecheck\n" [1903,1921]
                            OBJECT [1923,1988]
                                FIELD [1924,1942]
                                    String: "name" [1924,1930]
                                    STRING [1931,1942]
                                        String: "Run tests" [1931,1942]
                                FIELD [1943,1958]
                                    String: "if" [1943,1947]
                                    STRING [1948,1958]
                                        String: "always()" [1948,1958]
                                FIELD [1959,1987]
                                    String: "run" [1959,1964]
                                    STRING [1965,1987]
                                        String: "make test-with-cov\n" [1965,1987]
                            OBJECT [1989,2264]
                                FIELD [1990,2025]
                                    String: "name" [1990,1996]
                                    STRING [1997,2025]
                                        String: "Upload coverage to Codecov" [1997,2025]
                                FIELD [2026,2170]
                                    String: "if" [2026,2030]
                                    STRING [2031,2170]
                                        String: "matrix.python == '3.7' && github.repository == 'allenai/allennlp' && (github.event_name == 'push' || github.event_name == 'pull_request')" [2031,2170]
                                FIELD [2171,2205]
                                    String: "uses" [2171,2177]
                                    STRING [2178,2205]
                                        String: "codecov/codecov-action@v1" [2178,2205]
                                FIELD [2206,2263]
                                    String: "with" [2206,2212]
                                    OBJECT [2213,2263]
                                        FIELD [2214,2237]
                                            String: "file" [2214,2220]
                                            STRING [2221,2237]
                                                String: "./coverage.xml" [2221,2237]
                                        FIELD [2238,2262]
                                            String: "fail_ci_if_error" [2238,2256]
                                            FALSE [2257,2262]
                            OBJECT [2265,2463]
                                FIELD [2266,2283]
                                    String: "name" [2266,2272]
                                    STRING [2273,2283]
                                        String: "Clean up" [2273,2283]
                                FIELD [2284,2299]
                                    String: "if" [2284,2288]
                                    STRING [2289,2299]
                                        String: "always()" [2289,2299]
                                FIELD [2300,2462]
                                    String: "run" [2300,2305]
                                    STRING [2306,2462]
                                        String: "# Could run into issues with the cache if we don't uninstall the editable.\n# See https://github.com/pypa/pip/issues/4537.\npip uninstall --yes allennlp\n" [2306,2462]
            FIELD [2466,3428]
                String: "check_models" [2466,2480]
                OBJECT [2481,3428]
                    FIELD [2482,2503]
                        String: "name" [2482,2488]
                        STRING [2489,2503]
                            String: "Check Models" [2489,2503]
                    FIELD [2504,2529]
                        String: "runs-on" [2504,2513]
                        STRING [2514,2529]
                            String: "ubuntu-latest" [2514,2529]
                    FIELD [2530,2576]
                        String: "strategy" [2530,2540]
                        OBJECT [2541,2576]
                            FIELD [2542,2575]
                                String: "matrix" [2542,2550]
                                OBJECT [2551,2575]
                                    FIELD [2552,2574]
                                        String: "python" [2552,2560]
                                        ARRAY [2561,2574]
                                            STRING [2562,2567]
                                                String: "3.7" [2562,2567]
                                            STRING [2568,2573]
                                                String: "3.8" [2568,2573]
                    FIELD [2577,3427]
                        String: "steps" [2577,2584]
                        ARRAY [2585,3427]
                            OBJECT [2586,2616]
                                FIELD [2587,2615]
                                    String: "uses" [2587,2593]
                                    STRING [2594,2615]
                                        String: "actions/checkout@v2" [2594,2615]
                            OBJECT [2617,2722]
                                FIELD [2618,2639]
                                    String: "name" [2618,2624]
                                    STRING [2625,2639]
                                        String: "Setup Python" [2625,2639]
                                FIELD [2640,2672]
                                    String: "uses" [2640,2646]
                                    STRING [2647,2672]
                                        String: "actions/setup-python@v1" [2647,2672]
                                FIELD [2673,2721]
                                    String: "with" [2673,2679]
                                    OBJECT [2680,2721]
                                        FIELD [2681,2720]
                                            String: "python-version" [2681,2697]
                                            STRING [2698,2720]
                                                String: "${{ matrix.python }}" [2698,2720]
                            OBJECT [2723,2922]
                                FIELD [2724,2749]
                                    String: "uses" [2724,2730]
                                    STRING [2731,2749]
                                        String: "actions/cache@v2" [2731,2749]
                                FIELD [2750,2921]
                                    String: "with" [2750,2756]
                                    OBJECT [2757,2921]
                                        FIELD [2758,2792]
                                            String: "path" [2758,2764]
                                            STRING [2765,2792]
                                                String: "${{ env.pythonLocation }}" [2765,2792]
                                        FIELD [2793,2920]
                                            String: "key" [2793,2798]
                                            STRING [2799,2920]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [2799,2920]
                            OBJECT [2923,2977]
                                FIELD [2924,2953]
                                    String: "name" [2924,2930]
                                    STRING [2931,2953]
                                        String: "Install requirements" [2931,2953]
                                FIELD [2954,2976]
                                    String: "run" [2954,2959]
                                    STRING [2960,2976]
                                        String: "make install\n" [2960,2976]
                            OBJECT [2978,3020]
                                FIELD [2979,2998]
                                    String: "name" [2979,2985]
                                    STRING [2986,2998]
                                        String: "Debug info" [2986,2998]
                                FIELD [2999,3019]
                                    String: "run" [2999,3004]
                                    STRING [3005,3019]
                                        String: "pip freeze\n" [3005,3019]
                            OBJECT [3021,3265]
                                FIELD [3022,3059]
                                    String: "name" [3022,3028]
                                    STRING [3029,3059]
                                        String: "Pull and install models repo" [3029,3059]
                                FIELD [3060,3098]
                                    String: "env" [3060,3065]
                                    OBJECT [3066,3098]
                                        FIELD [3067,3097]
                                            String: "ALLENNLP_VERSION_OVERRIDE" [3067,3094]
                                            STRING [3095,3097]
                                                String: "" [3095,3097]
                                FIELD [3099,3264]
                                    String: "run" [3099,3104]
                                    STRING [3105,3264]
                                        String: "git clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models && pip install --upgrade --upgrade-strategy eager -e . -r dev-requirements.txt\n" [3105,3264]
                            OBJECT [3266,3335]
                                FIELD [3267,3292]
                                    String: "name" [3267,3273]
                                    STRING [3274,3292]
                                        String: "Run models tests" [3274,3292]
                                FIELD [3293,3334]
                                    String: "run" [3293,3298]
                                    STRING [3299,3334]
                                        String: "cd allennlp-models && make test\n" [3299,3334]
                            OBJECT [3336,3426]
                                FIELD [3337,3354]
                                    String: "name" [3337,3343]
                                    STRING [3344,3354]
                                        String: "Clean up" [3344,3354]
                                FIELD [3355,3370]
                                    String: "if" [3355,3359]
                                    STRING [3360,3370]
                                        String: "always()" [3360,3370]
                                FIELD [3371,3425]
                                    String: "run" [3371,3376]
                                    STRING [3377,3425]
                                        String: "pip uninstall --yes allennlp allennlp-models\n" [3377,3425]
            FIELD [3429,5234]
                String: "build_package" [3429,3444]
                OBJECT [3445,5234]
                    FIELD [3446,3468]
                        String: "name" [3446,3452]
                        STRING [3453,3468]
                            String: "Build Package" [3453,3468]
                    FIELD [3469,3494]
                        String: "runs-on" [3469,3478]
                        STRING [3479,3494]
                            String: "ubuntu-latest" [3479,3494]
                    FIELD [3495,5233]
                        String: "steps" [3495,3502]
                        ARRAY [3503,5233]
                            OBJECT [3504,3534]
                                FIELD [3505,3533]
                                    String: "uses" [3505,3511]
                                    STRING [3512,3533]
                                        String: "actions/checkout@v2" [3512,3533]
                            OBJECT [3535,3621]
                                FIELD [3536,3557]
                                    String: "name" [3536,3542]
                                    STRING [3543,3557]
                                        String: "Setup Python" [3543,3557]
                                FIELD [3558,3590]
                                    String: "uses" [3558,3564]
                                    STRING [3565,3590]
                                        String: "actions/setup-python@v1" [3565,3590]
                                FIELD [3591,3620]
                                    String: "with" [3591,3597]
                                    OBJECT [3598,3620]
                                        FIELD [3599,3619]
                                            String: "python-version" [3599,3615]
                                            NUMBER [3616,3619]
                                                Number: 3.7 [3616,3619]
                            OBJECT [3622,3821]
                                FIELD [3623,3648]
                                    String: "uses" [3623,3629]
                                    STRING [3630,3648]
                                        String: "actions/cache@v2" [3630,3648]
                                FIELD [3649,3820]
                                    String: "with" [3649,3655]
                                    OBJECT [3656,3820]
                                        FIELD [3657,3691]
                                            String: "path" [3657,3663]
                                            STRING [3664,3691]
                                                String: "${{ env.pythonLocation }}" [3664,3691]
                                        FIELD [3692,3819]
                                            String: "key" [3692,3697]
                                            STRING [3698,3819]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [3698,3819]
                            OBJECT [3822,3876]
                                FIELD [3823,3852]
                                    String: "name" [3823,3829]
                                    STRING [3830,3852]
                                        String: "Install requirements" [3830,3852]
                                FIELD [3853,3875]
                                    String: "run" [3853,3858]
                                    STRING [3859,3875]
                                        String: "make install\n" [3859,3875]
                            OBJECT [3877,4514]
                                FIELD [3878,3916]
                                    String: "name" [3878,3884]
                                    STRING [3885,3916]
                                        String: "Check and set nightly version" [3885,3916]
                                FIELD [3917,3955]
                                    String: "if" [3917,3921]
                                    STRING [3922,3955]
                                        String: "github.event_name == 'schedule'" [3922,3955]
                                FIELD [3956,4513]
                                    String: "run" [3956,3961]
                                    STRING [3962,4513]
                                        String: "# Verify that current version is ahead of the last release.\nLATEST=$(scripts/get_version.py latest)\nCURRENT=$(scripts/get_version.py current)\nif [ \"$CURRENT\" == \"$LATEST\" ]; then\n    echo \"Current version needs to be ahead of latest release in order to build nightly release\";\n    exit 1;\nfi\n# This is somewhat bizarre, but you can't set env variables to bash\n# commands in the action workflow - so we have to use this odd way of\n# exporting a variable instead.\necho \"ALLENNLP_VERSION_SUFFIX=dev$(date -u +%Y%m%d)\" >> $GITHUB_ENV\n" [3962,4513]
                            OBJECT [4515,4869]
                                FIELD [4516,4560]
                                    String: "name" [4516,4522]
                                    STRING [4523,4560]
                                        String: "Check version and release tag match" [4523,4560]
                                FIELD [4561,4598]
                                    String: "if" [4561,4565]
                                    STRING [4566,4598]
                                        String: "github.event_name == 'release'" [4566,4598]
                                FIELD [4599,4868]
                                    String: "run" [4599,4604]
                                    STRING [4605,4868]
                                        String: "# Remove 'refs/tags/' to get the actual tag from the release.\nTAG=${GITHUB_REF#refs/tags/};\nVERSION=$(scripts/get_version.py current)\nif [ \"$TAG\" != \"$VERSION\" ]; then\n    echo \"Bad tag or version. Tag $TAG does not match $VERSION\";\n    exit 1;\nfi\n" [4605,4868]
                            OBJECT [4870,5047]
                                FIELD [4871,4898]
                                    String: "name" [4871,4877]
                                    STRING [4878,4898]
                                        String: "Build core package" [4878,4898]
                                FIELD [4899,5046]
                                    String: "run" [4899,4904]
                                    STRING [4905,5046]
                                        String: "echo \"Building packages for core release\"\n# Just print out the version for debugging.\nmake version\npython setup.py bdist_wheel sdist\n" [4905,5046]
                            OBJECT [5048,5157]
                                FIELD [5049,5075]
                                    String: "name" [5049,5055]
                                    STRING [5056,5075]
                                        String: "Save core package" [5056,5075]
                                FIELD [5076,5111]
                                    String: "uses" [5076,5082]
                                    STRING [5083,5111]
                                        String: "actions/upload-artifact@v1" [5083,5111]
                                FIELD [5112,5156]
                                    String: "with" [5112,5118]
                                    OBJECT [5119,5156]
                                        FIELD [5120,5141]
                                            String: "name" [5120,5126]
                                            STRING [5127,5141]
                                                String: "core-package" [5127,5141]
                                        FIELD [5142,5155]
                                            String: "path" [5142,5148]
                                            STRING [5149,5155]
                                                String: "dist" [5149,5155]
                            OBJECT [5158,5232]
                                FIELD [5159,5176]
                                    String: "name" [5159,5165]
                                    STRING [5166,5176]
                                        String: "Clean up" [5166,5176]
                                FIELD [5177,5192]
                                    String: "if" [5177,5181]
                                    STRING [5182,5192]
                                        String: "always()" [5182,5192]
                                FIELD [5193,5231]
                                    String: "run" [5193,5198]
                                    STRING [5199,5231]
                                        String: "pip uninstall --yes allennlp\n" [5199,5231]
            FIELD [5235,6161]
                String: "test_package" [5235,5249]
                OBJECT [5250,6161]
                    FIELD [5251,5272]
                        String: "name" [5251,5257]
                        STRING [5258,5272]
                            String: "Test Package" [5258,5272]
                    FIELD [5273,5298]
                        String: "needs" [5273,5280]
                        ARRAY [5281,5298]
                            STRING [5282,5297]
                                String: "build_package" [5282,5297]
                    FIELD [5299,5324]
                        String: "runs-on" [5299,5308]
                        STRING [5309,5324]
                            String: "ubuntu-latest" [5309,5324]
                    FIELD [5325,5371]
                        String: "strategy" [5325,5335]
                        OBJECT [5336,5371]
                            FIELD [5337,5370]
                                String: "matrix" [5337,5345]
                                OBJECT [5346,5370]
                                    FIELD [5347,5369]
                                        String: "python" [5347,5355]
                                        ARRAY [5356,5369]
                                            STRING [5357,5362]
                                                String: "3.7" [5357,5362]
                                            STRING [5363,5368]
                                                String: "3.8" [5363,5368]
                    FIELD [5372,6160]
                        String: "steps" [5372,5379]
                        ARRAY [5380,6160]
                            OBJECT [5381,5486]
                                FIELD [5382,5403]
                                    String: "name" [5382,5388]
                                    STRING [5389,5403]
                                        String: "Setup Python" [5389,5403]
                                FIELD [5404,5436]
                                    String: "uses" [5404,5410]
                                    STRING [5411,5436]
                                        String: "actions/setup-python@v1" [5411,5436]
                                FIELD [5437,5485]
                                    String: "with" [5437,5443]
                                    OBJECT [5444,5485]
                                        FIELD [5445,5484]
                                            String: "python-version" [5445,5461]
                                            STRING [5462,5484]
                                                String: "${{ matrix.python }}" [5462,5484]
                            OBJECT [5487,5571]
                                FIELD [5488,5517]
                                    String: "name" [5488,5494]
                                    STRING [5495,5517]
                                        String: "Install requirements" [5495,5517]
                                FIELD [5518,5570]
                                    String: "run" [5518,5523]
                                    STRING [5524,5570]
                                        String: "pip install --upgrade pip setuptools wheel\n" [5524,5570]
                            OBJECT [5572,5687]
                                FIELD [5573,5603]
                                    String: "name" [5573,5579]
                                    STRING [5580,5603]
                                        String: "Download core package" [5580,5603]
                                FIELD [5604,5641]
                                    String: "uses" [5604,5610]
                                    STRING [5611,5641]
                                        String: "actions/download-artifact@v1" [5611,5641]
                                FIELD [5642,5686]
                                    String: "with" [5642,5648]
                                    OBJECT [5649,5686]
                                        FIELD [5650,5671]
                                            String: "name" [5650,5656]
                                            STRING [5657,5671]
                                                String: "core-package" [5657,5671]
                                        FIELD [5672,5685]
                                            String: "path" [5672,5678]
                                            STRING [5679,5685]
                                                String: "dist" [5679,5685]
                            OBJECT [5688,6060]
                                FIELD [5689,5718]
                                    String: "name" [5689,5695]
                                    STRING [5696,5718]
                                        String: "Install core package" [5696,5718]
                                FIELD [5719,6059]
                                    String: "run" [5719,5724]
                                    STRING [5725,6059]
                                        String: "pip install $(ls dist/*.whl)\n# TODO(epwalsh): In PyTorch 1.7, dataclasses is an unconditional dependency, when it should\n# only be a conditional dependency for Python < 3.7.\n# This has been fixed on PyTorch master branch, so we should be able to\n# remove this check with the next PyTorch release.\npip uninstall -y dataclasses\n" [5725,6059]
                            OBJECT [6061,6103]
                                FIELD [6062,6081]
                                    String: "name" [6062,6068]
                                    STRING [6069,6081]
                                        String: "Pip freeze" [6069,6081]
                                FIELD [6082,6102]
                                    String: "run" [6082,6087]
                                    STRING [6088,6102]
                                        String: "pip freeze\n" [6088,6102]
                            OBJECT [6104,6159]
                                FIELD [6105,6126]
                                    String: "name" [6105,6111]
                                    STRING [6112,6126]
                                        String: "Test install" [6112,6126]
                                FIELD [6127,6158]
                                    String: "run" [6127,6132]
                                    STRING [6133,6158]
                                        String: "allennlp test-install\n" [6133,6158]
            FIELD [6162,8171]
                String: "docker" [6162,6170]
                OBJECT [6171,8171]
                    FIELD [6172,6213]
                        String: "name" [6172,6178]
                        STRING [6179,6213]
                            String: "Docker (CUDA ${{ matrix.cuda }})" [6179,6213]
                    FIELD [6214,6260]
                        String: "if" [6214,6218]
                        STRING [6219,6260]
                            String: "github.repository == 'allenai/allennlp'" [6219,6260]
                    FIELD [6261,6292]
                        String: "runs-on" [6261,6270]
                        ARRAY [6271,6292]
                            STRING [6272,6285]
                                String: "self-hosted" [6272,6285]
                            STRING [6286,6291]
                                String: "GPU" [6286,6291]
                    FIELD [6293,6339]
                        String: "strategy" [6293,6303]
                        OBJECT [6304,6339]
                            FIELD [6305,6338]
                                String: "matrix" [6305,6313]
                                OBJECT [6314,6338]
                                    FIELD [6315,6337]
                                        String: "cuda" [6315,6321]
                                        ARRAY [6322,6337]
                                            STRING [6323,6329]
                                                String: "10.2" [6323,6329]
                                            STRING [6330,6336]
                                                String: "11.0" [6330,6336]
                    FIELD [6340,8170]
                        String: "steps" [6340,6347]
                        ARRAY [6348,8170]
                            OBJECT [6349,6379]
                                FIELD [6350,6378]
                                    String: "uses" [6350,6356]
                                    STRING [6357,6378]
                                        String: "actions/checkout@v2" [6357,6378]
                            OBJECT [6380,6862]
                                FIELD [6381,6407]
                                    String: "name" [6381,6387]
                                    STRING [6388,6407]
                                        String: "Set torch version" [6388,6407]
                                FIELD [6408,6443]
                                    String: "env" [6408,6413]
                                    OBJECT [6414,6443]
                                        FIELD [6415,6442]
                                            String: "CUDA" [6415,6421]
                                            STRING [6422,6442]
                                                String: "${{ matrix.cuda }}" [6422,6442]
                                FIELD [6444,6861]
                                    String: "run" [6444,6449]
                                    STRING [6450,6861]
                                        String: "# Check the install instructions on https://pytorch.org/ to keep these up-to-date.\nif [[ $CUDA == '10.2' ]]; then\n    echo \"DOCKER_TORCH_VERSION='torch==1.7.1'\" >> $GITHUB_ENV;\nelif [[ $CUDA == '11.0' ]]; then\n    echo \"DOCKER_TORCH_VERSION='torch==1.7.1+cu110 -f https://download.pytorch.org/whl/torch_stable.html'\" >> $GITHUB_ENV;\nelse\n    echo \"Unhandled CUDA version $CUDA\";\n    exit 1;\nfi\n" [6450,6861]
                            OBJECT [6863,7184]
                                FIELD [6864,6887]
                                    String: "name" [6864,6870]
                                    STRING [6871,6887]
                                        String: "Set image name" [6871,6887]
                                FIELD [6888,6923]
                                    String: "env" [6888,6893]
                                    OBJECT [6894,6923]
                                        FIELD [6895,6922]
                                            String: "CUDA" [6895,6901]
                                            STRING [6902,6922]
                                                String: "${{ matrix.cuda }}" [6902,6922]
                                FIELD [6924,7183]
                                    String: "run" [6924,6929]
                                    STRING [6930,7183]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCKER_IMAGE_NAME=allennlp/allennlp:${GITHUB_REF#refs/tags/}-cuda${CUDA}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCKER_IMAGE_NAME=allennlp/commit:${GITHUB_SHA}-cuda${CUDA}\" >> $GITHUB_ENV;\nfi\n" [6930,7183]
                            OBJECT [7185,7323]
                                FIELD [7186,7206]
                                    String: "name" [7186,7192]
                                    STRING [7193,7206]
                                        String: "Build image" [7193,7206]
                                FIELD [7207,7322]
                                    String: "run" [7207,7212]
                                    STRING [7213,7322]
                                        String: "make docker-image DOCKER_IMAGE_NAME=\"$DOCKER_IMAGE_NAME\" DOCKER_TORCH_VERSION=\"$DOCKER_TORCH_VERSION\"\n" [7213,7322]
                            OBJECT [7324,7428]
                                FIELD [7325,7344]
                                    String: "name" [7325,7331]
                                    STRING [7332,7344]
                                        String: "Test image" [7332,7344]
                                FIELD [7345,7427]
                                    String: "run" [7345,7350]
                                    STRING [7351,7427]
                                        String: "make docker-run DOCKER_IMAGE_NAME=$DOCKER_IMAGE_NAME ARGS='test-install'\n" [7351,7427]
                            OBJECT [7429,7626]
                                FIELD [7430,7465]
                                    String: "name" [7430,7436]
                                    STRING [7437,7465]
                                        String: "Authenticate to Docker Hub" [7437,7465]
                                FIELD [7466,7534]
                                    String: "if" [7466,7470]
                                    STRING [7471,7534]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [7471,7534]
                                FIELD [7535,7625]
                                    String: "run" [7535,7540]
                                    STRING [7541,7625]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\n" [7541,7625]
                            OBJECT [7627,7760]
                                FIELD [7628,7649]
                                    String: "name" [7628,7634]
                                    STRING [7635,7649]
                                        String: "Upload image" [7635,7649]
                                FIELD [7650,7718]
                                    String: "if" [7650,7654]
                                    STRING [7655,7718]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [7655,7718]
                                FIELD [7719,7759]
                                    String: "run" [7719,7724]
                                    STRING [7725,7759]
                                        String: "docker push $DOCKER_IMAGE_NAME\n" [7725,7759]
                            OBJECT [7761,7972]
                                FIELD [7762,7798]
                                    String: "name" [7762,7768]
                                    STRING [7769,7798]
                                        String: "Upload default commit image" [7769,7798]
                                FIELD [7799,7858]
                                    String: "if" [7799,7803]
                                    STRING [7804,7858]
                                        String: "github.event_name == 'push' && matrix.cuda == '10.2'" [7804,7858]
                                FIELD [7859,7971]
                                    String: "run" [7859,7864]
                                    STRING [7865,7971]
                                        String: "docker tag $DOCKER_IMAGE_NAME allennlp/commit:${GITHUB_SHA}\ndocker push allennlp/commit:${GITHUB_SHA}\n" [7865,7971]
                            OBJECT [7973,8169]
                                FIELD [7974,8002]
                                    String: "name" [7974,7980]
                                    STRING [7981,8002]
                                        String: "Upload latest image" [7981,8002]
                                FIELD [8003,8065]
                                    String: "if" [8003,8007]
                                    STRING [8008,8065]
                                        String: "github.event_name == 'release' && matrix.cuda == '10.2'" [8008,8065]
                                FIELD [8066,8168]
                                    String: "run" [8066,8071]
                                    STRING [8072,8168]
                                        String: "docker tag $DOCKER_IMAGE_NAME allennlp/allennlp:latest\ndocker push allennlp/allennlp:latest\n" [8072,8168]
            FIELD [8172,11240]
                String: "docs" [8172,8178]
                OBJECT [8179,11240]
                    FIELD [8180,8193]
                        String: "name" [8180,8186]
                        STRING [8187,8193]
                            String: "Docs" [8187,8193]
                    FIELD [8194,8240]
                        String: "if" [8194,8198]
                        STRING [8199,8240]
                            String: "github.repository == 'allenai/allennlp'" [8199,8240]
                    FIELD [8241,8266]
                        String: "runs-on" [8241,8250]
                        STRING [8251,8266]
                            String: "ubuntu-latest" [8251,8266]
                    FIELD [8267,11239]
                        String: "steps" [8267,8274]
                        ARRAY [8275,11239]
                            OBJECT [8276,8306]
                                FIELD [8277,8305]
                                    String: "uses" [8277,8283]
                                    STRING [8284,8305]
                                        String: "actions/checkout@v1" [8284,8305]
                            OBJECT [8307,8503]
                                FIELD [8308,8336]
                                    String: "name" [8308,8314]
                                    STRING [8315,8336]
                                        String: "Setup SSH Client 🔑" [8315,8336]
                                FIELD [8337,8405]
                                    String: "if" [8337,8341]
                                    STRING [8342,8405]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [8342,8405]
                                FIELD [8406,8442]
                                    String: "uses" [8406,8412]
                                    STRING [8413,8442]
                                        String: "webfactory/ssh-agent@v0.4.1" [8413,8442]
                                FIELD [8443,8502]
                                    String: "with" [8443,8449]
                                    OBJECT [8450,8502]
                                        FIELD [8451,8501]
                                            String: "ssh-private-key" [8451,8468]
                                            STRING [8469,8501]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [8469,8501]
                            OBJECT [8504,8590]
                                FIELD [8505,8526]
                                    String: "name" [8505,8511]
                                    STRING [8512,8526]
                                        String: "Setup Python" [8512,8526]
                                FIELD [8527,8559]
                                    String: "uses" [8527,8533]
                                    STRING [8534,8559]
                                        String: "actions/setup-python@v1" [8534,8559]
                                FIELD [8560,8589]
                                    String: "with" [8560,8566]
                                    OBJECT [8567,8589]
                                        FIELD [8568,8588]
                                            String: "python-version" [8568,8584]
                                            NUMBER [8585,8588]
                                                Number: 3.7 [8585,8588]
                            OBJECT [8591,8790]
                                FIELD [8592,8617]
                                    String: "uses" [8592,8598]
                                    STRING [8599,8617]
                                        String: "actions/cache@v2" [8599,8617]
                                FIELD [8618,8789]
                                    String: "with" [8618,8624]
                                    OBJECT [8625,8789]
                                        FIELD [8626,8660]
                                            String: "path" [8626,8632]
                                            STRING [8633,8660]
                                                String: "${{ env.pythonLocation }}" [8633,8660]
                                        FIELD [8661,8788]
                                            String: "key" [8661,8666]
                                            STRING [8667,8788]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [8667,8788]
                            OBJECT [8791,8845]
                                FIELD [8792,8821]
                                    String: "name" [8792,8798]
                                    STRING [8799,8821]
                                        String: "Install requirements" [8799,8821]
                                FIELD [8822,8844]
                                    String: "run" [8822,8827]
                                    STRING [8828,8844]
                                        String: "make install\n" [8828,8844]
                            OBJECT [8846,8888]
                                FIELD [8847,8866]
                                    String: "name" [8847,8853]
                                    STRING [8854,8866]
                                        String: "Debug info" [8854,8866]
                                FIELD [8867,8887]
                                    String: "run" [8867,8872]
                                    STRING [8873,8887]
                                        String: "pip freeze\n" [8873,8887]
                            OBJECT [8889,9330]
                                FIELD [8890,8918]
                                    String: "name" [8890,8896]
                                    STRING [8897,8918]
                                        String: "Prepare environment" [8897,8918]
                                FIELD [8919,9329]
                                    String: "run" [8919,8924]
                                    STRING [8925,9329]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCS_FOLDER=${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\n    echo \"BASE_SOURCE_LINK=https://github.com/allenai/allennlp/blob/${GITHUB_REF#refs/tags/}/allennlp/\" >> $GITHUB_ENV;\nelse\n    echo \"DOCS_FOLDER=master\" >> $GITHUB_ENV;\n    echo \"BASE_SOURCE_LINK=https://github.com/allenai/allennlp/blob/master/allennlp/\" >> $GITHUB_ENV;\nfi\n" [8925,9329]
                            OBJECT [9331,9386]
                                FIELD [9332,9351]
                                    String: "name" [9332,9338]
                                    STRING [9339,9351]
                                        String: "Build docs" [9339,9351]
                                FIELD [9352,9385]
                                    String: "run" [9352,9357]
                                    STRING [9358,9385]
                                        String: "./scripts/build_docs.sh\n" [9358,9385]
                            OBJECT [9387,9635]
                                FIELD [9388,9410]
                                    String: "name" [9388,9394]
                                    STRING [9395,9410]
                                        String: "Configure Git" [9395,9410]
                                FIELD [9411,9479]
                                    String: "if" [9411,9415]
                                    STRING [9416,9479]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [9416,9479]
                                FIELD [9480,9634]
                                    String: "run" [9480,9485]
                                    STRING [9486,9634]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [9486,9634]
                            OBJECT [9636,10066]
                                FIELD [9637,9656]
                                    String: "name" [9637,9643]
                                    STRING [9644,9656]
                                        String: "Stage docs" [9644,9656]
                                FIELD [9657,9725]
                                    String: "if" [9657,9661]
                                    STRING [9662,9725]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [9662,9725]
                                FIELD [9726,10065]
                                    String: "run" [9726,9731]
                                    STRING [9732,10065]
                                        String: "echo \"Staging docs to $DOCS_FOLDER\"\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DOCS_FOLDER/\nmkdir -p ~/allennlp-docs/$DOCS_FOLDER\ncp -r site/* ~/allennlp-docs/$DOCS_FOLDER\n" [9732,10065]
                            OBJECT [10067,10941]
                                FIELD [10068,10093]
                                    String: "name" [10068,10074]
                                    STRING [10075,10093]
                                        String: "Update shortcuts" [10075,10093]
                                FIELD [10094,10131]
                                    String: "if" [10094,10098]
                                    STRING [10099,10131]
                                        String: "github.event_name == 'release'" [10099,10131]
                                FIELD [10132,10940]
                                    String: "run" [10132,10137]
                                    STRING [10138,10940]
                                        String: "# Fail immediately if any step fails.\nset -e\n\nLATEST=$(./scripts/get_version.py latest)\nSTABLE=$(./scripts/get_version.py stable)\n\ncd ~/allennlp-docs/\n\necho \"Updating latest/index.html to point to $LATEST\"\nmkdir -p latest\ncat >latest/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${LATEST}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${LATEST}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n\necho \"Updating stable/index.html to point to $STABLE\"\nmkdir -p stable\ncat >stable/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${STABLE}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${STABLE}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n" [10138,10940]
                            OBJECT [10942,11163]
                                FIELD [10943,10963]
                                    String: "name" [10943,10949]
                                    STRING [10950,10963]
                                        String: "Deploy docs" [10950,10963]
                                FIELD [10964,11032]
                                    String: "if" [10964,10968]
                                    STRING [10969,11032]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [10969,11032]
                                FIELD [11033,11162]
                                    String: "run" [11033,11038]
                                    STRING [11039,11162]
                                        String: "# And push them up to GitHub\ncd ~/allennlp-docs/\ngit add -A\ngit commit -m \"automated update of the docs\"\ngit push\n" [11039,11162]
                            OBJECT [11164,11238]
                                FIELD [11165,11182]
                                    String: "name" [11165,11171]
                                    STRING [11172,11182]
                                        String: "Clean up" [11172,11182]
                                FIELD [11183,11198]
                                    String: "if" [11183,11187]
                                    STRING [11188,11198]
                                        String: "always()" [11188,11198]
                                FIELD [11199,11237]
                                    String: "run" [11199,11204]
                                    STRING [11205,11237]
                                        String: "pip uninstall --yes allennlp\n" [11205,11237]
            FIELD [11241,11942]
                String: "publish" [11241,11250]
                OBJECT [11251,11942]
                    FIELD [11252,11265]
                        String: "name" [11252,11258]
                        STRING [11259,11265]
                            String: "PyPI" [11259,11265]
                    FIELD [11266,11363]
                        String: "needs" [11266,11273]
                        ARRAY [11274,11363]
                            STRING [11275,11287]
                                String: "check_core" [11275,11287]
                            STRING [11288,11302]
                                String: "check_models" [11288,11302]
                            STRING [11303,11315]
                                String: "gpu_checks" [11303,11315]
                            STRING [11316,11331]
                                String: "build_package" [11316,11331]
                            STRING [11332,11346]
                                String: "test_package" [11332,11346]
                            STRING [11347,11355]
                                String: "docker" [11347,11355]
                            STRING [11356,11362]
                                String: "docs" [11356,11362]
                    FIELD [11364,11476]
                        String: "if" [11364,11368]
                        STRING [11369,11476]
                            String: "github.repository == 'allenai/allennlp' && (github.event_name == 'release' || github.event == 'schedule')" [11369,11476]
                    FIELD [11477,11502]
                        String: "runs-on" [11477,11486]
                        STRING [11487,11502]
                            String: "ubuntu-latest" [11487,11502]
                    FIELD [11503,11941]
                        String: "steps" [11503,11510]
                        ARRAY [11511,11941]
                            OBJECT [11512,11542]
                                FIELD [11513,11541]
                                    String: "uses" [11513,11519]
                                    STRING [11520,11541]
                                        String: "actions/checkout@v2" [11520,11541]
                            OBJECT [11543,11629]
                                FIELD [11544,11565]
                                    String: "name" [11544,11550]
                                    STRING [11551,11565]
                                        String: "Setup Python" [11551,11565]
                                FIELD [11566,11598]
                                    String: "uses" [11566,11572]
                                    STRING [11573,11598]
                                        String: "actions/setup-python@v1" [11573,11598]
                                FIELD [11599,11628]
                                    String: "with" [11599,11605]
                                    OBJECT [11606,11628]
                                        FIELD [11607,11627]
                                            String: "python-version" [11607,11623]
                                            NUMBER [11624,11627]
                                                Number: 3.7 [11624,11627]
                            OBJECT [11630,11720]
                                FIELD [11631,11660]
                                    String: "name" [11631,11637]
                                    STRING [11638,11660]
                                        String: "Install requirements" [11638,11660]
                                FIELD [11661,11719]
                                    String: "run" [11661,11666]
                                    STRING [11667,11719]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [11667,11719]
                            OBJECT [11721,11836]
                                FIELD [11722,11752]
                                    String: "name" [11722,11728]
                                    STRING [11729,11752]
                                        String: "Download core package" [11729,11752]
                                FIELD [11753,11790]
                                    String: "uses" [11753,11759]
                                    STRING [11760,11790]
                                        String: "actions/download-artifact@v1" [11760,11790]
                                FIELD [11791,11835]
                                    String: "with" [11791,11797]
                                    OBJECT [11798,11835]
                                        FIELD [11799,11820]
                                            String: "name" [11799,11805]
                                            STRING [11806,11820]
                                                String: "core-package" [11806,11820]
                                        FIELD [11821,11834]
                                            String: "path" [11821,11827]
                                            STRING [11828,11834]
                                                String: "dist" [11828,11834]
                            OBJECT [11837,11940]
                                FIELD [11838,11867]
                                    String: "name" [11838,11844]
                                    STRING [11845,11867]
                                        String: "Publish core package" [11845,11867]
                                FIELD [11868,11939]
                                    String: "run" [11868,11873]
                                    STRING [11874,11939]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [11874,11939]