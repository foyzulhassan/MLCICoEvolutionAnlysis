OBJECT [0,10691]
    FIELD [1,26]
        String: "name" [1,7]
        STRING [8,26]
            String: "PR Tests - Stack" [8,26]
    FIELD [27,205]
        String: "on" [27,31]
        OBJECT [32,205]
            FIELD [33,53]
                String: "workflow_call" [33,48]
                NULL [49,53]
            FIELD [54,102]
                String: "pull_request" [54,68]
                OBJECT [69,102]
                    FIELD [70,101]
                        String: "branches" [70,80]
                        ARRAY [81,101]
                            STRING [82,87]
                                String: "dev" [82,87]
                            STRING [88,94]
                                String: "main" [88,94]
                            STRING [95,100]
                                String: "0.8" [95,100]
            FIELD [103,204]
                String: "workflow_dispatch" [103,122]
                OBJECT [123,204]
                    FIELD [124,203]
                        String: "inputs" [124,132]
                        OBJECT [133,203]
                            FIELD [134,202]
                                String: "none" [134,140]
                                OBJECT [141,202]
                                    FIELD [142,184]
                                        String: "description" [142,155]
                                        STRING [156,184]
                                            String: "Run Version Tests Manually" [156,184]
                                    FIELD [185,201]
                                        String: "required" [185,195]
                                        FALSE [196,201]
    FIELD [206,401]
        String: "concurrency" [206,219]
        OBJECT [220,401]
            FIELD [221,374]
                String: "group" [221,228]
                STRING [229,374]
                    String: "stack-${{ github.event_name == 'pull_request' && format('{0}-{1}', github.workflow, github.event.pull_request.number) || github.workflow_ref }}" [229,374]
            FIELD [375,400]
                String: "cancel-in-progress" [375,395]
                TRUE [396,400]
    FIELD [402,10690]
        String: "jobs" [402,408]
        OBJECT [409,10690]
            FIELD [410,1822]
                String: "pr-syft-image-test" [410,430]
                OBJECT [431,1822]
                    FIELD [432,540]
                        String: "strategy" [432,442]
                        OBJECT [443,540]
                            FIELD [444,461]
                                String: "max-parallel" [444,458]
                                NUMBER [459,461]
                                    Number: 99 [459,461]
                            FIELD [462,521]
                                String: "matrix" [462,470]
                                OBJECT [471,521]
                                    FIELD [472,494]
                                        String: "os" [472,476]
                                        ARRAY [477,494]
                                            STRING [478,493]
                                                String: "ubuntu-latest" [478,493]
                                    FIELD [495,520]
                                        String: "python-version" [495,511]
                                        ARRAY [512,520]
                                            STRING [513,519]
                                                String: "3.12" [513,519]
                            FIELD [522,539]
                                String: "fail-fast" [522,533]
                                FALSE [534,539]
                    FIELD [541,567]
                        String: "runs-on" [541,550]
                        STRING [551,567]
                            String: "${{matrix.os}}" [551,567]
                    FIELD [568,1821]
                        String: "steps" [568,575]
                        ARRAY [576,1821]
                            OBJECT [577,607]
                                FIELD [578,606]
                                    String: "uses" [578,584]
                                    STRING [585,606]
                                        String: "actions/checkout@v4" [585,606]
                            OBJECT [608,790]
                                FIELD [609,640]
                                    String: "name" [609,615]
                                    STRING [616,640]
                                        String: "Check for file changes" [616,640]
                                FIELD [641,671]
                                    String: "uses" [641,647]
                                    STRING [648,671]
                                        String: "dorny/paths-filter@v3" [648,671]
                                FIELD [672,686]
                                    String: "id" [672,676]
                                    STRING [677,686]
                                        String: "changes" [677,686]
                                FIELD [687,789]
                                    String: "with" [687,693]
                                    OBJECT [694,789]
                                        FIELD [695,721]
                                            String: "base" [695,701]
                                            STRING [702,721]
                                                String: "${{ github.ref }}" [702,721]
                                        FIELD [722,751]
                                            String: "token" [722,729]
                                            STRING [730,751]
                                                String: "${{ github.token }}" [730,751]
                                        FIELD [752,788]
                                            String: "filters" [752,761]
                                            STRING [762,788]
                                                String: ".github/file-filters.yml" [762,788]
                            OBJECT [791,979]
                                FIELD [792,843]
                                    String: "name" [792,798]
                                    STRING [799,843]
                                        String: "Set up Python ${{ matrix.python-version }}" [799,843]
                                FIELD [844,876]
                                    String: "uses" [844,850]
                                    STRING [851,876]
                                        String: "actions/setup-python@v5" [851,876]
                                FIELD [877,921]
                                    String: "if" [877,881]
                                    STRING [882,921]
                                        String: "steps.changes.outputs.stack == 'true'" [882,921]
                                FIELD [922,978]
                                    String: "with" [922,928]
                                    OBJECT [929,978]
                                        FIELD [930,977]
                                            String: "python-version" [930,946]
                                            STRING [947,977]
                                                String: "${{ matrix.python-version }}" [947,977]
                            OBJECT [980,1108]
                                FIELD [981,1001]
                                    String: "name" [981,987]
                                    STRING [988,1001]
                                        String: "Upgrade pip" [988,1001]
                                FIELD [1002,1046]
                                    String: "if" [1002,1006]
                                    STRING [1007,1046]
                                        String: "steps.changes.outputs.stack == 'true'" [1007,1046]
                                FIELD [1047,1107]
                                    String: "run" [1047,1052]
                                    STRING [1053,1107]
                                        String: "pip install --upgrade pip uv==0.1.35\nuv --version\n" [1053,1107]
                            OBJECT [1109,1271]
                                FIELD [1110,1136]
                                    String: "name" [1110,1116]
                                    STRING [1117,1136]
                                        String: "Get pip cache dir" [1117,1136]
                                FIELD [1137,1181]
                                    String: "if" [1137,1141]
                                    STRING [1142,1181]
                                        String: "steps.changes.outputs.stack == 'true'" [1142,1181]
                                FIELD [1182,1198]
                                    String: "id" [1182,1186]
                                    STRING [1187,1198]
                                        String: "pip-cache" [1187,1198]
                                FIELD [1199,1213]
                                    String: "shell" [1199,1206]
                                    STRING [1207,1213]
                                        String: "bash" [1207,1213]
                                FIELD [1214,1270]
                                    String: "run" [1214,1219]
                                    STRING [1220,1270]
                                        String: "echo \"dir=$(uv cache dir)\" >> $GITHUB_OUTPUT\n" [1220,1270]
                            OBJECT [1272,1545]
                                FIELD [1273,1291]
                                    String: "name" [1273,1279]
                                    STRING [1280,1291]
                                        String: "pip cache" [1280,1291]
                                FIELD [1292,1317]
                                    String: "uses" [1292,1298]
                                    STRING [1299,1317]
                                        String: "actions/cache@v4" [1299,1317]
                                FIELD [1318,1362]
                                    String: "if" [1318,1322]
                                    STRING [1323,1362]
                                        String: "steps.changes.outputs.stack == 'true'" [1323,1362]
                                FIELD [1363,1544]
                                    String: "with" [1363,1369]
                                    OBJECT [1370,1544]
                                        FIELD [1371,1414]
                                            String: "path" [1371,1377]
                                            STRING [1378,1414]
                                                String: "${{ steps.pip-cache.outputs.dir }}" [1378,1414]
                                        FIELD [1415,1473]
                                            String: "key" [1415,1420]
                                            STRING [1421,1473]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}" [1421,1473]
                                        FIELD [1474,1543]
                                            String: "restore-keys" [1474,1488]
                                            STRING [1489,1543]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}\n" [1489,1543]
                            OBJECT [1546,1663]
                                FIELD [1547,1567]
                                    String: "name" [1547,1553]
                                    STRING [1554,1567]
                                        String: "Install tox" [1554,1567]
                                FIELD [1568,1612]
                                    String: "if" [1568,1572]
                                    STRING [1573,1612]
                                        String: "steps.changes.outputs.stack == 'true'" [1573,1612]
                                FIELD [1613,1662]
                                    String: "run" [1613,1618]
                                    STRING [1619,1662]
                                        String: "pip install --upgrade tox tox-uv==1.5.1\n" [1619,1662]
                            OBJECT [1664,1820]
                                FIELD [1665,1715]
                                    String: "name" [1665,1671]
                                    STRING [1672,1715]
                                        String: "Run syft backend base image building test" [1672,1715]
                                FIELD [1716,1760]
                                    String: "if" [1716,1720]
                                    STRING [1721,1760]
                                        String: "steps.changes.outputs.stack == 'true'" [1721,1760]
                                FIELD [1761,1781]
                                    String: "timeout-minutes" [1761,1778]
                                    NUMBER [1779,1781]
                                        Number: 60 [1779,1781]
                                FIELD [1782,1819]
                                    String: "run" [1782,1787]
                                    STRING [1788,1819]
                                        String: "tox -e backend.test.basecpu\n" [1788,1819]
            FIELD [1823,6391]
                String: "pr-tests-integration-k8s" [1823,1849]
                OBJECT [1850,6391]
                    FIELD [1851,2016]
                        String: "strategy" [1851,1861]
                        OBJECT [1862,2016]
                            FIELD [1863,1880]
                                String: "max-parallel" [1863,1877]
                                NUMBER [1878,1880]
                                    Number: 99 [1878,1880]
                            FIELD [1881,1997]
                                String: "matrix" [1881,1889]
                                OBJECT [1890,1997]
                                    FIELD [1891,1913]
                                        String: "os" [1891,1895]
                                        ARRAY [1896,1913]
                                            STRING [1897,1912]
                                                String: "ubuntu-latest" [1897,1912]
                                    FIELD [1914,1939]
                                        String: "python-version" [1914,1930]
                                        ARRAY [1931,1939]
                                            STRING [1932,1938]
                                                String: "3.12" [1932,1938]
                                    FIELD [1940,1996]
                                        String: "pytest-modules" [1940,1956]
                                        ARRAY [1957,1996]
                                            STRING [1958,1995]
                                                String: "frontend network container_workload" [1958,1995]
                            FIELD [1998,2015]
                                String: "fail-fast" [1998,2009]
                                FALSE [2010,2015]
                    FIELD [2017,2043]
                        String: "runs-on" [2017,2026]
                        STRING [2027,2043]
                            String: "${{matrix.os}}" [2027,2043]
                    FIELD [2044,6390]
                        String: "steps" [2044,2051]
                        ARRAY [2052,6390]
                            OBJECT [2053,2134]
                                FIELD [2054,2091]
                                    String: "name" [2054,2060]
                                    STRING [2061,2091]
                                        String: "Permission to home directory" [2061,2091]
                                FIELD [2092,2133]
                                    String: "run" [2092,2097]
                                    STRING [2098,2133]
                                        String: "sudo chown -R $USER:$USER $HOME\n" [2098,2133]
                            OBJECT [2135,2165]
                                FIELD [2136,2164]
                                    String: "uses" [2136,2142]
                                    STRING [2143,2164]
                                        String: "actions/checkout@v4" [2143,2164]
                            OBJECT [2166,2348]
                                FIELD [2167,2198]
                                    String: "name" [2167,2173]
                                    STRING [2174,2198]
                                        String: "Check for file changes" [2174,2198]
                                FIELD [2199,2229]
                                    String: "uses" [2199,2205]
                                    STRING [2206,2229]
                                        String: "dorny/paths-filter@v3" [2206,2229]
                                FIELD [2230,2244]
                                    String: "id" [2230,2234]
                                    STRING [2235,2244]
                                        String: "changes" [2235,2244]
                                FIELD [2245,2347]
                                    String: "with" [2245,2251]
                                    OBJECT [2252,2347]
                                        FIELD [2253,2279]
                                            String: "base" [2253,2259]
                                            STRING [2260,2279]
                                                String: "${{ github.ref }}" [2260,2279]
                                        FIELD [2280,2309]
                                            String: "token" [2280,2287]
                                            STRING [2288,2309]
                                                String: "${{ github.token }}" [2288,2309]
                                        FIELD [2310,2346]
                                            String: "filters" [2310,2319]
                                            STRING [2320,2346]
                                                String: ".github/file-filters.yml" [2320,2346]
                            OBJECT [2349,2537]
                                FIELD [2350,2401]
                                    String: "name" [2350,2356]
                                    STRING [2357,2401]
                                        String: "Set up Python ${{ matrix.python-version }}" [2357,2401]
                                FIELD [2402,2434]
                                    String: "uses" [2402,2408]
                                    STRING [2409,2434]
                                        String: "actions/setup-python@v5" [2409,2434]
                                FIELD [2435,2479]
                                    String: "if" [2435,2439]
                                    STRING [2440,2479]
                                        String: "steps.changes.outputs.stack == 'true'" [2440,2479]
                                FIELD [2480,2536]
                                    String: "with" [2480,2486]
                                    OBJECT [2487,2536]
                                        FIELD [2488,2535]
                                            String: "python-version" [2488,2504]
                                            STRING [2505,2535]
                                                String: "${{ matrix.python-version }}" [2505,2535]
                            OBJECT [2538,2631]
                                FIELD [2539,2564]
                                    String: "name" [2539,2545]
                                    STRING [2546,2564]
                                        String: "Add K3d Registry" [2546,2564]
                                FIELD [2565,2630]
                                    String: "run" [2565,2570]
                                    STRING [2571,2630]
                                        String: "sudo python ./scripts/patch_hosts.py --add-k3d-registry\n" [2571,2630]
                            OBJECT [2632,2757]
                                FIELD [2633,2666]
                                    String: "name" [2633,2639]
                                    STRING [2640,2666]
                                        String: "Free Disk Space (Ubuntu)" [2640,2666]
                                FIELD [2667,2706]
                                    String: "uses" [2667,2673]
                                    STRING [2674,2706]
                                        String: "jlumbroso/free-disk-space@main" [2674,2706]
                                FIELD [2707,2756]
                                    String: "with" [2707,2713]
                                    OBJECT [2714,2756]
                                        FIELD [2715,2732]
                                            String: "tool-cache" [2715,2727]
                                            TRUE [2728,2732]
                                        FIELD [2733,2755]
                                            String: "large-packages" [2733,2749]
                                            FALSE [2750,2755]
                            OBJECT [2758,3013]
                                FIELD [2759,2792]
                                    String: "name" [2759,2765]
                                    STRING [2766,2792]
                                        String: "Remove unnecessary files" [2766,2792]
                                FIELD [2793,2828]
                                    String: "if" [2793,2797]
                                    STRING [2798,2828]
                                        String: "matrix.os == 'ubuntu-latest'" [2798,2828]
                                FIELD [2829,3012]
                                    String: "run" [2829,2834]
                                    STRING [2835,3012]
                                        String: "sudo rm -rf /usr/share/dotnet\nsudo rm -rf \"$AGENT_TOOLSDIRECTORY\"\ndocker image prune --all --force\ndocker builder prune --all --force\ndocker system prune --all --force\n" [2835,3012]
                            OBJECT [3014,3142]
                                FIELD [3015,3035]
                                    String: "name" [3015,3021]
                                    STRING [3022,3035]
                                        String: "Upgrade pip" [3022,3035]
                                FIELD [3036,3080]
                                    String: "if" [3036,3040]
                                    STRING [3041,3080]
                                        String: "steps.changes.outputs.stack == 'true'" [3041,3080]
                                FIELD [3081,3141]
                                    String: "run" [3081,3086]
                                    STRING [3087,3141]
                                        String: "pip install --upgrade pip uv==0.1.35\nuv --version\n" [3087,3141]
                            OBJECT [3143,3305]
                                FIELD [3144,3170]
                                    String: "name" [3144,3150]
                                    STRING [3151,3170]
                                        String: "Get pip cache dir" [3151,3170]
                                FIELD [3171,3215]
                                    String: "if" [3171,3175]
                                    STRING [3176,3215]
                                        String: "steps.changes.outputs.stack == 'true'" [3176,3215]
                                FIELD [3216,3232]
                                    String: "id" [3216,3220]
                                    STRING [3221,3232]
                                        String: "pip-cache" [3221,3232]
                                FIELD [3233,3247]
                                    String: "shell" [3233,3240]
                                    STRING [3241,3247]
                                        String: "bash" [3241,3247]
                                FIELD [3248,3304]
                                    String: "run" [3248,3253]
                                    STRING [3254,3304]
                                        String: "echo \"dir=$(uv cache dir)\" >> $GITHUB_OUTPUT\n" [3254,3304]
                            OBJECT [3306,3579]
                                FIELD [3307,3325]
                                    String: "name" [3307,3313]
                                    STRING [3314,3325]
                                        String: "pip cache" [3314,3325]
                                FIELD [3326,3351]
                                    String: "uses" [3326,3332]
                                    STRING [3333,3351]
                                        String: "actions/cache@v4" [3333,3351]
                                FIELD [3352,3396]
                                    String: "if" [3352,3356]
                                    STRING [3357,3396]
                                        String: "steps.changes.outputs.stack == 'true'" [3357,3396]
                                FIELD [3397,3578]
                                    String: "with" [3397,3403]
                                    OBJECT [3404,3578]
                                        FIELD [3405,3448]
                                            String: "path" [3405,3411]
                                            STRING [3412,3448]
                                                String: "${{ steps.pip-cache.outputs.dir }}" [3412,3448]
                                        FIELD [3449,3507]
                                            String: "key" [3449,3454]
                                            STRING [3455,3507]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}" [3455,3507]
                                        FIELD [3508,3577]
                                            String: "restore-keys" [3508,3522]
                                            STRING [3523,3577]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}\n" [3523,3577]
                            OBJECT [3580,3697]
                                FIELD [3581,3601]
                                    String: "name" [3581,3587]
                                    STRING [3588,3601]
                                        String: "Install tox" [3588,3601]
                                FIELD [3602,3646]
                                    String: "if" [3602,3606]
                                    STRING [3607,3646]
                                        String: "steps.changes.outputs.stack == 'true'" [3607,3646]
                                FIELD [3647,3696]
                                    String: "run" [3647,3652]
                                    STRING [3653,3696]
                                        String: "pip install --upgrade tox tox-uv==1.5.1\n" [3653,3696]
                            OBJECT [3698,3982]
                                FIELD [3699,3723]
                                    String: "name" [3699,3705]
                                    STRING [3706,3723]
                                        String: "Install kubectl" [3706,3723]
                                FIELD [3724,3768]
                                    String: "if" [3724,3728]
                                    STRING [3729,3768]
                                        String: "steps.changes.outputs.stack == 'true'" [3729,3768]
                                FIELD [3769,3981]
                                    String: "run" [3769,3774]
                                    STRING [3775,3981]
                                        String: "# cleanup apt version\nsudo apt remove kubectl || true\n# install kubectl 1.27\ncurl -LO https://dl.k8s.io/release/v1.27.2/bin/linux/amd64/kubectl\nchmod +x kubectl\nsudo install kubectl /usr/local/bin;\n" [3775,3981]
                            OBJECT [3983,4210]
                                FIELD [3984,4005]
                                    String: "name" [3984,3990]
                                    STRING [3991,4005]
                                        String: "Install helm" [3991,4005]
                                FIELD [4006,4050]
                                    String: "if" [4006,4010]
                                    STRING [4011,4050]
                                        String: "steps.changes.outputs.stack == 'true'" [4011,4050]
                                FIELD [4051,4209]
                                    String: "run" [4051,4056]
                                    STRING [4057,4209]
                                        String: "# install helm\ncurl  -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3\nchmod 700 get_helm.sh\n./get_helm.sh\n" [4057,4209]
                            OBJECT [4211,4973]
                                FIELD [4212,4253]
                                    String: "name" [4212,4218]
                                    STRING [4219,4253]
                                        String: "Run K8s & Helm integration tests" [4219,4253]
                                FIELD [4254,4298]
                                    String: "if" [4254,4258]
                                    STRING [4259,4298]
                                        String: "steps.changes.outputs.stack == 'true'" [4259,4298]
                                FIELD [4299,4319]
                                    String: "timeout-minutes" [4299,4316]
                                    NUMBER [4317,4319]
                                        Number: 60 [4317,4319]
                                FIELD [4320,4457]
                                    String: "env" [4320,4325]
                                    OBJECT [4326,4457]
                                        FIELD [4327,4374]
                                            String: "PYTEST_MODULES" [4327,4343]
                                            STRING [4344,4374]
                                                String: "${{ matrix.pytest-modules }}" [4344,4374]
                                        FIELD [4375,4391]
                                            String: "GITHUB_CI" [4375,4386]
                                            TRUE [4387,4391]
                                        FIELD [4392,4456]
                                            String: "AZURE_BLOB_STORAGE_KEY" [4392,4416]
                                            STRING [4417,4456]
                                                String: "${{ secrets.AZURE_BLOB_STORAGE_KEY }}" [4417,4456]
                                FIELD [4458,4472]
                                    String: "shell" [4458,4465]
                                    STRING [4466,4472]
                                        String: "bash" [4466,4472]
                                FIELD [4473,4972]
                                    String: "run" [4473,4478]
                                    STRING [4479,4972]
                                        String: "K3D_VERSION=v5.6.3\nDEVSPACE_VERSION=v6.3.12\n# install k3d\nwget https://github.com/k3d-io/k3d/releases/download/${K3D_VERSION}/k3d-linux-amd64\nmv k3d-linux-amd64 k3d\nchmod +x k3d\nexport PATH=`pwd`:$PATH\nk3d version\ncurl -sSL https://github.com/loft-sh/devspace/releases/download/${DEVSPACE_VERSION}/devspace-linux-amd64 -o ./devspace\nchmod +x devspace\ndevspace version\n\ntox -e stack.test.integration.k8s\ntox -e syft.build.helm\ntox -e syft.package.helm\n# tox -e syft.test.helm\n" [4479,4972]
                            OBJECT [4974,5102]
                                FIELD [4975,5005]
                                    String: "name" [4975,4981]
                                    STRING [4982,5005]
                                        String: "Get current timestamp" [4982,5005]
                                FIELD [5006,5017]
                                    String: "id" [5006,5010]
                                    STRING [5011,5017]
                                        String: "date" [5011,5017]
                                FIELD [5018,5034]
                                    String: "if" [5018,5022]
                                    STRING [5023,5034]
                                        String: "failure()" [5023,5034]
                                FIELD [5035,5049]
                                    String: "shell" [5035,5042]
                                    STRING [5043,5049]
                                        String: "bash" [5043,5049]
                                FIELD [5050,5101]
                                    String: "run" [5050,5055]
                                    STRING [5056,5101]
                                        String: "echo \"date=$(date +%s)\" >> $GITHUB_OUTPUT" [5056,5101]
                            OBJECT [5103,5883]
                                FIELD [5104,5134]
                                    String: "name" [5104,5110]
                                    STRING [5111,5134]
                                        String: "Collect logs from k3d" [5111,5134]
                                FIELD [5135,5192]
                                    String: "if" [5135,5139]
                                    STRING [5140,5192]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [5140,5192]
                                FIELD [5193,5207]
                                    String: "shell" [5193,5200]
                                    STRING [5201,5207]
                                        String: "bash" [5201,5207]
                                FIELD [5208,5882]
                                    String: "run" [5208,5213]
                                    STRING [5214,5882]
                                        String: "mkdir -p ./k8s-logs\nkubectl describe all -A --context k3d-test-gateway-1 --namespace syft > ./k8s-logs/test-gateway-1-desc-${{ steps.date.outputs.date }}.txt\nkubectl describe all -A --context k3d-test-domain-1 --namespace syft > ./k8s-logs/test-domain-1-desc-${{ steps.date.outputs.date }}.txt\nkubectl logs -l app.kubernetes.io/name!=random --prefix=true --context k3d-test-gateway-1 --namespace syft > ./k8s-logs/test-gateway-1-logs-${{ steps.date.outputs.date }}.txt\nkubectl logs -l app.kubernetes.io/name!=random --prefix=true --context k3d-test-domain-1 --namespace syft > ./k8s-logs/test-domain-1-logs-${{ steps.date.outputs.date }}.txt\nls -la ./k8s-logs\n" [5214,5882]
                            OBJECT [5884,6122]
                                FIELD [5885,5915]
                                    String: "name" [5885,5891]
                                    STRING [5892,5915]
                                        String: "Upload logs to GitHub" [5892,5915]
                                FIELD [5916,5955]
                                    String: "uses" [5916,5922]
                                    STRING [5923,5955]
                                        String: "actions/upload-artifact@master" [5923,5955]
                                FIELD [5956,6013]
                                    String: "if" [5956,5960]
                                    STRING [5961,6013]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [5961,6013]
                                FIELD [6014,6121]
                                    String: "with" [6014,6020]
                                    OBJECT [6021,6121]
                                        FIELD [6022,6099]
                                            String: "name" [6022,6028]
                                            STRING [6029,6099]
                                                String: "k8s-logs-integration-${{ matrix.os }}-${{ steps.date.outputs.date }}" [6029,6099]
                                        FIELD [6100,6120]
                                            String: "path" [6100,6106]
                                            STRING [6107,6120]
                                                String: "./k8s-logs/" [6107,6120]
                            OBJECT [6123,6389]
                                FIELD [6124,6144]
                                    String: "name" [6124,6130]
                                    STRING [6131,6144]
                                        String: "Cleanup k3d" [6131,6144]
                                FIELD [6145,6202]
                                    String: "if" [6145,6149]
                                    STRING [6150,6202]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [6150,6202]
                                FIELD [6203,6217]
                                    String: "shell" [6203,6210]
                                    STRING [6211,6217]
                                        String: "bash" [6211,6217]
                                FIELD [6218,6388]
                                    String: "run" [6218,6223]
                                    STRING [6224,6388]
                                        String: "export PATH=`pwd`:$PATH\nk3d cluster delete test-gateway-1 || true\nk3d cluster delete test-domain-1 || true\nk3d registry delete k3d-registry.localhost || true\n" [6224,6388]
            FIELD [6392,10689]
                String: "pr-tests-notebook-k8s" [6392,6415]
                OBJECT [6416,10689]
                    FIELD [6417,6525]
                        String: "strategy" [6417,6427]
                        OBJECT [6428,6525]
                            FIELD [6429,6446]
                                String: "max-parallel" [6429,6443]
                                NUMBER [6444,6446]
                                    Number: 99 [6444,6446]
                            FIELD [6447,6506]
                                String: "matrix" [6447,6455]
                                OBJECT [6456,6506]
                                    FIELD [6457,6479]
                                        String: "os" [6457,6461]
                                        ARRAY [6462,6479]
                                            STRING [6463,6478]
                                                String: "ubuntu-latest" [6463,6478]
                                    FIELD [6480,6505]
                                        String: "python-version" [6480,6496]
                                        ARRAY [6497,6505]
                                            STRING [6498,6504]
                                                String: "3.12" [6498,6504]
                            FIELD [6507,6524]
                                String: "fail-fast" [6507,6518]
                                FALSE [6519,6524]
                    FIELD [6526,6552]
                        String: "runs-on" [6526,6535]
                        STRING [6536,6552]
                            String: "${{matrix.os}}" [6536,6552]
                    FIELD [6553,10688]
                        String: "steps" [6553,6560]
                        ARRAY [6561,10688]
                            OBJECT [6562,6643]
                                FIELD [6563,6600]
                                    String: "name" [6563,6569]
                                    STRING [6570,6600]
                                        String: "Permission to home directory" [6570,6600]
                                FIELD [6601,6642]
                                    String: "run" [6601,6606]
                                    STRING [6607,6642]
                                        String: "sudo chown -R $USER:$USER $HOME\n" [6607,6642]
                            OBJECT [6644,6674]
                                FIELD [6645,6673]
                                    String: "uses" [6645,6651]
                                    STRING [6652,6673]
                                        String: "actions/checkout@v4" [6652,6673]
                            OBJECT [6675,6857]
                                FIELD [6676,6707]
                                    String: "name" [6676,6682]
                                    STRING [6683,6707]
                                        String: "Check for file changes" [6683,6707]
                                FIELD [6708,6738]
                                    String: "uses" [6708,6714]
                                    STRING [6715,6738]
                                        String: "dorny/paths-filter@v3" [6715,6738]
                                FIELD [6739,6753]
                                    String: "id" [6739,6743]
                                    STRING [6744,6753]
                                        String: "changes" [6744,6753]
                                FIELD [6754,6856]
                                    String: "with" [6754,6760]
                                    OBJECT [6761,6856]
                                        FIELD [6762,6788]
                                            String: "base" [6762,6768]
                                            STRING [6769,6788]
                                                String: "${{ github.ref }}" [6769,6788]
                                        FIELD [6789,6818]
                                            String: "token" [6789,6796]
                                            STRING [6797,6818]
                                                String: "${{ github.token }}" [6797,6818]
                                        FIELD [6819,6855]
                                            String: "filters" [6819,6828]
                                            STRING [6829,6855]
                                                String: ".github/file-filters.yml" [6829,6855]
                            OBJECT [6858,7046]
                                FIELD [6859,6910]
                                    String: "name" [6859,6865]
                                    STRING [6866,6910]
                                        String: "Set up Python ${{ matrix.python-version }}" [6866,6910]
                                FIELD [6911,6943]
                                    String: "uses" [6911,6917]
                                    STRING [6918,6943]
                                        String: "actions/setup-python@v5" [6918,6943]
                                FIELD [6944,6988]
                                    String: "if" [6944,6948]
                                    STRING [6949,6988]
                                        String: "steps.changes.outputs.stack == 'true'" [6949,6988]
                                FIELD [6989,7045]
                                    String: "with" [6989,6995]
                                    OBJECT [6996,7045]
                                        FIELD [6997,7044]
                                            String: "python-version" [6997,7013]
                                            STRING [7014,7044]
                                                String: "${{ matrix.python-version }}" [7014,7044]
                            OBJECT [7047,7140]
                                FIELD [7048,7073]
                                    String: "name" [7048,7054]
                                    STRING [7055,7073]
                                        String: "Add K3d Registry" [7055,7073]
                                FIELD [7074,7139]
                                    String: "run" [7074,7079]
                                    STRING [7080,7139]
                                        String: "sudo python ./scripts/patch_hosts.py --add-k3d-registry\n" [7080,7139]
                            OBJECT [7141,7266]
                                FIELD [7142,7175]
                                    String: "name" [7142,7148]
                                    STRING [7149,7175]
                                        String: "Free Disk Space (Ubuntu)" [7149,7175]
                                FIELD [7176,7215]
                                    String: "uses" [7176,7182]
                                    STRING [7183,7215]
                                        String: "jlumbroso/free-disk-space@main" [7183,7215]
                                FIELD [7216,7265]
                                    String: "with" [7216,7222]
                                    OBJECT [7223,7265]
                                        FIELD [7224,7241]
                                            String: "tool-cache" [7224,7236]
                                            TRUE [7237,7241]
                                        FIELD [7242,7264]
                                            String: "large-packages" [7242,7258]
                                            FALSE [7259,7264]
                            OBJECT [7267,7522]
                                FIELD [7268,7301]
                                    String: "name" [7268,7274]
                                    STRING [7275,7301]
                                        String: "Remove unnecessary files" [7275,7301]
                                FIELD [7302,7337]
                                    String: "if" [7302,7306]
                                    STRING [7307,7337]
                                        String: "matrix.os == 'ubuntu-latest'" [7307,7337]
                                FIELD [7338,7521]
                                    String: "run" [7338,7343]
                                    STRING [7344,7521]
                                        String: "sudo rm -rf /usr/share/dotnet\nsudo rm -rf \"$AGENT_TOOLSDIRECTORY\"\ndocker image prune --all --force\ndocker builder prune --all --force\ndocker system prune --all --force\n" [7344,7521]
                            OBJECT [7523,7651]
                                FIELD [7524,7544]
                                    String: "name" [7524,7530]
                                    STRING [7531,7544]
                                        String: "Upgrade pip" [7531,7544]
                                FIELD [7545,7589]
                                    String: "if" [7545,7549]
                                    STRING [7550,7589]
                                        String: "steps.changes.outputs.stack == 'true'" [7550,7589]
                                FIELD [7590,7650]
                                    String: "run" [7590,7595]
                                    STRING [7596,7650]
                                        String: "pip install --upgrade pip uv==0.1.35\nuv --version\n" [7596,7650]
                            OBJECT [7652,7814]
                                FIELD [7653,7679]
                                    String: "name" [7653,7659]
                                    STRING [7660,7679]
                                        String: "Get pip cache dir" [7660,7679]
                                FIELD [7680,7724]
                                    String: "if" [7680,7684]
                                    STRING [7685,7724]
                                        String: "steps.changes.outputs.stack == 'true'" [7685,7724]
                                FIELD [7725,7741]
                                    String: "id" [7725,7729]
                                    STRING [7730,7741]
                                        String: "pip-cache" [7730,7741]
                                FIELD [7742,7756]
                                    String: "shell" [7742,7749]
                                    STRING [7750,7756]
                                        String: "bash" [7750,7756]
                                FIELD [7757,7813]
                                    String: "run" [7757,7762]
                                    STRING [7763,7813]
                                        String: "echo \"dir=$(uv cache dir)\" >> $GITHUB_OUTPUT\n" [7763,7813]
                            OBJECT [7815,8088]
                                FIELD [7816,7834]
                                    String: "name" [7816,7822]
                                    STRING [7823,7834]
                                        String: "pip cache" [7823,7834]
                                FIELD [7835,7860]
                                    String: "uses" [7835,7841]
                                    STRING [7842,7860]
                                        String: "actions/cache@v4" [7842,7860]
                                FIELD [7861,7905]
                                    String: "if" [7861,7865]
                                    STRING [7866,7905]
                                        String: "steps.changes.outputs.stack == 'true'" [7866,7905]
                                FIELD [7906,8087]
                                    String: "with" [7906,7912]
                                    OBJECT [7913,8087]
                                        FIELD [7914,7957]
                                            String: "path" [7914,7920]
                                            STRING [7921,7957]
                                                String: "${{ steps.pip-cache.outputs.dir }}" [7921,7957]
                                        FIELD [7958,8016]
                                            String: "key" [7958,7963]
                                            STRING [7964,8016]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}" [7964,8016]
                                        FIELD [8017,8086]
                                            String: "restore-keys" [8017,8031]
                                            STRING [8032,8086]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}\n" [8032,8086]
                            OBJECT [8089,8206]
                                FIELD [8090,8110]
                                    String: "name" [8090,8096]
                                    STRING [8097,8110]
                                        String: "Install tox" [8097,8110]
                                FIELD [8111,8155]
                                    String: "if" [8111,8115]
                                    STRING [8116,8155]
                                        String: "steps.changes.outputs.stack == 'true'" [8116,8155]
                                FIELD [8156,8205]
                                    String: "run" [8156,8161]
                                    STRING [8162,8205]
                                        String: "pip install --upgrade tox tox-uv==1.5.1\n" [8162,8205]
                            OBJECT [8207,8491]
                                FIELD [8208,8232]
                                    String: "name" [8208,8214]
                                    STRING [8215,8232]
                                        String: "Install kubectl" [8215,8232]
                                FIELD [8233,8277]
                                    String: "if" [8233,8237]
                                    STRING [8238,8277]
                                        String: "steps.changes.outputs.stack == 'true'" [8238,8277]
                                FIELD [8278,8490]
                                    String: "run" [8278,8283]
                                    STRING [8284,8490]
                                        String: "# cleanup apt version\nsudo apt remove kubectl || true\n# install kubectl 1.27\ncurl -LO https://dl.k8s.io/release/v1.27.2/bin/linux/amd64/kubectl\nchmod +x kubectl\nsudo install kubectl /usr/local/bin;\n" [8284,8490]
                            OBJECT [8492,8719]
                                FIELD [8493,8514]
                                    String: "name" [8493,8499]
                                    STRING [8500,8514]
                                        String: "Install helm" [8500,8514]
                                FIELD [8515,8559]
                                    String: "if" [8515,8519]
                                    STRING [8520,8559]
                                        String: "steps.changes.outputs.stack == 'true'" [8520,8559]
                                FIELD [8560,8718]
                                    String: "run" [8560,8565]
                                    STRING [8566,8718]
                                        String: "# install helm\ncurl  -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3\nchmod 700 get_helm.sh\n./get_helm.sh\n" [8566,8718]
                            OBJECT [8720,9276]
                                FIELD [8721,8749]
                                    String: "name" [8721,8727]
                                    STRING [8728,8749]
                                        String: "Run Notebooks Tests" [8728,8749]
                                FIELD [8750,8794]
                                    String: "if" [8750,8754]
                                    STRING [8755,8794]
                                        String: "steps.changes.outputs.stack == 'true'" [8755,8794]
                                FIELD [8795,8815]
                                    String: "timeout-minutes" [8795,8812]
                                    NUMBER [8813,8815]
                                        Number: 60 [8813,8815]
                                FIELD [8816,8840]
                                    String: "env" [8816,8821]
                                    OBJECT [8822,8840]
                                        FIELD [8823,8839]
                                            String: "GITHUB_CI" [8823,8834]
                                            TRUE [8835,8839]
                                FIELD [8841,8855]
                                    String: "shell" [8841,8848]
                                    STRING [8849,8855]
                                        String: "bash" [8849,8855]
                                FIELD [8856,9275]
                                    String: "run" [8856,8861]
                                    STRING [8862,9275]
                                        String: "K3D_VERSION=v5.6.3\nDEVSPACE_VERSION=v6.3.12\n# install k3d\nwget https://github.com/k3d-io/k3d/releases/download/${K3D_VERSION}/k3d-linux-amd64\nmv k3d-linux-amd64 k3d\nchmod +x k3d\nexport PATH=`pwd`:$PATH\nk3d version\ncurl -sSL https://github.com/loft-sh/devspace/releases/download/${DEVSPACE_VERSION}/devspace-linux-amd64 -o ./devspace\nchmod +x devspace\ndevspace version\ntox -e stack.test.notebook.k8s\n" [8862,9275]
                            OBJECT [9277,9405]
                                FIELD [9278,9308]
                                    String: "name" [9278,9284]
                                    STRING [9285,9308]
                                        String: "Get current timestamp" [9285,9308]
                                FIELD [9309,9320]
                                    String: "id" [9309,9313]
                                    STRING [9314,9320]
                                        String: "date" [9314,9320]
                                FIELD [9321,9337]
                                    String: "if" [9321,9325]
                                    STRING [9326,9337]
                                        String: "failure()" [9326,9337]
                                FIELD [9338,9352]
                                    String: "shell" [9338,9345]
                                    STRING [9346,9352]
                                        String: "bash" [9346,9352]
                                FIELD [9353,9404]
                                    String: "run" [9353,9358]
                                    STRING [9359,9404]
                                        String: "echo \"date=$(date +%s)\" >> $GITHUB_OUTPUT" [9359,9404]
                            OBJECT [9406,10186]
                                FIELD [9407,9437]
                                    String: "name" [9407,9413]
                                    STRING [9414,9437]
                                        String: "Collect logs from k3d" [9414,9437]
                                FIELD [9438,9495]
                                    String: "if" [9438,9442]
                                    STRING [9443,9495]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [9443,9495]
                                FIELD [9496,9510]
                                    String: "shell" [9496,9503]
                                    STRING [9504,9510]
                                        String: "bash" [9504,9510]
                                FIELD [9511,10185]
                                    String: "run" [9511,9516]
                                    STRING [9517,10185]
                                        String: "mkdir -p ./k8s-logs\nkubectl describe all -A --context k3d-test-gateway-1 --namespace syft > ./k8s-logs/test-gateway-1-desc-${{ steps.date.outputs.date }}.txt\nkubectl describe all -A --context k3d-test-domain-1 --namespace syft > ./k8s-logs/test-domain-1-desc-${{ steps.date.outputs.date }}.txt\nkubectl logs -l app.kubernetes.io/name!=random --prefix=true --context k3d-test-gateway-1 --namespace syft > ./k8s-logs/test-gateway-1-logs-${{ steps.date.outputs.date }}.txt\nkubectl logs -l app.kubernetes.io/name!=random --prefix=true --context k3d-test-domain-1 --namespace syft > ./k8s-logs/test-domain-1-logs-${{ steps.date.outputs.date }}.txt\nls -la ./k8s-logs\n" [9517,10185]
                            OBJECT [10187,10422]
                                FIELD [10188,10218]
                                    String: "name" [10188,10194]
                                    STRING [10195,10218]
                                        String: "Upload logs to GitHub" [10195,10218]
                                FIELD [10219,10258]
                                    String: "uses" [10219,10225]
                                    STRING [10226,10258]
                                        String: "actions/upload-artifact@master" [10226,10258]
                                FIELD [10259,10316]
                                    String: "if" [10259,10263]
                                    STRING [10264,10316]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [10264,10316]
                                FIELD [10317,10421]
                                    String: "with" [10317,10323]
                                    OBJECT [10324,10421]
                                        FIELD [10325,10399]
                                            String: "name" [10325,10331]
                                            STRING [10332,10399]
                                                String: "k8s-logs-notebook-${{ matrix.os }}-${{ steps.date.outputs.date }}" [10332,10399]
                                        FIELD [10400,10420]
                                            String: "path" [10400,10406]
                                            STRING [10407,10420]
                                                String: "./k8s-logs/" [10407,10420]
                            OBJECT [10423,10687]
                                FIELD [10424,10444]
                                    String: "name" [10424,10430]
                                    STRING [10431,10444]
                                        String: "Cleanup k3d" [10431,10444]
                                FIELD [10445,10502]
                                    String: "if" [10445,10449]
                                    STRING [10450,10502]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [10450,10502]
                                FIELD [10503,10517]
                                    String: "shell" [10503,10510]
                                    STRING [10511,10517]
                                        String: "bash" [10511,10517]
                                FIELD [10518,10686]
                                    String: "run" [10518,10523]
                                    STRING [10524,10686]
                                        String: "export PATH=`pwd`:$PATH\nk3d cluster delete test-gateway-1 || true\nk3d cluster delete test-domain-1 || true\nk3d registry delete k3d-registry.localhost || true" [10524,10686]