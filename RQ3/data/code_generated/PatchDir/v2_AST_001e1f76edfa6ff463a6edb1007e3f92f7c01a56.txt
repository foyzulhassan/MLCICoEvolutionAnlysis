OBJECT [0,10609]
    FIELD [1,16]
        String: "name" [1,7]
        STRING [8,16]
            String: "Master" [8,16]
    FIELD [17,132]
        String: "on" [17,21]
        OBJECT [22,132]
            FIELD [23,53]
                String: "push" [23,29]
                OBJECT [30,53]
                    FIELD [31,52]
                        String: "branches" [31,41]
                        ARRAY [42,52]
                            STRING [43,51]
                                String: "master" [43,51]
            FIELD [54,87]
                String: "release" [54,63]
                OBJECT [64,87]
                    FIELD [65,86]
                        String: "types" [65,72]
                        ARRAY [73,86]
                            STRING [74,85]
                                String: "published" [74,85]
            FIELD [88,131]
                String: "schedule" [88,98]
                ARRAY [99,131]
                    OBJECT [100,130]
                        FIELD [101,129]
                            String: "cron" [101,107]
                            STRING [108,129]
                                String: "37 11 * * 1,2,3,4,5" [108,129]
    FIELD [133,10608]
        String: "jobs" [133,139]
        OBJECT [140,10608]
            FIELD [141,688]
                String: "gpu_checks" [141,153]
                OBJECT [154,688]
                    FIELD [155,174]
                        String: "name" [155,161]
                        STRING [162,174]
                            String: "GPU Checks" [162,174]
                    FIELD [175,221]
                        String: "if" [175,179]
                        STRING [180,221]
                            String: "github.repository == 'allenai/allennlp'" [180,221]
                    FIELD [222,253]
                        String: "runs-on" [222,231]
                        ARRAY [232,253]
                            STRING [233,246]
                                String: "self-hosted" [233,246]
                            STRING [247,252]
                                String: "GPU" [247,252]
                    FIELD [254,687]
                        String: "steps" [254,261]
                        ARRAY [262,687]
                            OBJECT [263,293]
                                FIELD [264,292]
                                    String: "uses" [264,270]
                                    STRING [271,292]
                                        String: "actions/checkout@v2" [271,292]
                            OBJECT [294,507]
                                FIELD [295,318]
                                    String: "name" [295,301]
                                    STRING [302,318]
                                        String: "Set Docker tag" [302,318]
                                FIELD [319,506]
                                    String: "run" [319,324]
                                    STRING [325,506]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"::set-env name=DOCKER_TAG::${GITHUB_REF#refs/tags/}\";\nelse\n    echo \"::set-env name=DOCKER_TAG::$GITHUB_SHA\";\nfi\n" [325,506]
                            OBJECT [508,591]
                                FIELD [509,534]
                                    String: "name" [509,515]
                                    STRING [516,534]
                                        String: "Build test image" [516,534]
                                FIELD [535,590]
                                    String: "run" [535,540]
                                    STRING [541,590]
                                        String: "make docker-test-image DOCKER_TAG=$DOCKER_TAG\n" [541,590]
                            OBJECT [592,686]
                                FIELD [593,615]
                                    String: "name" [593,599]
                                    STRING [600,615]
                                        String: "Run GPU tests" [600,615]
                                FIELD [616,685]
                                    String: "run" [616,621]
                                    STRING [622,685]
                                        String: "make docker-test-run DOCKER_TAG=$DOCKER_TAG ARGS='gpu-test'\n" [622,685]
            FIELD [689,1994]
                String: "check_core" [689,701]
                OBJECT [702,1994]
                    FIELD [703,722]
                        String: "name" [703,709]
                        STRING [710,722]
                            String: "Check Core" [710,722]
                    FIELD [723,804]
                        String: "if" [723,727]
                        STRING [728,804]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [728,804]
                    FIELD [805,830]
                        String: "runs-on" [805,814]
                        STRING [815,830]
                            String: "ubuntu-latest" [815,830]
                    FIELD [831,877]
                        String: "strategy" [831,841]
                        OBJECT [842,877]
                            FIELD [843,876]
                                String: "matrix" [843,851]
                                OBJECT [852,876]
                                    FIELD [853,875]
                                        String: "python" [853,861]
                                        ARRAY [862,875]
                                            STRING [863,868]
                                                String: "3.7" [863,868]
                                            STRING [869,874]
                                                String: "3.8" [869,874]
                    FIELD [878,1993]
                        String: "steps" [878,885]
                        ARRAY [886,1993]
                            OBJECT [887,917]
                                FIELD [888,916]
                                    String: "uses" [888,894]
                                    STRING [895,916]
                                        String: "actions/checkout@v2" [895,916]
                            OBJECT [918,1023]
                                FIELD [919,940]
                                    String: "name" [919,925]
                                    STRING [926,940]
                                        String: "Setup Python" [926,940]
                                FIELD [941,973]
                                    String: "uses" [941,947]
                                    STRING [948,973]
                                        String: "actions/setup-python@v1" [948,973]
                                FIELD [974,1022]
                                    String: "with" [974,980]
                                    OBJECT [981,1022]
                                        FIELD [982,1021]
                                            String: "python-version" [982,998]
                                            STRING [999,1021]
                                                String: "${{ matrix.python }}" [999,1021]
                            OBJECT [1024,1223]
                                FIELD [1025,1050]
                                    String: "uses" [1025,1031]
                                    STRING [1032,1050]
                                        String: "actions/cache@v2" [1032,1050]
                                FIELD [1051,1222]
                                    String: "with" [1051,1057]
                                    OBJECT [1058,1222]
                                        FIELD [1059,1093]
                                            String: "path" [1059,1065]
                                            STRING [1066,1093]
                                                String: "${{ env.pythonLocation }}" [1066,1093]
                                        FIELD [1094,1221]
                                            String: "key" [1094,1099]
                                            STRING [1100,1221]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [1100,1221]
                            OBJECT [1224,1278]
                                FIELD [1225,1254]
                                    String: "name" [1225,1231]
                                    STRING [1232,1254]
                                        String: "Install requirements" [1232,1254]
                                FIELD [1255,1277]
                                    String: "run" [1255,1260]
                                    STRING [1261,1277]
                                        String: "make install\n" [1261,1277]
                            OBJECT [1279,1321]
                                FIELD [1280,1299]
                                    String: "name" [1280,1286]
                                    STRING [1287,1299]
                                        String: "Debug info" [1287,1299]
                                FIELD [1300,1320]
                                    String: "run" [1300,1305]
                                    STRING [1306,1320]
                                        String: "pip freeze\n" [1306,1320]
                            OBJECT [1322,1377]
                                FIELD [1323,1338]
                                    String: "name" [1323,1329]
                                    STRING [1330,1338]
                                        String: "Format" [1330,1338]
                                FIELD [1339,1354]
                                    String: "if" [1339,1343]
                                    STRING [1344,1354]
                                        String: "always()" [1344,1354]
                                FIELD [1355,1376]
                                    String: "run" [1355,1360]
                                    STRING [1361,1376]
                                        String: "make format\n" [1361,1376]
                            OBJECT [1378,1429]
                                FIELD [1379,1392]
                                    String: "name" [1379,1385]
                                    STRING [1386,1392]
                                        String: "Lint" [1386,1392]
                                FIELD [1393,1408]
                                    String: "if" [1393,1397]
                                    STRING [1398,1408]
                                        String: "always()" [1398,1408]
                                FIELD [1409,1428]
                                    String: "run" [1409,1414]
                                    STRING [1415,1428]
                                        String: "make lint\n" [1415,1428]
                            OBJECT [1430,1492]
                                FIELD [1431,1450]
                                    String: "name" [1431,1437]
                                    STRING [1438,1450]
                                        String: "Type check" [1438,1450]
                                FIELD [1451,1466]
                                    String: "if" [1451,1455]
                                    STRING [1456,1466]
                                        String: "always()" [1456,1466]
                                FIELD [1467,1491]
                                    String: "run" [1467,1472]
                                    STRING [1473,1491]
                                        String: "make typecheck\n" [1473,1491]
                            OBJECT [1493,1558]
                                FIELD [1494,1512]
                                    String: "name" [1494,1500]
                                    STRING [1501,1512]
                                        String: "Run tests" [1501,1512]
                                FIELD [1513,1528]
                                    String: "if" [1513,1517]
                                    STRING [1518,1528]
                                        String: "always()" [1518,1528]
                                FIELD [1529,1557]
                                    String: "run" [1529,1534]
                                    STRING [1535,1557]
                                        String: "make test-with-cov\n" [1535,1557]
                            OBJECT [1559,1793]
                                FIELD [1560,1595]
                                    String: "name" [1560,1566]
                                    STRING [1567,1595]
                                        String: "Upload coverage to Codecov" [1567,1595]
                                FIELD [1596,1699]
                                    String: "if" [1596,1600]
                                    STRING [1601,1699]
                                        String: "matrix.python == '3.7' && github.repository == 'allenai/allennlp' && github.event_name == 'push'" [1601,1699]
                                FIELD [1700,1734]
                                    String: "uses" [1700,1706]
                                    STRING [1707,1734]
                                        String: "codecov/codecov-action@v1" [1707,1734]
                                FIELD [1735,1792]
                                    String: "with" [1735,1741]
                                    OBJECT [1742,1792]
                                        FIELD [1743,1766]
                                            String: "file" [1743,1749]
                                            STRING [1750,1766]
                                                String: "./coverage.xml" [1750,1766]
                                        FIELD [1767,1791]
                                            String: "fail_ci_if_error" [1767,1785]
                                            FALSE [1786,1791]
                            OBJECT [1794,1992]
                                FIELD [1795,1812]
                                    String: "name" [1795,1801]
                                    STRING [1802,1812]
                                        String: "Clean up" [1802,1812]
                                FIELD [1813,1828]
                                    String: "if" [1813,1817]
                                    STRING [1818,1828]
                                        String: "always()" [1818,1828]
                                FIELD [1829,1991]
                                    String: "run" [1829,1834]
                                    STRING [1835,1991]
                                        String: "# Could run into issues with the cache if we don't uninstall the editable.\n# See https://github.com/pypa/pip/issues/4537.\npip uninstall --yes allennlp\n" [1835,1991]
            FIELD [1995,3060]
                String: "check_models" [1995,2009]
                OBJECT [2010,3060]
                    FIELD [2011,2032]
                        String: "name" [2011,2017]
                        STRING [2018,2032]
                            String: "Check Models" [2018,2032]
                    FIELD [2033,2114]
                        String: "if" [2033,2037]
                        STRING [2038,2114]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [2038,2114]
                    FIELD [2115,2140]
                        String: "runs-on" [2115,2124]
                        STRING [2125,2140]
                            String: "ubuntu-latest" [2125,2140]
                    FIELD [2141,2187]
                        String: "strategy" [2141,2151]
                        OBJECT [2152,2187]
                            FIELD [2153,2186]
                                String: "matrix" [2153,2161]
                                OBJECT [2162,2186]
                                    FIELD [2163,2185]
                                        String: "python" [2163,2171]
                                        ARRAY [2172,2185]
                                            STRING [2173,2178]
                                                String: "3.7" [2173,2178]
                                            STRING [2179,2184]
                                                String: "3.8" [2179,2184]
                    FIELD [2188,3059]
                        String: "steps" [2188,2195]
                        ARRAY [2196,3059]
                            OBJECT [2197,2227]
                                FIELD [2198,2226]
                                    String: "uses" [2198,2204]
                                    STRING [2205,2226]
                                        String: "actions/checkout@v2" [2205,2226]
                            OBJECT [2228,2333]
                                FIELD [2229,2250]
                                    String: "name" [2229,2235]
                                    STRING [2236,2250]
                                        String: "Setup Python" [2236,2250]
                                FIELD [2251,2283]
                                    String: "uses" [2251,2257]
                                    STRING [2258,2283]
                                        String: "actions/setup-python@v1" [2258,2283]
                                FIELD [2284,2332]
                                    String: "with" [2284,2290]
                                    OBJECT [2291,2332]
                                        FIELD [2292,2331]
                                            String: "python-version" [2292,2308]
                                            STRING [2309,2331]
                                                String: "${{ matrix.python }}" [2309,2331]
                            OBJECT [2334,2533]
                                FIELD [2335,2360]
                                    String: "uses" [2335,2341]
                                    STRING [2342,2360]
                                        String: "actions/cache@v2" [2342,2360]
                                FIELD [2361,2532]
                                    String: "with" [2361,2367]
                                    OBJECT [2368,2532]
                                        FIELD [2369,2403]
                                            String: "path" [2369,2375]
                                            STRING [2376,2403]
                                                String: "${{ env.pythonLocation }}" [2376,2403]
                                        FIELD [2404,2531]
                                            String: "key" [2404,2409]
                                            STRING [2410,2531]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [2410,2531]
                            OBJECT [2534,2588]
                                FIELD [2535,2564]
                                    String: "name" [2535,2541]
                                    STRING [2542,2564]
                                        String: "Install requirements" [2542,2564]
                                FIELD [2565,2587]
                                    String: "run" [2565,2570]
                                    STRING [2571,2587]
                                        String: "make install\n" [2571,2587]
                            OBJECT [2589,2631]
                                FIELD [2590,2609]
                                    String: "name" [2590,2596]
                                    STRING [2597,2609]
                                        String: "Debug info" [2597,2609]
                                FIELD [2610,2630]
                                    String: "run" [2610,2615]
                                    STRING [2616,2630]
                                        String: "pip freeze\n" [2616,2630]
                            OBJECT [2632,2876]
                                FIELD [2633,2670]
                                    String: "name" [2633,2639]
                                    STRING [2640,2670]
                                        String: "Pull and install models repo" [2640,2670]
                                FIELD [2671,2709]
                                    String: "env" [2671,2676]
                                    OBJECT [2677,2709]
                                        FIELD [2678,2708]
                                            String: "ALLENNLP_VERSION_OVERRIDE" [2678,2705]
                                            STRING [2706,2708]
                                                String: "" [2706,2708]
                                FIELD [2710,2875]
                                    String: "run" [2710,2715]
                                    STRING [2716,2875]
                                        String: "git clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models && pip install --upgrade --upgrade-strategy eager -e . -r dev-requirements.txt\n" [2716,2875]
                            OBJECT [2877,2946]
                                FIELD [2878,2903]
                                    String: "name" [2878,2884]
                                    STRING [2885,2903]
                                        String: "Run models tests" [2885,2903]
                                FIELD [2904,2945]
                                    String: "run" [2904,2909]
                                    STRING [2910,2945]
                                        String: "cd allennlp-models && make test\n" [2910,2945]
                            OBJECT [2947,3058]
                                FIELD [2948,2965]
                                    String: "name" [2948,2954]
                                    STRING [2955,2965]
                                        String: "Clean up" [2955,2965]
                                FIELD [2966,2981]
                                    String: "if" [2966,2970]
                                    STRING [2971,2981]
                                        String: "always()" [2971,2981]
                                FIELD [2982,3057]
                                    String: "run" [2982,2987]
                                    STRING [2988,3057]
                                        String: "pip uninstall --yes allennlp\npip uninstall --yes allennlp_models\n" [2988,3057]
            FIELD [3061,4946]
                String: "build_package" [3061,3076]
                OBJECT [3077,4946]
                    FIELD [3078,3100]
                        String: "name" [3078,3084]
                        STRING [3085,3100]
                            String: "Build Package" [3085,3100]
                    FIELD [3101,3182]
                        String: "if" [3101,3105]
                        STRING [3106,3182]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [3106,3182]
                    FIELD [3183,3208]
                        String: "runs-on" [3183,3192]
                        STRING [3193,3208]
                            String: "ubuntu-latest" [3193,3208]
                    FIELD [3209,4945]
                        String: "steps" [3209,3216]
                        ARRAY [3217,4945]
                            OBJECT [3218,3248]
                                FIELD [3219,3247]
                                    String: "uses" [3219,3225]
                                    STRING [3226,3247]
                                        String: "actions/checkout@v2" [3226,3247]
                            OBJECT [3249,3335]
                                FIELD [3250,3271]
                                    String: "name" [3250,3256]
                                    STRING [3257,3271]
                                        String: "Setup Python" [3257,3271]
                                FIELD [3272,3304]
                                    String: "uses" [3272,3278]
                                    STRING [3279,3304]
                                        String: "actions/setup-python@v1" [3279,3304]
                                FIELD [3305,3334]
                                    String: "with" [3305,3311]
                                    OBJECT [3312,3334]
                                        FIELD [3313,3333]
                                            String: "python-version" [3313,3329]
                                            NUMBER [3330,3333]
                                                Number: 3.7 [3330,3333]
                            OBJECT [3336,3535]
                                FIELD [3337,3362]
                                    String: "uses" [3337,3343]
                                    STRING [3344,3362]
                                        String: "actions/cache@v2" [3344,3362]
                                FIELD [3363,3534]
                                    String: "with" [3363,3369]
                                    OBJECT [3370,3534]
                                        FIELD [3371,3405]
                                            String: "path" [3371,3377]
                                            STRING [3378,3405]
                                                String: "${{ env.pythonLocation }}" [3378,3405]
                                        FIELD [3406,3533]
                                            String: "key" [3406,3411]
                                            STRING [3412,3533]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [3412,3533]
                            OBJECT [3536,3590]
                                FIELD [3537,3566]
                                    String: "name" [3537,3543]
                                    STRING [3544,3566]
                                        String: "Install requirements" [3544,3566]
                                FIELD [3567,3589]
                                    String: "run" [3567,3572]
                                    STRING [3573,3589]
                                        String: "make install\n" [3573,3589]
                            OBJECT [3591,4226]
                                FIELD [3592,3630]
                                    String: "name" [3592,3598]
                                    STRING [3599,3630]
                                        String: "Check and set nightly version" [3599,3630]
                                FIELD [3631,3669]
                                    String: "if" [3631,3635]
                                    STRING [3636,3669]
                                        String: "github.event_name == 'schedule'" [3636,3669]
                                FIELD [3670,4225]
                                    String: "run" [3670,3675]
                                    STRING [3676,4225]
                                        String: "# Verify that current version is ahead of the last release.\nLATEST=$(scripts/get_version.py latest)\nCURRENT=$(scripts/get_version.py current)\nif [ \"$CURRENT\" == \"$LATEST\" ]; then\n    echo \"Current version needs to be ahead of latest release in order to build nightly release\";\n    exit 1;\nfi\n# This is somewhat bizarre, but you can't set env variables to bash\n# commands in the action workflow - so we have to use this odd way of\n# exporting a variable instead.\necho ::set-env name=ALLENNLP_VERSION_SUFFIX::.dev$(date -u +%Y%m%d)\n" [3676,4225]
                            OBJECT [4227,4581]
                                FIELD [4228,4272]
                                    String: "name" [4228,4234]
                                    STRING [4235,4272]
                                        String: "Check version and release tag match" [4235,4272]
                                FIELD [4273,4310]
                                    String: "if" [4273,4277]
                                    STRING [4278,4310]
                                        String: "github.event_name == 'release'" [4278,4310]
                                FIELD [4311,4580]
                                    String: "run" [4311,4316]
                                    STRING [4317,4580]
                                        String: "# Remove 'refs/tags/' to get the actual tag from the release.\nTAG=${GITHUB_REF#refs/tags/};\nVERSION=$(scripts/get_version.py current)\nif [ \"$TAG\" != \"$VERSION\" ]; then\n    echo \"Bad tag or version. Tag $TAG does not match $VERSION\";\n    exit 1;\nfi\n" [4317,4580]
                            OBJECT [4582,4759]
                                FIELD [4583,4610]
                                    String: "name" [4583,4589]
                                    STRING [4590,4610]
                                        String: "Build core package" [4590,4610]
                                FIELD [4611,4758]
                                    String: "run" [4611,4616]
                                    STRING [4617,4758]
                                        String: "echo \"Building packages for core release\"\n# Just print out the version for debugging.\nmake version\npython setup.py bdist_wheel sdist\n" [4617,4758]
                            OBJECT [4760,4869]
                                FIELD [4761,4787]
                                    String: "name" [4761,4767]
                                    STRING [4768,4787]
                                        String: "Save core package" [4768,4787]
                                FIELD [4788,4823]
                                    String: "uses" [4788,4794]
                                    STRING [4795,4823]
                                        String: "actions/upload-artifact@v1" [4795,4823]
                                FIELD [4824,4868]
                                    String: "with" [4824,4830]
                                    OBJECT [4831,4868]
                                        FIELD [4832,4853]
                                            String: "name" [4832,4838]
                                            STRING [4839,4853]
                                                String: "core-package" [4839,4853]
                                        FIELD [4854,4867]
                                            String: "path" [4854,4860]
                                            STRING [4861,4867]
                                                String: "dist" [4861,4867]
                            OBJECT [4870,4944]
                                FIELD [4871,4888]
                                    String: "name" [4871,4877]
                                    STRING [4878,4888]
                                        String: "Clean up" [4878,4888]
                                FIELD [4889,4904]
                                    String: "if" [4889,4893]
                                    STRING [4894,4904]
                                        String: "always()" [4894,4904]
                                FIELD [4905,4943]
                                    String: "run" [4905,4910]
                                    STRING [4911,4943]
                                        String: "pip uninstall --yes allennlp\n" [4911,4943]
            FIELD [4947,5653]
                String: "test_package" [4947,4961]
                OBJECT [4962,5653]
                    FIELD [4963,4984]
                        String: "name" [4963,4969]
                        STRING [4970,4984]
                            String: "Test Package" [4970,4984]
                    FIELD [4985,5066]
                        String: "if" [4985,4989]
                        STRING [4990,5066]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [4990,5066]
                    FIELD [5067,5092]
                        String: "needs" [5067,5074]
                        ARRAY [5075,5092]
                            STRING [5076,5091]
                                String: "build_package" [5076,5091]
                    FIELD [5093,5118]
                        String: "runs-on" [5093,5102]
                        STRING [5103,5118]
                            String: "ubuntu-latest" [5103,5118]
                    FIELD [5119,5165]
                        String: "strategy" [5119,5129]
                        OBJECT [5130,5165]
                            FIELD [5131,5164]
                                String: "matrix" [5131,5139]
                                OBJECT [5140,5164]
                                    FIELD [5141,5163]
                                        String: "python" [5141,5149]
                                        ARRAY [5150,5163]
                                            STRING [5151,5156]
                                                String: "3.7" [5151,5156]
                                            STRING [5157,5162]
                                                String: "3.8" [5157,5162]
                    FIELD [5166,5652]
                        String: "steps" [5166,5173]
                        ARRAY [5174,5652]
                            OBJECT [5175,5280]
                                FIELD [5176,5197]
                                    String: "name" [5176,5182]
                                    STRING [5183,5197]
                                        String: "Setup Python" [5183,5197]
                                FIELD [5198,5230]
                                    String: "uses" [5198,5204]
                                    STRING [5205,5230]
                                        String: "actions/setup-python@v1" [5205,5230]
                                FIELD [5231,5279]
                                    String: "with" [5231,5237]
                                    OBJECT [5238,5279]
                                        FIELD [5239,5278]
                                            String: "python-version" [5239,5255]
                                            STRING [5256,5278]
                                                String: "${{ matrix.python }}" [5256,5278]
                            OBJECT [5281,5365]
                                FIELD [5282,5311]
                                    String: "name" [5282,5288]
                                    STRING [5289,5311]
                                        String: "Install requirements" [5289,5311]
                                FIELD [5312,5364]
                                    String: "run" [5312,5317]
                                    STRING [5318,5364]
                                        String: "pip install --upgrade pip setuptools wheel\n" [5318,5364]
                            OBJECT [5366,5481]
                                FIELD [5367,5397]
                                    String: "name" [5367,5373]
                                    STRING [5374,5397]
                                        String: "Download core package" [5374,5397]
                                FIELD [5398,5435]
                                    String: "uses" [5398,5404]
                                    STRING [5405,5435]
                                        String: "actions/download-artifact@v1" [5405,5435]
                                FIELD [5436,5480]
                                    String: "with" [5436,5442]
                                    OBJECT [5443,5480]
                                        FIELD [5444,5465]
                                            String: "name" [5444,5450]
                                            STRING [5451,5465]
                                                String: "core-package" [5451,5465]
                                        FIELD [5466,5479]
                                            String: "path" [5466,5472]
                                            STRING [5473,5479]
                                                String: "dist" [5473,5479]
                            OBJECT [5482,5552]
                                FIELD [5483,5512]
                                    String: "name" [5483,5489]
                                    STRING [5490,5512]
                                        String: "Install core package" [5490,5512]
                                FIELD [5513,5551]
                                    String: "run" [5513,5518]
                                    STRING [5519,5551]
                                        String: "pip install $(ls dist/*.whl)\n" [5519,5551]
                            OBJECT [5553,5595]
                                FIELD [5554,5573]
                                    String: "name" [5554,5560]
                                    STRING [5561,5573]
                                        String: "Pip freeze" [5561,5573]
                                FIELD [5574,5594]
                                    String: "run" [5574,5579]
                                    STRING [5580,5594]
                                        String: "pip freeze\n" [5580,5594]
                            OBJECT [5596,5651]
                                FIELD [5597,5618]
                                    String: "name" [5597,5603]
                                    STRING [5604,5618]
                                        String: "Test install" [5604,5618]
                                FIELD [5619,5650]
                                    String: "run" [5619,5624]
                                    STRING [5625,5650]
                                        String: "allennlp test-install\n" [5625,5650]
            FIELD [5654,7038]
                String: "docker" [5654,5662]
                OBJECT [5663,7038]
                    FIELD [5664,5679]
                        String: "name" [5664,5670]
                        STRING [5671,5679]
                            String: "Docker" [5671,5679]
                    FIELD [5680,5761]
                        String: "if" [5680,5684]
                        STRING [5685,5761]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [5685,5761]
                    FIELD [5762,5787]
                        String: "needs" [5762,5769]
                        ARRAY [5770,5787]
                            STRING [5771,5786]
                                String: "build_package" [5771,5786]
                    FIELD [5788,5813]
                        String: "runs-on" [5788,5797]
                        STRING [5798,5813]
                            String: "ubuntu-latest" [5798,5813]
                    FIELD [5814,7037]
                        String: "steps" [5814,5821]
                        ARRAY [5822,7037]
                            OBJECT [5823,5853]
                                FIELD [5824,5852]
                                    String: "uses" [5824,5830]
                                    STRING [5831,5852]
                                        String: "actions/checkout@v2" [5831,5852]
                            OBJECT [5854,6122]
                                FIELD [5855,5885]
                                    String: "name" [5855,5861]
                                    STRING [5862,5885]
                                        String: "Set Docker image name" [5862,5885]
                                FIELD [5886,6121]
                                    String: "run" [5886,5891]
                                    STRING [5892,6121]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"::set-env name=DOCKER_IMAGE_NAME::allennlp/allennlp:${GITHUB_REF#refs/tags/}\";\nelse\n    echo \"::set-env name=DOCKER_IMAGE_NAME::allennlp/commit:$GITHUB_SHA\";\nfi\n" [5892,6121]
                            OBJECT [6123,6238]
                                FIELD [6124,6154]
                                    String: "name" [6124,6130]
                                    STRING [6131,6154]
                                        String: "Download core package" [6131,6154]
                                FIELD [6155,6192]
                                    String: "uses" [6155,6161]
                                    STRING [6162,6192]
                                        String: "actions/download-artifact@v1" [6162,6192]
                                FIELD [6193,6237]
                                    String: "with" [6193,6199]
                                    OBJECT [6200,6237]
                                        FIELD [6201,6222]
                                            String: "name" [6201,6207]
                                            STRING [6208,6222]
                                                String: "core-package" [6208,6222]
                                        FIELD [6223,6236]
                                            String: "path" [6223,6229]
                                            STRING [6230,6236]
                                                String: "dist" [6230,6236]
                            OBJECT [6239,6326]
                                FIELD [6240,6260]
                                    String: "name" [6240,6246]
                                    STRING [6247,6260]
                                        String: "Build image" [6247,6260]
                                FIELD [6261,6325]
                                    String: "run" [6261,6266]
                                    STRING [6267,6325]
                                        String: "make docker-image DOCKER_IMAGE_NAME=$DOCKER_IMAGE_NAME\n" [6267,6325]
                            OBJECT [6327,6431]
                                FIELD [6328,6347]
                                    String: "name" [6328,6334]
                                    STRING [6335,6347]
                                        String: "Test image" [6335,6347]
                                FIELD [6348,6430]
                                    String: "run" [6348,6353]
                                    STRING [6354,6430]
                                        String: "make docker-run DOCKER_IMAGE_NAME=$DOCKER_IMAGE_NAME ARGS='test-install'\n" [6354,6430]
                            OBJECT [6432,6663]
                                FIELD [6433,6461]
                                    String: "name" [6433,6439]
                                    STRING [6440,6461]
                                        String: "Upload master image" [6440,6461]
                                FIELD [6462,6539]
                                    String: "if" [6462,6466]
                                    STRING [6467,6539]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'push'" [6467,6539]
                                FIELD [6540,6662]
                                    String: "run" [6540,6545]
                                    STRING [6546,6662]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\ndocker push $DOCKER_IMAGE_NAME\n" [6546,6662]
                            OBJECT [6664,7036]
                                FIELD [6665,6694]
                                    String: "name" [6665,6671]
                                    STRING [6672,6694]
                                        String: "Upload release image" [6672,6694]
                                FIELD [6695,6775]
                                    String: "if" [6695,6699]
                                    STRING [6700,6775]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [6700,6775]
                                FIELD [6776,7035]
                                    String: "run" [6776,6781]
                                    STRING [6782,7035]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\n\n# Tag with latest.\ndocker tag $DOCKER_IMAGE_NAME allennlp/allennlp:latest\n\n# Push both tags.\ndocker push $DOCKER_IMAGE_NAME\ndocker push allennlp/allennlp:latest\n" [6782,7035]
            FIELD [7039,9940]
                String: "docs" [7039,7045]
                OBJECT [7046,9940]
                    FIELD [7047,7060]
                        String: "name" [7047,7053]
                        STRING [7054,7060]
                            String: "Docs" [7054,7060]
                    FIELD [7061,7142]
                        String: "if" [7061,7065]
                        STRING [7066,7142]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [7066,7142]
                    FIELD [7143,7168]
                        String: "runs-on" [7143,7152]
                        STRING [7153,7168]
                            String: "ubuntu-latest" [7153,7168]
                    FIELD [7169,9939]
                        String: "steps" [7169,7176]
                        ARRAY [7177,9939]
                            OBJECT [7178,7208]
                                FIELD [7179,7207]
                                    String: "uses" [7179,7185]
                                    STRING [7186,7207]
                                        String: "actions/checkout@v1" [7186,7207]
                            OBJECT [7209,7383]
                                FIELD [7210,7238]
                                    String: "name" [7210,7216]
                                    STRING [7217,7238]
                                        String: "Setup SSH Client 🔑" [7217,7238]
                                FIELD [7239,7285]
                                    String: "if" [7239,7243]
                                    STRING [7244,7285]
                                        String: "github.repository == 'allenai/allennlp'" [7244,7285]
                                FIELD [7286,7322]
                                    String: "uses" [7286,7292]
                                    STRING [7293,7322]
                                        String: "webfactory/ssh-agent@v0.2.0" [7293,7322]
                                FIELD [7323,7382]
                                    String: "with" [7323,7329]
                                    OBJECT [7330,7382]
                                        FIELD [7331,7381]
                                            String: "ssh-private-key" [7331,7348]
                                            STRING [7349,7381]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [7349,7381]
                            OBJECT [7384,7470]
                                FIELD [7385,7406]
                                    String: "name" [7385,7391]
                                    STRING [7392,7406]
                                        String: "Setup Python" [7392,7406]
                                FIELD [7407,7439]
                                    String: "uses" [7407,7413]
                                    STRING [7414,7439]
                                        String: "actions/setup-python@v1" [7414,7439]
                                FIELD [7440,7469]
                                    String: "with" [7440,7446]
                                    OBJECT [7447,7469]
                                        FIELD [7448,7468]
                                            String: "python-version" [7448,7464]
                                            NUMBER [7465,7468]
                                                Number: 3.7 [7465,7468]
                            OBJECT [7471,7670]
                                FIELD [7472,7497]
                                    String: "uses" [7472,7478]
                                    STRING [7479,7497]
                                        String: "actions/cache@v2" [7479,7497]
                                FIELD [7498,7669]
                                    String: "with" [7498,7504]
                                    OBJECT [7505,7669]
                                        FIELD [7506,7540]
                                            String: "path" [7506,7512]
                                            STRING [7513,7540]
                                                String: "${{ env.pythonLocation }}" [7513,7540]
                                        FIELD [7541,7668]
                                            String: "key" [7541,7546]
                                            STRING [7547,7668]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [7547,7668]
                            OBJECT [7671,7725]
                                FIELD [7672,7701]
                                    String: "name" [7672,7678]
                                    STRING [7679,7701]
                                        String: "Install requirements" [7679,7701]
                                FIELD [7702,7724]
                                    String: "run" [7702,7707]
                                    STRING [7708,7724]
                                        String: "make install\n" [7708,7724]
                            OBJECT [7726,7768]
                                FIELD [7727,7746]
                                    String: "name" [7727,7733]
                                    STRING [7734,7746]
                                        String: "Debug info" [7734,7746]
                                FIELD [7747,7767]
                                    String: "run" [7747,7752]
                                    STRING [7753,7767]
                                        String: "pip freeze\n" [7753,7767]
                            OBJECT [7769,7824]
                                FIELD [7770,7789]
                                    String: "name" [7770,7776]
                                    STRING [7777,7789]
                                        String: "Build docs" [7777,7789]
                                FIELD [7790,7823]
                                    String: "run" [7790,7795]
                                    STRING [7796,7823]
                                        String: "./scripts/build_docs.sh\n" [7796,7823]
                            OBJECT [7825,8051]
                                FIELD [7826,7848]
                                    String: "name" [7826,7832]
                                    STRING [7833,7848]
                                        String: "Configure Git" [7833,7848]
                                FIELD [7849,7895]
                                    String: "if" [7849,7853]
                                    STRING [7854,7895]
                                        String: "github.repository == 'allenai/allennlp'" [7854,7895]
                                FIELD [7896,8050]
                                    String: "run" [7896,7901]
                                    STRING [7902,8050]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [7902,8050]
                            OBJECT [8052,8266]
                                FIELD [8053,8080]
                                    String: "name" [8053,8059]
                                    STRING [8060,8080]
                                        String: "Set target folders" [8060,8080]
                                FIELD [8081,8265]
                                    String: "run" [8081,8086]
                                    STRING [8087,8265]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"::set-env name=DOCS_FOLDER::${GITHUB_REF#refs/tags/}\";\nelse\n    echo \"::set-env name=DOCS_FOLDER::master\";\nfi\n" [8087,8265]
                            OBJECT [8267,8710]
                                FIELD [8268,8287]
                                    String: "name" [8268,8274]
                                    STRING [8275,8287]
                                        String: "Stage docs" [8275,8287]
                                FIELD [8288,8369]
                                    String: "if" [8288,8292]
                                    STRING [8293,8369]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name != 'schedule'" [8293,8369]
                                FIELD [8370,8709]
                                    String: "run" [8370,8375]
                                    STRING [8376,8709]
                                        String: "echo \"Staging docs to $DOCS_FOLDER\"\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DOCS_FOLDER/\nmkdir -p ~/allennlp-docs/$DOCS_FOLDER\ncp -r site/* ~/allennlp-docs/$DOCS_FOLDER\n" [8376,8709]
                            OBJECT [8711,9628]
                                FIELD [8712,8737]
                                    String: "name" [8712,8718]
                                    STRING [8719,8737]
                                        String: "Update shortcuts" [8719,8737]
                                FIELD [8738,8818]
                                    String: "if" [8738,8742]
                                    STRING [8743,8818]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [8743,8818]
                                FIELD [8819,9627]
                                    String: "run" [8819,8824]
                                    STRING [8825,9627]
                                        String: "# Fail immediately if any step fails.\nset -e\n\nLATEST=$(./scripts/get_version.py latest)\nSTABLE=$(./scripts/get_version.py stable)\n\ncd ~/allennlp-docs/\n\necho \"Updating latest/index.html to point to $LATEST\"\nmkdir -p latest\ncat >latest/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${LATEST}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${LATEST}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n\necho \"Updating stable/index.html to point to $STABLE\"\nmkdir -p stable\ncat >stable/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${STABLE}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${STABLE}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n" [8825,9627]
                            OBJECT [9629,9863]
                                FIELD [9630,9650]
                                    String: "name" [9630,9636]
                                    STRING [9637,9650]
                                        String: "Deploy docs" [9637,9650]
                                FIELD [9651,9732]
                                    String: "if" [9651,9655]
                                    STRING [9656,9732]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name != 'schedule'" [9656,9732]
                                FIELD [9733,9862]
                                    String: "run" [9733,9738]
                                    STRING [9739,9862]
                                        String: "# And push them up to GitHub\ncd ~/allennlp-docs/\ngit add -A\ngit commit -m \"automated update of the docs\"\ngit push\n" [9739,9862]
                            OBJECT [9864,9938]
                                FIELD [9865,9882]
                                    String: "name" [9865,9871]
                                    STRING [9872,9882]
                                        String: "Clean up" [9872,9882]
                                FIELD [9883,9898]
                                    String: "if" [9883,9887]
                                    STRING [9888,9898]
                                        String: "always()" [9888,9898]
                                FIELD [9899,9937]
                                    String: "run" [9899,9904]
                                    STRING [9905,9937]
                                        String: "pip uninstall --yes allennlp\n" [9905,9937]
            FIELD [9941,10607]
                String: "publish" [9941,9950]
                OBJECT [9951,10607]
                    FIELD [9952,9965]
                        String: "name" [9952,9958]
                        STRING [9959,9965]
                            String: "PyPI" [9959,9965]
                    FIELD [9966,10063]
                        String: "needs" [9966,9973]
                        ARRAY [9974,10063]
                            STRING [9975,9987]
                                String: "check_core" [9975,9987]
                            STRING [9988,10002]
                                String: "check_models" [9988,10002]
                            STRING [10003,10015]
                                String: "gpu_checks" [10003,10015]
                            STRING [10016,10031]
                                String: "build_package" [10016,10031]
                            STRING [10032,10046]
                                String: "test_package" [10032,10046]
                            STRING [10047,10055]
                                String: "docker" [10047,10055]
                            STRING [10056,10062]
                                String: "docs" [10056,10062]
                    FIELD [10064,10141]
                        String: "if" [10064,10068]
                        STRING [10069,10141]
                            String: "github.repository == 'allenai/allennlp' && github.event_name != 'push'" [10069,10141]
                    FIELD [10142,10167]
                        String: "runs-on" [10142,10151]
                        STRING [10152,10167]
                            String: "ubuntu-latest" [10152,10167]
                    FIELD [10168,10606]
                        String: "steps" [10168,10175]
                        ARRAY [10176,10606]
                            OBJECT [10177,10207]
                                FIELD [10178,10206]
                                    String: "uses" [10178,10184]
                                    STRING [10185,10206]
                                        String: "actions/checkout@v2" [10185,10206]
                            OBJECT [10208,10294]
                                FIELD [10209,10230]
                                    String: "name" [10209,10215]
                                    STRING [10216,10230]
                                        String: "Setup Python" [10216,10230]
                                FIELD [10231,10263]
                                    String: "uses" [10231,10237]
                                    STRING [10238,10263]
                                        String: "actions/setup-python@v1" [10238,10263]
                                FIELD [10264,10293]
                                    String: "with" [10264,10270]
                                    OBJECT [10271,10293]
                                        FIELD [10272,10292]
                                            String: "python-version" [10272,10288]
                                            NUMBER [10289,10292]
                                                Number: 3.7 [10289,10292]
                            OBJECT [10295,10385]
                                FIELD [10296,10325]
                                    String: "name" [10296,10302]
                                    STRING [10303,10325]
                                        String: "Install requirements" [10303,10325]
                                FIELD [10326,10384]
                                    String: "run" [10326,10331]
                                    STRING [10332,10384]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [10332,10384]
                            OBJECT [10386,10501]
                                FIELD [10387,10417]
                                    String: "name" [10387,10393]
                                    STRING [10394,10417]
                                        String: "Download core package" [10394,10417]
                                FIELD [10418,10455]
                                    String: "uses" [10418,10424]
                                    STRING [10425,10455]
                                        String: "actions/download-artifact@v1" [10425,10455]
                                FIELD [10456,10500]
                                    String: "with" [10456,10462]
                                    OBJECT [10463,10500]
                                        FIELD [10464,10485]
                                            String: "name" [10464,10470]
                                            STRING [10471,10485]
                                                String: "core-package" [10471,10485]
                                        FIELD [10486,10499]
                                            String: "path" [10486,10492]
                                            STRING [10493,10499]
                                                String: "dist" [10493,10499]
                            OBJECT [10502,10605]
                                FIELD [10503,10532]
                                    String: "name" [10503,10509]
                                    STRING [10510,10532]
                                        String: "Publish core package" [10510,10532]
                                FIELD [10533,10604]
                                    String: "run" [10533,10538]
                                    STRING [10539,10604]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [10539,10604]