OBJECT [0,5754]
    FIELD [1,20]
        String: "name" [1,7]
        STRING [8,20]
            String: "MacRelease" [8,20]
    FIELD [21,95]
        String: "on" [21,25]
        OBJECT [26,95]
            FIELD [27,94]
                String: "workflow_call" [27,42]
                OBJECT [43,94]
                    FIELD [44,93]
                        String: "inputs" [44,52]
                        OBJECT [53,93]
                            FIELD [54,92]
                                String: "os" [54,58]
                                OBJECT [59,92]
                                    FIELD [60,75]
                                        String: "required" [60,70]
                                        TRUE [71,75]
                                    FIELD [76,91]
                                        String: "type" [76,82]
                                        STRING [83,91]
                                            String: "string" [83,91]
    FIELD [96,137]
        String: "env" [96,101]
        OBJECT [102,137]
            FIELD [103,136]
                String: "MACOSX_DEPLOYMENT_TARGET" [103,129]
                STRING [130,136]
                    String: "12.0" [130,136]
    FIELD [138,171]
        String: "permissions" [138,151]
        OBJECT [152,171]
            FIELD [153,170]
                String: "contents" [153,163]
                STRING [164,170]
                    String: "read" [164,170]
    FIELD [172,5753]
        String: "jobs" [172,178]
        OBJECT [179,5753]
            FIELD [180,1884]
                String: "build" [180,187]
                OBJECT [188,1884]
                    FIELD [189,344]
                        String: "if" [189,193]
                        STRING [194,344]
                            String: "github.event_name != 'pull_request' || startsWith( github.base_ref, 'rel-') || contains( github.event.pull_request.labels.*.name, 'run release CIs')" [194,344]
                    FIELD [345,369]
                        String: "runs-on" [345,354]
                        STRING [355,369]
                            String: "macos-latest" [355,369]
                    FIELD [370,486]
                        String: "strategy" [370,380]
                        OBJECT [381,486]
                            FIELD [382,485]
                                String: "matrix" [382,390]
                                OBJECT [391,485]
                                    FIELD [392,443]
                                        String: "python-version" [392,408]
                                        ARRAY [409,443]
                                            STRING [410,415]
                                                String: "3.8" [410,415]
                                            STRING [416,421]
                                                String: "3.9" [416,421]
                                            STRING [422,428]
                                                String: "3.10" [422,428]
                                            STRING [429,435]
                                                String: "3.11" [429,435]
                                            STRING [436,442]
                                                String: "3.12" [436,442]
                                    FIELD [444,484]
                                        String: "target-architecture" [444,465]
                                        ARRAY [466,484]
                                            STRING [467,475]
                                                String: "x86_64" [467,475]
                                            STRING [476,483]
                                                String: "arm64" [476,483]
                    FIELD [487,1883]
                        String: "steps" [487,494]
                        ARRAY [495,1883]
                            OBJECT [496,564]
                                FIELD [497,563]
                                    String: "uses" [497,503]
                                    STRING [504,563]
                                        String: "actions/checkout@692973e3d937129bcbf40652eb9f2f61becf3332" [504,563]
                            OBJECT [565,851]
                                FIELD [566,594]
                                    String: "name" [566,572]
                                    STRING [573,594]
                                        String: "Checkout submodules" [573,594]
                                FIELD [595,609]
                                    String: "shell" [595,602]
                                    STRING [603,609]
                                        String: "bash" [603,609]
                                FIELD [610,850]
                                    String: "run" [610,615]
                                    STRING [616,850]
                                        String: "auth_header=\"$(git config --local --get http.https://github.com/.extraheader)\"\ngit submodule sync --recursive\ngit -c \"http.extraheader=$auth_header\" -c protocol.version=2 submodule update --init --force --recursive --depth=1\n" [616,850]
                            OBJECT [852,1033]
                                FIELD [853,904]
                                    String: "name" [853,859]
                                    STRING [860,904]
                                        String: "Set up Python ${{ matrix.python-version }}" [860,904]
                                FIELD [905,975]
                                    String: "uses" [905,911]
                                    STRING [912,975]
                                        String: "actions/setup-python@f677139bbe7f9c59b41e40162b753c062f5d49a3" [912,975]
                                FIELD [976,1032]
                                    String: "with" [976,982]
                                    OBJECT [983,1032]
                                        FIELD [984,1031]
                                            String: "python-version" [984,1000]
                                            STRING [1001,1031]
                                                String: "${{ matrix.python-version }}" [1001,1031]
                            OBJECT [1034,1175]
                                FIELD [1035,1071]
                                    String: "name" [1035,1041]
                                    STRING [1042,1071]
                                        String: "Install Python dependencies" [1042,1071]
                                FIELD [1072,1174]
                                    String: "run" [1072,1077]
                                    STRING [1078,1174]
                                        String: "python -m pip install -q --upgrade pip\npython -m pip install -q -r requirements-release.txt\n" [1078,1174]
                            OBJECT [1176,1715]
                                FIELD [1177,1209]
                                    String: "name" [1177,1183]
                                    STRING [1184,1209]
                                        String: "Build wheel and install" [1184,1209]
                                FIELD [1210,1339]
                                    String: "env" [1210,1215]
                                    OBJECT [1216,1339]
                                        FIELD [1217,1229]
                                            String: "CC" [1217,1221]
                                            STRING [1222,1229]
                                                String: "clang" [1222,1229]
                                        FIELD [1230,1245]
                                            String: "CXX" [1230,1235]
                                            STRING [1236,1245]
                                                String: "clang++" [1236,1245]
                                        FIELD [1246,1257]
                                            String: "ONNX_ML" [1246,1255]
                                            NUMBER [1256,1257]
                                                Number: 1 [1256,1257]
                                        FIELD [1258,1298]
                                            String: "CMAKE_OSX_ARCHITECTURES" [1258,1283]
                                            STRING [1284,1298]
                                                String: "arm64;x86_64" [1284,1298]
                                        FIELD [1299,1338]
                                            String: "CMAKE_ARGS" [1299,1311]
                                            STRING [1312,1338]
                                                String: "-DONNX_USE_LITE_PROTO=ON" [1312,1338]
                                FIELD [1340,1714]
                                    String: "run" [1340,1345]
                                    STRING [1346,1714]
                                        String: "# Install Protobuf from source\nexport NUM_CORES=`sysctl -n hw.logicalcpu`\nsource workflow_scripts/protobuf/build_protobuf_unix.sh $NUM_CORES $(pwd)/protobuf/protobuf_install\nif [ '${{ github.event_name }}' == 'schedule' ]; then\n  sed -i '' 's/name = \"onnx\"/name = \"onnx-weekly\"/' 'pyproject.toml'\n  export ONNX_PREVIEW_BUILD=1\nfi\npython -m build --wheel\n" [1346,1714]
                            OBJECT [1716,1882]
                                FIELD [1717,1790]
                                    String: "uses" [1717,1723]
                                    STRING [1724,1790]
                                        String: "actions/upload-artifact@50769540e7f4bd5e21e526ee35c689e35e0d6874" [1724,1790]
                                FIELD [1791,1881]
                                    String: "with" [1791,1797]
                                    OBJECT [1798,1881]
                                        FIELD [1799,1860]
                                            String: "name" [1799,1805]
                                            STRING [1806,1860]
                                                String: "wheels-${{ inputs.os }}-${{ matrix.python-version }}" [1806,1860]
                                        FIELD [1861,1880]
                                            String: "path" [1861,1867]
                                            STRING [1868,1880]
                                                String: "dist/*.whl" [1868,1880]
            FIELD [1885,5752]
                String: "test" [1885,1891]
                OBJECT [1892,5752]
                    FIELD [1893,1908]
                        String: "needs" [1893,1900]
                        STRING [1901,1908]
                            String: "build" [1901,1908]
                    FIELD [1909,1996]
                        String: "runs-on" [1909,1918]
                        STRING [1919,1996]
                            String: "${{ (matrix.target-architecture == 'x86_64') && 'macos-12' || 'macos-14' }}" [1919,1996]
                    FIELD [1997,2113]
                        String: "strategy" [1997,2007]
                        OBJECT [2008,2113]
                            FIELD [2009,2112]
                                String: "matrix" [2009,2017]
                                OBJECT [2018,2112]
                                    FIELD [2019,2070]
                                        String: "python-version" [2019,2035]
                                        ARRAY [2036,2070]
                                            STRING [2037,2042]
                                                String: "3.8" [2037,2042]
                                            STRING [2043,2048]
                                                String: "3.9" [2043,2048]
                                            STRING [2049,2055]
                                                String: "3.10" [2049,2055]
                                            STRING [2056,2062]
                                                String: "3.11" [2056,2062]
                                            STRING [2063,2069]
                                                String: "3.12" [2063,2069]
                                    FIELD [2071,2111]
                                        String: "target-architecture" [2071,2092]
                                        ARRAY [2093,2111]
                                            STRING [2094,2102]
                                                String: "x86_64" [2094,2102]
                                            STRING [2103,2110]
                                                String: "arm64" [2103,2110]
                    FIELD [2114,5751]
                        String: "steps" [2114,2121]
                        ARRAY [2122,5751]
                            OBJECT [2123,2191]
                                FIELD [2124,2190]
                                    String: "uses" [2124,2130]
                                    STRING [2131,2190]
                                        String: "actions/checkout@692973e3d937129bcbf40652eb9f2f61becf3332" [2131,2190]
                            OBJECT [2192,2373]
                                FIELD [2193,2244]
                                    String: "name" [2193,2199]
                                    STRING [2200,2244]
                                        String: "Set up Python ${{ matrix.python-version }}" [2200,2244]
                                FIELD [2245,2315]
                                    String: "uses" [2245,2251]
                                    STRING [2252,2315]
                                        String: "actions/setup-python@f677139bbe7f9c59b41e40162b753c062f5d49a3" [2252,2315]
                                FIELD [2316,2372]
                                    String: "with" [2316,2322]
                                    OBJECT [2323,2372]
                                        FIELD [2324,2371]
                                            String: "python-version" [2324,2340]
                                            STRING [2341,2371]
                                                String: "${{ matrix.python-version }}" [2341,2371]
                            OBJECT [2374,2595]
                                FIELD [2375,2411]
                                    String: "name" [2375,2381]
                                    STRING [2382,2411]
                                        String: "Install Python dependencies" [2382,2411]
                                FIELD [2412,2594]
                                    String: "run" [2412,2417]
                                    STRING [2418,2594]
                                        String: "arch -${{ matrix.target-architecture }} python -m pip install -q --upgrade pip\narch -${{ matrix.target-architecture }} python -m pip install -q -r requirements-release.txt\n" [2418,2594]
                            OBJECT [2596,2792]
                                FIELD [2597,2672]
                                    String: "uses" [2597,2603]
                                    STRING [2604,2672]
                                        String: "actions/download-artifact@fa0a91b85d4f404e444e00e005971372dc801d16" [2604,2672]
                                FIELD [2673,2791]
                                    String: "with" [2673,2679]
                                    OBJECT [2680,2791]
                                        FIELD [2681,2776]
                                            String: "name" [2681,2687]
                                            STRING [2688,2776]
                                                String: "wheels-${{ inputs.os }}-${{ matrix.python-version }}-${{ matrix.target-architecture }}" [2688,2776]
                                        FIELD [2777,2790]
                                            String: "path" [2777,2783]
                                            STRING [2784,2790]
                                                String: "dist" [2784,2790]
                            OBJECT [2793,2959]
                                FIELD [2794,2817]
                                    String: "name" [2794,2800]
                                    STRING [2801,2817]
                                        String: "Test the wheel" [2801,2817]
                                FIELD [2818,2958]
                                    String: "run" [2818,2823]
                                    STRING [2824,2958]
                                        String: "arch -${{ matrix.target-architecture }} python -m pip install --upgrade dist/*.whl\narch -${{ matrix.target-architecture }} pytest\n" [2824,2958]
                            OBJECT [2960,3244]
                                FIELD [2961,2997]
                                    String: "name" [2961,2967]
                                    STRING [2968,2997]
                                        String: "Upload wheel to PyPI weekly" [2968,2997]
                                FIELD [2998,3077]
                                    String: "if" [2998,3002]
                                    STRING [3003,3077]
                                        String: "github.event_name == 'schedule' && matrix.target-architecture == 'arm64'" [3003,3077]
                                FIELD [3078,3243]
                                    String: "run" [3078,3083]
                                    STRING [3084,3243]
                                        String: "twine upload --verbose dist/*.whl --repository-url https://upload.pypi.org/legacy/ -u ${{ secrets.ONNXWEEKLY_USERNAME }} -p ${{ secrets.ONNXWEEKLY_TOKEN }}\n" [3084,3243]
                            OBJECT [3245,3601]
                                FIELD [3246,3288]
                                    String: "name" [3246,3252]
                                    STRING [3253,3288]
                                        String: "Verify ONNX with the latest numpy" [3253,3288]
                                FIELD [3289,3311]
                                    String: "if" [3289,3293]
                                    STRING [3294,3311]
                                        String: "${{ always() }}" [3294,3311]
                                FIELD [3312,3600]
                                    String: "run" [3312,3317]
                                    STRING [3318,3600]
                                        String: "arch -${{ matrix.target-architecture }} python -m pip uninstall -y numpy onnx\narch -${{ matrix.target-architecture }} python -m pip install numpy\narch -${{ matrix.target-architecture }} python -m pip install --upgrade dist/*.whl\narch -${{ matrix.target-architecture }} pytest\n" [3318,3600]
                            OBJECT [3602,3967]
                                FIELD [3603,3648]
                                    String: "name" [3603,3609]
                                    STRING [3610,3648]
                                        String: "Verify ONNX with the latest protobuf" [3610,3648]
                                FIELD [3649,3671]
                                    String: "if" [3649,3653]
                                    STRING [3654,3671]
                                        String: "${{ always() }}" [3654,3671]
                                FIELD [3672,3966]
                                    String: "run" [3672,3677]
                                    STRING [3678,3966]
                                        String: "arch -${{ matrix.target-architecture }} python -m pip uninstall -y protobuf onnx\narch -${{ matrix.target-architecture }} python -m pip install protobuf\narch -${{ matrix.target-architecture }} python -m pip install --upgrade dist/*.whl\narch -${{ matrix.target-architecture }} pytest\n" [3678,3966]
                            OBJECT [3968,4474]
                                FIELD [3969,4027]
                                    String: "name" [3969,3975]
                                    STRING [3976,4027]
                                        String: "Verify ONNX with the minimumly supported packages" [3976,4027]
                                FIELD [4028,4157]
                                    String: "if" [4028,4032]
                                    STRING [4033,4157]
                                        String: "always() && (matrix.target-architecture == 'x86_64' || (matrix.python-version != '3.8' && matrix.python-version != '3.9'))" [4033,4157]
                                FIELD [4158,4473]
                                    String: "run" [4158,4163]
                                    STRING [4164,4473]
                                        String: "arch -${{ matrix.target-architecture }} python -m pip uninstall -y numpy protobuf onnx\narch -${{ matrix.target-architecture }} python -m pip install -r requirements-min.txt\narch -${{ matrix.target-architecture }} python -m pip install --upgrade dist/*.whl\narch -${{ matrix.target-architecture }} pytest\n" [4164,4473]
                            OBJECT [4475,5207]
                                FIELD [4476,4536]
                                    String: "name" [4476,4482]
                                    STRING [4483,4536]
                                        String: "Build and upload source distribution to PyPI weekly" [4483,4536]
                                FIELD [4537,4651]
                                    String: "if" [4537,4541]
                                    STRING [4542,4651]
                                        String: "github.event_name == 'schedule' && matrix.python-version == '3.10' && matrix.target-architecture == 'arm64'" [4542,4651]
                                FIELD [4652,5206]
                                    String: "run" [4652,4657]
                                    STRING [4658,5206]
                                        String: "# Build and upload source distribution to PyPI\ngit clean -xdf\nsed -i '' 's/name = \"onnx\"/name = \"onnx-weekly\"/' 'pyproject.toml'\nONNX_PREVIEW_BUILD=1 python -m build --sdist\ntwine upload dist/* --repository-url https://upload.pypi.org/legacy/ -u ${{ secrets.ONNXWEEKLY_USERNAME }} -p ${{ secrets.ONNXWEEKLY_TOKEN }}\n\n# Test weekly source distribution from PyPI\npython -m pip uninstall -y onnx-weekly\npython -m pip install setuptools\npython -m pip install --use-deprecated=legacy-resolver --no-binary onnx-weekly onnx-weekly\npytest\n" [4658,5206]
                            OBJECT [5208,5750]
                                FIELD [5209,5260]
                                    String: "name" [5209,5215]
                                    STRING [5216,5260]
                                        String: "Verify ONNX with ONNX Runtime PyPI package" [5216,5260]
                                FIELD [5261,5299]
                                    String: "if" [5261,5265]
                                    STRING [5266,5299]
                                        String: "matrix.python-version != '3.12'" [5266,5299]
                                FIELD [5300,5749]
                                    String: "run" [5300,5305]
                                    STRING [5306,5749]
                                        String: "arch -${{ matrix.target-architecture }} python -m pip uninstall -y protobuf numpy\narch -${{ matrix.target-architecture }} python -m pip install -q -r requirements-release.txt\narch -${{ matrix.target-architecture }} python -m pip install -q onnxruntime==1.17.3\nexport ORT_MAX_IR_SUPPORTED_VERSION=9\nexport ORT_MAX_ML_OPSET_SUPPORTED_VERSION=3\nexport ORT_MAX_ONNX_OPSET_SUPPORTED_VERSION=20\narch -${{ matrix.target-architecture }} pytest" [5306,5749]