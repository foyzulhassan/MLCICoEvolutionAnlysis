OBJECT [0,9829]
    FIELD [1,35]
        String: "name" [1,7]
        STRING [8,35]
            String: "Self-hosted runner (push)" [8,35]
    FIELD [36,183]
        String: "on" [36,40]
        OBJECT [41,183]
            FIELD [42,155]
                String: "push" [42,48]
                OBJECT [49,155]
                    FIELD [50,85]
                        String: "branches" [50,60]
                        ARRAY [61,85]
                            STRING [62,70]
                                String: "master" [62,70]
                            STRING [71,77]
                                String: "ci_*" [71,77]
                            STRING [78,84]
                                String: "ci-*" [78,84]
                    FIELD [86,154]
                        String: "paths" [86,93]
                        ARRAY [94,154]
                            STRING [95,103]
                                String: "src/**" [95,103]
                            STRING [104,114]
                                String: "tests/**" [104,114]
                            STRING [115,127]
                                String: ".github/**" [115,127]
                            STRING [128,142]
                                String: "templates/**" [128,142]
                            STRING [143,153]
                                String: "utils/**" [143,153]
            FIELD [156,182]
                String: "repository_dispatch" [156,177]
                NULL [178,182]
    FIELD [184,300]
        String: "env" [184,189]
        OBJECT [190,300]
            FIELD [191,213]
                String: "HF_HOME" [191,200]
                STRING [201,213]
                    String: "/mnt/cache" [201,213]
            FIELD [214,239]
                String: "TRANSFORMERS_IS_CI" [214,234]
                TRUE [235,239]
            FIELD [240,259]
                String: "OMP_NUM_THREADS" [240,257]
                NUMBER [258,259]
                    Number: 8 [258,259]
            FIELD [260,279]
                String: "MKL_NUM_THREADS" [260,277]
                NUMBER [278,279]
                    Number: 8 [278,279]
            FIELD [280,299]
                String: "PYTEST_TIMEOUT" [280,296]
                NUMBER [297,299]
                    Number: 60 [297,299]
    FIELD [301,9828]
        String: "jobs" [301,307]
        OBJECT [308,9828]
            FIELD [309,2134]
                String: "run_tests_torch_gpu" [309,330]
                OBJECT [331,2134]
                    FIELD [332,383]
                        String: "runs-on" [332,341]
                        ARRAY [342,383]
                            STRING [343,356]
                                String: "self-hosted" [343,356]
                            STRING [357,369]
                                String: "docker-gpu" [357,369]
                            STRING [370,382]
                                String: "single-gpu" [370,382]
                    FIELD [384,550]
                        String: "container" [384,395]
                        OBJECT [396,550]
                            FIELD [397,452]
                                String: "image" [397,404]
                                STRING [405,452]
                                    String: "pytorch/pytorch:1.9.0-cuda11.1-cudnn8-runtime" [405,452]
                            FIELD [453,549]
                                String: "options" [453,462]
                                STRING [463,549]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [463,549]
                    FIELD [551,2133]
                        String: "steps" [551,558]
                        ARRAY [559,2133]
                            OBJECT [560,900]
                                FIELD [561,590]
                                    String: "name" [561,567]
                                    STRING [568,590]
                                        String: "Install dependencies" [568,590]
                                FIELD [591,899]
                                    String: "run" [591,596]
                                    STRING [597,899]
                                        String: "apt -y update && apt install -y software-properties-common && apt -y update && add-apt-repository -y ppa:git-core/ppa && apt -y update && apt install -y git\napt install -y libsndfile1-dev\npip install --upgrade pip\npip install .[sklearn,testing,onnxruntime,sentencepiece,torch-speech,vision,timm]\n" [597,899]
                            OBJECT [901,981]
                                FIELD [902,926]
                                    String: "name" [902,908]
                                    STRING [909,926]
                                        String: "Launcher docker" [909,926]
                                FIELD [927,955]
                                    String: "uses" [927,933]
                                    STRING [934,955]
                                        String: "actions/checkout@v2" [934,955]
                                FIELD [956,980]
                                    String: "with" [956,962]
                                    OBJECT [963,980]
                                        FIELD [964,979]
                                            String: "fetch-depth" [964,977]
                                            NUMBER [978,979]
                                                Number: 2 [978,979]
                            OBJECT [982,1024]
                                FIELD [983,1002]
                                    String: "name" [983,989]
                                    STRING [990,1002]
                                        String: "NVIDIA-SMI" [990,1002]
                                FIELD [1003,1023]
                                    String: "run" [1003,1008]
                                    STRING [1009,1023]
                                        String: "nvidia-smi\n" [1009,1023]
                            OBJECT [1025,1414]
                                FIELD [1026,1075]
                                    String: "name" [1026,1032]
                                    STRING [1033,1075]
                                        String: "Are GPUs recognized by our DL frameworks" [1033,1075]
                                FIELD [1076,1413]
                                    String: "run" [1076,1081]
                                    STRING [1082,1413]
                                        String: "python -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Cuda version:', torch.version.cuda)\"\npython -c \"import torch; print('CuDNN version:', torch.backends.cudnn.version())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [1082,1413]
                            OBJECT [1415,1539]
                                FIELD [1416,1447]
                                    String: "name" [1416,1422]
                                    STRING [1423,1447]
                                        String: "Fetch the tests to run" [1423,1447]
                                FIELD [1448,1538]
                                    String: "run" [1448,1453]
                                    STRING [1454,1538]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit | tee test_preparation.txt\n" [1454,1538]
                            OBJECT [1540,1668]
                                FIELD [1541,1570]
                                    String: "name" [1541,1547]
                                    STRING [1548,1570]
                                        String: "Report fetched tests" [1548,1570]
                                FIELD [1571,1606]
                                    String: "uses" [1571,1577]
                                    STRING [1578,1606]
                                        String: "actions/upload-artifact@v2" [1578,1606]
                                FIELD [1607,1667]
                                    String: "with" [1607,1613]
                                    OBJECT [1614,1667]
                                        FIELD [1615,1636]
                                            String: "name" [1615,1621]
                                            STRING [1622,1636]
                                                String: "test_fetched" [1622,1636]
                                        FIELD [1637,1666]
                                            String: "path" [1637,1643]
                                            STRING [1644,1666]
                                                String: "test_preparation.txt" [1644,1666]
                            OBJECT [1669,1849]
                                FIELD [1670,1708]
                                    String: "name" [1670,1676]
                                    STRING [1677,1708]
                                        String: "Run all non-slow tests on GPU" [1677,1708]
                                FIELD [1709,1848]
                                    String: "run" [1709,1714]
                                    STRING [1715,1848]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 2 --dist=loadfile -v --make-reports=tests_torch_gpu $(cat test_list.txt)\nfi\n" [1715,1848]
                            OBJECT [1850,1961]
                                FIELD [1851,1881]
                                    String: "name" [1851,1857]
                                    STRING [1858,1881]
                                        String: "Failure short reports" [1858,1881]
                                FIELD [1882,1905]
                                    String: "if" [1882,1886]
                                    STRING [1887,1905]
                                        String: "${{ failure() }}" [1887,1905]
                                FIELD [1906,1960]
                                    String: "run" [1906,1911]
                                    STRING [1912,1960]
                                        String: "cat reports/tests_torch_gpu_failures_short.txt" [1912,1960]
                            OBJECT [1962,2132]
                                FIELD [1963,2000]
                                    String: "name" [1963,1969]
                                    STRING [1970,2000]
                                        String: "Test suite reports artifacts" [1970,2000]
                                FIELD [2001,2023]
                                    String: "if" [2001,2005]
                                    STRING [2006,2023]
                                        String: "${{ always() }}" [2006,2023]
                                FIELD [2024,2059]
                                    String: "uses" [2024,2030]
                                    STRING [2031,2059]
                                        String: "actions/upload-artifact@v2" [2031,2059]
                                FIELD [2060,2131]
                                    String: "with" [2060,2066]
                                    OBJECT [2067,2131]
                                        FIELD [2068,2113]
                                            String: "name" [2068,2074]
                                            STRING [2075,2113]
                                                String: "run_all_tests_torch_gpu_test_reports" [2075,2113]
                                        FIELD [2114,2130]
                                            String: "path" [2114,2120]
                                            STRING [2121,2130]
                                                String: "reports" [2121,2130]
            FIELD [2135,3892]
                String: "run_tests_flax_gpu" [2135,2155]
                OBJECT [2156,3892]
                    FIELD [2157,2208]
                        String: "runs-on" [2157,2166]
                        ARRAY [2167,2208]
                            STRING [2168,2181]
                                String: "self-hosted" [2168,2181]
                            STRING [2182,2194]
                                String: "docker-gpu" [2182,2194]
                            STRING [2195,2207]
                                String: "single-gpu" [2195,2207]
                    FIELD [2209,2361]
                        String: "container" [2209,2220]
                        OBJECT [2221,2361]
                            FIELD [2222,2263]
                                String: "image" [2222,2229]
                                STRING [2230,2263]
                                    String: "tensorflow/tensorflow:2.4.1-gpu" [2230,2263]
                            FIELD [2264,2360]
                                String: "options" [2264,2273]
                                STRING [2274,2360]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [2274,2360]
                    FIELD [2362,3891]
                        String: "steps" [2362,2369]
                        ARRAY [2370,3891]
                            OBJECT [2371,2771]
                                FIELD [2372,2401]
                                    String: "name" [2372,2378]
                                    STRING [2379,2401]
                                        String: "Install dependencies" [2379,2401]
                                FIELD [2402,2770]
                                    String: "run" [2402,2407]
                                    STRING [2408,2770]
                                        String: "apt -y update && apt install -y software-properties-common && apt -y update && add-apt-repository -y ppa:git-core/ppa && apt -y update && apt install -y git\npip install --upgrade \"jax[cuda111]\" -f https://storage.googleapis.com/jax-releases/jax_releases.html\npip install --upgrade pip\npip install .[sklearn,testing,sentencepiece,flax,flax-speech,vision]\n" [2408,2770]
                            OBJECT [2772,2852]
                                FIELD [2773,2797]
                                    String: "name" [2773,2779]
                                    STRING [2780,2797]
                                        String: "Launcher docker" [2780,2797]
                                FIELD [2798,2826]
                                    String: "uses" [2798,2804]
                                    STRING [2805,2826]
                                        String: "actions/checkout@v2" [2805,2826]
                                FIELD [2827,2851]
                                    String: "with" [2827,2833]
                                    OBJECT [2834,2851]
                                        FIELD [2835,2850]
                                            String: "fetch-depth" [2835,2848]
                                            NUMBER [2849,2850]
                                                Number: 2 [2849,2850]
                            OBJECT [2853,2920]
                                FIELD [2854,2873]
                                    String: "name" [2854,2860]
                                    STRING [2861,2873]
                                        String: "NVIDIA-SMI" [2861,2873]
                                FIELD [2874,2898]
                                    String: "continue-on-error" [2874,2893]
                                    TRUE [2894,2898]
                                FIELD [2899,2919]
                                    String: "run" [2899,2904]
                                    STRING [2905,2919]
                                        String: "nvidia-smi\n" [2905,2919]
                            OBJECT [2921,3175]
                                FIELD [2922,2971]
                                    String: "name" [2922,2928]
                                    STRING [2929,2971]
                                        String: "Are GPUs recognized by our DL frameworks" [2929,2971]
                                FIELD [2972,3174]
                                    String: "run" [2972,2977]
                                    STRING [2978,3174]
                                        String: "python -c \"from jax.lib import xla_bridge; print('GPU available:', xla_bridge.get_backend().platform)\"\npython -c \"import jax; print('Number of GPUs available:', len(jax.local_devices()))\"\n" [2978,3174]
                            OBJECT [3176,3300]
                                FIELD [3177,3208]
                                    String: "name" [3177,3183]
                                    STRING [3184,3208]
                                        String: "Fetch the tests to run" [3184,3208]
                                FIELD [3209,3299]
                                    String: "run" [3209,3214]
                                    STRING [3215,3299]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit | tee test_preparation.txt\n" [3215,3299]
                            OBJECT [3301,3429]
                                FIELD [3302,3331]
                                    String: "name" [3302,3308]
                                    STRING [3309,3331]
                                        String: "Report fetched tests" [3309,3331]
                                FIELD [3332,3367]
                                    String: "uses" [3332,3338]
                                    STRING [3339,3367]
                                        String: "actions/upload-artifact@v2" [3339,3367]
                                FIELD [3368,3428]
                                    String: "with" [3368,3374]
                                    OBJECT [3375,3428]
                                        FIELD [3376,3397]
                                            String: "name" [3376,3382]
                                            STRING [3383,3397]
                                                String: "test_fetched" [3383,3397]
                                        FIELD [3398,3427]
                                            String: "path" [3398,3404]
                                            STRING [3405,3427]
                                                String: "test_preparation.txt" [3405,3427]
                            OBJECT [3430,3609]
                                FIELD [3431,3469]
                                    String: "name" [3431,3437]
                                    STRING [3438,3469]
                                        String: "Run all non-slow tests on GPU" [3438,3469]
                                FIELD [3470,3608]
                                    String: "run" [3470,3475]
                                    STRING [3476,3608]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 2 --dist=loadfile -v --make-reports=tests_flax_gpu $(cat test_list.txt)\nfi\n" [3476,3608]
                            OBJECT [3610,3720]
                                FIELD [3611,3641]
                                    String: "name" [3611,3617]
                                    STRING [3618,3641]
                                        String: "Failure short reports" [3618,3641]
                                FIELD [3642,3665]
                                    String: "if" [3642,3646]
                                    STRING [3647,3665]
                                        String: "${{ failure() }}" [3647,3665]
                                FIELD [3666,3719]
                                    String: "run" [3666,3671]
                                    STRING [3672,3719]
                                        String: "cat reports/tests_flax_gpu_failures_short.txt" [3672,3719]
                            OBJECT [3721,3890]
                                FIELD [3722,3759]
                                    String: "name" [3722,3728]
                                    STRING [3729,3759]
                                        String: "Test suite reports artifacts" [3729,3759]
                                FIELD [3760,3782]
                                    String: "if" [3760,3764]
                                    STRING [3765,3782]
                                        String: "${{ always() }}" [3765,3782]
                                FIELD [3783,3818]
                                    String: "uses" [3783,3789]
                                    STRING [3790,3818]
                                        String: "actions/upload-artifact@v2" [3790,3818]
                                FIELD [3819,3889]
                                    String: "with" [3819,3825]
                                    OBJECT [3826,3889]
                                        FIELD [3827,3871]
                                            String: "name" [3827,3833]
                                            STRING [3834,3871]
                                                String: "run_all_tests_flax_gpu_test_reports" [3834,3871]
                                        FIELD [3872,3888]
                                            String: "path" [3872,3878]
                                            STRING [3879,3888]
                                                String: "reports" [3879,3888]
            FIELD [3893,5804]
                String: "run_tests_torch_multi_gpu" [3893,3920]
                OBJECT [3921,5804]
                    FIELD [3922,3972]
                        String: "runs-on" [3922,3931]
                        ARRAY [3932,3972]
                            STRING [3933,3946]
                                String: "self-hosted" [3933,3946]
                            STRING [3947,3959]
                                String: "docker-gpu" [3947,3959]
                            STRING [3960,3971]
                                String: "multi-gpu" [3960,3971]
                    FIELD [3973,4141]
                        String: "container" [3973,3984]
                        OBJECT [3985,4141]
                            FIELD [3986,4041]
                                String: "image" [3986,3993]
                                STRING [3994,4041]
                                    String: "pytorch/pytorch:1.9.0-cuda11.1-cudnn8-runtime" [3994,4041]
                            FIELD [4042,4140]
                                String: "options" [4042,4051]
                                STRING [4052,4140]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [4052,4140]
                    FIELD [4142,5803]
                        String: "steps" [4142,4149]
                        ARRAY [4150,5803]
                            OBJECT [4151,4491]
                                FIELD [4152,4181]
                                    String: "name" [4152,4158]
                                    STRING [4159,4181]
                                        String: "Install dependencies" [4159,4181]
                                FIELD [4182,4490]
                                    String: "run" [4182,4187]
                                    STRING [4188,4490]
                                        String: "apt -y update && apt install -y software-properties-common && apt -y update && add-apt-repository -y ppa:git-core/ppa && apt -y update && apt install -y git\napt install -y libsndfile1-dev\npip install --upgrade pip\npip install .[sklearn,testing,onnxruntime,sentencepiece,torch-speech,vision,timm]\n" [4188,4490]
                            OBJECT [4492,4572]
                                FIELD [4493,4517]
                                    String: "name" [4493,4499]
                                    STRING [4500,4517]
                                        String: "Launcher docker" [4500,4517]
                                FIELD [4518,4546]
                                    String: "uses" [4518,4524]
                                    STRING [4525,4546]
                                        String: "actions/checkout@v2" [4525,4546]
                                FIELD [4547,4571]
                                    String: "with" [4547,4553]
                                    OBJECT [4554,4571]
                                        FIELD [4555,4570]
                                            String: "fetch-depth" [4555,4568]
                                            NUMBER [4569,4570]
                                                Number: 2 [4569,4570]
                            OBJECT [4573,4640]
                                FIELD [4574,4593]
                                    String: "name" [4574,4580]
                                    STRING [4581,4593]
                                        String: "NVIDIA-SMI" [4581,4593]
                                FIELD [4594,4618]
                                    String: "continue-on-error" [4594,4613]
                                    TRUE [4614,4618]
                                FIELD [4619,4639]
                                    String: "run" [4619,4624]
                                    STRING [4625,4639]
                                        String: "nvidia-smi\n" [4625,4639]
                            OBJECT [4641,5030]
                                FIELD [4642,4691]
                                    String: "name" [4642,4648]
                                    STRING [4649,4691]
                                        String: "Are GPUs recognized by our DL frameworks" [4649,4691]
                                FIELD [4692,5029]
                                    String: "run" [4692,4697]
                                    STRING [4698,5029]
                                        String: "python -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Cuda version:', torch.version.cuda)\"\npython -c \"import torch; print('CuDNN version:', torch.backends.cudnn.version())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [4698,5029]
                            OBJECT [5031,5155]
                                FIELD [5032,5063]
                                    String: "name" [5032,5038]
                                    STRING [5039,5063]
                                        String: "Fetch the tests to run" [5039,5063]
                                FIELD [5064,5154]
                                    String: "run" [5064,5069]
                                    STRING [5070,5154]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit | tee test_preparation.txt\n" [5070,5154]
                            OBJECT [5156,5284]
                                FIELD [5157,5186]
                                    String: "name" [5157,5163]
                                    STRING [5164,5186]
                                        String: "Report fetched tests" [5164,5186]
                                FIELD [5187,5222]
                                    String: "uses" [5187,5193]
                                    STRING [5194,5222]
                                        String: "actions/upload-artifact@v2" [5194,5222]
                                FIELD [5223,5283]
                                    String: "with" [5223,5229]
                                    OBJECT [5230,5283]
                                        FIELD [5231,5252]
                                            String: "name" [5231,5237]
                                            STRING [5238,5252]
                                                String: "test_fetched" [5238,5252]
                                        FIELD [5253,5282]
                                            String: "path" [5253,5259]
                                            STRING [5260,5282]
                                                String: "test_preparation.txt" [5260,5282]
                            OBJECT [5285,5507]
                                FIELD [5286,5324]
                                    String: "name" [5286,5292]
                                    STRING [5293,5324]
                                        String: "Run all non-slow tests on GPU" [5293,5324]
                                FIELD [5325,5360]
                                    String: "env" [5325,5330]
                                    OBJECT [5331,5360]
                                        FIELD [5332,5359]
                                            String: "MKL_SERVICE_FORCE_INTEL" [5332,5357]
                                            NUMBER [5358,5359]
                                                Number: 1 [5358,5359]
                                FIELD [5361,5506]
                                    String: "run" [5361,5366]
                                    STRING [5367,5506]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 2 --dist=loadfile -v --make-reports=tests_torch_multi_gpu $(cat test_list.txt)\nfi\n" [5367,5506]
                            OBJECT [5508,5625]
                                FIELD [5509,5539]
                                    String: "name" [5509,5515]
                                    STRING [5516,5539]
                                        String: "Failure short reports" [5516,5539]
                                FIELD [5540,5563]
                                    String: "if" [5540,5544]
                                    STRING [5545,5563]
                                        String: "${{ failure() }}" [5545,5563]
                                FIELD [5564,5624]
                                    String: "run" [5564,5569]
                                    STRING [5570,5624]
                                        String: "cat reports/tests_torch_multi_gpu_failures_short.txt" [5570,5624]
                            OBJECT [5626,5802]
                                FIELD [5627,5664]
                                    String: "name" [5627,5633]
                                    STRING [5634,5664]
                                        String: "Test suite reports artifacts" [5634,5664]
                                FIELD [5665,5687]
                                    String: "if" [5665,5669]
                                    STRING [5670,5687]
                                        String: "${{ always() }}" [5670,5687]
                                FIELD [5688,5723]
                                    String: "uses" [5688,5694]
                                    STRING [5695,5723]
                                        String: "actions/upload-artifact@v2" [5695,5723]
                                FIELD [5724,5801]
                                    String: "with" [5724,5730]
                                    OBJECT [5731,5801]
                                        FIELD [5732,5783]
                                            String: "name" [5732,5738]
                                            STRING [5739,5783]
                                                String: "run_all_tests_torch_multi_gpu_test_reports" [5739,5783]
                                        FIELD [5784,5800]
                                            String: "path" [5784,5790]
                                            STRING [5791,5800]
                                                String: "reports" [5791,5800]
            FIELD [5805,7514]
                String: "run_tests_torch_cuda_extensions_gpu" [5805,5842]
                OBJECT [5843,7514]
                    FIELD [5844,5895]
                        String: "runs-on" [5844,5853]
                        ARRAY [5854,5895]
                            STRING [5855,5868]
                                String: "self-hosted" [5855,5868]
                            STRING [5869,5881]
                                String: "docker-gpu" [5869,5881]
                            STRING [5882,5894]
                                String: "single-gpu" [5882,5894]
                    FIELD [5896,6049]
                        String: "container" [5896,5907]
                        OBJECT [5908,6049]
                            FIELD [5909,5951]
                                String: "image" [5909,5916]
                                STRING [5917,5951]
                                    String: "nvcr.io/nvidia/pytorch:21.03-py3" [5917,5951]
                            FIELD [5952,6048]
                                String: "options" [5952,5961]
                                STRING [5962,6048]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [5962,6048]
                    FIELD [6050,7513]
                        String: "steps" [6050,6057]
                        ARRAY [6058,7513]
                            OBJECT [6059,6139]
                                FIELD [6060,6084]
                                    String: "name" [6060,6066]
                                    STRING [6067,6084]
                                        String: "Launcher docker" [6067,6084]
                                FIELD [6085,6113]
                                    String: "uses" [6085,6091]
                                    STRING [6092,6113]
                                        String: "actions/checkout@v2" [6092,6113]
                                FIELD [6114,6138]
                                    String: "with" [6114,6120]
                                    OBJECT [6121,6138]
                                        FIELD [6122,6137]
                                            String: "fetch-depth" [6122,6135]
                                            NUMBER [6136,6137]
                                                Number: 2 [6136,6137]
                            OBJECT [6140,6182]
                                FIELD [6141,6160]
                                    String: "name" [6141,6147]
                                    STRING [6148,6160]
                                        String: "NVIDIA-SMI" [6148,6160]
                                FIELD [6161,6181]
                                    String: "run" [6161,6166]
                                    STRING [6167,6181]
                                        String: "nvidia-smi\n" [6167,6181]
                            OBJECT [6183,6328]
                                FIELD [6184,6213]
                                    String: "name" [6184,6190]
                                    STRING [6191,6213]
                                        String: "Install dependencies" [6191,6213]
                                FIELD [6214,6327]
                                    String: "run" [6214,6219]
                                    STRING [6220,6327]
                                        String: "apt -y update && apt install -y libaio-dev\npip install --upgrade pip\npip install .[testing,deepspeed]\n" [6220,6327]
                            OBJECT [6329,6718]
                                FIELD [6330,6379]
                                    String: "name" [6330,6336]
                                    STRING [6337,6379]
                                        String: "Are GPUs recognized by our DL frameworks" [6337,6379]
                                FIELD [6380,6717]
                                    String: "run" [6380,6385]
                                    STRING [6386,6717]
                                        String: "python -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Cuda version:', torch.version.cuda)\"\npython -c \"import torch; print('CuDNN version:', torch.backends.cudnn.version())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [6386,6717]
                            OBJECT [6719,6884]
                                FIELD [6720,6751]
                                    String: "name" [6720,6726]
                                    STRING [6727,6751]
                                        String: "Fetch the tests to run" [6727,6751]
                                FIELD [6752,6883]
                                    String: "run" [6752,6757]
                                    STRING [6758,6883]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit --filters tests/deepspeed tests/extended | tee test_preparation.txt\n" [6758,6883]
                            OBJECT [6885,7013]
                                FIELD [6886,6915]
                                    String: "name" [6886,6892]
                                    STRING [6893,6915]
                                        String: "Report fetched tests" [6893,6915]
                                FIELD [6916,6951]
                                    String: "uses" [6916,6922]
                                    STRING [6923,6951]
                                        String: "actions/upload-artifact@v2" [6923,6951]
                                FIELD [6952,7012]
                                    String: "with" [6952,6958]
                                    OBJECT [6959,7012]
                                        FIELD [6960,6981]
                                            String: "name" [6960,6966]
                                            STRING [6967,6981]
                                                String: "test_fetched" [6967,6981]
                                        FIELD [6982,7011]
                                            String: "path" [6982,6988]
                                            STRING [6989,7011]
                                                String: "test_preparation.txt" [6989,7011]
                            OBJECT [7014,7201]
                                FIELD [7015,7044]
                                    String: "name" [7015,7021]
                                    STRING [7022,7044]
                                        String: "Run all tests on GPU" [7022,7044]
                                FIELD [7045,7200]
                                    String: "run" [7045,7050]
                                    STRING [7051,7200]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 1 --dist=loadfile -v --make-reports=tests_torch_cuda_extensions_gpu $(cat test_list.txt)\nfi\n" [7051,7200]
                            OBJECT [7202,7329]
                                FIELD [7203,7233]
                                    String: "name" [7203,7209]
                                    STRING [7210,7233]
                                        String: "Failure short reports" [7210,7233]
                                FIELD [7234,7257]
                                    String: "if" [7234,7238]
                                    STRING [7239,7257]
                                        String: "${{ failure() }}" [7239,7257]
                                FIELD [7258,7328]
                                    String: "run" [7258,7263]
                                    STRING [7264,7328]
                                        String: "cat reports/tests_torch_cuda_extensions_gpu_failures_short.txt" [7264,7328]
                            OBJECT [7330,7512]
                                FIELD [7331,7368]
                                    String: "name" [7331,7337]
                                    STRING [7338,7368]
                                        String: "Test suite reports artifacts" [7338,7368]
                                FIELD [7369,7391]
                                    String: "if" [7369,7373]
                                    STRING [7374,7391]
                                        String: "${{ always() }}" [7374,7391]
                                FIELD [7392,7427]
                                    String: "uses" [7392,7398]
                                    STRING [7399,7427]
                                        String: "actions/upload-artifact@v2" [7399,7427]
                                FIELD [7428,7511]
                                    String: "with" [7428,7434]
                                    OBJECT [7435,7511]
                                        FIELD [7436,7493]
                                            String: "name" [7436,7442]
                                            STRING [7443,7493]
                                                String: "run_tests_torch_cuda_extensions_gpu_test_reports" [7443,7493]
                                        FIELD [7494,7510]
                                            String: "path" [7494,7500]
                                            STRING [7501,7510]
                                                String: "reports" [7501,7510]
            FIELD [7515,9282]
                String: "run_tests_torch_cuda_extensions_multi_gpu" [7515,7558]
                OBJECT [7559,9282]
                    FIELD [7560,7610]
                        String: "runs-on" [7560,7569]
                        ARRAY [7570,7610]
                            STRING [7571,7584]
                                String: "self-hosted" [7571,7584]
                            STRING [7585,7597]
                                String: "docker-gpu" [7585,7597]
                            STRING [7598,7609]
                                String: "multi-gpu" [7598,7609]
                    FIELD [7611,7764]
                        String: "container" [7611,7622]
                        OBJECT [7623,7764]
                            FIELD [7624,7666]
                                String: "image" [7624,7631]
                                STRING [7632,7666]
                                    String: "nvcr.io/nvidia/pytorch:21.03-py3" [7632,7666]
                            FIELD [7667,7763]
                                String: "options" [7667,7676]
                                STRING [7677,7763]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [7677,7763]
                    FIELD [7765,9281]
                        String: "steps" [7765,7772]
                        ARRAY [7773,9281]
                            OBJECT [7774,7854]
                                FIELD [7775,7799]
                                    String: "name" [7775,7781]
                                    STRING [7782,7799]
                                        String: "Launcher docker" [7782,7799]
                                FIELD [7800,7828]
                                    String: "uses" [7800,7806]
                                    STRING [7807,7828]
                                        String: "actions/checkout@v2" [7807,7828]
                                FIELD [7829,7853]
                                    String: "with" [7829,7835]
                                    OBJECT [7836,7853]
                                        FIELD [7837,7852]
                                            String: "fetch-depth" [7837,7850]
                                            NUMBER [7851,7852]
                                                Number: 2 [7851,7852]
                            OBJECT [7855,7922]
                                FIELD [7856,7875]
                                    String: "name" [7856,7862]
                                    STRING [7863,7875]
                                        String: "NVIDIA-SMI" [7863,7875]
                                FIELD [7876,7900]
                                    String: "continue-on-error" [7876,7895]
                                    TRUE [7896,7900]
                                FIELD [7901,7921]
                                    String: "run" [7901,7906]
                                    STRING [7907,7921]
                                        String: "nvidia-smi\n" [7907,7921]
                            OBJECT [7923,8078]
                                FIELD [7924,7953]
                                    String: "name" [7924,7930]
                                    STRING [7931,7953]
                                        String: "Install dependencies" [7931,7953]
                                FIELD [7954,8077]
                                    String: "run" [7954,7959]
                                    STRING [7960,8077]
                                        String: "apt -y update && apt install -y libaio-dev\npip install --upgrade pip\npip install .[testing,deepspeed,fairscale]\n" [7960,8077]
                            OBJECT [8079,8468]
                                FIELD [8080,8129]
                                    String: "name" [8080,8086]
                                    STRING [8087,8129]
                                        String: "Are GPUs recognized by our DL frameworks" [8087,8129]
                                FIELD [8130,8467]
                                    String: "run" [8130,8135]
                                    STRING [8136,8467]
                                        String: "python -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Cuda version:', torch.version.cuda)\"\npython -c \"import torch; print('CuDNN version:', torch.backends.cudnn.version())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [8136,8467]
                            OBJECT [8469,8634]
                                FIELD [8470,8501]
                                    String: "name" [8470,8476]
                                    STRING [8477,8501]
                                        String: "Fetch the tests to run" [8477,8501]
                                FIELD [8502,8633]
                                    String: "run" [8502,8507]
                                    STRING [8508,8633]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit --filters tests/deepspeed tests/extended | tee test_preparation.txt\n" [8508,8633]
                            OBJECT [8635,8763]
                                FIELD [8636,8665]
                                    String: "name" [8636,8642]
                                    STRING [8643,8665]
                                        String: "Report fetched tests" [8643,8665]
                                FIELD [8666,8701]
                                    String: "uses" [8666,8672]
                                    STRING [8673,8701]
                                        String: "actions/upload-artifact@v2" [8673,8701]
                                FIELD [8702,8762]
                                    String: "with" [8702,8708]
                                    OBJECT [8709,8762]
                                        FIELD [8710,8731]
                                            String: "name" [8710,8716]
                                            STRING [8717,8731]
                                                String: "test_fetched" [8717,8731]
                                        FIELD [8732,8761]
                                            String: "path" [8732,8738]
                                            STRING [8739,8761]
                                                String: "test_preparation.txt" [8739,8761]
                            OBJECT [8764,8957]
                                FIELD [8765,8794]
                                    String: "name" [8765,8771]
                                    STRING [8772,8794]
                                        String: "Run all tests on GPU" [8772,8794]
                                FIELD [8795,8956]
                                    String: "run" [8795,8800]
                                    STRING [8801,8956]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 1 --dist=loadfile -v --make-reports=tests_torch_cuda_extensions_multi_gpu $(cat test_list.txt)\nfi\n" [8801,8956]
                            OBJECT [8958,9091]
                                FIELD [8959,8989]
                                    String: "name" [8959,8965]
                                    STRING [8966,8989]
                                        String: "Failure short reports" [8966,8989]
                                FIELD [8990,9013]
                                    String: "if" [8990,8994]
                                    STRING [8995,9013]
                                        String: "${{ failure() }}" [8995,9013]
                                FIELD [9014,9090]
                                    String: "run" [9014,9019]
                                    STRING [9020,9090]
                                        String: "cat reports/tests_torch_cuda_extensions_multi_gpu_failures_short.txt" [9020,9090]
                            OBJECT [9092,9280]
                                FIELD [9093,9130]
                                    String: "name" [9093,9099]
                                    STRING [9100,9130]
                                        String: "Test suite reports artifacts" [9100,9130]
                                FIELD [9131,9153]
                                    String: "if" [9131,9135]
                                    STRING [9136,9153]
                                        String: "${{ always() }}" [9136,9153]
                                FIELD [9154,9189]
                                    String: "uses" [9154,9160]
                                    STRING [9161,9189]
                                        String: "actions/upload-artifact@v2" [9161,9189]
                                FIELD [9190,9279]
                                    String: "with" [9190,9196]
                                    OBJECT [9197,9279]
                                        FIELD [9198,9261]
                                            String: "name" [9198,9204]
                                            STRING [9205,9261]
                                                String: "run_tests_torch_cuda_extensions_multi_gpu_test_reports" [9205,9261]
                                        FIELD [9262,9278]
                                            String: "path" [9262,9268]
                                            STRING [9269,9278]
                                                String: "reports" [9269,9278]
            FIELD [9283,9827]
                String: "send_results" [9283,9297]
                OBJECT [9298,9827]
                    FIELD [9299,9331]
                        String: "name" [9299,9305]
                        STRING [9306,9331]
                            String: "Send results to webhook" [9306,9331]
                    FIELD [9332,9357]
                        String: "runs-on" [9332,9341]
                        STRING [9342,9357]
                            String: "ubuntu-latest" [9342,9357]
                    FIELD [9358,9373]
                        String: "if" [9358,9362]
                        STRING [9363,9373]
                            String: "always()" [9363,9373]
                    FIELD [9374,9515]
                        String: "needs" [9374,9381]
                        ARRAY [9382,9515]
                            STRING [9383,9404]
                                String: "run_tests_torch_gpu" [9383,9404]
                            STRING [9405,9432]
                                String: "run_tests_torch_multi_gpu" [9405,9432]
                            STRING [9433,9470]
                                String: "run_tests_torch_cuda_extensions_gpu" [9433,9470]
                            STRING [9471,9514]
                                String: "run_tests_torch_cuda_extensions_multi_gpu" [9471,9514]
                    FIELD [9516,9826]
                        String: "steps" [9516,9523]
                        ARRAY [9524,9826]
                            OBJECT [9525,9555]
                                FIELD [9526,9554]
                                    String: "uses" [9526,9532]
                                    STRING [9533,9554]
                                        String: "actions/checkout@v2" [9533,9554]
                            OBJECT [9556,9595]
                                FIELD [9557,9594]
                                    String: "uses" [9557,9563]
                                    STRING [9564,9594]
                                        String: "actions/download-artifact@v2" [9564,9594]
                            OBJECT [9596,9825]
                                FIELD [9597,9627]
                                    String: "name" [9597,9603]
                                    STRING [9604,9627]
                                        String: "Send message to Slack" [9604,9627]
                                FIELD [9628,9751]
                                    String: "env" [9628,9633]
                                    OBJECT [9634,9751]
                                        FIELD [9635,9691]
                                            String: "CI_SLACK_BOT_TOKEN" [9635,9655]
                                            STRING [9656,9691]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [9656,9691]
                                        FIELD [9692,9750]
                                            String: "CI_SLACK_CHANNEL_ID" [9692,9713]
                                            STRING [9714,9750]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [9714,9750]
                                FIELD [9752,9824]
                                    String: "run" [9752,9757]
                                    STRING [9758,9824]
                                        String: "pip install slack_sdk\npython utils/notification_service.py push" [9758,9824]