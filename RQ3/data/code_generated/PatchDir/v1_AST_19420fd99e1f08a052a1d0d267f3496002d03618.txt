OBJECT [0,8895]
    FIELD [1,40]
        String: "name" [1,7]
        STRING [8,40]
            String: "Self-hosted runner (scheduled)" [8,40]
    FIELD [41,108]
        String: "on" [41,45]
        OBJECT [46,108]
            FIELD [47,73]
                String: "repository_dispatch" [47,68]
                NULL [69,73]
            FIELD [74,107]
                String: "schedule" [74,84]
                ARRAY [85,107]
                    OBJECT [86,106]
                        FIELD [87,105]
                            String: "cron" [87,93]
                            STRING [94,105]
                                String: "0 2 * * *" [94,105]
    FIELD [109,333]
        String: "env" [109,114]
        OBJECT [115,333]
            FIELD [116,138]
                String: "HF_HOME" [116,125]
                STRING [126,138]
                    String: "/mnt/cache" [126,138]
            FIELD [139,164]
                String: "TRANSFORMERS_IS_CI" [139,159]
                TRUE [160,164]
            FIELD [165,184]
                String: "OMP_NUM_THREADS" [165,182]
                NUMBER [183,184]
                    Number: 8 [183,184]
            FIELD [185,204]
                String: "MKL_NUM_THREADS" [185,202]
                NUMBER [203,204]
                    Number: 8 [203,204]
            FIELD [205,220]
                String: "RUN_SLOW" [205,215]
                TRUE [216,220]
            FIELD [221,273]
                String: "SIGOPT_API_TOKEN" [221,239]
                STRING [240,273]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [240,273]
            FIELD [274,306]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [274,301]
                TRUE [302,306]
            FIELD [307,332]
                String: "RUN_PT_TF_CROSS_TESTS" [307,330]
                NUMBER [331,332]
                    Number: 1 [331,332]
    FIELD [334,8894]
        String: "jobs" [334,340]
        OBJECT [341,8894]
            FIELD [342,1820]
                String: "setup" [342,349]
                OBJECT [350,1820]
                    FIELD [351,365]
                        String: "name" [351,357]
                        STRING [358,365]
                            String: "Setup" [358,365]
                    FIELD [366,441]
                        String: "strategy" [366,376]
                        OBJECT [377,441]
                            FIELD [378,440]
                                String: "matrix" [378,386]
                                OBJECT [387,440]
                                    FIELD [388,439]
                                        String: "machines" [388,398]
                                        ARRAY [399,439]
                                            STRING [400,418]
                                                String: "multi-gpu-docker" [400,418]
                                            STRING [419,438]
                                                String: "single-gpu-docker" [419,438]
                    FIELD [442,476]
                        String: "runs-on" [442,451]
                        STRING [452,476]
                            String: "${{ matrix.machines }}" [452,476]
                    FIELD [477,637]
                        String: "container" [477,488]
                        OBJECT [489,637]
                            FIELD [490,539]
                                String: "image" [490,497]
                                STRING [498,539]
                                    String: "huggingface/transformers-all-latest-gpu" [498,539]
                            FIELD [540,636]
                                String: "options" [540,549]
                                STRING [550,636]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [550,636]
                    FIELD [638,699]
                        String: "outputs" [638,647]
                        OBJECT [648,699]
                            FIELD [649,698]
                                String: "matrix" [649,657]
                                STRING [658,698]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [658,698]
                    FIELD [700,1819]
                        String: "steps" [700,707]
                        ARRAY [708,1819]
                            OBJECT [709,822]
                                FIELD [710,731]
                                    String: "name" [710,716]
                                    STRING [717,731]
                                        String: "Update clone" [717,731]
                                FIELD [732,767]
                                    String: "working-directory" [732,751]
                                    STRING [752,767]
                                        String: "/transformers" [752,767]
                                FIELD [768,821]
                                    String: "run" [768,773]
                                    STRING [774,821]
                                        String: "git fetch && git checkout ${{ github.sha }}\n" [774,821]
                            OBJECT [823,961]
                                FIELD [824,840]
                                    String: "name" [824,830]
                                    STRING [831,840]
                                        String: "Cleanup" [831,840]
                                FIELD [841,876]
                                    String: "working-directory" [841,860]
                                    STRING [861,876]
                                        String: "/transformers" [861,876]
                                FIELD [877,960]
                                    String: "run" [877,882]
                                    STRING [883,960]
                                        String: "rm -rf tests/__pycache__\nrm -rf tests/models/__pycache__\nrm -rf reports\n" [883,960]
                            OBJECT [962,1396]
                                FIELD [963,980]
                                    String: "id" [963,967]
                                    STRING [968,980]
                                        String: "set-matrix" [968,980]
                                FIELD [981,1013]
                                    String: "name" [981,987]
                                    STRING [988,1013]
                                        String: "Identify models to test" [988,1013]
                                FIELD [1014,1055]
                                    String: "working-directory" [1014,1033]
                                    STRING [1034,1055]
                                        String: "/transformers/tests" [1034,1055]
                                FIELD [1056,1395]
                                    String: "run" [1056,1061]
                                    STRING [1062,1395]
                                        String: "echo \"::set-output name=matrix::$(python3 -c 'import os; tests = os.getcwd(); model_tests = os.listdir(os.path.join(tests, \"models\")); d1 = sorted(list(filter(os.path.isdir, os.listdir(tests)))); d2 = sorted(list(filter(os.path.isdir, [f\"models/{x}\" for x in model_tests]))); d1.remove(\"models\"); d = d2 + d1; print(d)')\"\n" [1062,1395]
                            OBJECT [1397,1439]
                                FIELD [1398,1417]
                                    String: "name" [1398,1404]
                                    STRING [1405,1417]
                                        String: "NVIDIA-SMI" [1405,1417]
                                FIELD [1418,1438]
                                    String: "run" [1418,1423]
                                    STRING [1424,1438]
                                        String: "nvidia-smi\n" [1424,1438]
                            OBJECT [1440,1818]
                                FIELD [1441,1464]
                                    String: "name" [1441,1447]
                                    STRING [1448,1464]
                                        String: "GPU visibility" [1448,1464]
                                FIELD [1465,1500]
                                    String: "working-directory" [1465,1484]
                                    STRING [1485,1500]
                                        String: "/transformers" [1485,1500]
                                FIELD [1501,1817]
                                    String: "run" [1501,1506]
                                    STRING [1507,1817]
                                        String: "utils/print_env_pt.py\nTF_CPP_MIN_LOG_LEVEL=3 python3 -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python3 -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [1507,1817]
            FIELD [1821,3312]
                String: "run_tests_gpu" [1821,1836]
                OBJECT [1837,3312]
                    FIELD [1838,1858]
                        String: "name" [1838,1844]
                        STRING [1845,1858]
                            String: "Model tests" [1845,1858]
                    FIELD [1859,2008]
                        String: "strategy" [1859,1869]
                        OBJECT [1870,2008]
                            FIELD [1871,1888]
                                String: "fail-fast" [1871,1882]
                                FALSE [1883,1888]
                            FIELD [1889,2007]
                                String: "matrix" [1889,1897]
                                OBJECT [1898,2007]
                                    FIELD [1899,1954]
                                        String: "folders" [1899,1908]
                                        STRING [1909,1954]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [1909,1954]
                                    FIELD [1955,2006]
                                        String: "machines" [1955,1965]
                                        ARRAY [1966,2006]
                                            STRING [1967,1985]
                                                String: "multi-gpu-docker" [1967,1985]
                                            STRING [1986,2005]
                                                String: "single-gpu-docker" [1986,2005]
                    FIELD [2009,2043]
                        String: "runs-on" [2009,2018]
                        STRING [2019,2043]
                            String: "${{ matrix.machines }}" [2019,2043]
                    FIELD [2044,2204]
                        String: "container" [2044,2055]
                        OBJECT [2056,2204]
                            FIELD [2057,2106]
                                String: "image" [2057,2064]
                                STRING [2065,2106]
                                    String: "huggingface/transformers-all-latest-gpu" [2065,2106]
                            FIELD [2107,2203]
                                String: "options" [2107,2116]
                                STRING [2117,2203]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [2117,2203]
                    FIELD [2205,2220]
                        String: "needs" [2205,2212]
                        STRING [2213,2220]
                            String: "setup" [2213,2220]
                    FIELD [2221,3311]
                        String: "steps" [2221,2228]
                        ARRAY [2229,3311]
                            OBJECT [2230,2530]
                                FIELD [2231,2273]
                                    String: "name" [2231,2237]
                                    STRING [2238,2273]
                                        String: "Echo folder ${{ matrix.folders }}" [2238,2273]
                                FIELD [2274,2288]
                                    String: "shell" [2274,2281]
                                    STRING [2282,2288]
                                        String: "bash" [2282,2288]
                                FIELD [2289,2529]
                                    String: "run" [2289,2294]
                                    STRING [2295,2529]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\necho \"$matrix_folders\"\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [2295,2529]
                            OBJECT [2531,2642]
                                FIELD [2532,2553]
                                    String: "name" [2532,2538]
                                    STRING [2539,2553]
                                        String: "Update clone" [2539,2553]
                                FIELD [2554,2589]
                                    String: "working-directory" [2554,2573]
                                    STRING [2574,2589]
                                        String: "/transformers" [2574,2589]
                                FIELD [2590,2641]
                                    String: "run" [2590,2595]
                                    STRING [2596,2641]
                                        String: "git fetch && git checkout ${{ github.sha }}" [2596,2641]
                            OBJECT [2643,2837]
                                FIELD [2644,2673]
                                    String: "name" [2644,2650]
                                    STRING [2651,2673]
                                        String: "Run all tests on GPU" [2651,2673]
                                FIELD [2674,2709]
                                    String: "working-directory" [2674,2693]
                                    STRING [2694,2709]
                                        String: "/transformers" [2694,2709]
                                FIELD [2710,2836]
                                    String: "run" [2710,2715]
                                    STRING [2716,2836]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machines }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [2716,2836]
                            OBJECT [2838,3027]
                                FIELD [2839,2869]
                                    String: "name" [2839,2845]
                                    STRING [2846,2869]
                                        String: "Failure short reports" [2846,2869]
                                FIELD [2870,2893]
                                    String: "if" [2870,2874]
                                    STRING [2875,2893]
                                        String: "${{ failure() }}" [2875,2893]
                                FIELD [2894,2918]
                                    String: "continue-on-error" [2894,2913]
                                    TRUE [2914,2918]
                                FIELD [2919,3026]
                                    String: "run" [2919,2924]
                                    STRING [2925,3026]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [2925,3026]
                            OBJECT [3028,3310]
                                FIELD [3029,3066]
                                    String: "name" [3029,3035]
                                    STRING [3036,3066]
                                        String: "Test suite reports artifacts" [3036,3066]
                                FIELD [3067,3089]
                                    String: "if" [3067,3071]
                                    STRING [3072,3089]
                                        String: "${{ always() }}" [3072,3089]
                                FIELD [3090,3125]
                                    String: "uses" [3090,3096]
                                    STRING [3097,3125]
                                        String: "actions/upload-artifact@v2" [3097,3125]
                                FIELD [3126,3309]
                                    String: "with" [3126,3132]
                                    OBJECT [3133,3309]
                                        FIELD [3134,3222]
                                            String: "name" [3134,3140]
                                            STRING [3141,3222]
                                                String: "${{ matrix.machines }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports" [3141,3222]
                                        FIELD [3223,3308]
                                            String: "path" [3223,3229]
                                            STRING [3230,3308]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_gpu_${{ matrix.folders }}" [3230,3308]
            FIELD [3313,4238]
                String: "run_examples_gpu" [3313,3331]
                OBJECT [3332,4238]
                    FIELD [3333,3360]
                        String: "name" [3333,3339]
                        STRING [3340,3360]
                            String: "Examples directory" [3340,3360]
                    FIELD [3361,3406]
                        String: "runs-on" [3361,3370]
                        ARRAY [3371,3406]
                            STRING [3372,3385]
                                String: "self-hosted" [3372,3385]
                            STRING [3386,3405]
                                String: "single-gpu-docker" [3386,3405]
                    FIELD [3407,3567]
                        String: "container" [3407,3418]
                        OBJECT [3419,3567]
                            FIELD [3420,3469]
                                String: "image" [3420,3427]
                                STRING [3428,3469]
                                    String: "huggingface/transformers-all-latest-gpu" [3428,3469]
                            FIELD [3470,3566]
                                String: "options" [3470,3479]
                                STRING [3480,3566]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [3480,3566]
                    FIELD [3568,3583]
                        String: "needs" [3568,3575]
                        STRING [3576,3583]
                            String: "setup" [3576,3583]
                    FIELD [3584,4237]
                        String: "steps" [3584,3591]
                        ARRAY [3592,4237]
                            OBJECT [3593,3704]
                                FIELD [3594,3615]
                                    String: "name" [3594,3600]
                                    STRING [3601,3615]
                                        String: "Update clone" [3601,3615]
                                FIELD [3616,3651]
                                    String: "working-directory" [3616,3635]
                                    STRING [3636,3651]
                                        String: "/transformers" [3636,3651]
                                FIELD [3652,3703]
                                    String: "run" [3652,3657]
                                    STRING [3658,3703]
                                        String: "git fetch && git checkout ${{ github.sha }}" [3658,3703]
                            OBJECT [3705,3910]
                                FIELD [3706,3740]
                                    String: "name" [3706,3712]
                                    STRING [3713,3740]
                                        String: "Run examples tests on GPU" [3713,3740]
                                FIELD [3741,3776]
                                    String: "working-directory" [3741,3760]
                                    STRING [3761,3776]
                                        String: "/transformers" [3761,3776]
                                FIELD [3777,3909]
                                    String: "run" [3777,3782]
                                    STRING [3783,3909]
                                        String: "pip install -r examples/pytorch/_tests_requirements.txt\npython3 -m pytest -v --make-reports=examples_gpu examples/pytorch\n" [3783,3909]
                            OBJECT [3911,4058]
                                FIELD [3912,3942]
                                    String: "name" [3912,3918]
                                    STRING [3919,3942]
                                        String: "Failure short reports" [3919,3942]
                                FIELD [3943,3966]
                                    String: "if" [3943,3947]
                                    STRING [3948,3966]
                                        String: "${{ failure() }}" [3948,3966]
                                FIELD [3967,3991]
                                    String: "continue-on-error" [3967,3986]
                                    TRUE [3987,3991]
                                FIELD [3992,4057]
                                    String: "run" [3992,3997]
                                    STRING [3998,4057]
                                        String: "cat /transformers/reports/examples_gpu/failures_short.txt" [3998,4057]
                            OBJECT [4059,4236]
                                FIELD [4060,4097]
                                    String: "name" [4060,4066]
                                    STRING [4067,4097]
                                        String: "Test suite reports artifacts" [4067,4097]
                                FIELD [4098,4120]
                                    String: "if" [4098,4102]
                                    STRING [4103,4120]
                                        String: "${{ always() }}" [4103,4120]
                                FIELD [4121,4156]
                                    String: "uses" [4121,4127]
                                    STRING [4128,4156]
                                        String: "actions/upload-artifact@v2" [4128,4156]
                                FIELD [4157,4235]
                                    String: "with" [4157,4163]
                                    OBJECT [4164,4235]
                                        FIELD [4165,4190]
                                            String: "name" [4165,4171]
                                            STRING [4172,4190]
                                                String: "run_examples_gpu" [4172,4190]
                                        FIELD [4191,4234]
                                            String: "path" [4191,4197]
                                            STRING [4198,4234]
                                                String: "/transformers/reports/examples_gpu" [4198,4234]
            FIELD [4239,5401]
                String: "run_pipelines_torch_gpu" [4239,4264]
                OBJECT [4265,5401]
                    FIELD [4266,4292]
                        String: "name" [4266,4272]
                        STRING [4273,4292]
                            String: "PyTorch pipelines" [4273,4292]
                    FIELD [4293,4386]
                        String: "strategy" [4293,4303]
                        OBJECT [4304,4386]
                            FIELD [4305,4322]
                                String: "fail-fast" [4305,4316]
                                FALSE [4317,4322]
                            FIELD [4323,4385]
                                String: "matrix" [4323,4331]
                                OBJECT [4332,4385]
                                    FIELD [4333,4384]
                                        String: "machines" [4333,4343]
                                        ARRAY [4344,4384]
                                            STRING [4345,4363]
                                                String: "multi-gpu-docker" [4345,4363]
                                            STRING [4364,4383]
                                                String: "single-gpu-docker" [4364,4383]
                    FIELD [4387,4421]
                        String: "runs-on" [4387,4396]
                        STRING [4397,4421]
                            String: "${{ matrix.machines }}" [4397,4421]
                    FIELD [4422,4579]
                        String: "container" [4422,4433]
                        OBJECT [4434,4579]
                            FIELD [4435,4481]
                                String: "image" [4435,4442]
                                STRING [4443,4481]
                                    String: "huggingface/transformers-pytorch-gpu" [4443,4481]
                            FIELD [4482,4578]
                                String: "options" [4482,4491]
                                STRING [4492,4578]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [4492,4578]
                    FIELD [4580,4595]
                        String: "needs" [4580,4587]
                        STRING [4588,4595]
                            String: "setup" [4588,4595]
                    FIELD [4596,5400]
                        String: "steps" [4596,4603]
                        ARRAY [4604,5400]
                            OBJECT [4605,4716]
                                FIELD [4606,4627]
                                    String: "name" [4606,4612]
                                    STRING [4613,4627]
                                        String: "Update clone" [4613,4627]
                                FIELD [4628,4663]
                                    String: "working-directory" [4628,4647]
                                    STRING [4648,4663]
                                        String: "/transformers" [4648,4663]
                                FIELD [4664,4715]
                                    String: "run" [4664,4669]
                                    STRING [4670,4715]
                                        String: "git fetch && git checkout ${{ github.sha }}" [4670,4715]
                            OBJECT [4717,4968]
                                FIELD [4718,4756]
                                    String: "name" [4718,4724]
                                    STRING [4725,4756]
                                        String: "Run all pipeline tests on GPU" [4725,4756]
                                FIELD [4757,4792]
                                    String: "working-directory" [4757,4776]
                                    STRING [4777,4792]
                                        String: "/transformers" [4777,4792]
                                FIELD [4793,4826]
                                    String: "env" [4793,4798]
                                    OBJECT [4799,4826]
                                        FIELD [4800,4825]
                                            String: "RUN_PIPELINE_TESTS" [4800,4820]
                                            TRUE [4821,4825]
                                FIELD [4827,4967]
                                    String: "run" [4827,4832]
                                    STRING [4833,4967]
                                        String: "python3 -m pytest -n 1 -v --dist=loadfile -m is_pipeline_test --make-reports=${{ matrix.machines }}_tests_torch_pipeline_gpu tests\n" [4833,4967]
                            OBJECT [4969,5151]
                                FIELD [4970,5000]
                                    String: "name" [4970,4976]
                                    STRING [4977,5000]
                                        String: "Failure short reports" [4977,5000]
                                FIELD [5001,5024]
                                    String: "if" [5001,5005]
                                    STRING [5006,5024]
                                        String: "${{ failure() }}" [5006,5024]
                                FIELD [5025,5049]
                                    String: "continue-on-error" [5025,5044]
                                    TRUE [5045,5049]
                                FIELD [5050,5150]
                                    String: "run" [5050,5055]
                                    STRING [5056,5150]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_torch_pipeline_gpu/failures_short.txt" [5056,5150]
                            OBJECT [5152,5399]
                                FIELD [5153,5190]
                                    String: "name" [5153,5159]
                                    STRING [5160,5190]
                                        String: "Test suite reports artifacts" [5160,5190]
                                FIELD [5191,5213]
                                    String: "if" [5191,5195]
                                    STRING [5196,5213]
                                        String: "${{ always() }}" [5196,5213]
                                FIELD [5214,5249]
                                    String: "uses" [5214,5220]
                                    STRING [5221,5249]
                                        String: "actions/upload-artifact@v2" [5221,5249]
                                FIELD [5250,5398]
                                    String: "with" [5250,5256]
                                    OBJECT [5257,5398]
                                        FIELD [5258,5318]
                                            String: "name" [5258,5264]
                                            STRING [5265,5318]
                                                String: "${{ matrix.machines }}_run_tests_torch_pipeline_gpu" [5265,5318]
                                        FIELD [5319,5397]
                                            String: "path" [5319,5325]
                                            STRING [5326,5397]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_torch_pipeline_gpu" [5326,5397]
            FIELD [5402,6533]
                String: "run_pipelines_tf_gpu" [5402,5424]
                OBJECT [5425,6533]
                    FIELD [5426,5455]
                        String: "name" [5426,5432]
                        STRING [5433,5455]
                            String: "TensorFlow pipelines" [5433,5455]
                    FIELD [5456,5549]
                        String: "strategy" [5456,5466]
                        OBJECT [5467,5549]
                            FIELD [5468,5485]
                                String: "fail-fast" [5468,5479]
                                FALSE [5480,5485]
                            FIELD [5486,5548]
                                String: "matrix" [5486,5494]
                                OBJECT [5495,5548]
                                    FIELD [5496,5547]
                                        String: "machines" [5496,5506]
                                        ARRAY [5507,5547]
                                            STRING [5508,5526]
                                                String: "multi-gpu-docker" [5508,5526]
                                            STRING [5527,5546]
                                                String: "single-gpu-docker" [5527,5546]
                    FIELD [5550,5584]
                        String: "runs-on" [5550,5559]
                        STRING [5560,5584]
                            String: "${{ matrix.machines }}" [5560,5584]
                    FIELD [5585,5745]
                        String: "container" [5585,5596]
                        OBJECT [5597,5745]
                            FIELD [5598,5647]
                                String: "image" [5598,5605]
                                STRING [5606,5647]
                                    String: "huggingface/transformers-tensorflow-gpu" [5606,5647]
                            FIELD [5648,5744]
                                String: "options" [5648,5657]
                                STRING [5658,5744]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [5658,5744]
                    FIELD [5746,5761]
                        String: "needs" [5746,5753]
                        STRING [5754,5761]
                            String: "setup" [5754,5761]
                    FIELD [5762,6532]
                        String: "steps" [5762,5769]
                        ARRAY [5770,6532]
                            OBJECT [5771,5884]
                                FIELD [5772,5793]
                                    String: "name" [5772,5778]
                                    STRING [5779,5793]
                                        String: "Update clone" [5779,5793]
                                FIELD [5794,5829]
                                    String: "working-directory" [5794,5813]
                                    STRING [5814,5829]
                                        String: "/transformers" [5814,5829]
                                FIELD [5830,5883]
                                    String: "run" [5830,5835]
                                    STRING [5836,5883]
                                        String: "git fetch && git checkout ${{ github.sha }}\n" [5836,5883]
                            OBJECT [5885,6133]
                                FIELD [5886,5924]
                                    String: "name" [5886,5892]
                                    STRING [5893,5924]
                                        String: "Run all pipeline tests on GPU" [5893,5924]
                                FIELD [5925,5960]
                                    String: "working-directory" [5925,5944]
                                    STRING [5945,5960]
                                        String: "/transformers" [5945,5960]
                                FIELD [5961,5994]
                                    String: "env" [5961,5966]
                                    OBJECT [5967,5994]
                                        FIELD [5968,5993]
                                            String: "RUN_PIPELINE_TESTS" [5968,5988]
                                            TRUE [5989,5993]
                                FIELD [5995,6132]
                                    String: "run" [5995,6000]
                                    STRING [6001,6132]
                                        String: "python3 -m pytest -n 1 -v --dist=loadfile -m is_pipeline_test --make-reports=${{ matrix.machines }}_tests_tf_pipeline_gpu tests\n" [6001,6132]
                            OBJECT [6134,6289]
                                FIELD [6135,6165]
                                    String: "name" [6135,6141]
                                    STRING [6142,6165]
                                        String: "Failure short reports" [6142,6165]
                                FIELD [6166,6188]
                                    String: "if" [6166,6170]
                                    STRING [6171,6188]
                                        String: "${{ always() }}" [6171,6188]
                                FIELD [6189,6288]
                                    String: "run" [6189,6194]
                                    STRING [6195,6288]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_tf_pipeline_gpu/failures_short.txt\n" [6195,6288]
                            OBJECT [6290,6531]
                                FIELD [6291,6328]
                                    String: "name" [6291,6297]
                                    STRING [6298,6328]
                                        String: "Test suite reports artifacts" [6298,6328]
                                FIELD [6329,6351]
                                    String: "if" [6329,6333]
                                    STRING [6334,6351]
                                        String: "${{ always() }}" [6334,6351]
                                FIELD [6352,6387]
                                    String: "uses" [6352,6358]
                                    STRING [6359,6387]
                                        String: "actions/upload-artifact@v2" [6359,6387]
                                FIELD [6388,6530]
                                    String: "with" [6388,6394]
                                    OBJECT [6395,6530]
                                        FIELD [6396,6453]
                                            String: "name" [6396,6402]
                                            STRING [6403,6453]
                                                String: "${{ matrix.machines }}_run_tests_tf_pipeline_gpu" [6403,6453]
                                        FIELD [6454,6529]
                                            String: "path" [6454,6460]
                                            STRING [6461,6529]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_tf_pipeline_gpu" [6461,6529]
            FIELD [6534,8165]
                String: "run_all_tests_torch_cuda_extensions_gpu" [6534,6575]
                OBJECT [6576,8165]
                    FIELD [6577,6612]
                        String: "name" [6577,6583]
                        STRING [6584,6612]
                            String: "Torch CUDA extension tests" [6584,6612]
                    FIELD [6613,6706]
                        String: "strategy" [6613,6623]
                        OBJECT [6624,6706]
                            FIELD [6625,6642]
                                String: "fail-fast" [6625,6636]
                                FALSE [6637,6642]
                            FIELD [6643,6705]
                                String: "matrix" [6643,6651]
                                OBJECT [6652,6705]
                                    FIELD [6653,6704]
                                        String: "machines" [6653,6663]
                                        ARRAY [6664,6704]
                                            STRING [6665,6683]
                                                String: "multi-gpu-docker" [6665,6683]
                                            STRING [6684,6703]
                                                String: "single-gpu-docker" [6684,6703]
                    FIELD [6707,6741]
                        String: "runs-on" [6707,6716]
                        STRING [6717,6741]
                            String: "${{ matrix.machines }}" [6717,6741]
                    FIELD [6742,6757]
                        String: "needs" [6742,6749]
                        STRING [6750,6757]
                            String: "setup" [6750,6757]
                    FIELD [6758,6934]
                        String: "container" [6758,6769]
                        OBJECT [6770,6934]
                            FIELD [6771,6834]
                                String: "image" [6771,6778]
                                STRING [6779,6834]
                                    String: "huggingface/transformers-pytorch-deepspeed-latest-gpu" [6779,6834]
                            FIELD [6835,6933]
                                String: "options" [6835,6844]
                                STRING [6845,6933]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [6845,6933]
                    FIELD [6935,8164]
                        String: "steps" [6935,6942]
                        ARRAY [6943,8164]
                            OBJECT [6944,7065]
                                FIELD [6945,6966]
                                    String: "name" [6945,6951]
                                    STRING [6952,6966]
                                        String: "Update clone" [6952,6966]
                                FIELD [6967,7012]
                                    String: "working-directory" [6967,6986]
                                    STRING [6987,7012]
                                        String: "/workspace/transformers" [6987,7012]
                                FIELD [7013,7064]
                                    String: "run" [7013,7018]
                                    STRING [7019,7064]
                                        String: "git fetch && git checkout ${{ github.sha }}" [7019,7064]
                            OBJECT [7066,7469]
                                FIELD [7067,7096]
                                    String: "name" [7067,7073]
                                    STRING [7074,7096]
                                        String: "Re-compile DeepSpeed" [7074,7096]
                                FIELD [7097,7129]
                                    String: "working-directory" [7097,7116]
                                    STRING [7117,7129]
                                        String: "/workspace" [7117,7129]
                                FIELD [7130,7468]
                                    String: "run" [7130,7135]
                                    STRING [7136,7468]
                                        String: "pip install deepspeed # installs the deps correctly\nrm -rf DeepSpeed\ngit clone https://github.com/microsoft/DeepSpeed && cd DeepSpeed && rm -rf build\nDS_BUILD_CPU_ADAM=1 DS_BUILD_AIO=1 DS_BUILD_UTILS=1 python3 -m pip install -e . --global-option=\"build_ext\" --global-option=\"-j8\" --no-cache -v --disable-pip-version-check\n" [7136,7468]
                            OBJECT [7470,7678]
                                FIELD [7471,7500]
                                    String: "name" [7471,7477]
                                    STRING [7478,7500]
                                        String: "Run all tests on GPU" [7478,7500]
                                FIELD [7501,7546]
                                    String: "working-directory" [7501,7520]
                                    STRING [7521,7546]
                                        String: "/workspace/transformers" [7521,7546]
                                FIELD [7547,7677]
                                    String: "run" [7547,7552]
                                    STRING [7553,7677]
                                        String: "python -m pytest -v --make-reports=${{ matrix.machines }}_tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [7553,7677]
                            OBJECT [7679,7878]
                                FIELD [7680,7710]
                                    String: "name" [7680,7686]
                                    STRING [7687,7710]
                                        String: "Failure short reports" [7687,7710]
                                FIELD [7711,7734]
                                    String: "if" [7711,7715]
                                    STRING [7716,7734]
                                        String: "${{ failure() }}" [7716,7734]
                                FIELD [7735,7759]
                                    String: "continue-on-error" [7735,7754]
                                    TRUE [7755,7759]
                                FIELD [7760,7877]
                                    String: "run" [7760,7765]
                                    STRING [7766,7877]
                                        String: "cat /workspace/transformers/reports/${{ matrix.machines }}_tests_torch_cuda_extensions_gpu/failures_short.txt" [7766,7877]
                            OBJECT [7879,8163]
                                FIELD [7880,7917]
                                    String: "name" [7880,7886]
                                    STRING [7887,7917]
                                        String: "Test suite reports artifacts" [7887,7917]
                                FIELD [7918,7940]
                                    String: "if" [7918,7922]
                                    STRING [7923,7940]
                                        String: "${{ always() }}" [7923,7940]
                                FIELD [7941,7976]
                                    String: "uses" [7941,7947]
                                    STRING [7948,7976]
                                        String: "actions/upload-artifact@v2" [7948,7976]
                                FIELD [7977,8162]
                                    String: "with" [7977,7983]
                                    OBJECT [7984,8162]
                                        FIELD [7985,8065]
                                            String: "name" [7985,7991]
                                            STRING [7992,8065]
                                                String: "${{ matrix.machines }}_run_tests_torch_cuda_extensions_gpu_test_reports" [7992,8065]
                                        FIELD [8066,8161]
                                            String: "path" [8066,8072]
                                            STRING [8073,8161]
                                                String: "/workspace/transformers/reports/${{ matrix.machines }}_tests_torch_cuda_extensions_gpu" [8073,8161]
            FIELD [8166,8893]
                String: "send_results" [8166,8180]
                OBJECT [8181,8893]
                    FIELD [8182,8214]
                        String: "name" [8182,8188]
                        STRING [8189,8214]
                            String: "Send results to webhook" [8189,8214]
                    FIELD [8215,8240]
                        String: "runs-on" [8215,8224]
                        STRING [8225,8240]
                            String: "ubuntu-latest" [8225,8240]
                    FIELD [8241,8256]
                        String: "if" [8241,8245]
                        STRING [8246,8256]
                            String: "always()" [8246,8256]
                    FIELD [8257,8400]
                        String: "needs" [8257,8264]
                        ARRAY [8265,8400]
                            STRING [8266,8273]
                                String: "setup" [8266,8273]
                            STRING [8274,8289]
                                String: "run_tests_gpu" [8274,8289]
                            STRING [8290,8308]
                                String: "run_examples_gpu" [8290,8308]
                            STRING [8309,8331]
                                String: "run_pipelines_tf_gpu" [8309,8331]
                            STRING [8332,8357]
                                String: "run_pipelines_torch_gpu" [8332,8357]
                            STRING [8358,8399]
                                String: "run_all_tests_torch_cuda_extensions_gpu" [8358,8399]
                    FIELD [8401,8892]
                        String: "steps" [8401,8408]
                        ARRAY [8409,8892]
                            OBJECT [8410,8440]
                                FIELD [8411,8439]
                                    String: "uses" [8411,8417]
                                    STRING [8418,8439]
                                        String: "actions/checkout@v2" [8418,8439]
                            OBJECT [8441,8480]
                                FIELD [8442,8479]
                                    String: "uses" [8442,8448]
                                    STRING [8449,8479]
                                        String: "actions/download-artifact@v2" [8449,8479]
                            OBJECT [8481,8891]
                                FIELD [8482,8512]
                                    String: "name" [8482,8488]
                                    STRING [8489,8512]
                                        String: "Send message to Slack" [8489,8512]
                                FIELD [8513,8784]
                                    String: "env" [8513,8518]
                                    OBJECT [8519,8784]
                                        FIELD [8520,8576]
                                            String: "CI_SLACK_BOT_TOKEN" [8520,8540]
                                            STRING [8541,8576]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [8541,8576]
                                        FIELD [8577,8635]
                                            String: "CI_SLACK_CHANNEL_ID" [8577,8598]
                                            STRING [8599,8635]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [8599,8635]
                                        FIELD [8636,8706]
                                            String: "CI_SLACK_CHANNEL_ID_DAILY" [8636,8663]
                                            STRING [8664,8706]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY }}" [8664,8706]
                                        FIELD [8707,8783]
                                            String: "CI_SLACK_CHANNEL_DUMMY_TESTS" [8707,8737]
                                            STRING [8738,8783]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_DUMMY_TESTS }}" [8738,8783]
                                FIELD [8785,8890]
                                    String: "run" [8785,8790]
                                    STRING [8791,8890]
                                        String: "pip install slack_sdk\npython utils/notification_service.py \"${{ needs.setup.outputs.matrix }}\"" [8791,8890]