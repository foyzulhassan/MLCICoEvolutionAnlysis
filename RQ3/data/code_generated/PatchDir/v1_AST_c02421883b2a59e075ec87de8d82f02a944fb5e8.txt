OBJECT [0,3647]
    FIELD [1,20]
        String: "name" [1,7]
        STRING [8,20]
            String: "PR slow CI" [8,20]
    FIELD [21,96]
        String: "on" [21,25]
        OBJECT [26,96]
            FIELD [27,95]
                String: "pull_request" [27,41]
                OBJECT [42,95]
                    FIELD [43,94]
                        String: "paths" [43,50]
                        ARRAY [51,94]
                            STRING [52,93]
                                String: "src/transformers/models/*/modeling_*.py" [52,93]
    FIELD [97,405]
        String: "env" [97,102]
        OBJECT [103,405]
            FIELD [104,126]
                String: "HF_HOME" [104,113]
                STRING [114,126]
                    String: "/mnt/cache" [114,126]
            FIELD [127,152]
                String: "TRANSFORMERS_IS_CI" [127,147]
                TRUE [148,152]
            FIELD [153,172]
                String: "OMP_NUM_THREADS" [153,170]
                NUMBER [171,172]
                    Number: 8 [171,172]
            FIELD [173,192]
                String: "MKL_NUM_THREADS" [173,190]
                NUMBER [191,192]
                    Number: 8 [191,192]
            FIELD [193,208]
                String: "RUN_SLOW" [193,203]
                TRUE [204,208]
            FIELD [209,263]
                String: "HF_HUB_READ_TOKEN" [209,228]
                STRING [229,263]
                    String: "${{ secrets.HF_HUB_READ_TOKEN }}" [229,263]
            FIELD [264,316]
                String: "SIGOPT_API_TOKEN" [264,282]
                STRING [283,316]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [283,316]
            FIELD [317,349]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [317,344]
                TRUE [345,349]
            FIELD [350,375]
                String: "RUN_PT_TF_CROSS_TESTS" [350,373]
                NUMBER [374,375]
                    Number: 1 [374,375]
            FIELD [376,404]
                String: "CUDA_VISIBLE_DEVICES" [376,398]
                STRING [399,404]
                    String: "0,1" [399,404]
    FIELD [406,3646]
        String: "jobs" [406,412]
        OBJECT [413,3646]
            FIELD [414,844]
                String: "check_for_new_model" [414,435]
                OBJECT [436,844]
                    FIELD [437,461]
                        String: "runs-on" [437,446]
                        STRING [447,461]
                            String: "ubuntu-22.04" [447,461]
                    FIELD [462,502]
                        String: "name" [462,468]
                        STRING [469,502]
                            String: "Check if a PR is a new model PR" [469,502]
                    FIELD [503,575]
                        String: "outputs" [503,512]
                        OBJECT [513,575]
                            FIELD [514,574]
                                String: "new_model" [514,525]
                                STRING [526,574]
                                    String: "${{ steps.check_new_model.outputs.new_model }}" [526,574]
                    FIELD [576,843]
                        String: "steps" [576,583]
                        ARRAY [584,843]
                            OBJECT [585,642]
                                FIELD [586,614]
                                    String: "uses" [586,592]
                                    STRING [593,614]
                                        String: "actions/checkout@v4" [593,614]
                                FIELD [615,641]
                                    String: "with" [615,621]
                                    OBJECT [622,641]
                                        FIELD [623,640]
                                            String: "fetch-depth" [623,636]
                                            STRING [637,640]
                                                String: "0" [637,640]
                            OBJECT [643,842]
                                FIELD [644,682]
                                    String: "name" [644,650]
                                    STRING [651,682]
                                        String: "Check if there is a new model" [651,682]
                                FIELD [683,705]
                                    String: "id" [683,687]
                                    STRING [688,705]
                                        String: "check_new_model" [688,705]
                                FIELD [706,841]
                                    String: "run" [706,711]
                                    STRING [712,841]
                                        String: "python -m pip install GitPython\necho \"new_model=$(python utils/check_if_new_model_added.py | tail -n 1)\" >> $GITHUB_OUTPUT\n" [712,841]
            FIELD [845,3645]
                String: "run_models_gpu" [845,861]
                OBJECT [862,3645]
                    FIELD [863,903]
                        String: "name" [863,869]
                        STRING [870,903]
                            String: "Run all tests for the new model" [870,903]
                    FIELD [904,1045]
                        String: "if" [904,908]
                        STRING [909,1045]
                            String: "${{ needs.check_for_new_model.outputs.new_model != '' && contains(github.event.pull_request.labels.*.name, 'single-model-run-slow') }}" [909,1045]
                    FIELD [1046,1075]
                        String: "needs" [1046,1053]
                        STRING [1054,1075]
                            String: "check_for_new_model" [1054,1075]
                    FIELD [1076,1224]
                        String: "strategy" [1076,1086]
                        OBJECT [1087,1224]
                            FIELD [1088,1105]
                                String: "fail-fast" [1088,1099]
                                FALSE [1100,1105]
                            FIELD [1106,1223]
                                String: "matrix" [1106,1114]
                                OBJECT [1115,1223]
                                    FIELD [1116,1180]
                                        String: "folders" [1116,1125]
                                        ARRAY [1126,1180]
                                            STRING [1127,1179]
                                                String: "${{ needs.check_for_new_model.outputs.new_model }}" [1127,1179]
                                    FIELD [1181,1222]
                                        String: "machine_type" [1181,1195]
                                        ARRAY [1196,1222]
                                            STRING [1197,1209]
                                                String: "single-gpu" [1197,1209]
                                            STRING [1210,1221]
                                                String: "multi-gpu" [1210,1221]
                    FIELD [1225,1288]
                        String: "runs-on" [1225,1234]
                        ARRAY [1235,1288]
                            STRING [1236,1264]
                                String: "${{ matrix.machine_type }}" [1236,1264]
                            STRING [1265,1277]
                                String: "nvidia-gpu" [1265,1277]
                            STRING [1278,1282]
                                String: "t4" [1278,1282]
                            STRING [1283,1287]
                                String: "ci" [1283,1287]
                    FIELD [1289,1451]
                        String: "container" [1289,1300]
                        OBJECT [1301,1451]
                            FIELD [1302,1351]
                                String: "image" [1302,1309]
                                STRING [1310,1351]
                                    String: "huggingface/transformers-all-latest-gpu" [1310,1351]
                            FIELD [1352,1450]
                                String: "options" [1352,1361]
                                STRING [1362,1450]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1362,1450]
                    FIELD [1452,3644]
                        String: "steps" [1452,1459]
                        ARRAY [1460,3644]
                            OBJECT [1461,1554]
                                FIELD [1462,1497]
                                    String: "name" [1462,1468]
                                    STRING [1469,1497]
                                        String: "Echo input and matrix info" [1469,1497]
                                FIELD [1498,1512]
                                    String: "shell" [1498,1505]
                                    STRING [1506,1512]
                                        String: "bash" [1506,1512]
                                FIELD [1513,1553]
                                    String: "run" [1513,1518]
                                    STRING [1519,1553]
                                        String: "echo \"${{ matrix.folders }}\"\n" [1519,1553]
                            OBJECT [1555,1829]
                                FIELD [1556,1598]
                                    String: "name" [1556,1562]
                                    STRING [1563,1598]
                                        String: "Echo folder ${{ matrix.folders }}" [1563,1598]
                                FIELD [1599,1613]
                                    String: "shell" [1599,1606]
                                    STRING [1607,1613]
                                        String: "bash" [1607,1613]
                                FIELD [1614,1828]
                                    String: "run" [1614,1619]
                                    STRING [1620,1828]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [1620,1828]
                            OBJECT [1830,1965]
                                FIELD [1831,1852]
                                    String: "name" [1831,1837]
                                    STRING [1838,1852]
                                        String: "Update clone" [1838,1852]
                                FIELD [1853,1888]
                                    String: "working-directory" [1853,1872]
                                    STRING [1873,1888]
                                        String: "/transformers" [1873,1888]
                                FIELD [1889,1964]
                                    String: "run" [1889,1894]
                                    STRING [1895,1964]
                                        String: "git fetch && git checkout ${{ github.event.pull_request.head.sha }}" [1895,1964]
                            OBJECT [1966,2181]
                                FIELD [1967,2064]
                                    String: "name" [1967,1973]
                                    STRING [1974,2064]
                                        String: "Reinstall transformers in edit mode (remove the one installed during docker image build)" [1974,2064]
                                FIELD [2065,2100]
                                    String: "working-directory" [2065,2084]
                                    STRING [2085,2100]
                                        String: "/transformers" [2085,2100]
                                FIELD [2101,2180]
                                    String: "run" [2101,2106]
                                    STRING [2107,2180]
                                        String: "python3 -m pip uninstall -y transformers && python3 -m pip install -e ." [2107,2180]
                            OBJECT [2182,2224]
                                FIELD [2183,2202]
                                    String: "name" [2183,2189]
                                    STRING [2190,2202]
                                        String: "NVIDIA-SMI" [2190,2202]
                                FIELD [2203,2223]
                                    String: "run" [2203,2208]
                                    STRING [2209,2223]
                                        String: "nvidia-smi\n" [2209,2223]
                            OBJECT [2225,2320]
                                FIELD [2226,2246]
                                    String: "name" [2226,2232]
                                    STRING [2233,2246]
                                        String: "Environment" [2233,2246]
                                FIELD [2247,2282]
                                    String: "working-directory" [2247,2266]
                                    STRING [2267,2282]
                                        String: "/transformers" [2267,2282]
                                FIELD [2283,2319]
                                    String: "run" [2283,2288]
                                    STRING [2289,2319]
                                        String: "python3 utils/print_env.py\n" [2289,2319]
                            OBJECT [2321,2430]
                                FIELD [2322,2374]
                                    String: "name" [2322,2328]
                                    STRING [2329,2374]
                                        String: "Show installed libraries and their versions" [2329,2374]
                                FIELD [2375,2410]
                                    String: "working-directory" [2375,2394]
                                    STRING [2395,2410]
                                        String: "/transformers" [2395,2410]
                                FIELD [2411,2429]
                                    String: "run" [2411,2416]
                                    STRING [2417,2429]
                                        String: "pip freeze" [2417,2429]
                            OBJECT [2431,2651]
                                FIELD [2432,2461]
                                    String: "name" [2432,2438]
                                    STRING [2439,2461]
                                        String: "Run all tests on GPU" [2439,2461]
                                FIELD [2462,2497]
                                    String: "working-directory" [2462,2481]
                                    STRING [2482,2497]
                                        String: "/transformers" [2482,2497]
                                FIELD [2498,2650]
                                    String: "run" [2498,2503]
                                    STRING [2504,2650]
                                        String: "python3 -m pytest -v -rs --make-reports=${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports tests/${{ matrix.folders }}" [2504,2650]
                            OBJECT [2652,2863]
                                FIELD [2653,2683]
                                    String: "name" [2653,2659]
                                    STRING [2660,2683]
                                        String: "Failure short reports" [2660,2683]
                                FIELD [2684,2707]
                                    String: "if" [2684,2688]
                                    STRING [2689,2707]
                                        String: "${{ failure() }}" [2689,2707]
                                FIELD [2708,2732]
                                    String: "continue-on-error" [2708,2727]
                                    TRUE [2728,2732]
                                FIELD [2733,2862]
                                    String: "run" [2733,2738]
                                    STRING [2739,2862]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports/failures_short.txt" [2739,2862]
                            OBJECT [2864,3255]
                                FIELD [2865,2907]
                                    String: "name" [2865,2871]
                                    STRING [2872,2907]
                                        String: "Make sure report directory exists" [2872,2907]
                                FIELD [2908,2922]
                                    String: "shell" [2908,2915]
                                    STRING [2916,2922]
                                        String: "bash" [2916,2922]
                                FIELD [2923,3254]
                                    String: "run" [2923,2928]
                                    STRING [2929,3254]
                                        String: "mkdir -p /transformers/reports/${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports\necho \"hello\" > /transformers/reports/${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports/hello.txt\necho \"${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports\"\n" [2929,3254]
                            OBJECT [3256,3643]
                                FIELD [3257,3376]
                                    String: "name" [3257,3263]
                                    STRING [3264,3376]
                                        String: "Test suite reports artifacts: ${{ matrix.machine_type }}_run_models_gpu_${{ env.matrix_folders }}_test_reports" [3264,3376]
                                FIELD [3377,3399]
                                    String: "if" [3377,3381]
                                    STRING [3382,3399]
                                        String: "${{ always() }}" [3382,3399]
                                FIELD [3400,3435]
                                    String: "uses" [3400,3406]
                                    STRING [3407,3435]
                                        String: "actions/upload-artifact@v4" [3407,3435]
                                FIELD [3436,3642]
                                    String: "with" [3436,3442]
                                    OBJECT [3443,3642]
                                        FIELD [3444,3533]
                                            String: "name" [3444,3450]
                                            STRING [3451,3533]
                                                String: "${{ matrix.machine_type }}_run_models_gpu_${{ env.matrix_folders }}_test_reports" [3451,3533]
                                        FIELD [3534,3641]
                                            String: "path" [3534,3540]
                                            STRING [3541,3641]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports" [3541,3641]