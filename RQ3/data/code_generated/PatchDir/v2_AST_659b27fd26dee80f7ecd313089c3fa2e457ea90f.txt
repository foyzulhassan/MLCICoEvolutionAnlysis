OBJECT [0,2290]
    FIELD [1,18]
        String: "name" [1,7]
        STRING [8,18]
            String: "Doctests" [8,18]
    FIELD [19,119]
        String: "on" [19,23]
        OBJECT [24,119]
            FIELD [25,57]
                String: "push" [25,31]
                OBJECT [32,57]
                    FIELD [33,56]
                        String: "branches" [33,43]
                        ARRAY [44,56]
                            STRING [45,55]
                                String: "doctest*" [45,55]
            FIELD [58,84]
                String: "repository_dispatch" [58,79]
                NULL [80,84]
            FIELD [85,118]
                String: "schedule" [85,95]
                ARRAY [96,118]
                    OBJECT [97,117]
                        FIELD [98,116]
                            String: "cron" [98,104]
                            STRING [105,116]
                                String: "0 0 * * *" [105,116]
    FIELD [120,320]
        String: "env" [120,125]
        OBJECT [126,320]
            FIELD [127,149]
                String: "HF_HOME" [127,136]
                STRING [137,149]
                    String: "/mnt/cache" [137,149]
            FIELD [150,175]
                String: "TRANSFORMERS_IS_CI" [150,170]
                TRUE [171,175]
            FIELD [176,191]
                String: "RUN_SLOW" [176,186]
                TRUE [187,191]
            FIELD [192,212]
                String: "OMP_NUM_THREADS" [192,209]
                NUMBER [210,212]
                    Number: 16 [210,212]
            FIELD [213,233]
                String: "MKL_NUM_THREADS" [213,230]
                NUMBER [231,233]
                    Number: 16 [231,233]
            FIELD [234,286]
                String: "SIGOPT_API_TOKEN" [234,252]
                STRING [253,286]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [253,286]
            FIELD [287,319]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [287,314]
                TRUE [315,319]
    FIELD [321,2289]
        String: "jobs" [321,327]
        OBJECT [328,2289]
            FIELD [329,1691]
                String: "run_doctests" [329,343]
                OBJECT [344,1691]
                    FIELD [345,386]
                        String: "runs-on" [345,354]
                        ARRAY [355,386]
                            STRING [356,369]
                                String: "self-hosted" [356,369]
                            STRING [370,385]
                                String: "doc-tests-gpu" [370,385]
                    FIELD [387,547]
                        String: "container" [387,398]
                        OBJECT [399,547]
                            FIELD [400,449]
                                String: "image" [400,407]
                                STRING [408,449]
                                    String: "huggingface/transformers-all-latest-gpu" [408,449]
                            FIELD [450,546]
                                String: "options" [450,459]
                                STRING [460,546]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [460,546]
                    FIELD [548,1690]
                        String: "steps" [548,555]
                        ARRAY [556,1690]
                            OBJECT [557,587]
                                FIELD [558,586]
                                    String: "uses" [558,564]
                                    STRING [565,586]
                                        String: "actions/checkout@v2" [565,586]
                            OBJECT [588,630]
                                FIELD [589,608]
                                    String: "name" [589,595]
                                    STRING [596,608]
                                        String: "NVIDIA-SMI" [596,608]
                                FIELD [609,629]
                                    String: "run" [609,614]
                                    STRING [615,629]
                                        String: "nvidia-smi\n" [615,629]
                            OBJECT [631,973]
                                FIELD [632,655]
                                    String: "name" [632,638]
                                    STRING [639,655]
                                        String: "GPU visibility" [639,655]
                                FIELD [656,972]
                                    String: "run" [656,661]
                                    STRING [662,972]
                                        String: "utils/print_env_pt.py\nTF_CPP_MIN_LOG_LEVEL=3 python3 -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python3 -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [662,972]
                            OBJECT [974,1068]
                                FIELD [975,1010]
                                    String: "name" [975,981]
                                    STRING [982,1010]
                                        String: "Prepare files for doctests" [982,1010]
                                FIELD [1011,1067]
                                    String: "run" [1011,1016]
                                    STRING [1017,1067]
                                        String: "python3 utils/prepare_for_doc_test.py src docs\n" [1017,1067]
                            OBJECT [1069,1266]
                                FIELD [1070,1091]
                                    String: "name" [1070,1076]
                                    STRING [1077,1091]
                                        String: "Run doctests" [1077,1091]
                                FIELD [1092,1265]
                                    String: "run" [1092,1097]
                                    STRING [1098,1265]
                                        String: "python3 -m pytest -v --make-reports doc_tests_gpu --doctest-modules $(cat utils/documentation_tests.txt) -sv --doctest-continue-on-failure --doctest-glob=\"*.mdx\"\n" [1098,1265]
                            OBJECT [1267,1379]
                                FIELD [1268,1303]
                                    String: "name" [1268,1274]
                                    STRING [1275,1303]
                                        String: "Clean files after doctests" [1275,1303]
                                FIELD [1304,1378]
                                    String: "run" [1304,1309]
                                    STRING [1310,1378]
                                        String: "python3 utils/prepare_for_doc_test.py src docs --remove_new_line\n" [1310,1378]
                            OBJECT [1380,1514]
                                FIELD [1381,1411]
                                    String: "name" [1381,1387]
                                    STRING [1388,1411]
                                        String: "Failure short reports" [1388,1411]
                                FIELD [1412,1435]
                                    String: "if" [1412,1416]
                                    STRING [1417,1435]
                                        String: "${{ failure() }}" [1417,1435]
                                FIELD [1436,1460]
                                    String: "continue-on-error" [1436,1455]
                                    TRUE [1456,1460]
                                FIELD [1461,1513]
                                    String: "run" [1461,1466]
                                    STRING [1467,1513]
                                        String: "cat reports/doc_tests_gpu/failures_short.txt" [1467,1513]
                            OBJECT [1515,1689]
                                FIELD [1516,1553]
                                    String: "name" [1516,1522]
                                    STRING [1523,1553]
                                        String: "Test suite reports artifacts" [1523,1553]
                                FIELD [1554,1576]
                                    String: "if" [1554,1558]
                                    STRING [1559,1576]
                                        String: "${{ always() }}" [1559,1576]
                                FIELD [1577,1612]
                                    String: "uses" [1577,1583]
                                    STRING [1584,1612]
                                        String: "actions/upload-artifact@v2" [1584,1612]
                                FIELD [1613,1688]
                                    String: "with" [1613,1619]
                                    OBJECT [1620,1688]
                                        FIELD [1621,1656]
                                            String: "name" [1621,1627]
                                            STRING [1628,1656]
                                                String: "doc_tests_gpu_test_reports" [1628,1656]
                                        FIELD [1657,1687]
                                            String: "path" [1657,1663]
                                            STRING [1664,1687]
                                                String: "reports/doc_tests_gpu" [1664,1687]
            FIELD [1692,2288]
                String: "send_results" [1692,1706]
                OBJECT [1707,2288]
                    FIELD [1708,1740]
                        String: "name" [1708,1714]
                        STRING [1715,1740]
                            String: "Send results to webhook" [1715,1740]
                    FIELD [1741,1766]
                        String: "runs-on" [1741,1750]
                        STRING [1751,1766]
                            String: "ubuntu-latest" [1751,1766]
                    FIELD [1767,1782]
                        String: "if" [1767,1771]
                        STRING [1772,1782]
                            String: "always()" [1772,1782]
                    FIELD [1783,1807]
                        String: "needs" [1783,1790]
                        ARRAY [1791,1807]
                            STRING [1792,1806]
                                String: "run_doctests" [1792,1806]
                    FIELD [1808,2287]
                        String: "steps" [1808,1815]
                        ARRAY [1816,2287]
                            OBJECT [1817,1847]
                                FIELD [1818,1846]
                                    String: "uses" [1818,1824]
                                    STRING [1825,1846]
                                        String: "actions/checkout@v2" [1825,1846]
                            OBJECT [1848,1887]
                                FIELD [1849,1886]
                                    String: "uses" [1849,1855]
                                    STRING [1856,1886]
                                        String: "actions/download-artifact@v2" [1856,1886]
                            OBJECT [1888,2286]
                                FIELD [1889,1919]
                                    String: "name" [1889,1895]
                                    STRING [1896,1919]
                                        String: "Send message to Slack" [1896,1919]
                                FIELD [1920,2207]
                                    String: "env" [1920,1925]
                                    OBJECT [1926,2207]
                                        FIELD [1927,1983]
                                            String: "CI_SLACK_BOT_TOKEN" [1927,1947]
                                            STRING [1948,1983]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [1948,1983]
                                        FIELD [1984,2053]
                                            String: "CI_SLACK_CHANNEL_ID" [1984,2005]
                                            STRING [2006,2053]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY_DOCS }}" [2006,2053]
                                        FIELD [2054,2129]
                                            String: "CI_SLACK_CHANNEL_ID_DAILY" [2054,2081]
                                            STRING [2082,2129]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY_DOCS }}" [2082,2129]
                                        FIELD [2130,2206]
                                            String: "CI_SLACK_CHANNEL_DUMMY_TESTS" [2130,2160]
                                            STRING [2161,2206]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_DUMMY_TESTS }}" [2161,2206]
                                FIELD [2208,2285]
                                    String: "run" [2208,2213]
                                    STRING [2214,2285]
                                        String: "pip install slack_sdk\npython utils/notification_service_doc_tests.py" [2214,2285]