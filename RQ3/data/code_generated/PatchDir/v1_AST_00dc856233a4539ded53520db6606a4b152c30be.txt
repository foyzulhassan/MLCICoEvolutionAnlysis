OBJECT [0,8979]
    FIELD [1,41]
        String: "name" [1,7]
        STRING [8,41]
            String: "Self-hosted runner (nightly-ci)" [8,41]
    FIELD [42,96]
        String: "on" [42,46]
        OBJECT [47,96]
            FIELD [48,74]
                String: "repository_dispatch" [48,69]
                NULL [70,74]
            FIELD [75,95]
                String: "workflow_call" [75,90]
                NULL [91,95]
    FIELD [97,350]
        String: "env" [97,102]
        OBJECT [103,350]
            FIELD [104,126]
                String: "HF_HOME" [104,113]
                STRING [114,126]
                    String: "/mnt/cache" [114,126]
            FIELD [127,152]
                String: "TRANSFORMERS_IS_CI" [127,147]
                TRUE [148,152]
            FIELD [153,172]
                String: "OMP_NUM_THREADS" [153,170]
                NUMBER [171,172]
                    Number: 8 [171,172]
            FIELD [173,192]
                String: "MKL_NUM_THREADS" [173,190]
                NUMBER [191,192]
                    Number: 8 [191,192]
            FIELD [193,208]
                String: "RUN_SLOW" [193,203]
                TRUE [204,208]
            FIELD [209,261]
                String: "SIGOPT_API_TOKEN" [209,227]
                STRING [228,261]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [228,261]
            FIELD [262,294]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [262,289]
                TRUE [290,294]
            FIELD [295,320]
                String: "RUN_PT_TF_CROSS_TESTS" [295,318]
                NUMBER [319,320]
                    Number: 1 [319,320]
            FIELD [321,349]
                String: "CUDA_VISIBLE_DEVICES" [321,343]
                STRING [344,349]
                    String: "0,1" [344,349]
    FIELD [351,8978]
        String: "jobs" [351,357]
        OBJECT [358,8978]
            FIELD [359,1605]
                String: "setup" [359,366]
                OBJECT [367,1605]
                    FIELD [368,382]
                        String: "name" [368,374]
                        STRING [375,382]
                            String: "Setup" [375,382]
                    FIELD [383,448]
                        String: "strategy" [383,393]
                        OBJECT [394,448]
                            FIELD [395,447]
                                String: "matrix" [395,403]
                                OBJECT [404,447]
                                    FIELD [405,446]
                                        String: "machine_type" [405,419]
                                        ARRAY [420,446]
                                            STRING [421,433]
                                                String: "single-gpu" [421,433]
                                            STRING [434,445]
                                                String: "multi-gpu" [434,445]
                    FIELD [449,517]
                        String: "runs-on" [449,458]
                        ARRAY [459,517]
                            STRING [460,488]
                                String: "${{ matrix.machine_type }}" [460,488]
                            STRING [489,501]
                                String: "nvidia-gpu" [489,501]
                            STRING [502,506]
                                String: "t4" [502,506]
                            STRING [507,516]
                                String: "past-ci" [507,516]
                    FIELD [518,692]
                        String: "container" [518,529]
                        OBJECT [530,692]
                            FIELD [531,594]
                                String: "image" [531,538]
                                STRING [539,594]
                                    String: "huggingface/transformers-all-latest-torch-nightly-gpu" [539,594]
                            FIELD [595,691]
                                String: "options" [595,604]
                                STRING [605,691]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [605,691]
                    FIELD [693,754]
                        String: "outputs" [693,702]
                        OBJECT [703,754]
                            FIELD [704,753]
                                String: "matrix" [704,712]
                                STRING [713,753]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [713,753]
                    FIELD [755,1604]
                        String: "steps" [755,762]
                        ARRAY [763,1604]
                            OBJECT [764,877]
                                FIELD [765,786]
                                    String: "name" [765,771]
                                    STRING [772,786]
                                        String: "Update clone" [772,786]
                                FIELD [787,822]
                                    String: "working-directory" [787,806]
                                    STRING [807,822]
                                        String: "/transformers" [807,822]
                                FIELD [823,876]
                                    String: "run" [823,828]
                                    STRING [829,876]
                                        String: "git fetch && git checkout ${{ github.sha }}\n" [829,876]
                            OBJECT [878,1016]
                                FIELD [879,895]
                                    String: "name" [879,885]
                                    STRING [886,895]
                                        String: "Cleanup" [886,895]
                                FIELD [896,931]
                                    String: "working-directory" [896,915]
                                    STRING [916,931]
                                        String: "/transformers" [916,931]
                                FIELD [932,1015]
                                    String: "run" [932,937]
                                    STRING [938,1015]
                                        String: "rm -rf tests/__pycache__\nrm -rf tests/models/__pycache__\nrm -rf reports\n" [938,1015]
                            OBJECT [1017,1126]
                                FIELD [1018,1070]
                                    String: "name" [1018,1024]
                                    STRING [1025,1070]
                                        String: "Show installed libraries and their versions" [1025,1070]
                                FIELD [1071,1106]
                                    String: "working-directory" [1071,1090]
                                    STRING [1091,1106]
                                        String: "/transformers" [1091,1106]
                                FIELD [1107,1125]
                                    String: "run" [1107,1112]
                                    STRING [1113,1125]
                                        String: "pip freeze" [1113,1125]
                            OBJECT [1127,1560]
                                FIELD [1128,1145]
                                    String: "id" [1128,1132]
                                    STRING [1133,1145]
                                        String: "set-matrix" [1133,1145]
                                FIELD [1146,1178]
                                    String: "name" [1146,1152]
                                    STRING [1153,1178]
                                        String: "Identify models to test" [1153,1178]
                                FIELD [1179,1220]
                                    String: "working-directory" [1179,1198]
                                    STRING [1199,1220]
                                        String: "/transformers/tests" [1199,1220]
                                FIELD [1221,1559]
                                    String: "run" [1221,1226]
                                    STRING [1227,1559]
                                        String: "echo \"matrix=$(python3 -c 'import os; tests = os.getcwd(); model_tests = os.listdir(os.path.join(tests, \"models\")); d1 = sorted(list(filter(os.path.isdir, os.listdir(tests)))); d2 = sorted(list(filter(os.path.isdir, [f\"models/{x}\" for x in model_tests]))); d1.remove(\"models\"); d = d2 + d1; print(d)')\" >> $GITHUB_OUTPUT\n" [1227,1559]
                            OBJECT [1561,1603]
                                FIELD [1562,1581]
                                    String: "name" [1562,1568]
                                    STRING [1569,1581]
                                        String: "NVIDIA-SMI" [1569,1581]
                                FIELD [1582,1602]
                                    String: "run" [1582,1587]
                                    STRING [1588,1602]
                                        String: "nvidia-smi\n" [1588,1602]
            FIELD [1606,3601]
                String: "run_tests_single_gpu" [1606,1628]
                OBJECT [1629,3601]
                    FIELD [1630,1650]
                        String: "name" [1630,1636]
                        STRING [1637,1650]
                            String: "Model tests" [1637,1650]
                    FIELD [1651,1778]
                        String: "strategy" [1651,1661]
                        OBJECT [1662,1778]
                            FIELD [1663,1680]
                                String: "fail-fast" [1663,1674]
                                FALSE [1675,1680]
                            FIELD [1681,1777]
                                String: "matrix" [1681,1689]
                                OBJECT [1690,1777]
                                    FIELD [1691,1746]
                                        String: "folders" [1691,1700]
                                        STRING [1701,1746]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [1701,1746]
                                    FIELD [1747,1776]
                                        String: "machine_type" [1747,1761]
                                        ARRAY [1762,1776]
                                            STRING [1763,1775]
                                                String: "single-gpu" [1763,1775]
                    FIELD [1779,1847]
                        String: "runs-on" [1779,1788]
                        ARRAY [1789,1847]
                            STRING [1790,1818]
                                String: "${{ matrix.machine_type }}" [1790,1818]
                            STRING [1819,1831]
                                String: "nvidia-gpu" [1819,1831]
                            STRING [1832,1836]
                                String: "t4" [1832,1836]
                            STRING [1837,1846]
                                String: "past-ci" [1837,1846]
                    FIELD [1848,2022]
                        String: "container" [1848,1859]
                        OBJECT [1860,2022]
                            FIELD [1861,1924]
                                String: "image" [1861,1868]
                                STRING [1869,1924]
                                    String: "huggingface/transformers-all-latest-torch-nightly-gpu" [1869,1924]
                            FIELD [1925,2021]
                                String: "options" [1925,1934]
                                STRING [1935,2021]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1935,2021]
                    FIELD [2023,2038]
                        String: "needs" [2023,2030]
                        STRING [2031,2038]
                            String: "setup" [2031,2038]
                    FIELD [2039,3600]
                        String: "steps" [2039,2046]
                        ARRAY [2047,3600]
                            OBJECT [2048,2322]
                                FIELD [2049,2091]
                                    String: "name" [2049,2055]
                                    STRING [2056,2091]
                                        String: "Echo folder ${{ matrix.folders }}" [2056,2091]
                                FIELD [2092,2106]
                                    String: "shell" [2092,2099]
                                    STRING [2100,2106]
                                        String: "bash" [2100,2106]
                                FIELD [2107,2321]
                                    String: "run" [2107,2112]
                                    STRING [2113,2321]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [2113,2321]
                            OBJECT [2323,2434]
                                FIELD [2324,2345]
                                    String: "name" [2324,2330]
                                    STRING [2331,2345]
                                        String: "Update clone" [2331,2345]
                                FIELD [2346,2381]
                                    String: "working-directory" [2346,2365]
                                    STRING [2366,2381]
                                        String: "/transformers" [2366,2381]
                                FIELD [2382,2433]
                                    String: "run" [2382,2387]
                                    STRING [2388,2433]
                                        String: "git fetch && git checkout ${{ github.sha }}" [2388,2433]
                            OBJECT [2435,2650]
                                FIELD [2436,2533]
                                    String: "name" [2436,2442]
                                    STRING [2443,2533]
                                        String: "Reinstall transformers in edit mode (remove the one installed during docker image build)" [2443,2533]
                                FIELD [2534,2569]
                                    String: "working-directory" [2534,2553]
                                    STRING [2554,2569]
                                        String: "/transformers" [2554,2569]
                                FIELD [2570,2649]
                                    String: "run" [2570,2575]
                                    STRING [2576,2649]
                                        String: "python3 -m pip uninstall -y transformers && python3 -m pip install -e ." [2576,2649]
                            OBJECT [2651,2693]
                                FIELD [2652,2671]
                                    String: "name" [2652,2658]
                                    STRING [2659,2671]
                                        String: "NVIDIA-SMI" [2659,2671]
                                FIELD [2672,2692]
                                    String: "run" [2672,2677]
                                    STRING [2678,2692]
                                        String: "nvidia-smi\n" [2678,2692]
                            OBJECT [2694,2789]
                                FIELD [2695,2715]
                                    String: "name" [2695,2701]
                                    STRING [2702,2715]
                                        String: "Environment" [2702,2715]
                                FIELD [2716,2751]
                                    String: "working-directory" [2716,2735]
                                    STRING [2736,2751]
                                        String: "/transformers" [2736,2751]
                                FIELD [2752,2788]
                                    String: "run" [2752,2757]
                                    STRING [2758,2788]
                                        String: "python3 utils/print_env.py\n" [2758,2788]
                            OBJECT [2790,2899]
                                FIELD [2791,2843]
                                    String: "name" [2791,2797]
                                    STRING [2798,2843]
                                        String: "Show installed libraries and their versions" [2798,2843]
                                FIELD [2844,2879]
                                    String: "working-directory" [2844,2863]
                                    STRING [2864,2879]
                                        String: "/transformers" [2864,2879]
                                FIELD [2880,2898]
                                    String: "run" [2880,2885]
                                    STRING [2886,2898]
                                        String: "pip freeze" [2886,2898]
                            OBJECT [2900,3098]
                                FIELD [2901,2930]
                                    String: "name" [2901,2907]
                                    STRING [2908,2930]
                                        String: "Run all tests on GPU" [2908,2930]
                                FIELD [2931,2966]
                                    String: "working-directory" [2931,2950]
                                    STRING [2951,2966]
                                        String: "/transformers" [2951,2966]
                                FIELD [2967,3097]
                                    String: "run" [2967,2972]
                                    STRING [2973,3097]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [2973,3097]
                            OBJECT [3099,3292]
                                FIELD [3100,3130]
                                    String: "name" [3100,3106]
                                    STRING [3107,3130]
                                        String: "Failure short reports" [3107,3130]
                                FIELD [3131,3154]
                                    String: "if" [3131,3135]
                                    STRING [3136,3154]
                                        String: "${{ failure() }}" [3136,3154]
                                FIELD [3155,3179]
                                    String: "continue-on-error" [3155,3174]
                                    TRUE [3175,3179]
                                FIELD [3180,3291]
                                    String: "run" [3180,3185]
                                    STRING [3186,3291]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [3186,3291]
                            OBJECT [3293,3599]
                                FIELD [3294,3331]
                                    String: "name" [3294,3300]
                                    STRING [3301,3331]
                                        String: "Test suite reports artifacts" [3301,3331]
                                FIELD [3332,3354]
                                    String: "if" [3332,3336]
                                    STRING [3337,3354]
                                        String: "${{ always() }}" [3337,3354]
                                FIELD [3355,3390]
                                    String: "uses" [3355,3361]
                                    STRING [3362,3390]
                                        String: "actions/upload-artifact@v3" [3362,3390]
                                FIELD [3391,3598]
                                    String: "with" [3391,3397]
                                    OBJECT [3398,3598]
                                        FIELD [3399,3507]
                                            String: "name" [3399,3405]
                                            STRING [3406,3507]
                                                String: "${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports_postfix_nightly" [3406,3507]
                                        FIELD [3508,3597]
                                            String: "path" [3508,3514]
                                            STRING [3515,3597]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}" [3515,3597]
            FIELD [3602,5597]
                String: "run_tests_multi_gpu" [3602,3623]
                OBJECT [3624,5597]
                    FIELD [3625,3645]
                        String: "name" [3625,3631]
                        STRING [3632,3645]
                            String: "Model tests" [3632,3645]
                    FIELD [3646,3772]
                        String: "strategy" [3646,3656]
                        OBJECT [3657,3772]
                            FIELD [3658,3675]
                                String: "fail-fast" [3658,3669]
                                FALSE [3670,3675]
                            FIELD [3676,3771]
                                String: "matrix" [3676,3684]
                                OBJECT [3685,3771]
                                    FIELD [3686,3741]
                                        String: "folders" [3686,3695]
                                        STRING [3696,3741]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [3696,3741]
                                    FIELD [3742,3770]
                                        String: "machine_type" [3742,3756]
                                        ARRAY [3757,3770]
                                            STRING [3758,3769]
                                                String: "multi-gpu" [3758,3769]
                    FIELD [3773,3841]
                        String: "runs-on" [3773,3782]
                        ARRAY [3783,3841]
                            STRING [3784,3812]
                                String: "${{ matrix.machine_type }}" [3784,3812]
                            STRING [3813,3825]
                                String: "nvidia-gpu" [3813,3825]
                            STRING [3826,3830]
                                String: "t4" [3826,3830]
                            STRING [3831,3840]
                                String: "past-ci" [3831,3840]
                    FIELD [3842,4018]
                        String: "container" [3842,3853]
                        OBJECT [3854,4018]
                            FIELD [3855,3918]
                                String: "image" [3855,3862]
                                STRING [3863,3918]
                                    String: "huggingface/transformers-all-latest-torch-nightly-gpu" [3863,3918]
                            FIELD [3919,4017]
                                String: "options" [3919,3928]
                                STRING [3929,4017]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [3929,4017]
                    FIELD [4019,4034]
                        String: "needs" [4019,4026]
                        STRING [4027,4034]
                            String: "setup" [4027,4034]
                    FIELD [4035,5596]
                        String: "steps" [4035,4042]
                        ARRAY [4043,5596]
                            OBJECT [4044,4318]
                                FIELD [4045,4087]
                                    String: "name" [4045,4051]
                                    STRING [4052,4087]
                                        String: "Echo folder ${{ matrix.folders }}" [4052,4087]
                                FIELD [4088,4102]
                                    String: "shell" [4088,4095]
                                    STRING [4096,4102]
                                        String: "bash" [4096,4102]
                                FIELD [4103,4317]
                                    String: "run" [4103,4108]
                                    STRING [4109,4317]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [4109,4317]
                            OBJECT [4319,4430]
                                FIELD [4320,4341]
                                    String: "name" [4320,4326]
                                    STRING [4327,4341]
                                        String: "Update clone" [4327,4341]
                                FIELD [4342,4377]
                                    String: "working-directory" [4342,4361]
                                    STRING [4362,4377]
                                        String: "/transformers" [4362,4377]
                                FIELD [4378,4429]
                                    String: "run" [4378,4383]
                                    STRING [4384,4429]
                                        String: "git fetch && git checkout ${{ github.sha }}" [4384,4429]
                            OBJECT [4431,4646]
                                FIELD [4432,4529]
                                    String: "name" [4432,4438]
                                    STRING [4439,4529]
                                        String: "Reinstall transformers in edit mode (remove the one installed during docker image build)" [4439,4529]
                                FIELD [4530,4565]
                                    String: "working-directory" [4530,4549]
                                    STRING [4550,4565]
                                        String: "/transformers" [4550,4565]
                                FIELD [4566,4645]
                                    String: "run" [4566,4571]
                                    STRING [4572,4645]
                                        String: "python3 -m pip uninstall -y transformers && python3 -m pip install -e ." [4572,4645]
                            OBJECT [4647,4689]
                                FIELD [4648,4667]
                                    String: "name" [4648,4654]
                                    STRING [4655,4667]
                                        String: "NVIDIA-SMI" [4655,4667]
                                FIELD [4668,4688]
                                    String: "run" [4668,4673]
                                    STRING [4674,4688]
                                        String: "nvidia-smi\n" [4674,4688]
                            OBJECT [4690,4785]
                                FIELD [4691,4711]
                                    String: "name" [4691,4697]
                                    STRING [4698,4711]
                                        String: "Environment" [4698,4711]
                                FIELD [4712,4747]
                                    String: "working-directory" [4712,4731]
                                    STRING [4732,4747]
                                        String: "/transformers" [4732,4747]
                                FIELD [4748,4784]
                                    String: "run" [4748,4753]
                                    STRING [4754,4784]
                                        String: "python3 utils/print_env.py\n" [4754,4784]
                            OBJECT [4786,4895]
                                FIELD [4787,4839]
                                    String: "name" [4787,4793]
                                    STRING [4794,4839]
                                        String: "Show installed libraries and their versions" [4794,4839]
                                FIELD [4840,4875]
                                    String: "working-directory" [4840,4859]
                                    STRING [4860,4875]
                                        String: "/transformers" [4860,4875]
                                FIELD [4876,4894]
                                    String: "run" [4876,4881]
                                    STRING [4882,4894]
                                        String: "pip freeze" [4882,4894]
                            OBJECT [4896,5094]
                                FIELD [4897,4926]
                                    String: "name" [4897,4903]
                                    STRING [4904,4926]
                                        String: "Run all tests on GPU" [4904,4926]
                                FIELD [4927,4962]
                                    String: "working-directory" [4927,4946]
                                    STRING [4947,4962]
                                        String: "/transformers" [4947,4962]
                                FIELD [4963,5093]
                                    String: "run" [4963,4968]
                                    STRING [4969,5093]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [4969,5093]
                            OBJECT [5095,5288]
                                FIELD [5096,5126]
                                    String: "name" [5096,5102]
                                    STRING [5103,5126]
                                        String: "Failure short reports" [5103,5126]
                                FIELD [5127,5150]
                                    String: "if" [5127,5131]
                                    STRING [5132,5150]
                                        String: "${{ failure() }}" [5132,5150]
                                FIELD [5151,5175]
                                    String: "continue-on-error" [5151,5170]
                                    TRUE [5171,5175]
                                FIELD [5176,5287]
                                    String: "run" [5176,5181]
                                    STRING [5182,5287]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [5182,5287]
                            OBJECT [5289,5595]
                                FIELD [5290,5327]
                                    String: "name" [5290,5296]
                                    STRING [5297,5327]
                                        String: "Test suite reports artifacts" [5297,5327]
                                FIELD [5328,5350]
                                    String: "if" [5328,5332]
                                    STRING [5333,5350]
                                        String: "${{ always() }}" [5333,5350]
                                FIELD [5351,5386]
                                    String: "uses" [5351,5357]
                                    STRING [5358,5386]
                                        String: "actions/upload-artifact@v3" [5358,5386]
                                FIELD [5387,5594]
                                    String: "with" [5387,5393]
                                    OBJECT [5394,5594]
                                        FIELD [5395,5503]
                                            String: "name" [5395,5401]
                                            STRING [5402,5503]
                                                String: "${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports_postfix_nightly" [5402,5503]
                                        FIELD [5504,5593]
                                            String: "path" [5504,5510]
                                            STRING [5511,5593]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}" [5511,5593]
            FIELD [5598,7872]
                String: "run_all_tests_torch_cuda_extensions_gpu" [5598,5639]
                OBJECT [5640,7872]
                    FIELD [5641,5676]
                        String: "name" [5641,5647]
                        STRING [5648,5676]
                            String: "Torch CUDA extension tests" [5648,5676]
                    FIELD [5677,5760]
                        String: "strategy" [5677,5687]
                        OBJECT [5688,5760]
                            FIELD [5689,5706]
                                String: "fail-fast" [5689,5700]
                                FALSE [5701,5706]
                            FIELD [5707,5759]
                                String: "matrix" [5707,5715]
                                OBJECT [5716,5759]
                                    FIELD [5717,5758]
                                        String: "machine_type" [5717,5731]
                                        ARRAY [5732,5758]
                                            STRING [5733,5745]
                                                String: "single-gpu" [5733,5745]
                                            STRING [5746,5757]
                                                String: "multi-gpu" [5746,5757]
                    FIELD [5761,5829]
                        String: "runs-on" [5761,5770]
                        ARRAY [5771,5829]
                            STRING [5772,5800]
                                String: "${{ matrix.machine_type }}" [5772,5800]
                            STRING [5801,5813]
                                String: "nvidia-gpu" [5801,5813]
                            STRING [5814,5818]
                                String: "t4" [5814,5818]
                            STRING [5819,5828]
                                String: "past-ci" [5819,5828]
                    FIELD [5830,5845]
                        String: "needs" [5830,5837]
                        STRING [5838,5845]
                            String: "setup" [5838,5845]
                    FIELD [5846,6023]
                        String: "container" [5846,5857]
                        OBJECT [5858,6023]
                            FIELD [5859,5923]
                                String: "image" [5859,5866]
                                STRING [5867,5923]
                                    String: "huggingface/transformers-pytorch-deepspeed-nightly-gpu" [5867,5923]
                            FIELD [5924,6022]
                                String: "options" [5924,5933]
                                STRING [5934,6022]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [5934,6022]
                    FIELD [6024,7871]
                        String: "steps" [6024,6031]
                        ARRAY [6032,7871]
                            OBJECT [6033,6154]
                                FIELD [6034,6055]
                                    String: "name" [6034,6040]
                                    STRING [6041,6055]
                                        String: "Update clone" [6041,6055]
                                FIELD [6056,6101]
                                    String: "working-directory" [6056,6075]
                                    STRING [6076,6101]
                                        String: "/workspace/transformers" [6076,6101]
                                FIELD [6102,6153]
                                    String: "run" [6102,6107]
                                    STRING [6108,6153]
                                        String: "git fetch && git checkout ${{ github.sha }}" [6108,6153]
                            OBJECT [6155,6380]
                                FIELD [6156,6253]
                                    String: "name" [6156,6162]
                                    STRING [6163,6253]
                                        String: "Reinstall transformers in edit mode (remove the one installed during docker image build)" [6163,6253]
                                FIELD [6254,6299]
                                    String: "working-directory" [6254,6273]
                                    STRING [6274,6299]
                                        String: "/workspace/transformers" [6274,6299]
                                FIELD [6300,6379]
                                    String: "run" [6300,6305]
                                    STRING [6306,6379]
                                        String: "python3 -m pip uninstall -y transformers && python3 -m pip install -e ." [6306,6379]
                            OBJECT [6381,6475]
                                FIELD [6382,6421]
                                    String: "name" [6382,6388]
                                    STRING [6389,6421]
                                        String: "Remove cached torch extensions" [6389,6421]
                                FIELD [6422,6474]
                                    String: "run" [6422,6427]
                                    STRING [6428,6474]
                                        String: "rm -rf /github/home/.cache/torch_extensions/" [6428,6474]
                            OBJECT [6476,6876]
                                FIELD [6477,6513]
                                    String: "name" [6477,6483]
                                    STRING [6484,6513]
                                        String: "Pre build DeepSpeed *again*" [6484,6513]
                                FIELD [6514,6546]
                                    String: "working-directory" [6514,6533]
                                    STRING [6534,6546]
                                        String: "/workspace" [6534,6546]
                                FIELD [6547,6875]
                                    String: "run" [6547,6552]
                                    STRING [6553,6875]
                                        String: "python3 -m pip uninstall -y deepspeed\nrm -rf DeepSpeed\ngit clone https://github.com/microsoft/DeepSpeed && cd DeepSpeed && rm -rf build\nDS_BUILD_CPU_ADAM=1 DS_BUILD_FUSED_ADAM=1 DS_BUILD_UTILS=1 python3 -m pip install . --global-option=\"build_ext\" --global-option=\"-j8\" --no-cache -v --disable-pip-version-check\n" [6553,6875]
                            OBJECT [6877,6919]
                                FIELD [6878,6897]
                                    String: "name" [6878,6884]
                                    STRING [6885,6897]
                                        String: "NVIDIA-SMI" [6885,6897]
                                FIELD [6898,6918]
                                    String: "run" [6898,6903]
                                    STRING [6904,6918]
                                        String: "nvidia-smi\n" [6904,6918]
                            OBJECT [6920,7024]
                                FIELD [6921,6941]
                                    String: "name" [6921,6927]
                                    STRING [6928,6941]
                                        String: "Environment" [6928,6941]
                                FIELD [6942,6987]
                                    String: "working-directory" [6942,6961]
                                    STRING [6962,6987]
                                        String: "/workspace/transformers" [6962,6987]
                                FIELD [6988,7023]
                                    String: "run" [6988,6993]
                                    STRING [6994,7023]
                                        String: "python utils/print_env.py\n" [6994,7023]
                            OBJECT [7025,7144]
                                FIELD [7026,7078]
                                    String: "name" [7026,7032]
                                    STRING [7033,7078]
                                        String: "Show installed libraries and their versions" [7033,7078]
                                FIELD [7079,7124]
                                    String: "working-directory" [7079,7098]
                                    STRING [7099,7124]
                                        String: "/workspace/transformers" [7099,7124]
                                FIELD [7125,7143]
                                    String: "run" [7125,7130]
                                    STRING [7131,7143]
                                        String: "pip freeze" [7131,7143]
                            OBJECT [7145,7357]
                                FIELD [7146,7175]
                                    String: "name" [7146,7152]
                                    STRING [7153,7175]
                                        String: "Run all tests on GPU" [7153,7175]
                                FIELD [7176,7221]
                                    String: "working-directory" [7176,7195]
                                    STRING [7196,7221]
                                        String: "/workspace/transformers" [7196,7221]
                                FIELD [7222,7356]
                                    String: "run" [7222,7227]
                                    STRING [7228,7356]
                                        String: "python -m pytest -v --make-reports=${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [7228,7356]
                            OBJECT [7358,7561]
                                FIELD [7359,7389]
                                    String: "name" [7359,7365]
                                    STRING [7366,7389]
                                        String: "Failure short reports" [7366,7389]
                                FIELD [7390,7413]
                                    String: "if" [7390,7394]
                                    STRING [7395,7413]
                                        String: "${{ failure() }}" [7395,7413]
                                FIELD [7414,7438]
                                    String: "continue-on-error" [7414,7433]
                                    TRUE [7434,7438]
                                FIELD [7439,7560]
                                    String: "run" [7439,7444]
                                    STRING [7445,7560]
                                        String: "cat /workspace/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu/failures_short.txt" [7445,7560]
                            OBJECT [7562,7870]
                                FIELD [7563,7600]
                                    String: "name" [7563,7569]
                                    STRING [7570,7600]
                                        String: "Test suite reports artifacts" [7570,7600]
                                FIELD [7601,7623]
                                    String: "if" [7601,7605]
                                    STRING [7606,7623]
                                        String: "${{ always() }}" [7606,7623]
                                FIELD [7624,7659]
                                    String: "uses" [7624,7630]
                                    STRING [7631,7659]
                                        String: "actions/upload-artifact@v3" [7631,7659]
                                FIELD [7660,7869]
                                    String: "with" [7660,7666]
                                    OBJECT [7667,7869]
                                        FIELD [7668,7768]
                                            String: "name" [7668,7674]
                                            STRING [7675,7768]
                                                String: "${{ matrix.machine_type }}_run_tests_torch_cuda_extensions_gpu_test_reports_postfix_nightly" [7675,7768]
                                        FIELD [7769,7868]
                                            String: "path" [7769,7775]
                                            STRING [7776,7868]
                                                String: "/workspace/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu" [7776,7868]
            FIELD [7873,8977]
                String: "send_results" [7873,7887]
                OBJECT [7888,8977]
                    FIELD [7889,7921]
                        String: "name" [7889,7895]
                        STRING [7896,7921]
                            String: "Send results to webhook" [7896,7921]
                    FIELD [7922,7947]
                        String: "runs-on" [7922,7931]
                        STRING [7932,7947]
                            String: "ubuntu-latest" [7932,7947]
                    FIELD [7948,7963]
                        String: "if" [7948,7952]
                        STRING [7953,7963]
                            String: "always()" [7953,7963]
                    FIELD [7964,8068]
                        String: "needs" [7964,7971]
                        ARRAY [7972,8068]
                            STRING [7973,7980]
                                String: "setup" [7973,7980]
                            STRING [7981,8003]
                                String: "run_tests_single_gpu" [7981,8003]
                            STRING [8004,8025]
                                String: "run_tests_multi_gpu" [8004,8025]
                            STRING [8026,8067]
                                String: "run_all_tests_torch_cuda_extensions_gpu" [8026,8067]
                    FIELD [8069,8976]
                        String: "steps" [8069,8076]
                        ARRAY [8077,8976]
                            OBJECT [8078,8185]
                                FIELD [8079,8110]
                                    String: "name" [8079,8085]
                                    STRING [8086,8110]
                                        String: "Preliminary job status" [8086,8110]
                                FIELD [8111,8125]
                                    String: "shell" [8111,8118]
                                    STRING [8119,8125]
                                        String: "bash" [8119,8125]
                                FIELD [8126,8184]
                                    String: "run" [8126,8131]
                                    STRING [8132,8184]
                                        String: "echo \"Setup status: ${{ needs.setup.result }}\"\n" [8132,8184]
                            OBJECT [8186,8216]
                                FIELD [8187,8215]
                                    String: "uses" [8187,8193]
                                    STRING [8194,8215]
                                        String: "actions/checkout@v3" [8194,8215]
                            OBJECT [8217,8256]
                                FIELD [8218,8255]
                                    String: "uses" [8218,8224]
                                    STRING [8225,8255]
                                        String: "actions/download-artifact@v3" [8225,8255]
                            OBJECT [8257,8899]
                                FIELD [8258,8288]
                                    String: "name" [8258,8264]
                                    STRING [8265,8288]
                                        String: "Send message to Slack" [8265,8288]
                                FIELD [8289,8770]
                                    String: "env" [8289,8294]
                                    OBJECT [8295,8770]
                                        FIELD [8296,8352]
                                            String: "CI_SLACK_BOT_TOKEN" [8296,8316]
                                            STRING [8317,8352]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [8317,8352]
                                        FIELD [8353,8411]
                                            String: "CI_SLACK_CHANNEL_ID" [8353,8374]
                                            STRING [8375,8411]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [8375,8411]
                                        FIELD [8412,8482]
                                            String: "CI_SLACK_CHANNEL_ID_DAILY" [8412,8439]
                                            STRING [8440,8482]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY }}" [8440,8482]
                                        FIELD [8483,8559]
                                            String: "CI_SLACK_CHANNEL_DUMMY_TESTS" [8483,8513]
                                            STRING [8514,8559]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_DUMMY_TESTS }}" [8514,8559]
                                        FIELD [8560,8637]
                                            String: "CI_SLACK_REPORT_CHANNEL_ID" [8560,8588]
                                            STRING [8589,8637]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_PAST_FUTURE }}" [8589,8637]
                                        FIELD [8638,8702]
                                            String: "ACCESS_REPO_INFO_TOKEN" [8638,8662]
                                            STRING [8663,8702]
                                                String: "${{ secrets.ACCESS_REPO_INFO_TOKEN }}" [8663,8702]
                                        FIELD [8703,8726]
                                            String: "CI_EVENT" [8703,8713]
                                            STRING [8714,8726]
                                                String: "Nightly CI" [8714,8726]
                                        FIELD [8727,8769]
                                            String: "SETUP_STATUS" [8727,8741]
                                            STRING [8742,8769]
                                                String: "${{ needs.setup.result }}" [8742,8769]
                                FIELD [8771,8898]
                                    String: "run" [8771,8776]
                                    STRING [8777,8898]
                                        String: "pip install slack_sdk\npip show slack_sdk\npython utils/notification_service.py \"${{ needs.setup.outputs.matrix }}\"\n" [8777,8898]
                            OBJECT [8900,8975]
                                FIELD [8901,8938]
                                    String: "uses" [8901,8907]
                                    STRING [8908,8938]
                                        String: "geekyeggo/delete-artifact@v2" [8908,8938]
                                FIELD [8939,8974]
                                    String: "with" [8939,8945]
                                    OBJECT [8946,8974]
                                        FIELD [8947,8973]
                                            String: "name" [8947,8953]
                                            STRING [8954,8973]
                                                String: "single-*\nmulti-*" [8954,8973]