OBJECT [0,1271]
    FIELD [1,46]
        String: "name" [1,7]
        STRING [8,46]
            String: "Automate Docker Image Build and Push" [8,46]
    FIELD [47,96]
        String: "on" [47,51]
        OBJECT [52,96]
            FIELD [53,95]
                String: "push" [53,59]
                OBJECT [60,95]
                    FIELD [61,94]
                        String: "branches" [61,71]
                        STRING [72,94]
                            String: "automate-image-build" [72,94]
    FIELD [97,202]
        String: "env" [97,102]
        OBJECT [103,202]
            FIELD [104,134]
                String: "IMAGE_NAME" [104,116]
                STRING [117,134]
                    String: "autofocus-serve" [117,134]
            FIELD [135,171]
                String: "DOCKERFILE_DIR" [135,151]
                STRING [152,171]
                    String: "autofocus/predict" [152,171]
            FIELD [172,201]
                String: "DOCKERHUB_USER" [172,188]
                STRING [189,201]
                    String: "davidwilby" [189,201]
    FIELD [203,1270]
        String: "jobs" [203,209]
        OBJECT [210,1270]
            FIELD [211,1269]
                String: "main" [211,217]
                OBJECT [218,1269]
                    FIELD [219,244]
                        String: "runs-on" [219,228]
                        STRING [229,244]
                            String: "ubuntu-latest" [229,244]
                    FIELD [245,1268]
                        String: "steps" [245,252]
                        ARRAY [253,1268]
                            OBJECT [254,302]
                                FIELD [255,272]
                                    String: "name" [255,261]
                                    STRING [262,272]
                                        String: "Checkout" [262,272]
                                FIELD [273,301]
                                    String: "uses" [273,279]
                                    STRING [280,301]
                                        String: "actions/checkout@v2" [280,301]
                            OBJECT [303,376]
                                FIELD [304,335]
                                    String: "name" [304,310]
                                    STRING [311,335]
                                        String: "AWS CLI install action" [311,335]
                                FIELD [336,375]
                                    String: "uses" [336,342]
                                    STRING [343,375]
                                        String: "chrislennon/action-aws-cli@1.1" [343,375]
                            OBJECT [377,644]
                                FIELD [378,411]
                                    String: "name" [378,384]
                                    STRING [385,411]
                                        String: "Load model file from AWS" [385,411]
                                FIELD [412,517]
                                    String: "run" [412,417]
                                    STRING [418,517]
                                        String: "aws s3 cp s3://autofocus/models/multilabel_model_20190407.pkl ${{ env.DOCKERFILE_DIR }}/models/\n" [418,517]
                                FIELD [518,643]
                                    String: "env" [518,523]
                                    OBJECT [524,643]
                                        FIELD [525,579]
                                            String: "AWS_ACCESS_KEY_ID" [525,544]
                                            STRING [545,579]
                                                String: "${{ secrets.AWS_ACCESS_KEY_ID }}" [545,579]
                                        FIELD [580,642]
                                            String: "AWS_SECRET_ACCESS_KEY" [580,603]
                                            STRING [604,642]
                                                String: "${{ secrets.AWS_SECRET_ACCESS_KEY }}" [604,642]
                            OBJECT [645,704]
                                FIELD [646,666]
                                    String: "name" [646,652]
                                    STRING [653,666]
                                        String: "Set up QEMU" [653,666]
                                FIELD [667,703]
                                    String: "uses" [667,673]
                                    STRING [674,703]
                                        String: "docker/setup-qemu-action@v1" [674,703]
                            OBJECT [705,775]
                                FIELD [706,735]
                                    String: "name" [706,712]
                                    STRING [713,735]
                                        String: "Set up Docker Buildx" [713,735]
                                FIELD [736,774]
                                    String: "uses" [736,742]
                                    STRING [743,774]
                                        String: "docker/setup-buildx-action@v1" [743,774]
                            OBJECT [776,937]
                                FIELD [777,804]
                                    String: "name" [777,783]
                                    STRING [784,804]
                                        String: "Login to DockerHub" [784,804]
                                FIELD [805,836]
                                    String: "uses" [805,811]
                                    STRING [812,836]
                                        String: "docker/login-action@v1" [812,836]
                                FIELD [837,936]
                                    String: "with" [837,843]
                                    OBJECT [844,936]
                                        FIELD [845,891]
                                            String: "username" [845,855]
                                            STRING [856,891]
                                                String: "${{ secrets.DOCKERHUB_USERNAME }}" [856,891]
                                        FIELD [892,935]
                                            String: "password" [892,902]
                                            STRING [903,935]
                                                String: "${{ secrets.DOCKERHUB_TOKEN }}" [903,935]
                            OBJECT [938,1189]
                                FIELD [939,962]
                                    String: "name" [939,945]
                                    STRING [946,962]
                                        String: "Build and push" [946,962]
                                FIELD [963,982]
                                    String: "id" [963,967]
                                    STRING [968,982]
                                        String: "docker_build" [968,982]
                                FIELD [983,1019]
                                    String: "uses" [983,989]
                                    STRING [990,1019]
                                        String: "docker/build-push-action@v2" [990,1019]
                                FIELD [1020,1188]
                                    String: "with" [1020,1026]
                                    OBJECT [1027,1188]
                                        FIELD [1028,1065]
                                            String: "context" [1028,1037]
                                            STRING [1038,1065]
                                                String: "${{ env.DOCKERFILE_DIR }}" [1038,1065]
                                        FIELD [1066,1111]
                                            String: "file" [1066,1072]
                                            STRING [1073,1111]
                                                String: "${{ env.DOCKERFILE_DIR }}/Dockerfile" [1073,1111]
                                        FIELD [1112,1123]
                                            String: "push" [1112,1118]
                                            TRUE [1119,1123]
                                        FIELD [1124,1187]
                                            String: "tags" [1124,1130]
                                            STRING [1131,1187]
                                                String: "${{ env.DOCKERHUB_USER }}/${{ env.IMAGE_NAME }}:latest" [1131,1187]
                            OBJECT [1190,1267]
                                FIELD [1191,1212]
                                    String: "name" [1191,1197]
                                    STRING [1198,1212]
                                        String: "Image digest" [1198,1212]
                                FIELD [1213,1266]
                                    String: "run" [1213,1218]
                                    STRING [1219,1266]
                                        String: "echo ${{ steps.docker_build.outputs.digest }}" [1219,1266]