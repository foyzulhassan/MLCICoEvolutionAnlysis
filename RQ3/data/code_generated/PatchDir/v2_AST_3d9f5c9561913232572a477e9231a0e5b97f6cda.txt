OBJECT [0,5397]
    FIELD [1,20]
        String: "name" [1,7]
        STRING [8,20]
            String: "Autoformat" [8,20]
    FIELD [21,74]
        String: "on" [21,25]
        OBJECT [26,74]
            FIELD [27,73]
                String: "issue_comment" [27,42]
                OBJECT [43,73]
                    FIELD [44,72]
                        String: "types" [44,51]
                        ARRAY [52,72]
                            STRING [53,62]
                                String: "created" [53,62]
                            STRING [63,71]
                                String: "edited" [63,71]
    FIELD [75,108]
        String: "permissions" [75,88]
        OBJECT [89,108]
            FIELD [90,107]
                String: "contents" [90,100]
                STRING [101,107]
                    String: "read" [101,107]
    FIELD [109,181]
        String: "defaults" [109,119]
        OBJECT [120,181]
            FIELD [121,180]
                String: "run" [121,126]
                OBJECT [127,180]
                    FIELD [128,179]
                        String: "shell" [128,135]
                        STRING [136,179]
                            String: "bash --noprofile --norc -exo pipefail {0}" [136,179]
    FIELD [182,5396]
        String: "jobs" [182,188]
        OBJECT [189,5396]
            FIELD [190,1794]
                String: "check-comment" [190,205]
                OBJECT [206,1794]
                    FIELD [207,232]
                        String: "runs-on" [207,216]
                        STRING [217,232]
                            String: "ubuntu-latest" [217,232]
                    FIELD [233,253]
                        String: "timeout-minutes" [233,250]
                        NUMBER [251,253]
                            Number: 10 [251,253]
                    FIELD [254,413]
                        String: "if" [254,258]
                        STRING [259,413]
                            String: "${{ github.event.issue.pull_request && contains(github.event.comment.body, '@mlflow-automation') && contains(github.event.comment.body, 'autoformat') }}" [259,413]
                    FIELD [414,472]
                        String: "permissions" [414,427]
                        OBJECT [428,472]
                            FIELD [429,447]
                                String: "statuses" [429,439]
                                STRING [440,447]
                                    String: "write" [440,447]
                            FIELD [448,471]
                                String: "pull-requests" [448,463]
                                STRING [464,471]
                                    String: "write" [464,471]
                    FIELD [473,973]
                        String: "outputs" [473,482]
                        OBJECT [483,973]
                            FIELD [484,566]
                                String: "should_autoformat" [484,503]
                                STRING [504,566]
                                    String: "${{ fromJSON(steps.judge.outputs.result).shouldAutoformat }}" [504,566]
                            FIELD [567,636]
                                String: "repository" [567,579]
                                STRING [580,636]
                                    String: "${{ fromJSON(steps.judge.outputs.result).repository }}" [580,636]
                            FIELD [637,702]
                                String: "head_ref" [637,647]
                                STRING [648,702]
                                    String: "${{ fromJSON(steps.judge.outputs.result).head_ref }}" [648,702]
                            FIELD [703,768]
                                String: "head_sha" [703,713]
                                STRING [714,768]
                                    String: "${{ fromJSON(steps.judge.outputs.result).head_sha }}" [714,768]
                            FIELD [769,834]
                                String: "base_ref" [769,779]
                                STRING [780,834]
                                    String: "${{ fromJSON(steps.judge.outputs.result).base_ref }}" [780,834]
                            FIELD [835,900]
                                String: "base_sha" [835,845]
                                STRING [846,900]
                                    String: "${{ fromJSON(steps.judge.outputs.result).base_sha }}" [846,900]
                            FIELD [901,972]
                                String: "pull_number" [901,914]
                                STRING [915,972]
                                    String: "${{ fromJSON(steps.judge.outputs.result).pull_number }}" [915,972]
                    FIELD [974,1793]
                        String: "steps" [974,981]
                        ARRAY [982,1793]
                            OBJECT [983,1013]
                                FIELD [984,1012]
                                    String: "uses" [984,990]
                                    STRING [991,1012]
                                        String: "actions/checkout@v3" [991,1012]
                            OBJECT [1014,1792]
                                FIELD [1015,1029]
                                    String: "name" [1015,1021]
                                    STRING [1022,1029]
                                        String: "judge" [1022,1029]
                                FIELD [1030,1042]
                                    String: "id" [1030,1034]
                                    STRING [1035,1042]
                                        String: "judge" [1035,1042]
                                FIELD [1043,1076]
                                    String: "uses" [1043,1049]
                                    STRING [1050,1076]
                                        String: "actions/github-script@v6" [1050,1076]
                                FIELD [1077,1791]
                                    String: "with" [1077,1083]
                                    OBJECT [1084,1791]
                                        FIELD [1085,1129]
                                            String: "github-token" [1085,1099]
                                            STRING [1100,1129]
                                                String: "${{ secrets.GITHUB_TOKEN }}" [1100,1129]
                                        FIELD [1130,1790]
                                            String: "script" [1130,1138]
                                            STRING [1139,1790]
                                                String: "core.debug(JSON.stringify(context, null, 2));\nconst autoformat = require('./.github/workflows/autoformat.js');\nconst { comment } = context.payload;\nconst isMaintainer = autoformat.isMlflowMaintainer(comment.author_association);\nif (!isMaintainer) {\n  core.setFailed(\"Only MLflow maintainers can trigger this workflow.\");\n}\nconst shouldAutoformat = autoformat.shouldAutoformat(comment);\nif (shouldAutoformat) {\n  await autoformat.createReaction(context, github);\n  await autoformat.createStatus(context, github, core);\n}\nconst pullInfo = await autoformat.getPullInformation(context, github);\nreturn { ...pullInfo, shouldAutoformat };\n" [1139,1790]
            FIELD [1795,4788]
                String: "format" [1795,1803]
                OBJECT [1804,4788]
                    FIELD [1805,1830]
                        String: "runs-on" [1805,1814]
                        STRING [1815,1830]
                            String: "ubuntu-latest" [1815,1830]
                    FIELD [1831,1851]
                        String: "timeout-minutes" [1831,1848]
                        NUMBER [1849,1851]
                            Number: 30 [1849,1851]
                    FIELD [1852,1875]
                        String: "needs" [1852,1859]
                        STRING [1860,1875]
                            String: "check-comment" [1860,1875]
                    FIELD [1876,1945]
                        String: "if" [1876,1880]
                        STRING [1881,1945]
                            String: "${{ needs.check-comment.outputs.should_autoformat == 'true' }}" [1881,1945]
                    FIELD [1946,1984]
                        String: "permissions" [1946,1959]
                        OBJECT [1960,1984]
                            FIELD [1961,1983]
                                String: "pull-requests" [1961,1976]
                                STRING [1977,1983]
                                    String: "read" [1977,1983]
                    FIELD [1985,4787]
                        String: "steps" [1985,1992]
                        ARRAY [1993,4787]
                            OBJECT [1994,2213]
                                FIELD [1995,2023]
                                    String: "uses" [1995,2001]
                                    STRING [2002,2023]
                                        String: "actions/checkout@v3" [2002,2023]
                                FIELD [2024,2212]
                                    String: "with" [2024,2030]
                                    OBJECT [2031,2212]
                                        FIELD [2032,2092]
                                            String: "repository" [2032,2044]
                                            STRING [2045,2092]
                                                String: "${{ needs.check-comment.outputs.repository }}" [2045,2092]
                                        FIELD [2093,2144]
                                            String: "ref" [2093,2098]
                                            STRING [2099,2144]
                                                String: "${{ needs.check-comment.outputs.head_ref }}" [2099,2144]
                                        FIELD [2145,2162]
                                            String: "fetch-depth" [2145,2158]
                                            NUMBER [2159,2162]
                                                Number: 300 [2159,2162]
                                        FIELD [2163,2211]
                                            String: "token" [2163,2170]
                                            STRING [2171,2211]
                                                String: "${{ secrets.MLFLOW_AUTOMATION_TOKEN }}" [2171,2211]
                            OBJECT [2214,3043]
                                FIELD [2215,2234]
                                    String: "name" [2215,2221]
                                    STRING [2222,2234]
                                        String: "Check diff" [2222,2234]
                                FIELD [2235,2246]
                                    String: "id" [2235,2239]
                                    STRING [2240,2246]
                                        String: "diff" [2240,2246]
                                FIELD [2247,2299]
                                    String: "env" [2247,2252]
                                    OBJECT [2253,2299]
                                        FIELD [2254,2298]
                                            String: "GITHUB_TOKEN" [2254,2268]
                                            STRING [2269,2298]
                                                String: "${{ secrets.GITHUB_TOKEN }}" [2269,2298]
                                FIELD [2300,3042]
                                    String: "run" [2300,2305]
                                    STRING [2306,3042]
                                        String: "changed_files=\"$(gh pr view --repo ${{ github.repository }} ${{ needs.check-comment.outputs.pull_number }} --json files --jq '.files.[].path')\"\nprotos=$([[ -z $(echo \"$changed_files\" | grep '^mlflow/protos') ]] && echo \"false\" || echo \"true\")\npython=$([[ -z $(echo \"$changed_files\" | grep '\\.py$\\|^pyproject\\.toml$') ]] && echo \"false\" || echo \"true\")\njs=$([[ -z $(echo \"$changed_files\" | grep '^mlflow/server/js') ]] && echo \"false\" || echo \"true\")\nr=$([[ -z $(echo \"$changed_files\" | grep '^mlflow/R/mlflow') ]] && echo \"false\" || echo \"true\")\necho \"protos=$protos\" >> $GITHUB_OUTPUT\necho \"python=$python\" >> $GITHUB_OUTPUT\necho \"js=$js\" >> $GITHUB_OUTPUT\necho \"r=$r\" >> $GITHUB_OUTPUT\n" [2306,3042]
                            OBJECT [3044,3390]
                                FIELD [3045,3071]
                                    String: "name" [3045,3051]
                                    STRING [3052,3071]
                                        String: "Merge base branch" [3052,3071]
                                FIELD [3072,3389]
                                    String: "run" [3072,3077]
                                    STRING [3078,3389]
                                        String: "git config user.name 'mlflow-automation'\ngit config user.email 'mlflow-automation@users.noreply.github.com'\ngit remote add mlflow https://github.com/mlflow/mlflow.git\ngit remote -v\ngit fetch mlflow ${{ needs.check-comment.outputs.base_ref }}\ngit merge mlflow/${{ needs.check-comment.outputs.base_ref }}\n" [3078,3389]
                            OBJECT [3391,3461]
                                FIELD [3392,3460]
                                    String: "run" [3392,3397]
                                    STRING [3398,3460]
                                        String: "pre-commit run prettier --all-files --color=always || true\n" [3398,3460]
                            OBJECT [3462,3598]
                                FIELD [3463,3505]
                                    String: "if" [3463,3467]
                                    STRING [3468,3505]
                                        String: "steps.diff.outputs.protos == 'true'" [3468,3505]
                                FIELD [3506,3533]
                                    String: "env" [3506,3511]
                                    OBJECT [3512,3533]
                                        FIELD [3513,3532]
                                            String: "DOCKER_BUILDKIT" [3513,3530]
                                            NUMBER [3531,3532]
                                                Number: 1 [3531,3532]
                                FIELD [3534,3597]
                                    String: "run" [3534,3539]
                                    STRING [3540,3597]
                                        String: "docker build -t gen-protos -f dev/Dockerfile.protos .\n" [3540,3597]
                            OBJECT [3599,3734]
                                FIELD [3600,3642]
                                    String: "if" [3600,3604]
                                    STRING [3605,3642]
                                        String: "steps.diff.outputs.protos == 'true'" [3605,3642]
                                FIELD [3643,3733]
                                    String: "run" [3643,3648]
                                    STRING [3649,3733]
                                        String: "docker run --rm -w /mlflow -v $(pwd):/mlflow gen-protos ./dev/generate-protos.sh\n" [3649,3733]
                            OBJECT [3735,3819]
                                FIELD [3736,3778]
                                    String: "if" [3736,3740]
                                    STRING [3741,3778]
                                        String: "steps.diff.outputs.python == 'true'" [3741,3778]
                                FIELD [3779,3818]
                                    String: "uses" [3779,3785]
                                    STRING [3786,3818]
                                        String: "./.github/actions/setup-python" [3786,3818]
                            OBJECT [3820,3924]
                                FIELD [3821,3863]
                                    String: "if" [3821,3825]
                                    STRING [3826,3863]
                                        String: "steps.diff.outputs.python == 'true'" [3826,3863]
                                FIELD [3864,3923]
                                    String: "run" [3864,3869]
                                    STRING [3870,3923]
                                        String: "pip install -r requirements/lint-requirements.txt\n" [3870,3923]
                            OBJECT [3925,4061]
                                FIELD [3926,3968]
                                    String: "if" [3926,3930]
                                    STRING [3931,3968]
                                        String: "steps.diff.outputs.python == 'true'" [3931,3968]
                                FIELD [3969,4060]
                                    String: "run" [3969,3974]
                                    STRING [3975,4060]
                                        String: "ruff --fix .\nblack .\nblacken-docs $(git ls-files '*.py' '*.rst' '*.md') || true\n" [3975,4060]
                            OBJECT [4062,4162]
                                FIELD [4063,4101]
                                    String: "if" [4063,4067]
                                    STRING [4068,4101]
                                        String: "steps.diff.outputs.js == 'true'" [4068,4101]
                                FIELD [4102,4132]
                                    String: "uses" [4102,4108]
                                    STRING [4109,4132]
                                        String: "actions/setup-node@v3" [4109,4132]
                                FIELD [4133,4161]
                                    String: "with" [4133,4139]
                                    OBJECT [4140,4161]
                                        FIELD [4141,4160]
                                            String: "node-version" [4141,4155]
                                            STRING [4156,4160]
                                                String: "16" [4156,4160]
                            OBJECT [4163,4265]
                                FIELD [4164,4202]
                                    String: "if" [4164,4168]
                                    STRING [4169,4202]
                                        String: "steps.diff.outputs.js == 'true'" [4169,4202]
                                FIELD [4203,4241]
                                    String: "working-directory" [4203,4222]
                                    STRING [4223,4241]
                                        String: "mlflow/server/js" [4223,4241]
                                FIELD [4242,4264]
                                    String: "run" [4242,4247]
                                    STRING [4248,4264]
                                        String: "yarn install\n" [4248,4264]
                            OBJECT [4266,4369]
                                FIELD [4267,4305]
                                    String: "if" [4267,4271]
                                    STRING [4272,4305]
                                        String: "steps.diff.outputs.js == 'true'" [4272,4305]
                                FIELD [4306,4344]
                                    String: "working-directory" [4306,4325]
                                    STRING [4326,4344]
                                        String: "mlflow/server/js" [4326,4344]
                                FIELD [4345,4368]
                                    String: "run" [4345,4350]
                                    STRING [4351,4368]
                                        String: "yarn lint:fix\n" [4351,4368]
                            OBJECT [4370,4469]
                                FIELD [4371,4409]
                                    String: "if" [4371,4375]
                                    STRING [4376,4409]
                                        String: "steps.diff.outputs.js == 'true'" [4376,4409]
                                FIELD [4410,4448]
                                    String: "working-directory" [4410,4429]
                                    STRING [4430,4448]
                                        String: "mlflow/server/js" [4430,4448]
                                FIELD [4449,4468]
                                    String: "run" [4449,4454]
                                    STRING [4455,4468]
                                        String: "yarn i18n\n" [4455,4468]
                            OBJECT [4470,4562]
                                FIELD [4471,4508]
                                    String: "if" [4471,4475]
                                    STRING [4476,4508]
                                        String: "steps.diff.outputs.r == 'true'" [4476,4508]
                                FIELD [4509,4535]
                                    String: "working-directory" [4509,4528]
                                    STRING [4529,4535]
                                        String: "docs" [4529,4535]
                                FIELD [4536,4561]
                                    String: "run" [4536,4541]
                                    STRING [4542,4561]
                                        String: "./build-rdoc.sh\n" [4542,4561]
                            OBJECT [4563,4786]
                                FIELD [4564,4585]
                                    String: "name" [4564,4570]
                                    STRING [4571,4585]
                                        String: "Push changes" [4571,4585]
                                FIELD [4586,4785]
                                    String: "run" [4586,4591]
                                    STRING [4592,4785]
                                        String: "if [ -n \"$(git status --porcelain)\" ]; then\n  git add -A\n  git commit -s -m \"Autoformat: https://github.com/${{ github.repository }}/actions/runs/${{ github.run_id }}\"\n  git push\nfi\n" [4592,4785]
            FIELD [4789,5395]
                String: "update-status" [4789,4804]
                OBJECT [4805,5395]
                    FIELD [4806,4831]
                        String: "runs-on" [4806,4815]
                        STRING [4816,4831]
                            String: "ubuntu-latest" [4816,4831]
                    FIELD [4832,4852]
                        String: "timeout-minutes" [4832,4849]
                        NUMBER [4850,4852]
                            Number: 10 [4850,4852]
                    FIELD [4853,4887]
                        String: "needs" [4853,4860]
                        ARRAY [4861,4887]
                            STRING [4862,4877]
                                String: "check-comment" [4862,4877]
                            STRING [4878,4886]
                                String: "format" [4878,4886]
                    FIELD [4888,4962]
                        String: "if" [4888,4892]
                        STRING [4893,4962]
                            String: "always() && needs.check-comment.outputs.should_autoformat == 'true'" [4893,4962]
                    FIELD [4963,4997]
                        String: "permissions" [4963,4976]
                        OBJECT [4977,4997]
                            FIELD [4978,4996]
                                String: "statuses" [4978,4988]
                                STRING [4989,4996]
                                    String: "write" [4989,4996]
                    FIELD [4998,5394]
                        String: "steps" [4998,5005]
                        ARRAY [5006,5394]
                            OBJECT [5007,5037]
                                FIELD [5008,5036]
                                    String: "uses" [5008,5014]
                                    STRING [5015,5036]
                                        String: "actions/checkout@v3" [5015,5036]
                            OBJECT [5038,5393]
                                FIELD [5039,5061]
                                    String: "name" [5039,5045]
                                    STRING [5046,5061]
                                        String: "Update status" [5046,5061]
                                FIELD [5062,5095]
                                    String: "uses" [5062,5068]
                                    STRING [5069,5095]
                                        String: "actions/github-script@v6" [5069,5095]
                                FIELD [5096,5392]
                                    String: "with" [5096,5102]
                                    OBJECT [5103,5392]
                                        FIELD [5104,5148]
                                            String: "github-token" [5104,5118]
                                            STRING [5119,5148]
                                                String: "${{ secrets.GITHUB_TOKEN }}" [5119,5148]
                                        FIELD [5149,5391]
                                            String: "script" [5149,5157]
                                            STRING [5158,5391]
                                                String: "const needs = ${{ toJson(needs) }};\nconst head_sha = '${{ needs.check-comment.outputs.head_sha }}'\nconst autoformat = require('./.github/workflows/autoformat.js');\nawait autoformat.updateStatus(context, github, head_sha, needs);" [5158,5391]