OBJECT [0,4074]
    FIELD [1,24]
        String: "name" [1,7]
        STRING [8,24]
            String: "OctoBot-Docker" [8,24]
    FIELD [25,88]
        String: "on" [25,29]
        OBJECT [30,88]
            FIELD [31,67]
                String: "push" [31,37]
                OBJECT [38,67]
                    FIELD [39,66]
                        String: "branches" [39,49]
                        ARRAY [50,66]
                            STRING [51,59]
                                String: "master" [51,59]
                            STRING [60,65]
                                String: "dev" [60,65]
            FIELD [68,87]
                String: "pull_request" [68,82]
                NULL [83,87]
    FIELD [89,4073]
        String: "jobs" [89,95]
        OBJECT [96,4073]
            FIELD [97,361]
                String: "lint" [97,103]
                OBJECT [104,361]
                    FIELD [105,143]
                        String: "name" [105,111]
                        STRING [112,143]
                            String: "ubuntu-latest - Docker - lint" [112,143]
                    FIELD [144,169]
                        String: "runs-on" [144,153]
                        STRING [154,169]
                            String: "ubuntu-latest" [154,169]
                    FIELD [170,360]
                        String: "steps" [170,177]
                        ARRAY [178,360]
                            OBJECT [179,209]
                                FIELD [180,208]
                                    String: "uses" [180,186]
                                    STRING [187,208]
                                        String: "actions/checkout@v2" [187,208]
                            OBJECT [210,359]
                                FIELD [211,232]
                                    String: "name" [211,217]
                                    STRING [218,232]
                                        String: "Run hadolint" [218,232]
                                FIELD [233,270]
                                    String: "uses" [233,239]
                                    STRING [240,270]
                                        String: "reviewdog/action-hadolint@v1" [240,270]
                                FIELD [271,358]
                                    String: "with" [271,277]
                                    OBJECT [278,358]
                                        FIELD [279,323]
                                            String: "github_token" [279,293]
                                            STRING [294,323]
                                                String: "${{ secrets.github_token }}" [294,323]
                                        FIELD [324,357]
                                            String: "hadolint_ignore" [324,341]
                                            STRING [342,357]
                                                String: "DL3013 DL3008" [342,357]
            FIELD [362,1742]
                String: "build_and_test" [362,378]
                OBJECT [379,1742]
                    FIELD [380,394]
                        String: "needs" [380,387]
                        STRING [388,394]
                            String: "lint" [388,394]
                    FIELD [395,443]
                        String: "name" [395,401]
                        STRING [402,443]
                            String: "ubuntu-latest - Docker - build and test" [402,443]
                    FIELD [444,469]
                        String: "runs-on" [444,453]
                        STRING [454,469]
                            String: "ubuntu-latest" [454,469]
                    FIELD [470,1741]
                        String: "steps" [470,477]
                        ARRAY [478,1741]
                            OBJECT [479,509]
                                FIELD [480,508]
                                    String: "uses" [480,486]
                                    STRING [487,508]
                                        String: "actions/checkout@v2" [487,508]
                            OBJECT [510,970]
                                FIELD [511,545]
                                    String: "name" [511,517]
                                    STRING [518,545]
                                        String: "Set Environment Variables" [518,545]
                                FIELD [546,969]
                                    String: "run" [546,551]
                                    STRING [552,969]
                                        String: "OWNER=\"$(echo \"${{ github.repository_owner }}\" | tr '[:upper:]' '[:lower:]' | tr -d '-')\"\nIMG=octobot\necho \"VERSION=${GITHUB_REF##*/}\" >> $GITHUB_ENV\necho \"IMAGE=${OWNER}/${IMG}\" >> $GITHUB_ENV\necho \"LATEST=latest\" >> $GITHUB_ENV\necho \"TEST=test\" >> $GITHUB_ENV\necho \"STABLE=stable\" >> $GITHUB_ENV\necho \"CONTAINER_NAME=octobot\" >> $GITHUB_ENV\necho \"WAIT_CONTAINER_TIME=90\" >> $GITHUB_ENV\n" [552,969]
                            OBJECT [971,1208]
                                FIELD [972,993]
                                    String: "name" [972,978]
                                    STRING [979,993]
                                        String: "Docker build" [979,993]
                                FIELD [994,1207]
                                    String: "run" [994,999]
                                    STRING [1000,1207]
                                        String: "docker build -f ./Dockerfile -t ${{ env.IMAGE }}:${{ env.LATEST }} .\ndocker build -f ./tests/Dockerfile --build-arg OCTOBOT_IMAGE=${{ env.IMAGE }}:${{ env.LATEST }} -t ${{ env.IMAGE }}:${{ env.TEST }} .\n" [1000,1207]
                            OBJECT [1209,1365]
                                FIELD [1210,1238]
                                    String: "name" [1210,1216]
                                    STRING [1217,1238]
                                        String: "run tests in docker" [1217,1238]
                                FIELD [1239,1364]
                                    String: "run" [1239,1244]
                                    STRING [1245,1364]
                                        String: "docker run -i -e TENTACLES_PACKAGES_SOURCE=dev -e TENTACLES_URL_TAG=${branch////_} ${{ env.IMAGE }}:${{ env.TEST }}\n" [1245,1364]
                            OBJECT [1366,1740]
                                FIELD [1367,1408]
                                    String: "name" [1367,1373]
                                    STRING [1374,1408]
                                        String: "run and check health after start" [1374,1408]
                                FIELD [1409,1739]
                                    String: "run" [1409,1414]
                                    STRING [1415,1739]
                                        String: "docker run -id -e TENTACLES_PACKAGES_SOURCE=dev -e TENTACLES_URL_TAG=${branch////_} --name ${{ env.CONTAINER_NAME }} ${{ env.IMAGE }}:${{ env.LATEST }}\nsleep ${{ env.WAIT_CONTAINER_TIME }}\ndocker logs ${{ env.CONTAINER_NAME }}\ndocker inspect ${{ env.CONTAINER_NAME }} | jq '.[].State.Health.Status' | grep \"healthy\"\n" [1415,1739]
            FIELD [1743,3797]
                String: "push" [1743,1749]
                OBJECT [1750,3797]
                    FIELD [1751,1775]
                        String: "needs" [1751,1758]
                        STRING [1759,1775]
                            String: "build_and_test" [1759,1775]
                    FIELD [1776,1814]
                        String: "name" [1776,1782]
                        STRING [1783,1814]
                            String: "ubuntu-latest - Docker - push" [1783,1814]
                    FIELD [1815,1840]
                        String: "runs-on" [1815,1824]
                        STRING [1825,1840]
                            String: "ubuntu-latest" [1825,1840]
                    FIELD [1841,3796]
                        String: "steps" [1841,1848]
                        ARRAY [1849,3796]
                            OBJECT [1850,1880]
                                FIELD [1851,1879]
                                    String: "uses" [1851,1857]
                                    STRING [1858,1879]
                                        String: "actions/checkout@v2" [1858,1879]
                            OBJECT [1881,2210]
                                FIELD [1882,1916]
                                    String: "name" [1882,1888]
                                    STRING [1889,1916]
                                        String: "Set Environment Variables" [1889,1916]
                                FIELD [1917,2209]
                                    String: "run" [1917,1922]
                                    STRING [1923,2209]
                                        String: "OWNER=\"$(echo \"${{ github.repository_owner }}\" | tr '[:upper:]' '[:lower:]' | tr -d '-')\"\nIMG=octobot\necho \"VERSION=${GITHUB_REF##*/}\" >> $GITHUB_ENV\necho \"IMAGE=${OWNER}/${IMG}\" >> $GITHUB_ENV\necho \"LATEST=latest\" >> $GITHUB_ENV\necho \"STABLE=stable\" >> $GITHUB_ENV\n" [1923,2209]
                            OBJECT [2211,2270]
                                FIELD [2212,2232]
                                    String: "name" [2212,2218]
                                    STRING [2219,2232]
                                        String: "Set up QEMU" [2219,2232]
                                FIELD [2233,2269]
                                    String: "uses" [2233,2239]
                                    STRING [2240,2269]
                                        String: "docker/setup-qemu-action@v1" [2240,2269]
                            OBJECT [2271,2341]
                                FIELD [2272,2301]
                                    String: "name" [2272,2278]
                                    STRING [2279,2301]
                                        String: "Set up Docker Buildx" [2279,2301]
                                FIELD [2302,2340]
                                    String: "uses" [2302,2308]
                                    STRING [2309,2340]
                                        String: "docker/setup-buildx-action@v1" [2309,2340]
                            OBJECT [2342,2529]
                                FIELD [2343,2371]
                                    String: "name" [2343,2349]
                                    STRING [2350,2371]
                                        String: "Cache Docker layers" [2350,2371]
                                FIELD [2372,2397]
                                    String: "uses" [2372,2378]
                                    STRING [2379,2397]
                                        String: "actions/cache@v2" [2379,2397]
                                FIELD [2398,2528]
                                    String: "with" [2398,2404]
                                    OBJECT [2405,2528]
                                        FIELD [2406,2433]
                                            String: "path" [2406,2412]
                                            STRING [2413,2433]
                                                String: "/tmp/.buildx-cache" [2413,2433]
                                        FIELD [2434,2483]
                                            String: "key" [2434,2439]
                                            STRING [2440,2483]
                                                String: "${{ runner.os }}-buildx-${{ github.sha }}" [2440,2483]
                                        FIELD [2484,2527]
                                            String: "restore-keys" [2484,2498]
                                            STRING [2499,2527]
                                                String: "${{ runner.os }}-buildx-\n" [2499,2527]
                            OBJECT [2530,2691]
                                FIELD [2531,2558]
                                    String: "name" [2531,2537]
                                    STRING [2538,2558]
                                        String: "Login to DockerHub" [2538,2558]
                                FIELD [2559,2590]
                                    String: "uses" [2559,2565]
                                    STRING [2566,2590]
                                        String: "docker/login-action@v1" [2566,2590]
                                FIELD [2591,2690]
                                    String: "with" [2591,2597]
                                    OBJECT [2598,2690]
                                        FIELD [2599,2645]
                                            String: "username" [2599,2609]
                                            STRING [2610,2645]
                                                String: "${{ secrets.DOCKERHUB_USERNAME }}" [2610,2645]
                                        FIELD [2646,2689]
                                            String: "password" [2646,2656]
                                            STRING [2657,2689]
                                                String: "${{ secrets.DOCKERHUB_TOKEN }}" [2657,2689]
                            OBJECT [2692,3195]
                                FIELD [2693,2723]
                                    String: "name" [2693,2699]
                                    STRING [2700,2723]
                                        String: "Build and push latest" [2700,2723]
                                FIELD [2724,2832]
                                    String: "if" [2724,2728]
                                    STRING [2729,2832]
                                        String: "github.event_name == 'push' && !startsWith(github.ref, 'refs/tags') && github.ref == 'refs/heads/dev'" [2729,2832]
                                FIELD [2833,2869]
                                    String: "uses" [2833,2839]
                                    STRING [2840,2869]
                                        String: "docker/build-push-action@v2" [2840,2869]
                                FIELD [2870,3194]
                                    String: "with" [2870,2876]
                                    OBJECT [2877,3194]
                                        FIELD [2878,2891]
                                            String: "context" [2878,2887]
                                            STRING [2888,2891]
                                                String: "." [2888,2891]
                                        FIELD [2892,2936]
                                            String: "builder" [2892,2901]
                                            STRING [2902,2936]
                                                String: "${{ steps.buildx.outputs.name }}" [2902,2936]
                                        FIELD [2937,2987]
                                            String: "platforms" [2937,2948]
                                            STRING [2949,2987]
                                                String: "linux/amd64,linux/arm/v7,linux/arm64" [2949,2987]
                                        FIELD [2988,2999]
                                            String: "push" [2988,2994]
                                            TRUE [2995,2999]
                                        FIELD [3000,3043]
                                            String: "tags" [3000,3006]
                                            STRING [3007,3043]
                                                String: "${{ env.IMAGE }}:${{ env.LATEST }}" [3007,3043]
                                        FIELD [3044,3096]
                                            String: "build-args" [3044,3056]
                                            STRING [3057,3096]
                                                String: "TENTACLES_URL_TAG=${{ env.LATEST }}\n" [3057,3096]
                                        FIELD [3097,3145]
                                            String: "cache-from" [3097,3109]
                                            STRING [3110,3145]
                                                String: "type=local,src=/tmp/.buildx-cache" [3110,3145]
                                        FIELD [3146,3193]
                                            String: "cache-to" [3146,3156]
                                            STRING [3157,3193]
                                                String: "type=local,dest=/tmp/.buildx-cache" [3157,3193]
                            OBJECT [3196,3708]
                                FIELD [3197,3227]
                                    String: "name" [3197,3203]
                                    STRING [3204,3227]
                                        String: "Build and push on tag" [3204,3227]
                                FIELD [3228,3301]
                                    String: "if" [3228,3232]
                                    STRING [3233,3301]
                                        String: "github.event_name == 'push' && startsWith(github.ref, 'refs/tags')" [3233,3301]
                                FIELD [3302,3338]
                                    String: "uses" [3302,3308]
                                    STRING [3309,3338]
                                        String: "docker/build-push-action@v2" [3309,3338]
                                FIELD [3339,3707]
                                    String: "with" [3339,3345]
                                    OBJECT [3346,3707]
                                        FIELD [3347,3360]
                                            String: "context" [3347,3356]
                                            STRING [3357,3360]
                                                String: "." [3357,3360]
                                        FIELD [3361,3382]
                                            String: "file" [3361,3367]
                                            STRING [3368,3382]
                                                String: "./Dockerfile" [3368,3382]
                                        FIELD [3383,3427]
                                            String: "builder" [3383,3392]
                                            STRING [3393,3427]
                                                String: "${{ steps.buildx.outputs.name }}" [3393,3427]
                                        FIELD [3428,3478]
                                            String: "platforms" [3428,3439]
                                            STRING [3440,3478]
                                                String: "linux/amd64,linux/arm/v7,linux/arm64" [3440,3478]
                                        FIELD [3479,3490]
                                            String: "push" [3479,3485]
                                            TRUE [3486,3490]
                                        FIELD [3491,3609]
                                            String: "tags" [3491,3497]
                                            STRING [3498,3609]
                                                String: "${{ env.IMAGE }}:${{ env.LATEST }}\n${{ env.IMAGE }}:${{ env.STABLE }}\n${{ env.IMAGE }}:${{ env.VERSION }}\n" [3498,3609]
                                        FIELD [3610,3658]
                                            String: "cache-from" [3610,3622]
                                            STRING [3623,3658]
                                                String: "type=local,src=/tmp/.buildx-cache" [3623,3658]
                                        FIELD [3659,3706]
                                            String: "cache-to" [3659,3669]
                                            STRING [3670,3706]
                                                String: "type=local,dest=/tmp/.buildx-cache" [3670,3706]
                            OBJECT [3709,3795]
                                FIELD [3710,3731]
                                    String: "name" [3710,3716]
                                    STRING [3717,3731]
                                        String: "Image digest" [3717,3731]
                                FIELD [3732,3794]
                                    String: "run" [3732,3737]
                                    STRING [3738,3794]
                                        String: "echo ${{ steps.docker_build_and_psuh.outputs.digest }}" [3738,3794]
            FIELD [3798,4072]
                String: "notify" [3798,3806]
                OBJECT [3807,4072]
                    FIELD [3808,3823]
                        String: "name" [3808,3814]
                        STRING [3815,3823]
                            String: "Notify" [3815,3823]
                    FIELD [3824,3849]
                        String: "runs-on" [3824,3833]
                        STRING [3834,3849]
                            String: "ubuntu-latest" [3834,3849]
                    FIELD [3850,3890]
                        String: "needs" [3850,3857]
                        ARRAY [3858,3890]
                            STRING [3859,3865]
                                String: "lint" [3859,3865]
                            STRING [3866,3882]
                                String: "build_and_test" [3866,3882]
                            STRING [3883,3889]
                                String: "push" [3883,3889]
                    FIELD [3891,3914]
                        String: "if" [3891,3895]
                        STRING [3896,3914]
                            String: "${{ failure() }}" [3896,3914]
                    FIELD [3915,4071]
                        String: "steps" [3915,3922]
                        ARRAY [3923,4071]
                            OBJECT [3924,4070]
                                FIELD [3925,3948]
                                    String: "name" [3925,3931]
                                    STRING [3932,3948]
                                        String: "Notify discord" [3932,3948]
                                FIELD [3949,3991]
                                    String: "uses" [3949,3955]
                                    STRING [3956,3991]
                                        String: "sarisia/actions-status-discord@v1" [3956,3991]
                                FIELD [3992,4069]
                                    String: "with" [3992,3998]
                                    OBJECT [3999,4069]
                                        FIELD [4000,4018]
                                            String: "status" [4000,4008]
                                            STRING [4009,4018]
                                                String: "Failure" [4009,4018]
                                        FIELD [4019,4068]
                                            String: "webhook" [4019,4028]
                                            STRING [4029,4068]
                                                String: "${{ secrets.DISCORD_GITHUB_WEBHOOK }}" [4029,4068]