OBJECT [0,2186]
    FIELD [1,29]
        String: "name" [1,7]
        STRING [8,29]
            String: "Build documentation" [8,29]
    FIELD [30,197]
        String: "on" [30,34]
        OBJECT [35,197]
            FIELD [36,55]
                String: "pull_request" [36,50]
                NULL [51,55]
            FIELD [56,171]
                String: "push" [56,62]
                OBJECT [63,171]
                    FIELD [64,105]
                        String: "branches" [64,74]
                        ARRAY [75,105]
                            STRING [76,85]
                                String: "nightly" [76,85]
                            STRING [86,92]
                                String: "main" [86,92]
                            STRING [93,104]
                                String: "release/*" [93,104]
                    FIELD [106,170]
                        String: "tags" [106,112]
                        ARRAY [113,170]
                            STRING [114,136]
                                String: "v[0-9]+.[0-9]+.[0-9]" [114,136]
                            STRING [137,169]
                                String: "v[0-9]+.[0-9]+.[0-9]+-rc[0-9]+" [137,169]
            FIELD [172,196]
                String: "workflow_dispatch" [172,191]
                NULL [192,196]
    FIELD [198,2185]
        String: "jobs" [198,204]
        OBJECT [205,2185]
            FIELD [206,1493]
                String: "build" [206,213]
                OBJECT [214,1493]
                    FIELD [215,279]
                        String: "uses" [215,221]
                        STRING [222,279]
                            String: "pytorch/test-infra/.github/workflows/linux_job.yml@main" [222,279]
                    FIELD [280,1492]
                        String: "with" [280,286]
                        OBJECT [287,1492]
                            FIELD [288,310]
                                String: "job-name" [288,298]
                                STRING [299,310]
                                    String: "Build doc" [299,310]
                            FIELD [311,335]
                                String: "runner" [311,319]
                                STRING [320,335]
                                    String: "linux.2xlarge" [320,335]
                            FIELD [336,363]
                                String: "repository" [336,348]
                                STRING [349,363]
                                    String: "pytorch/text" [349,363]
                            FIELD [364,385]
                                String: "gpu-arch-type" [364,379]
                                STRING [380,385]
                                    String: "cpu" [380,385]
                            FIELD [386,399]
                                String: "timeout" [386,395]
                                NUMBER [396,399]
                                    Number: 120 [396,399]
                            FIELD [400,424]
                                String: "upload-artifact" [400,417]
                                STRING [418,424]
                                    String: "docs" [418,424]
                            FIELD [425,1491]
                                String: "script" [425,433]
                                STRING [434,1491]
                                    String: "# Mark Build Directory Safe\ngit config --global --add safe.directory /__w/text/text\n\n# Set up Environment Variables\nexport PYTHON_VERSION=\"3.8\"\n\n# Set CHANNEL\nif [[(${GITHUB_EVENT_NAME} = 'pull_request' && (${GITHUB_BASE_REF} = 'release'*)) || (${GITHUB_REF} = 'refs/heads/release'*) ]]; then\n  export CHANNEL=test\nelse\n  export CHANNEL=nightly\nfi\n\n# Create Conda Env\nconda create --quiet -y --prefix ci_env python=\"${PYTHON_VERSION}\"\nconda activate ./ci_env\n\n# Install PyTorch\nset -ex\nset +u  # don't know why\nconda install \\\n  --yes \\\n  --quiet \\\n  pytorch torchtext cpuonly \\\n  -c \"pytorch-${CHANNEL}\"\n\npip --quiet install cmake>=3.18.0 ninja\n\ncd packaging\n. ./pkg_helpers.bash\nsetup_build_version\ncd ../\n\n# Install build tools\nconda install --quiet -y -c conda-forge pandoc doxygen pysoundfile\npip install --quiet -r docs/requirements.txt\n\n# Build docs\nexport BUILD_GALLERY=true\n(cd docs && make 'SPHINXOPTS=-W' html)\n\ncp -rf docs/build/html/* \"${RUNNER_DOCS_DIR}\"\nmv docs/build/html /artifacts/\n" [434,1491]
            FIELD [1494,2184]
                String: "commit" [1494,1502]
                OBJECT [1503,2184]
                    FIELD [1504,1624]
                        String: "if" [1504,1508]
                        STRING [1509,1624]
                            String: "${{ (github.repository == 'pytorch/text') && ((github.event_name == 'push') && (github.ref_name == 'nightly')) }}" [1509,1624]
                    FIELD [1625,1659]
                        String: "permissions" [1625,1638]
                        OBJECT [1639,1659]
                            FIELD [1640,1658]
                                String: "contents" [1640,1650]
                                STRING [1651,1658]
                                    String: "write" [1651,1658]
                    FIELD [1660,1685]
                        String: "runs-on" [1660,1669]
                        STRING [1670,1685]
                            String: "ubuntu-latest" [1670,1685]
                    FIELD [1686,1701]
                        String: "needs" [1686,1693]
                        STRING [1694,1701]
                            String: "build" [1694,1701]
                    FIELD [1702,2183]
                        String: "steps" [1702,1709]
                        ARRAY [1710,2183]
                            OBJECT [1711,1767]
                                FIELD [1712,1740]
                                    String: "uses" [1712,1718]
                                    STRING [1719,1740]
                                        String: "actions/checkout@v3" [1719,1740]
                                FIELD [1741,1766]
                                    String: "with" [1741,1747]
                                    OBJECT [1748,1766]
                                        FIELD [1749,1765]
                                            String: "ref" [1749,1754]
                                            STRING [1755,1765]
                                                String: "gh-pages" [1755,1765]
                            OBJECT [1768,1830]
                                FIELD [1769,1806]
                                    String: "uses" [1769,1775]
                                    STRING [1776,1806]
                                        String: "actions/download-artifact@v3" [1776,1806]
                                FIELD [1807,1829]
                                    String: "with" [1807,1813]
                                    OBJECT [1814,1829]
                                        FIELD [1815,1828]
                                            String: "name" [1815,1821]
                                            STRING [1822,1828]
                                                String: "docs" [1822,1828]
                            OBJECT [1831,2182]
                                FIELD [1832,1859]
                                    String: "name" [1832,1838]
                                    STRING [1839,1859]
                                        String: "Update nightly doc" [1839,1859]
                                FIELD [1860,2181]
                                    String: "run" [1860,1865]
                                    STRING [1866,2181]
                                        String: "set -x\n\n# TODO: add tag-based process (need to handle the main directory name)\nrm -rf main\nmv html main\n\n# Update the main doc\ngit add --all main || true\ngit config user.name \"pytorchbot\"\ngit config user.email \"soumith+bot@pytorch.org\"\ngit commit -m \"auto-generating sphinx docs\" || true\ngit push" [1866,2181]