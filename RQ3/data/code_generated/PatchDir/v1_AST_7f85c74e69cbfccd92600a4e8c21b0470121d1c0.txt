OBJECT [0,10907]
    FIELD [1,16]
        String: "name" [1,7]
        STRING [8,16]
            String: "Master" [8,16]
    FIELD [17,132]
        String: "on" [17,21]
        OBJECT [22,132]
            FIELD [23,53]
                String: "push" [23,29]
                OBJECT [30,53]
                    FIELD [31,52]
                        String: "branches" [31,41]
                        ARRAY [42,52]
                            STRING [43,51]
                                String: "master" [43,51]
            FIELD [54,87]
                String: "release" [54,63]
                OBJECT [64,87]
                    FIELD [65,86]
                        String: "types" [65,72]
                        ARRAY [73,86]
                            STRING [74,85]
                                String: "published" [74,85]
            FIELD [88,131]
                String: "schedule" [88,98]
                ARRAY [99,131]
                    OBJECT [100,130]
                        FIELD [101,129]
                            String: "cron" [101,107]
                            STRING [108,129]
                                String: "37 11 * * 1,2,3,4,5" [108,129]
    FIELD [133,10906]
        String: "jobs" [133,139]
        OBJECT [140,10906]
            FIELD [141,707]
                String: "gpu_checks" [141,153]
                OBJECT [154,707]
                    FIELD [155,174]
                        String: "name" [155,161]
                        STRING [162,174]
                            String: "GPU Checks" [162,174]
                    FIELD [175,221]
                        String: "if" [175,179]
                        STRING [180,221]
                            String: "github.repository == 'allenai/allennlp'" [180,221]
                    FIELD [222,242]
                        String: "timeout-minutes" [222,239]
                        NUMBER [240,242]
                            Number: 15 [240,242]
                    FIELD [243,274]
                        String: "runs-on" [243,252]
                        ARRAY [253,274]
                            STRING [254,267]
                                String: "self-hosted" [254,267]
                            STRING [268,273]
                                String: "GPU" [268,273]
                    FIELD [275,706]
                        String: "steps" [275,282]
                        ARRAY [283,706]
                            OBJECT [284,314]
                                FIELD [285,313]
                                    String: "uses" [285,291]
                                    STRING [292,313]
                                        String: "actions/checkout@v2" [292,313]
                            OBJECT [315,526]
                                FIELD [316,339]
                                    String: "name" [316,322]
                                    STRING [323,339]
                                        String: "Set Docker tag" [323,339]
                                FIELD [340,525]
                                    String: "run" [340,345]
                                    STRING [346,525]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCKER_TAG=${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCKER_TAG=$GITHUB_SHA\" >> $GITHUB_ENV;\nfi\n" [346,525]
                            OBJECT [527,610]
                                FIELD [528,553]
                                    String: "name" [528,534]
                                    STRING [535,553]
                                        String: "Build test image" [535,553]
                                FIELD [554,609]
                                    String: "run" [554,559]
                                    STRING [560,609]
                                        String: "make docker-test-image DOCKER_TAG=$DOCKER_TAG\n" [560,609]
                            OBJECT [611,705]
                                FIELD [612,634]
                                    String: "name" [612,618]
                                    STRING [619,634]
                                        String: "Run GPU tests" [619,634]
                                FIELD [635,704]
                                    String: "run" [635,640]
                                    STRING [641,704]
                                        String: "make docker-test-run DOCKER_TAG=$DOCKER_TAG ARGS='gpu-test'\n" [641,704]
            FIELD [708,2013]
                String: "check_core" [708,720]
                OBJECT [721,2013]
                    FIELD [722,741]
                        String: "name" [722,728]
                        STRING [729,741]
                            String: "Check Core" [729,741]
                    FIELD [742,823]
                        String: "if" [742,746]
                        STRING [747,823]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [747,823]
                    FIELD [824,849]
                        String: "runs-on" [824,833]
                        STRING [834,849]
                            String: "ubuntu-latest" [834,849]
                    FIELD [850,896]
                        String: "strategy" [850,860]
                        OBJECT [861,896]
                            FIELD [862,895]
                                String: "matrix" [862,870]
                                OBJECT [871,895]
                                    FIELD [872,894]
                                        String: "python" [872,880]
                                        ARRAY [881,894]
                                            STRING [882,887]
                                                String: "3.7" [882,887]
                                            STRING [888,893]
                                                String: "3.8" [888,893]
                    FIELD [897,2012]
                        String: "steps" [897,904]
                        ARRAY [905,2012]
                            OBJECT [906,936]
                                FIELD [907,935]
                                    String: "uses" [907,913]
                                    STRING [914,935]
                                        String: "actions/checkout@v2" [914,935]
                            OBJECT [937,1042]
                                FIELD [938,959]
                                    String: "name" [938,944]
                                    STRING [945,959]
                                        String: "Setup Python" [945,959]
                                FIELD [960,992]
                                    String: "uses" [960,966]
                                    STRING [967,992]
                                        String: "actions/setup-python@v1" [967,992]
                                FIELD [993,1041]
                                    String: "with" [993,999]
                                    OBJECT [1000,1041]
                                        FIELD [1001,1040]
                                            String: "python-version" [1001,1017]
                                            STRING [1018,1040]
                                                String: "${{ matrix.python }}" [1018,1040]
                            OBJECT [1043,1242]
                                FIELD [1044,1069]
                                    String: "uses" [1044,1050]
                                    STRING [1051,1069]
                                        String: "actions/cache@v2" [1051,1069]
                                FIELD [1070,1241]
                                    String: "with" [1070,1076]
                                    OBJECT [1077,1241]
                                        FIELD [1078,1112]
                                            String: "path" [1078,1084]
                                            STRING [1085,1112]
                                                String: "${{ env.pythonLocation }}" [1085,1112]
                                        FIELD [1113,1240]
                                            String: "key" [1113,1118]
                                            STRING [1119,1240]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [1119,1240]
                            OBJECT [1243,1297]
                                FIELD [1244,1273]
                                    String: "name" [1244,1250]
                                    STRING [1251,1273]
                                        String: "Install requirements" [1251,1273]
                                FIELD [1274,1296]
                                    String: "run" [1274,1279]
                                    STRING [1280,1296]
                                        String: "make install\n" [1280,1296]
                            OBJECT [1298,1340]
                                FIELD [1299,1318]
                                    String: "name" [1299,1305]
                                    STRING [1306,1318]
                                        String: "Debug info" [1306,1318]
                                FIELD [1319,1339]
                                    String: "run" [1319,1324]
                                    STRING [1325,1339]
                                        String: "pip freeze\n" [1325,1339]
                            OBJECT [1341,1396]
                                FIELD [1342,1357]
                                    String: "name" [1342,1348]
                                    STRING [1349,1357]
                                        String: "Format" [1349,1357]
                                FIELD [1358,1373]
                                    String: "if" [1358,1362]
                                    STRING [1363,1373]
                                        String: "always()" [1363,1373]
                                FIELD [1374,1395]
                                    String: "run" [1374,1379]
                                    STRING [1380,1395]
                                        String: "make format\n" [1380,1395]
                            OBJECT [1397,1448]
                                FIELD [1398,1411]
                                    String: "name" [1398,1404]
                                    STRING [1405,1411]
                                        String: "Lint" [1405,1411]
                                FIELD [1412,1427]
                                    String: "if" [1412,1416]
                                    STRING [1417,1427]
                                        String: "always()" [1417,1427]
                                FIELD [1428,1447]
                                    String: "run" [1428,1433]
                                    STRING [1434,1447]
                                        String: "make lint\n" [1434,1447]
                            OBJECT [1449,1511]
                                FIELD [1450,1469]
                                    String: "name" [1450,1456]
                                    STRING [1457,1469]
                                        String: "Type check" [1457,1469]
                                FIELD [1470,1485]
                                    String: "if" [1470,1474]
                                    STRING [1475,1485]
                                        String: "always()" [1475,1485]
                                FIELD [1486,1510]
                                    String: "run" [1486,1491]
                                    STRING [1492,1510]
                                        String: "make typecheck\n" [1492,1510]
                            OBJECT [1512,1577]
                                FIELD [1513,1531]
                                    String: "name" [1513,1519]
                                    STRING [1520,1531]
                                        String: "Run tests" [1520,1531]
                                FIELD [1532,1547]
                                    String: "if" [1532,1536]
                                    STRING [1537,1547]
                                        String: "always()" [1537,1547]
                                FIELD [1548,1576]
                                    String: "run" [1548,1553]
                                    STRING [1554,1576]
                                        String: "make test-with-cov\n" [1554,1576]
                            OBJECT [1578,1812]
                                FIELD [1579,1614]
                                    String: "name" [1579,1585]
                                    STRING [1586,1614]
                                        String: "Upload coverage to Codecov" [1586,1614]
                                FIELD [1615,1718]
                                    String: "if" [1615,1619]
                                    STRING [1620,1718]
                                        String: "matrix.python == '3.7' && github.repository == 'allenai/allennlp' && github.event_name == 'push'" [1620,1718]
                                FIELD [1719,1753]
                                    String: "uses" [1719,1725]
                                    STRING [1726,1753]
                                        String: "codecov/codecov-action@v1" [1726,1753]
                                FIELD [1754,1811]
                                    String: "with" [1754,1760]
                                    OBJECT [1761,1811]
                                        FIELD [1762,1785]
                                            String: "file" [1762,1768]
                                            STRING [1769,1785]
                                                String: "./coverage.xml" [1769,1785]
                                        FIELD [1786,1810]
                                            String: "fail_ci_if_error" [1786,1804]
                                            FALSE [1805,1810]
                            OBJECT [1813,2011]
                                FIELD [1814,1831]
                                    String: "name" [1814,1820]
                                    STRING [1821,1831]
                                        String: "Clean up" [1821,1831]
                                FIELD [1832,1847]
                                    String: "if" [1832,1836]
                                    STRING [1837,1847]
                                        String: "always()" [1837,1847]
                                FIELD [1848,2010]
                                    String: "run" [1848,1853]
                                    STRING [1854,2010]
                                        String: "# Could run into issues with the cache if we don't uninstall the editable.\n# See https://github.com/pypa/pip/issues/4537.\npip uninstall --yes allennlp\n" [1854,2010]
            FIELD [2014,3058]
                String: "check_models" [2014,2028]
                OBJECT [2029,3058]
                    FIELD [2030,2051]
                        String: "name" [2030,2036]
                        STRING [2037,2051]
                            String: "Check Models" [2037,2051]
                    FIELD [2052,2133]
                        String: "if" [2052,2056]
                        STRING [2057,2133]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [2057,2133]
                    FIELD [2134,2159]
                        String: "runs-on" [2134,2143]
                        STRING [2144,2159]
                            String: "ubuntu-latest" [2144,2159]
                    FIELD [2160,2206]
                        String: "strategy" [2160,2170]
                        OBJECT [2171,2206]
                            FIELD [2172,2205]
                                String: "matrix" [2172,2180]
                                OBJECT [2181,2205]
                                    FIELD [2182,2204]
                                        String: "python" [2182,2190]
                                        ARRAY [2191,2204]
                                            STRING [2192,2197]
                                                String: "3.7" [2192,2197]
                                            STRING [2198,2203]
                                                String: "3.8" [2198,2203]
                    FIELD [2207,3057]
                        String: "steps" [2207,2214]
                        ARRAY [2215,3057]
                            OBJECT [2216,2246]
                                FIELD [2217,2245]
                                    String: "uses" [2217,2223]
                                    STRING [2224,2245]
                                        String: "actions/checkout@v2" [2224,2245]
                            OBJECT [2247,2352]
                                FIELD [2248,2269]
                                    String: "name" [2248,2254]
                                    STRING [2255,2269]
                                        String: "Setup Python" [2255,2269]
                                FIELD [2270,2302]
                                    String: "uses" [2270,2276]
                                    STRING [2277,2302]
                                        String: "actions/setup-python@v1" [2277,2302]
                                FIELD [2303,2351]
                                    String: "with" [2303,2309]
                                    OBJECT [2310,2351]
                                        FIELD [2311,2350]
                                            String: "python-version" [2311,2327]
                                            STRING [2328,2350]
                                                String: "${{ matrix.python }}" [2328,2350]
                            OBJECT [2353,2552]
                                FIELD [2354,2379]
                                    String: "uses" [2354,2360]
                                    STRING [2361,2379]
                                        String: "actions/cache@v2" [2361,2379]
                                FIELD [2380,2551]
                                    String: "with" [2380,2386]
                                    OBJECT [2387,2551]
                                        FIELD [2388,2422]
                                            String: "path" [2388,2394]
                                            STRING [2395,2422]
                                                String: "${{ env.pythonLocation }}" [2395,2422]
                                        FIELD [2423,2550]
                                            String: "key" [2423,2428]
                                            STRING [2429,2550]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [2429,2550]
                            OBJECT [2553,2607]
                                FIELD [2554,2583]
                                    String: "name" [2554,2560]
                                    STRING [2561,2583]
                                        String: "Install requirements" [2561,2583]
                                FIELD [2584,2606]
                                    String: "run" [2584,2589]
                                    STRING [2590,2606]
                                        String: "make install\n" [2590,2606]
                            OBJECT [2608,2650]
                                FIELD [2609,2628]
                                    String: "name" [2609,2615]
                                    STRING [2616,2628]
                                        String: "Debug info" [2616,2628]
                                FIELD [2629,2649]
                                    String: "run" [2629,2634]
                                    STRING [2635,2649]
                                        String: "pip freeze\n" [2635,2649]
                            OBJECT [2651,2895]
                                FIELD [2652,2689]
                                    String: "name" [2652,2658]
                                    STRING [2659,2689]
                                        String: "Pull and install models repo" [2659,2689]
                                FIELD [2690,2728]
                                    String: "env" [2690,2695]
                                    OBJECT [2696,2728]
                                        FIELD [2697,2727]
                                            String: "ALLENNLP_VERSION_OVERRIDE" [2697,2724]
                                            STRING [2725,2727]
                                                String: "" [2725,2727]
                                FIELD [2729,2894]
                                    String: "run" [2729,2734]
                                    STRING [2735,2894]
                                        String: "git clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models && pip install --upgrade --upgrade-strategy eager -e . -r dev-requirements.txt\n" [2735,2894]
                            OBJECT [2896,2965]
                                FIELD [2897,2922]
                                    String: "name" [2897,2903]
                                    STRING [2904,2922]
                                        String: "Run models tests" [2904,2922]
                                FIELD [2923,2964]
                                    String: "run" [2923,2928]
                                    STRING [2929,2964]
                                        String: "cd allennlp-models && make test\n" [2929,2964]
                            OBJECT [2966,3056]
                                FIELD [2967,2984]
                                    String: "name" [2967,2973]
                                    STRING [2974,2984]
                                        String: "Clean up" [2974,2984]
                                FIELD [2985,3000]
                                    String: "if" [2985,2989]
                                    STRING [2990,3000]
                                        String: "always()" [2990,3000]
                                FIELD [3001,3055]
                                    String: "run" [3001,3006]
                                    STRING [3007,3055]
                                        String: "pip uninstall --yes allennlp allennlp-models\n" [3007,3055]
            FIELD [3059,4946]
                String: "build_package" [3059,3074]
                OBJECT [3075,4946]
                    FIELD [3076,3098]
                        String: "name" [3076,3082]
                        STRING [3083,3098]
                            String: "Build Package" [3083,3098]
                    FIELD [3099,3180]
                        String: "if" [3099,3103]
                        STRING [3104,3180]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [3104,3180]
                    FIELD [3181,3206]
                        String: "runs-on" [3181,3190]
                        STRING [3191,3206]
                            String: "ubuntu-latest" [3191,3206]
                    FIELD [3207,4945]
                        String: "steps" [3207,3214]
                        ARRAY [3215,4945]
                            OBJECT [3216,3246]
                                FIELD [3217,3245]
                                    String: "uses" [3217,3223]
                                    STRING [3224,3245]
                                        String: "actions/checkout@v2" [3224,3245]
                            OBJECT [3247,3333]
                                FIELD [3248,3269]
                                    String: "name" [3248,3254]
                                    STRING [3255,3269]
                                        String: "Setup Python" [3255,3269]
                                FIELD [3270,3302]
                                    String: "uses" [3270,3276]
                                    STRING [3277,3302]
                                        String: "actions/setup-python@v1" [3277,3302]
                                FIELD [3303,3332]
                                    String: "with" [3303,3309]
                                    OBJECT [3310,3332]
                                        FIELD [3311,3331]
                                            String: "python-version" [3311,3327]
                                            NUMBER [3328,3331]
                                                Number: 3.7 [3328,3331]
                            OBJECT [3334,3533]
                                FIELD [3335,3360]
                                    String: "uses" [3335,3341]
                                    STRING [3342,3360]
                                        String: "actions/cache@v2" [3342,3360]
                                FIELD [3361,3532]
                                    String: "with" [3361,3367]
                                    OBJECT [3368,3532]
                                        FIELD [3369,3403]
                                            String: "path" [3369,3375]
                                            STRING [3376,3403]
                                                String: "${{ env.pythonLocation }}" [3376,3403]
                                        FIELD [3404,3531]
                                            String: "key" [3404,3409]
                                            STRING [3410,3531]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [3410,3531]
                            OBJECT [3534,3588]
                                FIELD [3535,3564]
                                    String: "name" [3535,3541]
                                    STRING [3542,3564]
                                        String: "Install requirements" [3542,3564]
                                FIELD [3565,3587]
                                    String: "run" [3565,3570]
                                    STRING [3571,3587]
                                        String: "make install\n" [3571,3587]
                            OBJECT [3589,4226]
                                FIELD [3590,3628]
                                    String: "name" [3590,3596]
                                    STRING [3597,3628]
                                        String: "Check and set nightly version" [3597,3628]
                                FIELD [3629,3667]
                                    String: "if" [3629,3633]
                                    STRING [3634,3667]
                                        String: "github.event_name == 'schedule'" [3634,3667]
                                FIELD [3668,4225]
                                    String: "run" [3668,3673]
                                    STRING [3674,4225]
                                        String: "# Verify that current version is ahead of the last release.\nLATEST=$(scripts/get_version.py latest)\nCURRENT=$(scripts/get_version.py current)\nif [ \"$CURRENT\" == \"$LATEST\" ]; then\n    echo \"Current version needs to be ahead of latest release in order to build nightly release\";\n    exit 1;\nfi\n# This is somewhat bizarre, but you can't set env variables to bash\n# commands in the action workflow - so we have to use this odd way of\n# exporting a variable instead.\necho \"ALLENNLP_VERSION_SUFFIX=dev$(date -u +%Y%m%d)\" >> $GITHUB_ENV\n" [3674,4225]
                            OBJECT [4227,4581]
                                FIELD [4228,4272]
                                    String: "name" [4228,4234]
                                    STRING [4235,4272]
                                        String: "Check version and release tag match" [4235,4272]
                                FIELD [4273,4310]
                                    String: "if" [4273,4277]
                                    STRING [4278,4310]
                                        String: "github.event_name == 'release'" [4278,4310]
                                FIELD [4311,4580]
                                    String: "run" [4311,4316]
                                    STRING [4317,4580]
                                        String: "# Remove 'refs/tags/' to get the actual tag from the release.\nTAG=${GITHUB_REF#refs/tags/};\nVERSION=$(scripts/get_version.py current)\nif [ \"$TAG\" != \"$VERSION\" ]; then\n    echo \"Bad tag or version. Tag $TAG does not match $VERSION\";\n    exit 1;\nfi\n" [4317,4580]
                            OBJECT [4582,4759]
                                FIELD [4583,4610]
                                    String: "name" [4583,4589]
                                    STRING [4590,4610]
                                        String: "Build core package" [4590,4610]
                                FIELD [4611,4758]
                                    String: "run" [4611,4616]
                                    STRING [4617,4758]
                                        String: "echo \"Building packages for core release\"\n# Just print out the version for debugging.\nmake version\npython setup.py bdist_wheel sdist\n" [4617,4758]
                            OBJECT [4760,4869]
                                FIELD [4761,4787]
                                    String: "name" [4761,4767]
                                    STRING [4768,4787]
                                        String: "Save core package" [4768,4787]
                                FIELD [4788,4823]
                                    String: "uses" [4788,4794]
                                    STRING [4795,4823]
                                        String: "actions/upload-artifact@v1" [4795,4823]
                                FIELD [4824,4868]
                                    String: "with" [4824,4830]
                                    OBJECT [4831,4868]
                                        FIELD [4832,4853]
                                            String: "name" [4832,4838]
                                            STRING [4839,4853]
                                                String: "core-package" [4839,4853]
                                        FIELD [4854,4867]
                                            String: "path" [4854,4860]
                                            STRING [4861,4867]
                                                String: "dist" [4861,4867]
                            OBJECT [4870,4944]
                                FIELD [4871,4888]
                                    String: "name" [4871,4877]
                                    STRING [4878,4888]
                                        String: "Clean up" [4878,4888]
                                FIELD [4889,4904]
                                    String: "if" [4889,4893]
                                    STRING [4894,4904]
                                        String: "always()" [4894,4904]
                                FIELD [4905,4943]
                                    String: "run" [4905,4910]
                                    STRING [4911,4943]
                                        String: "pip uninstall --yes allennlp\n" [4911,4943]
            FIELD [4947,5955]
                String: "test_package" [4947,4961]
                OBJECT [4962,5955]
                    FIELD [4963,4984]
                        String: "name" [4963,4969]
                        STRING [4970,4984]
                            String: "Test Package" [4970,4984]
                    FIELD [4985,5066]
                        String: "if" [4985,4989]
                        STRING [4990,5066]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [4990,5066]
                    FIELD [5067,5092]
                        String: "needs" [5067,5074]
                        ARRAY [5075,5092]
                            STRING [5076,5091]
                                String: "build_package" [5076,5091]
                    FIELD [5093,5118]
                        String: "runs-on" [5093,5102]
                        STRING [5103,5118]
                            String: "ubuntu-latest" [5103,5118]
                    FIELD [5119,5165]
                        String: "strategy" [5119,5129]
                        OBJECT [5130,5165]
                            FIELD [5131,5164]
                                String: "matrix" [5131,5139]
                                OBJECT [5140,5164]
                                    FIELD [5141,5163]
                                        String: "python" [5141,5149]
                                        ARRAY [5150,5163]
                                            STRING [5151,5156]
                                                String: "3.7" [5151,5156]
                                            STRING [5157,5162]
                                                String: "3.8" [5157,5162]
                    FIELD [5166,5954]
                        String: "steps" [5166,5173]
                        ARRAY [5174,5954]
                            OBJECT [5175,5280]
                                FIELD [5176,5197]
                                    String: "name" [5176,5182]
                                    STRING [5183,5197]
                                        String: "Setup Python" [5183,5197]
                                FIELD [5198,5230]
                                    String: "uses" [5198,5204]
                                    STRING [5205,5230]
                                        String: "actions/setup-python@v1" [5205,5230]
                                FIELD [5231,5279]
                                    String: "with" [5231,5237]
                                    OBJECT [5238,5279]
                                        FIELD [5239,5278]
                                            String: "python-version" [5239,5255]
                                            STRING [5256,5278]
                                                String: "${{ matrix.python }}" [5256,5278]
                            OBJECT [5281,5365]
                                FIELD [5282,5311]
                                    String: "name" [5282,5288]
                                    STRING [5289,5311]
                                        String: "Install requirements" [5289,5311]
                                FIELD [5312,5364]
                                    String: "run" [5312,5317]
                                    STRING [5318,5364]
                                        String: "pip install --upgrade pip setuptools wheel\n" [5318,5364]
                            OBJECT [5366,5481]
                                FIELD [5367,5397]
                                    String: "name" [5367,5373]
                                    STRING [5374,5397]
                                        String: "Download core package" [5374,5397]
                                FIELD [5398,5435]
                                    String: "uses" [5398,5404]
                                    STRING [5405,5435]
                                        String: "actions/download-artifact@v1" [5405,5435]
                                FIELD [5436,5480]
                                    String: "with" [5436,5442]
                                    OBJECT [5443,5480]
                                        FIELD [5444,5465]
                                            String: "name" [5444,5450]
                                            STRING [5451,5465]
                                                String: "core-package" [5451,5465]
                                        FIELD [5466,5479]
                                            String: "path" [5466,5472]
                                            STRING [5473,5479]
                                                String: "dist" [5473,5479]
                            OBJECT [5482,5854]
                                FIELD [5483,5512]
                                    String: "name" [5483,5489]
                                    STRING [5490,5512]
                                        String: "Install core package" [5490,5512]
                                FIELD [5513,5853]
                                    String: "run" [5513,5518]
                                    STRING [5519,5853]
                                        String: "pip install $(ls dist/*.whl)\n# TODO(epwalsh): In PyTorch 1.7, dataclasses is an unconditional dependency, when it should\n# only be a conditional dependency for Python < 3.7.\n# This has been fixed on PyTorch master branch, so we should be able to\n# remove this check with the next PyTorch release.\npip uninstall -y dataclasses\n" [5519,5853]
                            OBJECT [5855,5897]
                                FIELD [5856,5875]
                                    String: "name" [5856,5862]
                                    STRING [5863,5875]
                                        String: "Pip freeze" [5863,5875]
                                FIELD [5876,5896]
                                    String: "run" [5876,5881]
                                    STRING [5882,5896]
                                        String: "pip freeze\n" [5882,5896]
                            OBJECT [5898,5953]
                                FIELD [5899,5920]
                                    String: "name" [5899,5905]
                                    STRING [5906,5920]
                                        String: "Test install" [5906,5920]
                                FIELD [5921,5952]
                                    String: "run" [5921,5926]
                                    STRING [5927,5952]
                                        String: "allennlp test-install\n" [5927,5952]
            FIELD [5956,7338]
                String: "docker" [5956,5964]
                OBJECT [5965,7338]
                    FIELD [5966,5981]
                        String: "name" [5966,5972]
                        STRING [5973,5981]
                            String: "Docker" [5973,5981]
                    FIELD [5982,6063]
                        String: "if" [5982,5986]
                        STRING [5987,6063]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [5987,6063]
                    FIELD [6064,6089]
                        String: "needs" [6064,6071]
                        ARRAY [6072,6089]
                            STRING [6073,6088]
                                String: "build_package" [6073,6088]
                    FIELD [6090,6115]
                        String: "runs-on" [6090,6099]
                        STRING [6100,6115]
                            String: "ubuntu-latest" [6100,6115]
                    FIELD [6116,7337]
                        String: "steps" [6116,6123]
                        ARRAY [6124,7337]
                            OBJECT [6125,6155]
                                FIELD [6126,6154]
                                    String: "uses" [6126,6132]
                                    STRING [6133,6154]
                                        String: "actions/checkout@v2" [6133,6154]
                            OBJECT [6156,6422]
                                FIELD [6157,6187]
                                    String: "name" [6157,6163]
                                    STRING [6164,6187]
                                        String: "Set Docker image name" [6164,6187]
                                FIELD [6188,6421]
                                    String: "run" [6188,6193]
                                    STRING [6194,6421]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCKER_IMAGE_NAME=allennlp/allennlp:${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCKER_IMAGE_NAME=allennlp/commit:$GITHUB_SHA\" >> $GITHUB_ENV;\nfi\n" [6194,6421]
                            OBJECT [6423,6538]
                                FIELD [6424,6454]
                                    String: "name" [6424,6430]
                                    STRING [6431,6454]
                                        String: "Download core package" [6431,6454]
                                FIELD [6455,6492]
                                    String: "uses" [6455,6461]
                                    STRING [6462,6492]
                                        String: "actions/download-artifact@v1" [6462,6492]
                                FIELD [6493,6537]
                                    String: "with" [6493,6499]
                                    OBJECT [6500,6537]
                                        FIELD [6501,6522]
                                            String: "name" [6501,6507]
                                            STRING [6508,6522]
                                                String: "core-package" [6508,6522]
                                        FIELD [6523,6536]
                                            String: "path" [6523,6529]
                                            STRING [6530,6536]
                                                String: "dist" [6530,6536]
                            OBJECT [6539,6626]
                                FIELD [6540,6560]
                                    String: "name" [6540,6546]
                                    STRING [6547,6560]
                                        String: "Build image" [6547,6560]
                                FIELD [6561,6625]
                                    String: "run" [6561,6566]
                                    STRING [6567,6625]
                                        String: "make docker-image DOCKER_IMAGE_NAME=$DOCKER_IMAGE_NAME\n" [6567,6625]
                            OBJECT [6627,6731]
                                FIELD [6628,6647]
                                    String: "name" [6628,6634]
                                    STRING [6635,6647]
                                        String: "Test image" [6635,6647]
                                FIELD [6648,6730]
                                    String: "run" [6648,6653]
                                    STRING [6654,6730]
                                        String: "make docker-run DOCKER_IMAGE_NAME=$DOCKER_IMAGE_NAME ARGS='test-install'\n" [6654,6730]
                            OBJECT [6732,6963]
                                FIELD [6733,6761]
                                    String: "name" [6733,6739]
                                    STRING [6740,6761]
                                        String: "Upload master image" [6740,6761]
                                FIELD [6762,6839]
                                    String: "if" [6762,6766]
                                    STRING [6767,6839]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'push'" [6767,6839]
                                FIELD [6840,6962]
                                    String: "run" [6840,6845]
                                    STRING [6846,6962]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\ndocker push $DOCKER_IMAGE_NAME\n" [6846,6962]
                            OBJECT [6964,7336]
                                FIELD [6965,6994]
                                    String: "name" [6965,6971]
                                    STRING [6972,6994]
                                        String: "Upload release image" [6972,6994]
                                FIELD [6995,7075]
                                    String: "if" [6995,6999]
                                    STRING [7000,7075]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [7000,7075]
                                FIELD [7076,7335]
                                    String: "run" [7076,7081]
                                    STRING [7082,7335]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\n\n# Tag with latest.\ndocker tag $DOCKER_IMAGE_NAME allennlp/allennlp:latest\n\n# Push both tags.\ndocker push $DOCKER_IMAGE_NAME\ndocker push allennlp/allennlp:latest\n" [7082,7335]
            FIELD [7339,10238]
                String: "docs" [7339,7345]
                OBJECT [7346,10238]
                    FIELD [7347,7360]
                        String: "name" [7347,7353]
                        STRING [7354,7360]
                            String: "Docs" [7354,7360]
                    FIELD [7361,7442]
                        String: "if" [7361,7365]
                        STRING [7366,7442]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [7366,7442]
                    FIELD [7443,7468]
                        String: "runs-on" [7443,7452]
                        STRING [7453,7468]
                            String: "ubuntu-latest" [7453,7468]
                    FIELD [7469,10237]
                        String: "steps" [7469,7476]
                        ARRAY [7477,10237]
                            OBJECT [7478,7508]
                                FIELD [7479,7507]
                                    String: "uses" [7479,7485]
                                    STRING [7486,7507]
                                        String: "actions/checkout@v1" [7486,7507]
                            OBJECT [7509,7683]
                                FIELD [7510,7538]
                                    String: "name" [7510,7516]
                                    STRING [7517,7538]
                                        String: "Setup SSH Client ðŸ”‘" [7517,7538]
                                FIELD [7539,7585]
                                    String: "if" [7539,7543]
                                    STRING [7544,7585]
                                        String: "github.repository == 'allenai/allennlp'" [7544,7585]
                                FIELD [7586,7622]
                                    String: "uses" [7586,7592]
                                    STRING [7593,7622]
                                        String: "webfactory/ssh-agent@v0.2.0" [7593,7622]
                                FIELD [7623,7682]
                                    String: "with" [7623,7629]
                                    OBJECT [7630,7682]
                                        FIELD [7631,7681]
                                            String: "ssh-private-key" [7631,7648]
                                            STRING [7649,7681]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [7649,7681]
                            OBJECT [7684,7770]
                                FIELD [7685,7706]
                                    String: "name" [7685,7691]
                                    STRING [7692,7706]
                                        String: "Setup Python" [7692,7706]
                                FIELD [7707,7739]
                                    String: "uses" [7707,7713]
                                    STRING [7714,7739]
                                        String: "actions/setup-python@v1" [7714,7739]
                                FIELD [7740,7769]
                                    String: "with" [7740,7746]
                                    OBJECT [7747,7769]
                                        FIELD [7748,7768]
                                            String: "python-version" [7748,7764]
                                            NUMBER [7765,7768]
                                                Number: 3.7 [7765,7768]
                            OBJECT [7771,7970]
                                FIELD [7772,7797]
                                    String: "uses" [7772,7778]
                                    STRING [7779,7797]
                                        String: "actions/cache@v2" [7779,7797]
                                FIELD [7798,7969]
                                    String: "with" [7798,7804]
                                    OBJECT [7805,7969]
                                        FIELD [7806,7840]
                                            String: "path" [7806,7812]
                                            STRING [7813,7840]
                                                String: "${{ env.pythonLocation }}" [7813,7840]
                                        FIELD [7841,7968]
                                            String: "key" [7841,7846]
                                            STRING [7847,7968]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [7847,7968]
                            OBJECT [7971,8025]
                                FIELD [7972,8001]
                                    String: "name" [7972,7978]
                                    STRING [7979,8001]
                                        String: "Install requirements" [7979,8001]
                                FIELD [8002,8024]
                                    String: "run" [8002,8007]
                                    STRING [8008,8024]
                                        String: "make install\n" [8008,8024]
                            OBJECT [8026,8068]
                                FIELD [8027,8046]
                                    String: "name" [8027,8033]
                                    STRING [8034,8046]
                                        String: "Debug info" [8034,8046]
                                FIELD [8047,8067]
                                    String: "run" [8047,8052]
                                    STRING [8053,8067]
                                        String: "pip freeze\n" [8053,8067]
                            OBJECT [8069,8124]
                                FIELD [8070,8089]
                                    String: "name" [8070,8076]
                                    STRING [8077,8089]
                                        String: "Build docs" [8077,8089]
                                FIELD [8090,8123]
                                    String: "run" [8090,8095]
                                    STRING [8096,8123]
                                        String: "./scripts/build_docs.sh\n" [8096,8123]
                            OBJECT [8125,8351]
                                FIELD [8126,8148]
                                    String: "name" [8126,8132]
                                    STRING [8133,8148]
                                        String: "Configure Git" [8133,8148]
                                FIELD [8149,8195]
                                    String: "if" [8149,8153]
                                    STRING [8154,8195]
                                        String: "github.repository == 'allenai/allennlp'" [8154,8195]
                                FIELD [8196,8350]
                                    String: "run" [8196,8201]
                                    STRING [8202,8350]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [8202,8350]
                            OBJECT [8352,8564]
                                FIELD [8353,8380]
                                    String: "name" [8353,8359]
                                    STRING [8360,8380]
                                        String: "Set target folders" [8360,8380]
                                FIELD [8381,8563]
                                    String: "run" [8381,8386]
                                    STRING [8387,8563]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCS_FOLDER=${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCS_FOLDER=master\" >> $GITHUB_ENV;\nfi\n" [8387,8563]
                            OBJECT [8565,9008]
                                FIELD [8566,8585]
                                    String: "name" [8566,8572]
                                    STRING [8573,8585]
                                        String: "Stage docs" [8573,8585]
                                FIELD [8586,8667]
                                    String: "if" [8586,8590]
                                    STRING [8591,8667]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name != 'schedule'" [8591,8667]
                                FIELD [8668,9007]
                                    String: "run" [8668,8673]
                                    STRING [8674,9007]
                                        String: "echo \"Staging docs to $DOCS_FOLDER\"\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DOCS_FOLDER/\nmkdir -p ~/allennlp-docs/$DOCS_FOLDER\ncp -r site/* ~/allennlp-docs/$DOCS_FOLDER\n" [8674,9007]
                            OBJECT [9009,9926]
                                FIELD [9010,9035]
                                    String: "name" [9010,9016]
                                    STRING [9017,9035]
                                        String: "Update shortcuts" [9017,9035]
                                FIELD [9036,9116]
                                    String: "if" [9036,9040]
                                    STRING [9041,9116]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [9041,9116]
                                FIELD [9117,9925]
                                    String: "run" [9117,9122]
                                    STRING [9123,9925]
                                        String: "# Fail immediately if any step fails.\nset -e\n\nLATEST=$(./scripts/get_version.py latest)\nSTABLE=$(./scripts/get_version.py stable)\n\ncd ~/allennlp-docs/\n\necho \"Updating latest/index.html to point to $LATEST\"\nmkdir -p latest\ncat >latest/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${LATEST}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${LATEST}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n\necho \"Updating stable/index.html to point to $STABLE\"\nmkdir -p stable\ncat >stable/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${STABLE}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${STABLE}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n" [9123,9925]
                            OBJECT [9927,10161]
                                FIELD [9928,9948]
                                    String: "name" [9928,9934]
                                    STRING [9935,9948]
                                        String: "Deploy docs" [9935,9948]
                                FIELD [9949,10030]
                                    String: "if" [9949,9953]
                                    STRING [9954,10030]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name != 'schedule'" [9954,10030]
                                FIELD [10031,10160]
                                    String: "run" [10031,10036]
                                    STRING [10037,10160]
                                        String: "# And push them up to GitHub\ncd ~/allennlp-docs/\ngit add -A\ngit commit -m \"automated update of the docs\"\ngit push\n" [10037,10160]
                            OBJECT [10162,10236]
                                FIELD [10163,10180]
                                    String: "name" [10163,10169]
                                    STRING [10170,10180]
                                        String: "Clean up" [10170,10180]
                                FIELD [10181,10196]
                                    String: "if" [10181,10185]
                                    STRING [10186,10196]
                                        String: "always()" [10186,10196]
                                FIELD [10197,10235]
                                    String: "run" [10197,10202]
                                    STRING [10203,10235]
                                        String: "pip uninstall --yes allennlp\n" [10203,10235]
            FIELD [10239,10905]
                String: "publish" [10239,10248]
                OBJECT [10249,10905]
                    FIELD [10250,10263]
                        String: "name" [10250,10256]
                        STRING [10257,10263]
                            String: "PyPI" [10257,10263]
                    FIELD [10264,10361]
                        String: "needs" [10264,10271]
                        ARRAY [10272,10361]
                            STRING [10273,10285]
                                String: "check_core" [10273,10285]
                            STRING [10286,10300]
                                String: "check_models" [10286,10300]
                            STRING [10301,10313]
                                String: "gpu_checks" [10301,10313]
                            STRING [10314,10329]
                                String: "build_package" [10314,10329]
                            STRING [10330,10344]
                                String: "test_package" [10330,10344]
                            STRING [10345,10353]
                                String: "docker" [10345,10353]
                            STRING [10354,10360]
                                String: "docs" [10354,10360]
                    FIELD [10362,10439]
                        String: "if" [10362,10366]
                        STRING [10367,10439]
                            String: "github.repository == 'allenai/allennlp' && github.event_name != 'push'" [10367,10439]
                    FIELD [10440,10465]
                        String: "runs-on" [10440,10449]
                        STRING [10450,10465]
                            String: "ubuntu-latest" [10450,10465]
                    FIELD [10466,10904]
                        String: "steps" [10466,10473]
                        ARRAY [10474,10904]
                            OBJECT [10475,10505]
                                FIELD [10476,10504]
                                    String: "uses" [10476,10482]
                                    STRING [10483,10504]
                                        String: "actions/checkout@v2" [10483,10504]
                            OBJECT [10506,10592]
                                FIELD [10507,10528]
                                    String: "name" [10507,10513]
                                    STRING [10514,10528]
                                        String: "Setup Python" [10514,10528]
                                FIELD [10529,10561]
                                    String: "uses" [10529,10535]
                                    STRING [10536,10561]
                                        String: "actions/setup-python@v1" [10536,10561]
                                FIELD [10562,10591]
                                    String: "with" [10562,10568]
                                    OBJECT [10569,10591]
                                        FIELD [10570,10590]
                                            String: "python-version" [10570,10586]
                                            NUMBER [10587,10590]
                                                Number: 3.7 [10587,10590]
                            OBJECT [10593,10683]
                                FIELD [10594,10623]
                                    String: "name" [10594,10600]
                                    STRING [10601,10623]
                                        String: "Install requirements" [10601,10623]
                                FIELD [10624,10682]
                                    String: "run" [10624,10629]
                                    STRING [10630,10682]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [10630,10682]
                            OBJECT [10684,10799]
                                FIELD [10685,10715]
                                    String: "name" [10685,10691]
                                    STRING [10692,10715]
                                        String: "Download core package" [10692,10715]
                                FIELD [10716,10753]
                                    String: "uses" [10716,10722]
                                    STRING [10723,10753]
                                        String: "actions/download-artifact@v1" [10723,10753]
                                FIELD [10754,10798]
                                    String: "with" [10754,10760]
                                    OBJECT [10761,10798]
                                        FIELD [10762,10783]
                                            String: "name" [10762,10768]
                                            STRING [10769,10783]
                                                String: "core-package" [10769,10783]
                                        FIELD [10784,10797]
                                            String: "path" [10784,10790]
                                            STRING [10791,10797]
                                                String: "dist" [10791,10797]
                            OBJECT [10800,10903]
                                FIELD [10801,10830]
                                    String: "name" [10801,10807]
                                    STRING [10808,10830]
                                        String: "Publish core package" [10808,10830]
                                FIELD [10831,10902]
                                    String: "run" [10831,10836]
                                    STRING [10837,10902]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [10837,10902]