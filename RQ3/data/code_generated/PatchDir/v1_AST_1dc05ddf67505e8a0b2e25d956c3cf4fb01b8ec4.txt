OBJECT [0,8110]
    FIELD [1,16]
        String: "name" [1,7]
        STRING [8,16]
            String: "Master" [8,16]
    FIELD [17,132]
        String: "on" [17,21]
        OBJECT [22,132]
            FIELD [23,53]
                String: "push" [23,29]
                OBJECT [30,53]
                    FIELD [31,52]
                        String: "branches" [31,41]
                        ARRAY [42,52]
                            STRING [43,51]
                                String: "master" [43,51]
            FIELD [54,87]
                String: "release" [54,63]
                OBJECT [64,87]
                    FIELD [65,86]
                        String: "types" [65,72]
                        ARRAY [73,86]
                            STRING [74,85]
                                String: "published" [74,85]
            FIELD [88,131]
                String: "schedule" [88,98]
                ARRAY [99,131]
                    OBJECT [100,130]
                        FIELD [101,129]
                            String: "cron" [101,107]
                            STRING [108,129]
                                String: "37 11 * * 1,2,3,4,5" [108,129]
    FIELD [133,8109]
        String: "jobs" [133,139]
        OBJECT [140,8109]
            FIELD [141,1502]
                String: "check_core" [141,153]
                OBJECT [154,1502]
                    FIELD [155,174]
                        String: "name" [155,161]
                        STRING [162,174]
                            String: "Check Core" [162,174]
                    FIELD [175,200]
                        String: "runs-on" [175,184]
                        STRING [185,200]
                            String: "ubuntu-latest" [185,200]
                    FIELD [201,247]
                        String: "strategy" [201,211]
                        OBJECT [212,247]
                            FIELD [213,246]
                                String: "matrix" [213,221]
                                OBJECT [222,246]
                                    FIELD [223,245]
                                        String: "python" [223,231]
                                        ARRAY [232,245]
                                            STRING [233,238]
                                                String: "3.6" [233,238]
                                            STRING [239,244]
                                                String: "3.7" [239,244]
                    FIELD [248,1501]
                        String: "steps" [248,255]
                        ARRAY [256,1501]
                            OBJECT [257,287]
                                FIELD [258,286]
                                    String: "uses" [258,264]
                                    STRING [265,286]
                                        String: "actions/checkout@v2" [265,286]
                            OBJECT [288,393]
                                FIELD [289,310]
                                    String: "name" [289,295]
                                    STRING [296,310]
                                        String: "Setup Python" [296,310]
                                FIELD [311,343]
                                    String: "uses" [311,317]
                                    STRING [318,343]
                                        String: "actions/setup-python@v1" [318,343]
                                FIELD [344,392]
                                    String: "with" [344,350]
                                    OBJECT [351,392]
                                        FIELD [352,391]
                                            String: "python-version" [352,368]
                                            STRING [369,391]
                                                String: "${{ matrix.python }}" [369,391]
                            OBJECT [394,593]
                                FIELD [395,420]
                                    String: "uses" [395,401]
                                    STRING [402,420]
                                        String: "actions/cache@v1" [402,420]
                                FIELD [421,592]
                                    String: "with" [421,427]
                                    OBJECT [428,592]
                                        FIELD [429,463]
                                            String: "path" [429,435]
                                            STRING [436,463]
                                                String: "${{ env.pythonLocation }}" [436,463]
                                        FIELD [464,591]
                                            String: "key" [464,469]
                                            STRING [470,591]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [470,591]
                            OBJECT [594,648]
                                FIELD [595,624]
                                    String: "name" [595,601]
                                    STRING [602,624]
                                        String: "Install requirements" [602,624]
                                FIELD [625,647]
                                    String: "run" [625,630]
                                    STRING [631,647]
                                        String: "make install\n" [631,647]
                            OBJECT [649,691]
                                FIELD [650,669]
                                    String: "name" [650,656]
                                    STRING [657,669]
                                        String: "Debug info" [657,669]
                                FIELD [670,690]
                                    String: "run" [670,675]
                                    STRING [676,690]
                                        String: "pip freeze\n" [676,690]
                            OBJECT [692,727]
                                FIELD [693,706]
                                    String: "name" [693,699]
                                    STRING [700,706]
                                        String: "Lint" [700,706]
                                FIELD [707,726]
                                    String: "run" [707,712]
                                    STRING [713,726]
                                        String: "make lint\n" [713,726]
                            OBJECT [728,774]
                                FIELD [729,748]
                                    String: "name" [729,735]
                                    STRING [736,748]
                                        String: "Type check" [736,748]
                                FIELD [749,773]
                                    String: "run" [749,754]
                                    STRING [755,773]
                                        String: "make typecheck\n" [755,773]
                            OBJECT [775,824]
                                FIELD [776,794]
                                    String: "name" [776,782]
                                    STRING [783,794]
                                        String: "Run tests" [783,794]
                                FIELD [795,823]
                                    String: "run" [795,800]
                                    STRING [801,823]
                                        String: "make test-with-cov\n" [801,823]
                            OBJECT [825,1301]
                                FIELD [826,861]
                                    String: "name" [826,832]
                                    STRING [833,861]
                                        String: "Upload coverage to Codecov" [833,861]
                                FIELD [862,891]
                                    String: "if" [862,866]
                                    STRING [867,891]
                                        String: "matrix.python == '3.7'" [867,891]
                                FIELD [892,946]
                                    String: "env" [892,897]
                                    OBJECT [898,946]
                                        FIELD [899,945]
                                            String: "CODECOV_TOKEN" [899,914]
                                            STRING [915,945]
                                                String: "${{ secrets.CODECOV_TOKEN }}" [915,945]
                                FIELD [947,1300]
                                    String: "run" [947,952]
                                    STRING [953,1300]
                                        String: "# Ignore codecov failures as the codecov server is not\n# very reliable but we don't want to report a failure\n# in the github UI just because the coverage report failed to\n# be published.\n# This will also fail for forked repositories since the secret token won't\n# be available.\ncodecov -t $CODECOV_TOKEN || echo \"codecov upload failed\"\n" [953,1300]
                            OBJECT [1302,1500]
                                FIELD [1303,1320]
                                    String: "name" [1303,1309]
                                    STRING [1310,1320]
                                        String: "Clean up" [1310,1320]
                                FIELD [1321,1336]
                                    String: "if" [1321,1325]
                                    STRING [1326,1336]
                                        String: "always()" [1326,1336]
                                FIELD [1337,1499]
                                    String: "run" [1337,1342]
                                    STRING [1343,1499]
                                        String: "# Could run into issues with the cache if we don't uninstall the editable.\n# See https://github.com/pypa/pip/issues/4537.\npip uninstall --yes allennlp\n" [1343,1499]
            FIELD [1503,2490]
                String: "check_models" [1503,1517]
                OBJECT [1518,2490]
                    FIELD [1519,1540]
                        String: "name" [1519,1525]
                        STRING [1526,1540]
                            String: "Check Models" [1526,1540]
                    FIELD [1541,1566]
                        String: "runs-on" [1541,1550]
                        STRING [1551,1566]
                            String: "ubuntu-latest" [1551,1566]
                    FIELD [1567,1613]
                        String: "strategy" [1567,1577]
                        OBJECT [1578,1613]
                            FIELD [1579,1612]
                                String: "matrix" [1579,1587]
                                OBJECT [1588,1612]
                                    FIELD [1589,1611]
                                        String: "python" [1589,1597]
                                        ARRAY [1598,1611]
                                            STRING [1599,1604]
                                                String: "3.6" [1599,1604]
                                            STRING [1605,1610]
                                                String: "3.7" [1605,1610]
                    FIELD [1614,2489]
                        String: "steps" [1614,1621]
                        ARRAY [1622,2489]
                            OBJECT [1623,1653]
                                FIELD [1624,1652]
                                    String: "uses" [1624,1630]
                                    STRING [1631,1652]
                                        String: "actions/checkout@v2" [1631,1652]
                            OBJECT [1654,1759]
                                FIELD [1655,1676]
                                    String: "name" [1655,1661]
                                    STRING [1662,1676]
                                        String: "Setup Python" [1662,1676]
                                FIELD [1677,1709]
                                    String: "uses" [1677,1683]
                                    STRING [1684,1709]
                                        String: "actions/setup-python@v1" [1684,1709]
                                FIELD [1710,1758]
                                    String: "with" [1710,1716]
                                    OBJECT [1717,1758]
                                        FIELD [1718,1757]
                                            String: "python-version" [1718,1734]
                                            STRING [1735,1757]
                                                String: "${{ matrix.python }}" [1735,1757]
                            OBJECT [1760,1959]
                                FIELD [1761,1786]
                                    String: "uses" [1761,1767]
                                    STRING [1768,1786]
                                        String: "actions/cache@v1" [1768,1786]
                                FIELD [1787,1958]
                                    String: "with" [1787,1793]
                                    OBJECT [1794,1958]
                                        FIELD [1795,1829]
                                            String: "path" [1795,1801]
                                            STRING [1802,1829]
                                                String: "${{ env.pythonLocation }}" [1802,1829]
                                        FIELD [1830,1957]
                                            String: "key" [1830,1835]
                                            STRING [1836,1957]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [1836,1957]
                            OBJECT [1960,2014]
                                FIELD [1961,1990]
                                    String: "name" [1961,1967]
                                    STRING [1968,1990]
                                        String: "Install requirements" [1968,1990]
                                FIELD [1991,2013]
                                    String: "run" [1991,1996]
                                    STRING [1997,2013]
                                        String: "make install\n" [1997,2013]
                            OBJECT [2015,2057]
                                FIELD [2016,2035]
                                    String: "name" [2016,2022]
                                    STRING [2023,2035]
                                        String: "Debug info" [2023,2035]
                                FIELD [2036,2056]
                                    String: "run" [2036,2041]
                                    STRING [2042,2056]
                                        String: "pip freeze\n" [2042,2056]
                            OBJECT [2058,2306]
                                FIELD [2059,2096]
                                    String: "name" [2059,2065]
                                    STRING [2066,2096]
                                        String: "Pull and install models repo" [2066,2096]
                                FIELD [2097,2139]
                                    String: "env" [2097,2102]
                                    OBJECT [2103,2139]
                                        FIELD [2104,2138]
                                            String: "EXCLUDE_ALLENNLP_IN_SETUP" [2104,2131]
                                            STRING [2132,2138]
                                                String: "true" [2132,2138]
                                FIELD [2140,2305]
                                    String: "run" [2140,2145]
                                    STRING [2146,2305]
                                        String: "git clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models && pip install --upgrade --upgrade-strategy eager -e . -r dev-requirements.txt\n" [2146,2305]
                            OBJECT [2307,2376]
                                FIELD [2308,2333]
                                    String: "name" [2308,2314]
                                    STRING [2315,2333]
                                        String: "Run models tests" [2315,2333]
                                FIELD [2334,2375]
                                    String: "run" [2334,2339]
                                    STRING [2340,2375]
                                        String: "cd allennlp-models && make test\n" [2340,2375]
                            OBJECT [2377,2488]
                                FIELD [2378,2395]
                                    String: "name" [2378,2384]
                                    STRING [2385,2395]
                                        String: "Clean up" [2385,2395]
                                FIELD [2396,2411]
                                    String: "if" [2396,2400]
                                    STRING [2401,2411]
                                        String: "always()" [2401,2411]
                                FIELD [2412,2487]
                                    String: "run" [2412,2417]
                                    STRING [2418,2487]
                                        String: "pip uninstall --yes allennlp\npip uninstall --yes allennlp_models\n" [2418,2487]
            FIELD [2491,4076]
                String: "build_package" [2491,2506]
                OBJECT [2507,4076]
                    FIELD [2508,2530]
                        String: "name" [2508,2514]
                        STRING [2515,2530]
                            String: "Build Package" [2515,2530]
                    FIELD [2531,2556]
                        String: "runs-on" [2531,2540]
                        STRING [2541,2556]
                            String: "ubuntu-latest" [2541,2556]
                    FIELD [2557,4075]
                        String: "steps" [2557,2564]
                        ARRAY [2565,4075]
                            OBJECT [2566,2596]
                                FIELD [2567,2595]
                                    String: "uses" [2567,2573]
                                    STRING [2574,2595]
                                        String: "actions/checkout@v2" [2574,2595]
                            OBJECT [2597,2683]
                                FIELD [2598,2619]
                                    String: "name" [2598,2604]
                                    STRING [2605,2619]
                                        String: "Setup Python" [2605,2619]
                                FIELD [2620,2652]
                                    String: "uses" [2620,2626]
                                    STRING [2627,2652]
                                        String: "actions/setup-python@v1" [2627,2652]
                                FIELD [2653,2682]
                                    String: "with" [2653,2659]
                                    OBJECT [2660,2682]
                                        FIELD [2661,2681]
                                            String: "python-version" [2661,2677]
                                            NUMBER [2678,2681]
                                                Number: 3.7 [2678,2681]
                            OBJECT [2684,2883]
                                FIELD [2685,2710]
                                    String: "uses" [2685,2691]
                                    STRING [2692,2710]
                                        String: "actions/cache@v1" [2692,2710]
                                FIELD [2711,2882]
                                    String: "with" [2711,2717]
                                    OBJECT [2718,2882]
                                        FIELD [2719,2753]
                                            String: "path" [2719,2725]
                                            STRING [2726,2753]
                                                String: "${{ env.pythonLocation }}" [2726,2753]
                                        FIELD [2754,2881]
                                            String: "key" [2754,2759]
                                            STRING [2760,2881]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [2760,2881]
                            OBJECT [2884,3213]
                                FIELD [2885,2922]
                                    String: "name" [2885,2891]
                                    STRING [2892,2922]
                                        String: "Set version suffix (nightly)" [2892,2922]
                                FIELD [2923,2961]
                                    String: "if" [2923,2927]
                                    STRING [2928,2961]
                                        String: "github.event_name == 'schedule'" [2928,2961]
                                FIELD [2962,3212]
                                    String: "run" [2962,2967]
                                    STRING [2968,3212]
                                        String: "# This is somewhat bizarre, but you can't set env variables to bash\n# commands in the action workflow - so we have to use this odd way of\n# exporting a variable instead.\necho ::set-env name=ALLENNLP_VERSION_SUFFIX::.dev$(date -u +%Y%m%d)\n" [2968,3212]
                            OBJECT [3214,3656]
                                FIELD [3215,3252]
                                    String: "name" [3215,3221]
                                    STRING [3222,3252]
                                        String: "Set version suffix (release)" [3222,3252]
                                FIELD [3253,3290]
                                    String: "if" [3253,3257]
                                    STRING [3258,3290]
                                        String: "github.event_name == 'release'" [3258,3290]
                                FIELD [3291,3655]
                                    String: "run" [3291,3296]
                                    STRING [3297,3655]
                                        String: "# Remove 'refs/tags/' to get the actual tag from the release.\nTAG=${GITHUB_REF#refs/tags/};\n# The tag might have a suffix like `.rc1`, which we need to set\n# as an environment variable so that the package is built with this suffix.\nSUFFIX=$(echo $TAG | sed -E 's/v[0-9]+\\.[0-9]+\\.[0-9]+//')\necho \"::set-env name=ALLENNLP_VERSION_SUFFIX::$SUFFIX\"\n" [3297,3655]
                            OBJECT [3657,3711]
                                FIELD [3658,3687]
                                    String: "name" [3658,3664]
                                    STRING [3665,3687]
                                        String: "Install requirements" [3665,3687]
                                FIELD [3688,3710]
                                    String: "run" [3688,3693]
                                    STRING [3694,3710]
                                        String: "make install\n" [3694,3710]
                            OBJECT [3712,3889]
                                FIELD [3713,3740]
                                    String: "name" [3713,3719]
                                    STRING [3720,3740]
                                        String: "Build core package" [3720,3740]
                                FIELD [3741,3888]
                                    String: "run" [3741,3746]
                                    STRING [3747,3888]
                                        String: "echo \"Building packages for core release\"\n# Just print out the version for debugging.\nmake version\npython setup.py bdist_wheel sdist\n" [3747,3888]
                            OBJECT [3890,3999]
                                FIELD [3891,3917]
                                    String: "name" [3891,3897]
                                    STRING [3898,3917]
                                        String: "Save core package" [3898,3917]
                                FIELD [3918,3953]
                                    String: "uses" [3918,3924]
                                    STRING [3925,3953]
                                        String: "actions/upload-artifact@v1" [3925,3953]
                                FIELD [3954,3998]
                                    String: "with" [3954,3960]
                                    OBJECT [3961,3998]
                                        FIELD [3962,3983]
                                            String: "name" [3962,3968]
                                            STRING [3969,3983]
                                                String: "core-package" [3969,3983]
                                        FIELD [3984,3997]
                                            String: "path" [3984,3990]
                                            STRING [3991,3997]
                                                String: "dist" [3991,3997]
                            OBJECT [4000,4074]
                                FIELD [4001,4018]
                                    String: "name" [4001,4007]
                                    STRING [4008,4018]
                                        String: "Clean up" [4008,4018]
                                FIELD [4019,4034]
                                    String: "if" [4019,4023]
                                    STRING [4024,4034]
                                        String: "always()" [4024,4034]
                                FIELD [4035,4073]
                                    String: "run" [4035,4040]
                                    STRING [4041,4073]
                                        String: "pip uninstall --yes allennlp\n" [4041,4073]
            FIELD [4077,4658]
                String: "test_package" [4077,4091]
                OBJECT [4092,4658]
                    FIELD [4093,4114]
                        String: "name" [4093,4099]
                        STRING [4100,4114]
                            String: "Test Package" [4100,4114]
                    FIELD [4115,4140]
                        String: "needs" [4115,4122]
                        ARRAY [4123,4140]
                            STRING [4124,4139]
                                String: "build_package" [4124,4139]
                    FIELD [4141,4166]
                        String: "runs-on" [4141,4150]
                        STRING [4151,4166]
                            String: "ubuntu-latest" [4151,4166]
                    FIELD [4167,4213]
                        String: "strategy" [4167,4177]
                        OBJECT [4178,4213]
                            FIELD [4179,4212]
                                String: "matrix" [4179,4187]
                                OBJECT [4188,4212]
                                    FIELD [4189,4211]
                                        String: "python" [4189,4197]
                                        ARRAY [4198,4211]
                                            STRING [4199,4204]
                                                String: "3.6" [4199,4204]
                                            STRING [4205,4210]
                                                String: "3.7" [4205,4210]
                    FIELD [4214,4657]
                        String: "steps" [4214,4221]
                        ARRAY [4222,4657]
                            OBJECT [4223,4328]
                                FIELD [4224,4245]
                                    String: "name" [4224,4230]
                                    STRING [4231,4245]
                                        String: "Setup Python" [4231,4245]
                                FIELD [4246,4278]
                                    String: "uses" [4246,4252]
                                    STRING [4253,4278]
                                        String: "actions/setup-python@v1" [4253,4278]
                                FIELD [4279,4327]
                                    String: "with" [4279,4285]
                                    OBJECT [4286,4327]
                                        FIELD [4287,4326]
                                            String: "python-version" [4287,4303]
                                            STRING [4304,4326]
                                                String: "${{ matrix.python }}" [4304,4326]
                            OBJECT [4329,4413]
                                FIELD [4330,4359]
                                    String: "name" [4330,4336]
                                    STRING [4337,4359]
                                        String: "Install requirements" [4337,4359]
                                FIELD [4360,4412]
                                    String: "run" [4360,4365]
                                    STRING [4366,4412]
                                        String: "pip install --upgrade pip setuptools wheel\n" [4366,4412]
                            OBJECT [4414,4529]
                                FIELD [4415,4445]
                                    String: "name" [4415,4421]
                                    STRING [4422,4445]
                                        String: "Download core package" [4422,4445]
                                FIELD [4446,4483]
                                    String: "uses" [4446,4452]
                                    STRING [4453,4483]
                                        String: "actions/download-artifact@v1" [4453,4483]
                                FIELD [4484,4528]
                                    String: "with" [4484,4490]
                                    OBJECT [4491,4528]
                                        FIELD [4492,4513]
                                            String: "name" [4492,4498]
                                            STRING [4499,4513]
                                                String: "core-package" [4499,4513]
                                        FIELD [4514,4527]
                                            String: "path" [4514,4520]
                                            STRING [4521,4527]
                                                String: "dist" [4521,4527]
                            OBJECT [4530,4600]
                                FIELD [4531,4560]
                                    String: "name" [4531,4537]
                                    STRING [4538,4560]
                                        String: "Install core package" [4538,4560]
                                FIELD [4561,4599]
                                    String: "run" [4561,4566]
                                    STRING [4567,4599]
                                        String: "pip install $(ls dist/*.whl)\n" [4567,4599]
                            OBJECT [4601,4656]
                                FIELD [4602,4623]
                                    String: "name" [4602,4608]
                                    STRING [4609,4623]
                                        String: "Test install" [4609,4623]
                                FIELD [4624,4655]
                                    String: "run" [4624,4629]
                                    STRING [4630,4655]
                                        String: "allennlp test-install\n" [4630,4655]
            FIELD [4659,5886]
                String: "docker" [4659,4667]
                OBJECT [4668,5886]
                    FIELD [4669,4684]
                        String: "name" [4669,4675]
                        STRING [4676,4684]
                            String: "Docker" [4676,4684]
                    FIELD [4685,4710]
                        String: "needs" [4685,4692]
                        ARRAY [4693,4710]
                            STRING [4694,4709]
                                String: "build_package" [4694,4709]
                    FIELD [4711,4736]
                        String: "runs-on" [4711,4720]
                        STRING [4721,4736]
                            String: "ubuntu-latest" [4721,4736]
                    FIELD [4737,5885]
                        String: "steps" [4737,4744]
                        ARRAY [4745,5885]
                            OBJECT [4746,4776]
                                FIELD [4747,4775]
                                    String: "uses" [4747,4753]
                                    STRING [4754,4775]
                                        String: "actions/checkout@v2" [4754,4775]
                            OBJECT [4777,4892]
                                FIELD [4778,4808]
                                    String: "name" [4778,4784]
                                    STRING [4785,4808]
                                        String: "Download core package" [4785,4808]
                                FIELD [4809,4846]
                                    String: "uses" [4809,4815]
                                    STRING [4816,4846]
                                        String: "actions/download-artifact@v1" [4816,4846]
                                FIELD [4847,4891]
                                    String: "with" [4847,4853]
                                    OBJECT [4854,4891]
                                        FIELD [4855,4876]
                                            String: "name" [4855,4861]
                                            STRING [4862,4876]
                                                String: "core-package" [4862,4876]
                                        FIELD [4877,4890]
                                            String: "path" [4877,4883]
                                            STRING [4884,4890]
                                                String: "dist" [4884,4890]
                            OBJECT [4893,5209]
                                FIELD [4894,4914]
                                    String: "name" [4894,4900]
                                    STRING [4901,4914]
                                        String: "Build image" [4901,4914]
                                FIELD [4915,5208]
                                    String: "run" [4915,4920]
                                    STRING [4921,5208]
                                        String: "# Create a small context for the Docker with only the files that we need.\ntar -czvf context.tar.gz \\\n    Dockerfile.whl \\\n    scripts/ai2_internal/resumable_train.sh \\\n    dist/*.whl\ndocker build \\\n    --pull \\\n    -f Dockerfile.whl \\\n    -t allennlp - < context.tar.gz\n" [4921,5208]
                            OBJECT [5210,5279]
                                FIELD [5211,5230]
                                    String: "name" [5211,5217]
                                    STRING [5218,5230]
                                        String: "Test image" [5218,5230]
                                FIELD [5231,5278]
                                    String: "run" [5231,5236]
                                    STRING [5237,5278]
                                        String: "docker run --rm allennlp test-install\n" [5237,5278]
                            OBJECT [5280,5569]
                                FIELD [5281,5309]
                                    String: "name" [5281,5287]
                                    STRING [5288,5309]
                                        String: "Upload master image" [5288,5309]
                                FIELD [5310,5387]
                                    String: "if" [5310,5314]
                                    STRING [5315,5387]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'push'" [5315,5387]
                                FIELD [5388,5568]
                                    String: "run" [5388,5393]
                                    STRING [5394,5568]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\ndocker tag allennlp allennlp/commit:$GITHUB_SHA\ndocker push allennlp/commit:$GITHUB_SHA\n" [5394,5568]
                            OBJECT [5570,5884]
                                FIELD [5571,5600]
                                    String: "name" [5571,5577]
                                    STRING [5578,5600]
                                        String: "Upload release image" [5578,5600]
                                FIELD [5601,5681]
                                    String: "if" [5601,5605]
                                    STRING [5606,5681]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [5606,5681]
                                FIELD [5682,5883]
                                    String: "run" [5682,5687]
                                    STRING [5688,5883]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\nTAG=${GITHUB_REF#refs/tags/};\ndocker tag allennlp allennlp/allennlp:$TAG\ndocker push allennlp/allennlp:$TAG\n" [5688,5883]
            FIELD [5887,7454]
                String: "docs" [5887,5893]
                OBJECT [5894,7454]
                    FIELD [5895,5908]
                        String: "name" [5895,5901]
                        STRING [5902,5908]
                            String: "Docs" [5902,5908]
                    FIELD [5909,5934]
                        String: "runs-on" [5909,5918]
                        STRING [5919,5934]
                            String: "ubuntu-latest" [5919,5934]
                    FIELD [5935,7453]
                        String: "steps" [5935,5942]
                        ARRAY [5943,7453]
                            OBJECT [5944,5974]
                                FIELD [5945,5973]
                                    String: "uses" [5945,5951]
                                    STRING [5952,5973]
                                        String: "actions/checkout@v1" [5952,5973]
                            OBJECT [5975,6102]
                                FIELD [5976,6004]
                                    String: "name" [5976,5982]
                                    STRING [5983,6004]
                                        String: "Setup SSH Client 🔑" [5983,6004]
                                FIELD [6005,6041]
                                    String: "uses" [6005,6011]
                                    STRING [6012,6041]
                                        String: "webfactory/ssh-agent@v0.2.0" [6012,6041]
                                FIELD [6042,6101]
                                    String: "with" [6042,6048]
                                    OBJECT [6049,6101]
                                        FIELD [6050,6100]
                                            String: "ssh-private-key" [6050,6067]
                                            STRING [6068,6100]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [6068,6100]
                            OBJECT [6103,6189]
                                FIELD [6104,6125]
                                    String: "name" [6104,6110]
                                    STRING [6111,6125]
                                        String: "Setup Python" [6111,6125]
                                FIELD [6126,6158]
                                    String: "uses" [6126,6132]
                                    STRING [6133,6158]
                                        String: "actions/setup-python@v1" [6133,6158]
                                FIELD [6159,6188]
                                    String: "with" [6159,6165]
                                    OBJECT [6166,6188]
                                        FIELD [6167,6187]
                                            String: "python-version" [6167,6183]
                                            NUMBER [6184,6187]
                                                Number: 3.7 [6184,6187]
                            OBJECT [6190,6389]
                                FIELD [6191,6216]
                                    String: "uses" [6191,6197]
                                    STRING [6198,6216]
                                        String: "actions/cache@v1" [6198,6216]
                                FIELD [6217,6388]
                                    String: "with" [6217,6223]
                                    OBJECT [6224,6388]
                                        FIELD [6225,6259]
                                            String: "path" [6225,6231]
                                            STRING [6232,6259]
                                                String: "${{ env.pythonLocation }}" [6232,6259]
                                        FIELD [6260,6387]
                                            String: "key" [6260,6265]
                                            STRING [6266,6387]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [6266,6387]
                            OBJECT [6390,6444]
                                FIELD [6391,6420]
                                    String: "name" [6391,6397]
                                    STRING [6398,6420]
                                        String: "Install requirements" [6398,6420]
                                FIELD [6421,6443]
                                    String: "run" [6421,6426]
                                    STRING [6427,6443]
                                        String: "make install\n" [6427,6443]
                            OBJECT [6445,6487]
                                FIELD [6446,6465]
                                    String: "name" [6446,6452]
                                    STRING [6453,6465]
                                        String: "Debug info" [6453,6465]
                                FIELD [6466,6486]
                                    String: "run" [6466,6471]
                                    STRING [6472,6486]
                                        String: "pip freeze\n" [6472,6486]
                            OBJECT [6488,6543]
                                FIELD [6489,6508]
                                    String: "name" [6489,6495]
                                    STRING [6496,6508]
                                        String: "Build docs" [6496,6508]
                                FIELD [6509,6542]
                                    String: "run" [6509,6514]
                                    STRING [6515,6542]
                                        String: "./scripts/build_docs.sh\n" [6515,6542]
                            OBJECT [6544,6723]
                                FIELD [6545,6567]
                                    String: "name" [6545,6551]
                                    STRING [6552,6567]
                                        String: "Configure Git" [6552,6567]
                                FIELD [6568,6722]
                                    String: "run" [6568,6573]
                                    STRING [6574,6722]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [6574,6722]
                            OBJECT [6724,7377]
                                FIELD [6725,6745]
                                    String: "name" [6725,6731]
                                    STRING [6732,6745]
                                        String: "Deploy docs" [6732,6745]
                                FIELD [6746,6827]
                                    String: "if" [6746,6750]
                                    STRING [6751,6827]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name != 'schedule'" [6751,6827]
                                FIELD [6828,7376]
                                    String: "run" [6828,6833]
                                    STRING [6834,7376]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    DIRECTORY=${GITHUB_REF#refs/tags/};\nelse\n    DIRECTORY=master;\nfi\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DIRECTORY/\nmkdir -p ~/allennlp-docs/$DIRECTORY\ncp -r site/* ~/allennlp-docs/$DIRECTORY\n\n# And push them up to GitHub\ncd ~/allennlp-docs/$DIRECTORY\ngit add .\ngit commit -m \"automated update of the docs\"\ngit push\n" [6834,7376]
                            OBJECT [7378,7452]
                                FIELD [7379,7396]
                                    String: "name" [7379,7385]
                                    STRING [7386,7396]
                                        String: "Clean up" [7386,7396]
                                FIELD [7397,7412]
                                    String: "if" [7397,7401]
                                    STRING [7402,7412]
                                        String: "always()" [7402,7412]
                                FIELD [7413,7451]
                                    String: "run" [7413,7418]
                                    STRING [7419,7451]
                                        String: "pip uninstall --yes allennlp\n" [7419,7451]
            FIELD [7455,8108]
                String: "publish" [7455,7464]
                OBJECT [7465,8108]
                    FIELD [7466,7479]
                        String: "name" [7466,7472]
                        STRING [7473,7479]
                            String: "PyPI" [7473,7479]
                    FIELD [7480,7564]
                        String: "needs" [7480,7487]
                        ARRAY [7488,7564]
                            STRING [7489,7501]
                                String: "check_core" [7489,7501]
                            STRING [7502,7516]
                                String: "check_models" [7502,7516]
                            STRING [7517,7532]
                                String: "build_package" [7517,7532]
                            STRING [7533,7547]
                                String: "test_package" [7533,7547]
                            STRING [7548,7556]
                                String: "docker" [7548,7556]
                            STRING [7557,7563]
                                String: "docs" [7557,7563]
                    FIELD [7565,7642]
                        String: "if" [7565,7569]
                        STRING [7570,7642]
                            String: "github.repository == 'allenai/allennlp' && github.event_name != 'push'" [7570,7642]
                    FIELD [7643,7668]
                        String: "runs-on" [7643,7652]
                        STRING [7653,7668]
                            String: "ubuntu-latest" [7653,7668]
                    FIELD [7669,8107]
                        String: "steps" [7669,7676]
                        ARRAY [7677,8107]
                            OBJECT [7678,7708]
                                FIELD [7679,7707]
                                    String: "uses" [7679,7685]
                                    STRING [7686,7707]
                                        String: "actions/checkout@v2" [7686,7707]
                            OBJECT [7709,7795]
                                FIELD [7710,7731]
                                    String: "name" [7710,7716]
                                    STRING [7717,7731]
                                        String: "Setup Python" [7717,7731]
                                FIELD [7732,7764]
                                    String: "uses" [7732,7738]
                                    STRING [7739,7764]
                                        String: "actions/setup-python@v1" [7739,7764]
                                FIELD [7765,7794]
                                    String: "with" [7765,7771]
                                    OBJECT [7772,7794]
                                        FIELD [7773,7793]
                                            String: "python-version" [7773,7789]
                                            NUMBER [7790,7793]
                                                Number: 3.7 [7790,7793]
                            OBJECT [7796,7886]
                                FIELD [7797,7826]
                                    String: "name" [7797,7803]
                                    STRING [7804,7826]
                                        String: "Install requirements" [7804,7826]
                                FIELD [7827,7885]
                                    String: "run" [7827,7832]
                                    STRING [7833,7885]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [7833,7885]
                            OBJECT [7887,8002]
                                FIELD [7888,7918]
                                    String: "name" [7888,7894]
                                    STRING [7895,7918]
                                        String: "Download core package" [7895,7918]
                                FIELD [7919,7956]
                                    String: "uses" [7919,7925]
                                    STRING [7926,7956]
                                        String: "actions/download-artifact@v1" [7926,7956]
                                FIELD [7957,8001]
                                    String: "with" [7957,7963]
                                    OBJECT [7964,8001]
                                        FIELD [7965,7986]
                                            String: "name" [7965,7971]
                                            STRING [7972,7986]
                                                String: "core-package" [7972,7986]
                                        FIELD [7987,8000]
                                            String: "path" [7987,7993]
                                            STRING [7994,8000]
                                                String: "dist" [7994,8000]
                            OBJECT [8003,8106]
                                FIELD [8004,8033]
                                    String: "name" [8004,8010]
                                    STRING [8011,8033]
                                        String: "Publish core package" [8011,8033]
                                FIELD [8034,8105]
                                    String: "run" [8034,8039]
                                    STRING [8040,8105]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [8040,8105]