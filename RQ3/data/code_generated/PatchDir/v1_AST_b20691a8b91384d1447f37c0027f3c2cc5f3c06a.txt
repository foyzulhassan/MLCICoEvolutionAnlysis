OBJECT [0,4592]
    FIELD [1,14]
        String: "name" [1,7]
        STRING [8,14]
            String: "test" [8,14]
    FIELD [15,117]
        String: "on" [15,19]
        OBJECT [20,117]
            FIELD [21,64]
                String: "push" [21,27]
                OBJECT [28,64]
                    FIELD [29,63]
                        String: "branches" [29,39]
                        ARRAY [40,63]
                            STRING [41,49]
                                String: "master" [41,49]
                            STRING [50,62]
                                String: "release-**" [50,62]
            FIELD [65,116]
                String: "pull_request" [65,79]
                OBJECT [80,116]
                    FIELD [81,115]
                        String: "branches" [81,91]
                        ARRAY [92,115]
                            STRING [93,101]
                                String: "master" [93,101]
                            STRING [102,114]
                                String: "release-**" [102,114]
    FIELD [118,4591]
        String: "jobs" [118,124]
        OBJECT [125,4591]
            FIELD [126,2657]
                String: "unit_test" [126,137]
                OBJECT [138,2657]
                    FIELD [139,158]
                        String: "name" [139,145]
                        STRING [146,158]
                            String: "unit tests" [146,158]
                    FIELD [159,184]
                        String: "runs-on" [159,168]
                        STRING [169,184]
                            String: "ubuntu-latest" [169,184]
                    FIELD [185,870]
                        String: "services" [185,195]
                        OBJECT [196,870]
                            FIELD [197,388]
                                String: "mysql" [197,204]
                                OBJECT [205,388]
                                    FIELD [206,225]
                                        String: "image" [206,213]
                                        STRING [214,225]
                                            String: "mysql:8.0" [214,225]
                                    FIELD [226,240]
                                        String: "ports" [226,233]
                                        ARRAY [234,240]
                                            NUMBER [235,239]
                                                Number: 3306 [235,239]
                                    FIELD [241,281]
                                        String: "env" [241,246]
                                        OBJECT [247,281]
                                            FIELD [248,280]
                                                String: "MYSQL_ROOT_PASSWORD" [248,269]
                                                STRING [270,280]
                                                    String: "password" [270,280]
                                    FIELD [282,387]
                                        String: "options" [282,291]
                                        STRING [292,387]
                                            String: "--health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3" [292,387]
                            FIELD [389,602]
                                String: "postgres" [389,399]
                                OBJECT [400,602]
                                    FIELD [401,424]
                                        String: "image" [401,408]
                                        STRING [409,424]
                                            String: "postgres:10.0" [409,424]
                                    FIELD [425,439]
                                        String: "ports" [425,432]
                                        ARRAY [433,439]
                                            NUMBER [434,438]
                                                Number: 5432 [434,438]
                                    FIELD [440,504]
                                        String: "env" [440,445]
                                        OBJECT [446,504]
                                            FIELD [447,470]
                                                String: "POSTGRES_USER" [447,462]
                                                STRING [463,470]
                                                    String: "gorse" [463,470]
                                            FIELD [471,503]
                                                String: "POSTGRES_PASSWORD" [471,490]
                                                STRING [491,503]
                                                    String: "gorse_pass" [491,503]
                                    FIELD [505,601]
                                        String: "options" [505,514]
                                        STRING [515,601]
                                            String: "--health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5" [515,601]
                            FIELD [603,824]
                                String: "mongo" [603,610]
                                OBJECT [611,824]
                                    FIELD [612,631]
                                        String: "image" [612,619]
                                        STRING [620,631]
                                            String: "mongo:4.0" [620,631]
                                    FIELD [632,647]
                                        String: "ports" [632,639]
                                        ARRAY [640,647]
                                            NUMBER [641,646]
                                                Number: 27017 [641,646]
                                    FIELD [648,731]
                                        String: "env" [648,653]
                                        OBJECT [654,731]
                                            FIELD [655,690]
                                                String: "MONGO_INITDB_ROOT_USERNAME" [655,683]
                                                STRING [684,690]
                                                    String: "root" [684,690]
                                            FIELD [691,730]
                                                String: "MONGO_INITDB_ROOT_PASSWORD" [691,719]
                                                STRING [720,730]
                                                    String: "password" [720,730]
                                    FIELD [732,823]
                                        String: "options" [732,741]
                                        STRING [742,823]
                                            String: "--health-cmd mongo --health-interval 10s --health-timeout 5s --health-retries 5" [742,823]
                            FIELD [825,869]
                                String: "redis" [825,832]
                                OBJECT [833,869]
                                    FIELD [834,853]
                                        String: "image" [834,841]
                                        STRING [842,853]
                                            String: "redis:5.0" [842,853]
                                    FIELD [854,868]
                                        String: "ports" [854,861]
                                        ARRAY [862,868]
                                            NUMBER [863,867]
                                                Number: 6379 [863,867]
                    FIELD [871,2656]
                        String: "steps" [871,878]
                        ARRAY [879,2656]
                            OBJECT [880,1725]
                                FIELD [881,904]
                                    String: "name" [881,887]
                                    STRING [888,904]
                                        String: "Set up dataset" [888,904]
                                FIELD [905,1724]
                                    String: "run" [905,910]
                                    STRING [911,1724]
                                        String: "mkdir -p ~/.gorse/dataset\nmkdir -p ~/.gorse/download\nwget https://cdn.gorse.io/datasets/ml-100k.zip -P ~/.gorse/download\nwget https://cdn.gorse.io/datasets/ml-1m.zip -P ~/.gorse/download\nwget https://cdn.gorse.io/datasets/pinterest-20.zip -P ~/.gorse/download\nwget https://cdn.gorse.io/datasets/frappe.zip -P ~/.gorse/download\nwget https://cdn.gorse.io/datasets/ml-tag.zip -P ~/.gorse/download\nwget https://cdn.gorse.io/datasets/criteo.zip -P ~/.gorse/download\nunzip ~/.gorse/download/ml-100k.zip -d ~/.gorse/dataset\nunzip ~/.gorse/download/ml-1m.zip -d ~/.gorse/dataset\nunzip ~/.gorse/download/pinterest-20.zip -d ~/.gorse/dataset\nunzip ~/.gorse/download/frappe.zip -d ~/.gorse/dataset\nunzip ~/.gorse/download/ml-tag.zip -d ~/.gorse/dataset\nunzip ~/.gorse/download/criteo.zip -d ~/.gorse/dataset\n" [911,1724]
                            OBJECT [1726,1823]
                                FIELD [1727,1752]
                                    String: "name" [1727,1733]
                                    STRING [1734,1752]
                                        String: "Set up Go 1.20.x" [1734,1752]
                                FIELD [1753,1781]
                                    String: "uses" [1753,1759]
                                    STRING [1760,1781]
                                        String: "actions/setup-go@v2" [1760,1781]
                                FIELD [1782,1812]
                                    String: "with" [1782,1788]
                                    OBJECT [1789,1812]
                                        FIELD [1790,1811]
                                            String: "go-version" [1790,1802]
                                            STRING [1803,1811]
                                                String: "1.20.x" [1803,1811]
                                FIELD [1813,1822]
                                    String: "id" [1813,1817]
                                    STRING [1818,1822]
                                        String: "go" [1818,1822]
                            OBJECT [1824,1907]
                                FIELD [1825,1877]
                                    String: "name" [1825,1831]
                                    STRING [1832,1877]
                                        String: "Check out code into the Go module directory" [1832,1877]
                                FIELD [1878,1906]
                                    String: "uses" [1878,1884]
                                    STRING [1885,1906]
                                        String: "actions/checkout@v2" [1885,1906]
                            OBJECT [1908,2093]
                                FIELD [1909,1934]
                                    String: "name" [1909,1915]
                                    STRING [1916,1934]
                                        String: "Get dependencies" [1916,1934]
                                FIELD [1935,2092]
                                    String: "run" [1935,1940]
                                    STRING [1941,2092]
                                        String: "go get -v -t -d ./...\nif [ -f Gopkg.toml ]; then\n    curl https://raw.githubusercontent.com/golang/dep/master/install.sh | sh\n    dep ensure\nfi\n" [1941,2092]
                            OBJECT [2094,2136]
                                FIELD [2095,2109]
                                    String: "name" [2095,2101]
                                    STRING [2102,2109]
                                        String: "Build" [2102,2109]
                                FIELD [2110,2135]
                                    String: "run" [2110,2115]
                                    STRING [2116,2135]
                                        String: "go build -v ./..." [2116,2135]
                            OBJECT [2137,2589]
                                FIELD [2138,2151]
                                    String: "name" [2138,2144]
                                    STRING [2145,2151]
                                        String: "Test" [2145,2151]
                                FIELD [2152,2234]
                                    String: "run" [2152,2157]
                                    STRING [2158,2234]
                                        String: "go test -timeout 20m -v ./... -coverprofile=coverage.txt -covermode=atomic" [2158,2234]
                                FIELD [2235,2588]
                                    String: "env" [2235,2240]
                                    OBJECT [2241,2588]
                                        FIELD [2242,2331]
                                            String: "MYSQL_URI" [2242,2253]
                                            STRING [2254,2331]
                                                String: "mysql://root:password@tcp(localhost:${{ job.services.mysql.ports[3306] }})/" [2254,2331]
                                        FIELD [2332,2428]
                                            String: "POSTGRES_URI" [2332,2346]
                                            STRING [2347,2428]
                                                String: "postgres://gorse:gorse_pass@localhost:${{ job.services.postgres.ports[5432] }}/" [2347,2428]
                                        FIELD [2429,2516]
                                            String: "MONGO_URI" [2429,2440]
                                            STRING [2441,2516]
                                                String: "mongodb://root:password@localhost:${{ job.services.mongo.ports[27017] }}/" [2441,2516]
                                        FIELD [2517,2587]
                                            String: "REDIS_URI" [2517,2528]
                                            STRING [2529,2587]
                                                String: "redis://localhost:${{ job.services.redis.ports[6379] }}/" [2529,2587]
                            OBJECT [2590,2655]
                                FIELD [2591,2606]
                                    String: "name" [2591,2597]
                                    STRING [2598,2606]
                                        String: "Upload" [2598,2606]
                                FIELD [2607,2654]
                                    String: "run" [2607,2612]
                                    STRING [2613,2654]
                                        String: "bash <(curl -s https://codecov.io/bash)" [2613,2654]
            FIELD [2658,3796]
                String: "integrate_test" [2658,2674]
                OBJECT [2675,3796]
                    FIELD [2676,2700]
                        String: "name" [2676,2682]
                        STRING [2683,2700]
                            String: "integrate tests" [2683,2700]
                    FIELD [2701,2726]
                        String: "runs-on" [2701,2710]
                        STRING [2711,2726]
                            String: "ubuntu-latest" [2711,2726]
                    FIELD [2727,2790]
                        String: "strategy" [2727,2737]
                        OBJECT [2738,2790]
                            FIELD [2739,2789]
                                String: "matrix" [2739,2747]
                                OBJECT [2748,2789]
                                    FIELD [2749,2788]
                                        String: "database" [2749,2759]
                                        ARRAY [2760,2788]
                                            STRING [2761,2768]
                                                String: "mysql" [2761,2768]
                                            STRING [2769,2779]
                                                String: "postgres" [2769,2779]
                                            STRING [2780,2787]
                                                String: "mongo" [2780,2787]
                    FIELD [2791,3795]
                        String: "steps" [2791,2798]
                        ARRAY [2799,3795]
                            OBJECT [2800,2830]
                                FIELD [2801,2829]
                                    String: "uses" [2801,2807]
                                    STRING [2808,2829]
                                        String: "actions/checkout@v1" [2808,2829]
                            OBJECT [2831,3023]
                                FIELD [2832,2867]
                                    String: "uses" [2832,2838]
                                    STRING [2839,2867]
                                        String: "cuchi/jinja2-action@v1.2.0" [2839,2867]
                                FIELD [2868,3022]
                                    String: "with" [2868,2874]
                                    OBJECT [2875,3022]
                                        FIELD [2876,2917]
                                            String: "template" [2876,2886]
                                            STRING [2887,2917]
                                                String: "client/docker-compose.yml.j2" [2887,2917]
                                        FIELD [2918,2959]
                                            String: "output_file" [2918,2931]
                                            STRING [2932,2959]
                                                String: "client/docker-compose.yml" [2932,2959]
                                        FIELD [2960,2973]
                                            String: "strict" [2960,2968]
                                            TRUE [2969,2973]
                                        FIELD [2974,3021]
                                            String: "variables" [2974,2985]
                                            STRING [2986,3021]
                                                String: "database=${{ matrix.database }}\n" [2986,3021]
                            OBJECT [3024,3130]
                                FIELD [3025,3049]
                                    String: "name" [3025,3031]
                                    STRING [3032,3049]
                                        String: "Build the stack" [3032,3049]
                                FIELD [3050,3129]
                                    String: "run" [3050,3055]
                                    STRING [3056,3129]
                                        String: "docker-compose -f client/docker-compose.yml --project-directory . up -d" [3056,3129]
                            OBJECT [3131,3374]
                                FIELD [3132,3171]
                                    String: "name" [3132,3138]
                                    STRING [3139,3171]
                                        String: "Check the deployed service URL" [3139,3171]
                                FIELD [3172,3213]
                                    String: "uses" [3172,3178]
                                    STRING [3179,3213]
                                        String: "jtalk/url-health-check-action@v2" [3179,3213]
                                FIELD [3214,3373]
                                    String: "with" [3214,3220]
                                    OBJECT [3221,3373]
                                        FIELD [3222,3319]
                                            String: "url" [3222,3227]
                                            STRING [3228,3319]
                                                String: "http://127.0.0.1:8088/metrics|http://127.0.0.1:8087/metrics|http://127.0.0.1:8089/metrics" [3228,3319]
                                        FIELD [3320,3336]
                                            String: "max-attempts" [3320,3334]
                                            NUMBER [3335,3336]
                                                Number: 5 [3335,3336]
                                        FIELD [3337,3355]
                                            String: "retry-delay" [3337,3350]
                                            STRING [3351,3355]
                                                String: "5s" [3351,3355]
                                        FIELD [3356,3372]
                                            String: "retry-all" [3356,3367]
                                            TRUE [3368,3372]
                            OBJECT [3375,3472]
                                FIELD [3376,3401]
                                    String: "name" [3376,3382]
                                    STRING [3383,3401]
                                        String: "Set up Go 1.20.x" [3383,3401]
                                FIELD [3402,3430]
                                    String: "uses" [3402,3408]
                                    STRING [3409,3430]
                                        String: "actions/setup-go@v2" [3409,3430]
                                FIELD [3431,3461]
                                    String: "with" [3431,3437]
                                    OBJECT [3438,3461]
                                        FIELD [3439,3460]
                                            String: "go-version" [3439,3451]
                                            STRING [3452,3460]
                                                String: "1.20.x" [3452,3460]
                                FIELD [3462,3471]
                                    String: "id" [3462,3466]
                                    STRING [3467,3471]
                                        String: "go" [3467,3471]
                            OBJECT [3473,3537]
                                FIELD [3474,3487]
                                    String: "name" [3474,3480]
                                    STRING [3481,3487]
                                        String: "Test" [3481,3487]
                                FIELD [3488,3536]
                                    String: "run" [3488,3493]
                                    STRING [3494,3536]
                                        String: "go test -tags='integrate_test' ./client/" [3494,3536]
                            OBJECT [3538,3659]
                                FIELD [3539,3564]
                                    String: "name" [3539,3545]
                                    STRING [3546,3564]
                                        String: "Download dataset" [3546,3564]
                                FIELD [3565,3605]
                                    String: "if" [3565,3569]
                                    STRING [3570,3605]
                                        String: "${{ matrix.database == 'mysql' }}" [3570,3605]
                                FIELD [3606,3658]
                                    String: "run" [3606,3611]
                                    STRING [3612,3658]
                                        String: "wget https://cdn.gorse.io/example/github.sql" [3612,3658]
                            OBJECT [3660,3794]
                                FIELD [3661,3684]
                                    String: "name" [3661,3667]
                                    STRING [3668,3684]
                                        String: "Import dataset" [3668,3684]
                                FIELD [3685,3725]
                                    String: "if" [3685,3689]
                                    STRING [3690,3725]
                                        String: "${{ matrix.database == 'mysql' }}" [3690,3725]
                                FIELD [3726,3793]
                                    String: "run" [3726,3731]
                                    STRING [3732,3793]
                                        String: "mysql -h 127.0.0.1 -u gorse -pgorse_pass gorse < github.sql" [3732,3793]
            FIELD [3797,4335]
                String: "compat_test" [3797,3810]
                OBJECT [3811,4335]
                    FIELD [3812,3840]
                        String: "name" [3812,3818]
                        STRING [3819,3840]
                            String: "compatibility tests" [3819,3840]
                    FIELD [3841,3866]
                        String: "runs-on" [3841,3850]
                        STRING [3851,3866]
                            String: "ubuntu-latest" [3851,3866]
                    FIELD [3867,3970]
                        String: "services" [3867,3877]
                        OBJECT [3878,3970]
                            FIELD [3879,3969]
                                String: "mariadb" [3879,3888]
                                OBJECT [3889,3969]
                                    FIELD [3890,3912]
                                        String: "image" [3890,3897]
                                        STRING [3898,3912]
                                            String: "mariadb:10.2" [3898,3912]
                                    FIELD [3913,3927]
                                        String: "ports" [3913,3920]
                                        ARRAY [3921,3927]
                                            NUMBER [3922,3926]
                                                Number: 3306 [3922,3926]
                                    FIELD [3928,3968]
                                        String: "env" [3928,3933]
                                        OBJECT [3934,3968]
                                            FIELD [3935,3967]
                                                String: "MYSQL_ROOT_PASSWORD" [3935,3956]
                                                STRING [3957,3967]
                                                    String: "password" [3957,3967]
                    FIELD [3971,4334]
                        String: "steps" [3971,3978]
                        ARRAY [3979,4334]
                            OBJECT [3980,4077]
                                FIELD [3981,4006]
                                    String: "name" [3981,3987]
                                    STRING [3988,4006]
                                        String: "Set up Go 1.20.x" [3988,4006]
                                FIELD [4007,4035]
                                    String: "uses" [4007,4013]
                                    STRING [4014,4035]
                                        String: "actions/setup-go@v2" [4014,4035]
                                FIELD [4036,4066]
                                    String: "with" [4036,4042]
                                    OBJECT [4043,4066]
                                        FIELD [4044,4065]
                                            String: "go-version" [4044,4056]
                                            STRING [4057,4065]
                                                String: "1.20.x" [4057,4065]
                                FIELD [4067,4076]
                                    String: "id" [4067,4071]
                                    STRING [4072,4076]
                                        String: "go" [4072,4076]
                            OBJECT [4078,4161]
                                FIELD [4079,4131]
                                    String: "name" [4079,4085]
                                    STRING [4086,4131]
                                        String: "Check out code into the Go module directory" [4086,4131]
                                FIELD [4132,4160]
                                    String: "uses" [4132,4138]
                                    STRING [4139,4160]
                                        String: "actions/checkout@v2" [4139,4160]
                            OBJECT [4162,4333]
                                FIELD [4163,4184]
                                    String: "name" [4163,4169]
                                    STRING [4170,4184]
                                        String: "Test MariaDB" [4170,4184]
                                FIELD [4185,4232]
                                    String: "run" [4185,4190]
                                    STRING [4191,4232]
                                        String: "go test ./storage/data -run ^TestMySQL_" [4191,4232]
                                FIELD [4233,4332]
                                    String: "env" [4233,4238]
                                    OBJECT [4239,4332]
                                        FIELD [4240,4331]
                                            String: "MYSQL_URI" [4240,4251]
                                            STRING [4252,4331]
                                                String: "mysql://root:password@tcp(localhost:${{ job.services.mariadb.ports[3306] }})/" [4252,4331]
            FIELD [4336,4590]
                String: "golangci" [4336,4346]
                OBJECT [4347,4590]
                    FIELD [4348,4361]
                        String: "name" [4348,4354]
                        STRING [4355,4361]
                            String: "lint" [4355,4361]
                    FIELD [4362,4387]
                        String: "runs-on" [4362,4371]
                        STRING [4372,4387]
                            String: "ubuntu-latest" [4372,4387]
                    FIELD [4388,4589]
                        String: "steps" [4388,4395]
                        ARRAY [4396,4589]
                            OBJECT [4397,4458]
                                FIELD [4398,4426]
                                    String: "uses" [4398,4404]
                                    STRING [4405,4426]
                                        String: "actions/setup-go@v2" [4405,4426]
                                FIELD [4427,4457]
                                    String: "with" [4427,4433]
                                    OBJECT [4434,4457]
                                        FIELD [4435,4456]
                                            String: "go-version" [4435,4447]
                                            STRING [4448,4456]
                                                String: "1.20.x" [4448,4456]
                            OBJECT [4459,4489]
                                FIELD [4460,4488]
                                    String: "uses" [4460,4466]
                                    STRING [4467,4488]
                                        String: "actions/checkout@v2" [4467,4488]
                            OBJECT [4490,4588]
                                FIELD [4491,4513]
                                    String: "name" [4491,4497]
                                    STRING [4498,4513]
                                        String: "golangci-lint" [4498,4513]
                                FIELD [4514,4555]
                                    String: "uses" [4514,4520]
                                    STRING [4521,4555]
                                        String: "golangci/golangci-lint-action@v2" [4521,4555]
                                FIELD [4556,4587]
                                    String: "with" [4556,4562]
                                    OBJECT [4563,4587]
                                        FIELD [4564,4586]
                                            String: "args" [4564,4570]
                                            STRING [4571,4586]
                                                String: "--timeout 20m" [4571,4586]