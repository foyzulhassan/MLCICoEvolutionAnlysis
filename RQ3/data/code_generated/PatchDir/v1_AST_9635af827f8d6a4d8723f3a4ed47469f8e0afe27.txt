OBJECT [0,11932]
    FIELD [1,12]
        String: "name" [1,7]
        STRING [8,12]
            String: "CI" [8,12]
    FIELD [13,163]
        String: "on" [13,17]
        OBJECT [18,163]
            FIELD [19,55]
                String: "pull_request" [19,33]
                OBJECT [34,55]
                    FIELD [35,54]
                        String: "branches" [35,45]
                        ARRAY [46,54]
                            STRING [47,53]
                                String: "main" [47,53]
            FIELD [56,84]
                String: "push" [56,62]
                OBJECT [63,84]
                    FIELD [64,83]
                        String: "branches" [64,74]
                        ARRAY [75,83]
                            STRING [76,82]
                                String: "main" [76,82]
            FIELD [85,118]
                String: "release" [85,94]
                OBJECT [95,118]
                    FIELD [96,117]
                        String: "types" [96,103]
                        ARRAY [104,117]
                            STRING [105,116]
                                String: "published" [105,116]
            FIELD [119,162]
                String: "schedule" [119,129]
                ARRAY [130,162]
                    OBJECT [131,161]
                        FIELD [132,160]
                            String: "cron" [132,138]
                            STRING [139,160]
                                String: "37 11 * * 1,2,3,4,5" [139,160]
    FIELD [164,11931]
        String: "jobs" [164,170]
        OBJECT [171,11931]
            FIELD [172,627]
                String: "changelog" [172,183]
                OBJECT [184,627]
                    FIELD [185,203]
                        String: "name" [185,191]
                        STRING [192,203]
                            String: "CHANGELOG" [192,203]
                    FIELD [204,229]
                        String: "runs-on" [204,213]
                        STRING [214,229]
                            String: "ubuntu-latest" [214,229]
                    FIELD [230,272]
                        String: "if" [230,234]
                        STRING [235,272]
                            String: "github.event_name == 'pull_request'" [235,272]
                    FIELD [273,626]
                        String: "steps" [273,280]
                        ARRAY [281,626]
                            OBJECT [282,312]
                                FIELD [283,311]
                                    String: "uses" [283,289]
                                    STRING [290,311]
                                        String: "actions/checkout@v1" [290,311]
                            OBJECT [313,625]
                                FIELD [314,360]
                                    String: "name" [314,320]
                                    STRING [321,360]
                                        String: "Check that CHANGELOG has been updated" [321,360]
                                FIELD [361,624]
                                    String: "run" [361,366]
                                    STRING [367,624]
                                        String: "# If this step fails, this means you haven't updated the CHANGELOG.md\n# file with notes on your contribution.\ngit diff --name-only $(git merge-base origin/main HEAD) | grep '^CHANGELOG.md$' && echo \"Thanks for helping keep our CHANGELOG up-to-date!\"\n" [367,624]
            FIELD [628,1194]
                String: "gpu_checks" [628,640]
                OBJECT [641,1194]
                    FIELD [642,661]
                        String: "name" [642,648]
                        STRING [649,661]
                            String: "GPU Checks" [649,661]
                    FIELD [662,708]
                        String: "if" [662,666]
                        STRING [667,708]
                            String: "github.repository == 'allenai/allennlp'" [667,708]
                    FIELD [709,729]
                        String: "timeout-minutes" [709,726]
                        NUMBER [727,729]
                            Number: 15 [727,729]
                    FIELD [730,761]
                        String: "runs-on" [730,739]
                        ARRAY [740,761]
                            STRING [741,754]
                                String: "self-hosted" [741,754]
                            STRING [755,760]
                                String: "GPU" [755,760]
                    FIELD [762,1193]
                        String: "steps" [762,769]
                        ARRAY [770,1193]
                            OBJECT [771,801]
                                FIELD [772,800]
                                    String: "uses" [772,778]
                                    STRING [779,800]
                                        String: "actions/checkout@v2" [779,800]
                            OBJECT [802,1013]
                                FIELD [803,826]
                                    String: "name" [803,809]
                                    STRING [810,826]
                                        String: "Set Docker tag" [810,826]
                                FIELD [827,1012]
                                    String: "run" [827,832]
                                    STRING [833,1012]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCKER_TAG=${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCKER_TAG=$GITHUB_SHA\" >> $GITHUB_ENV;\nfi\n" [833,1012]
                            OBJECT [1014,1097]
                                FIELD [1015,1040]
                                    String: "name" [1015,1021]
                                    STRING [1022,1040]
                                        String: "Build test image" [1022,1040]
                                FIELD [1041,1096]
                                    String: "run" [1041,1046]
                                    STRING [1047,1096]
                                        String: "make docker-test-image DOCKER_TAG=$DOCKER_TAG\n" [1047,1096]
                            OBJECT [1098,1192]
                                FIELD [1099,1121]
                                    String: "name" [1099,1105]
                                    STRING [1106,1121]
                                        String: "Run GPU tests" [1106,1121]
                                FIELD [1122,1191]
                                    String: "run" [1122,1127]
                                    STRING [1128,1191]
                                        String: "make docker-test-run DOCKER_TAG=$DOCKER_TAG ARGS='gpu-test'\n" [1128,1191]
            FIELD [1195,2459]
                String: "check_core" [1195,1207]
                OBJECT [1208,2459]
                    FIELD [1209,1228]
                        String: "name" [1209,1215]
                        STRING [1216,1228]
                            String: "Check Core" [1216,1228]
                    FIELD [1229,1254]
                        String: "runs-on" [1229,1238]
                        STRING [1239,1254]
                            String: "ubuntu-latest" [1239,1254]
                    FIELD [1255,1301]
                        String: "strategy" [1255,1265]
                        OBJECT [1266,1301]
                            FIELD [1267,1300]
                                String: "matrix" [1267,1275]
                                OBJECT [1276,1300]
                                    FIELD [1277,1299]
                                        String: "python" [1277,1285]
                                        ARRAY [1286,1299]
                                            STRING [1287,1292]
                                                String: "3.7" [1287,1292]
                                            STRING [1293,1298]
                                                String: "3.8" [1293,1298]
                    FIELD [1302,2458]
                        String: "steps" [1302,1309]
                        ARRAY [1310,2458]
                            OBJECT [1311,1341]
                                FIELD [1312,1340]
                                    String: "uses" [1312,1318]
                                    STRING [1319,1340]
                                        String: "actions/checkout@v2" [1319,1340]
                            OBJECT [1342,1447]
                                FIELD [1343,1364]
                                    String: "name" [1343,1349]
                                    STRING [1350,1364]
                                        String: "Setup Python" [1350,1364]
                                FIELD [1365,1397]
                                    String: "uses" [1365,1371]
                                    STRING [1372,1397]
                                        String: "actions/setup-python@v1" [1372,1397]
                                FIELD [1398,1446]
                                    String: "with" [1398,1404]
                                    OBJECT [1405,1446]
                                        FIELD [1406,1445]
                                            String: "python-version" [1406,1422]
                                            STRING [1423,1445]
                                                String: "${{ matrix.python }}" [1423,1445]
                            OBJECT [1448,1647]
                                FIELD [1449,1474]
                                    String: "uses" [1449,1455]
                                    STRING [1456,1474]
                                        String: "actions/cache@v2" [1456,1474]
                                FIELD [1475,1646]
                                    String: "with" [1475,1481]
                                    OBJECT [1482,1646]
                                        FIELD [1483,1517]
                                            String: "path" [1483,1489]
                                            STRING [1490,1517]
                                                String: "${{ env.pythonLocation }}" [1490,1517]
                                        FIELD [1518,1645]
                                            String: "key" [1518,1523]
                                            STRING [1524,1645]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [1524,1645]
                            OBJECT [1648,1702]
                                FIELD [1649,1678]
                                    String: "name" [1649,1655]
                                    STRING [1656,1678]
                                        String: "Install requirements" [1656,1678]
                                FIELD [1679,1701]
                                    String: "run" [1679,1684]
                                    STRING [1685,1701]
                                        String: "make install\n" [1685,1701]
                            OBJECT [1703,1745]
                                FIELD [1704,1723]
                                    String: "name" [1704,1710]
                                    STRING [1711,1723]
                                        String: "Debug info" [1711,1723]
                                FIELD [1724,1744]
                                    String: "run" [1724,1729]
                                    STRING [1730,1744]
                                        String: "pip freeze\n" [1730,1744]
                            OBJECT [1746,1801]
                                FIELD [1747,1762]
                                    String: "name" [1747,1753]
                                    STRING [1754,1762]
                                        String: "Format" [1754,1762]
                                FIELD [1763,1778]
                                    String: "if" [1763,1767]
                                    STRING [1768,1778]
                                        String: "always()" [1768,1778]
                                FIELD [1779,1800]
                                    String: "run" [1779,1784]
                                    STRING [1785,1800]
                                        String: "make format\n" [1785,1800]
                            OBJECT [1802,1853]
                                FIELD [1803,1816]
                                    String: "name" [1803,1809]
                                    STRING [1810,1816]
                                        String: "Lint" [1810,1816]
                                FIELD [1817,1832]
                                    String: "if" [1817,1821]
                                    STRING [1822,1832]
                                        String: "always()" [1822,1832]
                                FIELD [1833,1852]
                                    String: "run" [1833,1838]
                                    STRING [1839,1852]
                                        String: "make lint\n" [1839,1852]
                            OBJECT [1854,1916]
                                FIELD [1855,1874]
                                    String: "name" [1855,1861]
                                    STRING [1862,1874]
                                        String: "Type check" [1862,1874]
                                FIELD [1875,1890]
                                    String: "if" [1875,1879]
                                    STRING [1880,1890]
                                        String: "always()" [1880,1890]
                                FIELD [1891,1915]
                                    String: "run" [1891,1896]
                                    STRING [1897,1915]
                                        String: "make typecheck\n" [1897,1915]
                            OBJECT [1917,1982]
                                FIELD [1918,1936]
                                    String: "name" [1918,1924]
                                    STRING [1925,1936]
                                        String: "Run tests" [1925,1936]
                                FIELD [1937,1952]
                                    String: "if" [1937,1941]
                                    STRING [1942,1952]
                                        String: "always()" [1942,1952]
                                FIELD [1953,1981]
                                    String: "run" [1953,1958]
                                    STRING [1959,1981]
                                        String: "make test-with-cov\n" [1959,1981]
                            OBJECT [1983,2258]
                                FIELD [1984,2019]
                                    String: "name" [1984,1990]
                                    STRING [1991,2019]
                                        String: "Upload coverage to Codecov" [1991,2019]
                                FIELD [2020,2164]
                                    String: "if" [2020,2024]
                                    STRING [2025,2164]
                                        String: "matrix.python == '3.7' && github.repository == 'allenai/allennlp' && (github.event_name == 'push' || github.event_name == 'pull_request')" [2025,2164]
                                FIELD [2165,2199]
                                    String: "uses" [2165,2171]
                                    STRING [2172,2199]
                                        String: "codecov/codecov-action@v1" [2172,2199]
                                FIELD [2200,2257]
                                    String: "with" [2200,2206]
                                    OBJECT [2207,2257]
                                        FIELD [2208,2231]
                                            String: "file" [2208,2214]
                                            STRING [2215,2231]
                                                String: "./coverage.xml" [2215,2231]
                                        FIELD [2232,2256]
                                            String: "fail_ci_if_error" [2232,2250]
                                            FALSE [2251,2256]
                            OBJECT [2259,2457]
                                FIELD [2260,2277]
                                    String: "name" [2260,2266]
                                    STRING [2267,2277]
                                        String: "Clean up" [2267,2277]
                                FIELD [2278,2293]
                                    String: "if" [2278,2282]
                                    STRING [2283,2293]
                                        String: "always()" [2283,2293]
                                FIELD [2294,2456]
                                    String: "run" [2294,2299]
                                    STRING [2300,2456]
                                        String: "# Could run into issues with the cache if we don't uninstall the editable.\n# See https://github.com/pypa/pip/issues/4537.\npip uninstall --yes allennlp\n" [2300,2456]
            FIELD [2460,3422]
                String: "check_models" [2460,2474]
                OBJECT [2475,3422]
                    FIELD [2476,2497]
                        String: "name" [2476,2482]
                        STRING [2483,2497]
                            String: "Check Models" [2483,2497]
                    FIELD [2498,2523]
                        String: "runs-on" [2498,2507]
                        STRING [2508,2523]
                            String: "ubuntu-latest" [2508,2523]
                    FIELD [2524,2570]
                        String: "strategy" [2524,2534]
                        OBJECT [2535,2570]
                            FIELD [2536,2569]
                                String: "matrix" [2536,2544]
                                OBJECT [2545,2569]
                                    FIELD [2546,2568]
                                        String: "python" [2546,2554]
                                        ARRAY [2555,2568]
                                            STRING [2556,2561]
                                                String: "3.7" [2556,2561]
                                            STRING [2562,2567]
                                                String: "3.8" [2562,2567]
                    FIELD [2571,3421]
                        String: "steps" [2571,2578]
                        ARRAY [2579,3421]
                            OBJECT [2580,2610]
                                FIELD [2581,2609]
                                    String: "uses" [2581,2587]
                                    STRING [2588,2609]
                                        String: "actions/checkout@v2" [2588,2609]
                            OBJECT [2611,2716]
                                FIELD [2612,2633]
                                    String: "name" [2612,2618]
                                    STRING [2619,2633]
                                        String: "Setup Python" [2619,2633]
                                FIELD [2634,2666]
                                    String: "uses" [2634,2640]
                                    STRING [2641,2666]
                                        String: "actions/setup-python@v1" [2641,2666]
                                FIELD [2667,2715]
                                    String: "with" [2667,2673]
                                    OBJECT [2674,2715]
                                        FIELD [2675,2714]
                                            String: "python-version" [2675,2691]
                                            STRING [2692,2714]
                                                String: "${{ matrix.python }}" [2692,2714]
                            OBJECT [2717,2916]
                                FIELD [2718,2743]
                                    String: "uses" [2718,2724]
                                    STRING [2725,2743]
                                        String: "actions/cache@v2" [2725,2743]
                                FIELD [2744,2915]
                                    String: "with" [2744,2750]
                                    OBJECT [2751,2915]
                                        FIELD [2752,2786]
                                            String: "path" [2752,2758]
                                            STRING [2759,2786]
                                                String: "${{ env.pythonLocation }}" [2759,2786]
                                        FIELD [2787,2914]
                                            String: "key" [2787,2792]
                                            STRING [2793,2914]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [2793,2914]
                            OBJECT [2917,2971]
                                FIELD [2918,2947]
                                    String: "name" [2918,2924]
                                    STRING [2925,2947]
                                        String: "Install requirements" [2925,2947]
                                FIELD [2948,2970]
                                    String: "run" [2948,2953]
                                    STRING [2954,2970]
                                        String: "make install\n" [2954,2970]
                            OBJECT [2972,3014]
                                FIELD [2973,2992]
                                    String: "name" [2973,2979]
                                    STRING [2980,2992]
                                        String: "Debug info" [2980,2992]
                                FIELD [2993,3013]
                                    String: "run" [2993,2998]
                                    STRING [2999,3013]
                                        String: "pip freeze\n" [2999,3013]
                            OBJECT [3015,3259]
                                FIELD [3016,3053]
                                    String: "name" [3016,3022]
                                    STRING [3023,3053]
                                        String: "Pull and install models repo" [3023,3053]
                                FIELD [3054,3092]
                                    String: "env" [3054,3059]
                                    OBJECT [3060,3092]
                                        FIELD [3061,3091]
                                            String: "ALLENNLP_VERSION_OVERRIDE" [3061,3088]
                                            STRING [3089,3091]
                                                String: "" [3089,3091]
                                FIELD [3093,3258]
                                    String: "run" [3093,3098]
                                    STRING [3099,3258]
                                        String: "git clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models && pip install --upgrade --upgrade-strategy eager -e . -r dev-requirements.txt\n" [3099,3258]
                            OBJECT [3260,3329]
                                FIELD [3261,3286]
                                    String: "name" [3261,3267]
                                    STRING [3268,3286]
                                        String: "Run models tests" [3268,3286]
                                FIELD [3287,3328]
                                    String: "run" [3287,3292]
                                    STRING [3293,3328]
                                        String: "cd allennlp-models && make test\n" [3293,3328]
                            OBJECT [3330,3420]
                                FIELD [3331,3348]
                                    String: "name" [3331,3337]
                                    STRING [3338,3348]
                                        String: "Clean up" [3338,3348]
                                FIELD [3349,3364]
                                    String: "if" [3349,3353]
                                    STRING [3354,3364]
                                        String: "always()" [3354,3364]
                                FIELD [3365,3419]
                                    String: "run" [3365,3370]
                                    STRING [3371,3419]
                                        String: "pip uninstall --yes allennlp allennlp-models\n" [3371,3419]
            FIELD [3423,5228]
                String: "build_package" [3423,3438]
                OBJECT [3439,5228]
                    FIELD [3440,3462]
                        String: "name" [3440,3446]
                        STRING [3447,3462]
                            String: "Build Package" [3447,3462]
                    FIELD [3463,3488]
                        String: "runs-on" [3463,3472]
                        STRING [3473,3488]
                            String: "ubuntu-latest" [3473,3488]
                    FIELD [3489,5227]
                        String: "steps" [3489,3496]
                        ARRAY [3497,5227]
                            OBJECT [3498,3528]
                                FIELD [3499,3527]
                                    String: "uses" [3499,3505]
                                    STRING [3506,3527]
                                        String: "actions/checkout@v2" [3506,3527]
                            OBJECT [3529,3615]
                                FIELD [3530,3551]
                                    String: "name" [3530,3536]
                                    STRING [3537,3551]
                                        String: "Setup Python" [3537,3551]
                                FIELD [3552,3584]
                                    String: "uses" [3552,3558]
                                    STRING [3559,3584]
                                        String: "actions/setup-python@v1" [3559,3584]
                                FIELD [3585,3614]
                                    String: "with" [3585,3591]
                                    OBJECT [3592,3614]
                                        FIELD [3593,3613]
                                            String: "python-version" [3593,3609]
                                            NUMBER [3610,3613]
                                                Number: 3.7 [3610,3613]
                            OBJECT [3616,3815]
                                FIELD [3617,3642]
                                    String: "uses" [3617,3623]
                                    STRING [3624,3642]
                                        String: "actions/cache@v2" [3624,3642]
                                FIELD [3643,3814]
                                    String: "with" [3643,3649]
                                    OBJECT [3650,3814]
                                        FIELD [3651,3685]
                                            String: "path" [3651,3657]
                                            STRING [3658,3685]
                                                String: "${{ env.pythonLocation }}" [3658,3685]
                                        FIELD [3686,3813]
                                            String: "key" [3686,3691]
                                            STRING [3692,3813]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [3692,3813]
                            OBJECT [3816,3870]
                                FIELD [3817,3846]
                                    String: "name" [3817,3823]
                                    STRING [3824,3846]
                                        String: "Install requirements" [3824,3846]
                                FIELD [3847,3869]
                                    String: "run" [3847,3852]
                                    STRING [3853,3869]
                                        String: "make install\n" [3853,3869]
                            OBJECT [3871,4508]
                                FIELD [3872,3910]
                                    String: "name" [3872,3878]
                                    STRING [3879,3910]
                                        String: "Check and set nightly version" [3879,3910]
                                FIELD [3911,3949]
                                    String: "if" [3911,3915]
                                    STRING [3916,3949]
                                        String: "github.event_name == 'schedule'" [3916,3949]
                                FIELD [3950,4507]
                                    String: "run" [3950,3955]
                                    STRING [3956,4507]
                                        String: "# Verify that current version is ahead of the last release.\nLATEST=$(scripts/get_version.py latest)\nCURRENT=$(scripts/get_version.py current)\nif [ \"$CURRENT\" == \"$LATEST\" ]; then\n    echo \"Current version needs to be ahead of latest release in order to build nightly release\";\n    exit 1;\nfi\n# This is somewhat bizarre, but you can't set env variables to bash\n# commands in the action workflow - so we have to use this odd way of\n# exporting a variable instead.\necho \"ALLENNLP_VERSION_SUFFIX=dev$(date -u +%Y%m%d)\" >> $GITHUB_ENV\n" [3956,4507]
                            OBJECT [4509,4863]
                                FIELD [4510,4554]
                                    String: "name" [4510,4516]
                                    STRING [4517,4554]
                                        String: "Check version and release tag match" [4517,4554]
                                FIELD [4555,4592]
                                    String: "if" [4555,4559]
                                    STRING [4560,4592]
                                        String: "github.event_name == 'release'" [4560,4592]
                                FIELD [4593,4862]
                                    String: "run" [4593,4598]
                                    STRING [4599,4862]
                                        String: "# Remove 'refs/tags/' to get the actual tag from the release.\nTAG=${GITHUB_REF#refs/tags/};\nVERSION=$(scripts/get_version.py current)\nif [ \"$TAG\" != \"$VERSION\" ]; then\n    echo \"Bad tag or version. Tag $TAG does not match $VERSION\";\n    exit 1;\nfi\n" [4599,4862]
                            OBJECT [4864,5041]
                                FIELD [4865,4892]
                                    String: "name" [4865,4871]
                                    STRING [4872,4892]
                                        String: "Build core package" [4872,4892]
                                FIELD [4893,5040]
                                    String: "run" [4893,4898]
                                    STRING [4899,5040]
                                        String: "echo \"Building packages for core release\"\n# Just print out the version for debugging.\nmake version\npython setup.py bdist_wheel sdist\n" [4899,5040]
                            OBJECT [5042,5151]
                                FIELD [5043,5069]
                                    String: "name" [5043,5049]
                                    STRING [5050,5069]
                                        String: "Save core package" [5050,5069]
                                FIELD [5070,5105]
                                    String: "uses" [5070,5076]
                                    STRING [5077,5105]
                                        String: "actions/upload-artifact@v1" [5077,5105]
                                FIELD [5106,5150]
                                    String: "with" [5106,5112]
                                    OBJECT [5113,5150]
                                        FIELD [5114,5135]
                                            String: "name" [5114,5120]
                                            STRING [5121,5135]
                                                String: "core-package" [5121,5135]
                                        FIELD [5136,5149]
                                            String: "path" [5136,5142]
                                            STRING [5143,5149]
                                                String: "dist" [5143,5149]
                            OBJECT [5152,5226]
                                FIELD [5153,5170]
                                    String: "name" [5153,5159]
                                    STRING [5160,5170]
                                        String: "Clean up" [5160,5170]
                                FIELD [5171,5186]
                                    String: "if" [5171,5175]
                                    STRING [5176,5186]
                                        String: "always()" [5176,5186]
                                FIELD [5187,5225]
                                    String: "run" [5187,5192]
                                    STRING [5193,5225]
                                        String: "pip uninstall --yes allennlp\n" [5193,5225]
            FIELD [5229,6153]
                String: "test_package" [5229,5243]
                OBJECT [5244,6153]
                    FIELD [5245,5266]
                        String: "name" [5245,5251]
                        STRING [5252,5266]
                            String: "Test Package" [5252,5266]
                    FIELD [5267,5292]
                        String: "needs" [5267,5274]
                        ARRAY [5275,5292]
                            STRING [5276,5291]
                                String: "build_package" [5276,5291]
                    FIELD [5293,5318]
                        String: "runs-on" [5293,5302]
                        STRING [5303,5318]
                            String: "ubuntu-latest" [5303,5318]
                    FIELD [5319,5365]
                        String: "strategy" [5319,5329]
                        OBJECT [5330,5365]
                            FIELD [5331,5364]
                                String: "matrix" [5331,5339]
                                OBJECT [5340,5364]
                                    FIELD [5341,5363]
                                        String: "python" [5341,5349]
                                        ARRAY [5350,5363]
                                            STRING [5351,5356]
                                                String: "3.7" [5351,5356]
                                            STRING [5357,5362]
                                                String: "3.8" [5357,5362]
                    FIELD [5366,6152]
                        String: "steps" [5366,5373]
                        ARRAY [5374,6152]
                            OBJECT [5375,5480]
                                FIELD [5376,5397]
                                    String: "name" [5376,5382]
                                    STRING [5383,5397]
                                        String: "Setup Python" [5383,5397]
                                FIELD [5398,5430]
                                    String: "uses" [5398,5404]
                                    STRING [5405,5430]
                                        String: "actions/setup-python@v1" [5405,5430]
                                FIELD [5431,5479]
                                    String: "with" [5431,5437]
                                    OBJECT [5438,5479]
                                        FIELD [5439,5478]
                                            String: "python-version" [5439,5455]
                                            STRING [5456,5478]
                                                String: "${{ matrix.python }}" [5456,5478]
                            OBJECT [5481,5565]
                                FIELD [5482,5511]
                                    String: "name" [5482,5488]
                                    STRING [5489,5511]
                                        String: "Install requirements" [5489,5511]
                                FIELD [5512,5564]
                                    String: "run" [5512,5517]
                                    STRING [5518,5564]
                                        String: "pip install --upgrade pip setuptools wheel\n" [5518,5564]
                            OBJECT [5566,5681]
                                FIELD [5567,5597]
                                    String: "name" [5567,5573]
                                    STRING [5574,5597]
                                        String: "Download core package" [5574,5597]
                                FIELD [5598,5635]
                                    String: "uses" [5598,5604]
                                    STRING [5605,5635]
                                        String: "actions/download-artifact@v1" [5605,5635]
                                FIELD [5636,5680]
                                    String: "with" [5636,5642]
                                    OBJECT [5643,5680]
                                        FIELD [5644,5665]
                                            String: "name" [5644,5650]
                                            STRING [5651,5665]
                                                String: "core-package" [5651,5665]
                                        FIELD [5666,5679]
                                            String: "path" [5666,5672]
                                            STRING [5673,5679]
                                                String: "dist" [5673,5679]
                            OBJECT [5682,6052]
                                FIELD [5683,5712]
                                    String: "name" [5683,5689]
                                    STRING [5690,5712]
                                        String: "Install core package" [5690,5712]
                                FIELD [5713,6051]
                                    String: "run" [5713,5718]
                                    STRING [5719,6051]
                                        String: "pip install $(ls dist/*.whl)\n# TODO(epwalsh): In PyTorch 1.7, dataclasses is an unconditional dependency, when it should\n# only be a conditional dependency for Python < 3.7.\n# This has been fixed on PyTorch main branch, so we should be able to\n# remove this check with the next PyTorch release.\npip uninstall -y dataclasses\n" [5719,6051]
                            OBJECT [6053,6095]
                                FIELD [6054,6073]
                                    String: "name" [6054,6060]
                                    STRING [6061,6073]
                                        String: "Pip freeze" [6061,6073]
                                FIELD [6074,6094]
                                    String: "run" [6074,6079]
                                    STRING [6080,6094]
                                        String: "pip freeze\n" [6080,6094]
                            OBJECT [6096,6151]
                                FIELD [6097,6118]
                                    String: "name" [6097,6103]
                                    STRING [6104,6118]
                                        String: "Test install" [6104,6118]
                                FIELD [6119,6150]
                                    String: "run" [6119,6124]
                                    STRING [6125,6150]
                                        String: "allennlp test-install\n" [6125,6150]
            FIELD [6154,8163]
                String: "docker" [6154,6162]
                OBJECT [6163,8163]
                    FIELD [6164,6205]
                        String: "name" [6164,6170]
                        STRING [6171,6205]
                            String: "Docker (CUDA ${{ matrix.cuda }})" [6171,6205]
                    FIELD [6206,6252]
                        String: "if" [6206,6210]
                        STRING [6211,6252]
                            String: "github.repository == 'allenai/allennlp'" [6211,6252]
                    FIELD [6253,6284]
                        String: "runs-on" [6253,6262]
                        ARRAY [6263,6284]
                            STRING [6264,6277]
                                String: "self-hosted" [6264,6277]
                            STRING [6278,6283]
                                String: "GPU" [6278,6283]
                    FIELD [6285,6331]
                        String: "strategy" [6285,6295]
                        OBJECT [6296,6331]
                            FIELD [6297,6330]
                                String: "matrix" [6297,6305]
                                OBJECT [6306,6330]
                                    FIELD [6307,6329]
                                        String: "cuda" [6307,6313]
                                        ARRAY [6314,6329]
                                            STRING [6315,6321]
                                                String: "10.2" [6315,6321]
                                            STRING [6322,6328]
                                                String: "11.0" [6322,6328]
                    FIELD [6332,8162]
                        String: "steps" [6332,6339]
                        ARRAY [6340,8162]
                            OBJECT [6341,6371]
                                FIELD [6342,6370]
                                    String: "uses" [6342,6348]
                                    STRING [6349,6370]
                                        String: "actions/checkout@v2" [6349,6370]
                            OBJECT [6372,6854]
                                FIELD [6373,6399]
                                    String: "name" [6373,6379]
                                    STRING [6380,6399]
                                        String: "Set torch version" [6380,6399]
                                FIELD [6400,6435]
                                    String: "env" [6400,6405]
                                    OBJECT [6406,6435]
                                        FIELD [6407,6434]
                                            String: "CUDA" [6407,6413]
                                            STRING [6414,6434]
                                                String: "${{ matrix.cuda }}" [6414,6434]
                                FIELD [6436,6853]
                                    String: "run" [6436,6441]
                                    STRING [6442,6853]
                                        String: "# Check the install instructions on https://pytorch.org/ to keep these up-to-date.\nif [[ $CUDA == '10.2' ]]; then\n    echo \"DOCKER_TORCH_VERSION='torch==1.7.1'\" >> $GITHUB_ENV;\nelif [[ $CUDA == '11.0' ]]; then\n    echo \"DOCKER_TORCH_VERSION='torch==1.7.1+cu110 -f https://download.pytorch.org/whl/torch_stable.html'\" >> $GITHUB_ENV;\nelse\n    echo \"Unhandled CUDA version $CUDA\";\n    exit 1;\nfi\n" [6442,6853]
                            OBJECT [6855,7176]
                                FIELD [6856,6879]
                                    String: "name" [6856,6862]
                                    STRING [6863,6879]
                                        String: "Set image name" [6863,6879]
                                FIELD [6880,6915]
                                    String: "env" [6880,6885]
                                    OBJECT [6886,6915]
                                        FIELD [6887,6914]
                                            String: "CUDA" [6887,6893]
                                            STRING [6894,6914]
                                                String: "${{ matrix.cuda }}" [6894,6914]
                                FIELD [6916,7175]
                                    String: "run" [6916,6921]
                                    STRING [6922,7175]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCKER_IMAGE_NAME=allennlp/allennlp:${GITHUB_REF#refs/tags/}-cuda${CUDA}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCKER_IMAGE_NAME=allennlp/commit:${GITHUB_SHA}-cuda${CUDA}\" >> $GITHUB_ENV;\nfi\n" [6922,7175]
                            OBJECT [7177,7315]
                                FIELD [7178,7198]
                                    String: "name" [7178,7184]
                                    STRING [7185,7198]
                                        String: "Build image" [7185,7198]
                                FIELD [7199,7314]
                                    String: "run" [7199,7204]
                                    STRING [7205,7314]
                                        String: "make docker-image DOCKER_IMAGE_NAME=\"$DOCKER_IMAGE_NAME\" DOCKER_TORCH_VERSION=\"$DOCKER_TORCH_VERSION\"\n" [7205,7314]
                            OBJECT [7316,7420]
                                FIELD [7317,7336]
                                    String: "name" [7317,7323]
                                    STRING [7324,7336]
                                        String: "Test image" [7324,7336]
                                FIELD [7337,7419]
                                    String: "run" [7337,7342]
                                    STRING [7343,7419]
                                        String: "make docker-run DOCKER_IMAGE_NAME=$DOCKER_IMAGE_NAME ARGS='test-install'\n" [7343,7419]
                            OBJECT [7421,7618]
                                FIELD [7422,7457]
                                    String: "name" [7422,7428]
                                    STRING [7429,7457]
                                        String: "Authenticate to Docker Hub" [7429,7457]
                                FIELD [7458,7526]
                                    String: "if" [7458,7462]
                                    STRING [7463,7526]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [7463,7526]
                                FIELD [7527,7617]
                                    String: "run" [7527,7532]
                                    STRING [7533,7617]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\n" [7533,7617]
                            OBJECT [7619,7752]
                                FIELD [7620,7641]
                                    String: "name" [7620,7626]
                                    STRING [7627,7641]
                                        String: "Upload image" [7627,7641]
                                FIELD [7642,7710]
                                    String: "if" [7642,7646]
                                    STRING [7647,7710]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [7647,7710]
                                FIELD [7711,7751]
                                    String: "run" [7711,7716]
                                    STRING [7717,7751]
                                        String: "docker push $DOCKER_IMAGE_NAME\n" [7717,7751]
                            OBJECT [7753,7964]
                                FIELD [7754,7790]
                                    String: "name" [7754,7760]
                                    STRING [7761,7790]
                                        String: "Upload default commit image" [7761,7790]
                                FIELD [7791,7850]
                                    String: "if" [7791,7795]
                                    STRING [7796,7850]
                                        String: "github.event_name == 'push' && matrix.cuda == '10.2'" [7796,7850]
                                FIELD [7851,7963]
                                    String: "run" [7851,7856]
                                    STRING [7857,7963]
                                        String: "docker tag $DOCKER_IMAGE_NAME allennlp/commit:${GITHUB_SHA}\ndocker push allennlp/commit:${GITHUB_SHA}\n" [7857,7963]
                            OBJECT [7965,8161]
                                FIELD [7966,7994]
                                    String: "name" [7966,7972]
                                    STRING [7973,7994]
                                        String: "Upload latest image" [7973,7994]
                                FIELD [7995,8057]
                                    String: "if" [7995,7999]
                                    STRING [8000,8057]
                                        String: "github.event_name == 'release' && matrix.cuda == '10.2'" [8000,8057]
                                FIELD [8058,8160]
                                    String: "run" [8058,8063]
                                    STRING [8064,8160]
                                        String: "docker tag $DOCKER_IMAGE_NAME allennlp/allennlp:latest\ndocker push allennlp/allennlp:latest\n" [8064,8160]
            FIELD [8164,11228]
                String: "docs" [8164,8170]
                OBJECT [8171,11228]
                    FIELD [8172,8185]
                        String: "name" [8172,8178]
                        STRING [8179,8185]
                            String: "Docs" [8179,8185]
                    FIELD [8186,8232]
                        String: "if" [8186,8190]
                        STRING [8191,8232]
                            String: "github.repository == 'allenai/allennlp'" [8191,8232]
                    FIELD [8233,8258]
                        String: "runs-on" [8233,8242]
                        STRING [8243,8258]
                            String: "ubuntu-latest" [8243,8258]
                    FIELD [8259,11227]
                        String: "steps" [8259,8266]
                        ARRAY [8267,11227]
                            OBJECT [8268,8298]
                                FIELD [8269,8297]
                                    String: "uses" [8269,8275]
                                    STRING [8276,8297]
                                        String: "actions/checkout@v1" [8276,8297]
                            OBJECT [8299,8495]
                                FIELD [8300,8328]
                                    String: "name" [8300,8306]
                                    STRING [8307,8328]
                                        String: "Setup SSH Client " [8307,8328]
                                FIELD [8329,8397]
                                    String: "if" [8329,8333]
                                    STRING [8334,8397]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [8334,8397]
                                FIELD [8398,8434]
                                    String: "uses" [8398,8404]
                                    STRING [8405,8434]
                                        String: "webfactory/ssh-agent@v0.4.1" [8405,8434]
                                FIELD [8435,8494]
                                    String: "with" [8435,8441]
                                    OBJECT [8442,8494]
                                        FIELD [8443,8493]
                                            String: "ssh-private-key" [8443,8460]
                                            STRING [8461,8493]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [8461,8493]
                            OBJECT [8496,8582]
                                FIELD [8497,8518]
                                    String: "name" [8497,8503]
                                    STRING [8504,8518]
                                        String: "Setup Python" [8504,8518]
                                FIELD [8519,8551]
                                    String: "uses" [8519,8525]
                                    STRING [8526,8551]
                                        String: "actions/setup-python@v1" [8526,8551]
                                FIELD [8552,8581]
                                    String: "with" [8552,8558]
                                    OBJECT [8559,8581]
                                        FIELD [8560,8580]
                                            String: "python-version" [8560,8576]
                                            NUMBER [8577,8580]
                                                Number: 3.7 [8577,8580]
                            OBJECT [8583,8782]
                                FIELD [8584,8609]
                                    String: "uses" [8584,8590]
                                    STRING [8591,8609]
                                        String: "actions/cache@v2" [8591,8609]
                                FIELD [8610,8781]
                                    String: "with" [8610,8616]
                                    OBJECT [8617,8781]
                                        FIELD [8618,8652]
                                            String: "path" [8618,8624]
                                            STRING [8625,8652]
                                                String: "${{ env.pythonLocation }}" [8625,8652]
                                        FIELD [8653,8780]
                                            String: "key" [8653,8658]
                                            STRING [8659,8780]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [8659,8780]
                            OBJECT [8783,8837]
                                FIELD [8784,8813]
                                    String: "name" [8784,8790]
                                    STRING [8791,8813]
                                        String: "Install requirements" [8791,8813]
                                FIELD [8814,8836]
                                    String: "run" [8814,8819]
                                    STRING [8820,8836]
                                        String: "make install\n" [8820,8836]
                            OBJECT [8838,8880]
                                FIELD [8839,8858]
                                    String: "name" [8839,8845]
                                    STRING [8846,8858]
                                        String: "Debug info" [8846,8858]
                                FIELD [8859,8879]
                                    String: "run" [8859,8864]
                                    STRING [8865,8879]
                                        String: "pip freeze\n" [8865,8879]
                            OBJECT [8881,9318]
                                FIELD [8882,8910]
                                    String: "name" [8882,8888]
                                    STRING [8889,8910]
                                        String: "Prepare environment" [8889,8910]
                                FIELD [8911,9317]
                                    String: "run" [8911,8916]
                                    STRING [8917,9317]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCS_FOLDER=${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\n    echo \"BASE_SOURCE_LINK=https://github.com/allenai/allennlp/blob/${GITHUB_REF#refs/tags/}/allennlp/\" >> $GITHUB_ENV;\nelse\n    echo \"DOCS_FOLDER=main\" >> $GITHUB_ENV;\n    echo \"BASE_SOURCE_LINK=https://github.com/allenai/allennlp/blob/main/allennlp/\" >> $GITHUB_ENV;\nfi\n" [8917,9317]
                            OBJECT [9319,9374]
                                FIELD [9320,9339]
                                    String: "name" [9320,9326]
                                    STRING [9327,9339]
                                        String: "Build docs" [9327,9339]
                                FIELD [9340,9373]
                                    String: "run" [9340,9345]
                                    STRING [9346,9373]
                                        String: "./scripts/build_docs.sh\n" [9346,9373]
                            OBJECT [9375,9623]
                                FIELD [9376,9398]
                                    String: "name" [9376,9382]
                                    STRING [9383,9398]
                                        String: "Configure Git" [9383,9398]
                                FIELD [9399,9467]
                                    String: "if" [9399,9403]
                                    STRING [9404,9467]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [9404,9467]
                                FIELD [9468,9622]
                                    String: "run" [9468,9473]
                                    STRING [9474,9622]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [9474,9622]
                            OBJECT [9624,10054]
                                FIELD [9625,9644]
                                    String: "name" [9625,9631]
                                    STRING [9632,9644]
                                        String: "Stage docs" [9632,9644]
                                FIELD [9645,9713]
                                    String: "if" [9645,9649]
                                    STRING [9650,9713]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [9650,9713]
                                FIELD [9714,10053]
                                    String: "run" [9714,9719]
                                    STRING [9720,10053]
                                        String: "echo \"Staging docs to $DOCS_FOLDER\"\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DOCS_FOLDER/\nmkdir -p ~/allennlp-docs/$DOCS_FOLDER\ncp -r site/* ~/allennlp-docs/$DOCS_FOLDER\n" [9720,10053]
                            OBJECT [10055,10929]
                                FIELD [10056,10081]
                                    String: "name" [10056,10062]
                                    STRING [10063,10081]
                                        String: "Update shortcuts" [10063,10081]
                                FIELD [10082,10119]
                                    String: "if" [10082,10086]
                                    STRING [10087,10119]
                                        String: "github.event_name == 'release'" [10087,10119]
                                FIELD [10120,10928]
                                    String: "run" [10120,10125]
                                    STRING [10126,10928]
                                        String: "# Fail immediately if any step fails.\nset -e\n\nLATEST=$(./scripts/get_version.py latest)\nSTABLE=$(./scripts/get_version.py stable)\n\ncd ~/allennlp-docs/\n\necho \"Updating latest/index.html to point to $LATEST\"\nmkdir -p latest\ncat >latest/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${LATEST}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${LATEST}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n\necho \"Updating stable/index.html to point to $STABLE\"\nmkdir -p stable\ncat >stable/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${STABLE}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${STABLE}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n" [10126,10928]
                            OBJECT [10930,11151]
                                FIELD [10931,10951]
                                    String: "name" [10931,10937]
                                    STRING [10938,10951]
                                        String: "Deploy docs" [10938,10951]
                                FIELD [10952,11020]
                                    String: "if" [10952,10956]
                                    STRING [10957,11020]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [10957,11020]
                                FIELD [11021,11150]
                                    String: "run" [11021,11026]
                                    STRING [11027,11150]
                                        String: "# And push them up to GitHub\ncd ~/allennlp-docs/\ngit add -A\ngit commit -m \"automated update of the docs\"\ngit push\n" [11027,11150]
                            OBJECT [11152,11226]
                                FIELD [11153,11170]
                                    String: "name" [11153,11159]
                                    STRING [11160,11170]
                                        String: "Clean up" [11160,11170]
                                FIELD [11171,11186]
                                    String: "if" [11171,11175]
                                    STRING [11176,11186]
                                        String: "always()" [11176,11186]
                                FIELD [11187,11225]
                                    String: "run" [11187,11192]
                                    STRING [11193,11225]
                                        String: "pip uninstall --yes allennlp\n" [11193,11225]
            FIELD [11229,11930]
                String: "publish" [11229,11238]
                OBJECT [11239,11930]
                    FIELD [11240,11253]
                        String: "name" [11240,11246]
                        STRING [11247,11253]
                            String: "PyPI" [11247,11253]
                    FIELD [11254,11351]
                        String: "needs" [11254,11261]
                        ARRAY [11262,11351]
                            STRING [11263,11275]
                                String: "check_core" [11263,11275]
                            STRING [11276,11290]
                                String: "check_models" [11276,11290]
                            STRING [11291,11303]
                                String: "gpu_checks" [11291,11303]
                            STRING [11304,11319]
                                String: "build_package" [11304,11319]
                            STRING [11320,11334]
                                String: "test_package" [11320,11334]
                            STRING [11335,11343]
                                String: "docker" [11335,11343]
                            STRING [11344,11350]
                                String: "docs" [11344,11350]
                    FIELD [11352,11464]
                        String: "if" [11352,11356]
                        STRING [11357,11464]
                            String: "github.repository == 'allenai/allennlp' && (github.event_name == 'release' || github.event == 'schedule')" [11357,11464]
                    FIELD [11465,11490]
                        String: "runs-on" [11465,11474]
                        STRING [11475,11490]
                            String: "ubuntu-latest" [11475,11490]
                    FIELD [11491,11929]
                        String: "steps" [11491,11498]
                        ARRAY [11499,11929]
                            OBJECT [11500,11530]
                                FIELD [11501,11529]
                                    String: "uses" [11501,11507]
                                    STRING [11508,11529]
                                        String: "actions/checkout@v2" [11508,11529]
                            OBJECT [11531,11617]
                                FIELD [11532,11553]
                                    String: "name" [11532,11538]
                                    STRING [11539,11553]
                                        String: "Setup Python" [11539,11553]
                                FIELD [11554,11586]
                                    String: "uses" [11554,11560]
                                    STRING [11561,11586]
                                        String: "actions/setup-python@v1" [11561,11586]
                                FIELD [11587,11616]
                                    String: "with" [11587,11593]
                                    OBJECT [11594,11616]
                                        FIELD [11595,11615]
                                            String: "python-version" [11595,11611]
                                            NUMBER [11612,11615]
                                                Number: 3.7 [11612,11615]
                            OBJECT [11618,11708]
                                FIELD [11619,11648]
                                    String: "name" [11619,11625]
                                    STRING [11626,11648]
                                        String: "Install requirements" [11626,11648]
                                FIELD [11649,11707]
                                    String: "run" [11649,11654]
                                    STRING [11655,11707]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [11655,11707]
                            OBJECT [11709,11824]
                                FIELD [11710,11740]
                                    String: "name" [11710,11716]
                                    STRING [11717,11740]
                                        String: "Download core package" [11717,11740]
                                FIELD [11741,11778]
                                    String: "uses" [11741,11747]
                                    STRING [11748,11778]
                                        String: "actions/download-artifact@v1" [11748,11778]
                                FIELD [11779,11823]
                                    String: "with" [11779,11785]
                                    OBJECT [11786,11823]
                                        FIELD [11787,11808]
                                            String: "name" [11787,11793]
                                            STRING [11794,11808]
                                                String: "core-package" [11794,11808]
                                        FIELD [11809,11822]
                                            String: "path" [11809,11815]
                                            STRING [11816,11822]
                                                String: "dist" [11816,11822]
                            OBJECT [11825,11928]
                                FIELD [11826,11855]
                                    String: "name" [11826,11832]
                                    STRING [11833,11855]
                                        String: "Publish core package" [11833,11855]
                                FIELD [11856,11927]
                                    String: "run" [11856,11861]
                                    STRING [11862,11927]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [11862,11927]