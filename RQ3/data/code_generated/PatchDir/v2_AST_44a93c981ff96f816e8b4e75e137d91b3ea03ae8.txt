OBJECT [0,2620]
    FIELD [1,35]
        String: "name" [1,7]
        STRING [8,35]
            String: "Self-hosted runner (push)" [8,35]
    FIELD [36,143]
        String: "on" [36,40]
        OBJECT [41,143]
            FIELD [42,115]
                String: "push" [42,48]
                OBJECT [49,115]
                    FIELD [50,71]
                        String: "branches" [50,60]
                        ARRAY [61,71]
                            STRING [62,70]
                                String: "master" [62,70]
                    FIELD [72,114]
                        String: "paths" [72,79]
                        ARRAY [80,114]
                            STRING [81,89]
                                String: "src/**" [81,89]
                            STRING [90,100]
                                String: "tests/**" [90,100]
                            STRING [101,113]
                                String: ".github/**" [101,113]
            FIELD [116,142]
                String: "repository_dispatch" [116,137]
                NULL [138,142]
    FIELD [144,2619]
        String: "jobs" [144,150]
        OBJECT [151,2619]
            FIELD [152,1432]
                String: "run_tests_torch_and_tf_gpu" [152,180]
                OBJECT [181,1432]
                    FIELD [182,220]
                        String: "runs-on" [182,191]
                        ARRAY [192,220]
                            STRING [193,206]
                                String: "self-hosted" [193,206]
                            STRING [207,219]
                                String: "single-gpu" [207,219]
                    FIELD [221,1431]
                        String: "steps" [221,228]
                        ARRAY [229,1431]
                            OBJECT [230,260]
                                FIELD [231,259]
                                    String: "uses" [231,237]
                                    STRING [238,259]
                                        String: "actions/checkout@v2" [238,259]
                            OBJECT [261,342]
                                FIELD [262,285]
                                    String: "name" [262,268]
                                    STRING [269,285]
                                        String: "Python version" [269,285]
                                FIELD [286,341]
                                    String: "run" [286,291]
                                    STRING [292,341]
                                        String: "which python\npython --version\npip --version\n" [292,341]
                            OBJECT [343,377]
                                FIELD [344,364]
                                    String: "name" [344,350]
                                    STRING [351,364]
                                        String: "Current dir" [351,364]
                                FIELD [365,376]
                                    String: "run" [365,370]
                                    STRING [371,376]
                                        String: "pwd" [371,376]
                            OBJECT [378,398]
                                FIELD [379,397]
                                    String: "run" [379,384]
                                    STRING [385,397]
                                        String: "nvidia-smi" [385,397]
                            OBJECT [399,545]
                                FIELD [400,423]
                                    String: "name" [400,406]
                                    STRING [407,423]
                                        String: "Loading cache." [407,423]
                                FIELD [424,449]
                                    String: "uses" [424,430]
                                    STRING [431,449]
                                        String: "actions/cache@v2" [431,449]
                                FIELD [450,462]
                                    String: "id" [450,454]
                                    STRING [455,462]
                                        String: "cache" [455,462]
                                FIELD [463,544]
                                    String: "with" [463,469]
                                    OBJECT [470,544]
                                        FIELD [471,484]
                                            String: "path" [471,477]
                                            STRING [478,484]
                                                String: ".env" [478,484]
                                        FIELD [485,543]
                                            String: "key" [485,490]
                                            STRING [491,543]
                                                String: "v0-tests_tf_torch_gpu-${{ hashFiles('setup.py') }}" [491,543]
                            OBJECT [546,744]
                                FIELD [547,640]
                                    String: "name" [547,553]
                                    STRING [554,640]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [554,640]
                                FIELD [641,743]
                                    String: "run" [641,646]
                                    STRING [647,743]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [647,743]
                            OBJECT [745,965]
                                FIELD [746,775]
                                    String: "name" [746,752]
                                    STRING [753,775]
                                        String: "Install dependencies" [753,775]
                                FIELD [776,964]
                                    String: "run" [776,781]
                                    STRING [782,964]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install torch!=1.6.0\npip install .[sklearn,testing,onnxruntime]\npip install git+https://github.com/huggingface/datasets\n" [782,964]
                            OBJECT [966,1224]
                                FIELD [967,1016]
                                    String: "name" [967,973]
                                    STRING [974,1016]
                                        String: "Are GPUs recognized by our DL frameworks" [974,1016]
                                FIELD [1017,1223]
                                    String: "run" [1017,1022]
                                    STRING [1023,1223]
                                        String: "source .env/bin/activate\npython -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [1023,1223]
                            OBJECT [1225,1430]
                                FIELD [1226,1264]
                                    String: "name" [1226,1232]
                                    STRING [1233,1264]
                                        String: "Run all non-slow tests on GPU" [1233,1264]
                                FIELD [1265,1343]
                                    String: "env" [1265,1270]
                                    OBJECT [1271,1343]
                                        FIELD [1272,1306]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [1272,1299]
                                            STRING [1300,1306]
                                                String: "true" [1300,1306]
                                        FIELD [1307,1326]
                                            String: "OMP_NUM_THREADS" [1307,1324]
                                            NUMBER [1325,1326]
                                                Number: 1 [1325,1326]
                                        FIELD [1327,1342]
                                            String: "USE_CUDA" [1327,1337]
                                            TRUE [1338,1342]
                                FIELD [1344,1429]
                                    String: "run" [1344,1349]
                                    STRING [1350,1429]
                                        String: "source .env/bin/activate\npython -m pytest -n 2 --dist=loadfile -s ./tests/\n" [1350,1429]
            FIELD [1433,2618]
                String: "run_tests_torch_and_tf_multiple_gpu" [1433,1470]
                OBJECT [1471,2618]
                    FIELD [1472,1509]
                        String: "runs-on" [1472,1481]
                        ARRAY [1482,1509]
                            STRING [1483,1496]
                                String: "self-hosted" [1483,1496]
                            STRING [1497,1508]
                                String: "multi-gpu" [1497,1508]
                    FIELD [1510,2617]
                        String: "steps" [1510,1517]
                        ARRAY [1518,2617]
                            OBJECT [1519,1549]
                                FIELD [1520,1548]
                                    String: "uses" [1520,1526]
                                    STRING [1527,1548]
                                        String: "actions/checkout@v2" [1527,1548]
                            OBJECT [1550,1631]
                                FIELD [1551,1574]
                                    String: "name" [1551,1557]
                                    STRING [1558,1574]
                                        String: "Python version" [1558,1574]
                                FIELD [1575,1630]
                                    String: "run" [1575,1580]
                                    STRING [1581,1630]
                                        String: "which python\npython --version\npip --version\n" [1581,1630]
                            OBJECT [1632,1666]
                                FIELD [1633,1653]
                                    String: "name" [1633,1639]
                                    STRING [1640,1653]
                                        String: "Current dir" [1640,1653]
                                FIELD [1654,1665]
                                    String: "run" [1654,1659]
                                    STRING [1660,1665]
                                        String: "pwd" [1660,1665]
                            OBJECT [1667,1687]
                                FIELD [1668,1686]
                                    String: "run" [1668,1673]
                                    STRING [1674,1686]
                                        String: "nvidia-smi" [1674,1686]
                            OBJECT [1688,1843]
                                FIELD [1689,1712]
                                    String: "name" [1689,1695]
                                    STRING [1696,1712]
                                        String: "Loading cache." [1696,1712]
                                FIELD [1713,1738]
                                    String: "uses" [1713,1719]
                                    STRING [1720,1738]
                                        String: "actions/cache@v2" [1720,1738]
                                FIELD [1739,1751]
                                    String: "id" [1739,1743]
                                    STRING [1744,1751]
                                        String: "cache" [1744,1751]
                                FIELD [1752,1842]
                                    String: "with" [1752,1758]
                                    OBJECT [1759,1842]
                                        FIELD [1760,1773]
                                            String: "path" [1760,1766]
                                            STRING [1767,1773]
                                                String: ".env" [1767,1773]
                                        FIELD [1774,1841]
                                            String: "key" [1774,1779]
                                            STRING [1780,1841]
                                                String: "v0-tests_tf_torch_multiple_gpu-${{ hashFiles('setup.py') }}" [1780,1841]
                            OBJECT [1844,2042]
                                FIELD [1845,1938]
                                    String: "name" [1845,1851]
                                    STRING [1852,1938]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [1852,1938]
                                FIELD [1939,2041]
                                    String: "run" [1939,1944]
                                    STRING [1945,2041]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [1945,2041]
                            OBJECT [2043,2263]
                                FIELD [2044,2073]
                                    String: "name" [2044,2050]
                                    STRING [2051,2073]
                                        String: "Install dependencies" [2051,2073]
                                FIELD [2074,2262]
                                    String: "run" [2074,2079]
                                    STRING [2080,2262]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install torch!=1.6.0\npip install .[sklearn,testing,onnxruntime]\npip install git+https://github.com/huggingface/datasets\n" [2080,2262]
                            OBJECT [2264,2412]
                                FIELD [2265,2314]
                                    String: "name" [2265,2271]
                                    STRING [2272,2314]
                                        String: "Are GPUs recognized by our DL frameworks" [2272,2314]
                                FIELD [2315,2411]
                                    String: "run" [2315,2320]
                                    STRING [2321,2411]
                                        String: "source .env/bin/activate\npython -c \"import torch; print(torch.cuda.is_available())\"\n" [2321,2411]
                            OBJECT [2413,2616]
                                FIELD [2414,2452]
                                    String: "name" [2414,2420]
                                    STRING [2421,2452]
                                        String: "Run all non-slow tests on GPU" [2421,2452]
                                FIELD [2453,2531]
                                    String: "env" [2453,2458]
                                    OBJECT [2459,2531]
                                        FIELD [2460,2494]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [2460,2487]
                                            STRING [2488,2494]
                                                String: "true" [2488,2494]
                                        FIELD [2495,2514]
                                            String: "OMP_NUM_THREADS" [2495,2512]
                                            NUMBER [2513,2514]
                                                Number: 1 [2513,2514]
                                        FIELD [2515,2530]
                                            String: "USE_CUDA" [2515,2525]
                                            TRUE [2526,2530]
                                FIELD [2532,2615]
                                    String: "run" [2532,2537]
                                    STRING [2538,2615]
                                        String: "source .env/bin/activate\npython -m pytest -n 2 --dist=loadfile -s ./tests/" [2538,2615]