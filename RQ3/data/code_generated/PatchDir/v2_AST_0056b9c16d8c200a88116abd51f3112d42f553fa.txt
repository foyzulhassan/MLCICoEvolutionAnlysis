OBJECT [0,7880]
    FIELD [1,12]
        String: "name" [1,7]
        STRING [8,12]
            String: "CI" [8,12]
    FIELD [13,123]
        String: "on" [13,17]
        OBJECT [18,123]
            FIELD [19,57]
                String: "pull_request" [19,33]
                OBJECT [34,57]
                    FIELD [35,56]
                        String: "branches" [35,45]
                        ARRAY [46,56]
                            STRING [47,55]
                                String: "master" [47,55]
            FIELD [58,88]
                String: "push" [58,64]
                OBJECT [65,88]
                    FIELD [66,87]
                        String: "branches" [66,76]
                        ARRAY [77,87]
                            STRING [78,86]
                                String: "master" [78,86]
            FIELD [89,122]
                String: "release" [89,98]
                OBJECT [99,122]
                    FIELD [100,121]
                        String: "types" [100,107]
                        ARRAY [108,121]
                            STRING [109,120]
                                String: "published" [109,120]
    FIELD [124,7879]
        String: "jobs" [124,130]
        OBJECT [131,7879]
            FIELD [132,1448]
                String: "check_core" [132,144]
                OBJECT [145,1448]
                    FIELD [146,165]
                        String: "name" [146,152]
                        STRING [153,165]
                            String: "Check Core" [153,165]
                    FIELD [166,191]
                        String: "runs-on" [166,175]
                        STRING [176,191]
                            String: "ubuntu-latest" [176,191]
                    FIELD [192,238]
                        String: "strategy" [192,202]
                        OBJECT [203,238]
                            FIELD [204,237]
                                String: "matrix" [204,212]
                                OBJECT [213,237]
                                    FIELD [214,236]
                                        String: "python" [214,222]
                                        ARRAY [223,236]
                                            STRING [224,229]
                                                String: "3.6" [224,229]
                                            STRING [230,235]
                                                String: "3.7" [230,235]
                    FIELD [239,1447]
                        String: "steps" [239,246]
                        ARRAY [247,1447]
                            OBJECT [248,278]
                                FIELD [249,277]
                                    String: "uses" [249,255]
                                    STRING [256,277]
                                        String: "actions/checkout@v2" [256,277]
                            OBJECT [279,384]
                                FIELD [280,301]
                                    String: "name" [280,286]
                                    STRING [287,301]
                                        String: "Setup Python" [287,301]
                                FIELD [302,334]
                                    String: "uses" [302,308]
                                    STRING [309,334]
                                        String: "actions/setup-python@v1" [309,334]
                                FIELD [335,383]
                                    String: "with" [335,341]
                                    OBJECT [342,383]
                                        FIELD [343,382]
                                            String: "python-version" [343,359]
                                            STRING [360,382]
                                                String: "${{ matrix.python }}" [360,382]
                            OBJECT [385,643]
                                FIELD [386,411]
                                    String: "uses" [386,392]
                                    STRING [393,411]
                                        String: "actions/cache@v1" [393,411]
                                FIELD [412,642]
                                    String: "with" [412,418]
                                    OBJECT [419,642]
                                        FIELD [420,454]
                                            String: "path" [420,426]
                                            STRING [427,454]
                                                String: "${{ env.pythonLocation }}" [427,454]
                                        FIELD [455,577]
                                            String: "key" [455,460]
                                            STRING [461,577]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [461,577]
                                        FIELD [578,641]
                                            String: "restore-keys" [578,592]
                                            STRING [593,641]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}\n" [593,641]
                            OBJECT [644,793]
                                FIELD [645,674]
                                    String: "name" [645,651]
                                    STRING [652,674]
                                        String: "Install requirements" [652,674]
                                FIELD [675,792]
                                    String: "run" [675,680]
                                    STRING [681,792]
                                        String: "pip install --upgrade pip setuptools wheel\npip install -e .\npip install --upgrade -r dev-requirements.txt\n" [681,792]
                            OBJECT [794,836]
                                FIELD [795,814]
                                    String: "name" [795,801]
                                    STRING [802,814]
                                        String: "Debug info" [802,814]
                                FIELD [815,835]
                                    String: "run" [815,820]
                                    STRING [821,835]
                                        String: "pip freeze\n" [821,835]
                            OBJECT [837,872]
                                FIELD [838,851]
                                    String: "name" [838,844]
                                    STRING [845,851]
                                        String: "Lint" [845,851]
                                FIELD [852,871]
                                    String: "run" [852,857]
                                    STRING [858,871]
                                        String: "make lint\n" [858,871]
                            OBJECT [873,919]
                                FIELD [874,893]
                                    String: "name" [874,880]
                                    STRING [881,893]
                                        String: "Type check" [881,893]
                                FIELD [894,918]
                                    String: "run" [894,899]
                                    STRING [900,918]
                                        String: "make typecheck\n" [900,918]
                            OBJECT [920,969]
                                FIELD [921,939]
                                    String: "name" [921,927]
                                    STRING [928,939]
                                        String: "Run tests" [928,939]
                                FIELD [940,968]
                                    String: "run" [940,945]
                                    STRING [946,968]
                                        String: "make test-with-cov\n" [946,968]
                            OBJECT [970,1446]
                                FIELD [971,1006]
                                    String: "name" [971,977]
                                    STRING [978,1006]
                                        String: "Upload coverage to Codecov" [978,1006]
                                FIELD [1007,1036]
                                    String: "if" [1007,1011]
                                    STRING [1012,1036]
                                        String: "matrix.python == '3.7'" [1012,1036]
                                FIELD [1037,1091]
                                    String: "env" [1037,1042]
                                    OBJECT [1043,1091]
                                        FIELD [1044,1090]
                                            String: "CODECOV_TOKEN" [1044,1059]
                                            STRING [1060,1090]
                                                String: "${{ secrets.CODECOV_TOKEN }}" [1060,1090]
                                FIELD [1092,1445]
                                    String: "run" [1092,1097]
                                    STRING [1098,1445]
                                        String: "# Ignore codecov failures as the codecov server is not\n# very reliable but we don't want to report a failure\n# in the github UI just because the coverage report failed to\n# be published.\n# This will also fail for forked repositories since the secret token won't\n# be available.\ncodecov -t $CODECOV_TOKEN || echo \"codecov upload failed\"\n" [1098,1445]
            FIELD [1449,2598]
                String: "check_models" [1449,1463]
                OBJECT [1464,2598]
                    FIELD [1465,1486]
                        String: "name" [1465,1471]
                        STRING [1472,1486]
                            String: "Check Models" [1472,1486]
                    FIELD [1487,1512]
                        String: "runs-on" [1487,1496]
                        STRING [1497,1512]
                            String: "ubuntu-latest" [1497,1512]
                    FIELD [1513,1559]
                        String: "strategy" [1513,1523]
                        OBJECT [1524,1559]
                            FIELD [1525,1558]
                                String: "matrix" [1525,1533]
                                OBJECT [1534,1558]
                                    FIELD [1535,1557]
                                        String: "python" [1535,1543]
                                        ARRAY [1544,1557]
                                            STRING [1545,1550]
                                                String: "3.6" [1545,1550]
                                            STRING [1551,1556]
                                                String: "3.7" [1551,1556]
                    FIELD [1560,2597]
                        String: "steps" [1560,1567]
                        ARRAY [1568,2597]
                            OBJECT [1569,1599]
                                FIELD [1570,1598]
                                    String: "uses" [1570,1576]
                                    STRING [1577,1598]
                                        String: "actions/checkout@v2" [1577,1598]
                            OBJECT [1600,1705]
                                FIELD [1601,1622]
                                    String: "name" [1601,1607]
                                    STRING [1608,1622]
                                        String: "Setup Python" [1608,1622]
                                FIELD [1623,1655]
                                    String: "uses" [1623,1629]
                                    STRING [1630,1655]
                                        String: "actions/setup-python@v1" [1630,1655]
                                FIELD [1656,1704]
                                    String: "with" [1656,1662]
                                    OBJECT [1663,1704]
                                        FIELD [1664,1703]
                                            String: "python-version" [1664,1680]
                                            STRING [1681,1703]
                                                String: "${{ matrix.python }}" [1681,1703]
                            OBJECT [1706,1964]
                                FIELD [1707,1732]
                                    String: "uses" [1707,1713]
                                    STRING [1714,1732]
                                        String: "actions/cache@v1" [1714,1732]
                                FIELD [1733,1963]
                                    String: "with" [1733,1739]
                                    OBJECT [1740,1963]
                                        FIELD [1741,1775]
                                            String: "path" [1741,1747]
                                            STRING [1748,1775]
                                                String: "${{ env.pythonLocation }}" [1748,1775]
                                        FIELD [1776,1898]
                                            String: "key" [1776,1781]
                                            STRING [1782,1898]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [1782,1898]
                                        FIELD [1899,1962]
                                            String: "restore-keys" [1899,1913]
                                            STRING [1914,1962]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}\n" [1914,1962]
                            OBJECT [1965,2114]
                                FIELD [1966,1995]
                                    String: "name" [1966,1972]
                                    STRING [1973,1995]
                                        String: "Install requirements" [1973,1995]
                                FIELD [1996,2113]
                                    String: "run" [1996,2001]
                                    STRING [2002,2113]
                                        String: "pip install --upgrade pip setuptools wheel\npip install -e .\npip install --upgrade -r dev-requirements.txt\n" [2002,2113]
                            OBJECT [2115,2157]
                                FIELD [2116,2135]
                                    String: "name" [2116,2122]
                                    STRING [2123,2135]
                                        String: "Debug info" [2123,2135]
                                FIELD [2136,2156]
                                    String: "run" [2136,2141]
                                    STRING [2142,2156]
                                        String: "pip freeze\n" [2142,2156]
                            OBJECT [2158,2386]
                                FIELD [2159,2196]
                                    String: "name" [2159,2165]
                                    STRING [2166,2196]
                                        String: "Pull and install models repo" [2166,2196]
                                FIELD [2197,2239]
                                    String: "env" [2197,2202]
                                    OBJECT [2203,2239]
                                        FIELD [2204,2238]
                                            String: "EXCLUDE_ALLENNLP_IN_SETUP" [2204,2231]
                                            STRING [2232,2238]
                                                String: "true" [2232,2238]
                                FIELD [2240,2385]
                                    String: "run" [2240,2245]
                                    STRING [2246,2385]
                                        String: "git clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models && pip install -e . && pip install -r dev-requirements.txt\n" [2246,2385]
                            OBJECT [2387,2456]
                                FIELD [2388,2413]
                                    String: "name" [2388,2394]
                                    STRING [2395,2413]
                                        String: "Run models tests" [2395,2413]
                                FIELD [2414,2455]
                                    String: "run" [2414,2419]
                                    STRING [2420,2455]
                                        String: "cd allennlp-models && make test\n" [2420,2455]
                            OBJECT [2457,2596]
                                FIELD [2458,2475]
                                    String: "name" [2458,2464]
                                    STRING [2465,2475]
                                        String: "Clean up" [2465,2475]
                                FIELD [2476,2595]
                                    String: "run" [2476,2481]
                                    STRING [2482,2595]
                                        String: "# Don't want this in the cache since the other workflow uses same cache.\npip uninstall --yes allennlp_models\n" [2482,2595]
            FIELD [2599,3572]
                String: "build_package" [2599,2614]
                OBJECT [2615,3572]
                    FIELD [2616,2638]
                        String: "name" [2616,2622]
                        STRING [2623,2638]
                            String: "Build Package" [2623,2638]
                    FIELD [2639,2676]
                        String: "needs" [2639,2646]
                        ARRAY [2647,2676]
                            STRING [2648,2660]
                                String: "check_core" [2648,2660]
                            STRING [2661,2675]
                                String: "check_models" [2661,2675]
                    FIELD [2677,2719]
                        String: "if" [2677,2681]
                        STRING [2682,2719]
                            String: "github.event_name != 'pull_request'" [2682,2719]
                    FIELD [2720,2745]
                        String: "runs-on" [2720,2729]
                        STRING [2730,2745]
                            String: "ubuntu-latest" [2730,2745]
                    FIELD [2746,2786]
                        String: "strategy" [2746,2756]
                        OBJECT [2757,2786]
                            FIELD [2758,2785]
                                String: "matrix" [2758,2766]
                                OBJECT [2767,2785]
                                    FIELD [2768,2784]
                                        String: "python" [2768,2776]
                                        ARRAY [2777,2784]
                                            STRING [2778,2783]
                                                String: "3.7" [2778,2783]
                    FIELD [2787,3571]
                        String: "steps" [2787,2794]
                        ARRAY [2795,3571]
                            OBJECT [2796,2826]
                                FIELD [2797,2825]
                                    String: "uses" [2797,2803]
                                    STRING [2804,2825]
                                        String: "actions/checkout@v2" [2804,2825]
                            OBJECT [2827,2932]
                                FIELD [2828,2849]
                                    String: "name" [2828,2834]
                                    STRING [2835,2849]
                                        String: "Setup Python" [2835,2849]
                                FIELD [2850,2882]
                                    String: "uses" [2850,2856]
                                    STRING [2857,2882]
                                        String: "actions/setup-python@v1" [2857,2882]
                                FIELD [2883,2931]
                                    String: "with" [2883,2889]
                                    OBJECT [2890,2931]
                                        FIELD [2891,2930]
                                            String: "python-version" [2891,2907]
                                            STRING [2908,2930]
                                                String: "${{ matrix.python }}" [2908,2930]
                            OBJECT [2933,3191]
                                FIELD [2934,2959]
                                    String: "uses" [2934,2940]
                                    STRING [2941,2959]
                                        String: "actions/cache@v1" [2941,2959]
                                FIELD [2960,3190]
                                    String: "with" [2960,2966]
                                    OBJECT [2967,3190]
                                        FIELD [2968,3002]
                                            String: "path" [2968,2974]
                                            STRING [2975,3002]
                                                String: "${{ env.pythonLocation }}" [2975,3002]
                                        FIELD [3003,3125]
                                            String: "key" [3003,3008]
                                            STRING [3009,3125]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [3009,3125]
                                        FIELD [3126,3189]
                                            String: "restore-keys" [3126,3140]
                                            STRING [3141,3189]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}\n" [3141,3189]
                            OBJECT [3192,3341]
                                FIELD [3193,3222]
                                    String: "name" [3193,3199]
                                    STRING [3200,3222]
                                        String: "Install requirements" [3200,3222]
                                FIELD [3223,3340]
                                    String: "run" [3223,3228]
                                    STRING [3229,3340]
                                        String: "pip install --upgrade pip setuptools wheel\npip install -e .\npip install --upgrade -r dev-requirements.txt\n" [3229,3340]
                            OBJECT [3342,3460]
                                FIELD [3343,3370]
                                    String: "name" [3343,3349]
                                    STRING [3350,3370]
                                        String: "Build core package" [3350,3370]
                                FIELD [3371,3459]
                                    String: "run" [3371,3376]
                                    STRING [3377,3459]
                                        String: "echo \"Building packages for core release\"\npython setup.py bdist_wheel sdist\n" [3377,3459]
                            OBJECT [3461,3570]
                                FIELD [3462,3488]
                                    String: "name" [3462,3468]
                                    STRING [3469,3488]
                                        String: "Save core package" [3469,3488]
                                FIELD [3489,3524]
                                    String: "uses" [3489,3495]
                                    STRING [3496,3524]
                                        String: "actions/upload-artifact@v1" [3496,3524]
                                FIELD [3525,3569]
                                    String: "with" [3525,3531]
                                    OBJECT [3532,3569]
                                        FIELD [3533,3554]
                                            String: "name" [3533,3539]
                                            STRING [3540,3554]
                                                String: "core-package" [3540,3554]
                                        FIELD [3555,3568]
                                            String: "path" [3555,3561]
                                            STRING [3562,3568]
                                                String: "dist" [3562,3568]
            FIELD [3573,4197]
                String: "test_package" [3573,3587]
                OBJECT [3588,4197]
                    FIELD [3589,3610]
                        String: "name" [3589,3595]
                        STRING [3596,3610]
                            String: "Test Package" [3596,3610]
                    FIELD [3611,3636]
                        String: "needs" [3611,3618]
                        ARRAY [3619,3636]
                            STRING [3620,3635]
                                String: "build_package" [3620,3635]
                    FIELD [3637,3679]
                        String: "if" [3637,3641]
                        STRING [3642,3679]
                            String: "github.event_name != 'pull_request'" [3642,3679]
                    FIELD [3680,3705]
                        String: "runs-on" [3680,3689]
                        STRING [3690,3705]
                            String: "ubuntu-latest" [3690,3705]
                    FIELD [3706,3752]
                        String: "strategy" [3706,3716]
                        OBJECT [3717,3752]
                            FIELD [3718,3751]
                                String: "matrix" [3718,3726]
                                OBJECT [3727,3751]
                                    FIELD [3728,3750]
                                        String: "python" [3728,3736]
                                        ARRAY [3737,3750]
                                            STRING [3738,3743]
                                                String: "3.6" [3738,3743]
                                            STRING [3744,3749]
                                                String: "3.7" [3744,3749]
                    FIELD [3753,4196]
                        String: "steps" [3753,3760]
                        ARRAY [3761,4196]
                            OBJECT [3762,3867]
                                FIELD [3763,3784]
                                    String: "name" [3763,3769]
                                    STRING [3770,3784]
                                        String: "Setup Python" [3770,3784]
                                FIELD [3785,3817]
                                    String: "uses" [3785,3791]
                                    STRING [3792,3817]
                                        String: "actions/setup-python@v1" [3792,3817]
                                FIELD [3818,3866]
                                    String: "with" [3818,3824]
                                    OBJECT [3825,3866]
                                        FIELD [3826,3865]
                                            String: "python-version" [3826,3842]
                                            STRING [3843,3865]
                                                String: "${{ matrix.python }}" [3843,3865]
                            OBJECT [3868,3952]
                                FIELD [3869,3898]
                                    String: "name" [3869,3875]
                                    STRING [3876,3898]
                                        String: "Install requirements" [3876,3898]
                                FIELD [3899,3951]
                                    String: "run" [3899,3904]
                                    STRING [3905,3951]
                                        String: "pip install --upgrade pip setuptools wheel\n" [3905,3951]
                            OBJECT [3953,4068]
                                FIELD [3954,3984]
                                    String: "name" [3954,3960]
                                    STRING [3961,3984]
                                        String: "Download core package" [3961,3984]
                                FIELD [3985,4022]
                                    String: "uses" [3985,3991]
                                    STRING [3992,4022]
                                        String: "actions/download-artifact@v1" [3992,4022]
                                FIELD [4023,4067]
                                    String: "with" [4023,4029]
                                    OBJECT [4030,4067]
                                        FIELD [4031,4052]
                                            String: "name" [4031,4037]
                                            STRING [4038,4052]
                                                String: "core-package" [4038,4052]
                                        FIELD [4053,4066]
                                            String: "path" [4053,4059]
                                            STRING [4060,4066]
                                                String: "dist" [4060,4066]
                            OBJECT [4069,4139]
                                FIELD [4070,4099]
                                    String: "name" [4070,4076]
                                    STRING [4077,4099]
                                        String: "Install core package" [4077,4099]
                                FIELD [4100,4138]
                                    String: "run" [4100,4105]
                                    STRING [4106,4138]
                                        String: "pip install $(ls dist/*.whl)\n" [4106,4138]
                            OBJECT [4140,4195]
                                FIELD [4141,4162]
                                    String: "name" [4141,4147]
                                    STRING [4148,4162]
                                        String: "Test install" [4148,4162]
                                FIELD [4163,4194]
                                    String: "run" [4163,4168]
                                    STRING [4169,4194]
                                        String: "allennlp test-install\n" [4169,4194]
            FIELD [4198,5488]
                String: "docker" [4198,4206]
                OBJECT [4207,5488]
                    FIELD [4208,4223]
                        String: "name" [4208,4214]
                        STRING [4215,4223]
                            String: "Docker" [4215,4223]
                    FIELD [4224,4264]
                        String: "needs" [4224,4231]
                        ARRAY [4232,4264]
                            STRING [4233,4248]
                                String: "build_package" [4233,4248]
                            STRING [4249,4263]
                                String: "test_package" [4249,4263]
                    FIELD [4265,4307]
                        String: "if" [4265,4269]
                        STRING [4270,4307]
                            String: "github.event_name != 'pull_request'" [4270,4307]
                    FIELD [4308,4333]
                        String: "runs-on" [4308,4317]
                        STRING [4318,4333]
                            String: "ubuntu-latest" [4318,4333]
                    FIELD [4334,5487]
                        String: "steps" [4334,4341]
                        ARRAY [4342,5487]
                            OBJECT [4343,4373]
                                FIELD [4344,4372]
                                    String: "uses" [4344,4350]
                                    STRING [4351,4372]
                                        String: "actions/checkout@v2" [4351,4372]
                            OBJECT [4374,4489]
                                FIELD [4375,4405]
                                    String: "name" [4375,4381]
                                    STRING [4382,4405]
                                        String: "Download core package" [4382,4405]
                                FIELD [4406,4443]
                                    String: "uses" [4406,4412]
                                    STRING [4413,4443]
                                        String: "actions/download-artifact@v1" [4413,4443]
                                FIELD [4444,4488]
                                    String: "with" [4444,4450]
                                    OBJECT [4451,4488]
                                        FIELD [4452,4473]
                                            String: "name" [4452,4458]
                                            STRING [4459,4473]
                                                String: "core-package" [4459,4473]
                                        FIELD [4474,4487]
                                            String: "path" [4474,4480]
                                            STRING [4481,4487]
                                                String: "dist" [4481,4487]
                            OBJECT [4490,4806]
                                FIELD [4491,4511]
                                    String: "name" [4491,4497]
                                    STRING [4498,4511]
                                        String: "Build image" [4498,4511]
                                FIELD [4512,4805]
                                    String: "run" [4512,4517]
                                    STRING [4518,4805]
                                        String: "# Create a small context for the Docker with only the files that we need.\ntar -czvf context.tar.gz \\\n    Dockerfile.whl \\\n    scripts/ai2_internal/resumable_train.sh \\\n    dist/*.whl\ndocker build \\\n    --pull \\\n    -f Dockerfile.whl \\\n    -t allennlp - < context.tar.gz\n" [4518,4805]
                            OBJECT [4807,4876]
                                FIELD [4808,4827]
                                    String: "name" [4808,4814]
                                    STRING [4815,4827]
                                        String: "Test image" [4815,4827]
                                FIELD [4828,4875]
                                    String: "run" [4828,4833]
                                    STRING [4834,4875]
                                        String: "docker run --rm allennlp test-install\n" [4834,4875]
                            OBJECT [4877,5166]
                                FIELD [4878,4906]
                                    String: "name" [4878,4884]
                                    STRING [4885,4906]
                                        String: "Upload master image" [4885,4906]
                                FIELD [4907,4984]
                                    String: "if" [4907,4911]
                                    STRING [4912,4984]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'push'" [4912,4984]
                                FIELD [4985,5165]
                                    String: "run" [4985,4990]
                                    STRING [4991,5165]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\ndocker tag allennlp allennlp/commit:$GITHUB_SHA\ndocker push allennlp/commit:$GITHUB_SHA\n" [4991,5165]
                            OBJECT [5167,5486]
                                FIELD [5168,5197]
                                    String: "name" [5168,5174]
                                    STRING [5175,5197]
                                        String: "Upload release image" [5175,5197]
                                FIELD [5198,5278]
                                    String: "if" [5198,5202]
                                    STRING [5203,5278]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [5203,5278]
                                FIELD [5279,5485]
                                    String: "run" [5279,5284]
                                    STRING [5285,5485]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\nTAG=${GITHUB_REF/refs\\/tags\\//};\ndocker tag allennlp allennlp/allennlp:$TAG\ndocker push allennlp/allennlp:$TAG\n" [5285,5485]
            FIELD [5489,7249]
                String: "docs" [5489,5495]
                OBJECT [5496,7249]
                    FIELD [5497,5510]
                        String: "name" [5497,5503]
                        STRING [5504,5510]
                            String: "Docs" [5504,5510]
                    FIELD [5511,5551]
                        String: "needs" [5511,5518]
                        ARRAY [5519,5551]
                            STRING [5520,5535]
                                String: "build_package" [5520,5535]
                            STRING [5536,5550]
                                String: "test_package" [5536,5550]
                    FIELD [5552,5594]
                        String: "if" [5552,5556]
                        STRING [5557,5594]
                            String: "github.event_name != 'pull_request'" [5557,5594]
                    FIELD [5595,5620]
                        String: "runs-on" [5595,5604]
                        STRING [5605,5620]
                            String: "ubuntu-latest" [5605,5620]
                    FIELD [5621,5661]
                        String: "strategy" [5621,5631]
                        OBJECT [5632,5661]
                            FIELD [5633,5660]
                                String: "matrix" [5633,5641]
                                OBJECT [5642,5660]
                                    FIELD [5643,5659]
                                        String: "python" [5643,5651]
                                        ARRAY [5652,5659]
                                            STRING [5653,5658]
                                                String: "3.7" [5653,5658]
                    FIELD [5662,7248]
                        String: "steps" [5662,5669]
                        ARRAY [5670,7248]
                            OBJECT [5671,5701]
                                FIELD [5672,5700]
                                    String: "uses" [5672,5678]
                                    STRING [5679,5700]
                                        String: "actions/checkout@v1" [5679,5700]
                            OBJECT [5702,5829]
                                FIELD [5703,5731]
                                    String: "name" [5703,5709]
                                    STRING [5710,5731]
                                        String: "Setup SSH Client 🔑" [5710,5731]
                                FIELD [5732,5768]
                                    String: "uses" [5732,5738]
                                    STRING [5739,5768]
                                        String: "webfactory/ssh-agent@v0.2.0" [5739,5768]
                                FIELD [5769,5828]
                                    String: "with" [5769,5775]
                                    OBJECT [5776,5828]
                                        FIELD [5777,5827]
                                            String: "ssh-private-key" [5777,5794]
                                            STRING [5795,5827]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [5795,5827]
                            OBJECT [5830,5935]
                                FIELD [5831,5852]
                                    String: "name" [5831,5837]
                                    STRING [5838,5852]
                                        String: "Setup Python" [5838,5852]
                                FIELD [5853,5885]
                                    String: "uses" [5853,5859]
                                    STRING [5860,5885]
                                        String: "actions/setup-python@v1" [5860,5885]
                                FIELD [5886,5934]
                                    String: "with" [5886,5892]
                                    OBJECT [5893,5934]
                                        FIELD [5894,5933]
                                            String: "python-version" [5894,5910]
                                            STRING [5911,5933]
                                                String: "${{ matrix.python }}" [5911,5933]
                            OBJECT [5936,6194]
                                FIELD [5937,5962]
                                    String: "uses" [5937,5943]
                                    STRING [5944,5962]
                                        String: "actions/cache@v1" [5944,5962]
                                FIELD [5963,6193]
                                    String: "with" [5963,5969]
                                    OBJECT [5970,6193]
                                        FIELD [5971,6005]
                                            String: "path" [5971,5977]
                                            STRING [5978,6005]
                                                String: "${{ env.pythonLocation }}" [5978,6005]
                                        FIELD [6006,6128]
                                            String: "key" [6006,6011]
                                            STRING [6012,6128]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [6012,6128]
                                        FIELD [6129,6192]
                                            String: "restore-keys" [6129,6143]
                                            STRING [6144,6192]
                                                String: "${{ runner.os }}-pydeps-${{ matrix.python }}\n" [6144,6192]
                            OBJECT [6195,6344]
                                FIELD [6196,6225]
                                    String: "name" [6196,6202]
                                    STRING [6203,6225]
                                        String: "Install requirements" [6203,6225]
                                FIELD [6226,6343]
                                    String: "run" [6226,6231]
                                    STRING [6232,6343]
                                        String: "pip install --upgrade pip setuptools wheel\npip install -e .\npip install --upgrade -r dev-requirements.txt\n" [6232,6343]
                            OBJECT [6345,6387]
                                FIELD [6346,6365]
                                    String: "name" [6346,6352]
                                    STRING [6353,6365]
                                        String: "Debug info" [6353,6365]
                                FIELD [6366,6386]
                                    String: "run" [6366,6371]
                                    STRING [6372,6386]
                                        String: "pip freeze\n" [6372,6386]
                            OBJECT [6388,6443]
                                FIELD [6389,6408]
                                    String: "name" [6389,6395]
                                    STRING [6396,6408]
                                        String: "Build docs" [6396,6408]
                                FIELD [6409,6442]
                                    String: "run" [6409,6414]
                                    STRING [6415,6442]
                                        String: "./scripts/build_docs.sh\n" [6415,6442]
                            OBJECT [6444,6623]
                                FIELD [6445,6467]
                                    String: "name" [6445,6451]
                                    STRING [6452,6467]
                                        String: "Configure Git" [6452,6467]
                                FIELD [6468,6622]
                                    String: "run" [6468,6473]
                                    STRING [6474,6622]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [6474,6622]
                            OBJECT [6624,7247]
                                FIELD [6625,6645]
                                    String: "name" [6625,6631]
                                    STRING [6632,6645]
                                        String: "Deploy docs" [6632,6645]
                                FIELD [6646,6692]
                                    String: "if" [6646,6650]
                                    STRING [6651,6692]
                                        String: "github.repository == 'allenai/allennlp'" [6651,6692]
                                FIELD [6693,7246]
                                    String: "run" [6693,6698]
                                    STRING [6699,7246]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    DIRECTORY=master;\nelse\n    DIRECTORY=${GITHUB_REF/refs\\/tags\\//};\nfi\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DIRECTORY/\nmkdir -p ~/allennlp-docs/$DIRECTORY\ncp -r site/* ~/allennlp-docs/$DIRECTORY\n\n# And push them up to GitHub\ncd ~/allennlp-docs/$DIRECTORY\ngit add .\ngit commit -m \"automated update of the docs\"\ngit push\n" [6699,7246]
            FIELD [7250,7878]
                String: "publish" [7250,7259]
                OBJECT [7260,7878]
                    FIELD [7261,7274]
                        String: "name" [7261,7267]
                        STRING [7268,7274]
                            String: "PyPI" [7268,7274]
                    FIELD [7275,7331]
                        String: "needs" [7275,7282]
                        ARRAY [7283,7331]
                            STRING [7284,7299]
                                String: "build_package" [7284,7299]
                            STRING [7300,7314]
                                String: "test_package" [7300,7314]
                            STRING [7315,7323]
                                String: "docker" [7315,7323]
                            STRING [7324,7330]
                                String: "docs" [7324,7330]
                    FIELD [7332,7412]
                        String: "if" [7332,7336]
                        STRING [7337,7412]
                            String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [7337,7412]
                    FIELD [7413,7438]
                        String: "runs-on" [7413,7422]
                        STRING [7423,7438]
                            String: "ubuntu-latest" [7423,7438]
                    FIELD [7439,7877]
                        String: "steps" [7439,7446]
                        ARRAY [7447,7877]
                            OBJECT [7448,7478]
                                FIELD [7449,7477]
                                    String: "uses" [7449,7455]
                                    STRING [7456,7477]
                                        String: "actions/checkout@v2" [7456,7477]
                            OBJECT [7479,7565]
                                FIELD [7480,7501]
                                    String: "name" [7480,7486]
                                    STRING [7487,7501]
                                        String: "Setup Python" [7487,7501]
                                FIELD [7502,7534]
                                    String: "uses" [7502,7508]
                                    STRING [7509,7534]
                                        String: "actions/setup-python@v1" [7509,7534]
                                FIELD [7535,7564]
                                    String: "with" [7535,7541]
                                    OBJECT [7542,7564]
                                        FIELD [7543,7563]
                                            String: "python-version" [7543,7559]
                                            NUMBER [7560,7563]
                                                Number: 3.7 [7560,7563]
                            OBJECT [7566,7656]
                                FIELD [7567,7596]
                                    String: "name" [7567,7573]
                                    STRING [7574,7596]
                                        String: "Install requirements" [7574,7596]
                                FIELD [7597,7655]
                                    String: "run" [7597,7602]
                                    STRING [7603,7655]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [7603,7655]
                            OBJECT [7657,7772]
                                FIELD [7658,7688]
                                    String: "name" [7658,7664]
                                    STRING [7665,7688]
                                        String: "Download core package" [7665,7688]
                                FIELD [7689,7726]
                                    String: "uses" [7689,7695]
                                    STRING [7696,7726]
                                        String: "actions/download-artifact@v1" [7696,7726]
                                FIELD [7727,7771]
                                    String: "with" [7727,7733]
                                    OBJECT [7734,7771]
                                        FIELD [7735,7756]
                                            String: "name" [7735,7741]
                                            STRING [7742,7756]
                                                String: "core-package" [7742,7756]
                                        FIELD [7757,7770]
                                            String: "path" [7757,7763]
                                            STRING [7764,7770]
                                                String: "dist" [7764,7770]
                            OBJECT [7773,7876]
                                FIELD [7774,7803]
                                    String: "name" [7774,7780]
                                    STRING [7781,7803]
                                        String: "Publish core package" [7781,7803]
                                FIELD [7804,7875]
                                    String: "run" [7804,7809]
                                    STRING [7810,7875]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [7810,7875]