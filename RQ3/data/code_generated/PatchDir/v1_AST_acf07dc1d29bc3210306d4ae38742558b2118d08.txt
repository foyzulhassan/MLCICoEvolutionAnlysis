OBJECT [0,17237]
    FIELD [1,26]
        String: "name" [1,7]
        STRING [8,26]
            String: "PR Tests - Stack" [8,26]
    FIELD [27,205]
        String: "on" [27,31]
        OBJECT [32,205]
            FIELD [33,53]
                String: "workflow_call" [33,48]
                NULL [49,53]
            FIELD [54,102]
                String: "pull_request" [54,68]
                OBJECT [69,102]
                    FIELD [70,101]
                        String: "branches" [70,80]
                        ARRAY [81,101]
                            STRING [82,87]
                                String: "dev" [82,87]
                            STRING [88,94]
                                String: "main" [88,94]
                            STRING [95,100]
                                String: "0.8" [95,100]
            FIELD [103,204]
                String: "workflow_dispatch" [103,122]
                OBJECT [123,204]
                    FIELD [124,203]
                        String: "inputs" [124,132]
                        OBJECT [133,203]
                            FIELD [134,202]
                                String: "none" [134,140]
                                OBJECT [141,202]
                                    FIELD [142,184]
                                        String: "description" [142,155]
                                        STRING [156,184]
                                            String: "Run Version Tests Manually" [156,184]
                                    FIELD [185,201]
                                        String: "required" [185,195]
                                        FALSE [196,201]
    FIELD [206,401]
        String: "concurrency" [206,219]
        OBJECT [220,401]
            FIELD [221,374]
                String: "group" [221,228]
                STRING [229,374]
                    String: "stack-${{ github.event_name == 'pull_request' && format('{0}-{1}', github.workflow, github.event.pull_request.number) || github.workflow_ref }}" [229,374]
            FIELD [375,400]
                String: "cancel-in-progress" [375,395]
                TRUE [396,400]
    FIELD [402,17236]
        String: "jobs" [402,408]
        OBJECT [409,17236]
            FIELD [410,1329]
                String: "pr-syft-image-test" [410,430]
                OBJECT [431,1329]
                    FIELD [432,540]
                        String: "strategy" [432,442]
                        OBJECT [443,540]
                            FIELD [444,461]
                                String: "max-parallel" [444,458]
                                NUMBER [459,461]
                                    Number: 99 [459,461]
                            FIELD [462,521]
                                String: "matrix" [462,470]
                                OBJECT [471,521]
                                    FIELD [472,494]
                                        String: "os" [472,476]
                                        ARRAY [477,494]
                                            STRING [478,493]
                                                String: "ubuntu-latest" [478,493]
                                    FIELD [495,520]
                                        String: "python-version" [495,511]
                                        ARRAY [512,520]
                                            STRING [513,519]
                                                String: "3.12" [513,519]
                            FIELD [522,539]
                                String: "fail-fast" [522,533]
                                FALSE [534,539]
                    FIELD [541,567]
                        String: "runs-on" [541,550]
                        STRING [551,567]
                            String: "${{matrix.os}}" [551,567]
                    FIELD [568,1328]
                        String: "steps" [568,575]
                        ARRAY [576,1328]
                            OBJECT [577,607]
                                FIELD [578,606]
                                    String: "uses" [578,584]
                                    STRING [585,606]
                                        String: "actions/checkout@v4" [585,606]
                            OBJECT [608,790]
                                FIELD [609,640]
                                    String: "name" [609,615]
                                    STRING [616,640]
                                        String: "Check for file changes" [616,640]
                                FIELD [641,671]
                                    String: "uses" [641,647]
                                    STRING [648,671]
                                        String: "dorny/paths-filter@v3" [648,671]
                                FIELD [672,686]
                                    String: "id" [672,676]
                                    STRING [677,686]
                                        String: "changes" [677,686]
                                FIELD [687,789]
                                    String: "with" [687,693]
                                    OBJECT [694,789]
                                        FIELD [695,721]
                                            String: "base" [695,701]
                                            STRING [702,721]
                                                String: "${{ github.ref }}" [702,721]
                                        FIELD [722,751]
                                            String: "token" [722,729]
                                            STRING [730,751]
                                                String: "${{ github.token }}" [730,751]
                                        FIELD [752,788]
                                            String: "filters" [752,761]
                                            STRING [762,788]
                                                String: ".github/file-filters.yml" [762,788]
                            OBJECT [791,979]
                                FIELD [792,843]
                                    String: "name" [792,798]
                                    STRING [799,843]
                                        String: "Set up Python ${{ matrix.python-version }}" [799,843]
                                FIELD [844,876]
                                    String: "uses" [844,850]
                                    STRING [851,876]
                                        String: "actions/setup-python@v5" [851,876]
                                FIELD [877,921]
                                    String: "if" [877,881]
                                    STRING [882,921]
                                        String: "steps.changes.outputs.stack == 'true'" [882,921]
                                FIELD [922,978]
                                    String: "with" [922,928]
                                    OBJECT [929,978]
                                        FIELD [930,977]
                                            String: "python-version" [930,946]
                                            STRING [947,977]
                                                String: "${{ matrix.python-version }}" [947,977]
                            OBJECT [980,1166]
                                FIELD [981,1010]
                                    String: "name" [981,987]
                                    STRING [988,1010]
                                        String: "Install pip packages" [988,1010]
                                FIELD [1011,1055]
                                    String: "if" [1011,1015]
                                    STRING [1016,1055]
                                        String: "steps.changes.outputs.stack == 'true'" [1016,1055]
                                FIELD [1056,1165]
                                    String: "run" [1056,1061]
                                    STRING [1062,1165]
                                        String: "python -m pip install --upgrade pip\npip install uv==0.2.17 tox==4.16.0 tox-uv==1.9.0\nuv --version\n" [1062,1165]
                            OBJECT [1167,1327]
                                FIELD [1168,1218]
                                    String: "name" [1168,1174]
                                    STRING [1175,1218]
                                        String: "Run syft backend base image building test" [1175,1218]
                                FIELD [1219,1263]
                                    String: "if" [1219,1223]
                                    STRING [1224,1263]
                                        String: "steps.changes.outputs.stack == 'true'" [1224,1263]
                                FIELD [1264,1284]
                                    String: "timeout-minutes" [1264,1281]
                                    NUMBER [1282,1284]
                                        Number: 60 [1282,1284]
                                FIELD [1285,1326]
                                    String: "run" [1285,1290]
                                    STRING [1291,1326]
                                        String: "echo \"Skipping pr image test\"\n" [1291,1326]
            FIELD [1330,2808]
                String: "pr-tests-syft-integration" [1330,1357]
                OBJECT [1358,2808]
                    FIELD [1359,1501]
                        String: "strategy" [1359,1369]
                        OBJECT [1370,1501]
                            FIELD [1371,1388]
                                String: "max-parallel" [1371,1385]
                                NUMBER [1386,1388]
                                    Number: 99 [1386,1388]
                            FIELD [1389,1482]
                                String: "matrix" [1389,1397]
                                OBJECT [1398,1482]
                                    FIELD [1399,1421]
                                        String: "os" [1399,1403]
                                        ARRAY [1404,1421]
                                            STRING [1405,1420]
                                                String: "ubuntu-latest" [1405,1420]
                                    FIELD [1422,1447]
                                        String: "python-version" [1422,1438]
                                        ARRAY [1439,1447]
                                            STRING [1440,1446]
                                                String: "3.12" [1440,1446]
                                    FIELD [1448,1481]
                                        String: "pytest-modules" [1448,1464]
                                        ARRAY [1465,1481]
                                            STRING [1466,1480]
                                                String: "local_server" [1466,1480]
                            FIELD [1483,1500]
                                String: "fail-fast" [1483,1494]
                                FALSE [1495,1500]
                    FIELD [1502,1528]
                        String: "runs-on" [1502,1511]
                        STRING [1512,1528]
                            String: "${{matrix.os}}" [1512,1528]
                    FIELD [1529,2807]
                        String: "steps" [1529,1536]
                        ARRAY [1537,2807]
                            OBJECT [1538,1568]
                                FIELD [1539,1567]
                                    String: "uses" [1539,1545]
                                    STRING [1546,1567]
                                        String: "actions/checkout@v4" [1546,1567]
                            OBJECT [1569,1751]
                                FIELD [1570,1601]
                                    String: "name" [1570,1576]
                                    STRING [1577,1601]
                                        String: "Check for file changes" [1577,1601]
                                FIELD [1602,1632]
                                    String: "uses" [1602,1608]
                                    STRING [1609,1632]
                                        String: "dorny/paths-filter@v3" [1609,1632]
                                FIELD [1633,1647]
                                    String: "id" [1633,1637]
                                    STRING [1638,1647]
                                        String: "changes" [1638,1647]
                                FIELD [1648,1750]
                                    String: "with" [1648,1654]
                                    OBJECT [1655,1750]
                                        FIELD [1656,1682]
                                            String: "base" [1656,1662]
                                            STRING [1663,1682]
                                                String: "${{ github.ref }}" [1663,1682]
                                        FIELD [1683,1712]
                                            String: "token" [1683,1690]
                                            STRING [1691,1712]
                                                String: "${{ github.token }}" [1691,1712]
                                        FIELD [1713,1749]
                                            String: "filters" [1713,1722]
                                            STRING [1723,1749]
                                                String: ".github/file-filters.yml" [1723,1749]
                            OBJECT [1752,1940]
                                FIELD [1753,1804]
                                    String: "name" [1753,1759]
                                    STRING [1760,1804]
                                        String: "Set up Python ${{ matrix.python-version }}" [1760,1804]
                                FIELD [1805,1837]
                                    String: "uses" [1805,1811]
                                    STRING [1812,1837]
                                        String: "actions/setup-python@v5" [1812,1837]
                                FIELD [1838,1882]
                                    String: "if" [1838,1842]
                                    STRING [1843,1882]
                                        String: "steps.changes.outputs.stack == 'true'" [1843,1882]
                                FIELD [1883,1939]
                                    String: "with" [1883,1889]
                                    OBJECT [1890,1939]
                                        FIELD [1891,1938]
                                            String: "python-version" [1891,1907]
                                            STRING [1908,1938]
                                                String: "${{ matrix.python-version }}" [1908,1938]
                            OBJECT [1941,2131]
                                FIELD [1942,1975]
                                    String: "name" [1942,1948]
                                    STRING [1949,1975]
                                        String: "Install pip dependencies" [1949,1975]
                                FIELD [1976,2020]
                                    String: "if" [1976,1980]
                                    STRING [1981,2020]
                                        String: "steps.changes.outputs.stack == 'true'" [1981,2020]
                                FIELD [2021,2130]
                                    String: "run" [2021,2026]
                                    STRING [2027,2130]
                                        String: "python -m pip install --upgrade pip\npip install uv==0.2.17 tox==4.16.0 tox-uv==1.9.0\nuv --version\n" [2027,2130]
                            OBJECT [2132,2293]
                                FIELD [2133,2158]
                                    String: "name" [2133,2139]
                                    STRING [2140,2158]
                                        String: "Get uv cache dir" [2140,2158]
                                FIELD [2159,2203]
                                    String: "if" [2159,2163]
                                    STRING [2164,2203]
                                        String: "steps.changes.outputs.stack == 'true'" [2164,2203]
                                FIELD [2204,2220]
                                    String: "id" [2204,2208]
                                    STRING [2209,2220]
                                        String: "pip-cache" [2209,2220]
                                FIELD [2221,2235]
                                    String: "shell" [2221,2228]
                                    STRING [2229,2235]
                                        String: "bash" [2229,2235]
                                FIELD [2236,2292]
                                    String: "run" [2236,2241]
                                    STRING [2242,2292]
                                        String: "echo \"dir=$(uv cache dir)\" >> $GITHUB_OUTPUT\n" [2242,2292]
                            OBJECT [2294,2575]
                                FIELD [2295,2321]
                                    String: "name" [2295,2301]
                                    STRING [2302,2321]
                                        String: "Load github cache" [2302,2321]
                                FIELD [2322,2347]
                                    String: "uses" [2322,2328]
                                    STRING [2329,2347]
                                        String: "actions/cache@v4" [2329,2347]
                                FIELD [2348,2392]
                                    String: "if" [2348,2352]
                                    STRING [2353,2392]
                                        String: "steps.changes.outputs.stack == 'true'" [2353,2392]
                                FIELD [2393,2574]
                                    String: "with" [2393,2399]
                                    OBJECT [2400,2574]
                                        FIELD [2401,2444]
                                            String: "path" [2401,2407]
                                            STRING [2408,2444]
                                                String: "${{ steps.pip-cache.outputs.dir }}" [2408,2444]
                                        FIELD [2445,2503]
                                            String: "key" [2445,2450]
                                            STRING [2451,2503]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}" [2451,2503]
                                        FIELD [2504,2573]
                                            String: "restore-keys" [2504,2518]
                                            STRING [2519,2573]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}\n" [2519,2573]
                            OBJECT [2576,2806]
                                FIELD [2577,2612]
                                    String: "name" [2577,2583]
                                    STRING [2584,2612]
                                        String: "Run Syft Integration Tests" [2584,2612]
                                FIELD [2613,2657]
                                    String: "if" [2613,2617]
                                    STRING [2618,2657]
                                        String: "steps.changes.outputs.stack == 'true'" [2618,2657]
                                FIELD [2658,2678]
                                    String: "timeout-minutes" [2658,2675]
                                    NUMBER [2676,2678]
                                        Number: 60 [2676,2678]
                                FIELD [2679,2751]
                                    String: "env" [2679,2684]
                                    OBJECT [2685,2751]
                                        FIELD [2686,2733]
                                            String: "PYTEST_MODULES" [2686,2702]
                                            STRING [2703,2733]
                                                String: "${{ matrix.pytest-modules }}" [2703,2733]
                                        FIELD [2734,2750]
                                            String: "GITHUB_CI" [2734,2745]
                                            TRUE [2746,2750]
                                FIELD [2752,2766]
                                    String: "shell" [2752,2759]
                                    STRING [2760,2766]
                                        String: "bash" [2760,2766]
                                FIELD [2767,2805]
                                    String: "run" [2767,2772]
                                    STRING [2773,2805]
                                        String: "tox -e syft.test.integration\n" [2773,2805]
            FIELD [2809,7338]
                String: "pr-tests-integration-k8s" [2809,2835]
                OBJECT [2836,7338]
                    FIELD [2837,3002]
                        String: "strategy" [2837,2847]
                        OBJECT [2848,3002]
                            FIELD [2849,2866]
                                String: "max-parallel" [2849,2863]
                                NUMBER [2864,2866]
                                    Number: 99 [2864,2866]
                            FIELD [2867,2983]
                                String: "matrix" [2867,2875]
                                OBJECT [2876,2983]
                                    FIELD [2877,2899]
                                        String: "os" [2877,2881]
                                        ARRAY [2882,2899]
                                            STRING [2883,2898]
                                                String: "ubuntu-latest" [2883,2898]
                                    FIELD [2900,2925]
                                        String: "python-version" [2900,2916]
                                        ARRAY [2917,2925]
                                            STRING [2918,2924]
                                                String: "3.12" [2918,2924]
                                    FIELD [2926,2982]
                                        String: "pytest-modules" [2926,2942]
                                        ARRAY [2943,2982]
                                            STRING [2944,2981]
                                                String: "frontend network container_workload" [2944,2981]
                            FIELD [2984,3001]
                                String: "fail-fast" [2984,2995]
                                FALSE [2996,3001]
                    FIELD [3003,3029]
                        String: "runs-on" [3003,3012]
                        STRING [3013,3029]
                            String: "${{matrix.os}}" [3013,3029]
                    FIELD [3030,7337]
                        String: "steps" [3030,3037]
                        ARRAY [3038,7337]
                            OBJECT [3039,3120]
                                FIELD [3040,3077]
                                    String: "name" [3040,3046]
                                    STRING [3047,3077]
                                        String: "Permission to home directory" [3047,3077]
                                FIELD [3078,3119]
                                    String: "run" [3078,3083]
                                    STRING [3084,3119]
                                        String: "sudo chown -R $USER:$USER $HOME\n" [3084,3119]
                            OBJECT [3121,3151]
                                FIELD [3122,3150]
                                    String: "uses" [3122,3128]
                                    STRING [3129,3150]
                                        String: "actions/checkout@v4" [3129,3150]
                            OBJECT [3152,3334]
                                FIELD [3153,3184]
                                    String: "name" [3153,3159]
                                    STRING [3160,3184]
                                        String: "Check for file changes" [3160,3184]
                                FIELD [3185,3215]
                                    String: "uses" [3185,3191]
                                    STRING [3192,3215]
                                        String: "dorny/paths-filter@v3" [3192,3215]
                                FIELD [3216,3230]
                                    String: "id" [3216,3220]
                                    STRING [3221,3230]
                                        String: "changes" [3221,3230]
                                FIELD [3231,3333]
                                    String: "with" [3231,3237]
                                    OBJECT [3238,3333]
                                        FIELD [3239,3265]
                                            String: "base" [3239,3245]
                                            STRING [3246,3265]
                                                String: "${{ github.ref }}" [3246,3265]
                                        FIELD [3266,3295]
                                            String: "token" [3266,3273]
                                            STRING [3274,3295]
                                                String: "${{ github.token }}" [3274,3295]
                                        FIELD [3296,3332]
                                            String: "filters" [3296,3305]
                                            STRING [3306,3332]
                                                String: ".github/file-filters.yml" [3306,3332]
                            OBJECT [3335,3523]
                                FIELD [3336,3387]
                                    String: "name" [3336,3342]
                                    STRING [3343,3387]
                                        String: "Set up Python ${{ matrix.python-version }}" [3343,3387]
                                FIELD [3388,3420]
                                    String: "uses" [3388,3394]
                                    STRING [3395,3420]
                                        String: "actions/setup-python@v5" [3395,3420]
                                FIELD [3421,3465]
                                    String: "if" [3421,3425]
                                    STRING [3426,3465]
                                        String: "steps.changes.outputs.stack == 'true'" [3426,3465]
                                FIELD [3466,3522]
                                    String: "with" [3466,3472]
                                    OBJECT [3473,3522]
                                        FIELD [3474,3521]
                                            String: "python-version" [3474,3490]
                                            STRING [3491,3521]
                                                String: "${{ matrix.python-version }}" [3491,3521]
                            OBJECT [3524,3617]
                                FIELD [3525,3550]
                                    String: "name" [3525,3531]
                                    STRING [3532,3550]
                                        String: "Add K3d Registry" [3532,3550]
                                FIELD [3551,3616]
                                    String: "run" [3551,3556]
                                    STRING [3557,3616]
                                        String: "sudo python ./scripts/patch_hosts.py --add-k3d-registry\n" [3557,3616]
                            OBJECT [3618,3743]
                                FIELD [3619,3652]
                                    String: "name" [3619,3625]
                                    STRING [3626,3652]
                                        String: "Free Disk Space (Ubuntu)" [3626,3652]
                                FIELD [3653,3692]
                                    String: "uses" [3653,3659]
                                    STRING [3660,3692]
                                        String: "jlumbroso/free-disk-space@main" [3660,3692]
                                FIELD [3693,3742]
                                    String: "with" [3693,3699]
                                    OBJECT [3700,3742]
                                        FIELD [3701,3718]
                                            String: "tool-cache" [3701,3713]
                                            TRUE [3714,3718]
                                        FIELD [3719,3741]
                                            String: "large-packages" [3719,3735]
                                            FALSE [3736,3741]
                            OBJECT [3744,3999]
                                FIELD [3745,3778]
                                    String: "name" [3745,3751]
                                    STRING [3752,3778]
                                        String: "Remove unnecessary files" [3752,3778]
                                FIELD [3779,3814]
                                    String: "if" [3779,3783]
                                    STRING [3784,3814]
                                        String: "matrix.os == 'ubuntu-latest'" [3784,3814]
                                FIELD [3815,3998]
                                    String: "run" [3815,3820]
                                    STRING [3821,3998]
                                        String: "sudo rm -rf /usr/share/dotnet\nsudo rm -rf \"$AGENT_TOOLSDIRECTORY\"\ndocker image prune --all --force\ndocker builder prune --all --force\ndocker system prune --all --force\n" [3821,3998]
                            OBJECT [4000,4190]
                                FIELD [4001,4034]
                                    String: "name" [4001,4007]
                                    STRING [4008,4034]
                                        String: "Install pip dependencies" [4008,4034]
                                FIELD [4035,4079]
                                    String: "if" [4035,4039]
                                    STRING [4040,4079]
                                        String: "steps.changes.outputs.stack == 'true'" [4040,4079]
                                FIELD [4080,4189]
                                    String: "run" [4080,4085]
                                    STRING [4086,4189]
                                        String: "python -m pip install --upgrade pip\npip install uv==0.2.17 tox==4.16.0 tox-uv==1.9.0\nuv --version\n" [4086,4189]
                            OBJECT [4191,4352]
                                FIELD [4192,4217]
                                    String: "name" [4192,4198]
                                    STRING [4199,4217]
                                        String: "Get uv cache dir" [4199,4217]
                                FIELD [4218,4262]
                                    String: "if" [4218,4222]
                                    STRING [4223,4262]
                                        String: "steps.changes.outputs.stack == 'true'" [4223,4262]
                                FIELD [4263,4279]
                                    String: "id" [4263,4267]
                                    STRING [4268,4279]
                                        String: "pip-cache" [4268,4279]
                                FIELD [4280,4294]
                                    String: "shell" [4280,4287]
                                    STRING [4288,4294]
                                        String: "bash" [4288,4294]
                                FIELD [4295,4351]
                                    String: "run" [4295,4300]
                                    STRING [4301,4351]
                                        String: "echo \"dir=$(uv cache dir)\" >> $GITHUB_OUTPUT\n" [4301,4351]
                            OBJECT [4353,4634]
                                FIELD [4354,4380]
                                    String: "name" [4354,4360]
                                    STRING [4361,4380]
                                        String: "Load github cache" [4361,4380]
                                FIELD [4381,4406]
                                    String: "uses" [4381,4387]
                                    STRING [4388,4406]
                                        String: "actions/cache@v4" [4388,4406]
                                FIELD [4407,4451]
                                    String: "if" [4407,4411]
                                    STRING [4412,4451]
                                        String: "steps.changes.outputs.stack == 'true'" [4412,4451]
                                FIELD [4452,4633]
                                    String: "with" [4452,4458]
                                    OBJECT [4459,4633]
                                        FIELD [4460,4503]
                                            String: "path" [4460,4466]
                                            STRING [4467,4503]
                                                String: "${{ steps.pip-cache.outputs.dir }}" [4467,4503]
                                        FIELD [4504,4562]
                                            String: "key" [4504,4509]
                                            STRING [4510,4562]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}" [4510,4562]
                                        FIELD [4563,4632]
                                            String: "restore-keys" [4563,4577]
                                            STRING [4578,4632]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}\n" [4578,4632]
                            OBJECT [4635,4919]
                                FIELD [4636,4660]
                                    String: "name" [4636,4642]
                                    STRING [4643,4660]
                                        String: "Install kubectl" [4643,4660]
                                FIELD [4661,4705]
                                    String: "if" [4661,4665]
                                    STRING [4666,4705]
                                        String: "steps.changes.outputs.stack == 'true'" [4666,4705]
                                FIELD [4706,4918]
                                    String: "run" [4706,4711]
                                    STRING [4712,4918]
                                        String: "# cleanup apt version\nsudo apt remove kubectl || true\n# install kubectl 1.27\ncurl -LO https://dl.k8s.io/release/v1.27.2/bin/linux/amd64/kubectl\nchmod +x kubectl\nsudo install kubectl /usr/local/bin;\n" [4712,4918]
                            OBJECT [4920,5147]
                                FIELD [4921,4942]
                                    String: "name" [4921,4927]
                                    STRING [4928,4942]
                                        String: "Install helm" [4928,4942]
                                FIELD [4943,4987]
                                    String: "if" [4943,4947]
                                    STRING [4948,4987]
                                        String: "steps.changes.outputs.stack == 'true'" [4948,4987]
                                FIELD [4988,5146]
                                    String: "run" [4988,4993]
                                    STRING [4994,5146]
                                        String: "# install helm\ncurl  -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3\nchmod 700 get_helm.sh\n./get_helm.sh\n" [4994,5146]
                            OBJECT [5148,5910]
                                FIELD [5149,5190]
                                    String: "name" [5149,5155]
                                    STRING [5156,5190]
                                        String: "Run K8s & Helm integration tests" [5156,5190]
                                FIELD [5191,5235]
                                    String: "if" [5191,5195]
                                    STRING [5196,5235]
                                        String: "steps.changes.outputs.stack == 'true'" [5196,5235]
                                FIELD [5236,5256]
                                    String: "timeout-minutes" [5236,5253]
                                    NUMBER [5254,5256]
                                        Number: 60 [5254,5256]
                                FIELD [5257,5394]
                                    String: "env" [5257,5262]
                                    OBJECT [5263,5394]
                                        FIELD [5264,5311]
                                            String: "PYTEST_MODULES" [5264,5280]
                                            STRING [5281,5311]
                                                String: "${{ matrix.pytest-modules }}" [5281,5311]
                                        FIELD [5312,5328]
                                            String: "GITHUB_CI" [5312,5323]
                                            TRUE [5324,5328]
                                        FIELD [5329,5393]
                                            String: "AZURE_BLOB_STORAGE_KEY" [5329,5353]
                                            STRING [5354,5393]
                                                String: "${{ secrets.AZURE_BLOB_STORAGE_KEY }}" [5354,5393]
                                FIELD [5395,5409]
                                    String: "shell" [5395,5402]
                                    STRING [5403,5409]
                                        String: "bash" [5403,5409]
                                FIELD [5410,5909]
                                    String: "run" [5410,5415]
                                    STRING [5416,5909]
                                        String: "K3D_VERSION=v5.6.3\nDEVSPACE_VERSION=v6.3.12\n# install k3d\nwget https://github.com/k3d-io/k3d/releases/download/${K3D_VERSION}/k3d-linux-amd64\nmv k3d-linux-amd64 k3d\nchmod +x k3d\nexport PATH=`pwd`:$PATH\nk3d version\ncurl -sSL https://github.com/loft-sh/devspace/releases/download/${DEVSPACE_VERSION}/devspace-linux-amd64 -o ./devspace\nchmod +x devspace\ndevspace version\n\ntox -e stack.test.integration.k8s\ntox -e syft.build.helm\ntox -e syft.package.helm\n# tox -e syft.test.helm\n" [5416,5909]
                            OBJECT [5911,6039]
                                FIELD [5912,5942]
                                    String: "name" [5912,5918]
                                    STRING [5919,5942]
                                        String: "Get current timestamp" [5919,5942]
                                FIELD [5943,5954]
                                    String: "id" [5943,5947]
                                    STRING [5948,5954]
                                        String: "date" [5948,5954]
                                FIELD [5955,5971]
                                    String: "if" [5955,5959]
                                    STRING [5960,5971]
                                        String: "failure()" [5960,5971]
                                FIELD [5972,5986]
                                    String: "shell" [5972,5979]
                                    STRING [5980,5986]
                                        String: "bash" [5980,5986]
                                FIELD [5987,6038]
                                    String: "run" [5987,5992]
                                    STRING [5993,6038]
                                        String: "echo \"date=$(date +%s)\" >> $GITHUB_OUTPUT" [5993,6038]
                            OBJECT [6040,6828]
                                FIELD [6041,6071]
                                    String: "name" [6041,6047]
                                    STRING [6048,6071]
                                        String: "Collect logs from k3d" [6048,6071]
                                FIELD [6072,6129]
                                    String: "if" [6072,6076]
                                    STRING [6077,6129]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [6077,6129]
                                FIELD [6130,6144]
                                    String: "shell" [6130,6137]
                                    STRING [6138,6144]
                                        String: "bash" [6138,6144]
                                FIELD [6145,6827]
                                    String: "run" [6145,6150]
                                    STRING [6151,6827]
                                        String: "mkdir -p ./k8s-logs\nkubectl describe all -A --context k3d-test-gateway-1 --namespace syft > ./k8s-logs/test-gateway-1-desc-${{ steps.date.outputs.date }}.txt\nkubectl describe all -A --context k3d-test-datasite-1 --namespace syft > ./k8s-logs/test-datasite-1-desc-${{ steps.date.outputs.date }}.txt\nkubectl logs -l app.kubernetes.io/name!=random --prefix=true --context k3d-test-gateway-1 --namespace syft > ./k8s-logs/test-gateway-1-logs-${{ steps.date.outputs.date }}.txt\nkubectl logs -l app.kubernetes.io/name!=random --prefix=true --context k3d-test-datasite-1 --namespace syft > ./k8s-logs/test-datasite-1-logs-${{ steps.date.outputs.date }}.txt\nls -la ./k8s-logs\n" [6151,6827]
                            OBJECT [6829,7067]
                                FIELD [6830,6860]
                                    String: "name" [6830,6836]
                                    STRING [6837,6860]
                                        String: "Upload logs to GitHub" [6837,6860]
                                FIELD [6861,6900]
                                    String: "uses" [6861,6867]
                                    STRING [6868,6900]
                                        String: "actions/upload-artifact@master" [6868,6900]
                                FIELD [6901,6958]
                                    String: "if" [6901,6905]
                                    STRING [6906,6958]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [6906,6958]
                                FIELD [6959,7066]
                                    String: "with" [6959,6965]
                                    OBJECT [6966,7066]
                                        FIELD [6967,7044]
                                            String: "name" [6967,6973]
                                            STRING [6974,7044]
                                                String: "k8s-logs-integration-${{ matrix.os }}-${{ steps.date.outputs.date }}" [6974,7044]
                                        FIELD [7045,7065]
                                            String: "path" [7045,7051]
                                            STRING [7052,7065]
                                                String: "./k8s-logs/" [7052,7065]
                            OBJECT [7068,7336]
                                FIELD [7069,7089]
                                    String: "name" [7069,7075]
                                    STRING [7076,7089]
                                        String: "Cleanup k3d" [7076,7089]
                                FIELD [7090,7147]
                                    String: "if" [7090,7094]
                                    STRING [7095,7147]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [7095,7147]
                                FIELD [7148,7162]
                                    String: "shell" [7148,7155]
                                    STRING [7156,7162]
                                        String: "bash" [7156,7162]
                                FIELD [7163,7335]
                                    String: "run" [7163,7168]
                                    STRING [7169,7335]
                                        String: "export PATH=`pwd`:$PATH\nk3d cluster delete test-gateway-1 || true\nk3d cluster delete test-datasite-1 || true\nk3d registry delete k3d-registry.localhost || true\n" [7169,7335]
            FIELD [7339,11620]
                String: "pr-tests-notebook-k8s" [7339,7362]
                OBJECT [7363,11620]
                    FIELD [7364,7472]
                        String: "strategy" [7364,7374]
                        OBJECT [7375,7472]
                            FIELD [7376,7393]
                                String: "max-parallel" [7376,7390]
                                NUMBER [7391,7393]
                                    Number: 99 [7391,7393]
                            FIELD [7394,7453]
                                String: "matrix" [7394,7402]
                                OBJECT [7403,7453]
                                    FIELD [7404,7426]
                                        String: "os" [7404,7408]
                                        ARRAY [7409,7426]
                                            STRING [7410,7425]
                                                String: "ubuntu-latest" [7410,7425]
                                    FIELD [7427,7452]
                                        String: "python-version" [7427,7443]
                                        ARRAY [7444,7452]
                                            STRING [7445,7451]
                                                String: "3.12" [7445,7451]
                            FIELD [7454,7471]
                                String: "fail-fast" [7454,7465]
                                FALSE [7466,7471]
                    FIELD [7473,7499]
                        String: "runs-on" [7473,7482]
                        STRING [7483,7499]
                            String: "${{matrix.os}}" [7483,7499]
                    FIELD [7500,11619]
                        String: "steps" [7500,7507]
                        ARRAY [7508,11619]
                            OBJECT [7509,7590]
                                FIELD [7510,7547]
                                    String: "name" [7510,7516]
                                    STRING [7517,7547]
                                        String: "Permission to home directory" [7517,7547]
                                FIELD [7548,7589]
                                    String: "run" [7548,7553]
                                    STRING [7554,7589]
                                        String: "sudo chown -R $USER:$USER $HOME\n" [7554,7589]
                            OBJECT [7591,7621]
                                FIELD [7592,7620]
                                    String: "uses" [7592,7598]
                                    STRING [7599,7620]
                                        String: "actions/checkout@v4" [7599,7620]
                            OBJECT [7622,7804]
                                FIELD [7623,7654]
                                    String: "name" [7623,7629]
                                    STRING [7630,7654]
                                        String: "Check for file changes" [7630,7654]
                                FIELD [7655,7685]
                                    String: "uses" [7655,7661]
                                    STRING [7662,7685]
                                        String: "dorny/paths-filter@v3" [7662,7685]
                                FIELD [7686,7700]
                                    String: "id" [7686,7690]
                                    STRING [7691,7700]
                                        String: "changes" [7691,7700]
                                FIELD [7701,7803]
                                    String: "with" [7701,7707]
                                    OBJECT [7708,7803]
                                        FIELD [7709,7735]
                                            String: "base" [7709,7715]
                                            STRING [7716,7735]
                                                String: "${{ github.ref }}" [7716,7735]
                                        FIELD [7736,7765]
                                            String: "token" [7736,7743]
                                            STRING [7744,7765]
                                                String: "${{ github.token }}" [7744,7765]
                                        FIELD [7766,7802]
                                            String: "filters" [7766,7775]
                                            STRING [7776,7802]
                                                String: ".github/file-filters.yml" [7776,7802]
                            OBJECT [7805,7993]
                                FIELD [7806,7857]
                                    String: "name" [7806,7812]
                                    STRING [7813,7857]
                                        String: "Set up Python ${{ matrix.python-version }}" [7813,7857]
                                FIELD [7858,7890]
                                    String: "uses" [7858,7864]
                                    STRING [7865,7890]
                                        String: "actions/setup-python@v5" [7865,7890]
                                FIELD [7891,7935]
                                    String: "if" [7891,7895]
                                    STRING [7896,7935]
                                        String: "steps.changes.outputs.stack == 'true'" [7896,7935]
                                FIELD [7936,7992]
                                    String: "with" [7936,7942]
                                    OBJECT [7943,7992]
                                        FIELD [7944,7991]
                                            String: "python-version" [7944,7960]
                                            STRING [7961,7991]
                                                String: "${{ matrix.python-version }}" [7961,7991]
                            OBJECT [7994,8087]
                                FIELD [7995,8020]
                                    String: "name" [7995,8001]
                                    STRING [8002,8020]
                                        String: "Add K3d Registry" [8002,8020]
                                FIELD [8021,8086]
                                    String: "run" [8021,8026]
                                    STRING [8027,8086]
                                        String: "sudo python ./scripts/patch_hosts.py --add-k3d-registry\n" [8027,8086]
                            OBJECT [8088,8213]
                                FIELD [8089,8122]
                                    String: "name" [8089,8095]
                                    STRING [8096,8122]
                                        String: "Free Disk Space (Ubuntu)" [8096,8122]
                                FIELD [8123,8162]
                                    String: "uses" [8123,8129]
                                    STRING [8130,8162]
                                        String: "jlumbroso/free-disk-space@main" [8130,8162]
                                FIELD [8163,8212]
                                    String: "with" [8163,8169]
                                    OBJECT [8170,8212]
                                        FIELD [8171,8188]
                                            String: "tool-cache" [8171,8183]
                                            TRUE [8184,8188]
                                        FIELD [8189,8211]
                                            String: "large-packages" [8189,8205]
                                            FALSE [8206,8211]
                            OBJECT [8214,8469]
                                FIELD [8215,8248]
                                    String: "name" [8215,8221]
                                    STRING [8222,8248]
                                        String: "Remove unnecessary files" [8222,8248]
                                FIELD [8249,8284]
                                    String: "if" [8249,8253]
                                    STRING [8254,8284]
                                        String: "matrix.os == 'ubuntu-latest'" [8254,8284]
                                FIELD [8285,8468]
                                    String: "run" [8285,8290]
                                    STRING [8291,8468]
                                        String: "sudo rm -rf /usr/share/dotnet\nsudo rm -rf \"$AGENT_TOOLSDIRECTORY\"\ndocker image prune --all --force\ndocker builder prune --all --force\ndocker system prune --all --force\n" [8291,8468]
                            OBJECT [8470,8660]
                                FIELD [8471,8504]
                                    String: "name" [8471,8477]
                                    STRING [8478,8504]
                                        String: "Install pip dependencies" [8478,8504]
                                FIELD [8505,8549]
                                    String: "if" [8505,8509]
                                    STRING [8510,8549]
                                        String: "steps.changes.outputs.stack == 'true'" [8510,8549]
                                FIELD [8550,8659]
                                    String: "run" [8550,8555]
                                    STRING [8556,8659]
                                        String: "python -m pip install --upgrade pip\npip install uv==0.2.17 tox==4.16.0 tox-uv==1.9.0\nuv --version\n" [8556,8659]
                            OBJECT [8661,8822]
                                FIELD [8662,8687]
                                    String: "name" [8662,8668]
                                    STRING [8669,8687]
                                        String: "Get uv cache dir" [8669,8687]
                                FIELD [8688,8732]
                                    String: "if" [8688,8692]
                                    STRING [8693,8732]
                                        String: "steps.changes.outputs.stack == 'true'" [8693,8732]
                                FIELD [8733,8749]
                                    String: "id" [8733,8737]
                                    STRING [8738,8749]
                                        String: "pip-cache" [8738,8749]
                                FIELD [8750,8764]
                                    String: "shell" [8750,8757]
                                    STRING [8758,8764]
                                        String: "bash" [8758,8764]
                                FIELD [8765,8821]
                                    String: "run" [8765,8770]
                                    STRING [8771,8821]
                                        String: "echo \"dir=$(uv cache dir)\" >> $GITHUB_OUTPUT\n" [8771,8821]
                            OBJECT [8823,9104]
                                FIELD [8824,8850]
                                    String: "name" [8824,8830]
                                    STRING [8831,8850]
                                        String: "Load github cache" [8831,8850]
                                FIELD [8851,8876]
                                    String: "uses" [8851,8857]
                                    STRING [8858,8876]
                                        String: "actions/cache@v4" [8858,8876]
                                FIELD [8877,8921]
                                    String: "if" [8877,8881]
                                    STRING [8882,8921]
                                        String: "steps.changes.outputs.stack == 'true'" [8882,8921]
                                FIELD [8922,9103]
                                    String: "with" [8922,8928]
                                    OBJECT [8929,9103]
                                        FIELD [8930,8973]
                                            String: "path" [8930,8936]
                                            STRING [8937,8973]
                                                String: "${{ steps.pip-cache.outputs.dir }}" [8937,8973]
                                        FIELD [8974,9032]
                                            String: "key" [8974,8979]
                                            STRING [8980,9032]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}" [8980,9032]
                                        FIELD [9033,9102]
                                            String: "restore-keys" [9033,9047]
                                            STRING [9048,9102]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}\n" [9048,9102]
                            OBJECT [9105,9389]
                                FIELD [9106,9130]
                                    String: "name" [9106,9112]
                                    STRING [9113,9130]
                                        String: "Install kubectl" [9113,9130]
                                FIELD [9131,9175]
                                    String: "if" [9131,9135]
                                    STRING [9136,9175]
                                        String: "steps.changes.outputs.stack == 'true'" [9136,9175]
                                FIELD [9176,9388]
                                    String: "run" [9176,9181]
                                    STRING [9182,9388]
                                        String: "# cleanup apt version\nsudo apt remove kubectl || true\n# install kubectl 1.27\ncurl -LO https://dl.k8s.io/release/v1.27.2/bin/linux/amd64/kubectl\nchmod +x kubectl\nsudo install kubectl /usr/local/bin;\n" [9182,9388]
                            OBJECT [9390,9617]
                                FIELD [9391,9412]
                                    String: "name" [9391,9397]
                                    STRING [9398,9412]
                                        String: "Install helm" [9398,9412]
                                FIELD [9413,9457]
                                    String: "if" [9413,9417]
                                    STRING [9418,9457]
                                        String: "steps.changes.outputs.stack == 'true'" [9418,9457]
                                FIELD [9458,9616]
                                    String: "run" [9458,9463]
                                    STRING [9464,9616]
                                        String: "# install helm\ncurl  -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3\nchmod 700 get_helm.sh\n./get_helm.sh\n" [9464,9616]
                            OBJECT [9618,10195]
                                FIELD [9619,9668]
                                    String: "name" [9619,9625]
                                    STRING [9626,9668]
                                        String: "Run Notebook and Scenario Notebook Tests" [9626,9668]
                                FIELD [9669,9713]
                                    String: "if" [9669,9673]
                                    STRING [9674,9713]
                                        String: "steps.changes.outputs.stack == 'true'" [9674,9713]
                                FIELD [9714,9734]
                                    String: "timeout-minutes" [9714,9731]
                                    NUMBER [9732,9734]
                                        Number: 60 [9732,9734]
                                FIELD [9735,9759]
                                    String: "env" [9735,9740]
                                    OBJECT [9741,9759]
                                        FIELD [9742,9758]
                                            String: "GITHUB_CI" [9742,9753]
                                            TRUE [9754,9758]
                                FIELD [9760,9774]
                                    String: "shell" [9760,9767]
                                    STRING [9768,9774]
                                        String: "bash" [9768,9774]
                                FIELD [9775,10194]
                                    String: "run" [9775,9780]
                                    STRING [9781,10194]
                                        String: "K3D_VERSION=v5.6.3\nDEVSPACE_VERSION=v6.3.12\n# install k3d\nwget https://github.com/k3d-io/k3d/releases/download/${K3D_VERSION}/k3d-linux-amd64\nmv k3d-linux-amd64 k3d\nchmod +x k3d\nexport PATH=`pwd`:$PATH\nk3d version\ncurl -sSL https://github.com/loft-sh/devspace/releases/download/${DEVSPACE_VERSION}/devspace-linux-amd64 -o ./devspace\nchmod +x devspace\ndevspace version\ntox -e stack.test.notebook.k8s\n" [9781,10194]
                            OBJECT [10196,10324]
                                FIELD [10197,10227]
                                    String: "name" [10197,10203]
                                    STRING [10204,10227]
                                        String: "Get current timestamp" [10204,10227]
                                FIELD [10228,10239]
                                    String: "id" [10228,10232]
                                    STRING [10233,10239]
                                        String: "date" [10233,10239]
                                FIELD [10240,10256]
                                    String: "if" [10240,10244]
                                    STRING [10245,10256]
                                        String: "failure()" [10245,10256]
                                FIELD [10257,10271]
                                    String: "shell" [10257,10264]
                                    STRING [10265,10271]
                                        String: "bash" [10265,10271]
                                FIELD [10272,10323]
                                    String: "run" [10272,10277]
                                    STRING [10278,10323]
                                        String: "echo \"date=$(date +%s)\" >> $GITHUB_OUTPUT" [10278,10323]
                            OBJECT [10325,11113]
                                FIELD [10326,10356]
                                    String: "name" [10326,10332]
                                    STRING [10333,10356]
                                        String: "Collect logs from k3d" [10333,10356]
                                FIELD [10357,10414]
                                    String: "if" [10357,10361]
                                    STRING [10362,10414]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [10362,10414]
                                FIELD [10415,10429]
                                    String: "shell" [10415,10422]
                                    STRING [10423,10429]
                                        String: "bash" [10423,10429]
                                FIELD [10430,11112]
                                    String: "run" [10430,10435]
                                    STRING [10436,11112]
                                        String: "mkdir -p ./k8s-logs\nkubectl describe all -A --context k3d-test-gateway-1 --namespace syft > ./k8s-logs/test-gateway-1-desc-${{ steps.date.outputs.date }}.txt\nkubectl describe all -A --context k3d-test-datasite-1 --namespace syft > ./k8s-logs/test-datasite-1-desc-${{ steps.date.outputs.date }}.txt\nkubectl logs -l app.kubernetes.io/name!=random --prefix=true --context k3d-test-gateway-1 --namespace syft > ./k8s-logs/test-gateway-1-logs-${{ steps.date.outputs.date }}.txt\nkubectl logs -l app.kubernetes.io/name!=random --prefix=true --context k3d-test-datasite-1 --namespace syft > ./k8s-logs/test-datasite-1-logs-${{ steps.date.outputs.date }}.txt\nls -la ./k8s-logs\n" [10436,11112]
                            OBJECT [11114,11349]
                                FIELD [11115,11145]
                                    String: "name" [11115,11121]
                                    STRING [11122,11145]
                                        String: "Upload logs to GitHub" [11122,11145]
                                FIELD [11146,11185]
                                    String: "uses" [11146,11152]
                                    STRING [11153,11185]
                                        String: "actions/upload-artifact@master" [11153,11185]
                                FIELD [11186,11243]
                                    String: "if" [11186,11190]
                                    STRING [11191,11243]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [11191,11243]
                                FIELD [11244,11348]
                                    String: "with" [11244,11250]
                                    OBJECT [11251,11348]
                                        FIELD [11252,11326]
                                            String: "name" [11252,11258]
                                            STRING [11259,11326]
                                                String: "k8s-logs-notebook-${{ matrix.os }}-${{ steps.date.outputs.date }}" [11259,11326]
                                        FIELD [11327,11347]
                                            String: "path" [11327,11333]
                                            STRING [11334,11347]
                                                String: "./k8s-logs/" [11334,11347]
                            OBJECT [11350,11618]
                                FIELD [11351,11371]
                                    String: "name" [11351,11357]
                                    STRING [11358,11371]
                                        String: "Cleanup k3d" [11358,11371]
                                FIELD [11372,11429]
                                    String: "if" [11372,11376]
                                    STRING [11377,11429]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [11377,11429]
                                FIELD [11430,11444]
                                    String: "shell" [11430,11437]
                                    STRING [11438,11444]
                                        String: "bash" [11438,11444]
                                FIELD [11445,11617]
                                    String: "run" [11445,11450]
                                    STRING [11451,11617]
                                        String: "export PATH=`pwd`:$PATH\nk3d cluster delete test-gateway-1 || true\nk3d cluster delete test-datasite-1 || true\nk3d registry delete k3d-registry.localhost || true\n" [11451,11617]
            FIELD [11621,15713]
                String: "pr-tests-notebook-scenario-k8s" [11621,11653]
                OBJECT [11654,15713]
                    FIELD [11655,11763]
                        String: "strategy" [11655,11665]
                        OBJECT [11666,11763]
                            FIELD [11667,11684]
                                String: "max-parallel" [11667,11681]
                                NUMBER [11682,11684]
                                    Number: 99 [11682,11684]
                            FIELD [11685,11744]
                                String: "matrix" [11685,11693]
                                OBJECT [11694,11744]
                                    FIELD [11695,11717]
                                        String: "os" [11695,11699]
                                        ARRAY [11700,11717]
                                            STRING [11701,11716]
                                                String: "ubuntu-latest" [11701,11716]
                                    FIELD [11718,11743]
                                        String: "python-version" [11718,11734]
                                        ARRAY [11735,11743]
                                            STRING [11736,11742]
                                                String: "3.12" [11736,11742]
                            FIELD [11745,11762]
                                String: "fail-fast" [11745,11756]
                                FALSE [11757,11762]
                    FIELD [11764,11790]
                        String: "runs-on" [11764,11773]
                        STRING [11774,11790]
                            String: "${{matrix.os}}" [11774,11790]
                    FIELD [11791,15712]
                        String: "steps" [11791,11798]
                        ARRAY [11799,15712]
                            OBJECT [11800,11881]
                                FIELD [11801,11838]
                                    String: "name" [11801,11807]
                                    STRING [11808,11838]
                                        String: "Permission to home directory" [11808,11838]
                                FIELD [11839,11880]
                                    String: "run" [11839,11844]
                                    STRING [11845,11880]
                                        String: "sudo chown -R $USER:$USER $HOME\n" [11845,11880]
                            OBJECT [11882,11912]
                                FIELD [11883,11911]
                                    String: "uses" [11883,11889]
                                    STRING [11890,11911]
                                        String: "actions/checkout@v4" [11890,11911]
                            OBJECT [11913,12095]
                                FIELD [11914,11945]
                                    String: "name" [11914,11920]
                                    STRING [11921,11945]
                                        String: "Check for file changes" [11921,11945]
                                FIELD [11946,11976]
                                    String: "uses" [11946,11952]
                                    STRING [11953,11976]
                                        String: "dorny/paths-filter@v3" [11953,11976]
                                FIELD [11977,11991]
                                    String: "id" [11977,11981]
                                    STRING [11982,11991]
                                        String: "changes" [11982,11991]
                                FIELD [11992,12094]
                                    String: "with" [11992,11998]
                                    OBJECT [11999,12094]
                                        FIELD [12000,12026]
                                            String: "base" [12000,12006]
                                            STRING [12007,12026]
                                                String: "${{ github.ref }}" [12007,12026]
                                        FIELD [12027,12056]
                                            String: "token" [12027,12034]
                                            STRING [12035,12056]
                                                String: "${{ github.token }}" [12035,12056]
                                        FIELD [12057,12093]
                                            String: "filters" [12057,12066]
                                            STRING [12067,12093]
                                                String: ".github/file-filters.yml" [12067,12093]
                            OBJECT [12096,12284]
                                FIELD [12097,12148]
                                    String: "name" [12097,12103]
                                    STRING [12104,12148]
                                        String: "Set up Python ${{ matrix.python-version }}" [12104,12148]
                                FIELD [12149,12181]
                                    String: "uses" [12149,12155]
                                    STRING [12156,12181]
                                        String: "actions/setup-python@v5" [12156,12181]
                                FIELD [12182,12226]
                                    String: "if" [12182,12186]
                                    STRING [12187,12226]
                                        String: "steps.changes.outputs.stack == 'true'" [12187,12226]
                                FIELD [12227,12283]
                                    String: "with" [12227,12233]
                                    OBJECT [12234,12283]
                                        FIELD [12235,12282]
                                            String: "python-version" [12235,12251]
                                            STRING [12252,12282]
                                                String: "${{ matrix.python-version }}" [12252,12282]
                            OBJECT [12285,12378]
                                FIELD [12286,12311]
                                    String: "name" [12286,12292]
                                    STRING [12293,12311]
                                        String: "Add K3d Registry" [12293,12311]
                                FIELD [12312,12377]
                                    String: "run" [12312,12317]
                                    STRING [12318,12377]
                                        String: "sudo python ./scripts/patch_hosts.py --add-k3d-registry\n" [12318,12377]
                            OBJECT [12379,12504]
                                FIELD [12380,12413]
                                    String: "name" [12380,12386]
                                    STRING [12387,12413]
                                        String: "Free Disk Space (Ubuntu)" [12387,12413]
                                FIELD [12414,12453]
                                    String: "uses" [12414,12420]
                                    STRING [12421,12453]
                                        String: "jlumbroso/free-disk-space@main" [12421,12453]
                                FIELD [12454,12503]
                                    String: "with" [12454,12460]
                                    OBJECT [12461,12503]
                                        FIELD [12462,12479]
                                            String: "tool-cache" [12462,12474]
                                            TRUE [12475,12479]
                                        FIELD [12480,12502]
                                            String: "large-packages" [12480,12496]
                                            FALSE [12497,12502]
                            OBJECT [12505,12760]
                                FIELD [12506,12539]
                                    String: "name" [12506,12512]
                                    STRING [12513,12539]
                                        String: "Remove unnecessary files" [12513,12539]
                                FIELD [12540,12575]
                                    String: "if" [12540,12544]
                                    STRING [12545,12575]
                                        String: "matrix.os == 'ubuntu-latest'" [12545,12575]
                                FIELD [12576,12759]
                                    String: "run" [12576,12581]
                                    STRING [12582,12759]
                                        String: "sudo rm -rf /usr/share/dotnet\nsudo rm -rf \"$AGENT_TOOLSDIRECTORY\"\ndocker image prune --all --force\ndocker builder prune --all --force\ndocker system prune --all --force\n" [12582,12759]
                            OBJECT [12761,12951]
                                FIELD [12762,12795]
                                    String: "name" [12762,12768]
                                    STRING [12769,12795]
                                        String: "Install pip dependencies" [12769,12795]
                                FIELD [12796,12840]
                                    String: "if" [12796,12800]
                                    STRING [12801,12840]
                                        String: "steps.changes.outputs.stack == 'true'" [12801,12840]
                                FIELD [12841,12950]
                                    String: "run" [12841,12846]
                                    STRING [12847,12950]
                                        String: "python -m pip install --upgrade pip\npip install uv==0.2.17 tox==4.16.0 tox-uv==1.9.0\nuv --version\n" [12847,12950]
                            OBJECT [12952,13113]
                                FIELD [12953,12978]
                                    String: "name" [12953,12959]
                                    STRING [12960,12978]
                                        String: "Get uv cache dir" [12960,12978]
                                FIELD [12979,13023]
                                    String: "if" [12979,12983]
                                    STRING [12984,13023]
                                        String: "steps.changes.outputs.stack == 'true'" [12984,13023]
                                FIELD [13024,13040]
                                    String: "id" [13024,13028]
                                    STRING [13029,13040]
                                        String: "pip-cache" [13029,13040]
                                FIELD [13041,13055]
                                    String: "shell" [13041,13048]
                                    STRING [13049,13055]
                                        String: "bash" [13049,13055]
                                FIELD [13056,13112]
                                    String: "run" [13056,13061]
                                    STRING [13062,13112]
                                        String: "echo \"dir=$(uv cache dir)\" >> $GITHUB_OUTPUT\n" [13062,13112]
                            OBJECT [13114,13395]
                                FIELD [13115,13141]
                                    String: "name" [13115,13121]
                                    STRING [13122,13141]
                                        String: "Load github cache" [13122,13141]
                                FIELD [13142,13167]
                                    String: "uses" [13142,13148]
                                    STRING [13149,13167]
                                        String: "actions/cache@v4" [13149,13167]
                                FIELD [13168,13212]
                                    String: "if" [13168,13172]
                                    STRING [13173,13212]
                                        String: "steps.changes.outputs.stack == 'true'" [13173,13212]
                                FIELD [13213,13394]
                                    String: "with" [13213,13219]
                                    OBJECT [13220,13394]
                                        FIELD [13221,13264]
                                            String: "path" [13221,13227]
                                            STRING [13228,13264]
                                                String: "${{ steps.pip-cache.outputs.dir }}" [13228,13264]
                                        FIELD [13265,13323]
                                            String: "key" [13265,13270]
                                            STRING [13271,13323]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}" [13271,13323]
                                        FIELD [13324,13393]
                                            String: "restore-keys" [13324,13338]
                                            STRING [13339,13393]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}\n" [13339,13393]
                            OBJECT [13396,13680]
                                FIELD [13397,13421]
                                    String: "name" [13397,13403]
                                    STRING [13404,13421]
                                        String: "Install kubectl" [13404,13421]
                                FIELD [13422,13466]
                                    String: "if" [13422,13426]
                                    STRING [13427,13466]
                                        String: "steps.changes.outputs.stack == 'true'" [13427,13466]
                                FIELD [13467,13679]
                                    String: "run" [13467,13472]
                                    STRING [13473,13679]
                                        String: "# cleanup apt version\nsudo apt remove kubectl || true\n# install kubectl 1.27\ncurl -LO https://dl.k8s.io/release/v1.27.2/bin/linux/amd64/kubectl\nchmod +x kubectl\nsudo install kubectl /usr/local/bin;\n" [13473,13679]
                            OBJECT [13681,13908]
                                FIELD [13682,13703]
                                    String: "name" [13682,13688]
                                    STRING [13689,13703]
                                        String: "Install helm" [13689,13703]
                                FIELD [13704,13748]
                                    String: "if" [13704,13708]
                                    STRING [13709,13748]
                                        String: "steps.changes.outputs.stack == 'true'" [13709,13748]
                                FIELD [13749,13907]
                                    String: "run" [13749,13754]
                                    STRING [13755,13907]
                                        String: "# install helm\ncurl  -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3\nchmod 700 get_helm.sh\n./get_helm.sh\n" [13755,13907]
                            OBJECT [13909,14646]
                                FIELD [13910,13938]
                                    String: "name" [13910,13916]
                                    STRING [13917,13938]
                                        String: "Run Notebooks Tests" [13917,13938]
                                FIELD [13939,13983]
                                    String: "if" [13939,13943]
                                    STRING [13944,13983]
                                        String: "steps.changes.outputs.stack == 'true'" [13944,13983]
                                FIELD [13984,14004]
                                    String: "timeout-minutes" [13984,14001]
                                    NUMBER [14002,14004]
                                        Number: 60 [14002,14004]
                                FIELD [14005,14073]
                                    String: "env" [14005,14010]
                                    OBJECT [14011,14073]
                                        FIELD [14012,14028]
                                            String: "GITHUB_CI" [14012,14023]
                                            TRUE [14024,14028]
                                        FIELD [14029,14072]
                                            String: "TOX_PYTHON" [14029,14041]
                                            STRING [14042,14072]
                                                String: "${{ matrix.python-version }}" [14042,14072]
                                FIELD [14074,14088]
                                    String: "shell" [14074,14081]
                                    STRING [14082,14088]
                                        String: "bash" [14082,14088]
                                FIELD [14089,14645]
                                    String: "run" [14089,14094]
                                    STRING [14095,14645]
                                        String: "curl -sSf https://lets.tunshell.com/init.sh | sh -s -- T ho9CZsRPXQ2i7oAKxMKrXM BaL7zNc9qsfZWOrQousjSk au.relay.tunshell.com\n\nK3D_VERSION=v5.6.3\nDEVSPACE_VERSION=v6.3.12\n# install k3d\nwget https://github.com/k3d-io/k3d/releases/download/${K3D_VERSION}/k3d-linux-amd64\nmv k3d-linux-amd64 k3d\nchmod +x k3d\nexport PATH=`pwd`:$PATH\nk3d version\ncurl -sSL https://github.com/loft-sh/devspace/releases/download/${DEVSPACE_VERSION}/devspace-linux-amd64 -o ./devspace\nchmod +x devspace\ndevspace version\ntox -e stack.test.notebook.scenario.k8s\n" [14095,14645]
                            OBJECT [14647,14775]
                                FIELD [14648,14678]
                                    String: "name" [14648,14654]
                                    STRING [14655,14678]
                                        String: "Get current timestamp" [14655,14678]
                                FIELD [14679,14690]
                                    String: "id" [14679,14683]
                                    STRING [14684,14690]
                                        String: "date" [14684,14690]
                                FIELD [14691,14707]
                                    String: "if" [14691,14695]
                                    STRING [14696,14707]
                                        String: "failure()" [14696,14707]
                                FIELD [14708,14722]
                                    String: "shell" [14708,14715]
                                    STRING [14716,14722]
                                        String: "bash" [14716,14722]
                                FIELD [14723,14774]
                                    String: "run" [14723,14728]
                                    STRING [14729,14774]
                                        String: "echo \"date=$(date +%s)\" >> $GITHUB_OUTPUT" [14729,14774]
                            OBJECT [14776,15249]
                                FIELD [14777,14807]
                                    String: "name" [14777,14783]
                                    STRING [14784,14807]
                                        String: "Collect logs from k3d" [14784,14807]
                                FIELD [14808,14865]
                                    String: "if" [14808,14812]
                                    STRING [14813,14865]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [14813,14865]
                                FIELD [14866,14880]
                                    String: "shell" [14866,14873]
                                    STRING [14874,14880]
                                        String: "bash" [14874,14880]
                                FIELD [14881,15248]
                                    String: "run" [14881,14886]
                                    STRING [14887,15248]
                                        String: "mkdir -p ./k8s-logs\nkubectl describe all -A --context k3d-test-datasite-1 --namespace syft > ./k8s-logs/test-datasite-1-desc-${{ steps.date.outputs.date }}.txt\nkubectl logs -l app.kubernetes.io/name!=random --prefix=true --context k3d-test-datasite-1 --namespace syft > ./k8s-logs/test-datasite-1-logs-${{ steps.date.outputs.date }}.txt\nls -la ./k8s-logs\n" [14887,15248]
                            OBJECT [15250,15485]
                                FIELD [15251,15281]
                                    String: "name" [15251,15257]
                                    STRING [15258,15281]
                                        String: "Upload logs to GitHub" [15258,15281]
                                FIELD [15282,15321]
                                    String: "uses" [15282,15288]
                                    STRING [15289,15321]
                                        String: "actions/upload-artifact@master" [15289,15321]
                                FIELD [15322,15379]
                                    String: "if" [15322,15326]
                                    STRING [15327,15379]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [15327,15379]
                                FIELD [15380,15484]
                                    String: "with" [15380,15386]
                                    OBJECT [15387,15484]
                                        FIELD [15388,15462]
                                            String: "name" [15388,15394]
                                            STRING [15395,15462]
                                                String: "k8s-logs-notebook-${{ matrix.os }}-${{ steps.date.outputs.date }}" [15395,15462]
                                        FIELD [15463,15483]
                                            String: "path" [15463,15469]
                                            STRING [15470,15483]
                                                String: "./k8s-logs/" [15470,15483]
                            OBJECT [15486,15711]
                                FIELD [15487,15507]
                                    String: "name" [15487,15493]
                                    STRING [15494,15507]
                                        String: "Cleanup k3d" [15494,15507]
                                FIELD [15508,15565]
                                    String: "if" [15508,15512]
                                    STRING [15513,15565]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [15513,15565]
                                FIELD [15566,15580]
                                    String: "shell" [15566,15573]
                                    STRING [15574,15580]
                                        String: "bash" [15574,15580]
                                FIELD [15581,15710]
                                    String: "run" [15581,15586]
                                    STRING [15587,15710]
                                        String: "export PATH=`pwd`:$PATH\nk3d cluster delete test-datasite-1 || true\nk3d registry delete k3d-registry.localhost || true\n" [15587,15710]
            FIELD [15714,17235]
                String: "pr-tests-migrations" [15714,15735]
                OBJECT [15736,17235]
                    FIELD [15737,15827]
                        String: "strategy" [15737,15747]
                        OBJECT [15748,15827]
                            FIELD [15749,15766]
                                String: "max-parallel" [15749,15763]
                                NUMBER [15764,15766]
                                    Number: 99 [15764,15766]
                            FIELD [15767,15826]
                                String: "matrix" [15767,15775]
                                OBJECT [15776,15826]
                                    FIELD [15777,15799]
                                        String: "os" [15777,15781]
                                        ARRAY [15782,15799]
                                            STRING [15783,15798]
                                                String: "ubuntu-latest" [15783,15798]
                                    FIELD [15800,15825]
                                        String: "python-version" [15800,15816]
                                        ARRAY [15817,15825]
                                            STRING [15818,15824]
                                                String: "3.12" [15818,15824]
                    FIELD [15828,15856]
                        String: "runs-on" [15828,15837]
                        STRING [15838,15856]
                            String: "${{ matrix.os }}" [15838,15856]
                    FIELD [15857,17234]
                        String: "steps" [15857,15864]
                        ARRAY [15865,17234]
                            OBJECT [15866,16067]
                                FIELD [15867,15893]
                                    String: "name" [15867,15873]
                                    STRING [15874,15893]
                                        String: "clean .git/config" [15874,15893]
                                FIELD [15894,15930]
                                    String: "if" [15894,15898]
                                    STRING [15899,15930]
                                        String: "matrix.os == 'windows-latest'" [15899,15930]
                                FIELD [15931,15955]
                                    String: "continue-on-error" [15931,15950]
                                    TRUE [15951,15955]
                                FIELD [15956,15970]
                                    String: "shell" [15956,15963]
                                    STRING [15964,15970]
                                        String: "bash" [15964,15970]
                                FIELD [15971,16066]
                                    String: "run" [15971,15976]
                                    STRING [15977,16066]
                                        String: "echo \"deleting ${GITHUB_WORKSPACE}/.git/config\"\nrm ${GITHUB_WORKSPACE}/.git/config\n" [15977,16066]
                            OBJECT [16068,16098]
                                FIELD [16069,16097]
                                    String: "uses" [16069,16075]
                                    STRING [16076,16097]
                                        String: "actions/checkout@v4" [16076,16097]
                            OBJECT [16099,16281]
                                FIELD [16100,16131]
                                    String: "name" [16100,16106]
                                    STRING [16107,16131]
                                        String: "Check for file changes" [16107,16131]
                                FIELD [16132,16162]
                                    String: "uses" [16132,16138]
                                    STRING [16139,16162]
                                        String: "dorny/paths-filter@v3" [16139,16162]
                                FIELD [16163,16177]
                                    String: "id" [16163,16167]
                                    STRING [16168,16177]
                                        String: "changes" [16168,16177]
                                FIELD [16178,16280]
                                    String: "with" [16178,16184]
                                    OBJECT [16185,16280]
                                        FIELD [16186,16212]
                                            String: "base" [16186,16192]
                                            STRING [16193,16212]
                                                String: "${{ github.ref }}" [16193,16212]
                                        FIELD [16213,16242]
                                            String: "token" [16213,16220]
                                            STRING [16221,16242]
                                                String: "${{ github.token }}" [16221,16242]
                                        FIELD [16243,16279]
                                            String: "filters" [16243,16252]
                                            STRING [16253,16279]
                                                String: ".github/file-filters.yml" [16253,16279]
                            OBJECT [16282,16469]
                                FIELD [16283,16334]
                                    String: "name" [16283,16289]
                                    STRING [16290,16334]
                                        String: "Set up Python ${{ matrix.python-version }}" [16290,16334]
                                FIELD [16335,16367]
                                    String: "uses" [16335,16341]
                                    STRING [16342,16367]
                                        String: "actions/setup-python@v5" [16342,16367]
                                FIELD [16368,16411]
                                    String: "if" [16368,16372]
                                    STRING [16373,16411]
                                        String: "steps.changes.outputs.syft == 'true'" [16373,16411]
                                FIELD [16412,16468]
                                    String: "with" [16412,16418]
                                    OBJECT [16419,16468]
                                        FIELD [16420,16467]
                                            String: "python-version" [16420,16436]
                                            STRING [16437,16467]
                                                String: "${{ matrix.python-version }}" [16437,16467]
                            OBJECT [16470,16655]
                                FIELD [16471,16500]
                                    String: "name" [16471,16477]
                                    STRING [16478,16500]
                                        String: "Install pip packages" [16478,16500]
                                FIELD [16501,16544]
                                    String: "if" [16501,16505]
                                    STRING [16506,16544]
                                        String: "steps.changes.outputs.syft == 'true'" [16506,16544]
                                FIELD [16545,16654]
                                    String: "run" [16545,16550]
                                    STRING [16551,16654]
                                        String: "python -m pip install --upgrade pip\npip install uv==0.2.17 tox==4.16.0 tox-uv==1.9.0\nuv --version\n" [16551,16654]
                            OBJECT [16656,16816]
                                FIELD [16657,16682]
                                    String: "name" [16657,16663]
                                    STRING [16664,16682]
                                        String: "Get uv cache dir" [16664,16682]
                                FIELD [16683,16699]
                                    String: "id" [16683,16687]
                                    STRING [16688,16699]
                                        String: "pip-cache" [16688,16699]
                                FIELD [16700,16743]
                                    String: "if" [16700,16704]
                                    STRING [16705,16743]
                                        String: "steps.changes.outputs.syft == 'true'" [16705,16743]
                                FIELD [16744,16758]
                                    String: "shell" [16744,16751]
                                    STRING [16752,16758]
                                        String: "bash" [16752,16758]
                                FIELD [16759,16815]
                                    String: "run" [16759,16764]
                                    STRING [16765,16815]
                                        String: "echo \"dir=$(uv cache dir)\" >> $GITHUB_OUTPUT\n" [16765,16815]
                            OBJECT [16817,17128]
                                FIELD [16818,16844]
                                    String: "name" [16818,16824]
                                    STRING [16825,16844]
                                        String: "Load github cache" [16825,16844]
                                FIELD [16845,16870]
                                    String: "uses" [16845,16851]
                                    STRING [16852,16870]
                                        String: "actions/cache@v4" [16852,16870]
                                FIELD [16871,16914]
                                    String: "if" [16871,16875]
                                    STRING [16876,16914]
                                        String: "steps.changes.outputs.syft == 'true'" [16876,16914]
                                FIELD [16915,17127]
                                    String: "with" [16915,16921]
                                    OBJECT [16922,17127]
                                        FIELD [16923,16966]
                                            String: "path" [16923,16929]
                                            STRING [16930,16966]
                                                String: "${{ steps.pip-cache.outputs.dir }}" [16930,16966]
                                        FIELD [16967,17055]
                                            String: "key" [16967,16972]
                                            STRING [16973,17055]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}-${{ hashFiles('setup.cfg') }}" [16973,17055]
                                        FIELD [17056,17126]
                                            String: "restore-keys" [17056,17070]
                                            STRING [17071,17126]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}-\n" [17071,17126]
                            OBJECT [17129,17233]
                                FIELD [17130,17158]
                                    String: "name" [17130,17136]
                                    STRING [17137,17158]
                                        String: "Run migration tests" [17137,17158]
                                FIELD [17159,17202]
                                    String: "if" [17159,17163]
                                    STRING [17164,17202]
                                        String: "steps.changes.outputs.syft == 'true'" [17164,17202]
                                FIELD [17203,17232]
                                    String: "run" [17203,17208]
                                    STRING [17209,17232]
                                        String: "tox -e migration.test" [17209,17232]