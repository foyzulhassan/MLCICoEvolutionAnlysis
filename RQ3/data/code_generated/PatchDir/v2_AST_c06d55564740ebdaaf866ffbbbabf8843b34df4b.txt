OBJECT [0,8755]
    FIELD [1,38]
        String: "name" [1,7]
        STRING [8,38]
            String: "Self-hosted runner (nightly)" [8,38]
    FIELD [39,72]
        String: "on" [39,43]
        OBJECT [44,72]
            FIELD [45,71]
                String: "repository_dispatch" [45,66]
                NULL [67,71]
    FIELD [73,297]
        String: "env" [73,78]
        OBJECT [79,297]
            FIELD [80,102]
                String: "HF_HOME" [80,89]
                STRING [90,102]
                    String: "/mnt/cache" [90,102]
            FIELD [103,128]
                String: "TRANSFORMERS_IS_CI" [103,123]
                TRUE [124,128]
            FIELD [129,148]
                String: "OMP_NUM_THREADS" [129,146]
                NUMBER [147,148]
                    Number: 8 [147,148]
            FIELD [149,168]
                String: "MKL_NUM_THREADS" [149,166]
                NUMBER [167,168]
                    Number: 8 [167,168]
            FIELD [169,184]
                String: "RUN_SLOW" [169,179]
                TRUE [180,184]
            FIELD [185,237]
                String: "SIGOPT_API_TOKEN" [185,203]
                STRING [204,237]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [204,237]
            FIELD [238,270]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [238,265]
                TRUE [266,270]
            FIELD [271,296]
                String: "RUN_PT_TF_CROSS_TESTS" [271,294]
                NUMBER [295,296]
                    Number: 1 [295,296]
    FIELD [298,8754]
        String: "jobs" [298,304]
        OBJECT [305,8754]
            FIELD [306,699]
                String: "check_runner_status" [306,327]
                OBJECT [328,699]
                    FIELD [329,357]
                        String: "name" [329,335]
                        STRING [336,357]
                            String: "Check Runner Status" [336,357]
                    FIELD [358,383]
                        String: "runs-on" [358,367]
                        STRING [368,383]
                            String: "ubuntu-latest" [368,383]
                    FIELD [384,698]
                        String: "steps" [384,391]
                        ARRAY [392,698]
                            OBJECT [393,479]
                                FIELD [394,424]
                                    String: "name" [394,400]
                                    STRING [401,424]
                                        String: "Checkout transformers" [401,424]
                                FIELD [425,453]
                                    String: "uses" [425,431]
                                    STRING [432,453]
                                        String: "actions/checkout@v2" [432,453]
                                FIELD [454,478]
                                    String: "with" [454,460]
                                    OBJECT [461,478]
                                        FIELD [462,477]
                                            String: "fetch-depth" [462,475]
                                            NUMBER [476,477]
                                                Number: 2 [476,477]
                            OBJECT [480,697]
                                FIELD [481,509]
                                    String: "name" [481,487]
                                    STRING [488,509]
                                        String: "Check Runner Status" [488,509]
                                FIELD [510,696]
                                    String: "run" [510,515]
                                    STRING [516,696]
                                        String: "python utils/check_self_hosted_runner.py --target_runners single-gpu-scheduled-ci-runner-docker,multi-gpu-scheduled-ci-runner-docker --token ${{ secrets.ACCESS_REPO_INFO_TOKEN }}" [516,696]
            FIELD [700,1132]
                String: "check_runners" [700,715]
                OBJECT [716,1132]
                    FIELD [717,739]
                        String: "name" [717,723]
                        STRING [724,739]
                            String: "Check Runners" [724,739]
                    FIELD [740,769]
                        String: "needs" [740,747]
                        STRING [748,769]
                            String: "check_runner_status" [748,769]
                    FIELD [770,835]
                        String: "strategy" [770,780]
                        OBJECT [781,835]
                            FIELD [782,834]
                                String: "matrix" [782,790]
                                OBJECT [791,834]
                                    FIELD [792,833]
                                        String: "machine_type" [792,806]
                                        ARRAY [807,833]
                                            STRING [808,820]
                                                String: "single-gpu" [808,820]
                                            STRING [821,832]
                                                String: "multi-gpu" [821,832]
                    FIELD [836,903]
                        String: "runs-on" [836,845]
                        STRING [846,903]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker') }}" [846,903]
                    FIELD [904,1078]
                        String: "container" [904,915]
                        OBJECT [916,1078]
                            FIELD [917,980]
                                String: "image" [917,924]
                                STRING [925,980]
                                    String: "huggingface/transformers-all-latest-torch-nightly-gpu" [925,980]
                            FIELD [981,1077]
                                String: "options" [981,990]
                                STRING [991,1077]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [991,1077]
                    FIELD [1079,1131]
                        String: "steps" [1079,1086]
                        ARRAY [1087,1131]
                            OBJECT [1088,1130]
                                FIELD [1089,1108]
                                    String: "name" [1089,1095]
                                    STRING [1096,1108]
                                        String: "NVIDIA-SMI" [1096,1108]
                                FIELD [1109,1129]
                                    String: "run" [1109,1114]
                                    STRING [1115,1129]
                                        String: "nvidia-smi\n" [1115,1129]
            FIELD [1133,2293]
                String: "setup" [1133,1140]
                OBJECT [1141,2293]
                    FIELD [1142,1156]
                        String: "name" [1142,1148]
                        STRING [1149,1156]
                            String: "Setup" [1149,1156]
                    FIELD [1157,1180]
                        String: "needs" [1157,1164]
                        STRING [1165,1180]
                            String: "check_runners" [1165,1180]
                    FIELD [1181,1246]
                        String: "strategy" [1181,1191]
                        OBJECT [1192,1246]
                            FIELD [1193,1245]
                                String: "matrix" [1193,1201]
                                OBJECT [1202,1245]
                                    FIELD [1203,1244]
                                        String: "machine_type" [1203,1217]
                                        ARRAY [1218,1244]
                                            STRING [1219,1231]
                                                String: "single-gpu" [1219,1231]
                                            STRING [1232,1243]
                                                String: "multi-gpu" [1232,1243]
                    FIELD [1247,1314]
                        String: "runs-on" [1247,1256]
                        STRING [1257,1314]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker') }}" [1257,1314]
                    FIELD [1315,1489]
                        String: "container" [1315,1326]
                        OBJECT [1327,1489]
                            FIELD [1328,1391]
                                String: "image" [1328,1335]
                                STRING [1336,1391]
                                    String: "huggingface/transformers-all-latest-torch-nightly-gpu" [1336,1391]
                            FIELD [1392,1488]
                                String: "options" [1392,1401]
                                STRING [1402,1488]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1402,1488]
                    FIELD [1490,1551]
                        String: "outputs" [1490,1499]
                        OBJECT [1500,1551]
                            FIELD [1501,1550]
                                String: "matrix" [1501,1509]
                                STRING [1510,1550]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [1510,1550]
                    FIELD [1552,2292]
                        String: "steps" [1552,1559]
                        ARRAY [1560,2292]
                            OBJECT [1561,1674]
                                FIELD [1562,1583]
                                    String: "name" [1562,1568]
                                    STRING [1569,1583]
                                        String: "Update clone" [1569,1583]
                                FIELD [1584,1619]
                                    String: "working-directory" [1584,1603]
                                    STRING [1604,1619]
                                        String: "/transformers" [1604,1619]
                                FIELD [1620,1673]
                                    String: "run" [1620,1625]
                                    STRING [1626,1673]
                                        String: "git fetch && git checkout ${{ github.sha }}\n" [1626,1673]
                            OBJECT [1675,1813]
                                FIELD [1676,1692]
                                    String: "name" [1676,1682]
                                    STRING [1683,1692]
                                        String: "Cleanup" [1683,1692]
                                FIELD [1693,1728]
                                    String: "working-directory" [1693,1712]
                                    STRING [1713,1728]
                                        String: "/transformers" [1713,1728]
                                FIELD [1729,1812]
                                    String: "run" [1729,1734]
                                    STRING [1735,1812]
                                        String: "rm -rf tests/__pycache__\nrm -rf tests/models/__pycache__\nrm -rf reports\n" [1735,1812]
                            OBJECT [1814,2248]
                                FIELD [1815,1832]
                                    String: "id" [1815,1819]
                                    STRING [1820,1832]
                                        String: "set-matrix" [1820,1832]
                                FIELD [1833,1865]
                                    String: "name" [1833,1839]
                                    STRING [1840,1865]
                                        String: "Identify models to test" [1840,1865]
                                FIELD [1866,1907]
                                    String: "working-directory" [1866,1885]
                                    STRING [1886,1907]
                                        String: "/transformers/tests" [1886,1907]
                                FIELD [1908,2247]
                                    String: "run" [1908,1913]
                                    STRING [1914,2247]
                                        String: "echo \"::set-output name=matrix::$(python3 -c 'import os; tests = os.getcwd(); model_tests = os.listdir(os.path.join(tests, \"models\")); d1 = sorted(list(filter(os.path.isdir, os.listdir(tests)))); d2 = sorted(list(filter(os.path.isdir, [f\"models/{x}\" for x in model_tests]))); d1.remove(\"models\"); d = d2 + d1; print(d)')\"\n" [1914,2247]
                            OBJECT [2249,2291]
                                FIELD [2250,2269]
                                    String: "name" [2250,2256]
                                    STRING [2257,2269]
                                        String: "NVIDIA-SMI" [2257,2269]
                                FIELD [2270,2290]
                                    String: "run" [2270,2275]
                                    STRING [2276,2290]
                                        String: "nvidia-smi\n" [2276,2290]
            FIELD [2294,3946]
                String: "run_tests_single_gpu" [2294,2316]
                OBJECT [2317,3946]
                    FIELD [2318,2338]
                        String: "name" [2318,2324]
                        STRING [2325,2338]
                            String: "Model tests" [2325,2338]
                    FIELD [2339,2466]
                        String: "strategy" [2339,2349]
                        OBJECT [2350,2466]
                            FIELD [2351,2368]
                                String: "fail-fast" [2351,2362]
                                FALSE [2363,2368]
                            FIELD [2369,2465]
                                String: "matrix" [2369,2377]
                                OBJECT [2378,2465]
                                    FIELD [2379,2434]
                                        String: "folders" [2379,2388]
                                        STRING [2389,2434]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [2389,2434]
                                    FIELD [2435,2464]
                                        String: "machine_type" [2435,2449]
                                        ARRAY [2450,2464]
                                            STRING [2451,2463]
                                                String: "single-gpu" [2451,2463]
                    FIELD [2467,2534]
                        String: "runs-on" [2467,2476]
                        STRING [2477,2534]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker') }}" [2477,2534]
                    FIELD [2535,2709]
                        String: "container" [2535,2546]
                        OBJECT [2547,2709]
                            FIELD [2548,2611]
                                String: "image" [2548,2555]
                                STRING [2556,2611]
                                    String: "huggingface/transformers-all-latest-torch-nightly-gpu" [2556,2611]
                            FIELD [2612,2708]
                                String: "options" [2612,2621]
                                STRING [2622,2708]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [2622,2708]
                    FIELD [2710,2725]
                        String: "needs" [2710,2717]
                        STRING [2718,2725]
                            String: "setup" [2718,2725]
                    FIELD [2726,3945]
                        String: "steps" [2726,2733]
                        ARRAY [2734,3945]
                            OBJECT [2735,3009]
                                FIELD [2736,2778]
                                    String: "name" [2736,2742]
                                    STRING [2743,2778]
                                        String: "Echo folder ${{ matrix.folders }}" [2743,2778]
                                FIELD [2779,2793]
                                    String: "shell" [2779,2786]
                                    STRING [2787,2793]
                                        String: "bash" [2787,2793]
                                FIELD [2794,3008]
                                    String: "run" [2794,2799]
                                    STRING [2800,3008]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [2800,3008]
                            OBJECT [3010,3121]
                                FIELD [3011,3032]
                                    String: "name" [3011,3017]
                                    STRING [3018,3032]
                                        String: "Update clone" [3018,3032]
                                FIELD [3033,3068]
                                    String: "working-directory" [3033,3052]
                                    STRING [3053,3068]
                                        String: "/transformers" [3053,3068]
                                FIELD [3069,3120]
                                    String: "run" [3069,3074]
                                    STRING [3075,3120]
                                        String: "git fetch && git checkout ${{ github.sha }}" [3075,3120]
                            OBJECT [3122,3164]
                                FIELD [3123,3142]
                                    String: "name" [3123,3129]
                                    STRING [3130,3142]
                                        String: "NVIDIA-SMI" [3130,3142]
                                FIELD [3143,3163]
                                    String: "run" [3143,3148]
                                    STRING [3149,3163]
                                        String: "nvidia-smi\n" [3149,3163]
                            OBJECT [3165,3260]
                                FIELD [3166,3186]
                                    String: "name" [3166,3172]
                                    STRING [3173,3186]
                                        String: "Environment" [3173,3186]
                                FIELD [3187,3222]
                                    String: "working-directory" [3187,3206]
                                    STRING [3207,3222]
                                        String: "/transformers" [3207,3222]
                                FIELD [3223,3259]
                                    String: "run" [3223,3228]
                                    STRING [3229,3259]
                                        String: "python3 utils/print_env.py\n" [3229,3259]
                            OBJECT [3261,3459]
                                FIELD [3262,3291]
                                    String: "name" [3262,3268]
                                    STRING [3269,3291]
                                        String: "Run all tests on GPU" [3269,3291]
                                FIELD [3292,3327]
                                    String: "working-directory" [3292,3311]
                                    STRING [3312,3327]
                                        String: "/transformers" [3312,3327]
                                FIELD [3328,3458]
                                    String: "run" [3328,3333]
                                    STRING [3334,3458]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [3334,3458]
                            OBJECT [3460,3653]
                                FIELD [3461,3491]
                                    String: "name" [3461,3467]
                                    STRING [3468,3491]
                                        String: "Failure short reports" [3468,3491]
                                FIELD [3492,3515]
                                    String: "if" [3492,3496]
                                    STRING [3497,3515]
                                        String: "${{ failure() }}" [3497,3515]
                                FIELD [3516,3540]
                                    String: "continue-on-error" [3516,3535]
                                    TRUE [3536,3540]
                                FIELD [3541,3652]
                                    String: "run" [3541,3546]
                                    STRING [3547,3652]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [3547,3652]
                            OBJECT [3654,3944]
                                FIELD [3655,3692]
                                    String: "name" [3655,3661]
                                    STRING [3662,3692]
                                        String: "Test suite reports artifacts" [3662,3692]
                                FIELD [3693,3715]
                                    String: "if" [3693,3697]
                                    STRING [3698,3715]
                                        String: "${{ always() }}" [3698,3715]
                                FIELD [3716,3751]
                                    String: "uses" [3716,3722]
                                    STRING [3723,3751]
                                        String: "actions/upload-artifact@v2" [3723,3751]
                                FIELD [3752,3943]
                                    String: "with" [3752,3758]
                                    OBJECT [3759,3943]
                                        FIELD [3760,3852]
                                            String: "name" [3760,3766]
                                            STRING [3767,3852]
                                                String: "${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports" [3767,3852]
                                        FIELD [3853,3942]
                                            String: "path" [3853,3859]
                                            STRING [3860,3942]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}" [3860,3942]
            FIELD [3947,5599]
                String: "run_tests_multi_gpu" [3947,3968]
                OBJECT [3969,5599]
                    FIELD [3970,3990]
                        String: "name" [3970,3976]
                        STRING [3977,3990]
                            String: "Model tests" [3977,3990]
                    FIELD [3991,4117]
                        String: "strategy" [3991,4001]
                        OBJECT [4002,4117]
                            FIELD [4003,4020]
                                String: "fail-fast" [4003,4014]
                                FALSE [4015,4020]
                            FIELD [4021,4116]
                                String: "matrix" [4021,4029]
                                OBJECT [4030,4116]
                                    FIELD [4031,4086]
                                        String: "folders" [4031,4040]
                                        STRING [4041,4086]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [4041,4086]
                                    FIELD [4087,4115]
                                        String: "machine_type" [4087,4101]
                                        ARRAY [4102,4115]
                                            STRING [4103,4114]
                                                String: "multi-gpu" [4103,4114]
                    FIELD [4118,4185]
                        String: "runs-on" [4118,4127]
                        STRING [4128,4185]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker') }}" [4128,4185]
                    FIELD [4186,4362]
                        String: "container" [4186,4197]
                        OBJECT [4198,4362]
                            FIELD [4199,4262]
                                String: "image" [4199,4206]
                                STRING [4207,4262]
                                    String: "huggingface/transformers-all-latest-torch-nightly-gpu" [4207,4262]
                            FIELD [4263,4361]
                                String: "options" [4263,4272]
                                STRING [4273,4361]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [4273,4361]
                    FIELD [4363,4378]
                        String: "needs" [4363,4370]
                        STRING [4371,4378]
                            String: "setup" [4371,4378]
                    FIELD [4379,5598]
                        String: "steps" [4379,4386]
                        ARRAY [4387,5598]
                            OBJECT [4388,4662]
                                FIELD [4389,4431]
                                    String: "name" [4389,4395]
                                    STRING [4396,4431]
                                        String: "Echo folder ${{ matrix.folders }}" [4396,4431]
                                FIELD [4432,4446]
                                    String: "shell" [4432,4439]
                                    STRING [4440,4446]
                                        String: "bash" [4440,4446]
                                FIELD [4447,4661]
                                    String: "run" [4447,4452]
                                    STRING [4453,4661]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [4453,4661]
                            OBJECT [4663,4774]
                                FIELD [4664,4685]
                                    String: "name" [4664,4670]
                                    STRING [4671,4685]
                                        String: "Update clone" [4671,4685]
                                FIELD [4686,4721]
                                    String: "working-directory" [4686,4705]
                                    STRING [4706,4721]
                                        String: "/transformers" [4706,4721]
                                FIELD [4722,4773]
                                    String: "run" [4722,4727]
                                    STRING [4728,4773]
                                        String: "git fetch && git checkout ${{ github.sha }}" [4728,4773]
                            OBJECT [4775,4817]
                                FIELD [4776,4795]
                                    String: "name" [4776,4782]
                                    STRING [4783,4795]
                                        String: "NVIDIA-SMI" [4783,4795]
                                FIELD [4796,4816]
                                    String: "run" [4796,4801]
                                    STRING [4802,4816]
                                        String: "nvidia-smi\n" [4802,4816]
                            OBJECT [4818,4913]
                                FIELD [4819,4839]
                                    String: "name" [4819,4825]
                                    STRING [4826,4839]
                                        String: "Environment" [4826,4839]
                                FIELD [4840,4875]
                                    String: "working-directory" [4840,4859]
                                    STRING [4860,4875]
                                        String: "/transformers" [4860,4875]
                                FIELD [4876,4912]
                                    String: "run" [4876,4881]
                                    STRING [4882,4912]
                                        String: "python3 utils/print_env.py\n" [4882,4912]
                            OBJECT [4914,5112]
                                FIELD [4915,4944]
                                    String: "name" [4915,4921]
                                    STRING [4922,4944]
                                        String: "Run all tests on GPU" [4922,4944]
                                FIELD [4945,4980]
                                    String: "working-directory" [4945,4964]
                                    STRING [4965,4980]
                                        String: "/transformers" [4965,4980]
                                FIELD [4981,5111]
                                    String: "run" [4981,4986]
                                    STRING [4987,5111]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [4987,5111]
                            OBJECT [5113,5306]
                                FIELD [5114,5144]
                                    String: "name" [5114,5120]
                                    STRING [5121,5144]
                                        String: "Failure short reports" [5121,5144]
                                FIELD [5145,5168]
                                    String: "if" [5145,5149]
                                    STRING [5150,5168]
                                        String: "${{ failure() }}" [5150,5168]
                                FIELD [5169,5193]
                                    String: "continue-on-error" [5169,5188]
                                    TRUE [5189,5193]
                                FIELD [5194,5305]
                                    String: "run" [5194,5199]
                                    STRING [5200,5305]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [5200,5305]
                            OBJECT [5307,5597]
                                FIELD [5308,5345]
                                    String: "name" [5308,5314]
                                    STRING [5315,5345]
                                        String: "Test suite reports artifacts" [5315,5345]
                                FIELD [5346,5368]
                                    String: "if" [5346,5350]
                                    STRING [5351,5368]
                                        String: "${{ always() }}" [5351,5368]
                                FIELD [5369,5404]
                                    String: "uses" [5369,5375]
                                    STRING [5376,5404]
                                        String: "actions/upload-artifact@v2" [5376,5404]
                                FIELD [5405,5596]
                                    String: "with" [5405,5411]
                                    OBJECT [5412,5596]
                                        FIELD [5413,5505]
                                            String: "name" [5413,5419]
                                            STRING [5420,5505]
                                                String: "${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports" [5420,5505]
                                        FIELD [5506,5595]
                                            String: "path" [5506,5512]
                                            STRING [5513,5595]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}" [5513,5595]
            FIELD [5600,7526]
                String: "run_all_tests_torch_cuda_extensions_gpu" [5600,5641]
                OBJECT [5642,7526]
                    FIELD [5643,5678]
                        String: "name" [5643,5649]
                        STRING [5650,5678]
                            String: "Torch CUDA extension tests" [5650,5678]
                    FIELD [5679,5762]
                        String: "strategy" [5679,5689]
                        OBJECT [5690,5762]
                            FIELD [5691,5708]
                                String: "fail-fast" [5691,5702]
                                FALSE [5703,5708]
                            FIELD [5709,5761]
                                String: "matrix" [5709,5717]
                                OBJECT [5718,5761]
                                    FIELD [5719,5760]
                                        String: "machine_type" [5719,5733]
                                        ARRAY [5734,5760]
                                            STRING [5735,5747]
                                                String: "single-gpu" [5735,5747]
                                            STRING [5748,5759]
                                                String: "multi-gpu" [5748,5759]
                    FIELD [5763,5830]
                        String: "runs-on" [5763,5772]
                        STRING [5773,5830]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker') }}" [5773,5830]
                    FIELD [5831,5846]
                        String: "needs" [5831,5838]
                        STRING [5839,5846]
                            String: "setup" [5839,5846]
                    FIELD [5847,6024]
                        String: "container" [5847,5858]
                        OBJECT [5859,6024]
                            FIELD [5860,5924]
                                String: "image" [5860,5867]
                                STRING [5868,5924]
                                    String: "huggingface/transformers-pytorch-deepspeed-nightly-gpu" [5868,5924]
                            FIELD [5925,6023]
                                String: "options" [5925,5934]
                                STRING [5935,6023]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [5935,6023]
                    FIELD [6025,7525]
                        String: "steps" [6025,6032]
                        ARRAY [6033,7525]
                            OBJECT [6034,6155]
                                FIELD [6035,6056]
                                    String: "name" [6035,6041]
                                    STRING [6042,6056]
                                        String: "Update clone" [6042,6056]
                                FIELD [6057,6102]
                                    String: "working-directory" [6057,6076]
                                    STRING [6077,6102]
                                        String: "/workspace/transformers" [6077,6102]
                                FIELD [6103,6154]
                                    String: "run" [6103,6108]
                                    STRING [6109,6154]
                                        String: "git fetch && git checkout ${{ github.sha }}" [6109,6154]
                            OBJECT [6156,6250]
                                FIELD [6157,6196]
                                    String: "name" [6157,6163]
                                    STRING [6164,6196]
                                        String: "Remove cached torch extensions" [6164,6196]
                                FIELD [6197,6249]
                                    String: "run" [6197,6202]
                                    STRING [6203,6249]
                                        String: "rm -rf /github/home/.cache/torch_extensions/" [6203,6249]
                            OBJECT [6251,6666]
                                FIELD [6252,6288]
                                    String: "name" [6252,6258]
                                    STRING [6259,6288]
                                        String: "Pre build DeepSpeed *again*" [6259,6288]
                                FIELD [6289,6321]
                                    String: "working-directory" [6289,6308]
                                    STRING [6309,6321]
                                        String: "/workspace" [6309,6321]
                                FIELD [6322,6665]
                                    String: "run" [6322,6327]
                                    STRING [6328,6665]
                                        String: "python3 -m pip uninstall -y deepspeed\nrm -rf DeepSpeed\ngit clone https://github.com/microsoft/DeepSpeed && cd DeepSpeed && rm -rf build\nDS_BUILD_CPU_ADAM=1 DS_BUILD_FUSED_ADAM=1 DS_BUILD_AIO=1 DS_BUILD_UTILS=1 python3 -m pip install . --global-option=\"build_ext\" --global-option=\"-j8\" --no-cache -v --disable-pip-version-check\n" [6328,6665]
                            OBJECT [6667,6709]
                                FIELD [6668,6687]
                                    String: "name" [6668,6674]
                                    STRING [6675,6687]
                                        String: "NVIDIA-SMI" [6675,6687]
                                FIELD [6688,6708]
                                    String: "run" [6688,6693]
                                    STRING [6694,6708]
                                        String: "nvidia-smi\n" [6694,6708]
                            OBJECT [6710,6814]
                                FIELD [6711,6731]
                                    String: "name" [6711,6717]
                                    STRING [6718,6731]
                                        String: "Environment" [6718,6731]
                                FIELD [6732,6777]
                                    String: "working-directory" [6732,6751]
                                    STRING [6752,6777]
                                        String: "/workspace/transformers" [6752,6777]
                                FIELD [6778,6813]
                                    String: "run" [6778,6783]
                                    STRING [6784,6813]
                                        String: "python utils/print_env.py\n" [6784,6813]
                            OBJECT [6815,7027]
                                FIELD [6816,6845]
                                    String: "name" [6816,6822]
                                    STRING [6823,6845]
                                        String: "Run all tests on GPU" [6823,6845]
                                FIELD [6846,6891]
                                    String: "working-directory" [6846,6865]
                                    STRING [6866,6891]
                                        String: "/workspace/transformers" [6866,6891]
                                FIELD [6892,7026]
                                    String: "run" [6892,6897]
                                    STRING [6898,7026]
                                        String: "python -m pytest -v --make-reports=${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [6898,7026]
                            OBJECT [7028,7231]
                                FIELD [7029,7059]
                                    String: "name" [7029,7035]
                                    STRING [7036,7059]
                                        String: "Failure short reports" [7036,7059]
                                FIELD [7060,7083]
                                    String: "if" [7060,7064]
                                    STRING [7065,7083]
                                        String: "${{ failure() }}" [7065,7083]
                                FIELD [7084,7108]
                                    String: "continue-on-error" [7084,7103]
                                    TRUE [7104,7108]
                                FIELD [7109,7230]
                                    String: "run" [7109,7114]
                                    STRING [7115,7230]
                                        String: "cat /workspace/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu/failures_short.txt" [7115,7230]
                            OBJECT [7232,7524]
                                FIELD [7233,7270]
                                    String: "name" [7233,7239]
                                    STRING [7240,7270]
                                        String: "Test suite reports artifacts" [7240,7270]
                                FIELD [7271,7293]
                                    String: "if" [7271,7275]
                                    STRING [7276,7293]
                                        String: "${{ always() }}" [7276,7293]
                                FIELD [7294,7329]
                                    String: "uses" [7294,7300]
                                    STRING [7301,7329]
                                        String: "actions/upload-artifact@v2" [7301,7329]
                                FIELD [7330,7523]
                                    String: "with" [7330,7336]
                                    OBJECT [7337,7523]
                                        FIELD [7338,7422]
                                            String: "name" [7338,7344]
                                            STRING [7345,7422]
                                                String: "${{ matrix.machine_type }}_run_tests_torch_cuda_extensions_gpu_test_reports" [7345,7422]
                                        FIELD [7423,7522]
                                            String: "path" [7423,7429]
                                            STRING [7430,7522]
                                                String: "/workspace/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu" [7430,7522]
            FIELD [7527,8753]
                String: "send_results" [7527,7541]
                OBJECT [7542,8753]
                    FIELD [7543,7575]
                        String: "name" [7543,7549]
                        STRING [7550,7575]
                            String: "Send results to webhook" [7550,7575]
                    FIELD [7576,7601]
                        String: "runs-on" [7576,7585]
                        STRING [7586,7601]
                            String: "ubuntu-latest" [7586,7601]
                    FIELD [7602,7617]
                        String: "if" [7602,7606]
                        STRING [7607,7617]
                            String: "always()" [7607,7617]
                    FIELD [7618,7760]
                        String: "needs" [7618,7625]
                        ARRAY [7626,7760]
                            STRING [7627,7648]
                                String: "check_runner_status" [7627,7648]
                            STRING [7649,7664]
                                String: "check_runners" [7649,7664]
                            STRING [7665,7672]
                                String: "setup" [7665,7672]
                            STRING [7673,7695]
                                String: "run_tests_single_gpu" [7673,7695]
                            STRING [7696,7717]
                                String: "run_tests_multi_gpu" [7696,7717]
                            STRING [7718,7759]
                                String: "run_all_tests_torch_cuda_extensions_gpu" [7718,7759]
                    FIELD [7761,8752]
                        String: "steps" [7761,7768]
                        ARRAY [7769,8752]
                            OBJECT [7770,8007]
                                FIELD [7771,7802]
                                    String: "name" [7771,7777]
                                    STRING [7778,7802]
                                        String: "Preliminary job status" [7778,7802]
                                FIELD [7803,7817]
                                    String: "shell" [7803,7810]
                                    STRING [7811,7817]
                                        String: "bash" [7811,7817]
                                FIELD [7818,8006]
                                    String: "run" [7818,7823]
                                    STRING [7824,8006]
                                        String: "echo \"Runner availability: ${{ needs.check_runner_status.result }}\"\necho \"Runner status: ${{ needs.check_runners.result }}\"\necho \"Setup status: ${{ needs.setup.result }}\"\n" [7824,8006]
                            OBJECT [8008,8038]
                                FIELD [8009,8037]
                                    String: "uses" [8009,8015]
                                    STRING [8016,8037]
                                        String: "actions/checkout@v2" [8016,8037]
                            OBJECT [8039,8078]
                                FIELD [8040,8077]
                                    String: "uses" [8040,8046]
                                    STRING [8047,8077]
                                        String: "actions/download-artifact@v2" [8047,8077]
                            OBJECT [8079,8751]
                                FIELD [8080,8110]
                                    String: "name" [8080,8086]
                                    STRING [8087,8110]
                                        String: "Send message to Slack" [8087,8110]
                                FIELD [8111,8644]
                                    String: "env" [8111,8116]
                                    OBJECT [8117,8644]
                                        FIELD [8118,8174]
                                            String: "CI_SLACK_BOT_TOKEN" [8118,8138]
                                            STRING [8139,8174]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [8139,8174]
                                        FIELD [8175,8233]
                                            String: "CI_SLACK_CHANNEL_ID" [8175,8196]
                                            STRING [8197,8233]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [8197,8233]
                                        FIELD [8234,8304]
                                            String: "CI_SLACK_CHANNEL_ID_DAILY" [8234,8261]
                                            STRING [8262,8304]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY }}" [8262,8304]
                                        FIELD [8305,8381]
                                            String: "CI_SLACK_CHANNEL_DUMMY_TESTS" [8305,8335]
                                            STRING [8336,8381]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_DUMMY_TESTS }}" [8336,8381]
                                        FIELD [8382,8459]
                                            String: "CI_SLACK_REPORT_CHANNEL_ID" [8382,8410]
                                            STRING [8411,8459]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_PAST_FUTURE }}" [8411,8459]
                                        FIELD [8460,8486]
                                            String: "CI_EVENT" [8460,8470]
                                            STRING [8471,8486]
                                                String: "nightly-build" [8471,8486]
                                        FIELD [8487,8544]
                                            String: "RUNNER_STATUS" [8487,8502]
                                            STRING [8503,8544]
                                                String: "${{ needs.check_runner_status.result }}" [8503,8544]
                                        FIELD [8545,8600]
                                            String: "RUNNER_ENV_STATUS" [8545,8564]
                                            STRING [8565,8600]
                                                String: "${{ needs.check_runners.result }}" [8565,8600]
                                        FIELD [8601,8643]
                                            String: "SETUP_STATUS" [8601,8615]
                                            STRING [8616,8643]
                                                String: "${{ needs.setup.result }}" [8616,8643]
                                FIELD [8645,8750]
                                    String: "run" [8645,8650]
                                    STRING [8651,8750]
                                        String: "pip install slack_sdk\npython utils/notification_service.py \"${{ needs.setup.outputs.matrix }}\"" [8651,8750]