OBJECT [0,5745]
    FIELD [1,30]
        String: "name" [1,7]
        STRING [8,30]
            String: "pr-integration-tests" [8,30]
    FIELD [31,104]
        String: "on" [31,35]
        OBJECT [36,104]
            FIELD [37,103]
                String: "pull_request_target" [37,58]
                OBJECT [59,103]
                    FIELD [60,102]
                        String: "types" [60,67]
                        ARRAY [68,102]
                            STRING [69,77]
                                String: "opened" [69,77]
                            STRING [78,91]
                                String: "synchronize" [78,91]
                            STRING [92,101]
                                String: "labeled" [92,101]
    FIELD [105,5744]
        String: "jobs" [105,111]
        OBJECT [112,5744]
            FIELD [113,2433]
                String: "build-docker-image" [113,133]
                OBJECT [134,2433]
                    FIELD [135,576]
                        String: "if" [135,139]
                        STRING [140,576]
                            String: "((github.event.action == 'labeled' && (github.event.label.name == 'approved' || github.event.label.name == 'lgtm' || github.event.label.name == 'ok-to-test')) || (github.event.action != 'labeled' && (contains(github.event.pull_request.labels.*.name, 'ok-to-test') || contains(github.event.pull_request.labels.*.name, 'approved') || contains(github.event.pull_request.labels.*.name, 'lgtm')))) && github.repository == 'feast-dev/feast'" [140,576]
                    FIELD [577,602]
                        String: "runs-on" [577,586]
                        STRING [587,602]
                            String: "ubuntu-latest" [587,602]
                    FIELD [603,2351]
                        String: "steps" [603,610]
                        ARRAY [611,2351]
                            OBJECT [612,740]
                                FIELD [613,641]
                                    String: "uses" [613,619]
                                    STRING [620,641]
                                        String: "actions/checkout@v3" [620,641]
                                FIELD [642,739]
                                    String: "with" [642,648]
                                    OBJECT [649,739]
                                        FIELD [650,713]
                                            String: "ref" [650,655]
                                            STRING [656,713]
                                                String: "refs/pull/${{ github.event.pull_request.number }}/merge" [656,713]
                                        FIELD [714,738]
                                            String: "submodules" [714,726]
                                            STRING [727,738]
                                                String: "recursive" [727,738]
                            OBJECT [741,800]
                                FIELD [742,762]
                                    String: "name" [742,748]
                                    STRING [749,762]
                                        String: "Set up QEMU" [749,762]
                                FIELD [763,799]
                                    String: "uses" [763,769]
                                    STRING [770,799]
                                        String: "docker/setup-qemu-action@v1" [770,799]
                            OBJECT [801,895]
                                FIELD [802,831]
                                    String: "name" [802,808]
                                    STRING [809,831]
                                        String: "Set up Docker Buildx" [809,831]
                                FIELD [832,870]
                                    String: "uses" [832,838]
                                    STRING [839,870]
                                        String: "docker/setup-buildx-action@v2" [839,870]
                                FIELD [871,894]
                                    String: "with" [871,877]
                                    OBJECT [878,894]
                                        FIELD [879,893]
                                            String: "install" [879,888]
                                            TRUE [889,893]
                            OBJECT [896,1123]
                                FIELD [897,920]
                                    String: "name" [897,903]
                                    STRING [904,920]
                                        String: "Set up AWS SDK" [904,920]
                                FIELD [921,970]
                                    String: "uses" [921,927]
                                    STRING [928,970]
                                        String: "aws-actions/configure-aws-credentials@v1" [928,970]
                                FIELD [971,1122]
                                    String: "with" [971,977]
                                    OBJECT [978,1122]
                                        FIELD [979,1033]
                                            String: "aws-access-key-id" [979,998]
                                            STRING [999,1033]
                                                String: "${{ secrets.AWS_ACCESS_KEY_ID }}" [999,1033]
                                        FIELD [1034,1096]
                                            String: "aws-secret-access-key" [1034,1057]
                                            STRING [1058,1096]
                                                String: "${{ secrets.AWS_SECRET_ACCESS_KEY }}" [1058,1096]
                                        FIELD [1097,1121]
                                            String: "aws-region" [1097,1109]
                                            STRING [1110,1121]
                                                String: "us-west-2" [1110,1121]
                            OBJECT [1124,1212]
                                FIELD [1125,1153]
                                    String: "name" [1125,1131]
                                    STRING [1132,1153]
                                        String: "Login to Amazon ECR" [1132,1153]
                                FIELD [1154,1170]
                                    String: "id" [1154,1158]
                                    STRING [1159,1170]
                                        String: "login-ecr" [1159,1170]
                                FIELD [1171,1211]
                                    String: "uses" [1171,1177]
                                    STRING [1178,1211]
                                        String: "aws-actions/amazon-ecr-login@v1" [1178,1211]
                            OBJECT [1213,1332]
                                FIELD [1214,1240]
                                    String: "name" [1214,1220]
                                    STRING [1221,1240]
                                        String: "Set ECR image tag" [1221,1240]
                                FIELD [1241,1257]
                                    String: "id" [1241,1245]
                                    STRING [1246,1257]
                                        String: "image-tag" [1246,1257]
                                FIELD [1258,1331]
                                    String: "run" [1258,1263]
                                    STRING [1264,1331]
                                        String: "echo \"::set-output name=DOCKER_IMAGE_TAG::`git rev-parse HEAD`\"" [1264,1331]
                            OBJECT [1333,1469]
                                FIELD [1334,1365]
                                    String: "name" [1334,1340]
                                    STRING [1341,1365]
                                        String: "Cache Public ECR Image" [1341,1365]
                                FIELD [1366,1390]
                                    String: "id" [1366,1370]
                                    STRING [1371,1390]
                                        String: "lambda_python_3_9" [1371,1390]
                                FIELD [1391,1416]
                                    String: "uses" [1391,1397]
                                    STRING [1398,1416]
                                        String: "actions/cache@v2" [1398,1416]
                                FIELD [1417,1468]
                                    String: "with" [1417,1423]
                                    OBJECT [1424,1468]
                                        FIELD [1425,1441]
                                            String: "path" [1425,1431]
                                            STRING [1432,1441]
                                                String: "~/cache" [1432,1441]
                                        FIELD [1442,1467]
                                            String: "key" [1442,1447]
                                            STRING [1448,1467]
                                                String: "lambda_python_3_9" [1448,1467]
                            OBJECT [1470,1750]
                                FIELD [1471,1543]
                                    String: "name" [1471,1477]
                                    STRING [1478,1543]
                                        String: "Handle Cache Miss (pull public ECR image & save it to tar file)" [1478,1543]
                                FIELD [1544,1597]
                                    String: "if" [1544,1548]
                                    STRING [1549,1597]
                                        String: "steps.cache-primes.outputs.cache-hit != 'true'" [1549,1597]
                                FIELD [1598,1749]
                                    String: "run" [1598,1603]
                                    STRING [1604,1749]
                                        String: "mkdir -p ~/cache\ndocker pull public.ecr.aws/lambda/python:3.9\ndocker save public.ecr.aws/lambda/python:3.9 -o ~/cache/lambda_python_3_9.tar\n" [1604,1749]
                            OBJECT [1751,1921]
                                FIELD [1752,1811]
                                    String: "name" [1752,1758]
                                    STRING [1759,1811]
                                        String: "Handle Cache Hit (load docker image from tar file)" [1759,1811]
                                FIELD [1812,1865]
                                    String: "if" [1812,1816]
                                    STRING [1817,1865]
                                        String: "steps.cache-primes.outputs.cache-hit == 'true'" [1817,1865]
                                FIELD [1866,1920]
                                    String: "run" [1866,1871]
                                    STRING [1872,1920]
                                        String: "docker load -i ~/cache/lambda_python_3_9.tar\n" [1872,1920]
                            OBJECT [1922,2350]
                                FIELD [1923,1946]
                                    String: "name" [1923,1929]
                                    STRING [1930,1946]
                                        String: "Build and push" [1930,1946]
                                FIELD [1947,2050]
                                    String: "env" [1947,1952]
                                    OBJECT [1953,2050]
                                        FIELD [1954,2010]
                                            String: "ECR_REGISTRY" [1954,1968]
                                            STRING [1969,2010]
                                                String: "${{ steps.login-ecr.outputs.registry }}" [1969,2010]
                                        FIELD [2011,2049]
                                            String: "ECR_REPOSITORY" [2011,2027]
                                            STRING [2028,2049]
                                                String: "feast-python-server" [2028,2049]
                                FIELD [2051,2349]
                                    String: "run" [2051,2056]
                                    STRING [2057,2349]
                                        String: "docker build \\\n  --file sdk/python/feast/infra/feature_servers/aws_lambda/Dockerfile \\\n  --tag $ECR_REGISTRY/$ECR_REPOSITORY:${{ steps.image-tag.outputs.DOCKER_IMAGE_TAG }} \\\n  --load \\\n  .\ndocker push $ECR_REGISTRY/$ECR_REPOSITORY:${{ steps.image-tag.outputs.DOCKER_IMAGE_TAG }}\n" [2057,2349]
                    FIELD [2352,2432]
                        String: "outputs" [2352,2361]
                        OBJECT [2362,2432]
                            FIELD [2363,2431]
                                String: "DOCKER_IMAGE_TAG" [2363,2381]
                                STRING [2382,2431]
                                    String: "${{ steps.image-tag.outputs.DOCKER_IMAGE_TAG }}" [2382,2431]
            FIELD [2434,5743]
                String: "integration-test-python" [2434,2459]
                OBJECT [2460,5743]
                    FIELD [2461,2902]
                        String: "if" [2461,2465]
                        STRING [2466,2902]
                            String: "((github.event.action == 'labeled' && (github.event.label.name == 'approved' || github.event.label.name == 'lgtm' || github.event.label.name == 'ok-to-test')) || (github.event.action != 'labeled' && (contains(github.event.pull_request.labels.*.name, 'ok-to-test') || contains(github.event.pull_request.labels.*.name, 'approved') || contains(github.event.pull_request.labels.*.name, 'lgtm')))) && github.repository == 'feast-dev/feast'" [2466,2902]
                    FIELD [2903,2931]
                        String: "needs" [2903,2910]
                        STRING [2911,2931]
                            String: "build-docker-image" [2911,2931]
                    FIELD [2932,2960]
                        String: "runs-on" [2932,2941]
                        STRING [2942,2960]
                            String: "${{ matrix.os }}" [2942,2960]
                    FIELD [2961,3051]
                        String: "strategy" [2961,2971]
                        OBJECT [2972,3051]
                            FIELD [2973,2990]
                                String: "fail-fast" [2973,2984]
                                FALSE [2985,2990]
                            FIELD [2991,3050]
                                String: "matrix" [2991,2999]
                                OBJECT [3000,3050]
                                    FIELD [3001,3026]
                                        String: "python-version" [3001,3017]
                                        ARRAY [3018,3026]
                                            STRING [3019,3025]
                                                String: "3.10" [3019,3025]
                                    FIELD [3027,3049]
                                        String: "os" [3027,3031]
                                        ARRAY [3032,3049]
                                            STRING [3033,3048]
                                                String: "ubuntu-latest" [3033,3048]
                    FIELD [3052,3123]
                        String: "env" [3052,3057]
                        OBJECT [3058,3123]
                            FIELD [3059,3082]
                                String: "OS" [3059,3063]
                                STRING [3064,3082]
                                    String: "${{ matrix.os }}" [3064,3082]
                            FIELD [3083,3122]
                                String: "PYTHON" [3083,3091]
                                STRING [3092,3122]
                                    String: "${{ matrix.python-version }}" [3092,3122]
                    FIELD [3124,3289]
                        String: "services" [3124,3134]
                        OBJECT [3135,3289]
                            FIELD [3136,3288]
                                String: "redis" [3136,3143]
                                OBJECT [3144,3288]
                                    FIELD [3145,3160]
                                        String: "image" [3145,3152]
                                        STRING [3153,3160]
                                            String: "redis" [3153,3160]
                                    FIELD [3161,3182]
                                        String: "ports" [3161,3168]
                                        ARRAY [3169,3182]
                                            STRING [3170,3181]
                                                String: "6379:6379" [3170,3181]
                                    FIELD [3183,3287]
                                        String: "options" [3183,3192]
                                        STRING [3193,3287]
                                            String: "--health-cmd \"redis-cli ping\" --health-interval 10s --health-timeout 5s --health-retries 5" [3193,3287]
                    FIELD [3290,5742]
                        String: "steps" [3290,3297]
                        ARRAY [3298,5742]
                            OBJECT [3299,3427]
                                FIELD [3300,3328]
                                    String: "uses" [3300,3306]
                                    STRING [3307,3328]
                                        String: "actions/checkout@v3" [3307,3328]
                                FIELD [3329,3426]
                                    String: "with" [3329,3335]
                                    OBJECT [3336,3426]
                                        FIELD [3337,3400]
                                            String: "ref" [3337,3342]
                                            STRING [3343,3400]
                                                String: "refs/pull/${{ github.event.pull_request.number }}/merge" [3343,3400]
                                        FIELD [3401,3425]
                                            String: "submodules" [3401,3413]
                                            STRING [3414,3425]
                                                String: "recursive" [3414,3425]
                            OBJECT [3428,3582]
                                FIELD [3429,3450]
                                    String: "name" [3429,3435]
                                    STRING [3436,3450]
                                        String: "Setup Python" [3436,3450]
                                FIELD [3451,3483]
                                    String: "uses" [3451,3457]
                                    STRING [3458,3483]
                                        String: "actions/setup-python@v4" [3458,3483]
                                FIELD [3484,3503]
                                    String: "id" [3484,3488]
                                    STRING [3489,3503]
                                        String: "setup-python" [3489,3503]
                                FIELD [3504,3581]
                                    String: "with" [3504,3510]
                                    OBJECT [3511,3581]
                                        FIELD [3512,3559]
                                            String: "python-version" [3512,3528]
                                            STRING [3529,3559]
                                                String: "${{ matrix.python-version }}" [3529,3559]
                                        FIELD [3560,3580]
                                            String: "architecture" [3560,3574]
                                            STRING [3575,3580]
                                                String: "x64" [3575,3580]
                            OBJECT [3583,3717]
                                FIELD [3584,3621]
                                    String: "name" [3584,3590]
                                    STRING [3591,3621]
                                        String: "Authenticate to Google Cloud" [3591,3621]
                                FIELD [3622,3660]
                                    String: "uses" [3622,3628]
                                    STRING [3629,3660]
                                        String: "google-github-actions/auth@v1" [3629,3660]
                                FIELD [3661,3716]
                                    String: "with" [3661,3667]
                                    OBJECT [3668,3716]
                                        FIELD [3669,3715]
                                            String: "credentials_json" [3669,3687]
                                            STRING [3688,3715]
                                                String: "${{ secrets.GCP_SA_KEY }}" [3688,3715]
                            OBJECT [3718,3847]
                                FIELD [3719,3745]
                                    String: "name" [3719,3725]
                                    STRING [3726,3745]
                                        String: "Set up gcloud SDK" [3726,3745]
                                FIELD [3746,3792]
                                    String: "uses" [3746,3752]
                                    STRING [3753,3792]
                                        String: "google-github-actions/setup-gcloud@v1" [3753,3792]
                                FIELD [3793,3846]
                                    String: "with" [3793,3799]
                                    OBJECT [3800,3846]
                                        FIELD [3801,3845]
                                            String: "project_id" [3801,3813]
                                            STRING [3814,3845]
                                                String: "${{ secrets.GCP_PROJECT_ID }}" [3814,3845]
                            OBJECT [3848,3893]
                                FIELD [3849,3872]
                                    String: "name" [3849,3855]
                                    STRING [3856,3872]
                                        String: "Use gcloud CLI" [3856,3872]
                                FIELD [3873,3892]
                                    String: "run" [3873,3878]
                                    STRING [3879,3892]
                                        String: "gcloud info" [3879,3892]
                            OBJECT [3894,4121]
                                FIELD [3895,3918]
                                    String: "name" [3895,3901]
                                    STRING [3902,3918]
                                        String: "Set up AWS SDK" [3902,3918]
                                FIELD [3919,3968]
                                    String: "uses" [3919,3925]
                                    STRING [3926,3968]
                                        String: "aws-actions/configure-aws-credentials@v1" [3926,3968]
                                FIELD [3969,4120]
                                    String: "with" [3969,3975]
                                    OBJECT [3976,4120]
                                        FIELD [3977,4031]
                                            String: "aws-access-key-id" [3977,3996]
                                            STRING [3997,4031]
                                                String: "${{ secrets.AWS_ACCESS_KEY_ID }}" [3997,4031]
                                        FIELD [4032,4094]
                                            String: "aws-secret-access-key" [4032,4055]
                                            STRING [4056,4094]
                                                String: "${{ secrets.AWS_SECRET_ACCESS_KEY }}" [4056,4094]
                                        FIELD [4095,4119]
                                            String: "aws-region" [4095,4107]
                                            STRING [4108,4119]
                                                String: "us-west-2" [4108,4119]
                            OBJECT [4122,4180]
                                FIELD [4123,4143]
                                    String: "name" [4123,4129]
                                    STRING [4130,4143]
                                        String: "Use AWS CLI" [4130,4143]
                                FIELD [4144,4179]
                                    String: "run" [4144,4149]
                                    STRING [4150,4179]
                                        String: "aws sts get-caller-identity" [4150,4179]
                            OBJECT [4181,4285]
                                FIELD [4182,4208]
                                    String: "name" [4182,4188]
                                    STRING [4189,4208]
                                        String: "Get pip cache dir" [4189,4208]
                                FIELD [4209,4225]
                                    String: "id" [4209,4213]
                                    STRING [4214,4225]
                                        String: "pip-cache" [4214,4225]
                                FIELD [4226,4284]
                                    String: "run" [4226,4231]
                                    STRING [4232,4284]
                                        String: "echo \"::set-output name=dir::$(pip cache dir)\"\n" [4232,4284]
                            OBJECT [4286,4691]
                                FIELD [4287,4305]
                                    String: "name" [4287,4293]
                                    STRING [4294,4305]
                                        String: "pip cache" [4294,4305]
                                FIELD [4306,4331]
                                    String: "uses" [4306,4312]
                                    STRING [4313,4331]
                                        String: "actions/cache@v2" [4313,4331]
                                FIELD [4332,4690]
                                    String: "with" [4332,4338]
                                    OBJECT [4339,4690]
                                        FIELD [4340,4452]
                                            String: "path" [4340,4346]
                                            STRING [4347,4452]
                                                String: "${{ steps.pip-cache.outputs.dir }}\n/opt/hostedtoolcache/Python\n/Users/runner/hostedtoolcache/Python\n" [4347,4452]
                                        FIELD [4453,4599]
                                            String: "key" [4453,4458]
                                            STRING [4459,4599]
                                                String: "${{ runner.os }}-${{ steps.setup-python.outputs.python-version }}-pip-${{ hashFiles(format('**/py{0}-ci-requirements.txt', env.PYTHON)) }}" [4459,4599]
                                        FIELD [4600,4689]
                                            String: "restore-keys" [4600,4614]
                                            STRING [4615,4689]
                                                String: "${{ runner.os }}-${{ steps.setup-python.outputs.python-version }}-pip-\n" [4615,4689]
                            OBJECT [4692,4776]
                                FIELD [4693,4721]
                                    String: "name" [4693,4699]
                                    STRING [4700,4721]
                                        String: "Upgrade pip version" [4700,4721]
                                FIELD [4722,4775]
                                    String: "run" [4722,4727]
                                    STRING [4728,4775]
                                        String: "pip install --upgrade \"pip>=21.3.1,<23.2\"\n" [4728,4775]
                            OBJECT [4777,4835]
                                FIELD [4778,4804]
                                    String: "name" [4778,4784]
                                    STRING [4785,4804]
                                        String: "Install pip-tools" [4785,4804]
                                FIELD [4805,4834]
                                    String: "run" [4805,4810]
                                    STRING [4811,4834]
                                        String: "pip install pip-tools" [4811,4834]
                            OBJECT [4836,4911]
                                FIELD [4837,4866]
                                    String: "name" [4837,4843]
                                    STRING [4844,4866]
                                        String: "Install dependencies" [4844,4866]
                                FIELD [4867,4910]
                                    String: "run" [4867,4872]
                                    STRING [4873,4910]
                                        String: "make install-python-ci-dependencies" [4873,4910]
                            OBJECT [4912,5149]
                                FIELD [4913,4941]
                                    String: "name" [4913,4919]
                                    STRING [4920,4941]
                                        String: "Setup Redis Cluster" [4920,4941]
                                FIELD [4942,5148]
                                    String: "run" [4942,4947]
                                    STRING [4948,5148]
                                        String: "docker pull vishnunair/docker-redis-cluster:latest\ndocker run -d -p 6001:6379 -p 6002:6380 -p 6003:6381 -p 6004:6382 -p 6005:6383 -p 6006:6384 --name redis-cluster vishnunair/docker-redis-cluster\n" [4948,5148]
                            OBJECT [5150,5741]
                                FIELD [5151,5171]
                                    String: "name" [5151,5157]
                                    STRING [5158,5171]
                                        String: "Test python" [5158,5171]
                                FIELD [5172,5194]
                                    String: "if" [5172,5176]
                                    STRING [5177,5194]
                                        String: "${{ always() }}" [5177,5194]
                                FIELD [5195,5598]
                                    String: "env" [5195,5200]
                                    OBJECT [5201,5598]
                                        FIELD [5202,5292]
                                            String: "FEAST_SERVER_DOCKER_IMAGE_TAG" [5202,5233]
                                            STRING [5234,5292]
                                                String: "${{ needs.build-docker-image.outputs.DOCKER_IMAGE_TAG }}" [5234,5292]
                                        FIELD [5293,5359]
                                            String: "SNOWFLAKE_CI_DEPLOYMENT" [5293,5318]
                                            STRING [5319,5359]
                                                String: "${{ secrets.SNOWFLAKE_CI_DEPLOYMENT }}" [5319,5359]
                                        FIELD [5360,5414]
                                            String: "SNOWFLAKE_CI_USER" [5360,5379]
                                            STRING [5380,5414]
                                                String: "${{ secrets.SNOWFLAKE_CI_USER }}" [5380,5414]
                                        FIELD [5415,5477]
                                            String: "SNOWFLAKE_CI_PASSWORD" [5415,5438]
                                            STRING [5439,5477]
                                                String: "${{ secrets.SNOWFLAKE_CI_PASSWORD }}" [5439,5477]
                                        FIELD [5478,5532]
                                            String: "SNOWFLAKE_CI_ROLE" [5478,5497]
                                            STRING [5498,5532]
                                                String: "${{ secrets.SNOWFLAKE_CI_ROLE }}" [5498,5532]
                                        FIELD [5533,5597]
                                            String: "SNOWFLAKE_CI_WAREHOUSE" [5533,5557]
                                            STRING [5558,5597]
                                                String: "${{ secrets.SNOWFLAKE_CI_WAREHOUSE }}" [5558,5597]
                                FIELD [5599,5740]
                                    String: "run" [5599,5604]
                                    STRING [5605,5740]
                                        String: "pytest -n 8 --cov=./ --cov-report=xml --color=yes sdk/python/tests --integration --durations=5 --timeout=1200 --timeout_method=thread" [5605,5740]