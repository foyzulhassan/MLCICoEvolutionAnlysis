OBJECT [0,16447]
    FIELD [1,12]
        String: "name" [1,7]
        STRING [8,12]
            String: "CI" [8,12]
    FIELD [13,105]
        String: "concurrency" [13,26]
        OBJECT [27,105]
            FIELD [28,78]
                String: "group" [28,35]
                STRING [36,78]
                    String: "${{ github.workflow }}-${{ github.ref }}" [36,78]
            FIELD [79,104]
                String: "cancel-in-progress" [79,99]
                TRUE [100,104]
    FIELD [106,256]
        String: "on" [106,110]
        OBJECT [111,256]
            FIELD [112,148]
                String: "pull_request" [112,126]
                OBJECT [127,148]
                    FIELD [128,147]
                        String: "branches" [128,138]
                        ARRAY [139,147]
                            STRING [140,146]
                                String: "main" [140,146]
            FIELD [149,177]
                String: "push" [149,155]
                OBJECT [156,177]
                    FIELD [157,176]
                        String: "branches" [157,167]
                        ARRAY [168,176]
                            STRING [169,175]
                                String: "main" [169,175]
            FIELD [178,211]
                String: "release" [178,187]
                OBJECT [188,211]
                    FIELD [189,210]
                        String: "types" [189,196]
                        ARRAY [197,210]
                            STRING [198,209]
                                String: "published" [198,209]
            FIELD [212,255]
                String: "schedule" [212,222]
                ARRAY [223,255]
                    OBJECT [224,254]
                        FIELD [225,253]
                            String: "cron" [225,231]
                            STRING [232,253]
                                String: "37 11 * * 1,2,3,4,5" [232,253]
    FIELD [257,603]
        String: "env" [257,262]
        OBJECT [263,603]
            FIELD [264,288]
                String: "TORCH_VERSION" [264,279]
                STRING [280,288]
                    String: "1.11.0" [280,288]
            FIELD [289,374]
                String: "TORCH_CPU_INSTALL" [289,308]
                STRING [309,374]
                    String: "conda install pytorch torchvision torchaudio cpuonly -c pytorch" [309,374]
            FIELD [375,469]
                String: "TORCH_GPU_INSTALL" [375,394]
                STRING [395,469]
                    String: "conda install pytorch torchvision torchaudio cudatoolkit=11.3 -c pytorch" [395,469]
            FIELD [470,490]
                String: "CACHE_PREFIX" [470,484]
                STRING [485,490]
                    String: "v11" [485,490]
            FIELD [491,523]
                String: "TOKENIZERS_PARALLELISM" [491,515]
                STRING [516,523]
                    String: "false" [516,523]
            FIELD [524,545]
                String: "OMP_NUM_THREADS" [524,541]
                STRING [542,545]
                    String: "1" [542,545]
            FIELD [546,573]
                String: "MKL_THREADING_LAYER" [546,567]
                STRING [568,573]
                    String: "GNU" [568,573]
            FIELD [574,602]
                String: "DEFAULT_PYTHON_VERSION" [574,598]
                NUMBER [599,602]
                    Number: 3.8 [599,602]
    FIELD [604,646]
        String: "defaults" [604,614]
        OBJECT [615,646]
            FIELD [616,645]
                String: "run" [616,621]
                OBJECT [622,645]
                    FIELD [623,644]
                        String: "shell" [623,630]
                        STRING [631,644]
                            String: "bash -l {0}" [631,644]
    FIELD [647,16446]
        String: "jobs" [647,653]
        OBJECT [654,16446]
            FIELD [655,1399]
                String: "changelog" [655,666]
                OBJECT [667,1399]
                    FIELD [668,686]
                        String: "name" [668,674]
                        STRING [675,686]
                            String: "CHANGELOG" [675,686]
                    FIELD [687,712]
                        String: "runs-on" [687,696]
                        STRING [697,712]
                            String: "ubuntu-latest" [697,712]
                    FIELD [713,755]
                        String: "if" [713,717]
                        STRING [718,755]
                            String: "github.event_name == 'pull_request'" [718,755]
                    FIELD [756,1398]
                        String: "steps" [756,763]
                        ARRAY [764,1398]
                            OBJECT [765,795]
                                FIELD [766,794]
                                    String: "uses" [766,772]
                                    STRING [773,794]
                                        String: "actions/checkout@v1" [773,794]
                            OBJECT [796,1042]
                                FIELD [797,840]
                                    String: "name" [797,803]
                                    STRING [804,840]
                                        String: "Check if source files have changed" [804,840]
                                FIELD [841,1041]
                                    String: "run" [841,846]
                                    STRING [847,1041]
                                        String: "git diff --name-only $(git merge-base origin/main HEAD) | grep '^allennlp/.*\\.py$' && echo \"source_files_changed=true\" >> $GITHUB_ENV || echo \"source_files_changed=false\" >> $GITHUB_ENV\n" [847,1041]
                            OBJECT [1043,1397]
                                FIELD [1044,1090]
                                    String: "name" [1044,1050]
                                    STRING [1051,1090]
                                        String: "Check that CHANGELOG has been updated" [1051,1090]
                                FIELD [1091,1132]
                                    String: "if" [1091,1095]
                                    STRING [1096,1132]
                                        String: "env.source_files_changed == 'true'" [1096,1132]
                                FIELD [1133,1396]
                                    String: "run" [1133,1138]
                                    STRING [1139,1396]
                                        String: "# If this step fails, this means you haven't updated the CHANGELOG.md\n# file with notes on your contribution.\ngit diff --name-only $(git merge-base origin/main HEAD) | grep '^CHANGELOG.md$' && echo \"Thanks for helping keep our CHANGELOG up-to-date!\"\n" [1139,1396]
            FIELD [1400,1800]
                String: "style" [1400,1407]
                OBJECT [1408,1800]
                    FIELD [1409,1423]
                        String: "name" [1409,1415]
                        STRING [1416,1423]
                            String: "Style" [1416,1423]
                    FIELD [1424,1449]
                        String: "runs-on" [1424,1433]
                        STRING [1434,1449]
                            String: "ubuntu-latest" [1434,1449]
                    FIELD [1450,1799]
                        String: "steps" [1450,1457]
                        ARRAY [1458,1799]
                            OBJECT [1459,1489]
                                FIELD [1460,1488]
                                    String: "uses" [1460,1466]
                                    STRING [1467,1488]
                                        String: "actions/checkout@v2" [1467,1488]
                            OBJECT [1490,1608]
                                FIELD [1491,1512]
                                    String: "name" [1491,1497]
                                    STRING [1498,1512]
                                        String: "Setup Python" [1498,1512]
                                FIELD [1513,1545]
                                    String: "uses" [1513,1519]
                                    STRING [1520,1545]
                                        String: "actions/setup-python@v2" [1520,1545]
                                FIELD [1546,1607]
                                    String: "with" [1546,1552]
                                    OBJECT [1553,1607]
                                        FIELD [1554,1606]
                                            String: "python-version" [1554,1570]
                                            STRING [1571,1606]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [1571,1606]
                            OBJECT [1609,1708]
                                FIELD [1610,1639]
                                    String: "name" [1610,1616]
                                    STRING [1617,1639]
                                        String: "Install requirements" [1617,1639]
                                FIELD [1640,1707]
                                    String: "run" [1640,1645]
                                    STRING [1646,1707]
                                        String: "grep -E '^black' dev-requirements.txt | xargs pip install\n" [1646,1707]
                            OBJECT [1709,1751]
                                FIELD [1710,1729]
                                    String: "name" [1710,1716]
                                    STRING [1717,1729]
                                        String: "Debug info" [1717,1729]
                                FIELD [1730,1750]
                                    String: "run" [1730,1735]
                                    STRING [1736,1750]
                                        String: "pip freeze\n" [1736,1750]
                            OBJECT [1752,1798]
                                FIELD [1753,1771]
                                    String: "name" [1753,1759]
                                    STRING [1760,1771]
                                        String: "Run black" [1760,1771]
                                FIELD [1772,1797]
                                    String: "run" [1772,1777]
                                    STRING [1778,1797]
                                        String: "black --check .\n" [1778,1797]
            FIELD [1801,5119]
                String: "checks" [1801,1809]
                OBJECT [1810,5119]
                    FIELD [1811,1843]
                        String: "name" [1811,1817]
                        STRING [1818,1843]
                            String: "${{ matrix.task.name }}" [1818,1843]
                    FIELD [1844,1882]
                        String: "runs-on" [1844,1853]
                        STRING [1854,1882]
                            String: "${{ matrix.task.runs_on }}" [1854,1882]
                    FIELD [1883,1903]
                        String: "timeout-minutes" [1883,1900]
                        NUMBER [1901,1903]
                            Number: 30 [1901,1903]
                    FIELD [1904,2504]
                        String: "strategy" [1904,1914]
                        OBJECT [1915,2504]
                            FIELD [1916,1933]
                                String: "fail-fast" [1916,1927]
                                FALSE [1928,1933]
                            FIELD [1934,2503]
                                String: "matrix" [1934,1942]
                                OBJECT [1943,2503]
                                    FIELD [1944,2502]
                                        String: "task" [1944,1950]
                                        ARRAY [1951,2502]
                                            OBJECT [1952,2078]
                                                FIELD [1953,1966]
                                                    String: "name" [1953,1959]
                                                    STRING [1960,1966]
                                                        String: "Lint" [1960,1966]
                                                FIELD [1967,1992]
                                                    String: "runs_on" [1967,1976]
                                                    STRING [1977,1992]
                                                        String: "ubuntu-latest" [1977,1992]
                                                FIELD [1993,2016]
                                                    String: "coverage_report" [1993,2010]
                                                    FALSE [2011,2016]
                                                FIELD [2017,2039]
                                                    String: "torch_platform" [2017,2033]
                                                    STRING [2034,2039]
                                                        String: "cpu" [2034,2039]
                                                FIELD [2040,2077]
                                                    String: "run" [2040,2045]
                                                    STRING [2046,2077]
                                                        String: "make flake8\nmake typecheck\n" [2046,2077]
                                            OBJECT [2079,2189]
                                                FIELD [2080,2098]
                                                    String: "name" [2080,2086]
                                                    STRING [2087,2098]
                                                        String: "CPU Tests" [2087,2098]
                                                FIELD [2099,2124]
                                                    String: "runs_on" [2099,2108]
                                                    STRING [2109,2124]
                                                        String: "ubuntu-latest" [2109,2124]
                                                FIELD [2125,2147]
                                                    String: "coverage_report" [2125,2142]
                                                    TRUE [2143,2147]
                                                FIELD [2148,2170]
                                                    String: "torch_platform" [2148,2164]
                                                    STRING [2165,2170]
                                                        String: "cpu" [2165,2170]
                                                FIELD [2171,2188]
                                                    String: "run" [2171,2176]
                                                    STRING [2177,2188]
                                                        String: "make test" [2177,2188]
                                            OBJECT [2190,2323]
                                                FIELD [2191,2209]
                                                    String: "name" [2191,2197]
                                                    STRING [2198,2209]
                                                        String: "GPU Tests" [2198,2209]
                                                FIELD [2210,2253]
                                                    String: "runs_on" [2210,2219]
                                                    ARRAY [2220,2253]
                                                        STRING [2221,2234]
                                                            String: "self-hosted" [2221,2234]
                                                        STRING [2235,2240]
                                                            String: "GPU" [2235,2240]
                                                        STRING [2241,2252]
                                                            String: "Multi GPU" [2241,2252]
                                                FIELD [2254,2276]
                                                    String: "coverage_report" [2254,2271]
                                                    TRUE [2272,2276]
                                                FIELD [2277,2299]
                                                    String: "torch_platform" [2277,2293]
                                                    STRING [2294,2299]
                                                        String: "gpu" [2294,2299]
                                                FIELD [2300,2322]
                                                    String: "run" [2300,2305]
                                                    STRING [2306,2322]
                                                        String: "make gpu-tests" [2306,2322]
                                            OBJECT [2324,2501]
                                                FIELD [2325,2345]
                                                    String: "name" [2325,2331]
                                                    STRING [2332,2345]
                                                        String: "Model Tests" [2332,2345]
                                                FIELD [2346,2371]
                                                    String: "runs_on" [2346,2355]
                                                    STRING [2356,2371]
                                                        String: "ubuntu-latest" [2356,2371]
                                                FIELD [2372,2394]
                                                    String: "coverage_report" [2372,2389]
                                                    TRUE [2390,2394]
                                                FIELD [2395,2417]
                                                    String: "torch_platform" [2395,2411]
                                                    STRING [2412,2417]
                                                        String: "cpu" [2412,2417]
                                                FIELD [2418,2500]
                                                    String: "run" [2418,2423]
                                                    STRING [2424,2500]
                                                        String: "cd allennlp-models\nmake test-with-cov COV=allennlp\nmv coverage.xml ../\n" [2424,2500]
                    FIELD [2505,5118]
                        String: "steps" [2505,2512]
                        ARRAY [2513,5118]
                            OBJECT [2514,2544]
                                FIELD [2515,2543]
                                    String: "uses" [2515,2521]
                                    STRING [2522,2543]
                                        String: "actions/checkout@v2" [2522,2543]
                            OBJECT [2545,2681]
                                FIELD [2546,2589]
                                    String: "uses" [2546,2552]
                                    STRING [2553,2589]
                                        String: "conda-incubator/setup-miniconda@v2" [2553,2589]
                                FIELD [2590,2680]
                                    String: "with" [2590,2596]
                                    OBJECT [2597,2680]
                                        FIELD [2598,2626]
                                            String: "miniconda-version" [2598,2617]
                                            STRING [2618,2626]
                                                String: "latest" [2618,2626]
                                        FIELD [2627,2679]
                                            String: "python-version" [2627,2643]
                                            STRING [2644,2679]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [2644,2679]
                            OBJECT [2682,3004]
                                FIELD [2683,2711]
                                    String: "name" [2683,2689]
                                    STRING [2690,2711]
                                        String: "Set build variables" [2690,2711]
                                FIELD [2712,3003]
                                    String: "run" [2712,2717]
                                    STRING [2718,3003]
                                        String: "# Get the exact Python version to use in the cache key.\necho \"PYTHON_VERSION=$(python --version)\" >> $GITHUB_ENV\necho \"RUNNER_ARCH=$(uname -m)\" >> $GITHUB_ENV\n# Use week number in cache key so we can refresh the cache weekly.\necho \"WEEK_NUMBER=$(date +%V)\" >> $GITHUB_ENV\n" [2718,3003]
                            OBJECT [3005,3156]
                                FIELD [3006,3045]
                                    String: "name" [3006,3012]
                                    STRING [3013,3045]
                                        String: "Set build variables (CPU only)" [3013,3045]
                                FIELD [3046,3088]
                                    String: "if" [3046,3050]
                                    STRING [3051,3088]
                                        String: "matrix.task.torch_platform == 'cpu'" [3051,3088]
                                FIELD [3089,3155]
                                    String: "run" [3089,3094]
                                    STRING [3095,3155]
                                        String: "echo \"TORCH_INSTALL=$TORCH_CPU_INSTALL\" >> $GITHUB_ENV\n" [3095,3155]
                            OBJECT [3157,3308]
                                FIELD [3158,3197]
                                    String: "name" [3158,3164]
                                    STRING [3165,3197]
                                        String: "Set build variables (GPU only)" [3165,3197]
                                FIELD [3198,3240]
                                    String: "if" [3198,3202]
                                    STRING [3203,3240]
                                        String: "matrix.task.torch_platform == 'gpu'" [3203,3240]
                                FIELD [3241,3307]
                                    String: "run" [3241,3246]
                                    STRING [3247,3307]
                                        String: "echo \"TORCH_INSTALL=$TORCH_GPU_INSTALL\" >> $GITHUB_ENV\n" [3247,3307]
                            OBJECT [3309,3606]
                                FIELD [3310,3335]
                                    String: "uses" [3310,3316]
                                    STRING [3317,3335]
                                        String: "actions/cache@v2" [3317,3335]
                                FIELD [3336,3359]
                                    String: "id" [3336,3340]
                                    STRING [3341,3359]
                                        String: "virtualenv-cache" [3341,3359]
                                FIELD [3360,3605]
                                    String: "with" [3360,3366]
                                    OBJECT [3367,3605]
                                        FIELD [3368,3382]
                                            String: "path" [3368,3374]
                                            STRING [3375,3382]
                                                String: ".venv" [3375,3382]
                                        FIELD [3383,3604]
                                            String: "key" [3383,3388]
                                            STRING [3389,3604]
                                                String: "${{ env.CACHE_PREFIX }}-${{ env.WEEK_NUMBER }}-${{ runner.os }}-${{ env.RUNNER_ARCH }}-${{ env.PYTHON_VERSION }}-${{ matrix.task.torch_platform }}-${{ hashFiles('setup.py') }}-${{ hashFiles('*requirements.txt') }}" [3389,3604]
                            OBJECT [3607,3863]
                                FIELD [3608,3657]
                                    String: "name" [3608,3614]
                                    STRING [3615,3657]
                                        String: "Setup virtual environment (no cache hit)" [3615,3657]
                                FIELD [3658,3715]
                                    String: "if" [3658,3662]
                                    STRING [3663,3715]
                                        String: "steps.virtualenv-cache.outputs.cache-hit != 'true'" [3663,3715]
                                FIELD [3716,3862]
                                    String: "run" [3716,3721]
                                    STRING [3722,3862]
                                        String: "conda create -y -p .venv python=${{ env.DEFAULT_PYTHON_VERSION }}\nconda activate ./.venv\nmake install TORCH_INSTALL=\"$TORCH_INSTALL\"\n" [3722,3862]
                            OBJECT [3864,4058]
                                FIELD [3865,3911]
                                    String: "name" [3865,3871]
                                    STRING [3872,3911]
                                        String: "Setup virtual environment (cache hit)" [3872,3911]
                                FIELD [3912,3969]
                                    String: "if" [3912,3916]
                                    STRING [3917,3969]
                                        String: "steps.virtualenv-cache.outputs.cache-hit == 'true'" [3917,3969]
                                FIELD [3970,4057]
                                    String: "run" [3970,3975]
                                    STRING [3976,4057]
                                        String: "conda activate ./.venv\npip install --no-deps -e .[all]\nmake download-extras\n" [3976,4057]
                            OBJECT [4059,4316]
                                FIELD [4060,4097]
                                    String: "name" [4060,4066]
                                    STRING [4067,4097]
                                        String: "Pull and install models repo" [4067,4097]
                                FIELD [4098,4138]
                                    String: "if" [4098,4102]
                                    STRING [4103,4138]
                                        String: "matrix.task.name == 'Model Tests'" [4103,4138]
                                FIELD [4139,4177]
                                    String: "env" [4139,4144]
                                    OBJECT [4145,4177]
                                        FIELD [4146,4176]
                                            String: "ALLENNLP_VERSION_OVERRIDE" [4146,4173]
                                            STRING [4174,4176]
                                                String: "" [4174,4176]
                                FIELD [4178,4315]
                                    String: "run" [4178,4183]
                                    STRING [4184,4315]
                                        String: "conda activate ./.venv\ngit clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models\npip install -e .[dev,all]\n" [4184,4315]
                            OBJECT [4317,4383]
                                FIELD [4318,4337]
                                    String: "name" [4318,4324]
                                    STRING [4325,4337]
                                        String: "Debug info" [4325,4337]
                                FIELD [4338,4382]
                                    String: "run" [4338,4343]
                                    STRING [4344,4382]
                                        String: "conda activate ./.venv\nconda list\n" [4344,4382]
                            OBJECT [4384,4490]
                                FIELD [4385,4417]
                                    String: "name" [4385,4391]
                                    STRING [4392,4417]
                                        String: "Ensure torch up-to-date" [4392,4417]
                                FIELD [4418,4489]
                                    String: "run" [4418,4423]
                                    STRING [4424,4489]
                                        String: "conda activate ./.venv\npython scripts/check_torch_version.py\n" [4424,4489]
                            OBJECT [4491,4582]
                                FIELD [4492,4524]
                                    String: "name" [4492,4498]
                                    STRING [4499,4524]
                                        String: "${{ matrix.task.name }}" [4499,4524]
                                FIELD [4525,4581]
                                    String: "run" [4525,4530]
                                    STRING [4531,4581]
                                        String: "conda activate ./.venv\n${{ matrix.task.run }}\n" [4531,4581]
                            OBJECT [4583,4704]
                                FIELD [4584,4616]
                                    String: "name" [4584,4590]
                                    STRING [4591,4616]
                                        String: "Prepare coverage report" [4591,4616]
                                FIELD [4617,4651]
                                    String: "if" [4617,4621]
                                    STRING [4622,4651]
                                        String: "matrix.task.coverage_report" [4622,4651]
                                FIELD [4652,4703]
                                    String: "run" [4652,4657]
                                    STRING [4658,4703]
                                        String: "mkdir coverage\nmv coverage.xml coverage/\n" [4658,4703]
                            OBJECT [4705,4878]
                                FIELD [4706,4735]
                                    String: "name" [4706,4712]
                                    STRING [4713,4735]
                                        String: "Save coverage report" [4713,4735]
                                FIELD [4736,4770]
                                    String: "if" [4736,4740]
                                    STRING [4741,4770]
                                        String: "matrix.task.coverage_report" [4741,4770]
                                FIELD [4771,4806]
                                    String: "uses" [4771,4777]
                                    STRING [4778,4806]
                                        String: "actions/upload-artifact@v1" [4778,4806]
                                FIELD [4807,4877]
                                    String: "with" [4807,4813]
                                    OBJECT [4814,4877]
                                        FIELD [4815,4856]
                                            String: "name" [4815,4821]
                                            STRING [4822,4856]
                                                String: "${{ matrix.task.name }}-coverage" [4822,4856]
                                        FIELD [4857,4876]
                                            String: "path" [4857,4863]
                                            STRING [4864,4876]
                                                String: "./coverage" [4864,4876]
                            OBJECT [4879,5117]
                                FIELD [4880,4897]
                                    String: "name" [4880,4886]
                                    STRING [4887,4897]
                                        String: "Clean up" [4887,4897]
                                FIELD [4898,4913]
                                    String: "if" [4898,4902]
                                    STRING [4903,4913]
                                        String: "always()" [4903,4913]
                                FIELD [4914,5116]
                                    String: "run" [4914,4919]
                                    STRING [4920,5116]
                                        String: "# Could run into issues with the cache if we don't uninstall the editable.\n# See https://github.com/pypa/pip/issues/4537.\nconda activate ./.venv\npip uninstall --yes allennlp allennlp-models\n" [4920,5116]
            FIELD [5120,6079]
                String: "upload_coverage" [5120,5137]
                OBJECT [5138,6079]
                    FIELD [5139,5170]
                        String: "name" [5139,5145]
                        STRING [5146,5170]
                            String: "Upload Coverage Report" [5146,5170]
                    FIELD [5171,5190]
                        String: "timeout-minutes" [5171,5188]
                        NUMBER [5189,5190]
                            Number: 5 [5189,5190]
                    FIELD [5191,5309]
                        String: "if" [5191,5195]
                        STRING [5196,5309]
                            String: "github.repository == 'allenai/allennlp' && (github.event_name == 'push' || github.event_name == 'pull_request')" [5196,5309]
                    FIELD [5310,5335]
                        String: "runs-on" [5310,5319]
                        STRING [5320,5335]
                            String: "ubuntu-latest" [5320,5335]
                    FIELD [5336,5354]
                        String: "needs" [5336,5343]
                        ARRAY [5344,5354]
                            STRING [5345,5353]
                                String: "checks" [5345,5353]
                    FIELD [5355,6078]
                        String: "steps" [5355,5362]
                        ARRAY [5363,6078]
                            OBJECT [5364,5394]
                                FIELD [5365,5393]
                                    String: "uses" [5365,5371]
                                    STRING [5372,5393]
                                        String: "actions/checkout@v2" [5372,5393]
                            OBJECT [5395,5548]
                                FIELD [5396,5444]
                                    String: "name" [5396,5402]
                                    STRING [5403,5444]
                                        String: "Download coverage report from CPU tests" [5403,5444]
                                FIELD [5445,5482]
                                    String: "uses" [5445,5451]
                                    STRING [5452,5482]
                                        String: "actions/download-artifact@v1" [5452,5482]
                                FIELD [5483,5547]
                                    String: "with" [5483,5489]
                                    OBJECT [5490,5547]
                                        FIELD [5491,5518]
                                            String: "name" [5491,5497]
                                            STRING [5498,5518]
                                                String: "CPU Tests-coverage" [5498,5518]
                                        FIELD [5519,5546]
                                            String: "path" [5519,5525]
                                            STRING [5526,5546]
                                                String: "coverage/cpu_tests" [5526,5546]
                            OBJECT [5549,5702]
                                FIELD [5550,5598]
                                    String: "name" [5550,5556]
                                    STRING [5557,5598]
                                        String: "Download coverage report from GPU Tests" [5557,5598]
                                FIELD [5599,5636]
                                    String: "uses" [5599,5605]
                                    STRING [5606,5636]
                                        String: "actions/download-artifact@v1" [5606,5636]
                                FIELD [5637,5701]
                                    String: "with" [5637,5643]
                                    OBJECT [5644,5701]
                                        FIELD [5645,5672]
                                            String: "name" [5645,5651]
                                            STRING [5652,5672]
                                                String: "GPU Tests-coverage" [5652,5672]
                                        FIELD [5673,5700]
                                            String: "path" [5673,5679]
                                            STRING [5680,5700]
                                                String: "coverage/gpu_tests" [5680,5700]
                            OBJECT [5703,5862]
                                FIELD [5704,5754]
                                    String: "name" [5704,5710]
                                    STRING [5711,5754]
                                        String: "Download coverage report from model tests" [5711,5754]
                                FIELD [5755,5792]
                                    String: "uses" [5755,5761]
                                    STRING [5762,5792]
                                        String: "actions/download-artifact@v1" [5762,5792]
                                FIELD [5793,5861]
                                    String: "with" [5793,5799]
                                    OBJECT [5800,5861]
                                        FIELD [5801,5830]
                                            String: "name" [5801,5807]
                                            STRING [5808,5830]
                                                String: "Model Tests-coverage" [5808,5830]
                                        FIELD [5831,5860]
                                            String: "path" [5831,5837]
                                            STRING [5838,5860]
                                                String: "coverage/model_tests" [5838,5860]
                            OBJECT [5863,6077]
                                FIELD [5864,5899]
                                    String: "name" [5864,5870]
                                    STRING [5871,5899]
                                        String: "Upload coverage to Codecov" [5871,5899]
                                FIELD [5900,5934]
                                    String: "uses" [5900,5906]
                                    STRING [5907,5934]
                                        String: "codecov/codecov-action@v1" [5907,5934]
                                FIELD [5935,6076]
                                    String: "with" [5935,5941]
                                    OBJECT [5942,6076]
                                        FIELD [5943,6050]
                                            String: "files" [5943,5950]
                                            STRING [5951,6050]
                                                String: "coverage/cpu_tests/coverage.xml,coverage/gpu_tests/coverage.xml,coverage/model_tests/coverage.xml" [5951,6050]
                                        FIELD [6051,6075]
                                            String: "fail_ci_if_error" [6051,6069]
                                            FALSE [6070,6075]
            FIELD [6080,8795]
                String: "build_package" [6080,6095]
                OBJECT [6096,8795]
                    FIELD [6097,6119]
                        String: "name" [6097,6103]
                        STRING [6104,6119]
                            String: "Build Package" [6104,6119]
                    FIELD [6120,6140]
                        String: "timeout-minutes" [6120,6137]
                        NUMBER [6138,6140]
                            Number: 18 [6138,6140]
                    FIELD [6141,6166]
                        String: "runs-on" [6141,6150]
                        STRING [6151,6166]
                            String: "ubuntu-latest" [6151,6166]
                    FIELD [6167,8794]
                        String: "steps" [6167,6174]
                        ARRAY [6175,8794]
                            OBJECT [6176,6206]
                                FIELD [6177,6205]
                                    String: "uses" [6177,6183]
                                    STRING [6184,6205]
                                        String: "actions/checkout@v2" [6184,6205]
                            OBJECT [6207,6343]
                                FIELD [6208,6251]
                                    String: "uses" [6208,6214]
                                    STRING [6215,6251]
                                        String: "conda-incubator/setup-miniconda@v2" [6215,6251]
                                FIELD [6252,6342]
                                    String: "with" [6252,6258]
                                    OBJECT [6259,6342]
                                        FIELD [6260,6288]
                                            String: "miniconda-version" [6260,6279]
                                            STRING [6280,6288]
                                                String: "latest" [6280,6288]
                                        FIELD [6289,6341]
                                            String: "python-version" [6289,6305]
                                            STRING [6306,6341]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [6306,6341]
                            OBJECT [6344,6599]
                                FIELD [6345,6373]
                                    String: "name" [6345,6351]
                                    STRING [6352,6373]
                                        String: "Set build variables" [6352,6373]
                                FIELD [6374,6598]
                                    String: "run" [6374,6379]
                                    STRING [6380,6598]
                                        String: "echo \"PYTHON_VERSION=$(python --version)\" >> $GITHUB_ENV\necho \"RUNNER_ARCH=$(uname -m)\" >> $GITHUB_ENV\necho \"WEEK_NUMBER=$(date +%V)\" >> $GITHUB_ENV\necho \"TORCH_INSTALL=$TORCH_CPU_INSTALL\" >> $GITHUB_ENV\n" [6380,6598]
                            OBJECT [6600,6867]
                                FIELD [6601,6626]
                                    String: "uses" [6601,6607]
                                    STRING [6608,6626]
                                        String: "actions/cache@v2" [6608,6626]
                                FIELD [6627,6650]
                                    String: "id" [6627,6631]
                                    STRING [6632,6650]
                                        String: "virtualenv-cache" [6632,6650]
                                FIELD [6651,6866]
                                    String: "with" [6651,6657]
                                    OBJECT [6658,6866]
                                        FIELD [6659,6673]
                                            String: "path" [6659,6665]
                                            STRING [6666,6673]
                                                String: ".venv" [6666,6673]
                                        FIELD [6674,6865]
                                            String: "key" [6674,6679]
                                            STRING [6680,6865]
                                                String: "${{ env.CACHE_PREFIX }}-${{ env.WEEK_NUMBER }}-${{ runner.os }}-${{ env.RUNNER_ARCH }}-${{ env.PYTHON_VERSION }}-cpu-${{ hashFiles('setup.py') }}-${{ hashFiles('*requirements.txt') }}" [6680,6865]
                            OBJECT [6868,7124]
                                FIELD [6869,6918]
                                    String: "name" [6869,6875]
                                    STRING [6876,6918]
                                        String: "Setup virtual environment (no cache hit)" [6876,6918]
                                FIELD [6919,6976]
                                    String: "if" [6919,6923]
                                    STRING [6924,6976]
                                        String: "steps.virtualenv-cache.outputs.cache-hit != 'true'" [6924,6976]
                                FIELD [6977,7123]
                                    String: "run" [6977,6982]
                                    STRING [6983,7123]
                                        String: "conda create -y -p .venv python=${{ env.DEFAULT_PYTHON_VERSION }}\nconda activate ./.venv\nmake install TORCH_INSTALL=\"$TORCH_INSTALL\"\n" [6983,7123]
                            OBJECT [7125,7319]
                                FIELD [7126,7172]
                                    String: "name" [7126,7132]
                                    STRING [7133,7172]
                                        String: "Setup virtual environment (cache hit)" [7133,7172]
                                FIELD [7173,7230]
                                    String: "if" [7173,7177]
                                    STRING [7178,7230]
                                        String: "steps.virtualenv-cache.outputs.cache-hit == 'true'" [7178,7230]
                                FIELD [7231,7318]
                                    String: "run" [7231,7236]
                                    STRING [7237,7318]
                                        String: "conda activate ./.venv\npip install --no-deps -e .[all]\nmake download-extras\n" [7237,7318]
                            OBJECT [7320,7386]
                                FIELD [7321,7340]
                                    String: "name" [7321,7327]
                                    STRING [7328,7340]
                                        String: "Debug info" [7328,7340]
                                FIELD [7341,7385]
                                    String: "run" [7341,7346]
                                    STRING [7347,7385]
                                        String: "conda activate ./.venv\npip freeze\n" [7347,7385]
                            OBJECT [7387,8048]
                                FIELD [7388,7426]
                                    String: "name" [7388,7394]
                                    STRING [7395,7426]
                                        String: "Check and set nightly version" [7395,7426]
                                FIELD [7427,7465]
                                    String: "if" [7427,7431]
                                    STRING [7432,7465]
                                        String: "github.event_name == 'schedule'" [7432,7465]
                                FIELD [7466,8047]
                                    String: "run" [7466,7471]
                                    STRING [7472,8047]
                                        String: "# Verify that current version is ahead of the last release.\nconda activate ./.venv\nLATEST=$(scripts/get_version.py latest)\nCURRENT=$(scripts/get_version.py current)\nif [ \"$CURRENT\" == \"$LATEST\" ]; then\n    echo \"Current version needs to be ahead of latest release in order to build nightly release\";\n    exit 1;\nfi\n# This is somewhat bizarre, but you can't set env variables to bash\n# commands in the action workflow - so we have to use this odd way of\n# exporting a variable instead.\necho \"ALLENNLP_VERSION_SUFFIX=dev$(date -u +%Y%m%d)\" >> $GITHUB_ENV\n" [7472,8047]
                            OBJECT [8049,8427]
                                FIELD [8050,8094]
                                    String: "name" [8050,8056]
                                    STRING [8057,8094]
                                        String: "Check version and release tag match" [8057,8094]
                                FIELD [8095,8132]
                                    String: "if" [8095,8099]
                                    STRING [8100,8132]
                                        String: "github.event_name == 'release'" [8100,8132]
                                FIELD [8133,8426]
                                    String: "run" [8133,8138]
                                    STRING [8139,8426]
                                        String: "# Remove 'refs/tags/' to get the actual tag from the release.\nconda activate ./.venv\nTAG=${GITHUB_REF#refs/tags/};\nVERSION=$(scripts/get_version.py current)\nif [ \"$TAG\" != \"$VERSION\" ]; then\n    echo \"Bad tag or version. Tag $TAG does not match $VERSION\";\n    exit 1;\nfi\n" [8139,8426]
                            OBJECT [8428,8584]
                                FIELD [8429,8456]
                                    String: "name" [8429,8435]
                                    STRING [8436,8456]
                                        String: "Build core package" [8436,8456]
                                FIELD [8457,8583]
                                    String: "run" [8457,8462]
                                    STRING [8463,8583]
                                        String: "# Just print out the version for debugging.\nconda activate ./.venv\nmake version\npython setup.py bdist_wheel sdist\n" [8463,8583]
                            OBJECT [8585,8694]
                                FIELD [8586,8612]
                                    String: "name" [8586,8592]
                                    STRING [8593,8612]
                                        String: "Save core package" [8593,8612]
                                FIELD [8613,8648]
                                    String: "uses" [8613,8619]
                                    STRING [8620,8648]
                                        String: "actions/upload-artifact@v1" [8620,8648]
                                FIELD [8649,8693]
                                    String: "with" [8649,8655]
                                    OBJECT [8656,8693]
                                        FIELD [8657,8678]
                                            String: "name" [8657,8663]
                                            STRING [8664,8678]
                                                String: "core-package" [8664,8678]
                                        FIELD [8679,8692]
                                            String: "path" [8679,8685]
                                            STRING [8686,8692]
                                                String: "dist" [8686,8692]
                            OBJECT [8695,8793]
                                FIELD [8696,8713]
                                    String: "name" [8696,8702]
                                    STRING [8703,8713]
                                        String: "Clean up" [8703,8713]
                                FIELD [8714,8729]
                                    String: "if" [8714,8718]
                                    STRING [8719,8729]
                                        String: "always()" [8719,8729]
                                FIELD [8730,8792]
                                    String: "run" [8730,8735]
                                    STRING [8736,8792]
                                        String: "conda activate ./.venv\npip uninstall --yes allennlp\n" [8736,8792]
            FIELD [8796,9640]
                String: "test_package" [8796,8810]
                OBJECT [8811,9640]
                    FIELD [8812,8833]
                        String: "name" [8812,8818]
                        STRING [8819,8833]
                            String: "Test Package" [8819,8833]
                    FIELD [8834,8854]
                        String: "timeout-minutes" [8834,8851]
                        NUMBER [8852,8854]
                            Number: 10 [8852,8854]
                    FIELD [8855,8880]
                        String: "needs" [8855,8862]
                        ARRAY [8863,8880]
                            STRING [8864,8879]
                                String: "build_package" [8864,8879]
                    FIELD [8881,8906]
                        String: "runs-on" [8881,8890]
                        STRING [8891,8906]
                            String: "ubuntu-latest" [8891,8906]
                    FIELD [8907,8959]
                        String: "strategy" [8907,8917]
                        OBJECT [8918,8959]
                            FIELD [8919,8958]
                                String: "matrix" [8919,8927]
                                OBJECT [8928,8958]
                                    FIELD [8929,8957]
                                        String: "python" [8929,8937]
                                        ARRAY [8938,8957]
                                            STRING [8939,8944]
                                                String: "3.7" [8939,8944]
                                            STRING [8945,8950]
                                                String: "3.8" [8945,8950]
                                            STRING [8951,8956]
                                                String: "3.9" [8951,8956]
                    FIELD [8960,9639]
                        String: "steps" [8960,8967]
                        ARRAY [8968,9639]
                            OBJECT [8969,8999]
                                FIELD [8970,8998]
                                    String: "uses" [8970,8976]
                                    STRING [8977,8998]
                                        String: "actions/checkout@v2" [8977,8998]
                            OBJECT [9000,9105]
                                FIELD [9001,9022]
                                    String: "name" [9001,9007]
                                    STRING [9008,9022]
                                        String: "Setup Python" [9008,9022]
                                FIELD [9023,9055]
                                    String: "uses" [9023,9029]
                                    STRING [9030,9055]
                                        String: "actions/setup-python@v2" [9030,9055]
                                FIELD [9056,9104]
                                    String: "with" [9056,9062]
                                    OBJECT [9063,9104]
                                        FIELD [9064,9103]
                                            String: "python-version" [9064,9080]
                                            STRING [9081,9103]
                                                String: "${{ matrix.python }}" [9081,9103]
                            OBJECT [9106,9190]
                                FIELD [9107,9136]
                                    String: "name" [9107,9113]
                                    STRING [9114,9136]
                                        String: "Install requirements" [9114,9136]
                                FIELD [9137,9189]
                                    String: "run" [9137,9142]
                                    STRING [9143,9189]
                                        String: "pip install --upgrade pip setuptools wheel\n" [9143,9189]
                            OBJECT [9191,9306]
                                FIELD [9192,9222]
                                    String: "name" [9192,9198]
                                    STRING [9199,9222]
                                        String: "Download core package" [9199,9222]
                                FIELD [9223,9260]
                                    String: "uses" [9223,9229]
                                    STRING [9230,9260]
                                        String: "actions/download-artifact@v1" [9230,9260]
                                FIELD [9261,9305]
                                    String: "with" [9261,9267]
                                    OBJECT [9268,9305]
                                        FIELD [9269,9290]
                                            String: "name" [9269,9275]
                                            STRING [9276,9290]
                                                String: "core-package" [9276,9290]
                                        FIELD [9291,9304]
                                            String: "path" [9291,9297]
                                            STRING [9298,9304]
                                                String: "dist" [9298,9304]
                            OBJECT [9307,9382]
                                FIELD [9308,9337]
                                    String: "name" [9308,9314]
                                    STRING [9315,9337]
                                        String: "Install core package" [9315,9337]
                                FIELD [9338,9381]
                                    String: "run" [9338,9343]
                                    STRING [9344,9381]
                                        String: "pip install $(ls dist/*.whl)[all]\n" [9344,9381]
                            OBJECT [9383,9452]
                                FIELD [9384,9420]
                                    String: "name" [9384,9390]
                                    STRING [9391,9420]
                                        String: "Download NLTK prerequisites" [9391,9420]
                                FIELD [9421,9451]
                                    String: "run" [9421,9426]
                                    STRING [9427,9451]
                                        String: "make download-extras\n" [9427,9451]
                            OBJECT [9453,9539]
                                FIELD [9454,9480]
                                    String: "name" [9454,9460]
                                    STRING [9461,9480]
                                        String: "Cleanup workspace" [9461,9480]
                                FIELD [9481,9538]
                                    String: "run" [9481,9486]
                                    STRING [9487,9538]
                                        String: "rm -rf allennlp/ setup.py tests/ test_fixtures/\n" [9487,9538]
                            OBJECT [9540,9582]
                                FIELD [9541,9560]
                                    String: "name" [9541,9547]
                                    STRING [9548,9560]
                                        String: "Pip freeze" [9548,9560]
                                FIELD [9561,9581]
                                    String: "run" [9561,9566]
                                    STRING [9567,9581]
                                        String: "pip freeze\n" [9567,9581]
                            OBJECT [9583,9638]
                                FIELD [9584,9605]
                                    String: "name" [9584,9590]
                                    STRING [9591,9605]
                                        String: "Test install" [9591,9605]
                                FIELD [9606,9637]
                                    String: "run" [9606,9611]
                                    STRING [9612,9637]
                                        String: "allennlp test-install\n" [9612,9637]
            FIELD [9641,11244]
                String: "docker" [9641,9649]
                OBJECT [9650,11244]
                    FIELD [9651,9692]
                        String: "name" [9651,9657]
                        STRING [9658,9692]
                            String: "Docker (CUDA ${{ matrix.cuda }})" [9658,9692]
                    FIELD [9693,9713]
                        String: "timeout-minutes" [9693,9710]
                        NUMBER [9711,9713]
                            Number: 18 [9711,9713]
                    FIELD [9714,9760]
                        String: "if" [9714,9718]
                        STRING [9719,9760]
                            String: "github.repository == 'allenai/allennlp'" [9719,9760]
                    FIELD [9761,9786]
                        String: "runs-on" [9761,9770]
                        STRING [9771,9786]
                            String: "ubuntu-latest" [9771,9786]
                    FIELD [9787,9826]
                        String: "strategy" [9787,9797]
                        OBJECT [9798,9826]
                            FIELD [9799,9825]
                                String: "matrix" [9799,9807]
                                OBJECT [9808,9825]
                                    FIELD [9809,9824]
                                        String: "cuda" [9809,9815]
                                        ARRAY [9816,9824]
                                            STRING [9817,9823]
                                                String: "11.3" [9817,9823]
                    FIELD [9827,11243]
                        String: "steps" [9827,9834]
                        ARRAY [9835,11243]
                            OBJECT [9836,9866]
                                FIELD [9837,9865]
                                    String: "uses" [9837,9843]
                                    STRING [9844,9865]
                                        String: "actions/checkout@v2" [9844,9865]
                            OBJECT [9867,10282]
                                FIELD [9868,9909]
                                    String: "name" [9868,9874]
                                    STRING [9875,9909]
                                        String: "Set image name and torch version" [9875,9909]
                                FIELD [9910,9945]
                                    String: "env" [9910,9915]
                                    OBJECT [9916,9945]
                                        FIELD [9917,9944]
                                            String: "CUDA" [9917,9923]
                                            STRING [9924,9944]
                                                String: "${{ matrix.cuda }}" [9924,9944]
                                FIELD [9946,10281]
                                    String: "run" [9946,9951]
                                    STRING [9952,10281]
                                        String: "echo \"DOCKER_TORCH_VERSION=${TORCH_VERSION}-cuda${CUDA}\" >> $GITHUB_ENV;\nif [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCKER_IMAGE_NAME=allennlp/allennlp:${GITHUB_REF#refs/tags/}-cuda${CUDA}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCKER_IMAGE_NAME=allennlp/commit:${GITHUB_SHA}-cuda${CUDA}\" >> $GITHUB_ENV;\nfi\n" [9952,10281]
                            OBJECT [10283,10421]
                                FIELD [10284,10304]
                                    String: "name" [10284,10290]
                                    STRING [10291,10304]
                                        String: "Build image" [10291,10304]
                                FIELD [10305,10420]
                                    String: "run" [10305,10310]
                                    STRING [10311,10420]
                                        String: "make docker-image DOCKER_IMAGE_NAME=\"$DOCKER_IMAGE_NAME\" DOCKER_TORCH_VERSION=\"$DOCKER_TORCH_VERSION\"\n" [10311,10420]
                            OBJECT [10422,10501]
                                FIELD [10423,10442]
                                    String: "name" [10423,10429]
                                    STRING [10430,10442]
                                        String: "Test image" [10430,10442]
                                FIELD [10443,10500]
                                    String: "run" [10443,10448]
                                    STRING [10449,10500]
                                        String: "docker run --rm $DOCKER_IMAGE_NAME test-install\n" [10449,10500]
                            OBJECT [10502,10699]
                                FIELD [10503,10538]
                                    String: "name" [10503,10509]
                                    STRING [10510,10538]
                                        String: "Authenticate to Docker Hub" [10510,10538]
                                FIELD [10539,10607]
                                    String: "if" [10539,10543]
                                    STRING [10544,10607]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [10544,10607]
                                FIELD [10608,10698]
                                    String: "run" [10608,10613]
                                    STRING [10614,10698]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\n" [10614,10698]
                            OBJECT [10700,10833]
                                FIELD [10701,10722]
                                    String: "name" [10701,10707]
                                    STRING [10708,10722]
                                        String: "Upload image" [10708,10722]
                                FIELD [10723,10791]
                                    String: "if" [10723,10727]
                                    STRING [10728,10791]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [10728,10791]
                                FIELD [10792,10832]
                                    String: "run" [10792,10797]
                                    STRING [10798,10832]
                                        String: "docker push $DOCKER_IMAGE_NAME\n" [10798,10832]
                            OBJECT [10834,11045]
                                FIELD [10835,10871]
                                    String: "name" [10835,10841]
                                    STRING [10842,10871]
                                        String: "Upload default commit image" [10842,10871]
                                FIELD [10872,10931]
                                    String: "if" [10872,10876]
                                    STRING [10877,10931]
                                        String: "github.event_name == 'push' && matrix.cuda == '11.3'" [10877,10931]
                                FIELD [10932,11044]
                                    String: "run" [10932,10937]
                                    STRING [10938,11044]
                                        String: "docker tag $DOCKER_IMAGE_NAME allennlp/commit:${GITHUB_SHA}\ndocker push allennlp/commit:${GITHUB_SHA}\n" [10938,11044]
                            OBJECT [11046,11242]
                                FIELD [11047,11075]
                                    String: "name" [11047,11053]
                                    STRING [11054,11075]
                                        String: "Upload latest image" [11054,11075]
                                FIELD [11076,11138]
                                    String: "if" [11076,11080]
                                    STRING [11081,11138]
                                        String: "github.event_name == 'release' && matrix.cuda == '11.3'" [11081,11138]
                                FIELD [11139,11241]
                                    String: "run" [11139,11144]
                                    STRING [11145,11241]
                                        String: "docker tag $DOCKER_IMAGE_NAME allennlp/allennlp:latest\ndocker push allennlp/allennlp:latest\n" [11145,11241]
            FIELD [11245,15709]
                String: "docs" [11245,11251]
                OBJECT [11252,15709]
                    FIELD [11253,11266]
                        String: "name" [11253,11259]
                        STRING [11260,11266]
                            String: "Docs" [11260,11266]
                    FIELD [11267,11287]
                        String: "timeout-minutes" [11267,11284]
                        NUMBER [11285,11287]
                            Number: 15 [11285,11287]
                    FIELD [11288,11334]
                        String: "if" [11288,11292]
                        STRING [11293,11334]
                            String: "github.repository == 'allenai/allennlp'" [11293,11334]
                    FIELD [11335,11360]
                        String: "runs-on" [11335,11344]
                        STRING [11345,11360]
                            String: "ubuntu-latest" [11345,11360]
                    FIELD [11361,15708]
                        String: "steps" [11361,11368]
                        ARRAY [11369,15708]
                            OBJECT [11370,11400]
                                FIELD [11371,11399]
                                    String: "uses" [11371,11377]
                                    STRING [11378,11399]
                                        String: "actions/checkout@v1" [11378,11399]
                            OBJECT [11401,11597]
                                FIELD [11402,11430]
                                    String: "name" [11402,11408]
                                    STRING [11409,11430]
                                        String: "Setup SSH Client " [11409,11430]
                                FIELD [11431,11499]
                                    String: "if" [11431,11435]
                                    STRING [11436,11499]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [11436,11499]
                                FIELD [11500,11536]
                                    String: "uses" [11500,11506]
                                    STRING [11507,11536]
                                        String: "webfactory/ssh-agent@v0.4.1" [11507,11536]
                                FIELD [11537,11596]
                                    String: "with" [11537,11543]
                                    OBJECT [11544,11596]
                                        FIELD [11545,11595]
                                            String: "ssh-private-key" [11545,11562]
                                            STRING [11563,11595]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [11563,11595]
                            OBJECT [11598,11734]
                                FIELD [11599,11642]
                                    String: "uses" [11599,11605]
                                    STRING [11606,11642]
                                        String: "conda-incubator/setup-miniconda@v2" [11606,11642]
                                FIELD [11643,11733]
                                    String: "with" [11643,11649]
                                    OBJECT [11650,11733]
                                        FIELD [11651,11679]
                                            String: "miniconda-version" [11651,11670]
                                            STRING [11671,11679]
                                                String: "latest" [11671,11679]
                                        FIELD [11680,11732]
                                            String: "python-version" [11680,11696]
                                            STRING [11697,11732]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [11697,11732]
                            OBJECT [11735,11990]
                                FIELD [11736,11764]
                                    String: "name" [11736,11742]
                                    STRING [11743,11764]
                                        String: "Set build variables" [11743,11764]
                                FIELD [11765,11989]
                                    String: "run" [11765,11770]
                                    STRING [11771,11989]
                                        String: "echo \"PYTHON_VERSION=$(python --version)\" >> $GITHUB_ENV\necho \"RUNNER_ARCH=$(uname -m)\" >> $GITHUB_ENV\necho \"WEEK_NUMBER=$(date +%V)\" >> $GITHUB_ENV\necho \"TORCH_INSTALL=$TORCH_CPU_INSTALL\" >> $GITHUB_ENV\n" [11771,11989]
                            OBJECT [11991,12258]
                                FIELD [11992,12017]
                                    String: "uses" [11992,11998]
                                    STRING [11999,12017]
                                        String: "actions/cache@v2" [11999,12017]
                                FIELD [12018,12041]
                                    String: "id" [12018,12022]
                                    STRING [12023,12041]
                                        String: "virtualenv-cache" [12023,12041]
                                FIELD [12042,12257]
                                    String: "with" [12042,12048]
                                    OBJECT [12049,12257]
                                        FIELD [12050,12064]
                                            String: "path" [12050,12056]
                                            STRING [12057,12064]
                                                String: ".venv" [12057,12064]
                                        FIELD [12065,12256]
                                            String: "key" [12065,12070]
                                            STRING [12071,12256]
                                                String: "${{ env.CACHE_PREFIX }}-${{ env.WEEK_NUMBER }}-${{ runner.os }}-${{ env.RUNNER_ARCH }}-${{ env.PYTHON_VERSION }}-cpu-${{ hashFiles('setup.py') }}-${{ hashFiles('*requirements.txt') }}" [12071,12256]
                            OBJECT [12259,12515]
                                FIELD [12260,12309]
                                    String: "name" [12260,12266]
                                    STRING [12267,12309]
                                        String: "Setup virtual environment (no cache hit)" [12267,12309]
                                FIELD [12310,12367]
                                    String: "if" [12310,12314]
                                    STRING [12315,12367]
                                        String: "steps.virtualenv-cache.outputs.cache-hit != 'true'" [12315,12367]
                                FIELD [12368,12514]
                                    String: "run" [12368,12373]
                                    STRING [12374,12514]
                                        String: "conda create -y -p .venv python=${{ env.DEFAULT_PYTHON_VERSION }}\nconda activate ./.venv\nmake install TORCH_INSTALL=\"$TORCH_INSTALL\"\n" [12374,12514]
                            OBJECT [12516,12710]
                                FIELD [12517,12563]
                                    String: "name" [12517,12523]
                                    STRING [12524,12563]
                                        String: "Setup virtual environment (cache hit)" [12524,12563]
                                FIELD [12564,12621]
                                    String: "if" [12564,12568]
                                    STRING [12569,12621]
                                        String: "steps.virtualenv-cache.outputs.cache-hit == 'true'" [12569,12621]
                                FIELD [12622,12709]
                                    String: "run" [12622,12627]
                                    STRING [12628,12709]
                                        String: "conda activate ./.venv\npip install --no-deps -e .[all]\nmake download-extras\n" [12628,12709]
                            OBJECT [12711,12777]
                                FIELD [12712,12731]
                                    String: "name" [12712,12718]
                                    STRING [12719,12731]
                                        String: "Debug info" [12719,12731]
                                FIELD [12732,12776]
                                    String: "run" [12732,12737]
                                    STRING [12738,12776]
                                        String: "conda activate ./.venv\nconda list\n" [12738,12776]
                            OBJECT [12778,13215]
                                FIELD [12779,12807]
                                    String: "name" [12779,12785]
                                    STRING [12786,12807]
                                        String: "Prepare environment" [12786,12807]
                                FIELD [12808,13214]
                                    String: "run" [12808,12813]
                                    STRING [12814,13214]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCS_FOLDER=${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\n    echo \"BASE_SOURCE_LINK=https://github.com/allenai/allennlp/blob/${GITHUB_REF#refs/tags/}/allennlp/\" >> $GITHUB_ENV;\nelse\n    echo \"DOCS_FOLDER=main\" >> $GITHUB_ENV;\n    echo \"BASE_SOURCE_LINK=https://github.com/allenai/allennlp/blob/main/allennlp/\" >> $GITHUB_ENV;\nfi\n" [12814,13214]
                            OBJECT [13216,13295]
                                FIELD [13217,13236]
                                    String: "name" [13217,13223]
                                    STRING [13224,13236]
                                        String: "Build docs" [13224,13236]
                                FIELD [13237,13294]
                                    String: "run" [13237,13242]
                                    STRING [13243,13294]
                                        String: "conda activate ./.venv\n./scripts/build_docs.sh\n" [13243,13294]
                            OBJECT [13296,13353]
                                FIELD [13297,13319]
                                    String: "name" [13297,13303]
                                    STRING [13304,13319]
                                        String: "Print the ref" [13304,13319]
                                FIELD [13320,13352]
                                    String: "run" [13320,13325]
                                    STRING [13326,13352]
                                        String: "echo ${{ github.ref }}\n" [13326,13352]
                            OBJECT [13354,13639]
                                FIELD [13355,13377]
                                    String: "name" [13355,13361]
                                    STRING [13362,13377]
                                        String: "Configure Git" [13362,13377]
                                FIELD [13378,13483]
                                    String: "if" [13378,13382]
                                    STRING [13383,13483]
                                        String: "github.event_name == 'release' || (github.event_name == 'push' && github.ref == 'refs/heads/main')" [13383,13483]
                                FIELD [13484,13638]
                                    String: "run" [13484,13489]
                                    STRING [13490,13638]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [13490,13638]
                            OBJECT [13640,14107]
                                FIELD [13641,13660]
                                    String: "name" [13641,13647]
                                    STRING [13648,13660]
                                        String: "Stage docs" [13648,13660]
                                FIELD [13661,13766]
                                    String: "if" [13661,13665]
                                    STRING [13666,13766]
                                        String: "github.event_name == 'release' || (github.event_name == 'push' && github.ref == 'refs/heads/main')" [13666,13766]
                                FIELD [13767,14106]
                                    String: "run" [13767,13772]
                                    STRING [13773,14106]
                                        String: "echo \"Staging docs to $DOCS_FOLDER\"\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DOCS_FOLDER/\nmkdir -p ~/allennlp-docs/$DOCS_FOLDER\ncp -r site/* ~/allennlp-docs/$DOCS_FOLDER\n" [13773,14106]
                            OBJECT [14108,15006]
                                FIELD [14109,14134]
                                    String: "name" [14109,14115]
                                    STRING [14116,14134]
                                        String: "Update shortcuts" [14116,14134]
                                FIELD [14135,14172]
                                    String: "if" [14135,14139]
                                    STRING [14140,14172]
                                        String: "github.event_name == 'release'" [14140,14172]
                                FIELD [14173,15005]
                                    String: "run" [14173,14178]
                                    STRING [14179,15005]
                                        String: "# Fail immediately if any step fails.\nset -e\nconda activate ./.venv\n\nLATEST=$(./scripts/get_version.py latest)\nSTABLE=$(./scripts/get_version.py stable)\n\ncd ~/allennlp-docs/\n\necho \"Updating latest/index.html to point to $LATEST\"\nmkdir -p latest\ncat >latest/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${LATEST}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${LATEST}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n\necho \"Updating stable/index.html to point to $STABLE\"\nmkdir -p stable\ncat >stable/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${STABLE}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${STABLE}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n" [14179,15005]
                            OBJECT [15007,15265]
                                FIELD [15008,15028]
                                    String: "name" [15008,15014]
                                    STRING [15015,15028]
                                        String: "Deploy docs" [15015,15028]
                                FIELD [15029,15134]
                                    String: "if" [15029,15033]
                                    STRING [15034,15134]
                                        String: "github.event_name == 'release' || (github.event_name == 'push' && github.ref == 'refs/heads/main')" [15034,15134]
                                FIELD [15135,15264]
                                    String: "run" [15135,15140]
                                    STRING [15141,15264]
                                        String: "# And push them up to GitHub\ncd ~/allennlp-docs/\ngit add -A\ngit commit -m \"automated update of the docs\"\ngit push\n" [15141,15264]
                            OBJECT [15266,15608]
                                FIELD [15267,15304]
                                    String: "name" [15267,15273]
                                    STRING [15274,15304]
                                        String: "Re-write docs commit history" [15274,15304]
                                FIELD [15305,15342]
                                    String: "if" [15305,15309]
                                    STRING [15310,15342]
                                        String: "github.event_name == 'release'" [15310,15342]
                                FIELD [15343,15607]
                                    String: "run" [15343,15348]
                                    STRING [15349,15607]
                                        String: "cd ~/allennlp-docs/\ngit checkout --orphan latest_branch\ngit add -A\ngit commit -m \"Re-write commit history\"\ngit branch -D master  # remove old master branch\ngit branch -m master  # rename clean new branch to master branch\ngit push -f origin master\n" [15349,15607]
                            OBJECT [15609,15707]
                                FIELD [15610,15627]
                                    String: "name" [15610,15616]
                                    STRING [15617,15627]
                                        String: "Clean up" [15617,15627]
                                FIELD [15628,15643]
                                    String: "if" [15628,15632]
                                    STRING [15633,15643]
                                        String: "always()" [15633,15643]
                                FIELD [15644,15706]
                                    String: "run" [15644,15649]
                                    STRING [15650,15706]
                                        String: "conda activate ./.venv\npip uninstall --yes allennlp\n" [15650,15706]
            FIELD [15710,16445]
                String: "publish" [15710,15719]
                OBJECT [15720,16445]
                    FIELD [15721,15734]
                        String: "name" [15721,15727]
                        STRING [15728,15734]
                            String: "PyPI" [15728,15734]
                    FIELD [15735,15755]
                        String: "timeout-minutes" [15735,15752]
                        NUMBER [15753,15755]
                            Number: 10 [15753,15755]
                    FIELD [15756,15829]
                        String: "needs" [15756,15763]
                        ARRAY [15764,15829]
                            STRING [15765,15772]
                                String: "style" [15765,15772]
                            STRING [15773,15781]
                                String: "checks" [15773,15781]
                            STRING [15782,15797]
                                String: "build_package" [15782,15797]
                            STRING [15798,15812]
                                String: "test_package" [15798,15812]
                            STRING [15813,15821]
                                String: "docker" [15813,15821]
                            STRING [15822,15828]
                                String: "docs" [15822,15828]
                    FIELD [15830,15947]
                        String: "if" [15830,15834]
                        STRING [15835,15947]
                            String: "github.repository == 'allenai/allennlp' && (github.event_name == 'release' || github.event_name == 'schedule')" [15835,15947]
                    FIELD [15948,15973]
                        String: "runs-on" [15948,15957]
                        STRING [15958,15973]
                            String: "ubuntu-latest" [15958,15973]
                    FIELD [15974,16444]
                        String: "steps" [15974,15981]
                        ARRAY [15982,16444]
                            OBJECT [15983,16013]
                                FIELD [15984,16012]
                                    String: "uses" [15984,15990]
                                    STRING [15991,16012]
                                        String: "actions/checkout@v2" [15991,16012]
                            OBJECT [16014,16132]
                                FIELD [16015,16036]
                                    String: "name" [16015,16021]
                                    STRING [16022,16036]
                                        String: "Setup Python" [16022,16036]
                                FIELD [16037,16069]
                                    String: "uses" [16037,16043]
                                    STRING [16044,16069]
                                        String: "actions/setup-python@v2" [16044,16069]
                                FIELD [16070,16131]
                                    String: "with" [16070,16076]
                                    OBJECT [16077,16131]
                                        FIELD [16078,16130]
                                            String: "python-version" [16078,16094]
                                            STRING [16095,16130]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [16095,16130]
                            OBJECT [16133,16223]
                                FIELD [16134,16163]
                                    String: "name" [16134,16140]
                                    STRING [16141,16163]
                                        String: "Install requirements" [16141,16163]
                                FIELD [16164,16222]
                                    String: "run" [16164,16169]
                                    STRING [16170,16222]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [16170,16222]
                            OBJECT [16224,16339]
                                FIELD [16225,16255]
                                    String: "name" [16225,16231]
                                    STRING [16232,16255]
                                        String: "Download core package" [16232,16255]
                                FIELD [16256,16293]
                                    String: "uses" [16256,16262]
                                    STRING [16263,16293]
                                        String: "actions/download-artifact@v1" [16263,16293]
                                FIELD [16294,16338]
                                    String: "with" [16294,16300]
                                    OBJECT [16301,16338]
                                        FIELD [16302,16323]
                                            String: "name" [16302,16308]
                                            STRING [16309,16323]
                                                String: "core-package" [16309,16323]
                                        FIELD [16324,16337]
                                            String: "path" [16324,16330]
                                            STRING [16331,16337]
                                                String: "dist" [16331,16337]
                            OBJECT [16340,16443]
                                FIELD [16341,16370]
                                    String: "name" [16341,16347]
                                    STRING [16348,16370]
                                        String: "Publish core package" [16348,16370]
                                FIELD [16371,16442]
                                    String: "run" [16371,16376]
                                    STRING [16377,16442]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [16377,16442]