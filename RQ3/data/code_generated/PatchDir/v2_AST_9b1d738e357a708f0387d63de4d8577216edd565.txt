OBJECT [0,3250]
    FIELD [1,14]
        String: "name" [1,7]
        STRING [8,14]
            String: "main" [8,14]
    FIELD [15,271]
        String: "on" [15,19]
        OBJECT [20,271]
            FIELD [21,32]
                String: "push" [21,27]
                NULL [28,32]
            FIELD [33,52]
                String: "pull_request" [33,47]
                NULL [48,52]
            FIELD [53,270]
                String: "workflow_dispatch" [53,72]
                OBJECT [73,270]
                    FIELD [74,269]
                        String: "inputs" [74,82]
                        OBJECT [83,269]
                            FIELD [84,268]
                                String: "ramp_workflow_url" [84,103]
                                OBJECT [104,268]
                                    FIELD [105,159]
                                        String: "description" [105,118]
                                        STRING [119,159]
                                            String: "pip installable ramp-workflow repo URL" [119,159]
                                    FIELD [160,175]
                                        String: "required" [160,170]
                                        TRUE [171,175]
                                    FIELD [176,267]
                                        String: "default" [176,185]
                                        STRING [186,267]
                                            String: "https://github.com/paris-saclay-cds/ramp-workflow/archive/refs/heads/master.zip" [186,267]
    FIELD [272,3249]
        String: "jobs" [272,278]
        OBJECT [279,3249]
            FIELD [280,2905]
                String: "main" [280,286]
                OBJECT [287,2905]
                    FIELD [288,325]
                        String: "name" [288,294]
                        STRING [295,325]
                            String: "test-py-${{ matrix.python }}" [295,325]
                    FIELD [326,354]
                        String: "runs-on" [326,335]
                        STRING [336,354]
                            String: "${{ matrix.os }}" [336,354]
                    FIELD [355,516]
                        String: "strategy" [355,365]
                        OBJECT [366,516]
                            FIELD [367,515]
                                String: "matrix" [367,375]
                                OBJECT [376,515]
                                    FIELD [377,398]
                                        String: "os" [377,381]
                                        ARRAY [382,398]
                                            STRING [383,397]
                                                String: "ubuntu-20.04" [383,397]
                                    FIELD [399,434]
                                        String: "python" [399,407]
                                        ARRAY [408,434]
                                            STRING [409,414]
                                                String: "3.7" [409,414]
                                            STRING [415,420]
                                                String: "3.8" [415,420]
                                            STRING [421,426]
                                                String: "3.9" [421,426]
                                            STRING [427,433]
                                                String: "3.10" [427,433]
                                    FIELD [435,514]
                                        String: "include" [435,444]
                                        ARRAY [445,514]
                                            OBJECT [446,513]
                                                FIELD [447,466]
                                                    String: "os" [447,451]
                                                    STRING [452,466]
                                                        String: "ubuntu-20.04" [452,466]
                                                FIELD [467,479]
                                                    String: "python" [467,475]
                                                    NUMBER [476,479]
                                                        Number: 3.8 [476,479]
                                                FIELD [480,512]
                                                    String: "ramp_workflow_version" [480,503]
                                                    STRING [504,512]
                                                        String: "master" [504,512]
                    FIELD [517,750]
                        String: "services" [517,527]
                        OBJECT [528,750]
                            FIELD [529,749]
                                String: "postgres" [529,539]
                                OBJECT [540,749]
                                    FIELD [541,571]
                                        String: "image" [541,548]
                                        STRING [549,571]
                                            String: "postgres:11.6-alpine" [549,571]
                                    FIELD [572,593]
                                        String: "ports" [572,579]
                                        ARRAY [580,593]
                                            STRING [581,592]
                                                String: "5432:5432" [581,592]
                                    FIELD [594,651]
                                        String: "env" [594,599]
                                        OBJECT [600,651]
                                            FIELD [601,627]
                                                String: "POSTGRES_USER" [601,616]
                                                STRING [617,627]
                                                    String: "postgres" [617,627]
                                            FIELD [628,650]
                                                String: "POSTGRES_PASSWORD" [628,647]
                                                STRING [648,650]
                                                    String: "" [648,650]
                                    FIELD [652,748]
                                        String: "options" [652,661]
                                        STRING [662,748]
                                            String: "--health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5" [662,748]
                    FIELD [751,2904]
                        String: "steps" [751,758]
                        ARRAY [759,2904]
                            OBJECT [760,790]
                                FIELD [761,789]
                                    String: "uses" [761,767]
                                    STRING [768,789]
                                        String: "actions/checkout@v3" [768,789]
                            OBJECT [791,967]
                                FIELD [792,812]
                                    String: "name" [792,798]
                                    STRING [799,812]
                                        String: "Setup conda" [799,812]
                                FIELD [813,846]
                                    String: "uses" [813,819]
                                    STRING [820,846]
                                        String: "s-weigand/setup-conda@v1" [820,846]
                                FIELD [847,966]
                                    String: "with" [847,853]
                                    OBJECT [854,966]
                                        FIELD [855,874]
                                            String: "update-conda" [855,869]
                                            TRUE [870,874]
                                        FIELD [875,897]
                                            String: "activate-conda" [875,891]
                                            FALSE [892,897]
                                        FIELD [898,937]
                                            String: "python-version" [898,914]
                                            STRING [915,937]
                                                String: "${{ matrix.python }}" [915,937]
                                        FIELD [938,965]
                                            String: "conda-channels" [938,954]
                                            STRING [955,965]
                                                String: "anaconda" [955,965]
                            OBJECT [968,1337]
                                FIELD [969,989]
                                    String: "name" [969,975]
                                    STRING [976,989]
                                        String: "Create envs" [976,989]
                                FIELD [990,1288]
                                    String: "run" [990,995]
                                    STRING [996,1288]
                                        String: "conda install --yes mamba -n base -c conda-forge\nrm -f /usr/share/miniconda/pkgs/cache/*.json # workaround for mamba-org/mamba#488\nmamba create --yes -n testenv python=$PYTHON_VERSION\nmamba env update -n testenv -f environment.yml\nmamba env create -f ci_tools/environment_iris_kit.yml\n" [996,1288]
                                FIELD [1289,1336]
                                    String: "env" [1289,1294]
                                    OBJECT [1295,1336]
                                        FIELD [1296,1335]
                                            String: "PYTHON_VERSION" [1296,1312]
                                            STRING [1313,1335]
                                                String: "${{ matrix.python }}" [1313,1335]
                            OBJECT [1338,1892]
                                FIELD [1339,1366]
                                    String: "name" [1339,1345]
                                    STRING [1346,1366]
                                        String: "Install ramp-board" [1346,1366]
                                FIELD [1367,1843]
                                    String: "run" [1367,1372]
                                    STRING [1373,1843]
                                        String: "source activate testenv\nif [ \"$PYTHON_VERSION\" == \"3.8\" ]; then\n    python -m pip install \"dask==2021.4.1\" \"distributed==2021.4.1\"\nfi\nif [ \"${{ matrix.ramp_workflow_version }}\" == \"master\" ]; then\n   pip install https://github.com/paris-saclay-cds/ramp-workflow/archive/refs/heads/master.zip\nfi\nif [ \"${{ github.event.inputs.ramp_workflow_url }}\" != \"\" ]; then\n   pip install \"${{ github.event.inputs.ramp_workflow_url }}\"\nfi\nmake inplace\n" [1373,1843]
                                FIELD [1844,1891]
                                    String: "env" [1844,1849]
                                    OBJECT [1850,1891]
                                        FIELD [1851,1890]
                                            String: "PYTHON_VERSION" [1851,1867]
                                            STRING [1868,1890]
                                                String: "${{ matrix.python }}" [1868,1890]
                            OBJECT [1893,2164]
                                FIELD [1894,1921]
                                    String: "name" [1894,1900]
                                    STRING [1901,1921]
                                        String: "Test ramp-frontend" [1901,1921]
                                FIELD [1922,2163]
                                    String: "run" [1922,1927]
                                    STRING [1928,2163]
                                        String: "set -e\nsource activate testenv\npython -m smtpd -n -c DebuggingServer 127.0.0.1:8025 &\nsleep 3 # wait for the server to start\npytest -rvsl ramp-frontend --cov=ramp_frontend --cov-report=term-missing --cov-report=xml --cov-append\n" [1928,2163]
                            OBJECT [2165,2335]
                                FIELD [2166,2191]
                                    String: "name" [2166,2172]
                                    STRING [2173,2191]
                                        String: "Test ramp-engine" [2173,2191]
                                FIELD [2192,2334]
                                    String: "run" [2192,2197]
                                    STRING [2198,2334]
                                        String: "set -e\nsource activate testenv\npytest -rvsl ramp-engine/ --cov=ramp_engine --cov-report=term-missing --cov-report=xml --cov-append\n" [2198,2334]
                            OBJECT [2336,2513]
                                FIELD [2337,2364]
                                    String: "name" [2337,2343]
                                    STRING [2344,2364]
                                        String: "Test ramp-database" [2344,2364]
                                FIELD [2365,2512]
                                    String: "run" [2365,2370]
                                    STRING [2371,2512]
                                        String: "set -e\nsource activate testenv\npytest -rvsl ramp-database/ --cov=ramp_database --cov-report=term-missing  --cov-report=xml --cov-append\n" [2371,2512]
                            OBJECT [2514,2681]
                                FIELD [2515,2539]
                                    String: "name" [2515,2521]
                                    STRING [2522,2539]
                                        String: "Test ramp-utils" [2522,2539]
                                FIELD [2540,2680]
                                    String: "run" [2540,2545]
                                    STRING [2546,2680]
                                        String: "set -e\nsource activate testenv\npytest -rvsl ramp-utils/ --cov=ramp_utils --cov-report=term-missing --cov-report=xml --cov-append\n" [2546,2680]
                            OBJECT [2682,2794]
                                FIELD [2683,2708]
                                    String: "name" [2683,2689]
                                    STRING [2690,2708]
                                        String: "Test integration" [2690,2708]
                                FIELD [2709,2793]
                                    String: "run" [2709,2714]
                                    STRING [2715,2793]
                                        String: "set -e\nsource activate testenv\nbash ci_tools/actions/integration_test.sh\n" [2715,2793]
                            OBJECT [2795,2903]
                                FIELD [2796,2830]
                                    String: "uses" [2796,2802]
                                    STRING [2803,2830]
                                        String: "codecov/codecov-action@v3" [2803,2830]
                                FIELD [2831,2902]
                                    String: "with" [2831,2837]
                                    OBJECT [2838,2902]
                                        FIELD [2839,2862]
                                            String: "fail_ci_if_error" [2839,2857]
                                            TRUE [2858,2862]
                                        FIELD [2863,2877]
                                            String: "verbose" [2863,2872]
                                            TRUE [2873,2877]
                                        FIELD [2878,2901]
                                            String: "file" [2878,2884]
                                            STRING [2885,2901]
                                                String: "./coverage.xml" [2885,2901]
            FIELD [2906,3248]
                String: "lint" [2906,2912]
                OBJECT [2913,3248]
                    FIELD [2914,2927]
                        String: "name" [2914,2920]
                        STRING [2921,2927]
                            String: "lint" [2921,2927]
                    FIELD [2928,2953]
                        String: "runs-on" [2928,2937]
                        STRING [2938,2953]
                            String: "ubuntu-latest" [2938,2953]
                    FIELD [2954,3247]
                        String: "steps" [2954,2961]
                        ARRAY [2962,3247]
                            OBJECT [2963,2993]
                                FIELD [2964,2992]
                                    String: "uses" [2964,2970]
                                    STRING [2971,2992]
                                        String: "actions/checkout@v3" [2971,2992]
                            OBJECT [2994,3084]
                                FIELD [2995,3027]
                                    String: "uses" [2995,3001]
                                    STRING [3002,3027]
                                        String: "actions/setup-python@v4" [3002,3027]
                                FIELD [3028,3051]
                                    String: "name" [3028,3034]
                                    STRING [3035,3051]
                                        String: "Install Python" [3035,3051]
                                FIELD [3052,3083]
                                    String: "with" [3052,3058]
                                    OBJECT [3059,3083]
                                        FIELD [3060,3082]
                                            String: "python-version" [3060,3076]
                                            STRING [3077,3082]
                                                String: "3.7" [3077,3082]
                            OBJECT [3085,3157]
                                FIELD [3086,3115]
                                    String: "name" [3086,3092]
                                    STRING [3093,3115]
                                        String: "Install dependencies" [3093,3115]
                                FIELD [3116,3156]
                                    String: "run" [3116,3121]
                                    STRING [3122,3156]
                                        String: "pip install flake8 black==22.3.0" [3122,3156]
                            OBJECT [3158,3201]
                                FIELD [3159,3178]
                                    String: "name" [3159,3165]
                                    STRING [3166,3178]
                                        String: "Run flake8" [3166,3178]
                                FIELD [3179,3200]
                                    String: "run" [3179,3184]
                                    STRING [3185,3200]
                                        String: "flake8 ramp-*" [3185,3200]
                            OBJECT [3202,3246]
                                FIELD [3203,3221]
                                    String: "name" [3203,3209]
                                    STRING [3210,3221]
                                        String: "Run black" [3210,3221]
                                FIELD [3222,3245]
                                    String: "run" [3222,3227]
                                    STRING [3228,3245]
                                        String: "black --check ." [3228,3245]