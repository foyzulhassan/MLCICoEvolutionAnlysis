OBJECT [0,4242]
    FIELD [1,20]
        String: "name" [1,7]
        STRING [8,20]
            String: "MacRelease" [8,20]
    FIELD [21,172]
        String: "on" [21,25]
        OBJECT [26,172]
            FIELD [27,64]
                String: "schedule" [27,37]
                ARRAY [38,64]
                    OBJECT [39,63]
                        FIELD [40,62]
                            String: "cron" [40,46]
                            STRING [47,62]
                                String: "00 00 * * MON" [47,62]
            FIELD [65,101]
                String: "push" [65,71]
                OBJECT [72,101]
                    FIELD [73,100]
                        String: "branches" [73,83]
                        ARRAY [84,100]
                            STRING [85,91]
                                String: "main" [85,91]
                            STRING [92,99]
                                String: "rel-*" [92,99]
            FIELD [102,146]
                String: "pull_request" [102,116]
                OBJECT [117,146]
                    FIELD [118,145]
                        String: "branches" [118,128]
                        ARRAY [129,145]
                            STRING [130,136]
                                String: "main" [130,136]
                            STRING [137,144]
                                String: "rel-*" [137,144]
            FIELD [147,171]
                String: "workflow_dispatch" [147,166]
                NULL [167,171]
    FIELD [173,213]
        String: "env" [173,178]
        OBJECT [179,213]
            FIELD [180,212]
                String: "MACOSX_DEPLOYMENT_TARGET" [180,206]
                NUMBER [207,212]
                    Number: 10.12 [207,212]
    FIELD [214,4241]
        String: "jobs" [214,220]
        OBJECT [221,4241]
            FIELD [222,4240]
                String: "build" [222,229]
                OBJECT [230,4240]
                    FIELD [231,386]
                        String: "if" [231,235]
                        STRING [236,386]
                            String: "github.event_name != 'pull_request' || startsWith( github.base_ref, 'rel-') || contains( github.event.pull_request.labels.*.name, 'run release CIs')" [236,386]
                    FIELD [387,411]
                        String: "runs-on" [387,396]
                        STRING [397,411]
                            String: "macos-latest" [397,411]
                    FIELD [412,560]
                        String: "strategy" [412,422]
                        OBJECT [423,560]
                            FIELD [424,559]
                                String: "matrix" [424,432]
                                OBJECT [433,559]
                                    FIELD [434,484]
                                        String: "python-version" [434,450]
                                        ARRAY [451,484]
                                            STRING [452,457]
                                                String: "3.7" [452,457]
                                            STRING [458,463]
                                                String: "3.8" [458,463]
                                            STRING [464,469]
                                                String: "3.9" [464,469]
                                            STRING [470,476]
                                                String: "3.10" [470,476]
                                            STRING [477,483]
                                                String: "3.11" [477,483]
                                    FIELD [485,512]
                                        String: "host-architecture" [485,504]
                                        ARRAY [505,512]
                                            STRING [506,511]
                                                String: "x64" [506,511]
                                    FIELD [513,558]
                                        String: "target-architecture" [513,534]
                                        ARRAY [535,558]
                                            STRING [536,544]
                                                String: "x86_64" [536,544]
                                            STRING [545,557]
                                                String: "universal2" [545,557]
                    FIELD [561,4239]
                        String: "steps" [561,568]
                        ARRAY [569,4239]
                            OBJECT [570,600]
                                FIELD [571,599]
                                    String: "uses" [571,577]
                                    STRING [578,599]
                                        String: "actions/checkout@v3" [578,599]
                            OBJECT [601,887]
                                FIELD [602,630]
                                    String: "name" [602,608]
                                    STRING [609,630]
                                        String: "Checkout submodules" [609,630]
                                FIELD [631,645]
                                    String: "shell" [631,638]
                                    STRING [639,645]
                                        String: "bash" [639,645]
                                FIELD [646,886]
                                    String: "run" [646,651]
                                    STRING [652,886]
                                        String: "auth_header=\"$(git config --local --get http.https://github.com/.extraheader)\"\ngit submodule sync --recursive\ngit -c \"http.extraheader=$auth_header\" -c protocol.version=2 submodule update --init --force --recursive --depth=1\n" [652,886]
                            OBJECT [888,1080]
                                FIELD [889,940]
                                    String: "name" [889,895]
                                    STRING [896,940]
                                        String: "Set up Python ${{ matrix.python-version }}" [896,940]
                                FIELD [941,973]
                                    String: "uses" [941,947]
                                    STRING [948,973]
                                        String: "actions/setup-python@v4" [948,973]
                                FIELD [974,1079]
                                    String: "with" [974,980]
                                    OBJECT [981,1079]
                                        FIELD [982,1029]
                                            String: "python-version" [982,998]
                                            STRING [999,1029]
                                                String: "${{ matrix.python-version }}" [999,1029]
                                        FIELD [1030,1078]
                                            String: "architecture" [1030,1044]
                                            STRING [1045,1078]
                                                String: "${{ matrix.host-architecture }}" [1045,1078]
                            OBJECT [1081,1222]
                                FIELD [1082,1118]
                                    String: "name" [1082,1088]
                                    STRING [1089,1118]
                                        String: "Install Python dependencies" [1089,1118]
                                FIELD [1119,1221]
                                    String: "run" [1119,1124]
                                    STRING [1125,1221]
                                        String: "python -m pip install -q --upgrade pip\npython -m pip install -q -r requirements-release.txt\n" [1125,1221]
                            OBJECT [1223,2242]
                                FIELD [1224,1256]
                                    String: "name" [1224,1230]
                                    STRING [1231,1256]
                                        String: "Build wheel and install" [1231,1256]
                                FIELD [1257,1305]
                                    String: "env" [1257,1262]
                                    OBJECT [1263,1305]
                                        FIELD [1264,1276]
                                            String: "CC" [1264,1268]
                                            STRING [1269,1276]
                                                String: "clang" [1269,1276]
                                        FIELD [1277,1292]
                                            String: "CXX" [1277,1282]
                                            STRING [1283,1292]
                                                String: "clang++" [1283,1292]
                                        FIELD [1293,1304]
                                            String: "ONNX_ML" [1293,1302]
                                            NUMBER [1303,1304]
                                                Number: 1 [1303,1304]
                                FIELD [1306,2241]
                                    String: "run" [1306,1311]
                                    STRING [1312,2241]
                                        String: "# Install Protobuf from source\nexport NUM_CORES=`sysctl -n hw.logicalcpu`\nif [ '${{ matrix.target-architecture }}' == 'x86_64' ]; then\n  export CMAKE_OSX_ARCHITECTURES=x86_64\nelif [ '${{ matrix.target-architecture }}' == 'universal2' ]; then\n  export CMAKE_OSX_ARCHITECTURES='arm64;x86_64'\nfi\nsource workflow_scripts/protobuf/build_protobuf_unix.sh $NUM_CORES $(pwd)/protobuf/protobuf_install\nexport CMAKE_ARGS=\"-DONNX_USE_LITE_PROTO=ON\"\n# Currently GitHub Action agent is using macos-11, use -p to force change the final MACOSX_DEPLOYMENT_TARGET\n# Change -p if MACOSX_DEPLOYMENT_TARGET is different\nif [ '${{ github.event_name }}' == 'schedule' ]; then\n  python setup.py bdist_wheel -p macosx_10_12_${{ matrix.target-architecture }} --weekly_build\nelse\n  python setup.py bdist_wheel -p macosx_10_12_${{ matrix.target-architecture }}\nfi\nfor file in dist/*.whl; do python -m pip install --upgrade $file; done\n" [1312,2241]
                            OBJECT [2243,2295]
                                FIELD [2244,2277]
                                    String: "name" [2244,2250]
                                    STRING [2251,2277]
                                        String: "Test the installed wheel" [2251,2277]
                                FIELD [2278,2294]
                                    String: "run" [2278,2283]
                                    STRING [2284,2294]
                                        String: "pytest\n" [2284,2294]
                            OBJECT [2296,2372]
                                FIELD [2297,2332]
                                    String: "uses" [2297,2303]
                                    STRING [2304,2332]
                                        String: "actions/upload-artifact@v1" [2304,2332]
                                FIELD [2333,2371]
                                    String: "with" [2333,2339]
                                    OBJECT [2340,2371]
                                        FIELD [2341,2356]
                                            String: "name" [2341,2347]
                                            STRING [2348,2356]
                                                String: "wheels" [2348,2356]
                                        FIELD [2357,2370]
                                            String: "path" [2357,2363]
                                            STRING [2364,2370]
                                                String: "dist" [2364,2370]
                            OBJECT [2373,2617]
                                FIELD [2374,2414]
                                    String: "name" [2374,2380]
                                    STRING [2381,2414]
                                        String: "Upload wheel to TestPyPI weekly" [2381,2414]
                                FIELD [2415,2453]
                                    String: "if" [2415,2419]
                                    STRING [2420,2453]
                                        String: "github.event_name == 'schedule'" [2420,2453]
                                FIELD [2454,2616]
                                    String: "run" [2454,2459]
                                    STRING [2460,2616]
                                        String: "twine upload --verbose dist/*.whl --repository-url https://test.pypi.org/legacy/ -u ${{ secrets.TESTPYPI_USERNAME }} -p ${{ secrets.TESTPYPI_PASSWORD }}\n" [2460,2616]
                            OBJECT [2618,2844]
                                FIELD [2619,2661]
                                    String: "name" [2619,2625]
                                    STRING [2626,2661]
                                        String: "Verify ONNX with the latest numpy" [2626,2661]
                                FIELD [2662,2684]
                                    String: "if" [2662,2666]
                                    STRING [2667,2684]
                                        String: "${{ always() }}" [2667,2684]
                                FIELD [2685,2843]
                                    String: "run" [2685,2690]
                                    STRING [2691,2843]
                                        String: "python -m pip uninstall -y numpy onnx && python -m pip install numpy\nfor file in dist/*.whl; do python -m pip install --upgrade $file; done\npytest\n" [2691,2843]
                            OBJECT [2845,3080]
                                FIELD [2846,2891]
                                    String: "name" [2846,2852]
                                    STRING [2853,2891]
                                        String: "Verify ONNX with the latest protobuf" [2853,2891]
                                FIELD [2892,2914]
                                    String: "if" [2892,2896]
                                    STRING [2897,2914]
                                        String: "${{ always() }}" [2897,2914]
                                FIELD [2915,3079]
                                    String: "run" [2915,2920]
                                    STRING [2921,3079]
                                        String: "python -m pip uninstall -y protobuf onnx && python -m pip install protobuf\nfor file in dist/*.whl; do python -m pip install --upgrade $file; done\npytest\n" [2921,3079]
                            OBJECT [3081,3359]
                                FIELD [3082,3162]
                                    String: "name" [3082,3088]
                                    STRING [3089,3162]
                                        String: "Verify ONNX with the minimum supported protobuf (from requirements.txt)" [3089,3162]
                                FIELD [3163,3185]
                                    String: "if" [3163,3167]
                                    STRING [3168,3185]
                                        String: "${{ always() }}" [3168,3185]
                                FIELD [3186,3358]
                                    String: "run" [3186,3191]
                                    STRING [3192,3358]
                                        String: "python -m pip uninstall -y protobuf onnx && python -m pip install protobuf==3.20.2\nfor file in dist/*.whl; do python -m pip install --upgrade $file; done\npytest\n" [3192,3358]
                            OBJECT [3360,3534]
                                FIELD [3361,3412]
                                    String: "name" [3361,3367]
                                    STRING [3368,3412]
                                        String: "Verify ONNX with ONNX Runtime PyPI package" [3368,3412]
                                FIELD [3413,3451]
                                    String: "if" [3413,3417]
                                    STRING [3418,3451]
                                        String: "matrix.python-version != '3.11'" [3418,3451]
                                FIELD [3452,3533]
                                    String: "run" [3452,3457]
                                    STRING [3458,3533]
                                        String: "python -m pip install -q onnxruntime\npython onnx/test/test_with_ort.py\n" [3458,3533]
                            OBJECT [3535,4238]
                                FIELD [3536,3600]
                                    String: "name" [3536,3542]
                                    STRING [3543,3600]
                                        String: "Build and upload source distribution to TestPyPI weekly" [3543,3600]
                                FIELD [3601,3716]
                                    String: "if" [3601,3605]
                                    STRING [3606,3716]
                                        String: "github.event_name == 'schedule' && matrix.python-version == '3.10' && matrix.target-architecture == 'x86_64'" [3606,3716]
                                FIELD [3717,4237]
                                    String: "run" [3717,3722]
                                    STRING [3723,4237]
                                        String: "# Build and upload source distribution to TestPyPI\ngit clean -xdf\npython setup.py sdist --weekly_build\ntwine upload dist/* --repository-url https://test.pypi.org/legacy/ -u ${{ secrets.TESTPYPI_USERNAME }} -p ${{ secrets.TESTPYPI_PASSWORD }}\n\n# Test source distribution from TestPyPI\npython -m pip uninstall -y onnx\npython -m pip install setuptools\npython -m pip install --index-url https://test.pypi.org/simple --use-deprecated=legacy-resolver --no-use-pep517 --no-binary onnx-weekly onnx-weekly\npytest" [3723,4237]