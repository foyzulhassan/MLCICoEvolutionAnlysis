OBJECT [0,3653]
    FIELD [1,20]
        String: "name" [1,7]
        STRING [8,20]
            String: "PR slow CI" [8,20]
    FIELD [21,96]
        String: "on" [21,25]
        OBJECT [26,96]
            FIELD [27,95]
                String: "pull_request" [27,41]
                OBJECT [42,95]
                    FIELD [43,94]
                        String: "paths" [43,50]
                        ARRAY [51,94]
                            STRING [52,93]
                                String: "src/transformers/models/*/modeling_*.py" [52,93]
    FIELD [97,405]
        String: "env" [97,102]
        OBJECT [103,405]
            FIELD [104,126]
                String: "HF_HOME" [104,113]
                STRING [114,126]
                    String: "/mnt/cache" [114,126]
            FIELD [127,152]
                String: "TRANSFORMERS_IS_CI" [127,147]
                TRUE [148,152]
            FIELD [153,172]
                String: "OMP_NUM_THREADS" [153,170]
                NUMBER [171,172]
                    Number: 8 [171,172]
            FIELD [173,192]
                String: "MKL_NUM_THREADS" [173,190]
                NUMBER [191,192]
                    Number: 8 [191,192]
            FIELD [193,208]
                String: "RUN_SLOW" [193,203]
                TRUE [204,208]
            FIELD [209,263]
                String: "HF_HUB_READ_TOKEN" [209,228]
                STRING [229,263]
                    String: "${{ secrets.HF_HUB_READ_TOKEN }}" [229,263]
            FIELD [264,316]
                String: "SIGOPT_API_TOKEN" [264,282]
                STRING [283,316]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [283,316]
            FIELD [317,349]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [317,344]
                TRUE [345,349]
            FIELD [350,375]
                String: "RUN_PT_TF_CROSS_TESTS" [350,373]
                NUMBER [374,375]
                    Number: 1 [374,375]
            FIELD [376,404]
                String: "CUDA_VISIBLE_DEVICES" [376,398]
                STRING [399,404]
                    String: "0,1" [399,404]
    FIELD [406,3652]
        String: "jobs" [406,412]
        OBJECT [413,3652]
            FIELD [414,844]
                String: "check_for_new_model" [414,435]
                OBJECT [436,844]
                    FIELD [437,461]
                        String: "runs-on" [437,446]
                        STRING [447,461]
                            String: "ubuntu-22.04" [447,461]
                    FIELD [462,502]
                        String: "name" [462,468]
                        STRING [469,502]
                            String: "Check if a PR is a new model PR" [469,502]
                    FIELD [503,575]
                        String: "outputs" [503,512]
                        OBJECT [513,575]
                            FIELD [514,574]
                                String: "new_model" [514,525]
                                STRING [526,574]
                                    String: "${{ steps.check_new_model.outputs.new_model }}" [526,574]
                    FIELD [576,843]
                        String: "steps" [576,583]
                        ARRAY [584,843]
                            OBJECT [585,642]
                                FIELD [586,614]
                                    String: "uses" [586,592]
                                    STRING [593,614]
                                        String: "actions/checkout@v4" [593,614]
                                FIELD [615,641]
                                    String: "with" [615,621]
                                    OBJECT [622,641]
                                        FIELD [623,640]
                                            String: "fetch-depth" [623,636]
                                            STRING [637,640]
                                                String: "0" [637,640]
                            OBJECT [643,842]
                                FIELD [644,682]
                                    String: "name" [644,650]
                                    STRING [651,682]
                                        String: "Check if there is a new model" [651,682]
                                FIELD [683,705]
                                    String: "id" [683,687]
                                    STRING [688,705]
                                        String: "check_new_model" [688,705]
                                FIELD [706,841]
                                    String: "run" [706,711]
                                    STRING [712,841]
                                        String: "python -m pip install GitPython\necho \"new_model=$(python utils/check_if_new_model_added.py | tail -n 1)\" >> $GITHUB_OUTPUT\n" [712,841]
            FIELD [845,3651]
                String: "run_models_gpu" [845,861]
                OBJECT [862,3651]
                    FIELD [863,903]
                        String: "name" [863,869]
                        STRING [870,903]
                            String: "Run all tests for the new model" [870,903]
                    FIELD [904,1045]
                        String: "if" [904,908]
                        STRING [909,1045]
                            String: "${{ needs.check_for_new_model.outputs.new_model != '' && contains(github.event.pull_request.labels.*.name, 'single-model-run-slow') }}" [909,1045]
                    FIELD [1046,1075]
                        String: "needs" [1046,1053]
                        STRING [1054,1075]
                            String: "check_for_new_model" [1054,1075]
                    FIELD [1076,1224]
                        String: "strategy" [1076,1086]
                        OBJECT [1087,1224]
                            FIELD [1088,1105]
                                String: "fail-fast" [1088,1099]
                                FALSE [1100,1105]
                            FIELD [1106,1223]
                                String: "matrix" [1106,1114]
                                OBJECT [1115,1223]
                                    FIELD [1116,1180]
                                        String: "folders" [1116,1125]
                                        ARRAY [1126,1180]
                                            STRING [1127,1179]
                                                String: "${{ needs.check_for_new_model.outputs.new_model }}" [1127,1179]
                                    FIELD [1181,1222]
                                        String: "machine_type" [1181,1195]
                                        ARRAY [1196,1222]
                                            STRING [1197,1209]
                                                String: "single-gpu" [1197,1209]
                                            STRING [1210,1221]
                                                String: "multi-gpu" [1210,1221]
                    FIELD [1225,1294]
                        String: "runs-on" [1225,1234]
                        ARRAY [1235,1294]
                            STRING [1236,1264]
                                String: "${{ matrix.machine_type }}" [1236,1264]
                            STRING [1265,1277]
                                String: "nvidia-gpu" [1265,1277]
                            STRING [1278,1282]
                                String: "t4" [1278,1282]
                            STRING [1283,1293]
                                String: "daily-ci" [1283,1293]
                    FIELD [1295,1457]
                        String: "container" [1295,1306]
                        OBJECT [1307,1457]
                            FIELD [1308,1357]
                                String: "image" [1308,1315]
                                STRING [1316,1357]
                                    String: "huggingface/transformers-all-latest-gpu" [1316,1357]
                            FIELD [1358,1456]
                                String: "options" [1358,1367]
                                STRING [1368,1456]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1368,1456]
                    FIELD [1458,3650]
                        String: "steps" [1458,1465]
                        ARRAY [1466,3650]
                            OBJECT [1467,1560]
                                FIELD [1468,1503]
                                    String: "name" [1468,1474]
                                    STRING [1475,1503]
                                        String: "Echo input and matrix info" [1475,1503]
                                FIELD [1504,1518]
                                    String: "shell" [1504,1511]
                                    STRING [1512,1518]
                                        String: "bash" [1512,1518]
                                FIELD [1519,1559]
                                    String: "run" [1519,1524]
                                    STRING [1525,1559]
                                        String: "echo \"${{ matrix.folders }}\"\n" [1525,1559]
                            OBJECT [1561,1835]
                                FIELD [1562,1604]
                                    String: "name" [1562,1568]
                                    STRING [1569,1604]
                                        String: "Echo folder ${{ matrix.folders }}" [1569,1604]
                                FIELD [1605,1619]
                                    String: "shell" [1605,1612]
                                    STRING [1613,1619]
                                        String: "bash" [1613,1619]
                                FIELD [1620,1834]
                                    String: "run" [1620,1625]
                                    STRING [1626,1834]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [1626,1834]
                            OBJECT [1836,1971]
                                FIELD [1837,1858]
                                    String: "name" [1837,1843]
                                    STRING [1844,1858]
                                        String: "Update clone" [1844,1858]
                                FIELD [1859,1894]
                                    String: "working-directory" [1859,1878]
                                    STRING [1879,1894]
                                        String: "/transformers" [1879,1894]
                                FIELD [1895,1970]
                                    String: "run" [1895,1900]
                                    STRING [1901,1970]
                                        String: "git fetch && git checkout ${{ github.event.pull_request.head.sha }}" [1901,1970]
                            OBJECT [1972,2187]
                                FIELD [1973,2070]
                                    String: "name" [1973,1979]
                                    STRING [1980,2070]
                                        String: "Reinstall transformers in edit mode (remove the one installed during docker image build)" [1980,2070]
                                FIELD [2071,2106]
                                    String: "working-directory" [2071,2090]
                                    STRING [2091,2106]
                                        String: "/transformers" [2091,2106]
                                FIELD [2107,2186]
                                    String: "run" [2107,2112]
                                    STRING [2113,2186]
                                        String: "python3 -m pip uninstall -y transformers && python3 -m pip install -e ." [2113,2186]
                            OBJECT [2188,2230]
                                FIELD [2189,2208]
                                    String: "name" [2189,2195]
                                    STRING [2196,2208]
                                        String: "NVIDIA-SMI" [2196,2208]
                                FIELD [2209,2229]
                                    String: "run" [2209,2214]
                                    STRING [2215,2229]
                                        String: "nvidia-smi\n" [2215,2229]
                            OBJECT [2231,2326]
                                FIELD [2232,2252]
                                    String: "name" [2232,2238]
                                    STRING [2239,2252]
                                        String: "Environment" [2239,2252]
                                FIELD [2253,2288]
                                    String: "working-directory" [2253,2272]
                                    STRING [2273,2288]
                                        String: "/transformers" [2273,2288]
                                FIELD [2289,2325]
                                    String: "run" [2289,2294]
                                    STRING [2295,2325]
                                        String: "python3 utils/print_env.py\n" [2295,2325]
                            OBJECT [2327,2436]
                                FIELD [2328,2380]
                                    String: "name" [2328,2334]
                                    STRING [2335,2380]
                                        String: "Show installed libraries and their versions" [2335,2380]
                                FIELD [2381,2416]
                                    String: "working-directory" [2381,2400]
                                    STRING [2401,2416]
                                        String: "/transformers" [2401,2416]
                                FIELD [2417,2435]
                                    String: "run" [2417,2422]
                                    STRING [2423,2435]
                                        String: "pip freeze" [2423,2435]
                            OBJECT [2437,2657]
                                FIELD [2438,2467]
                                    String: "name" [2438,2444]
                                    STRING [2445,2467]
                                        String: "Run all tests on GPU" [2445,2467]
                                FIELD [2468,2503]
                                    String: "working-directory" [2468,2487]
                                    STRING [2488,2503]
                                        String: "/transformers" [2488,2503]
                                FIELD [2504,2656]
                                    String: "run" [2504,2509]
                                    STRING [2510,2656]
                                        String: "python3 -m pytest -v -rs --make-reports=${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports tests/${{ matrix.folders }}" [2510,2656]
                            OBJECT [2658,2869]
                                FIELD [2659,2689]
                                    String: "name" [2659,2665]
                                    STRING [2666,2689]
                                        String: "Failure short reports" [2666,2689]
                                FIELD [2690,2713]
                                    String: "if" [2690,2694]
                                    STRING [2695,2713]
                                        String: "${{ failure() }}" [2695,2713]
                                FIELD [2714,2738]
                                    String: "continue-on-error" [2714,2733]
                                    TRUE [2734,2738]
                                FIELD [2739,2868]
                                    String: "run" [2739,2744]
                                    STRING [2745,2868]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports/failures_short.txt" [2745,2868]
                            OBJECT [2870,3261]
                                FIELD [2871,2913]
                                    String: "name" [2871,2877]
                                    STRING [2878,2913]
                                        String: "Make sure report directory exists" [2878,2913]
                                FIELD [2914,2928]
                                    String: "shell" [2914,2921]
                                    STRING [2922,2928]
                                        String: "bash" [2922,2928]
                                FIELD [2929,3260]
                                    String: "run" [2929,2934]
                                    STRING [2935,3260]
                                        String: "mkdir -p /transformers/reports/${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports\necho \"hello\" > /transformers/reports/${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports/hello.txt\necho \"${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports\"\n" [2935,3260]
                            OBJECT [3262,3649]
                                FIELD [3263,3382]
                                    String: "name" [3263,3269]
                                    STRING [3270,3382]
                                        String: "Test suite reports artifacts: ${{ matrix.machine_type }}_run_models_gpu_${{ env.matrix_folders }}_test_reports" [3270,3382]
                                FIELD [3383,3405]
                                    String: "if" [3383,3387]
                                    STRING [3388,3405]
                                        String: "${{ always() }}" [3388,3405]
                                FIELD [3406,3441]
                                    String: "uses" [3406,3412]
                                    STRING [3413,3441]
                                        String: "actions/upload-artifact@v4" [3413,3441]
                                FIELD [3442,3648]
                                    String: "with" [3442,3448]
                                    OBJECT [3449,3648]
                                        FIELD [3450,3539]
                                            String: "name" [3450,3456]
                                            STRING [3457,3539]
                                                String: "${{ matrix.machine_type }}_run_models_gpu_${{ env.matrix_folders }}_test_reports" [3457,3539]
                                        FIELD [3540,3647]
                                            String: "path" [3540,3546]
                                            STRING [3547,3647]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_run_models_gpu_${{ matrix.folders }}_test_reports" [3547,3647]