OBJECT [0,5032]
    FIELD [1,41]
        String: "name" [1,7]
        STRING [8,41]
            String: "CD - Syft - Deploy `dev` to K8s" [8,41]
    FIELD [42,178]
        String: "on" [42,46]
        OBJECT [47,178]
            FIELD [48,83]
                String: "schedule" [48,58]
                ARRAY [59,83]
                    OBJECT [60,82]
                        FIELD [61,81]
                            String: "cron" [61,67]
                            STRING [68,81]
                                String: "0 */3 * * *" [68,81]
            FIELD [84,177]
                String: "workflow_dispatch" [84,103]
                OBJECT [104,177]
                    FIELD [105,176]
                        String: "inputs" [105,113]
                        OBJECT [114,176]
                            FIELD [115,175]
                                String: "none" [115,121]
                                OBJECT [122,175]
                                    FIELD [123,157]
                                        String: "description" [123,136]
                                        STRING [137,157]
                                            String: "Run Tests Manually" [137,157]
                                    FIELD [158,174]
                                        String: "required" [158,168]
                                        FALSE [169,174]
    FIELD [179,5031]
        String: "jobs" [179,185]
        OBJECT [186,5031]
            FIELD [187,5030]
                String: "deploy-syft-dev" [187,204]
                OBJECT [205,5030]
                    FIELD [206,241]
                        String: "runs-on" [206,215]
                        STRING [216,241]
                            String: "om-ci-16vcpu-ubuntu2204" [216,241]
                    FIELD [242,5029]
                        String: "steps" [242,249]
                        ARRAY [250,5029]
                            OBJECT [251,455]
                                FIELD [252,282]
                                    String: "name" [252,258]
                                    STRING [259,282]
                                        String: "Check for new changes" [259,282]
                                FIELD [283,295]
                                    String: "id" [283,287]
                                    STRING [288,295]
                                        String: "cache" [288,295]
                                FIELD [296,334]
                                    String: "if" [296,300]
                                    STRING [301,334]
                                        String: "github.event_name == 'schedule'" [301,334]
                                FIELD [335,360]
                                    String: "uses" [335,341]
                                    STRING [342,360]
                                        String: "actions/cache@v3" [342,360]
                                FIELD [361,454]
                                    String: "with" [361,367]
                                    OBJECT [368,454]
                                        FIELD [369,397]
                                            String: "path" [369,375]
                                            STRING [376,397]
                                                String: "scripts/commit_hash" [376,397]
                                        FIELD [398,434]
                                            String: "key" [398,403]
                                            STRING [404,434]
                                                String: "dev-commit-${{ github.sha }}" [404,434]
                                        FIELD [435,453]
                                            String: "lookup-only" [435,448]
                                            TRUE [449,453]
                            OBJECT [456,586]
                                FIELD [457,488]
                                    String: "name" [457,463]
                                    STRING [464,488]
                                        String: "Quit if no new changes" [464,488]
                                FIELD [489,570]
                                    String: "if" [489,493]
                                    STRING [494,570]
                                        String: "github.event_name == 'schedule' && steps.cache.outputs.cache-hit == 'true'" [494,570]
                                FIELD [571,585]
                                    String: "run" [571,576]
                                    STRING [577,585]
                                        String: "exit 0" [577,585]
                            OBJECT [587,668]
                                FIELD [588,625]
                                    String: "name" [588,594]
                                    STRING [595,625]
                                        String: "Permission to home directory" [595,625]
                                FIELD [626,667]
                                    String: "run" [626,631]
                                    STRING [632,667]
                                        String: "sudo chown -R $USER:$USER $HOME\n" [632,667]
                            OBJECT [669,699]
                                FIELD [670,698]
                                    String: "uses" [670,676]
                                    STRING [677,698]
                                        String: "actions/checkout@v4" [677,698]
                            OBJECT [700,894]
                                FIELD [701,729]
                                    String: "name" [701,707]
                                    STRING [708,729]
                                        String: "Checkout Infra Repo" [708,729]
                                FIELD [730,758]
                                    String: "uses" [730,736]
                                    STRING [737,758]
                                        String: "actions/checkout@v4" [737,758]
                                FIELD [759,893]
                                    String: "with" [759,765]
                                    OBJECT [766,893]
                                        FIELD [767,807]
                                            String: "repository" [767,779]
                                            STRING [780,807]
                                                String: "${{ secrets.INFRA_REPO }}" [780,807]
                                        FIELD [808,820]
                                            String: "ref" [808,813]
                                            STRING [814,820]
                                                String: "main" [814,820]
                                        FIELD [821,868]
                                            String: "token" [821,828]
                                            STRING [829,868]
                                                String: "${{ secrets.INFRA_BOT_COMMIT_TOKEN }}" [829,868]
                                        FIELD [869,892]
                                            String: "path" [869,875]
                                            STRING [876,892]
                                                String: "infrastructure" [876,892]
                            OBJECT [895,985]
                                FIELD [896,918]
                                    String: "name" [896,902]
                                    STRING [903,918]
                                        String: "Set up Python" [903,918]
                                FIELD [919,951]
                                    String: "uses" [919,925]
                                    STRING [926,951]
                                        String: "actions/setup-python@v3" [926,951]
                                FIELD [952,984]
                                    String: "with" [952,958]
                                    OBJECT [959,984]
                                        FIELD [960,983]
                                            String: "python-version" [960,976]
                                            STRING [977,983]
                                                String: "3.11" [977,983]
                            OBJECT [986,1070]
                                FIELD [987,1016]
                                    String: "name" [987,993]
                                    STRING [994,1016]
                                        String: "Set up Docker Buildx" [994,1016]
                                FIELD [1017,1030]
                                    String: "id" [1017,1021]
                                    STRING [1022,1030]
                                        String: "buildx" [1022,1030]
                                FIELD [1031,1069]
                                    String: "uses" [1031,1037]
                                    STRING [1038,1069]
                                        String: "docker/setup-buildx-action@v3" [1038,1069]
                            OBJECT [1071,1187]
                                FIELD [1072,1099]
                                    String: "name" [1072,1078]
                                    STRING [1079,1099]
                                        String: "Login to Azure CLI" [1079,1099]
                                FIELD [1100,1123]
                                    String: "uses" [1100,1106]
                                    STRING [1107,1123]
                                        String: "azure/login@v1" [1107,1123]
                                FIELD [1124,1186]
                                    String: "with" [1124,1130]
                                    OBJECT [1131,1186]
                                        FIELD [1132,1185]
                                            String: "creds" [1132,1139]
                                            STRING [1140,1185]
                                                String: "${{ secrets.AZURE_CREDENTIALS_GITHUB_CI }}}" [1140,1185]
                            OBJECT [1188,1397]
                                FIELD [1189,1231]
                                    String: "name" [1189,1195]
                                    STRING [1196,1231]
                                        String: "Login to Azure Container Registry" [1196,1231]
                                FIELD [1232,1262]
                                    String: "uses" [1232,1238]
                                    STRING [1239,1262]
                                        String: "azure/docker-login@v1" [1239,1262]
                                FIELD [1263,1396]
                                    String: "with" [1263,1269]
                                    OBJECT [1270,1396]
                                        FIELD [1271,1313]
                                            String: "login-server" [1271,1285]
                                            STRING [1286,1313]
                                                String: "${{ secrets.ACR_SERVER }}" [1286,1313]
                                        FIELD [1314,1354]
                                            String: "username" [1314,1324]
                                            STRING [1325,1354]
                                                String: "${{ secrets.ACR_USERNAME }}" [1325,1354]
                                        FIELD [1355,1395]
                                            String: "password" [1355,1365]
                                            STRING [1366,1395]
                                                String: "${{ secrets.ACR_PASSWORD }}" [1366,1395]
                            OBJECT [1398,1540]
                                FIELD [1399,1432]
                                    String: "name" [1399,1405]
                                    STRING [1406,1432]
                                        String: "Set Grid package version" [1406,1432]
                                FIELD [1433,1444]
                                    String: "id" [1433,1437]
                                    STRING [1438,1444]
                                        String: "grid" [1438,1444]
                                FIELD [1445,1459]
                                    String: "shell" [1445,1452]
                                    STRING [1453,1459]
                                        String: "bash" [1453,1459]
                                FIELD [1460,1539]
                                    String: "run" [1460,1465]
                                    STRING [1466,1539]
                                        String: "echo \"GRID_VERSION=$(python packages/grid/VERSION)\" >> $GITHUB_OUTPUT" [1466,1539]
                            OBJECT [1541,1887]
                                FIELD [1542,1598]
                                    String: "name" [1542,1548]
                                    STRING [1549,1598]
                                        String: "Build and push `grid-backend` image to registry" [1549,1598]
                                FIELD [1599,1635]
                                    String: "uses" [1599,1605]
                                    STRING [1606,1635]
                                        String: "docker/build-push-action@v4" [1606,1635]
                                FIELD [1636,1886]
                                    String: "with" [1636,1642]
                                    OBJECT [1643,1886]
                                        FIELD [1644,1666]
                                            String: "context" [1644,1653]
                                            STRING [1654,1666]
                                                String: "./packages" [1654,1666]
                                        FIELD [1667,1718]
                                            String: "file" [1667,1673]
                                            STRING [1674,1718]
                                                String: "./packages/grid/backend/backend.dockerfile" [1674,1718]
                                        FIELD [1719,1730]
                                            String: "push" [1719,1725]
                                            TRUE [1726,1730]
                                        FIELD [1731,1749]
                                            String: "target" [1731,1739]
                                            STRING [1740,1749]
                                                String: "backend" [1740,1749]
                                        FIELD [1750,1885]
                                            String: "tags" [1750,1756]
                                            STRING [1757,1885]
                                                String: "${{ secrets.ACR_SERVER }}/openmined/grid-backend:dev\n${{ secrets.ACR_SERVER }}/openmined/grid-backend:dev-${{ github.sha }}\n" [1757,1885]
                            OBJECT [1888,2265]
                                FIELD [1889,1946]
                                    String: "name" [1889,1895]
                                    STRING [1896,1946]
                                        String: "Build and push `grid-frontend` image to registry" [1896,1946]
                                FIELD [1947,1983]
                                    String: "uses" [1947,1953]
                                    STRING [1954,1983]
                                        String: "docker/build-push-action@v4" [1954,1983]
                                FIELD [1984,2264]
                                    String: "with" [1984,1990]
                                    OBJECT [1991,2264]
                                        FIELD [1992,2028]
                                            String: "context" [1992,2001]
                                            STRING [2002,2028]
                                                String: "./packages/grid/frontend" [2002,2028]
                                        FIELD [2029,2082]
                                            String: "file" [2029,2035]
                                            STRING [2036,2082]
                                                String: "./packages/grid/frontend/frontend.dockerfile" [2036,2082]
                                        FIELD [2083,2094]
                                            String: "push" [2083,2089]
                                            TRUE [2090,2094]
                                        FIELD [2095,2232]
                                            String: "tags" [2095,2101]
                                            STRING [2102,2232]
                                                String: "${{ secrets.ACR_SERVER }}/openmined/grid-frontend:dev\n${{ secrets.ACR_SERVER }}/openmined/grid-frontend:dev-${{ github.sha }}\n" [2102,2232]
                                        FIELD [2233,2263]
                                            String: "target" [2233,2241]
                                            STRING [2242,2263]
                                                String: "grid-ui-development" [2242,2263]
                            OBJECT [2266,2606]
                                FIELD [2267,2325]
                                    String: "name" [2267,2273]
                                    STRING [2274,2325]
                                        String: "Build and push `grid-headscale` image to registry" [2274,2325]
                                FIELD [2326,2362]
                                    String: "uses" [2326,2332]
                                    STRING [2333,2362]
                                        String: "docker/build-push-action@v4" [2333,2362]
                                FIELD [2363,2605]
                                    String: "with" [2363,2369]
                                    OBJECT [2370,2605]
                                        FIELD [2371,2402]
                                            String: "context" [2371,2380]
                                            STRING [2381,2402]
                                                String: "./packages/grid/vpn" [2381,2402]
                                        FIELD [2403,2452]
                                            String: "file" [2403,2409]
                                            STRING [2410,2452]
                                                String: "./packages/grid/vpn/headscale.dockerfile" [2410,2452]
                                        FIELD [2453,2464]
                                            String: "push" [2453,2459]
                                            TRUE [2460,2464]
                                        FIELD [2465,2604]
                                            String: "tags" [2465,2471]
                                            STRING [2472,2604]
                                                String: "${{ secrets.ACR_SERVER }}/openmined/grid-headscale:dev\n${{ secrets.ACR_SERVER }}/openmined/grid-headscale:dev-${{ github.sha }}\n" [2472,2604]
                            OBJECT [2607,2947]
                                FIELD [2608,2666]
                                    String: "name" [2608,2614]
                                    STRING [2615,2666]
                                        String: "Build and push `grid-tailscale` image to registry" [2615,2666]
                                FIELD [2667,2703]
                                    String: "uses" [2667,2673]
                                    STRING [2674,2703]
                                        String: "docker/build-push-action@v4" [2674,2703]
                                FIELD [2704,2946]
                                    String: "with" [2704,2710]
                                    OBJECT [2711,2946]
                                        FIELD [2712,2743]
                                            String: "context" [2712,2721]
                                            STRING [2722,2743]
                                                String: "./packages/grid/vpn" [2722,2743]
                                        FIELD [2744,2793]
                                            String: "file" [2744,2750]
                                            STRING [2751,2793]
                                                String: "./packages/grid/vpn/tailscale.dockerfile" [2751,2793]
                                        FIELD [2794,2805]
                                            String: "push" [2794,2800]
                                            TRUE [2801,2805]
                                        FIELD [2806,2945]
                                            String: "tags" [2806,2812]
                                            STRING [2813,2945]
                                                String: "${{ secrets.ACR_SERVER }}/openmined/grid-tailscale:dev\n${{ secrets.ACR_SERVER }}/openmined/grid-tailscale:dev-${{ github.sha }}\n" [2813,2945]
                            OBJECT [2948,3296]
                                FIELD [2949,3010]
                                    String: "name" [2949,2955]
                                    STRING [2956,3010]
                                        String: "Build and push `grid-vpn-iptables` image to registry" [2956,3010]
                                FIELD [3011,3047]
                                    String: "uses" [3011,3017]
                                    STRING [3018,3047]
                                        String: "docker/build-push-action@v2" [3018,3047]
                                FIELD [3048,3295]
                                    String: "with" [3048,3054]
                                    OBJECT [3055,3295]
                                        FIELD [3056,3087]
                                            String: "context" [3056,3065]
                                            STRING [3066,3087]
                                                String: "./packages/grid/vpn" [3066,3087]
                                        FIELD [3088,3136]
                                            String: "file" [3088,3094]
                                            STRING [3095,3136]
                                                String: "./packages/grid/vpn/iptables.dockerfile" [3095,3136]
                                        FIELD [3137,3148]
                                            String: "push" [3137,3143]
                                            TRUE [3144,3148]
                                        FIELD [3149,3294]
                                            String: "tags" [3149,3155]
                                            STRING [3156,3294]
                                                String: "${{ secrets.ACR_SERVER }}/openmined/grid-vpn-iptables:dev\n${{ secrets.ACR_SERVER }}/openmined/grid-vpn-iptables:dev-${{ github.sha }}\n" [3156,3294]
                            OBJECT [3297,4088]
                                FIELD [3298,3339]
                                    String: "name" [3298,3304]
                                    STRING [3305,3339]
                                        String: "Build Helm Chart & Copy to infra" [3305,3339]
                                FIELD [3340,3354]
                                    String: "shell" [3340,3347]
                                    STRING [3348,3354]
                                        String: "bash" [3348,3354]
                                FIELD [3355,4087]
                                    String: "run" [3355,3360]
                                    STRING [3361,4087]
                                        String: "K3D_VERSION=v5.6.0\nDEVSPACE_VERSION=v6.3.3\n\n# install k3d\nwget https://github.com/k3d-io/k3d/releases/download/${K3D_VERSION}/k3d-linux-amd64\nmv k3d-linux-amd64 k3d\nchmod +x k3d\nexport PATH=`pwd`:$PATH\nk3d version\n\n# Install devspace\ncurl -sSL https://github.com/loft-sh/devspace/releases/download/${DEVSPACE_VERSION}/devspace-linux-amd64 -o ./devspace\nchmod +x devspace\ndevspace version\n\nexport CONTAINER_REGISTRY=${{ secrets.ACR_SERVER }}\nexport VERSION=dev-${{github.sha}}\ntox -e syft.build.helm\n\nrm -rf infrastructure/gitops/environments/dev/\nmkdir -p infrastructure/gitops/environments/dev/\ncp -R packages/grid/helm/syft/. packages/grid/helm/manifests.yaml infrastructure/gitops/environments/dev/\n" [3361,4087]
                            OBJECT [4089,4364]
                                FIELD [4090,4134]
                                    String: "name" [4090,4096]
                                    STRING [4097,4134]
                                        String: "Commit & push changes to Infra Repo" [4097,4134]
                                FIELD [4135,4168]
                                    String: "uses" [4135,4141]
                                    STRING [4142,4168]
                                        String: "EndBug/add-and-commit@v9" [4142,4168]
                                FIELD [4169,4363]
                                    String: "with" [4169,4175]
                                    OBJECT [4176,4363]
                                        FIELD [4177,4219]
                                            String: "author_name" [4177,4190]
                                            STRING [4191,4219]
                                                String: "${{ secrets.OM_BOT_NAME }}" [4191,4219]
                                        FIELD [4220,4264]
                                            String: "author_email" [4220,4234]
                                            STRING [4235,4264]
                                                String: "${{ secrets.OM_BOT_EMAIL }}" [4235,4264]
                                        FIELD [4265,4305]
                                            String: "message" [4265,4274]
                                            STRING [4275,4305]
                                                String: "[env] Update dev helm charts" [4275,4305]
                                        FIELD [4306,4315]
                                            String: "add" [4306,4311]
                                            STRING [4312,4315]
                                                String: "." [4312,4315]
                                        FIELD [4316,4336]
                                            String: "push" [4316,4322]
                                            STRING [4323,4336]
                                                String: "origin main" [4323,4336]
                                        FIELD [4337,4362]
                                            String: "cwd" [4337,4342]
                                            STRING [4343,4362]
                                                String: "./infrastructure/" [4343,4362]
                            OBJECT [4365,4944]
                                FIELD [4366,4407]
                                    String: "name" [4366,4372]
                                    STRING [4373,4407]
                                        String: "Cleanup Azure Container Registry" [4373,4407]
                                FIELD [4408,4429]
                                    String: "uses" [4408,4414]
                                    STRING [4415,4429]
                                        String: "azure/CLI@v1" [4415,4429]
                                FIELD [4430,4943]
                                    String: "with" [4430,4436]
                                    OBJECT [4437,4943]
                                        FIELD [4438,4942]
                                            String: "inlineScript" [4438,4452]
                                            STRING [4453,4942]
                                                String: "ACR_REGISTRY_NAME=${{ secrets.ACR_REGISTRY_NAME }}\nREPO_LIST=$(az acr repository list -n $ACR_REGISTRY_NAME -o tsv)\n\nKEEP_PREV_VERSIONS=1\nTAIL_FROM_LINE=$((2 + $KEEP_PREV_VERSIONS + 1))\n\nfor repo in $REPO_LIST\ndo\n    echo \"Cleaning up '$repo'\"\n    az acr repository show-tags --name $ACR_REGISTRY_NAME --repository $repo --orderby time_desc --output tsv | tail -n +$TAIL_FROM_LINE | xargs -r -I% az acr repository delete --name $ACR_REGISTRY_NAME --image $repo:% --yes\ndone\n" [4453,4942]
                            OBJECT [4945,5028]
                                FIELD [4946,4970]
                                    String: "name" [4946,4952]
                                    STRING [4953,4970]
                                        String: "Save Commit SHA" [4953,4970]
                                FIELD [4971,5027]
                                    String: "run" [4971,4976]
                                    STRING [4977,5027]
                                        String: "echo \"${{ github.sha }}\" > scripts/commit_hash" [4977,5027]