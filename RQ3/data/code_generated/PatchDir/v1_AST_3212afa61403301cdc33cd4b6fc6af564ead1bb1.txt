OBJECT [0,10390]
    FIELD [1,40]
        String: "name" [1,7]
        STRING [8,40]
            String: "Self-hosted runner (scheduled)" [8,40]
    FIELD [41,108]
        String: "on" [41,45]
        OBJECT [46,108]
            FIELD [47,73]
                String: "repository_dispatch" [47,68]
                NULL [69,73]
            FIELD [74,107]
                String: "schedule" [74,84]
                ARRAY [85,107]
                    OBJECT [86,106]
                        FIELD [87,105]
                            String: "cron" [87,93]
                            STRING [94,105]
                                String: "0 2 * * *" [94,105]
    FIELD [109,333]
        String: "env" [109,114]
        OBJECT [115,333]
            FIELD [116,138]
                String: "HF_HOME" [116,125]
                STRING [126,138]
                    String: "/mnt/cache" [126,138]
            FIELD [139,164]
                String: "TRANSFORMERS_IS_CI" [139,159]
                TRUE [160,164]
            FIELD [165,184]
                String: "OMP_NUM_THREADS" [165,182]
                NUMBER [183,184]
                    Number: 8 [183,184]
            FIELD [185,204]
                String: "MKL_NUM_THREADS" [185,202]
                NUMBER [203,204]
                    Number: 8 [203,204]
            FIELD [205,220]
                String: "RUN_SLOW" [205,215]
                TRUE [216,220]
            FIELD [221,273]
                String: "SIGOPT_API_TOKEN" [221,239]
                STRING [240,273]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [240,273]
            FIELD [274,306]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [274,301]
                TRUE [302,306]
            FIELD [307,332]
                String: "RUN_PT_TF_CROSS_TESTS" [307,330]
                NUMBER [331,332]
                    Number: 1 [331,332]
    FIELD [334,10389]
        String: "jobs" [334,340]
        OBJECT [341,10389]
            FIELD [342,1820]
                String: "setup" [342,349]
                OBJECT [350,1820]
                    FIELD [351,365]
                        String: "name" [351,357]
                        STRING [358,365]
                            String: "Setup" [358,365]
                    FIELD [366,441]
                        String: "strategy" [366,376]
                        OBJECT [377,441]
                            FIELD [378,440]
                                String: "matrix" [378,386]
                                OBJECT [387,440]
                                    FIELD [388,439]
                                        String: "machines" [388,398]
                                        ARRAY [399,439]
                                            STRING [400,418]
                                                String: "multi-gpu-docker" [400,418]
                                            STRING [419,438]
                                                String: "single-gpu-docker" [419,438]
                    FIELD [442,476]
                        String: "runs-on" [442,451]
                        STRING [452,476]
                            String: "${{ matrix.machines }}" [452,476]
                    FIELD [477,637]
                        String: "container" [477,488]
                        OBJECT [489,637]
                            FIELD [490,539]
                                String: "image" [490,497]
                                STRING [498,539]
                                    String: "huggingface/transformers-all-latest-gpu" [498,539]
                            FIELD [540,636]
                                String: "options" [540,549]
                                STRING [550,636]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [550,636]
                    FIELD [638,699]
                        String: "outputs" [638,647]
                        OBJECT [648,699]
                            FIELD [649,698]
                                String: "matrix" [649,657]
                                STRING [658,698]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [658,698]
                    FIELD [700,1819]
                        String: "steps" [700,707]
                        ARRAY [708,1819]
                            OBJECT [709,822]
                                FIELD [710,731]
                                    String: "name" [710,716]
                                    STRING [717,731]
                                        String: "Update clone" [717,731]
                                FIELD [732,767]
                                    String: "working-directory" [732,751]
                                    STRING [752,767]
                                        String: "/transformers" [752,767]
                                FIELD [768,821]
                                    String: "run" [768,773]
                                    STRING [774,821]
                                        String: "git fetch && git checkout ${{ github.sha }}\n" [774,821]
                            OBJECT [823,961]
                                FIELD [824,840]
                                    String: "name" [824,830]
                                    STRING [831,840]
                                        String: "Cleanup" [831,840]
                                FIELD [841,876]
                                    String: "working-directory" [841,860]
                                    STRING [861,876]
                                        String: "/transformers" [861,876]
                                FIELD [877,960]
                                    String: "run" [877,882]
                                    STRING [883,960]
                                        String: "rm -rf tests/__pycache__\nrm -rf tests/models/__pycache__\nrm -rf reports\n" [883,960]
                            OBJECT [962,1396]
                                FIELD [963,980]
                                    String: "id" [963,967]
                                    STRING [968,980]
                                        String: "set-matrix" [968,980]
                                FIELD [981,1013]
                                    String: "name" [981,987]
                                    STRING [988,1013]
                                        String: "Identify models to test" [988,1013]
                                FIELD [1014,1055]
                                    String: "working-directory" [1014,1033]
                                    STRING [1034,1055]
                                        String: "/transformers/tests" [1034,1055]
                                FIELD [1056,1395]
                                    String: "run" [1056,1061]
                                    STRING [1062,1395]
                                        String: "echo \"::set-output name=matrix::$(python3 -c 'import os; tests = os.getcwd(); model_tests = os.listdir(os.path.join(tests, \"models\")); d1 = sorted(list(filter(os.path.isdir, os.listdir(tests)))); d2 = sorted(list(filter(os.path.isdir, [f\"models/{x}\" for x in model_tests]))); d1.remove(\"models\"); d = d2 + d1; print(d)')\"\n" [1062,1395]
                            OBJECT [1397,1439]
                                FIELD [1398,1417]
                                    String: "name" [1398,1404]
                                    STRING [1405,1417]
                                        String: "NVIDIA-SMI" [1405,1417]
                                FIELD [1418,1438]
                                    String: "run" [1418,1423]
                                    STRING [1424,1438]
                                        String: "nvidia-smi\n" [1424,1438]
                            OBJECT [1440,1818]
                                FIELD [1441,1464]
                                    String: "name" [1441,1447]
                                    STRING [1448,1464]
                                        String: "GPU visibility" [1448,1464]
                                FIELD [1465,1500]
                                    String: "working-directory" [1465,1484]
                                    STRING [1485,1500]
                                        String: "/transformers" [1485,1500]
                                FIELD [1501,1817]
                                    String: "run" [1501,1506]
                                    STRING [1507,1817]
                                        String: "utils/print_env_pt.py\nTF_CPP_MIN_LOG_LEVEL=3 python3 -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python3 -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [1507,1817]
            FIELD [1821,3300]
                String: "run_tests_single_gpu" [1821,1843]
                OBJECT [1844,3300]
                    FIELD [1845,1865]
                        String: "name" [1845,1851]
                        STRING [1852,1865]
                            String: "Model tests" [1852,1865]
                    FIELD [1866,1996]
                        String: "strategy" [1866,1876]
                        OBJECT [1877,1996]
                            FIELD [1878,1895]
                                String: "fail-fast" [1878,1889]
                                FALSE [1890,1895]
                            FIELD [1896,1995]
                                String: "matrix" [1896,1904]
                                OBJECT [1905,1995]
                                    FIELD [1906,1961]
                                        String: "folders" [1906,1915]
                                        STRING [1916,1961]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [1916,1961]
                                    FIELD [1962,1994]
                                        String: "machines" [1962,1972]
                                        ARRAY [1973,1994]
                                            STRING [1974,1993]
                                                String: "single-gpu-docker" [1974,1993]
                    FIELD [1997,2031]
                        String: "runs-on" [1997,2006]
                        STRING [2007,2031]
                            String: "${{ matrix.machines }}" [2007,2031]
                    FIELD [2032,2192]
                        String: "container" [2032,2043]
                        OBJECT [2044,2192]
                            FIELD [2045,2094]
                                String: "image" [2045,2052]
                                STRING [2053,2094]
                                    String: "huggingface/transformers-all-latest-gpu" [2053,2094]
                            FIELD [2095,2191]
                                String: "options" [2095,2104]
                                STRING [2105,2191]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [2105,2191]
                    FIELD [2193,2208]
                        String: "needs" [2193,2200]
                        STRING [2201,2208]
                            String: "setup" [2201,2208]
                    FIELD [2209,3299]
                        String: "steps" [2209,2216]
                        ARRAY [2217,3299]
                            OBJECT [2218,2518]
                                FIELD [2219,2261]
                                    String: "name" [2219,2225]
                                    STRING [2226,2261]
                                        String: "Echo folder ${{ matrix.folders }}" [2226,2261]
                                FIELD [2262,2276]
                                    String: "shell" [2262,2269]
                                    STRING [2270,2276]
                                        String: "bash" [2270,2276]
                                FIELD [2277,2517]
                                    String: "run" [2277,2282]
                                    STRING [2283,2517]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\necho \"$matrix_folders\"\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [2283,2517]
                            OBJECT [2519,2630]
                                FIELD [2520,2541]
                                    String: "name" [2520,2526]
                                    STRING [2527,2541]
                                        String: "Update clone" [2527,2541]
                                FIELD [2542,2577]
                                    String: "working-directory" [2542,2561]
                                    STRING [2562,2577]
                                        String: "/transformers" [2562,2577]
                                FIELD [2578,2629]
                                    String: "run" [2578,2583]
                                    STRING [2584,2629]
                                        String: "git fetch && git checkout ${{ github.sha }}" [2584,2629]
                            OBJECT [2631,2825]
                                FIELD [2632,2661]
                                    String: "name" [2632,2638]
                                    STRING [2639,2661]
                                        String: "Run all tests on GPU" [2639,2661]
                                FIELD [2662,2697]
                                    String: "working-directory" [2662,2681]
                                    STRING [2682,2697]
                                        String: "/transformers" [2682,2697]
                                FIELD [2698,2824]
                                    String: "run" [2698,2703]
                                    STRING [2704,2824]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machines }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [2704,2824]
                            OBJECT [2826,3015]
                                FIELD [2827,2857]
                                    String: "name" [2827,2833]
                                    STRING [2834,2857]
                                        String: "Failure short reports" [2834,2857]
                                FIELD [2858,2881]
                                    String: "if" [2858,2862]
                                    STRING [2863,2881]
                                        String: "${{ failure() }}" [2863,2881]
                                FIELD [2882,2906]
                                    String: "continue-on-error" [2882,2901]
                                    TRUE [2902,2906]
                                FIELD [2907,3014]
                                    String: "run" [2907,2912]
                                    STRING [2913,3014]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [2913,3014]
                            OBJECT [3016,3298]
                                FIELD [3017,3054]
                                    String: "name" [3017,3023]
                                    STRING [3024,3054]
                                        String: "Test suite reports artifacts" [3024,3054]
                                FIELD [3055,3077]
                                    String: "if" [3055,3059]
                                    STRING [3060,3077]
                                        String: "${{ always() }}" [3060,3077]
                                FIELD [3078,3113]
                                    String: "uses" [3078,3084]
                                    STRING [3085,3113]
                                        String: "actions/upload-artifact@v2" [3085,3113]
                                FIELD [3114,3297]
                                    String: "with" [3114,3120]
                                    OBJECT [3121,3297]
                                        FIELD [3122,3210]
                                            String: "name" [3122,3128]
                                            STRING [3129,3210]
                                                String: "${{ matrix.machines }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports" [3129,3210]
                                        FIELD [3211,3296]
                                            String: "path" [3211,3217]
                                            STRING [3218,3296]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_gpu_${{ matrix.folders }}" [3218,3296]
            FIELD [3301,4778]
                String: "run_tests_multi_gpu" [3301,3322]
                OBJECT [3323,4778]
                    FIELD [3324,3344]
                        String: "name" [3324,3330]
                        STRING [3331,3344]
                            String: "Model tests" [3331,3344]
                    FIELD [3345,3474]
                        String: "strategy" [3345,3355]
                        OBJECT [3356,3474]
                            FIELD [3357,3374]
                                String: "fail-fast" [3357,3368]
                                FALSE [3369,3374]
                            FIELD [3375,3473]
                                String: "matrix" [3375,3383]
                                OBJECT [3384,3473]
                                    FIELD [3385,3440]
                                        String: "folders" [3385,3394]
                                        STRING [3395,3440]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [3395,3440]
                                    FIELD [3441,3472]
                                        String: "machines" [3441,3451]
                                        ARRAY [3452,3472]
                                            STRING [3453,3471]
                                                String: "multi-gpu-docker" [3453,3471]
                    FIELD [3475,3509]
                        String: "runs-on" [3475,3484]
                        STRING [3485,3509]
                            String: "${{ matrix.machines }}" [3485,3509]
                    FIELD [3510,3670]
                        String: "container" [3510,3521]
                        OBJECT [3522,3670]
                            FIELD [3523,3572]
                                String: "image" [3523,3530]
                                STRING [3531,3572]
                                    String: "huggingface/transformers-all-latest-gpu" [3531,3572]
                            FIELD [3573,3669]
                                String: "options" [3573,3582]
                                STRING [3583,3669]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [3583,3669]
                    FIELD [3671,3686]
                        String: "needs" [3671,3678]
                        STRING [3679,3686]
                            String: "setup" [3679,3686]
                    FIELD [3687,4777]
                        String: "steps" [3687,3694]
                        ARRAY [3695,4777]
                            OBJECT [3696,3996]
                                FIELD [3697,3739]
                                    String: "name" [3697,3703]
                                    STRING [3704,3739]
                                        String: "Echo folder ${{ matrix.folders }}" [3704,3739]
                                FIELD [3740,3754]
                                    String: "shell" [3740,3747]
                                    STRING [3748,3754]
                                        String: "bash" [3748,3754]
                                FIELD [3755,3995]
                                    String: "run" [3755,3760]
                                    STRING [3761,3995]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\necho \"$matrix_folders\"\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [3761,3995]
                            OBJECT [3997,4108]
                                FIELD [3998,4019]
                                    String: "name" [3998,4004]
                                    STRING [4005,4019]
                                        String: "Update clone" [4005,4019]
                                FIELD [4020,4055]
                                    String: "working-directory" [4020,4039]
                                    STRING [4040,4055]
                                        String: "/transformers" [4040,4055]
                                FIELD [4056,4107]
                                    String: "run" [4056,4061]
                                    STRING [4062,4107]
                                        String: "git fetch && git checkout ${{ github.sha }}" [4062,4107]
                            OBJECT [4109,4303]
                                FIELD [4110,4139]
                                    String: "name" [4110,4116]
                                    STRING [4117,4139]
                                        String: "Run all tests on GPU" [4117,4139]
                                FIELD [4140,4175]
                                    String: "working-directory" [4140,4159]
                                    STRING [4160,4175]
                                        String: "/transformers" [4160,4175]
                                FIELD [4176,4302]
                                    String: "run" [4176,4181]
                                    STRING [4182,4302]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machines }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [4182,4302]
                            OBJECT [4304,4493]
                                FIELD [4305,4335]
                                    String: "name" [4305,4311]
                                    STRING [4312,4335]
                                        String: "Failure short reports" [4312,4335]
                                FIELD [4336,4359]
                                    String: "if" [4336,4340]
                                    STRING [4341,4359]
                                        String: "${{ failure() }}" [4341,4359]
                                FIELD [4360,4384]
                                    String: "continue-on-error" [4360,4379]
                                    TRUE [4380,4384]
                                FIELD [4385,4492]
                                    String: "run" [4385,4390]
                                    STRING [4391,4492]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [4391,4492]
                            OBJECT [4494,4776]
                                FIELD [4495,4532]
                                    String: "name" [4495,4501]
                                    STRING [4502,4532]
                                        String: "Test suite reports artifacts" [4502,4532]
                                FIELD [4533,4555]
                                    String: "if" [4533,4537]
                                    STRING [4538,4555]
                                        String: "${{ always() }}" [4538,4555]
                                FIELD [4556,4591]
                                    String: "uses" [4556,4562]
                                    STRING [4563,4591]
                                        String: "actions/upload-artifact@v2" [4563,4591]
                                FIELD [4592,4775]
                                    String: "with" [4592,4598]
                                    OBJECT [4599,4775]
                                        FIELD [4600,4688]
                                            String: "name" [4600,4606]
                                            STRING [4607,4688]
                                                String: "${{ matrix.machines }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports" [4607,4688]
                                        FIELD [4689,4774]
                                            String: "path" [4689,4695]
                                            STRING [4696,4774]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_gpu_${{ matrix.folders }}" [4696,4774]
            FIELD [4779,5704]
                String: "run_examples_gpu" [4779,4797]
                OBJECT [4798,5704]
                    FIELD [4799,4826]
                        String: "name" [4799,4805]
                        STRING [4806,4826]
                            String: "Examples directory" [4806,4826]
                    FIELD [4827,4872]
                        String: "runs-on" [4827,4836]
                        ARRAY [4837,4872]
                            STRING [4838,4851]
                                String: "self-hosted" [4838,4851]
                            STRING [4852,4871]
                                String: "single-gpu-docker" [4852,4871]
                    FIELD [4873,5033]
                        String: "container" [4873,4884]
                        OBJECT [4885,5033]
                            FIELD [4886,4935]
                                String: "image" [4886,4893]
                                STRING [4894,4935]
                                    String: "huggingface/transformers-all-latest-gpu" [4894,4935]
                            FIELD [4936,5032]
                                String: "options" [4936,4945]
                                STRING [4946,5032]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [4946,5032]
                    FIELD [5034,5049]
                        String: "needs" [5034,5041]
                        STRING [5042,5049]
                            String: "setup" [5042,5049]
                    FIELD [5050,5703]
                        String: "steps" [5050,5057]
                        ARRAY [5058,5703]
                            OBJECT [5059,5170]
                                FIELD [5060,5081]
                                    String: "name" [5060,5066]
                                    STRING [5067,5081]
                                        String: "Update clone" [5067,5081]
                                FIELD [5082,5117]
                                    String: "working-directory" [5082,5101]
                                    STRING [5102,5117]
                                        String: "/transformers" [5102,5117]
                                FIELD [5118,5169]
                                    String: "run" [5118,5123]
                                    STRING [5124,5169]
                                        String: "git fetch && git checkout ${{ github.sha }}" [5124,5169]
                            OBJECT [5171,5376]
                                FIELD [5172,5206]
                                    String: "name" [5172,5178]
                                    STRING [5179,5206]
                                        String: "Run examples tests on GPU" [5179,5206]
                                FIELD [5207,5242]
                                    String: "working-directory" [5207,5226]
                                    STRING [5227,5242]
                                        String: "/transformers" [5227,5242]
                                FIELD [5243,5375]
                                    String: "run" [5243,5248]
                                    STRING [5249,5375]
                                        String: "pip install -r examples/pytorch/_tests_requirements.txt\npython3 -m pytest -v --make-reports=examples_gpu examples/pytorch\n" [5249,5375]
                            OBJECT [5377,5524]
                                FIELD [5378,5408]
                                    String: "name" [5378,5384]
                                    STRING [5385,5408]
                                        String: "Failure short reports" [5385,5408]
                                FIELD [5409,5432]
                                    String: "if" [5409,5413]
                                    STRING [5414,5432]
                                        String: "${{ failure() }}" [5414,5432]
                                FIELD [5433,5457]
                                    String: "continue-on-error" [5433,5452]
                                    TRUE [5453,5457]
                                FIELD [5458,5523]
                                    String: "run" [5458,5463]
                                    STRING [5464,5523]
                                        String: "cat /transformers/reports/examples_gpu/failures_short.txt" [5464,5523]
                            OBJECT [5525,5702]
                                FIELD [5526,5563]
                                    String: "name" [5526,5532]
                                    STRING [5533,5563]
                                        String: "Test suite reports artifacts" [5533,5563]
                                FIELD [5564,5586]
                                    String: "if" [5564,5568]
                                    STRING [5569,5586]
                                        String: "${{ always() }}" [5569,5586]
                                FIELD [5587,5622]
                                    String: "uses" [5587,5593]
                                    STRING [5594,5622]
                                        String: "actions/upload-artifact@v2" [5594,5622]
                                FIELD [5623,5701]
                                    String: "with" [5623,5629]
                                    OBJECT [5630,5701]
                                        FIELD [5631,5656]
                                            String: "name" [5631,5637]
                                            STRING [5638,5656]
                                                String: "run_examples_gpu" [5638,5656]
                                        FIELD [5657,5700]
                                            String: "path" [5657,5663]
                                            STRING [5664,5700]
                                                String: "/transformers/reports/examples_gpu" [5664,5700]
            FIELD [5705,6867]
                String: "run_pipelines_torch_gpu" [5705,5730]
                OBJECT [5731,6867]
                    FIELD [5732,5758]
                        String: "name" [5732,5738]
                        STRING [5739,5758]
                            String: "PyTorch pipelines" [5739,5758]
                    FIELD [5759,5852]
                        String: "strategy" [5759,5769]
                        OBJECT [5770,5852]
                            FIELD [5771,5788]
                                String: "fail-fast" [5771,5782]
                                FALSE [5783,5788]
                            FIELD [5789,5851]
                                String: "matrix" [5789,5797]
                                OBJECT [5798,5851]
                                    FIELD [5799,5850]
                                        String: "machines" [5799,5809]
                                        ARRAY [5810,5850]
                                            STRING [5811,5829]
                                                String: "multi-gpu-docker" [5811,5829]
                                            STRING [5830,5849]
                                                String: "single-gpu-docker" [5830,5849]
                    FIELD [5853,5887]
                        String: "runs-on" [5853,5862]
                        STRING [5863,5887]
                            String: "${{ matrix.machines }}" [5863,5887]
                    FIELD [5888,6045]
                        String: "container" [5888,5899]
                        OBJECT [5900,6045]
                            FIELD [5901,5947]
                                String: "image" [5901,5908]
                                STRING [5909,5947]
                                    String: "huggingface/transformers-pytorch-gpu" [5909,5947]
                            FIELD [5948,6044]
                                String: "options" [5948,5957]
                                STRING [5958,6044]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [5958,6044]
                    FIELD [6046,6061]
                        String: "needs" [6046,6053]
                        STRING [6054,6061]
                            String: "setup" [6054,6061]
                    FIELD [6062,6866]
                        String: "steps" [6062,6069]
                        ARRAY [6070,6866]
                            OBJECT [6071,6182]
                                FIELD [6072,6093]
                                    String: "name" [6072,6078]
                                    STRING [6079,6093]
                                        String: "Update clone" [6079,6093]
                                FIELD [6094,6129]
                                    String: "working-directory" [6094,6113]
                                    STRING [6114,6129]
                                        String: "/transformers" [6114,6129]
                                FIELD [6130,6181]
                                    String: "run" [6130,6135]
                                    STRING [6136,6181]
                                        String: "git fetch && git checkout ${{ github.sha }}" [6136,6181]
                            OBJECT [6183,6434]
                                FIELD [6184,6222]
                                    String: "name" [6184,6190]
                                    STRING [6191,6222]
                                        String: "Run all pipeline tests on GPU" [6191,6222]
                                FIELD [6223,6258]
                                    String: "working-directory" [6223,6242]
                                    STRING [6243,6258]
                                        String: "/transformers" [6243,6258]
                                FIELD [6259,6292]
                                    String: "env" [6259,6264]
                                    OBJECT [6265,6292]
                                        FIELD [6266,6291]
                                            String: "RUN_PIPELINE_TESTS" [6266,6286]
                                            TRUE [6287,6291]
                                FIELD [6293,6433]
                                    String: "run" [6293,6298]
                                    STRING [6299,6433]
                                        String: "python3 -m pytest -n 1 -v --dist=loadfile -m is_pipeline_test --make-reports=${{ matrix.machines }}_tests_torch_pipeline_gpu tests\n" [6299,6433]
                            OBJECT [6435,6617]
                                FIELD [6436,6466]
                                    String: "name" [6436,6442]
                                    STRING [6443,6466]
                                        String: "Failure short reports" [6443,6466]
                                FIELD [6467,6490]
                                    String: "if" [6467,6471]
                                    STRING [6472,6490]
                                        String: "${{ failure() }}" [6472,6490]
                                FIELD [6491,6515]
                                    String: "continue-on-error" [6491,6510]
                                    TRUE [6511,6515]
                                FIELD [6516,6616]
                                    String: "run" [6516,6521]
                                    STRING [6522,6616]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_torch_pipeline_gpu/failures_short.txt" [6522,6616]
                            OBJECT [6618,6865]
                                FIELD [6619,6656]
                                    String: "name" [6619,6625]
                                    STRING [6626,6656]
                                        String: "Test suite reports artifacts" [6626,6656]
                                FIELD [6657,6679]
                                    String: "if" [6657,6661]
                                    STRING [6662,6679]
                                        String: "${{ always() }}" [6662,6679]
                                FIELD [6680,6715]
                                    String: "uses" [6680,6686]
                                    STRING [6687,6715]
                                        String: "actions/upload-artifact@v2" [6687,6715]
                                FIELD [6716,6864]
                                    String: "with" [6716,6722]
                                    OBJECT [6723,6864]
                                        FIELD [6724,6784]
                                            String: "name" [6724,6730]
                                            STRING [6731,6784]
                                                String: "${{ matrix.machines }}_run_tests_torch_pipeline_gpu" [6731,6784]
                                        FIELD [6785,6863]
                                            String: "path" [6785,6791]
                                            STRING [6792,6863]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_torch_pipeline_gpu" [6792,6863]
            FIELD [6868,7999]
                String: "run_pipelines_tf_gpu" [6868,6890]
                OBJECT [6891,7999]
                    FIELD [6892,6921]
                        String: "name" [6892,6898]
                        STRING [6899,6921]
                            String: "TensorFlow pipelines" [6899,6921]
                    FIELD [6922,7015]
                        String: "strategy" [6922,6932]
                        OBJECT [6933,7015]
                            FIELD [6934,6951]
                                String: "fail-fast" [6934,6945]
                                FALSE [6946,6951]
                            FIELD [6952,7014]
                                String: "matrix" [6952,6960]
                                OBJECT [6961,7014]
                                    FIELD [6962,7013]
                                        String: "machines" [6962,6972]
                                        ARRAY [6973,7013]
                                            STRING [6974,6992]
                                                String: "multi-gpu-docker" [6974,6992]
                                            STRING [6993,7012]
                                                String: "single-gpu-docker" [6993,7012]
                    FIELD [7016,7050]
                        String: "runs-on" [7016,7025]
                        STRING [7026,7050]
                            String: "${{ matrix.machines }}" [7026,7050]
                    FIELD [7051,7211]
                        String: "container" [7051,7062]
                        OBJECT [7063,7211]
                            FIELD [7064,7113]
                                String: "image" [7064,7071]
                                STRING [7072,7113]
                                    String: "huggingface/transformers-tensorflow-gpu" [7072,7113]
                            FIELD [7114,7210]
                                String: "options" [7114,7123]
                                STRING [7124,7210]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [7124,7210]
                    FIELD [7212,7227]
                        String: "needs" [7212,7219]
                        STRING [7220,7227]
                            String: "setup" [7220,7227]
                    FIELD [7228,7998]
                        String: "steps" [7228,7235]
                        ARRAY [7236,7998]
                            OBJECT [7237,7350]
                                FIELD [7238,7259]
                                    String: "name" [7238,7244]
                                    STRING [7245,7259]
                                        String: "Update clone" [7245,7259]
                                FIELD [7260,7295]
                                    String: "working-directory" [7260,7279]
                                    STRING [7280,7295]
                                        String: "/transformers" [7280,7295]
                                FIELD [7296,7349]
                                    String: "run" [7296,7301]
                                    STRING [7302,7349]
                                        String: "git fetch && git checkout ${{ github.sha }}\n" [7302,7349]
                            OBJECT [7351,7599]
                                FIELD [7352,7390]
                                    String: "name" [7352,7358]
                                    STRING [7359,7390]
                                        String: "Run all pipeline tests on GPU" [7359,7390]
                                FIELD [7391,7426]
                                    String: "working-directory" [7391,7410]
                                    STRING [7411,7426]
                                        String: "/transformers" [7411,7426]
                                FIELD [7427,7460]
                                    String: "env" [7427,7432]
                                    OBJECT [7433,7460]
                                        FIELD [7434,7459]
                                            String: "RUN_PIPELINE_TESTS" [7434,7454]
                                            TRUE [7455,7459]
                                FIELD [7461,7598]
                                    String: "run" [7461,7466]
                                    STRING [7467,7598]
                                        String: "python3 -m pytest -n 1 -v --dist=loadfile -m is_pipeline_test --make-reports=${{ matrix.machines }}_tests_tf_pipeline_gpu tests\n" [7467,7598]
                            OBJECT [7600,7755]
                                FIELD [7601,7631]
                                    String: "name" [7601,7607]
                                    STRING [7608,7631]
                                        String: "Failure short reports" [7608,7631]
                                FIELD [7632,7654]
                                    String: "if" [7632,7636]
                                    STRING [7637,7654]
                                        String: "${{ always() }}" [7637,7654]
                                FIELD [7655,7754]
                                    String: "run" [7655,7660]
                                    STRING [7661,7754]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_tf_pipeline_gpu/failures_short.txt\n" [7661,7754]
                            OBJECT [7756,7997]
                                FIELD [7757,7794]
                                    String: "name" [7757,7763]
                                    STRING [7764,7794]
                                        String: "Test suite reports artifacts" [7764,7794]
                                FIELD [7795,7817]
                                    String: "if" [7795,7799]
                                    STRING [7800,7817]
                                        String: "${{ always() }}" [7800,7817]
                                FIELD [7818,7853]
                                    String: "uses" [7818,7824]
                                    STRING [7825,7853]
                                        String: "actions/upload-artifact@v2" [7825,7853]
                                FIELD [7854,7996]
                                    String: "with" [7854,7860]
                                    OBJECT [7861,7996]
                                        FIELD [7862,7919]
                                            String: "name" [7862,7868]
                                            STRING [7869,7919]
                                                String: "${{ matrix.machines }}_run_tests_tf_pipeline_gpu" [7869,7919]
                                        FIELD [7920,7995]
                                            String: "path" [7920,7926]
                                            STRING [7927,7995]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_tf_pipeline_gpu" [7927,7995]
            FIELD [8000,9631]
                String: "run_all_tests_torch_cuda_extensions_gpu" [8000,8041]
                OBJECT [8042,9631]
                    FIELD [8043,8078]
                        String: "name" [8043,8049]
                        STRING [8050,8078]
                            String: "Torch CUDA extension tests" [8050,8078]
                    FIELD [8079,8172]
                        String: "strategy" [8079,8089]
                        OBJECT [8090,8172]
                            FIELD [8091,8108]
                                String: "fail-fast" [8091,8102]
                                FALSE [8103,8108]
                            FIELD [8109,8171]
                                String: "matrix" [8109,8117]
                                OBJECT [8118,8171]
                                    FIELD [8119,8170]
                                        String: "machines" [8119,8129]
                                        ARRAY [8130,8170]
                                            STRING [8131,8149]
                                                String: "multi-gpu-docker" [8131,8149]
                                            STRING [8150,8169]
                                                String: "single-gpu-docker" [8150,8169]
                    FIELD [8173,8207]
                        String: "runs-on" [8173,8182]
                        STRING [8183,8207]
                            String: "${{ matrix.machines }}" [8183,8207]
                    FIELD [8208,8223]
                        String: "needs" [8208,8215]
                        STRING [8216,8223]
                            String: "setup" [8216,8223]
                    FIELD [8224,8400]
                        String: "container" [8224,8235]
                        OBJECT [8236,8400]
                            FIELD [8237,8300]
                                String: "image" [8237,8244]
                                STRING [8245,8300]
                                    String: "huggingface/transformers-pytorch-deepspeed-latest-gpu" [8245,8300]
                            FIELD [8301,8399]
                                String: "options" [8301,8310]
                                STRING [8311,8399]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [8311,8399]
                    FIELD [8401,9630]
                        String: "steps" [8401,8408]
                        ARRAY [8409,9630]
                            OBJECT [8410,8531]
                                FIELD [8411,8432]
                                    String: "name" [8411,8417]
                                    STRING [8418,8432]
                                        String: "Update clone" [8418,8432]
                                FIELD [8433,8478]
                                    String: "working-directory" [8433,8452]
                                    STRING [8453,8478]
                                        String: "/workspace/transformers" [8453,8478]
                                FIELD [8479,8530]
                                    String: "run" [8479,8484]
                                    STRING [8485,8530]
                                        String: "git fetch && git checkout ${{ github.sha }}" [8485,8530]
                            OBJECT [8532,8935]
                                FIELD [8533,8562]
                                    String: "name" [8533,8539]
                                    STRING [8540,8562]
                                        String: "Re-compile DeepSpeed" [8540,8562]
                                FIELD [8563,8595]
                                    String: "working-directory" [8563,8582]
                                    STRING [8583,8595]
                                        String: "/workspace" [8583,8595]
                                FIELD [8596,8934]
                                    String: "run" [8596,8601]
                                    STRING [8602,8934]
                                        String: "pip install deepspeed # installs the deps correctly\nrm -rf DeepSpeed\ngit clone https://github.com/microsoft/DeepSpeed && cd DeepSpeed && rm -rf build\nDS_BUILD_CPU_ADAM=1 DS_BUILD_AIO=1 DS_BUILD_UTILS=1 python3 -m pip install -e . --global-option=\"build_ext\" --global-option=\"-j8\" --no-cache -v --disable-pip-version-check\n" [8602,8934]
                            OBJECT [8936,9144]
                                FIELD [8937,8966]
                                    String: "name" [8937,8943]
                                    STRING [8944,8966]
                                        String: "Run all tests on GPU" [8944,8966]
                                FIELD [8967,9012]
                                    String: "working-directory" [8967,8986]
                                    STRING [8987,9012]
                                        String: "/workspace/transformers" [8987,9012]
                                FIELD [9013,9143]
                                    String: "run" [9013,9018]
                                    STRING [9019,9143]
                                        String: "python -m pytest -v --make-reports=${{ matrix.machines }}_tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [9019,9143]
                            OBJECT [9145,9344]
                                FIELD [9146,9176]
                                    String: "name" [9146,9152]
                                    STRING [9153,9176]
                                        String: "Failure short reports" [9153,9176]
                                FIELD [9177,9200]
                                    String: "if" [9177,9181]
                                    STRING [9182,9200]
                                        String: "${{ failure() }}" [9182,9200]
                                FIELD [9201,9225]
                                    String: "continue-on-error" [9201,9220]
                                    TRUE [9221,9225]
                                FIELD [9226,9343]
                                    String: "run" [9226,9231]
                                    STRING [9232,9343]
                                        String: "cat /workspace/transformers/reports/${{ matrix.machines }}_tests_torch_cuda_extensions_gpu/failures_short.txt" [9232,9343]
                            OBJECT [9345,9629]
                                FIELD [9346,9383]
                                    String: "name" [9346,9352]
                                    STRING [9353,9383]
                                        String: "Test suite reports artifacts" [9353,9383]
                                FIELD [9384,9406]
                                    String: "if" [9384,9388]
                                    STRING [9389,9406]
                                        String: "${{ always() }}" [9389,9406]
                                FIELD [9407,9442]
                                    String: "uses" [9407,9413]
                                    STRING [9414,9442]
                                        String: "actions/upload-artifact@v2" [9414,9442]
                                FIELD [9443,9628]
                                    String: "with" [9443,9449]
                                    OBJECT [9450,9628]
                                        FIELD [9451,9531]
                                            String: "name" [9451,9457]
                                            STRING [9458,9531]
                                                String: "${{ matrix.machines }}_run_tests_torch_cuda_extensions_gpu_test_reports" [9458,9531]
                                        FIELD [9532,9627]
                                            String: "path" [9532,9538]
                                            STRING [9539,9627]
                                                String: "/workspace/transformers/reports/${{ matrix.machines }}_tests_torch_cuda_extensions_gpu" [9539,9627]
            FIELD [9632,10388]
                String: "send_results" [9632,9646]
                OBJECT [9647,10388]
                    FIELD [9648,9680]
                        String: "name" [9648,9654]
                        STRING [9655,9680]
                            String: "Send results to webhook" [9655,9680]
                    FIELD [9681,9706]
                        String: "runs-on" [9681,9690]
                        STRING [9691,9706]
                            String: "ubuntu-latest" [9691,9706]
                    FIELD [9707,9722]
                        String: "if" [9707,9711]
                        STRING [9712,9722]
                            String: "always()" [9712,9722]
                    FIELD [9723,9895]
                        String: "needs" [9723,9730]
                        ARRAY [9731,9895]
                            STRING [9732,9739]
                                String: "setup" [9732,9739]
                            STRING [9740,9762]
                                String: "run_tests_single_gpu" [9740,9762]
                            STRING [9763,9784]
                                String: "run_tests_multi_gpu" [9763,9784]
                            STRING [9785,9803]
                                String: "run_examples_gpu" [9785,9803]
                            STRING [9804,9826]
                                String: "run_pipelines_tf_gpu" [9804,9826]
                            STRING [9827,9852]
                                String: "run_pipelines_torch_gpu" [9827,9852]
                            STRING [9853,9894]
                                String: "run_all_tests_torch_cuda_extensions_gpu" [9853,9894]
                    FIELD [9896,10387]
                        String: "steps" [9896,9903]
                        ARRAY [9904,10387]
                            OBJECT [9905,9935]
                                FIELD [9906,9934]
                                    String: "uses" [9906,9912]
                                    STRING [9913,9934]
                                        String: "actions/checkout@v2" [9913,9934]
                            OBJECT [9936,9975]
                                FIELD [9937,9974]
                                    String: "uses" [9937,9943]
                                    STRING [9944,9974]
                                        String: "actions/download-artifact@v2" [9944,9974]
                            OBJECT [9976,10386]
                                FIELD [9977,10007]
                                    String: "name" [9977,9983]
                                    STRING [9984,10007]
                                        String: "Send message to Slack" [9984,10007]
                                FIELD [10008,10279]
                                    String: "env" [10008,10013]
                                    OBJECT [10014,10279]
                                        FIELD [10015,10071]
                                            String: "CI_SLACK_BOT_TOKEN" [10015,10035]
                                            STRING [10036,10071]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [10036,10071]
                                        FIELD [10072,10130]
                                            String: "CI_SLACK_CHANNEL_ID" [10072,10093]
                                            STRING [10094,10130]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [10094,10130]
                                        FIELD [10131,10201]
                                            String: "CI_SLACK_CHANNEL_ID_DAILY" [10131,10158]
                                            STRING [10159,10201]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY }}" [10159,10201]
                                        FIELD [10202,10278]
                                            String: "CI_SLACK_CHANNEL_DUMMY_TESTS" [10202,10232]
                                            STRING [10233,10278]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_DUMMY_TESTS }}" [10233,10278]
                                FIELD [10280,10385]
                                    String: "run" [10280,10285]
                                    STRING [10286,10385]
                                        String: "pip install slack_sdk\npython utils/notification_service.py \"${{ needs.setup.outputs.matrix }}\"" [10286,10385]