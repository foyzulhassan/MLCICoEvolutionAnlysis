OBJECT [0,5534]
    FIELD [1,24]
        String: "name" [1,7]
        STRING [8,24]
            String: "Arraymancer CI" [8,24]
    FIELD [25,101]
        String: "on" [25,29]
        OBJECT [30,101]
            FIELD [31,61]
                String: "push" [31,37]
                OBJECT [38,61]
                    FIELD [39,60]
                        String: "branches" [39,49]
                        ARRAY [50,60]
                            STRING [51,59]
                                String: "master" [51,59]
            FIELD [62,100]
                String: "pull_request" [62,76]
                OBJECT [77,100]
                    FIELD [78,99]
                        String: "branches" [78,88]
                        ARRAY [89,99]
                            STRING [90,98]
                                String: "master" [90,98]
    FIELD [102,5533]
        String: "jobs" [102,108]
        OBJECT [109,5533]
            FIELD [110,5532]
                String: "build" [110,117]
                OBJECT [118,5532]
                    FIELD [119,449]
                        String: "strategy" [119,129]
                        OBJECT [130,449]
                            FIELD [131,148]
                                String: "fail-fast" [131,142]
                                FALSE [143,148]
                            FIELD [149,166]
                                String: "max-parallel" [149,163]
                                NUMBER [164,166]
                                    Number: 20 [164,166]
                            FIELD [167,448]
                                String: "matrix" [167,175]
                                OBJECT [176,448]
                                    FIELD [177,220]
                                        String: "nim" [177,182]
                                        ARRAY [183,220]
                                            STRING [184,197]
                                                String: "version-1-6" [184,197]
                                            STRING [198,211]
                                                String: "version-2-0" [198,211]
                                            STRING [212,219]
                                                String: "devel" [212,219]
                                    FIELD [221,289]
                                        String: "target" [221,229]
                                        ARRAY [230,289]
                                            OBJECT [231,259]
                                                FIELD [232,244]
                                                    String: "os" [232,236]
                                                    STRING [237,244]
                                                        String: "linux" [237,244]
                                                FIELD [245,258]
                                                    String: "cpu" [245,250]
                                                    STRING [251,258]
                                                        String: "amd64" [251,258]
                                            OBJECT [260,288]
                                                FIELD [261,273]
                                                    String: "os" [261,265]
                                                    STRING [266,273]
                                                        String: "macos" [266,273]
                                                FIELD [274,287]
                                                    String: "cpu" [274,279]
                                                    STRING [280,287]
                                                        String: "amd64" [280,287]
                                    FIELD [290,307]
                                        String: "test_lang" [290,301]
                                        ARRAY [302,307]
                                            STRING [303,306]
                                                String: "c" [303,306]
                                    FIELD [308,447]
                                        String: "include" [308,317]
                                        ARRAY [318,447]
                                            OBJECT [319,384]
                                                FIELD [320,343]
                                                    String: "target" [320,328]
                                                    OBJECT [329,343]
                                                        FIELD [330,342]
                                                            String: "os" [330,334]
                                                            STRING [335,342]
                                                                String: "linux" [335,342]
                                                FIELD [344,368]
                                                    String: "builder" [344,353]
                                                    STRING [354,368]
                                                        String: "ubuntu-20.04" [354,368]
                                                FIELD [369,383]
                                                    String: "shell" [369,376]
                                                    STRING [377,383]
                                                        String: "bash" [377,383]
                                            OBJECT [385,446]
                                                FIELD [386,409]
                                                    String: "target" [386,394]
                                                    OBJECT [395,409]
                                                        FIELD [396,408]
                                                            String: "os" [396,400]
                                                            STRING [401,408]
                                                                String: "macos" [401,408]
                                                FIELD [410,430]
                                                    String: "builder" [410,419]
                                                    STRING [420,430]
                                                        String: "macos-11" [420,430]
                                                FIELD [431,445]
                                                    String: "shell" [431,438]
                                                    STRING [439,445]
                                                        String: "bash" [439,445]
                    FIELD [450,500]
                        String: "defaults" [450,460]
                        OBJECT [461,500]
                            FIELD [462,499]
                                String: "run" [462,467]
                                OBJECT [468,499]
                                    FIELD [469,498]
                                        String: "shell" [469,476]
                                        STRING [477,498]
                                            String: "${{ matrix.shell }}" [477,498]
                    FIELD [501,601]
                        String: "name" [501,507]
                        STRING [508,601]
                            String: "${{ matrix.target.os }}-${{ matrix.target.cpu }}-${{ matrix.test_lang }} (${{ matrix.nim}})" [508,601]
                    FIELD [602,635]
                        String: "runs-on" [602,611]
                        STRING [612,635]
                            String: "${{ matrix.builder }}" [612,635]
                    FIELD [636,5531]
                        String: "steps" [636,643]
                        ARRAY [644,5531]
                            OBJECT [645,1045]
                                FIELD [646,670]
                                    String: "name" [646,652]
                                    STRING [653,670]
                                        String: "Get branch name" [653,670]
                                FIELD [671,685]
                                    String: "shell" [671,678]
                                    STRING [679,685]
                                        String: "bash" [679,685]
                                FIELD [686,1026]
                                    String: "run" [686,691]
                                    STRING [692,1026]
                                        String: "if [[ '${{  github.event_name }}' == 'pull_request' ]]; then\n  echo \"##[set-output name=branch_name;]$(echo ${GITHUB_HEAD_REF})\"\n  echo \"Branch found (PR): ${GITHUB_HEAD_REF}\"\nelse\n  echo \"##[set-output name=branch_name;]$(echo ${GITHUB_REF#refs/heads/})\"\n  echo \"Branch found (not PR): ${GITHUB_REF#refs/heads/}\"\nfi\n" [692,1026]
                                FIELD [1027,1044]
                                    String: "id" [1027,1031]
                                    STRING [1032,1044]
                                        String: "get_branch" [1032,1044]
                            OBJECT [1046,1242]
                                FIELD [1047,1092]
                                    String: "name" [1047,1053]
                                    STRING [1054,1092]
                                        String: "Cancel Previous Runs (except master)" [1054,1092]
                                FIELD [1093,1150]
                                    String: "if" [1093,1097]
                                    STRING [1098,1150]
                                        String: "steps.get_branch.outputs.branch_name != 'master'\n" [1098,1150]
                                FIELD [1151,1195]
                                    String: "uses" [1151,1157]
                                    STRING [1158,1195]
                                        String: "styfle/cancel-workflow-action@0.5.0" [1158,1195]
                                FIELD [1196,1241]
                                    String: "with" [1196,1202]
                                    OBJECT [1203,1241]
                                        FIELD [1204,1240]
                                            String: "access_token" [1204,1218]
                                            STRING [1219,1240]
                                                String: "${{ github.token }}" [1219,1240]
                            OBJECT [1243,1351]
                                FIELD [1244,1273]
                                    String: "name" [1244,1250]
                                    STRING [1251,1273]
                                        String: "Checkout arraymancer" [1251,1273]
                                FIELD [1274,1302]
                                    String: "uses" [1274,1280]
                                    STRING [1281,1302]
                                        String: "actions/checkout@v2" [1281,1302]
                                FIELD [1303,1350]
                                    String: "with" [1303,1309]
                                    OBJECT [1310,1350]
                                        FIELD [1311,1331]
                                            String: "path" [1311,1317]
                                            STRING [1318,1331]
                                                String: "arraymancer" [1318,1331]
                                        FIELD [1332,1349]
                                            String: "submodules" [1332,1344]
                                            TRUE [1345,1349]
                            OBJECT [1352,1962]
                                FIELD [1353,1401]
                                    String: "name" [1353,1359]
                                    STRING [1360,1401]
                                        String: "Install build dependencies (Linux i386)" [1360,1401]
                                FIELD [1402,1460]
                                    String: "if" [1402,1406]
                                    STRING [1407,1460]
                                        String: "runner.os == 'Linux' && matrix.target.cpu == 'i386'" [1407,1460]
                                FIELD [1461,1961]
                                    String: "run" [1461,1466]
                                    STRING [1467,1961]
                                        String: "sudo dpkg --add-architecture i386\nsudo apt-fast update -qq\nsudo DEBIAN_FRONTEND='noninteractive' apt-fast install \\\n  --no-install-recommends -yq gcc-multilib g++-multilib \\\n  libssl-dev:i386\nmkdir -p external/bin\ncat << EOF > external/bin/gcc\n#!/bin/bash\nexec $(which gcc) -m32 \"\\$@\"\nEOF\ncat << EOF > external/bin/g++\n#!/bin/bash\nexec $(which g++) -m32 \"\\$@\"\nEOF\nchmod 755 external/bin/gcc external/bin/g++\necho '${{ github.workspace }}/external/bin' >> $GITHUB_PATH\n" [1467,1961]
                            OBJECT [1963,2188]
                                FIELD [1964,1993]
                                    String: "name" [1964,1970]
                                    STRING [1971,1993]
                                        String: "MSYS2 (Windows i386)" [1971,1993]
                                FIELD [1994,2054]
                                    String: "if" [1994,1998]
                                    STRING [1999,2054]
                                        String: "runner.os == 'Windows' && matrix.target.cpu == 'i386'" [1999,2054]
                                FIELD [2055,2084]
                                    String: "uses" [2055,2061]
                                    STRING [2062,2084]
                                        String: "msys2/setup-msys2@v2" [2062,2084]
                                FIELD [2085,2187]
                                    String: "with" [2085,2091]
                                    OBJECT [2092,2187]
                                        FIELD [2093,2114]
                                            String: "path-type" [2093,2104]
                                            STRING [2105,2114]
                                                String: "inherit" [2105,2114]
                                        FIELD [2115,2134]
                                            String: "msystem" [2115,2124]
                                            STRING [2125,2134]
                                                String: "MINGW32" [2125,2134]
                                        FIELD [2135,2186]
                                            String: "install" [2135,2144]
                                            STRING [2145,2186]
                                                String: "base-devel git mingw-w64-i686-toolchain" [2145,2186]
                            OBJECT [2189,2398]
                                FIELD [2190,2220]
                                    String: "name" [2190,2196]
                                    STRING [2197,2220]
                                        String: "MSYS2 (Windows amd64)" [2197,2220]
                                FIELD [2221,2282]
                                    String: "if" [2221,2225]
                                    STRING [2226,2282]
                                        String: "runner.os == 'Windows' && matrix.target.cpu == 'amd64'" [2226,2282]
                                FIELD [2283,2312]
                                    String: "uses" [2283,2289]
                                    STRING [2290,2312]
                                        String: "msys2/setup-msys2@v2" [2290,2312]
                                FIELD [2313,2397]
                                    String: "with" [2313,2319]
                                    OBJECT [2320,2397]
                                        FIELD [2321,2342]
                                            String: "path-type" [2321,2332]
                                            STRING [2333,2342]
                                                String: "inherit" [2333,2342]
                                        FIELD [2343,2396]
                                            String: "install" [2343,2352]
                                            STRING [2353,2396]
                                                String: "base-devel git mingw-w64-x86_64-toolchain" [2353,2396]
                            OBJECT [2399,2587]
                                FIELD [2400,2459]
                                    String: "name" [2400,2406]
                                    STRING [2407,2459]
                                        String: "Restore Nim DLLs dependencies (Windows) from cache" [2407,2459]
                                FIELD [2460,2489]
                                    String: "if" [2460,2464]
                                    STRING [2465,2489]
                                        String: "runner.os == 'Windows'" [2465,2489]
                                FIELD [2490,2515]
                                    String: "id" [2490,2494]
                                    STRING [2495,2515]
                                        String: "windows-dlls-cache" [2495,2515]
                                FIELD [2516,2541]
                                    String: "uses" [2516,2522]
                                    STRING [2523,2541]
                                        String: "actions/cache@v2" [2523,2541]
                                FIELD [2542,2586]
                                    String: "with" [2542,2548]
                                    OBJECT [2549,2586]
                                        FIELD [2550,2572]
                                            String: "path" [2550,2556]
                                            STRING [2557,2572]
                                                String: "external/dlls" [2557,2572]
                                        FIELD [2573,2585]
                                            String: "key" [2573,2578]
                                            STRING [2579,2585]
                                                String: "dlls" [2579,2585]
                            OBJECT [2588,2868]
                                FIELD [2589,2632]
                                    String: "name" [2589,2595]
                                    STRING [2596,2632]
                                        String: "Install DLL dependencies (Windows)" [2596,2632]
                                FIELD [2633,2720]
                                    String: "if" [2633,2637]
                                    STRING [2638,2720]
                                        String: "steps.windows-dlls-cache.outputs.cache-hit != 'true' && runner.os == 'Windows'\n" [2638,2720]
                                FIELD [2721,2867]
                                    String: "run" [2721,2726]
                                    STRING [2727,2867]
                                        String: "mkdir external\ncurl -L \"https://nim-lang.org/download/windeps.zip\" -o external/windeps.zip\n7z x external/windeps.zip -oexternal/dlls\n" [2727,2867]
                            OBJECT [2869,3024]
                                FIELD [2870,2916]
                                    String: "name" [2870,2876]
                                    STRING [2877,2916]
                                        String: "Path to cached dependencies (Windows)" [2877,2916]
                                FIELD [2917,2948]
                                    String: "if" [2917,2921]
                                    STRING [2922,2948]
                                        String: "runner.os == 'Windows'\n" [2922,2948]
                                FIELD [2949,3023]
                                    String: "run" [2949,2954]
                                    STRING [2955,3023]
                                        String: "echo '${{ github.workspace }}'\"/external/dlls\" >> $GITHUB_PATH\n" [2955,3023]
                            OBJECT [3025,3632]
                                FIELD [3026,3063]
                                    String: "name" [3026,3032]
                                    STRING [3033,3063]
                                        String: "Derive environment variables" [3033,3063]
                                FIELD [3064,3631]
                                    String: "run" [3064,3069]
                                    STRING [3070,3631]
                                        String: "if [[ '${{ matrix.target.cpu }}' == 'amd64' ]]; then\n  PLATFORM=x64\nelse\n  PLATFORM=x86\nfi\necho \"PLATFORM=${PLATFORM}\" >> $GITHUB_ENV\n\nif [[ '${{ matrix.target.os }}' == 'windows' ]]; then\n  MAKE_CMD=\"mingw32-make\"\nelse\n  MAKE_CMD=\"make\"\nfi\necho \"MAKE_CMD=$MAKE_CMD\" >> $GITHUB_ENV\n\nncpu=''\ncase '${{ runner.os }}' in\n'Linux')\n  ncpu=$(nproc)\n  ;;\n'macOS')\n  ncpu=$(sysctl -n hw.ncpu)\n  ;;\n'Windows')\n  ncpu=${NUMBER_OF_PROCESSORS}\n  ;;\nesac\n[[ -z \"$ncpu\" || $ncpu -le 0 ]] && ncpu=1\necho \"ncpu=${ncpu}\" >> $GITHUB_ENV\n" [3070,3631]
                            OBJECT [3633,3719]
                                FIELD [3634,3666]
                                    String: "uses" [3634,3640]
                                    STRING [3641,3666]
                                        String: "alaviss/setup-nim@0.1.1" [3641,3666]
                                FIELD [3667,3718]
                                    String: "with" [3667,3673]
                                    OBJECT [3674,3718]
                                        FIELD [3675,3687]
                                            String: "path" [3675,3681]
                                            STRING [3682,3687]
                                                String: "nim" [3682,3687]
                                        FIELD [3688,3717]
                                            String: "version" [3688,3697]
                                            STRING [3698,3717]
                                                String: "${{ matrix.nim }}" [3698,3717]
                            OBJECT [3720,3947]
                                FIELD [3721,3765]
                                    String: "name" [3721,3727]
                                    STRING [3728,3765]
                                        String: "Install dependencies (Linux 32-bit)" [3728,3765]
                                FIELD [3766,3824]
                                    String: "if" [3766,3770]
                                    STRING [3771,3824]
                                        String: "runner.os == 'Linux' && matrix.target.cpu == 'i386'" [3771,3824]
                                FIELD [3825,3946]
                                    String: "run" [3825,3830]
                                    STRING [3831,3946]
                                        String: "sudo DEBIAN_FRONTEND='noninteractive' apt-fast install \\\n--no-install-recommends -yq \\\nlibopenblas-dev:i386\n" [3831,3946]
                            OBJECT [3948,4137]
                                FIELD [3949,3988]
                                    String: "name" [3949,3955]
                                    STRING [3956,3988]
                                        String: "Install dependencies (Windows)" [3956,3988]
                                FIELD [3989,4050]
                                    String: "if" [3989,3993]
                                    STRING [3994,4050]
                                        String: "runner.os == 'Windows' && matrix.target.cpu == 'amd64'" [3994,4050]
                                FIELD [4051,4070]
                                    String: "shell" [4051,4058]
                                    STRING [4059,4070]
                                        String: "msys2 {0}" [4059,4070]
                                FIELD [4071,4136]
                                    String: "run" [4071,4076]
                                    STRING [4077,4136]
                                        String: "pacman -S --needed --noconfirm mingw-w64-x86_64-​lapack\n" [4077,4136]
                            OBJECT [4138,4324]
                                FIELD [4139,4178]
                                    String: "name" [4139,4145]
                                    STRING [4146,4178]
                                        String: "Install dependencies (Windows)" [4146,4178]
                                FIELD [4179,4239]
                                    String: "if" [4179,4183]
                                    STRING [4184,4239]
                                        String: "runner.os == 'Windows' && matrix.target.cpu == 'i386'" [4184,4239]
                                FIELD [4240,4259]
                                    String: "shell" [4240,4247]
                                    STRING [4248,4259]
                                        String: "msys2 {0}" [4248,4259]
                                FIELD [4260,4323]
                                    String: "run" [4260,4265]
                                    STRING [4266,4323]
                                        String: "pacman -S --needed --noconfirm mingw-w64-i686-​lapack\n" [4266,4323]
                            OBJECT [4325,4462]
                                FIELD [4326,4357]
                                    String: "name" [4326,4332]
                                    STRING [4333,4357]
                                        String: "Restore datasets cache" [4333,4357]
                                FIELD [4358,4379]
                                    String: "id" [4358,4362]
                                    STRING [4363,4379]
                                        String: "datasets-cache" [4363,4379]
                                FIELD [4380,4405]
                                    String: "uses" [4380,4386]
                                    STRING [4387,4405]
                                        String: "actions/cache@v1" [4387,4405]
                                FIELD [4406,4461]
                                    String: "with" [4406,4412]
                                    OBJECT [4413,4461]
                                        FIELD [4414,4443]
                                            String: "path" [4414,4420]
                                            STRING [4421,4443]
                                                String: "~/.cache/arraymancer" [4421,4443]
                                        FIELD [4444,4460]
                                            String: "key" [4444,4449]
                                            STRING [4450,4460]
                                                String: "datasets" [4450,4460]
                            OBJECT [4463,4653]
                                FIELD [4464,4494]
                                    String: "name" [4464,4470]
                                    STRING [4471,4494]
                                        String: "Run Arraymancer tests" [4471,4494]
                                FIELD [4495,4528]
                                    String: "working-directory" [4495,4514]
                                    STRING [4515,4528]
                                        String: "arraymancer" [4515,4528]
                                FIELD [4529,4652]
                                    String: "run" [4529,4534]
                                    STRING [4535,4652]
                                        String: "export ARRAYMANCER_TEST_LANG=${{ matrix.test_lang }}\nnimble install -y --depsOnly\n# Run the tests.\nnimble test\n" [4535,4652]
                            OBJECT [4654,4865]
                                FIELD [4655,4694]
                                    String: "name" [4655,4661]
                                    STRING [4662,4694]
                                        String: "Run Arraymancer tests with ORC" [4662,4694]
                                FIELD [4695,4728]
                                    String: "working-directory" [4695,4714]
                                    STRING [4715,4728]
                                        String: "arraymancer" [4715,4728]
                                FIELD [4729,4864]
                                    String: "run" [4729,4734]
                                    STRING [4735,4864]
                                        String: "export ARRAYMANCER_TEST_LANG=${{ matrix.test_lang }}\nnimble install -y --depsOnly\n# Run the tests.\nnimble test_orc_release\n" [4735,4864]
                            OBJECT [4866,5227]
                                FIELD [4867,4886]
                                    String: "name" [4867,4873]
                                    STRING [4874,4886]
                                        String: "Build docs" [4874,4886]
                                FIELD [4887,5022]
                                    String: "if" [4887,4891]
                                    STRING [4892,5022]
                                        String: "github.event_name == 'push' && github.ref == 'refs/heads/master' && matrix.target.os == 'linux' && matrix.nim == 'version-2-0'\n" [4892,5022]
                                FIELD [5023,5037]
                                    String: "shell" [5023,5030]
                                    STRING [5031,5037]
                                        String: "bash" [5031,5037]
                                FIELD [5038,5226]
                                    String: "run" [5038,5043]
                                    STRING [5044,5226]
                                        String: "cd arraymancer\n# need to call `develop`, otherwise `docs.nim` logic breaks\nnimble install -y nimhdf5\nnimble develop -y\nnimble gen_docs\ncp docs/build/{the,}index.html || true\n" [5044,5226]
                            OBJECT [5228,5530]
                                FIELD [5229,5250]
                                    String: "name" [5229,5235]
                                    STRING [5236,5250]
                                        String: "Publish docs" [5236,5250]
                                FIELD [5251,5386]
                                    String: "if" [5251,5255]
                                    STRING [5256,5386]
                                        String: "github.event_name == 'push' && github.ref == 'refs/heads/master' && matrix.target.os == 'linux' && matrix.nim == 'version-2-0'\n" [5256,5386]
                                FIELD [5387,5430]
                                    String: "uses" [5387,5393]
                                    STRING [5394,5430]
                                        String: "crazy-max/ghaction-github-pages@v1" [5394,5430]
                                FIELD [5431,5476]
                                    String: "with" [5431,5437]
                                    OBJECT [5438,5476]
                                        FIELD [5439,5475]
                                            String: "build_dir" [5439,5450]
                                            STRING [5451,5475]
                                                String: "arraymancer/docs/build" [5451,5475]
                                FIELD [5477,5529]
                                    String: "env" [5477,5482]
                                    OBJECT [5483,5529]
                                        FIELD [5484,5528]
                                            String: "GITHUB_TOKEN" [5484,5498]
                                            STRING [5499,5528]
                                                String: "${{ secrets.GITHUB_TOKEN }}" [5499,5528]