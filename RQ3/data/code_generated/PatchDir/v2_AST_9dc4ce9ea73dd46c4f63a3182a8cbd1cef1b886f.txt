OBJECT [0,10074]
    FIELD [1,41]
        String: "name" [1,7]
        STRING [8,41]
            String: "Self-hosted runner (nightly-ci)" [8,41]
    FIELD [42,96]
        String: "on" [42,46]
        OBJECT [47,96]
            FIELD [48,74]
                String: "repository_dispatch" [48,69]
                NULL [70,74]
            FIELD [75,95]
                String: "workflow_call" [75,90]
                NULL [91,95]
    FIELD [97,321]
        String: "env" [97,102]
        OBJECT [103,321]
            FIELD [104,126]
                String: "HF_HOME" [104,113]
                STRING [114,126]
                    String: "/mnt/cache" [114,126]
            FIELD [127,152]
                String: "TRANSFORMERS_IS_CI" [127,147]
                TRUE [148,152]
            FIELD [153,172]
                String: "OMP_NUM_THREADS" [153,170]
                NUMBER [171,172]
                    Number: 8 [171,172]
            FIELD [173,192]
                String: "MKL_NUM_THREADS" [173,190]
                NUMBER [191,192]
                    Number: 8 [191,192]
            FIELD [193,208]
                String: "RUN_SLOW" [193,203]
                TRUE [204,208]
            FIELD [209,261]
                String: "SIGOPT_API_TOKEN" [209,227]
                STRING [228,261]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [228,261]
            FIELD [262,294]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [262,289]
                TRUE [290,294]
            FIELD [295,320]
                String: "RUN_PT_TF_CROSS_TESTS" [295,318]
                NUMBER [319,320]
                    Number: 1 [319,320]
    FIELD [322,10073]
        String: "jobs" [322,328]
        OBJECT [329,10073]
            FIELD [330,713]
                String: "check_runner_status" [330,351]
                OBJECT [352,713]
                    FIELD [353,381]
                        String: "name" [353,359]
                        STRING [360,381]
                            String: "Check Runner Status" [360,381]
                    FIELD [382,407]
                        String: "runs-on" [382,391]
                        STRING [392,407]
                            String: "ubuntu-latest" [392,407]
                    FIELD [408,712]
                        String: "steps" [408,415]
                        ARRAY [416,712]
                            OBJECT [417,503]
                                FIELD [418,448]
                                    String: "name" [418,424]
                                    STRING [425,448]
                                        String: "Checkout transformers" [425,448]
                                FIELD [449,477]
                                    String: "uses" [449,455]
                                    STRING [456,477]
                                        String: "actions/checkout@v3" [456,477]
                                FIELD [478,502]
                                    String: "with" [478,484]
                                    OBJECT [485,502]
                                        FIELD [486,501]
                                            String: "fetch-depth" [486,499]
                                            NUMBER [500,501]
                                                Number: 2 [500,501]
                            OBJECT [504,711]
                                FIELD [505,533]
                                    String: "name" [505,511]
                                    STRING [512,533]
                                        String: "Check Runner Status" [512,533]
                                FIELD [534,710]
                                    String: "run" [534,539]
                                    STRING [540,710]
                                        String: "python utils/check_self_hosted_runner.py --target_runners single-gpu-past-ci-runner-docker,multi-gpu-past-ci-runner-docker --token ${{ secrets.ACCESS_REPO_INFO_TOKEN }}" [540,710]
            FIELD [714,1147]
                String: "check_runners" [714,729]
                OBJECT [730,1147]
                    FIELD [731,753]
                        String: "name" [731,737]
                        STRING [738,753]
                            String: "Check Runners" [738,753]
                    FIELD [754,783]
                        String: "needs" [754,761]
                        STRING [762,783]
                            String: "check_runner_status" [762,783]
                    FIELD [784,849]
                        String: "strategy" [784,794]
                        OBJECT [795,849]
                            FIELD [796,848]
                                String: "matrix" [796,804]
                                OBJECT [805,848]
                                    FIELD [806,847]
                                        String: "machine_type" [806,820]
                                        ARRAY [821,847]
                                            STRING [822,834]
                                                String: "single-gpu" [822,834]
                                            STRING [835,846]
                                                String: "multi-gpu" [835,846]
                    FIELD [850,918]
                        String: "runs-on" [850,859]
                        ARRAY [860,918]
                            STRING [861,889]
                                String: "${{ matrix.machine_type }}" [861,889]
                            STRING [890,902]
                                String: "nvidia-gpu" [890,902]
                            STRING [903,907]
                                String: "t4" [903,907]
                            STRING [908,917]
                                String: "past-ci" [908,917]
                    FIELD [919,1093]
                        String: "container" [919,930]
                        OBJECT [931,1093]
                            FIELD [932,995]
                                String: "image" [932,939]
                                STRING [940,995]
                                    String: "huggingface/transformers-all-latest-torch-nightly-gpu" [940,995]
                            FIELD [996,1092]
                                String: "options" [996,1005]
                                STRING [1006,1092]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1006,1092]
                    FIELD [1094,1146]
                        String: "steps" [1094,1101]
                        ARRAY [1102,1146]
                            OBJECT [1103,1145]
                                FIELD [1104,1123]
                                    String: "name" [1104,1110]
                                    STRING [1111,1123]
                                        String: "NVIDIA-SMI" [1111,1123]
                                FIELD [1124,1144]
                                    String: "run" [1124,1129]
                                    STRING [1130,1144]
                                        String: "nvidia-smi\n" [1130,1144]
            FIELD [1148,2418]
                String: "setup" [1148,1155]
                OBJECT [1156,2418]
                    FIELD [1157,1171]
                        String: "name" [1157,1163]
                        STRING [1164,1171]
                            String: "Setup" [1164,1171]
                    FIELD [1172,1195]
                        String: "needs" [1172,1179]
                        STRING [1180,1195]
                            String: "check_runners" [1180,1195]
                    FIELD [1196,1261]
                        String: "strategy" [1196,1206]
                        OBJECT [1207,1261]
                            FIELD [1208,1260]
                                String: "matrix" [1208,1216]
                                OBJECT [1217,1260]
                                    FIELD [1218,1259]
                                        String: "machine_type" [1218,1232]
                                        ARRAY [1233,1259]
                                            STRING [1234,1246]
                                                String: "single-gpu" [1234,1246]
                                            STRING [1247,1258]
                                                String: "multi-gpu" [1247,1258]
                    FIELD [1262,1330]
                        String: "runs-on" [1262,1271]
                        ARRAY [1272,1330]
                            STRING [1273,1301]
                                String: "${{ matrix.machine_type }}" [1273,1301]
                            STRING [1302,1314]
                                String: "nvidia-gpu" [1302,1314]
                            STRING [1315,1319]
                                String: "t4" [1315,1319]
                            STRING [1320,1329]
                                String: "past-ci" [1320,1329]
                    FIELD [1331,1505]
                        String: "container" [1331,1342]
                        OBJECT [1343,1505]
                            FIELD [1344,1407]
                                String: "image" [1344,1351]
                                STRING [1352,1407]
                                    String: "huggingface/transformers-all-latest-torch-nightly-gpu" [1352,1407]
                            FIELD [1408,1504]
                                String: "options" [1408,1417]
                                STRING [1418,1504]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1418,1504]
                    FIELD [1506,1567]
                        String: "outputs" [1506,1515]
                        OBJECT [1516,1567]
                            FIELD [1517,1566]
                                String: "matrix" [1517,1525]
                                STRING [1526,1566]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [1526,1566]
                    FIELD [1568,2417]
                        String: "steps" [1568,1575]
                        ARRAY [1576,2417]
                            OBJECT [1577,1690]
                                FIELD [1578,1599]
                                    String: "name" [1578,1584]
                                    STRING [1585,1599]
                                        String: "Update clone" [1585,1599]
                                FIELD [1600,1635]
                                    String: "working-directory" [1600,1619]
                                    STRING [1620,1635]
                                        String: "/transformers" [1620,1635]
                                FIELD [1636,1689]
                                    String: "run" [1636,1641]
                                    STRING [1642,1689]
                                        String: "git fetch && git checkout ${{ github.sha }}\n" [1642,1689]
                            OBJECT [1691,1829]
                                FIELD [1692,1708]
                                    String: "name" [1692,1698]
                                    STRING [1699,1708]
                                        String: "Cleanup" [1699,1708]
                                FIELD [1709,1744]
                                    String: "working-directory" [1709,1728]
                                    STRING [1729,1744]
                                        String: "/transformers" [1729,1744]
                                FIELD [1745,1828]
                                    String: "run" [1745,1750]
                                    STRING [1751,1828]
                                        String: "rm -rf tests/__pycache__\nrm -rf tests/models/__pycache__\nrm -rf reports\n" [1751,1828]
                            OBJECT [1830,1939]
                                FIELD [1831,1883]
                                    String: "name" [1831,1837]
                                    STRING [1838,1883]
                                        String: "Show installed libraries and their versions" [1838,1883]
                                FIELD [1884,1919]
                                    String: "working-directory" [1884,1903]
                                    STRING [1904,1919]
                                        String: "/transformers" [1904,1919]
                                FIELD [1920,1938]
                                    String: "run" [1920,1925]
                                    STRING [1926,1938]
                                        String: "pip freeze" [1926,1938]
                            OBJECT [1940,2373]
                                FIELD [1941,1958]
                                    String: "id" [1941,1945]
                                    STRING [1946,1958]
                                        String: "set-matrix" [1946,1958]
                                FIELD [1959,1991]
                                    String: "name" [1959,1965]
                                    STRING [1966,1991]
                                        String: "Identify models to test" [1966,1991]
                                FIELD [1992,2033]
                                    String: "working-directory" [1992,2011]
                                    STRING [2012,2033]
                                        String: "/transformers/tests" [2012,2033]
                                FIELD [2034,2372]
                                    String: "run" [2034,2039]
                                    STRING [2040,2372]
                                        String: "echo \"matrix=$(python3 -c 'import os; tests = os.getcwd(); model_tests = os.listdir(os.path.join(tests, \"models\")); d1 = sorted(list(filter(os.path.isdir, os.listdir(tests)))); d2 = sorted(list(filter(os.path.isdir, [f\"models/{x}\" for x in model_tests]))); d1.remove(\"models\"); d = d2 + d1; print(d)')\" >> $GITHUB_OUTPUT\n" [2040,2372]
                            OBJECT [2374,2416]
                                FIELD [2375,2394]
                                    String: "name" [2375,2381]
                                    STRING [2382,2394]
                                        String: "NVIDIA-SMI" [2382,2394]
                                FIELD [2395,2415]
                                    String: "run" [2395,2400]
                                    STRING [2401,2415]
                                        String: "nvidia-smi\n" [2401,2415]
            FIELD [2419,4414]
                String: "run_tests_single_gpu" [2419,2441]
                OBJECT [2442,4414]
                    FIELD [2443,2463]
                        String: "name" [2443,2449]
                        STRING [2450,2463]
                            String: "Model tests" [2450,2463]
                    FIELD [2464,2591]
                        String: "strategy" [2464,2474]
                        OBJECT [2475,2591]
                            FIELD [2476,2493]
                                String: "fail-fast" [2476,2487]
                                FALSE [2488,2493]
                            FIELD [2494,2590]
                                String: "matrix" [2494,2502]
                                OBJECT [2503,2590]
                                    FIELD [2504,2559]
                                        String: "folders" [2504,2513]
                                        STRING [2514,2559]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [2514,2559]
                                    FIELD [2560,2589]
                                        String: "machine_type" [2560,2574]
                                        ARRAY [2575,2589]
                                            STRING [2576,2588]
                                                String: "single-gpu" [2576,2588]
                    FIELD [2592,2660]
                        String: "runs-on" [2592,2601]
                        ARRAY [2602,2660]
                            STRING [2603,2631]
                                String: "${{ matrix.machine_type }}" [2603,2631]
                            STRING [2632,2644]
                                String: "nvidia-gpu" [2632,2644]
                            STRING [2645,2649]
                                String: "t4" [2645,2649]
                            STRING [2650,2659]
                                String: "past-ci" [2650,2659]
                    FIELD [2661,2835]
                        String: "container" [2661,2672]
                        OBJECT [2673,2835]
                            FIELD [2674,2737]
                                String: "image" [2674,2681]
                                STRING [2682,2737]
                                    String: "huggingface/transformers-all-latest-torch-nightly-gpu" [2682,2737]
                            FIELD [2738,2834]
                                String: "options" [2738,2747]
                                STRING [2748,2834]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [2748,2834]
                    FIELD [2836,2851]
                        String: "needs" [2836,2843]
                        STRING [2844,2851]
                            String: "setup" [2844,2851]
                    FIELD [2852,4413]
                        String: "steps" [2852,2859]
                        ARRAY [2860,4413]
                            OBJECT [2861,3135]
                                FIELD [2862,2904]
                                    String: "name" [2862,2868]
                                    STRING [2869,2904]
                                        String: "Echo folder ${{ matrix.folders }}" [2869,2904]
                                FIELD [2905,2919]
                                    String: "shell" [2905,2912]
                                    STRING [2913,2919]
                                        String: "bash" [2913,2919]
                                FIELD [2920,3134]
                                    String: "run" [2920,2925]
                                    STRING [2926,3134]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [2926,3134]
                            OBJECT [3136,3247]
                                FIELD [3137,3158]
                                    String: "name" [3137,3143]
                                    STRING [3144,3158]
                                        String: "Update clone" [3144,3158]
                                FIELD [3159,3194]
                                    String: "working-directory" [3159,3178]
                                    STRING [3179,3194]
                                        String: "/transformers" [3179,3194]
                                FIELD [3195,3246]
                                    String: "run" [3195,3200]
                                    STRING [3201,3246]
                                        String: "git fetch && git checkout ${{ github.sha }}" [3201,3246]
                            OBJECT [3248,3463]
                                FIELD [3249,3346]
                                    String: "name" [3249,3255]
                                    STRING [3256,3346]
                                        String: "Reinstall transformers in edit mode (remove the one installed during docker image build)" [3256,3346]
                                FIELD [3347,3382]
                                    String: "working-directory" [3347,3366]
                                    STRING [3367,3382]
                                        String: "/transformers" [3367,3382]
                                FIELD [3383,3462]
                                    String: "run" [3383,3388]
                                    STRING [3389,3462]
                                        String: "python3 -m pip uninstall -y transformers && python3 -m pip install -e ." [3389,3462]
                            OBJECT [3464,3506]
                                FIELD [3465,3484]
                                    String: "name" [3465,3471]
                                    STRING [3472,3484]
                                        String: "NVIDIA-SMI" [3472,3484]
                                FIELD [3485,3505]
                                    String: "run" [3485,3490]
                                    STRING [3491,3505]
                                        String: "nvidia-smi\n" [3491,3505]
                            OBJECT [3507,3602]
                                FIELD [3508,3528]
                                    String: "name" [3508,3514]
                                    STRING [3515,3528]
                                        String: "Environment" [3515,3528]
                                FIELD [3529,3564]
                                    String: "working-directory" [3529,3548]
                                    STRING [3549,3564]
                                        String: "/transformers" [3549,3564]
                                FIELD [3565,3601]
                                    String: "run" [3565,3570]
                                    STRING [3571,3601]
                                        String: "python3 utils/print_env.py\n" [3571,3601]
                            OBJECT [3603,3712]
                                FIELD [3604,3656]
                                    String: "name" [3604,3610]
                                    STRING [3611,3656]
                                        String: "Show installed libraries and their versions" [3611,3656]
                                FIELD [3657,3692]
                                    String: "working-directory" [3657,3676]
                                    STRING [3677,3692]
                                        String: "/transformers" [3677,3692]
                                FIELD [3693,3711]
                                    String: "run" [3693,3698]
                                    STRING [3699,3711]
                                        String: "pip freeze" [3699,3711]
                            OBJECT [3713,3911]
                                FIELD [3714,3743]
                                    String: "name" [3714,3720]
                                    STRING [3721,3743]
                                        String: "Run all tests on GPU" [3721,3743]
                                FIELD [3744,3779]
                                    String: "working-directory" [3744,3763]
                                    STRING [3764,3779]
                                        String: "/transformers" [3764,3779]
                                FIELD [3780,3910]
                                    String: "run" [3780,3785]
                                    STRING [3786,3910]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [3786,3910]
                            OBJECT [3912,4105]
                                FIELD [3913,3943]
                                    String: "name" [3913,3919]
                                    STRING [3920,3943]
                                        String: "Failure short reports" [3920,3943]
                                FIELD [3944,3967]
                                    String: "if" [3944,3948]
                                    STRING [3949,3967]
                                        String: "${{ failure() }}" [3949,3967]
                                FIELD [3968,3992]
                                    String: "continue-on-error" [3968,3987]
                                    TRUE [3988,3992]
                                FIELD [3993,4104]
                                    String: "run" [3993,3998]
                                    STRING [3999,4104]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [3999,4104]
                            OBJECT [4106,4412]
                                FIELD [4107,4144]
                                    String: "name" [4107,4113]
                                    STRING [4114,4144]
                                        String: "Test suite reports artifacts" [4114,4144]
                                FIELD [4145,4167]
                                    String: "if" [4145,4149]
                                    STRING [4150,4167]
                                        String: "${{ always() }}" [4150,4167]
                                FIELD [4168,4203]
                                    String: "uses" [4168,4174]
                                    STRING [4175,4203]
                                        String: "actions/upload-artifact@v3" [4175,4203]
                                FIELD [4204,4411]
                                    String: "with" [4204,4210]
                                    OBJECT [4211,4411]
                                        FIELD [4212,4320]
                                            String: "name" [4212,4218]
                                            STRING [4219,4320]
                                                String: "${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports_postfix_nightly" [4219,4320]
                                        FIELD [4321,4410]
                                            String: "path" [4321,4327]
                                            STRING [4328,4410]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}" [4328,4410]
            FIELD [4415,6410]
                String: "run_tests_multi_gpu" [4415,4436]
                OBJECT [4437,6410]
                    FIELD [4438,4458]
                        String: "name" [4438,4444]
                        STRING [4445,4458]
                            String: "Model tests" [4445,4458]
                    FIELD [4459,4585]
                        String: "strategy" [4459,4469]
                        OBJECT [4470,4585]
                            FIELD [4471,4488]
                                String: "fail-fast" [4471,4482]
                                FALSE [4483,4488]
                            FIELD [4489,4584]
                                String: "matrix" [4489,4497]
                                OBJECT [4498,4584]
                                    FIELD [4499,4554]
                                        String: "folders" [4499,4508]
                                        STRING [4509,4554]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [4509,4554]
                                    FIELD [4555,4583]
                                        String: "machine_type" [4555,4569]
                                        ARRAY [4570,4583]
                                            STRING [4571,4582]
                                                String: "multi-gpu" [4571,4582]
                    FIELD [4586,4654]
                        String: "runs-on" [4586,4595]
                        ARRAY [4596,4654]
                            STRING [4597,4625]
                                String: "${{ matrix.machine_type }}" [4597,4625]
                            STRING [4626,4638]
                                String: "nvidia-gpu" [4626,4638]
                            STRING [4639,4643]
                                String: "t4" [4639,4643]
                            STRING [4644,4653]
                                String: "past-ci" [4644,4653]
                    FIELD [4655,4831]
                        String: "container" [4655,4666]
                        OBJECT [4667,4831]
                            FIELD [4668,4731]
                                String: "image" [4668,4675]
                                STRING [4676,4731]
                                    String: "huggingface/transformers-all-latest-torch-nightly-gpu" [4676,4731]
                            FIELD [4732,4830]
                                String: "options" [4732,4741]
                                STRING [4742,4830]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [4742,4830]
                    FIELD [4832,4847]
                        String: "needs" [4832,4839]
                        STRING [4840,4847]
                            String: "setup" [4840,4847]
                    FIELD [4848,6409]
                        String: "steps" [4848,4855]
                        ARRAY [4856,6409]
                            OBJECT [4857,5131]
                                FIELD [4858,4900]
                                    String: "name" [4858,4864]
                                    STRING [4865,4900]
                                        String: "Echo folder ${{ matrix.folders }}" [4865,4900]
                                FIELD [4901,4915]
                                    String: "shell" [4901,4908]
                                    STRING [4909,4915]
                                        String: "bash" [4909,4915]
                                FIELD [4916,5130]
                                    String: "run" [4916,4921]
                                    STRING [4922,5130]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [4922,5130]
                            OBJECT [5132,5243]
                                FIELD [5133,5154]
                                    String: "name" [5133,5139]
                                    STRING [5140,5154]
                                        String: "Update clone" [5140,5154]
                                FIELD [5155,5190]
                                    String: "working-directory" [5155,5174]
                                    STRING [5175,5190]
                                        String: "/transformers" [5175,5190]
                                FIELD [5191,5242]
                                    String: "run" [5191,5196]
                                    STRING [5197,5242]
                                        String: "git fetch && git checkout ${{ github.sha }}" [5197,5242]
                            OBJECT [5244,5459]
                                FIELD [5245,5342]
                                    String: "name" [5245,5251]
                                    STRING [5252,5342]
                                        String: "Reinstall transformers in edit mode (remove the one installed during docker image build)" [5252,5342]
                                FIELD [5343,5378]
                                    String: "working-directory" [5343,5362]
                                    STRING [5363,5378]
                                        String: "/transformers" [5363,5378]
                                FIELD [5379,5458]
                                    String: "run" [5379,5384]
                                    STRING [5385,5458]
                                        String: "python3 -m pip uninstall -y transformers && python3 -m pip install -e ." [5385,5458]
                            OBJECT [5460,5502]
                                FIELD [5461,5480]
                                    String: "name" [5461,5467]
                                    STRING [5468,5480]
                                        String: "NVIDIA-SMI" [5468,5480]
                                FIELD [5481,5501]
                                    String: "run" [5481,5486]
                                    STRING [5487,5501]
                                        String: "nvidia-smi\n" [5487,5501]
                            OBJECT [5503,5598]
                                FIELD [5504,5524]
                                    String: "name" [5504,5510]
                                    STRING [5511,5524]
                                        String: "Environment" [5511,5524]
                                FIELD [5525,5560]
                                    String: "working-directory" [5525,5544]
                                    STRING [5545,5560]
                                        String: "/transformers" [5545,5560]
                                FIELD [5561,5597]
                                    String: "run" [5561,5566]
                                    STRING [5567,5597]
                                        String: "python3 utils/print_env.py\n" [5567,5597]
                            OBJECT [5599,5708]
                                FIELD [5600,5652]
                                    String: "name" [5600,5606]
                                    STRING [5607,5652]
                                        String: "Show installed libraries and their versions" [5607,5652]
                                FIELD [5653,5688]
                                    String: "working-directory" [5653,5672]
                                    STRING [5673,5688]
                                        String: "/transformers" [5673,5688]
                                FIELD [5689,5707]
                                    String: "run" [5689,5694]
                                    STRING [5695,5707]
                                        String: "pip freeze" [5695,5707]
                            OBJECT [5709,5907]
                                FIELD [5710,5739]
                                    String: "name" [5710,5716]
                                    STRING [5717,5739]
                                        String: "Run all tests on GPU" [5717,5739]
                                FIELD [5740,5775]
                                    String: "working-directory" [5740,5759]
                                    STRING [5760,5775]
                                        String: "/transformers" [5760,5775]
                                FIELD [5776,5906]
                                    String: "run" [5776,5781]
                                    STRING [5782,5906]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [5782,5906]
                            OBJECT [5908,6101]
                                FIELD [5909,5939]
                                    String: "name" [5909,5915]
                                    STRING [5916,5939]
                                        String: "Failure short reports" [5916,5939]
                                FIELD [5940,5963]
                                    String: "if" [5940,5944]
                                    STRING [5945,5963]
                                        String: "${{ failure() }}" [5945,5963]
                                FIELD [5964,5988]
                                    String: "continue-on-error" [5964,5983]
                                    TRUE [5984,5988]
                                FIELD [5989,6100]
                                    String: "run" [5989,5994]
                                    STRING [5995,6100]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [5995,6100]
                            OBJECT [6102,6408]
                                FIELD [6103,6140]
                                    String: "name" [6103,6109]
                                    STRING [6110,6140]
                                        String: "Test suite reports artifacts" [6110,6140]
                                FIELD [6141,6163]
                                    String: "if" [6141,6145]
                                    STRING [6146,6163]
                                        String: "${{ always() }}" [6146,6163]
                                FIELD [6164,6199]
                                    String: "uses" [6164,6170]
                                    STRING [6171,6199]
                                        String: "actions/upload-artifact@v3" [6171,6199]
                                FIELD [6200,6407]
                                    String: "with" [6200,6206]
                                    OBJECT [6207,6407]
                                        FIELD [6208,6316]
                                            String: "name" [6208,6214]
                                            STRING [6215,6316]
                                                String: "${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports_postfix_nightly" [6215,6316]
                                        FIELD [6317,6406]
                                            String: "path" [6317,6323]
                                            STRING [6324,6406]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}" [6324,6406]
            FIELD [6411,8685]
                String: "run_all_tests_torch_cuda_extensions_gpu" [6411,6452]
                OBJECT [6453,8685]
                    FIELD [6454,6489]
                        String: "name" [6454,6460]
                        STRING [6461,6489]
                            String: "Torch CUDA extension tests" [6461,6489]
                    FIELD [6490,6573]
                        String: "strategy" [6490,6500]
                        OBJECT [6501,6573]
                            FIELD [6502,6519]
                                String: "fail-fast" [6502,6513]
                                FALSE [6514,6519]
                            FIELD [6520,6572]
                                String: "matrix" [6520,6528]
                                OBJECT [6529,6572]
                                    FIELD [6530,6571]
                                        String: "machine_type" [6530,6544]
                                        ARRAY [6545,6571]
                                            STRING [6546,6558]
                                                String: "single-gpu" [6546,6558]
                                            STRING [6559,6570]
                                                String: "multi-gpu" [6559,6570]
                    FIELD [6574,6642]
                        String: "runs-on" [6574,6583]
                        ARRAY [6584,6642]
                            STRING [6585,6613]
                                String: "${{ matrix.machine_type }}" [6585,6613]
                            STRING [6614,6626]
                                String: "nvidia-gpu" [6614,6626]
                            STRING [6627,6631]
                                String: "t4" [6627,6631]
                            STRING [6632,6641]
                                String: "past-ci" [6632,6641]
                    FIELD [6643,6658]
                        String: "needs" [6643,6650]
                        STRING [6651,6658]
                            String: "setup" [6651,6658]
                    FIELD [6659,6836]
                        String: "container" [6659,6670]
                        OBJECT [6671,6836]
                            FIELD [6672,6736]
                                String: "image" [6672,6679]
                                STRING [6680,6736]
                                    String: "huggingface/transformers-pytorch-deepspeed-nightly-gpu" [6680,6736]
                            FIELD [6737,6835]
                                String: "options" [6737,6746]
                                STRING [6747,6835]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [6747,6835]
                    FIELD [6837,8684]
                        String: "steps" [6837,6844]
                        ARRAY [6845,8684]
                            OBJECT [6846,6967]
                                FIELD [6847,6868]
                                    String: "name" [6847,6853]
                                    STRING [6854,6868]
                                        String: "Update clone" [6854,6868]
                                FIELD [6869,6914]
                                    String: "working-directory" [6869,6888]
                                    STRING [6889,6914]
                                        String: "/workspace/transformers" [6889,6914]
                                FIELD [6915,6966]
                                    String: "run" [6915,6920]
                                    STRING [6921,6966]
                                        String: "git fetch && git checkout ${{ github.sha }}" [6921,6966]
                            OBJECT [6968,7193]
                                FIELD [6969,7066]
                                    String: "name" [6969,6975]
                                    STRING [6976,7066]
                                        String: "Reinstall transformers in edit mode (remove the one installed during docker image build)" [6976,7066]
                                FIELD [7067,7112]
                                    String: "working-directory" [7067,7086]
                                    STRING [7087,7112]
                                        String: "/workspace/transformers" [7087,7112]
                                FIELD [7113,7192]
                                    String: "run" [7113,7118]
                                    STRING [7119,7192]
                                        String: "python3 -m pip uninstall -y transformers && python3 -m pip install -e ." [7119,7192]
                            OBJECT [7194,7288]
                                FIELD [7195,7234]
                                    String: "name" [7195,7201]
                                    STRING [7202,7234]
                                        String: "Remove cached torch extensions" [7202,7234]
                                FIELD [7235,7287]
                                    String: "run" [7235,7240]
                                    STRING [7241,7287]
                                        String: "rm -rf /github/home/.cache/torch_extensions/" [7241,7287]
                            OBJECT [7289,7689]
                                FIELD [7290,7326]
                                    String: "name" [7290,7296]
                                    STRING [7297,7326]
                                        String: "Pre build DeepSpeed *again*" [7297,7326]
                                FIELD [7327,7359]
                                    String: "working-directory" [7327,7346]
                                    STRING [7347,7359]
                                        String: "/workspace" [7347,7359]
                                FIELD [7360,7688]
                                    String: "run" [7360,7365]
                                    STRING [7366,7688]
                                        String: "python3 -m pip uninstall -y deepspeed\nrm -rf DeepSpeed\ngit clone https://github.com/microsoft/DeepSpeed && cd DeepSpeed && rm -rf build\nDS_BUILD_CPU_ADAM=1 DS_BUILD_FUSED_ADAM=1 DS_BUILD_UTILS=1 python3 -m pip install . --global-option=\"build_ext\" --global-option=\"-j8\" --no-cache -v --disable-pip-version-check\n" [7366,7688]
                            OBJECT [7690,7732]
                                FIELD [7691,7710]
                                    String: "name" [7691,7697]
                                    STRING [7698,7710]
                                        String: "NVIDIA-SMI" [7698,7710]
                                FIELD [7711,7731]
                                    String: "run" [7711,7716]
                                    STRING [7717,7731]
                                        String: "nvidia-smi\n" [7717,7731]
                            OBJECT [7733,7837]
                                FIELD [7734,7754]
                                    String: "name" [7734,7740]
                                    STRING [7741,7754]
                                        String: "Environment" [7741,7754]
                                FIELD [7755,7800]
                                    String: "working-directory" [7755,7774]
                                    STRING [7775,7800]
                                        String: "/workspace/transformers" [7775,7800]
                                FIELD [7801,7836]
                                    String: "run" [7801,7806]
                                    STRING [7807,7836]
                                        String: "python utils/print_env.py\n" [7807,7836]
                            OBJECT [7838,7957]
                                FIELD [7839,7891]
                                    String: "name" [7839,7845]
                                    STRING [7846,7891]
                                        String: "Show installed libraries and their versions" [7846,7891]
                                FIELD [7892,7937]
                                    String: "working-directory" [7892,7911]
                                    STRING [7912,7937]
                                        String: "/workspace/transformers" [7912,7937]
                                FIELD [7938,7956]
                                    String: "run" [7938,7943]
                                    STRING [7944,7956]
                                        String: "pip freeze" [7944,7956]
                            OBJECT [7958,8170]
                                FIELD [7959,7988]
                                    String: "name" [7959,7965]
                                    STRING [7966,7988]
                                        String: "Run all tests on GPU" [7966,7988]
                                FIELD [7989,8034]
                                    String: "working-directory" [7989,8008]
                                    STRING [8009,8034]
                                        String: "/workspace/transformers" [8009,8034]
                                FIELD [8035,8169]
                                    String: "run" [8035,8040]
                                    STRING [8041,8169]
                                        String: "python -m pytest -v --make-reports=${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [8041,8169]
                            OBJECT [8171,8374]
                                FIELD [8172,8202]
                                    String: "name" [8172,8178]
                                    STRING [8179,8202]
                                        String: "Failure short reports" [8179,8202]
                                FIELD [8203,8226]
                                    String: "if" [8203,8207]
                                    STRING [8208,8226]
                                        String: "${{ failure() }}" [8208,8226]
                                FIELD [8227,8251]
                                    String: "continue-on-error" [8227,8246]
                                    TRUE [8247,8251]
                                FIELD [8252,8373]
                                    String: "run" [8252,8257]
                                    STRING [8258,8373]
                                        String: "cat /workspace/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu/failures_short.txt" [8258,8373]
                            OBJECT [8375,8683]
                                FIELD [8376,8413]
                                    String: "name" [8376,8382]
                                    STRING [8383,8413]
                                        String: "Test suite reports artifacts" [8383,8413]
                                FIELD [8414,8436]
                                    String: "if" [8414,8418]
                                    STRING [8419,8436]
                                        String: "${{ always() }}" [8419,8436]
                                FIELD [8437,8472]
                                    String: "uses" [8437,8443]
                                    STRING [8444,8472]
                                        String: "actions/upload-artifact@v3" [8444,8472]
                                FIELD [8473,8682]
                                    String: "with" [8473,8479]
                                    OBJECT [8480,8682]
                                        FIELD [8481,8581]
                                            String: "name" [8481,8487]
                                            STRING [8488,8581]
                                                String: "${{ matrix.machine_type }}_run_tests_torch_cuda_extensions_gpu_test_reports_postfix_nightly" [8488,8581]
                                        FIELD [8582,8681]
                                            String: "path" [8582,8588]
                                            STRING [8589,8681]
                                                String: "/workspace/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu" [8589,8681]
            FIELD [8686,10072]
                String: "send_results" [8686,8700]
                OBJECT [8701,10072]
                    FIELD [8702,8734]
                        String: "name" [8702,8708]
                        STRING [8709,8734]
                            String: "Send results to webhook" [8709,8734]
                    FIELD [8735,8760]
                        String: "runs-on" [8735,8744]
                        STRING [8745,8760]
                            String: "ubuntu-latest" [8745,8760]
                    FIELD [8761,8776]
                        String: "if" [8761,8765]
                        STRING [8766,8776]
                            String: "always()" [8766,8776]
                    FIELD [8777,8919]
                        String: "needs" [8777,8784]
                        ARRAY [8785,8919]
                            STRING [8786,8807]
                                String: "check_runner_status" [8786,8807]
                            STRING [8808,8823]
                                String: "check_runners" [8808,8823]
                            STRING [8824,8831]
                                String: "setup" [8824,8831]
                            STRING [8832,8854]
                                String: "run_tests_single_gpu" [8832,8854]
                            STRING [8855,8876]
                                String: "run_tests_multi_gpu" [8855,8876]
                            STRING [8877,8918]
                                String: "run_all_tests_torch_cuda_extensions_gpu" [8877,8918]
                    FIELD [8920,10071]
                        String: "steps" [8920,8927]
                        ARRAY [8928,10071]
                            OBJECT [8929,9166]
                                FIELD [8930,8961]
                                    String: "name" [8930,8936]
                                    STRING [8937,8961]
                                        String: "Preliminary job status" [8937,8961]
                                FIELD [8962,8976]
                                    String: "shell" [8962,8969]
                                    STRING [8970,8976]
                                        String: "bash" [8970,8976]
                                FIELD [8977,9165]
                                    String: "run" [8977,8982]
                                    STRING [8983,9165]
                                        String: "echo \"Runner availability: ${{ needs.check_runner_status.result }}\"\necho \"Runner status: ${{ needs.check_runners.result }}\"\necho \"Setup status: ${{ needs.setup.result }}\"\n" [8983,9165]
                            OBJECT [9167,9197]
                                FIELD [9168,9196]
                                    String: "uses" [9168,9174]
                                    STRING [9175,9196]
                                        String: "actions/checkout@v3" [9175,9196]
                            OBJECT [9198,9237]
                                FIELD [9199,9236]
                                    String: "uses" [9199,9205]
                                    STRING [9206,9236]
                                        String: "actions/download-artifact@v3" [9206,9236]
                            OBJECT [9238,9994]
                                FIELD [9239,9269]
                                    String: "name" [9239,9245]
                                    STRING [9246,9269]
                                        String: "Send message to Slack" [9246,9269]
                                FIELD [9270,9865]
                                    String: "env" [9270,9275]
                                    OBJECT [9276,9865]
                                        FIELD [9277,9333]
                                            String: "CI_SLACK_BOT_TOKEN" [9277,9297]
                                            STRING [9298,9333]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [9298,9333]
                                        FIELD [9334,9392]
                                            String: "CI_SLACK_CHANNEL_ID" [9334,9355]
                                            STRING [9356,9392]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [9356,9392]
                                        FIELD [9393,9463]
                                            String: "CI_SLACK_CHANNEL_ID_DAILY" [9393,9420]
                                            STRING [9421,9463]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY }}" [9421,9463]
                                        FIELD [9464,9540]
                                            String: "CI_SLACK_CHANNEL_DUMMY_TESTS" [9464,9494]
                                            STRING [9495,9540]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_DUMMY_TESTS }}" [9495,9540]
                                        FIELD [9541,9618]
                                            String: "CI_SLACK_REPORT_CHANNEL_ID" [9541,9569]
                                            STRING [9570,9618]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_PAST_FUTURE }}" [9570,9618]
                                        FIELD [9619,9683]
                                            String: "ACCESS_REPO_INFO_TOKEN" [9619,9643]
                                            STRING [9644,9683]
                                                String: "${{ secrets.ACCESS_REPO_INFO_TOKEN }}" [9644,9683]
                                        FIELD [9684,9707]
                                            String: "CI_EVENT" [9684,9694]
                                            STRING [9695,9707]
                                                String: "Nightly CI" [9695,9707]
                                        FIELD [9708,9765]
                                            String: "RUNNER_STATUS" [9708,9723]
                                            STRING [9724,9765]
                                                String: "${{ needs.check_runner_status.result }}" [9724,9765]
                                        FIELD [9766,9821]
                                            String: "RUNNER_ENV_STATUS" [9766,9785]
                                            STRING [9786,9821]
                                                String: "${{ needs.check_runners.result }}" [9786,9821]
                                        FIELD [9822,9864]
                                            String: "SETUP_STATUS" [9822,9836]
                                            STRING [9837,9864]
                                                String: "${{ needs.setup.result }}" [9837,9864]
                                FIELD [9866,9993]
                                    String: "run" [9866,9871]
                                    STRING [9872,9993]
                                        String: "pip install slack_sdk\npip show slack_sdk\npython utils/notification_service.py \"${{ needs.setup.outputs.matrix }}\"\n" [9872,9993]
                            OBJECT [9995,10070]
                                FIELD [9996,10033]
                                    String: "uses" [9996,10002]
                                    STRING [10003,10033]
                                        String: "geekyeggo/delete-artifact@v2" [10003,10033]
                                FIELD [10034,10069]
                                    String: "with" [10034,10040]
                                    OBJECT [10041,10069]
                                        FIELD [10042,10068]
                                            String: "name" [10042,10048]
                                            STRING [10049,10068]
                                                String: "single-*\nmulti-*" [10049,10068]