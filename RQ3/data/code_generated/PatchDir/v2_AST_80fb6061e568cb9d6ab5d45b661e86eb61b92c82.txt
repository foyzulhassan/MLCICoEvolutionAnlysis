OBJECT [0,16680]
    FIELD [1,12]
        String: "name" [1,7]
        STRING [8,12]
            String: "CI" [8,12]
    FIELD [13,105]
        String: "concurrency" [13,26]
        OBJECT [27,105]
            FIELD [28,78]
                String: "group" [28,35]
                STRING [36,78]
                    String: "${{ github.workflow }}-${{ github.ref }}" [36,78]
            FIELD [79,104]
                String: "cancel-in-progress" [79,99]
                TRUE [100,104]
    FIELD [106,256]
        String: "on" [106,110]
        OBJECT [111,256]
            FIELD [112,148]
                String: "pull_request" [112,126]
                OBJECT [127,148]
                    FIELD [128,147]
                        String: "branches" [128,138]
                        ARRAY [139,147]
                            STRING [140,146]
                                String: "main" [140,146]
            FIELD [149,177]
                String: "push" [149,155]
                OBJECT [156,177]
                    FIELD [157,176]
                        String: "branches" [157,167]
                        ARRAY [168,176]
                            STRING [169,175]
                                String: "main" [169,175]
            FIELD [178,211]
                String: "release" [178,187]
                OBJECT [188,211]
                    FIELD [189,210]
                        String: "types" [189,196]
                        ARRAY [197,210]
                            STRING [198,209]
                                String: "published" [198,209]
            FIELD [212,255]
                String: "schedule" [212,222]
                ARRAY [223,255]
                    OBJECT [224,254]
                        FIELD [225,253]
                            String: "cron" [225,231]
                            STRING [232,253]
                                String: "37 11 * * 1,2,3,4,5" [232,253]
    FIELD [257,687]
        String: "env" [257,262]
        OBJECT [263,687]
            FIELD [264,288]
                String: "TORCH_VERSION" [264,279]
                STRING [280,288]
                    String: "1.12.0" [280,288]
            FIELD [289,406]
                String: "TORCH_CPU_INSTALL" [289,308]
                STRING [309,406]
                    String: "pip install torch torchvision torchaudio --extra-index-url https://download.pytorch.org/whl/cpu" [309,406]
            FIELD [407,526]
                String: "TORCH_GPU_INSTALL" [407,426]
                STRING [427,526]
                    String: "pip install torch torchvision torchaudio --extra-index-url https://download.pytorch.org/whl/cu113" [427,526]
            FIELD [527,547]
                String: "CACHE_PREFIX" [527,541]
                STRING [542,547]
                    String: "v11" [542,547]
            FIELD [548,580]
                String: "TOKENIZERS_PARALLELISM" [548,572]
                STRING [573,580]
                    String: "false" [573,580]
            FIELD [581,602]
                String: "OMP_NUM_THREADS" [581,598]
                STRING [599,602]
                    String: "1" [599,602]
            FIELD [603,630]
                String: "MKL_THREADING_LAYER" [603,624]
                STRING [625,630]
                    String: "GNU" [625,630]
            FIELD [631,659]
                String: "DEFAULT_PYTHON_VERSION" [631,655]
                NUMBER [656,659]
                    Number: 3.8 [656,659]
            FIELD [660,686]
                String: "CUDA_LAUNCH_BLOCKING" [660,682]
                STRING [683,686]
                    String: "1" [683,686]
    FIELD [688,730]
        String: "defaults" [688,698]
        OBJECT [699,730]
            FIELD [700,729]
                String: "run" [700,705]
                OBJECT [706,729]
                    FIELD [707,728]
                        String: "shell" [707,714]
                        STRING [715,728]
                            String: "bash -l {0}" [715,728]
    FIELD [731,16679]
        String: "jobs" [731,737]
        OBJECT [738,16679]
            FIELD [739,1483]
                String: "changelog" [739,750]
                OBJECT [751,1483]
                    FIELD [752,770]
                        String: "name" [752,758]
                        STRING [759,770]
                            String: "CHANGELOG" [759,770]
                    FIELD [771,796]
                        String: "runs-on" [771,780]
                        STRING [781,796]
                            String: "ubuntu-latest" [781,796]
                    FIELD [797,839]
                        String: "if" [797,801]
                        STRING [802,839]
                            String: "github.event_name == 'pull_request'" [802,839]
                    FIELD [840,1482]
                        String: "steps" [840,847]
                        ARRAY [848,1482]
                            OBJECT [849,879]
                                FIELD [850,878]
                                    String: "uses" [850,856]
                                    STRING [857,878]
                                        String: "actions/checkout@v3" [857,878]
                            OBJECT [880,1126]
                                FIELD [881,924]
                                    String: "name" [881,887]
                                    STRING [888,924]
                                        String: "Check if source files have changed" [888,924]
                                FIELD [925,1125]
                                    String: "run" [925,930]
                                    STRING [931,1125]
                                        String: "git diff --name-only $(git merge-base origin/main HEAD) | grep '^allennlp/.*\\.py$' && echo \"source_files_changed=true\" >> $GITHUB_ENV || echo \"source_files_changed=false\" >> $GITHUB_ENV\n" [931,1125]
                            OBJECT [1127,1481]
                                FIELD [1128,1174]
                                    String: "name" [1128,1134]
                                    STRING [1135,1174]
                                        String: "Check that CHANGELOG has been updated" [1135,1174]
                                FIELD [1175,1216]
                                    String: "if" [1175,1179]
                                    STRING [1180,1216]
                                        String: "env.source_files_changed == 'true'" [1180,1216]
                                FIELD [1217,1480]
                                    String: "run" [1217,1222]
                                    STRING [1223,1480]
                                        String: "# If this step fails, this means you haven't updated the CHANGELOG.md\n# file with notes on your contribution.\ngit diff --name-only $(git merge-base origin/main HEAD) | grep '^CHANGELOG.md$' && echo \"Thanks for helping keep our CHANGELOG up-to-date!\"\n" [1223,1480]
            FIELD [1484,1884]
                String: "style" [1484,1491]
                OBJECT [1492,1884]
                    FIELD [1493,1507]
                        String: "name" [1493,1499]
                        STRING [1500,1507]
                            String: "Style" [1500,1507]
                    FIELD [1508,1533]
                        String: "runs-on" [1508,1517]
                        STRING [1518,1533]
                            String: "ubuntu-latest" [1518,1533]
                    FIELD [1534,1883]
                        String: "steps" [1534,1541]
                        ARRAY [1542,1883]
                            OBJECT [1543,1573]
                                FIELD [1544,1572]
                                    String: "uses" [1544,1550]
                                    STRING [1551,1572]
                                        String: "actions/checkout@v3" [1551,1572]
                            OBJECT [1574,1692]
                                FIELD [1575,1596]
                                    String: "name" [1575,1581]
                                    STRING [1582,1596]
                                        String: "Setup Python" [1582,1596]
                                FIELD [1597,1629]
                                    String: "uses" [1597,1603]
                                    STRING [1604,1629]
                                        String: "actions/setup-python@v4" [1604,1629]
                                FIELD [1630,1691]
                                    String: "with" [1630,1636]
                                    OBJECT [1637,1691]
                                        FIELD [1638,1690]
                                            String: "python-version" [1638,1654]
                                            STRING [1655,1690]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [1655,1690]
                            OBJECT [1693,1792]
                                FIELD [1694,1723]
                                    String: "name" [1694,1700]
                                    STRING [1701,1723]
                                        String: "Install requirements" [1701,1723]
                                FIELD [1724,1791]
                                    String: "run" [1724,1729]
                                    STRING [1730,1791]
                                        String: "grep -E '^black' dev-requirements.txt | xargs pip install\n" [1730,1791]
                            OBJECT [1793,1835]
                                FIELD [1794,1813]
                                    String: "name" [1794,1800]
                                    STRING [1801,1813]
                                        String: "Debug info" [1801,1813]
                                FIELD [1814,1834]
                                    String: "run" [1814,1819]
                                    STRING [1820,1834]
                                        String: "pip freeze\n" [1820,1834]
                            OBJECT [1836,1882]
                                FIELD [1837,1855]
                                    String: "name" [1837,1843]
                                    STRING [1844,1855]
                                        String: "Run black" [1844,1855]
                                FIELD [1856,1881]
                                    String: "run" [1856,1861]
                                    STRING [1862,1881]
                                        String: "black --check .\n" [1862,1881]
            FIELD [1885,5273]
                String: "checks" [1885,1893]
                OBJECT [1894,5273]
                    FIELD [1895,1927]
                        String: "name" [1895,1901]
                        STRING [1902,1927]
                            String: "${{ matrix.task.name }}" [1902,1927]
                    FIELD [1928,1966]
                        String: "runs-on" [1928,1937]
                        STRING [1938,1966]
                            String: "${{ matrix.task.runs_on }}" [1938,1966]
                    FIELD [1967,1987]
                        String: "timeout-minutes" [1967,1984]
                        NUMBER [1985,1987]
                            Number: 30 [1985,1987]
                    FIELD [1988,2588]
                        String: "strategy" [1988,1998]
                        OBJECT [1999,2588]
                            FIELD [2000,2017]
                                String: "fail-fast" [2000,2011]
                                FALSE [2012,2017]
                            FIELD [2018,2587]
                                String: "matrix" [2018,2026]
                                OBJECT [2027,2587]
                                    FIELD [2028,2586]
                                        String: "task" [2028,2034]
                                        ARRAY [2035,2586]
                                            OBJECT [2036,2162]
                                                FIELD [2037,2050]
                                                    String: "name" [2037,2043]
                                                    STRING [2044,2050]
                                                        String: "Lint" [2044,2050]
                                                FIELD [2051,2076]
                                                    String: "runs_on" [2051,2060]
                                                    STRING [2061,2076]
                                                        String: "ubuntu-latest" [2061,2076]
                                                FIELD [2077,2100]
                                                    String: "coverage_report" [2077,2094]
                                                    FALSE [2095,2100]
                                                FIELD [2101,2123]
                                                    String: "torch_platform" [2101,2117]
                                                    STRING [2118,2123]
                                                        String: "cpu" [2118,2123]
                                                FIELD [2124,2161]
                                                    String: "run" [2124,2129]
                                                    STRING [2130,2161]
                                                        String: "make flake8\nmake typecheck\n" [2130,2161]
                                            OBJECT [2163,2273]
                                                FIELD [2164,2182]
                                                    String: "name" [2164,2170]
                                                    STRING [2171,2182]
                                                        String: "CPU Tests" [2171,2182]
                                                FIELD [2183,2208]
                                                    String: "runs_on" [2183,2192]
                                                    STRING [2193,2208]
                                                        String: "ubuntu-latest" [2193,2208]
                                                FIELD [2209,2231]
                                                    String: "coverage_report" [2209,2226]
                                                    TRUE [2227,2231]
                                                FIELD [2232,2254]
                                                    String: "torch_platform" [2232,2248]
                                                    STRING [2249,2254]
                                                        String: "cpu" [2249,2254]
                                                FIELD [2255,2272]
                                                    String: "run" [2255,2260]
                                                    STRING [2261,2272]
                                                        String: "make test" [2261,2272]
                                            OBJECT [2274,2407]
                                                FIELD [2275,2293]
                                                    String: "name" [2275,2281]
                                                    STRING [2282,2293]
                                                        String: "GPU Tests" [2282,2293]
                                                FIELD [2294,2337]
                                                    String: "runs_on" [2294,2303]
                                                    ARRAY [2304,2337]
                                                        STRING [2305,2318]
                                                            String: "self-hosted" [2305,2318]
                                                        STRING [2319,2324]
                                                            String: "GPU" [2319,2324]
                                                        STRING [2325,2336]
                                                            String: "Multi GPU" [2325,2336]
                                                FIELD [2338,2360]
                                                    String: "coverage_report" [2338,2355]
                                                    TRUE [2356,2360]
                                                FIELD [2361,2383]
                                                    String: "torch_platform" [2361,2377]
                                                    STRING [2378,2383]
                                                        String: "gpu" [2378,2383]
                                                FIELD [2384,2406]
                                                    String: "run" [2384,2389]
                                                    STRING [2390,2406]
                                                        String: "make gpu-tests" [2390,2406]
                                            OBJECT [2408,2585]
                                                FIELD [2409,2429]
                                                    String: "name" [2409,2415]
                                                    STRING [2416,2429]
                                                        String: "Model Tests" [2416,2429]
                                                FIELD [2430,2455]
                                                    String: "runs_on" [2430,2439]
                                                    STRING [2440,2455]
                                                        String: "ubuntu-latest" [2440,2455]
                                                FIELD [2456,2478]
                                                    String: "coverage_report" [2456,2473]
                                                    TRUE [2474,2478]
                                                FIELD [2479,2501]
                                                    String: "torch_platform" [2479,2495]
                                                    STRING [2496,2501]
                                                        String: "cpu" [2496,2501]
                                                FIELD [2502,2584]
                                                    String: "run" [2502,2507]
                                                    STRING [2508,2584]
                                                        String: "cd allennlp-models\nmake test-with-cov COV=allennlp\nmv coverage.xml ../\n" [2508,2584]
                    FIELD [2589,5272]
                        String: "steps" [2589,2596]
                        ARRAY [2597,5272]
                            OBJECT [2598,2628]
                                FIELD [2599,2627]
                                    String: "uses" [2599,2605]
                                    STRING [2606,2627]
                                        String: "actions/checkout@v3" [2606,2627]
                            OBJECT [2629,2765]
                                FIELD [2630,2673]
                                    String: "uses" [2630,2636]
                                    STRING [2637,2673]
                                        String: "conda-incubator/setup-miniconda@v2" [2637,2673]
                                FIELD [2674,2764]
                                    String: "with" [2674,2680]
                                    OBJECT [2681,2764]
                                        FIELD [2682,2710]
                                            String: "miniconda-version" [2682,2701]
                                            STRING [2702,2710]
                                                String: "latest" [2702,2710]
                                        FIELD [2711,2763]
                                            String: "python-version" [2711,2727]
                                            STRING [2728,2763]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [2728,2763]
                            OBJECT [2766,3088]
                                FIELD [2767,2795]
                                    String: "name" [2767,2773]
                                    STRING [2774,2795]
                                        String: "Set build variables" [2774,2795]
                                FIELD [2796,3087]
                                    String: "run" [2796,2801]
                                    STRING [2802,3087]
                                        String: "# Get the exact Python version to use in the cache key.\necho \"PYTHON_VERSION=$(python --version)\" >> $GITHUB_ENV\necho \"RUNNER_ARCH=$(uname -m)\" >> $GITHUB_ENV\n# Use week number in cache key so we can refresh the cache weekly.\necho \"WEEK_NUMBER=$(date +%V)\" >> $GITHUB_ENV\n" [2802,3087]
                            OBJECT [3089,3240]
                                FIELD [3090,3129]
                                    String: "name" [3090,3096]
                                    STRING [3097,3129]
                                        String: "Set build variables (CPU only)" [3097,3129]
                                FIELD [3130,3172]
                                    String: "if" [3130,3134]
                                    STRING [3135,3172]
                                        String: "matrix.task.torch_platform == 'cpu'" [3135,3172]
                                FIELD [3173,3239]
                                    String: "run" [3173,3178]
                                    STRING [3179,3239]
                                        String: "echo \"TORCH_INSTALL=$TORCH_CPU_INSTALL\" >> $GITHUB_ENV\n" [3179,3239]
                            OBJECT [3241,3392]
                                FIELD [3242,3281]
                                    String: "name" [3242,3248]
                                    STRING [3249,3281]
                                        String: "Set build variables (GPU only)" [3249,3281]
                                FIELD [3282,3324]
                                    String: "if" [3282,3286]
                                    STRING [3287,3324]
                                        String: "matrix.task.torch_platform == 'gpu'" [3287,3324]
                                FIELD [3325,3391]
                                    String: "run" [3325,3330]
                                    STRING [3331,3391]
                                        String: "echo \"TORCH_INSTALL=$TORCH_GPU_INSTALL\" >> $GITHUB_ENV\n" [3331,3391]
                            OBJECT [3393,3690]
                                FIELD [3394,3419]
                                    String: "uses" [3394,3400]
                                    STRING [3401,3419]
                                        String: "actions/cache@v3" [3401,3419]
                                FIELD [3420,3443]
                                    String: "id" [3420,3424]
                                    STRING [3425,3443]
                                        String: "virtualenv-cache" [3425,3443]
                                FIELD [3444,3689]
                                    String: "with" [3444,3450]
                                    OBJECT [3451,3689]
                                        FIELD [3452,3466]
                                            String: "path" [3452,3458]
                                            STRING [3459,3466]
                                                String: ".venv" [3459,3466]
                                        FIELD [3467,3688]
                                            String: "key" [3467,3472]
                                            STRING [3473,3688]
                                                String: "${{ env.CACHE_PREFIX }}-${{ env.WEEK_NUMBER }}-${{ runner.os }}-${{ env.RUNNER_ARCH }}-${{ env.PYTHON_VERSION }}-${{ matrix.task.torch_platform }}-${{ hashFiles('setup.py') }}-${{ hashFiles('*requirements.txt') }}" [3473,3688]
                            OBJECT [3691,3938]
                                FIELD [3692,3741]
                                    String: "name" [3692,3698]
                                    STRING [3699,3741]
                                        String: "Setup virtual environment (no cache hit)" [3699,3741]
                                FIELD [3742,3799]
                                    String: "if" [3742,3746]
                                    STRING [3747,3799]
                                        String: "steps.virtualenv-cache.outputs.cache-hit != 'true'" [3747,3799]
                                FIELD [3800,3937]
                                    String: "run" [3800,3805]
                                    STRING [3806,3937]
                                        String: "python${{ env.DEFAULT_PYTHON_VERSION }} -m venv .venv\nsource .venv/bin/activate\nmake install TORCH_INSTALL=\"$TORCH_INSTALL\"\n" [3806,3937]
                            OBJECT [3939,4136]
                                FIELD [3940,3986]
                                    String: "name" [3940,3946]
                                    STRING [3947,3986]
                                        String: "Setup virtual environment (cache hit)" [3947,3986]
                                FIELD [3987,4044]
                                    String: "if" [3987,3991]
                                    STRING [3992,4044]
                                        String: "steps.virtualenv-cache.outputs.cache-hit == 'true'" [3992,4044]
                                FIELD [4045,4135]
                                    String: "run" [4045,4050]
                                    STRING [4051,4135]
                                        String: "source .venv/bin/activate\npip install --no-deps -e .[all]\nmake download-extras\n" [4051,4135]
                            OBJECT [4137,4458]
                                FIELD [4138,4175]
                                    String: "name" [4138,4144]
                                    STRING [4145,4175]
                                        String: "Pull and install models repo" [4145,4175]
                                FIELD [4176,4216]
                                    String: "if" [4176,4180]
                                    STRING [4181,4216]
                                        String: "matrix.task.name == 'Model Tests'" [4181,4216]
                                FIELD [4217,4255]
                                    String: "env" [4217,4222]
                                    OBJECT [4223,4255]
                                        FIELD [4224,4254]
                                            String: "ALLENNLP_VERSION_OVERRIDE" [4224,4251]
                                            STRING [4252,4254]
                                                String: "" [4252,4254]
                                FIELD [4256,4457]
                                    String: "run" [4256,4261]
                                    STRING [4262,4457]
                                        String: "source .venv/bin/activate\ngit clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models\n# git checkout dependabot/pip/torch-gte-1.7.0-and-lt-1.13.0\npip install -e .[dev,all]\n" [4262,4457]
                            OBJECT [4459,4528]
                                FIELD [4460,4479]
                                    String: "name" [4460,4466]
                                    STRING [4467,4479]
                                        String: "Debug info" [4467,4479]
                                FIELD [4480,4527]
                                    String: "run" [4480,4485]
                                    STRING [4486,4527]
                                        String: "source .venv/bin/activate\npip freeze\n" [4486,4527]
                            OBJECT [4529,4638]
                                FIELD [4530,4562]
                                    String: "name" [4530,4536]
                                    STRING [4537,4562]
                                        String: "Ensure torch up-to-date" [4537,4562]
                                FIELD [4563,4637]
                                    String: "run" [4563,4568]
                                    STRING [4569,4637]
                                        String: "source .venv/bin/activate\npython scripts/check_torch_version.py\n" [4569,4637]
                            OBJECT [4639,4733]
                                FIELD [4640,4672]
                                    String: "name" [4640,4646]
                                    STRING [4647,4672]
                                        String: "${{ matrix.task.name }}" [4647,4672]
                                FIELD [4673,4732]
                                    String: "run" [4673,4678]
                                    STRING [4679,4732]
                                        String: "source .venv/bin/activate\n${{ matrix.task.run }}\n" [4679,4732]
                            OBJECT [4734,4855]
                                FIELD [4735,4767]
                                    String: "name" [4735,4741]
                                    STRING [4742,4767]
                                        String: "Prepare coverage report" [4742,4767]
                                FIELD [4768,4802]
                                    String: "if" [4768,4772]
                                    STRING [4773,4802]
                                        String: "matrix.task.coverage_report" [4773,4802]
                                FIELD [4803,4854]
                                    String: "run" [4803,4808]
                                    STRING [4809,4854]
                                        String: "mkdir coverage\nmv coverage.xml coverage/\n" [4809,4854]
                            OBJECT [4856,5029]
                                FIELD [4857,4886]
                                    String: "name" [4857,4863]
                                    STRING [4864,4886]
                                        String: "Save coverage report" [4864,4886]
                                FIELD [4887,4921]
                                    String: "if" [4887,4891]
                                    STRING [4892,4921]
                                        String: "matrix.task.coverage_report" [4892,4921]
                                FIELD [4922,4957]
                                    String: "uses" [4922,4928]
                                    STRING [4929,4957]
                                        String: "actions/upload-artifact@v3" [4929,4957]
                                FIELD [4958,5028]
                                    String: "with" [4958,4964]
                                    OBJECT [4965,5028]
                                        FIELD [4966,5007]
                                            String: "name" [4966,4972]
                                            STRING [4973,5007]
                                                String: "${{ matrix.task.name }}-coverage" [4973,5007]
                                        FIELD [5008,5027]
                                            String: "path" [5008,5014]
                                            STRING [5015,5027]
                                                String: "./coverage" [5015,5027]
                            OBJECT [5030,5271]
                                FIELD [5031,5048]
                                    String: "name" [5031,5037]
                                    STRING [5038,5048]
                                        String: "Clean up" [5038,5048]
                                FIELD [5049,5064]
                                    String: "if" [5049,5053]
                                    STRING [5054,5064]
                                        String: "always()" [5054,5064]
                                FIELD [5065,5270]
                                    String: "run" [5065,5070]
                                    STRING [5071,5270]
                                        String: "# Could run into issues with the cache if we don't uninstall the editable.\n# See https://github.com/pypa/pip/issues/4537.\nsource .venv/bin/activate\npip uninstall --yes allennlp allennlp-models\n" [5071,5270]
            FIELD [5274,6233]
                String: "upload_coverage" [5274,5291]
                OBJECT [5292,6233]
                    FIELD [5293,5324]
                        String: "name" [5293,5299]
                        STRING [5300,5324]
                            String: "Upload Coverage Report" [5300,5324]
                    FIELD [5325,5344]
                        String: "timeout-minutes" [5325,5342]
                        NUMBER [5343,5344]
                            Number: 5 [5343,5344]
                    FIELD [5345,5463]
                        String: "if" [5345,5349]
                        STRING [5350,5463]
                            String: "github.repository == 'allenai/allennlp' && (github.event_name == 'push' || github.event_name == 'pull_request')" [5350,5463]
                    FIELD [5464,5489]
                        String: "runs-on" [5464,5473]
                        STRING [5474,5489]
                            String: "ubuntu-latest" [5474,5489]
                    FIELD [5490,5508]
                        String: "needs" [5490,5497]
                        ARRAY [5498,5508]
                            STRING [5499,5507]
                                String: "checks" [5499,5507]
                    FIELD [5509,6232]
                        String: "steps" [5509,5516]
                        ARRAY [5517,6232]
                            OBJECT [5518,5548]
                                FIELD [5519,5547]
                                    String: "uses" [5519,5525]
                                    STRING [5526,5547]
                                        String: "actions/checkout@v3" [5526,5547]
                            OBJECT [5549,5702]
                                FIELD [5550,5598]
                                    String: "name" [5550,5556]
                                    STRING [5557,5598]
                                        String: "Download coverage report from CPU tests" [5557,5598]
                                FIELD [5599,5636]
                                    String: "uses" [5599,5605]
                                    STRING [5606,5636]
                                        String: "actions/download-artifact@v3" [5606,5636]
                                FIELD [5637,5701]
                                    String: "with" [5637,5643]
                                    OBJECT [5644,5701]
                                        FIELD [5645,5672]
                                            String: "name" [5645,5651]
                                            STRING [5652,5672]
                                                String: "CPU Tests-coverage" [5652,5672]
                                        FIELD [5673,5700]
                                            String: "path" [5673,5679]
                                            STRING [5680,5700]
                                                String: "coverage/cpu_tests" [5680,5700]
                            OBJECT [5703,5856]
                                FIELD [5704,5752]
                                    String: "name" [5704,5710]
                                    STRING [5711,5752]
                                        String: "Download coverage report from GPU Tests" [5711,5752]
                                FIELD [5753,5790]
                                    String: "uses" [5753,5759]
                                    STRING [5760,5790]
                                        String: "actions/download-artifact@v3" [5760,5790]
                                FIELD [5791,5855]
                                    String: "with" [5791,5797]
                                    OBJECT [5798,5855]
                                        FIELD [5799,5826]
                                            String: "name" [5799,5805]
                                            STRING [5806,5826]
                                                String: "GPU Tests-coverage" [5806,5826]
                                        FIELD [5827,5854]
                                            String: "path" [5827,5833]
                                            STRING [5834,5854]
                                                String: "coverage/gpu_tests" [5834,5854]
                            OBJECT [5857,6016]
                                FIELD [5858,5908]
                                    String: "name" [5858,5864]
                                    STRING [5865,5908]
                                        String: "Download coverage report from model tests" [5865,5908]
                                FIELD [5909,5946]
                                    String: "uses" [5909,5915]
                                    STRING [5916,5946]
                                        String: "actions/download-artifact@v3" [5916,5946]
                                FIELD [5947,6015]
                                    String: "with" [5947,5953]
                                    OBJECT [5954,6015]
                                        FIELD [5955,5984]
                                            String: "name" [5955,5961]
                                            STRING [5962,5984]
                                                String: "Model Tests-coverage" [5962,5984]
                                        FIELD [5985,6014]
                                            String: "path" [5985,5991]
                                            STRING [5992,6014]
                                                String: "coverage/model_tests" [5992,6014]
                            OBJECT [6017,6231]
                                FIELD [6018,6053]
                                    String: "name" [6018,6024]
                                    STRING [6025,6053]
                                        String: "Upload coverage to Codecov" [6025,6053]
                                FIELD [6054,6088]
                                    String: "uses" [6054,6060]
                                    STRING [6061,6088]
                                        String: "codecov/codecov-action@v3" [6061,6088]
                                FIELD [6089,6230]
                                    String: "with" [6089,6095]
                                    OBJECT [6096,6230]
                                        FIELD [6097,6204]
                                            String: "files" [6097,6104]
                                            STRING [6105,6204]
                                                String: "coverage/cpu_tests/coverage.xml,coverage/gpu_tests/coverage.xml,coverage/model_tests/coverage.xml" [6105,6204]
                                        FIELD [6205,6229]
                                            String: "fail_ci_if_error" [6205,6223]
                                            FALSE [6224,6229]
            FIELD [6234,8958]
                String: "build_package" [6234,6249]
                OBJECT [6250,8958]
                    FIELD [6251,6273]
                        String: "name" [6251,6257]
                        STRING [6258,6273]
                            String: "Build Package" [6258,6273]
                    FIELD [6274,6294]
                        String: "timeout-minutes" [6274,6291]
                        NUMBER [6292,6294]
                            Number: 18 [6292,6294]
                    FIELD [6295,6320]
                        String: "runs-on" [6295,6304]
                        STRING [6305,6320]
                            String: "ubuntu-latest" [6305,6320]
                    FIELD [6321,8957]
                        String: "steps" [6321,6328]
                        ARRAY [6329,8957]
                            OBJECT [6330,6360]
                                FIELD [6331,6359]
                                    String: "uses" [6331,6337]
                                    STRING [6338,6359]
                                        String: "actions/checkout@v3" [6338,6359]
                            OBJECT [6361,6497]
                                FIELD [6362,6405]
                                    String: "uses" [6362,6368]
                                    STRING [6369,6405]
                                        String: "conda-incubator/setup-miniconda@v2" [6369,6405]
                                FIELD [6406,6496]
                                    String: "with" [6406,6412]
                                    OBJECT [6413,6496]
                                        FIELD [6414,6442]
                                            String: "miniconda-version" [6414,6433]
                                            STRING [6434,6442]
                                                String: "latest" [6434,6442]
                                        FIELD [6443,6495]
                                            String: "python-version" [6443,6459]
                                            STRING [6460,6495]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [6460,6495]
                            OBJECT [6498,6753]
                                FIELD [6499,6527]
                                    String: "name" [6499,6505]
                                    STRING [6506,6527]
                                        String: "Set build variables" [6506,6527]
                                FIELD [6528,6752]
                                    String: "run" [6528,6533]
                                    STRING [6534,6752]
                                        String: "echo \"PYTHON_VERSION=$(python --version)\" >> $GITHUB_ENV\necho \"RUNNER_ARCH=$(uname -m)\" >> $GITHUB_ENV\necho \"WEEK_NUMBER=$(date +%V)\" >> $GITHUB_ENV\necho \"TORCH_INSTALL=$TORCH_CPU_INSTALL\" >> $GITHUB_ENV\n" [6534,6752]
                            OBJECT [6754,7021]
                                FIELD [6755,6780]
                                    String: "uses" [6755,6761]
                                    STRING [6762,6780]
                                        String: "actions/cache@v3" [6762,6780]
                                FIELD [6781,6804]
                                    String: "id" [6781,6785]
                                    STRING [6786,6804]
                                        String: "virtualenv-cache" [6786,6804]
                                FIELD [6805,7020]
                                    String: "with" [6805,6811]
                                    OBJECT [6812,7020]
                                        FIELD [6813,6827]
                                            String: "path" [6813,6819]
                                            STRING [6820,6827]
                                                String: ".venv" [6820,6827]
                                        FIELD [6828,7019]
                                            String: "key" [6828,6833]
                                            STRING [6834,7019]
                                                String: "${{ env.CACHE_PREFIX }}-${{ env.WEEK_NUMBER }}-${{ runner.os }}-${{ env.RUNNER_ARCH }}-${{ env.PYTHON_VERSION }}-cpu-${{ hashFiles('setup.py') }}-${{ hashFiles('*requirements.txt') }}" [6834,7019]
                            OBJECT [7022,7269]
                                FIELD [7023,7072]
                                    String: "name" [7023,7029]
                                    STRING [7030,7072]
                                        String: "Setup virtual environment (no cache hit)" [7030,7072]
                                FIELD [7073,7130]
                                    String: "if" [7073,7077]
                                    STRING [7078,7130]
                                        String: "steps.virtualenv-cache.outputs.cache-hit != 'true'" [7078,7130]
                                FIELD [7131,7268]
                                    String: "run" [7131,7136]
                                    STRING [7137,7268]
                                        String: "python${{ env.DEFAULT_PYTHON_VERSION }} -m venv .venv\nsource .venv/bin/activate\nmake install TORCH_INSTALL=\"$TORCH_INSTALL\"\n" [7137,7268]
                            OBJECT [7270,7467]
                                FIELD [7271,7317]
                                    String: "name" [7271,7277]
                                    STRING [7278,7317]
                                        String: "Setup virtual environment (cache hit)" [7278,7317]
                                FIELD [7318,7375]
                                    String: "if" [7318,7322]
                                    STRING [7323,7375]
                                        String: "steps.virtualenv-cache.outputs.cache-hit == 'true'" [7323,7375]
                                FIELD [7376,7466]
                                    String: "run" [7376,7381]
                                    STRING [7382,7466]
                                        String: "source .venv/bin/activate\npip install --no-deps -e .[all]\nmake download-extras\n" [7382,7466]
                            OBJECT [7468,7537]
                                FIELD [7469,7488]
                                    String: "name" [7469,7475]
                                    STRING [7476,7488]
                                        String: "Debug info" [7476,7488]
                                FIELD [7489,7536]
                                    String: "run" [7489,7494]
                                    STRING [7495,7536]
                                        String: "source .venv/bin/activate\npip freeze\n" [7495,7536]
                            OBJECT [7538,8202]
                                FIELD [7539,7577]
                                    String: "name" [7539,7545]
                                    STRING [7546,7577]
                                        String: "Check and set nightly version" [7546,7577]
                                FIELD [7578,7616]
                                    String: "if" [7578,7582]
                                    STRING [7583,7616]
                                        String: "github.event_name == 'schedule'" [7583,7616]
                                FIELD [7617,8201]
                                    String: "run" [7617,7622]
                                    STRING [7623,8201]
                                        String: "# Verify that current version is ahead of the last release.\nsource .venv/bin/activate\nLATEST=$(scripts/get_version.py latest)\nCURRENT=$(scripts/get_version.py current)\nif [ \"$CURRENT\" == \"$LATEST\" ]; then\n    echo \"Current version needs to be ahead of latest release in order to build nightly release\";\n    exit 1;\nfi\n# This is somewhat bizarre, but you can't set env variables to bash\n# commands in the action workflow - so we have to use this odd way of\n# exporting a variable instead.\necho \"ALLENNLP_VERSION_SUFFIX=dev$(date -u +%Y%m%d)\" >> $GITHUB_ENV\n" [7623,8201]
                            OBJECT [8203,8584]
                                FIELD [8204,8248]
                                    String: "name" [8204,8210]
                                    STRING [8211,8248]
                                        String: "Check version and release tag match" [8211,8248]
                                FIELD [8249,8286]
                                    String: "if" [8249,8253]
                                    STRING [8254,8286]
                                        String: "github.event_name == 'release'" [8254,8286]
                                FIELD [8287,8583]
                                    String: "run" [8287,8292]
                                    STRING [8293,8583]
                                        String: "# Remove 'refs/tags/' to get the actual tag from the release.\nsource .venv/bin/activate\nTAG=${GITHUB_REF#refs/tags/};\nVERSION=$(scripts/get_version.py current)\nif [ \"$TAG\" != \"$VERSION\" ]; then\n    echo \"Bad tag or version. Tag $TAG does not match $VERSION\";\n    exit 1;\nfi\n" [8293,8583]
                            OBJECT [8585,8744]
                                FIELD [8586,8613]
                                    String: "name" [8586,8592]
                                    STRING [8593,8613]
                                        String: "Build core package" [8593,8613]
                                FIELD [8614,8743]
                                    String: "run" [8614,8619]
                                    STRING [8620,8743]
                                        String: "# Just print out the version for debugging.\nsource .venv/bin/activate\nmake version\npython setup.py bdist_wheel sdist\n" [8620,8743]
                            OBJECT [8745,8854]
                                FIELD [8746,8772]
                                    String: "name" [8746,8752]
                                    STRING [8753,8772]
                                        String: "Save core package" [8753,8772]
                                FIELD [8773,8808]
                                    String: "uses" [8773,8779]
                                    STRING [8780,8808]
                                        String: "actions/upload-artifact@v3" [8780,8808]
                                FIELD [8809,8853]
                                    String: "with" [8809,8815]
                                    OBJECT [8816,8853]
                                        FIELD [8817,8838]
                                            String: "name" [8817,8823]
                                            STRING [8824,8838]
                                                String: "core-package" [8824,8838]
                                        FIELD [8839,8852]
                                            String: "path" [8839,8845]
                                            STRING [8846,8852]
                                                String: "dist" [8846,8852]
                            OBJECT [8855,8956]
                                FIELD [8856,8873]
                                    String: "name" [8856,8862]
                                    STRING [8863,8873]
                                        String: "Clean up" [8863,8873]
                                FIELD [8874,8889]
                                    String: "if" [8874,8878]
                                    STRING [8879,8889]
                                        String: "always()" [8879,8889]
                                FIELD [8890,8955]
                                    String: "run" [8890,8895]
                                    STRING [8896,8955]
                                        String: "source .venv/bin/activate\npip uninstall --yes allennlp\n" [8896,8955]
            FIELD [8959,9840]
                String: "test_package" [8959,8973]
                OBJECT [8974,9840]
                    FIELD [8975,8996]
                        String: "name" [8975,8981]
                        STRING [8982,8996]
                            String: "Test Package" [8982,8996]
                    FIELD [8997,9017]
                        String: "timeout-minutes" [8997,9014]
                        NUMBER [9015,9017]
                            Number: 10 [9015,9017]
                    FIELD [9018,9043]
                        String: "needs" [9018,9025]
                        ARRAY [9026,9043]
                            STRING [9027,9042]
                                String: "build_package" [9027,9042]
                    FIELD [9044,9069]
                        String: "runs-on" [9044,9053]
                        STRING [9054,9069]
                            String: "ubuntu-latest" [9054,9069]
                    FIELD [9070,9144]
                        String: "strategy" [9070,9080]
                        OBJECT [9081,9144]
                            FIELD [9082,9143]
                                String: "matrix" [9082,9090]
                                OBJECT [9091,9143]
                                    FIELD [9092,9120]
                                        String: "python" [9092,9100]
                                        ARRAY [9101,9120]
                                            STRING [9102,9107]
                                                String: "3.7" [9102,9107]
                                            STRING [9108,9113]
                                                String: "3.8" [9108,9113]
                                            STRING [9114,9119]
                                                String: "3.9" [9114,9119]
                                    FIELD [9121,9142]
                                        String: "flavor" [9121,9129]
                                        ARRAY [9130,9142]
                                            STRING [9131,9133]
                                                String: "" [9131,9133]
                                            STRING [9134,9141]
                                                String: "[all]" [9134,9141]
                    FIELD [9145,9839]
                        String: "steps" [9145,9152]
                        ARRAY [9153,9839]
                            OBJECT [9154,9184]
                                FIELD [9155,9183]
                                    String: "uses" [9155,9161]
                                    STRING [9162,9183]
                                        String: "actions/checkout@v3" [9162,9183]
                            OBJECT [9185,9290]
                                FIELD [9186,9207]
                                    String: "name" [9186,9192]
                                    STRING [9193,9207]
                                        String: "Setup Python" [9193,9207]
                                FIELD [9208,9240]
                                    String: "uses" [9208,9214]
                                    STRING [9215,9240]
                                        String: "actions/setup-python@v4" [9215,9240]
                                FIELD [9241,9289]
                                    String: "with" [9241,9247]
                                    OBJECT [9248,9289]
                                        FIELD [9249,9288]
                                            String: "python-version" [9249,9265]
                                            STRING [9266,9288]
                                                String: "${{ matrix.python }}" [9266,9288]
                            OBJECT [9291,9375]
                                FIELD [9292,9321]
                                    String: "name" [9292,9298]
                                    STRING [9299,9321]
                                        String: "Install requirements" [9299,9321]
                                FIELD [9322,9374]
                                    String: "run" [9322,9327]
                                    STRING [9328,9374]
                                        String: "pip install --upgrade pip setuptools wheel\n" [9328,9374]
                            OBJECT [9376,9491]
                                FIELD [9377,9407]
                                    String: "name" [9377,9383]
                                    STRING [9384,9407]
                                        String: "Download core package" [9384,9407]
                                FIELD [9408,9445]
                                    String: "uses" [9408,9414]
                                    STRING [9415,9445]
                                        String: "actions/download-artifact@v3" [9415,9445]
                                FIELD [9446,9490]
                                    String: "with" [9446,9452]
                                    OBJECT [9453,9490]
                                        FIELD [9454,9475]
                                            String: "name" [9454,9460]
                                            STRING [9461,9475]
                                                String: "core-package" [9461,9475]
                                        FIELD [9476,9489]
                                            String: "path" [9476,9482]
                                            STRING [9483,9489]
                                                String: "dist" [9483,9489]
                            OBJECT [9492,9582]
                                FIELD [9493,9522]
                                    String: "name" [9493,9499]
                                    STRING [9500,9522]
                                        String: "Install core package" [9500,9522]
                                FIELD [9523,9581]
                                    String: "run" [9523,9528]
                                    STRING [9529,9581]
                                        String: "pip install $(ls dist/*.whl)${{ matrix.flavor }}\n" [9529,9581]
                            OBJECT [9583,9652]
                                FIELD [9584,9620]
                                    String: "name" [9584,9590]
                                    STRING [9591,9620]
                                        String: "Download NLTK prerequisites" [9591,9620]
                                FIELD [9621,9651]
                                    String: "run" [9621,9626]
                                    STRING [9627,9651]
                                        String: "make download-extras\n" [9627,9651]
                            OBJECT [9653,9739]
                                FIELD [9654,9680]
                                    String: "name" [9654,9660]
                                    STRING [9661,9680]
                                        String: "Cleanup workspace" [9661,9680]
                                FIELD [9681,9738]
                                    String: "run" [9681,9686]
                                    STRING [9687,9738]
                                        String: "rm -rf allennlp/ setup.py tests/ test_fixtures/\n" [9687,9738]
                            OBJECT [9740,9782]
                                FIELD [9741,9760]
                                    String: "name" [9741,9747]
                                    STRING [9748,9760]
                                        String: "Pip freeze" [9748,9760]
                                FIELD [9761,9781]
                                    String: "run" [9761,9766]
                                    STRING [9767,9781]
                                        String: "pip freeze\n" [9767,9781]
                            OBJECT [9783,9838]
                                FIELD [9784,9805]
                                    String: "name" [9784,9790]
                                    STRING [9791,9805]
                                        String: "Test install" [9791,9805]
                                FIELD [9806,9837]
                                    String: "run" [9806,9811]
                                    STRING [9812,9837]
                                        String: "allennlp test-install\n" [9812,9837]
            FIELD [9841,11454]
                String: "docker" [9841,9849]
                OBJECT [9850,11454]
                    FIELD [9851,9892]
                        String: "name" [9851,9857]
                        STRING [9858,9892]
                            String: "Docker (CUDA ${{ matrix.cuda }})" [9858,9892]
                    FIELD [9893,9913]
                        String: "timeout-minutes" [9893,9910]
                        NUMBER [9911,9913]
                            Number: 30 [9911,9913]
                    FIELD [9914,9960]
                        String: "if" [9914,9918]
                        STRING [9919,9960]
                            String: "github.repository == 'allenai/allennlp'" [9919,9960]
                    FIELD [9961,9986]
                        String: "runs-on" [9961,9970]
                        STRING [9971,9986]
                            String: "ubuntu-latest" [9971,9986]
                    FIELD [9987,10026]
                        String: "strategy" [9987,9997]
                        OBJECT [9998,10026]
                            FIELD [9999,10025]
                                String: "matrix" [9999,10007]
                                OBJECT [10008,10025]
                                    FIELD [10009,10024]
                                        String: "cuda" [10009,10015]
                                        ARRAY [10016,10024]
                                            STRING [10017,10023]
                                                String: "11.3" [10017,10023]
                    FIELD [10027,11453]
                        String: "steps" [10027,10034]
                        ARRAY [10035,11453]
                            OBJECT [10036,10066]
                                FIELD [10037,10065]
                                    String: "uses" [10037,10043]
                                    STRING [10044,10065]
                                        String: "actions/checkout@v3" [10044,10065]
                            OBJECT [10067,10492]
                                FIELD [10068,10109]
                                    String: "name" [10068,10074]
                                    STRING [10075,10109]
                                        String: "Set image name and torch version" [10075,10109]
                                FIELD [10110,10145]
                                    String: "env" [10110,10115]
                                    OBJECT [10116,10145]
                                        FIELD [10117,10144]
                                            String: "CUDA" [10117,10123]
                                            STRING [10124,10144]
                                                String: "${{ matrix.cuda }}" [10124,10144]
                                FIELD [10146,10491]
                                    String: "run" [10146,10151]
                                    STRING [10152,10491]
                                        String: "echo \"DOCKER_TORCH_VERSION=${TORCH_VERSION}-cuda${CUDA}-python3.8\" >> $GITHUB_ENV;\nif [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCKER_IMAGE_NAME=allennlp/allennlp:${GITHUB_REF#refs/tags/}-cuda${CUDA}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCKER_IMAGE_NAME=allennlp/commit:${GITHUB_SHA}-cuda${CUDA}\" >> $GITHUB_ENV;\nfi\n" [10152,10491]
                            OBJECT [10493,10631]
                                FIELD [10494,10514]
                                    String: "name" [10494,10500]
                                    STRING [10501,10514]
                                        String: "Build image" [10501,10514]
                                FIELD [10515,10630]
                                    String: "run" [10515,10520]
                                    STRING [10521,10630]
                                        String: "make docker-image DOCKER_IMAGE_NAME=\"$DOCKER_IMAGE_NAME\" DOCKER_TORCH_VERSION=\"$DOCKER_TORCH_VERSION\"\n" [10521,10630]
                            OBJECT [10632,10711]
                                FIELD [10633,10652]
                                    String: "name" [10633,10639]
                                    STRING [10640,10652]
                                        String: "Test image" [10640,10652]
                                FIELD [10653,10710]
                                    String: "run" [10653,10658]
                                    STRING [10659,10710]
                                        String: "docker run --rm $DOCKER_IMAGE_NAME test-install\n" [10659,10710]
                            OBJECT [10712,10909]
                                FIELD [10713,10748]
                                    String: "name" [10713,10719]
                                    STRING [10720,10748]
                                        String: "Authenticate to Docker Hub" [10720,10748]
                                FIELD [10749,10817]
                                    String: "if" [10749,10753]
                                    STRING [10754,10817]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [10754,10817]
                                FIELD [10818,10908]
                                    String: "run" [10818,10823]
                                    STRING [10824,10908]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\n" [10824,10908]
                            OBJECT [10910,11043]
                                FIELD [10911,10932]
                                    String: "name" [10911,10917]
                                    STRING [10918,10932]
                                        String: "Upload image" [10918,10932]
                                FIELD [10933,11001]
                                    String: "if" [10933,10937]
                                    STRING [10938,11001]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [10938,11001]
                                FIELD [11002,11042]
                                    String: "run" [11002,11007]
                                    STRING [11008,11042]
                                        String: "docker push $DOCKER_IMAGE_NAME\n" [11008,11042]
                            OBJECT [11044,11255]
                                FIELD [11045,11081]
                                    String: "name" [11045,11051]
                                    STRING [11052,11081]
                                        String: "Upload default commit image" [11052,11081]
                                FIELD [11082,11141]
                                    String: "if" [11082,11086]
                                    STRING [11087,11141]
                                        String: "github.event_name == 'push' && matrix.cuda == '11.3'" [11087,11141]
                                FIELD [11142,11254]
                                    String: "run" [11142,11147]
                                    STRING [11148,11254]
                                        String: "docker tag $DOCKER_IMAGE_NAME allennlp/commit:${GITHUB_SHA}\ndocker push allennlp/commit:${GITHUB_SHA}\n" [11148,11254]
                            OBJECT [11256,11452]
                                FIELD [11257,11285]
                                    String: "name" [11257,11263]
                                    STRING [11264,11285]
                                        String: "Upload latest image" [11264,11285]
                                FIELD [11286,11348]
                                    String: "if" [11286,11290]
                                    STRING [11291,11348]
                                        String: "github.event_name == 'release' && matrix.cuda == '11.3'" [11291,11348]
                                FIELD [11349,11451]
                                    String: "run" [11349,11354]
                                    STRING [11355,11451]
                                        String: "docker tag $DOCKER_IMAGE_NAME allennlp/allennlp:latest\ndocker push allennlp/allennlp:latest\n" [11355,11451]
            FIELD [11455,15942]
                String: "docs" [11455,11461]
                OBJECT [11462,15942]
                    FIELD [11463,11476]
                        String: "name" [11463,11469]
                        STRING [11470,11476]
                            String: "Docs" [11470,11476]
                    FIELD [11477,11497]
                        String: "timeout-minutes" [11477,11494]
                        NUMBER [11495,11497]
                            Number: 15 [11495,11497]
                    FIELD [11498,11544]
                        String: "if" [11498,11502]
                        STRING [11503,11544]
                            String: "github.repository == 'allenai/allennlp'" [11503,11544]
                    FIELD [11545,11570]
                        String: "runs-on" [11545,11554]
                        STRING [11555,11570]
                            String: "ubuntu-latest" [11555,11570]
                    FIELD [11571,15941]
                        String: "steps" [11571,11578]
                        ARRAY [11579,15941]
                            OBJECT [11580,11610]
                                FIELD [11581,11609]
                                    String: "uses" [11581,11587]
                                    STRING [11588,11609]
                                        String: "actions/checkout@v3" [11588,11609]
                            OBJECT [11611,11807]
                                FIELD [11612,11640]
                                    String: "name" [11612,11618]
                                    STRING [11619,11640]
                                        String: "Setup SSH Client 🔑" [11619,11640]
                                FIELD [11641,11709]
                                    String: "if" [11641,11645]
                                    STRING [11646,11709]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [11646,11709]
                                FIELD [11710,11746]
                                    String: "uses" [11710,11716]
                                    STRING [11717,11746]
                                        String: "webfactory/ssh-agent@v0.5.4" [11717,11746]
                                FIELD [11747,11806]
                                    String: "with" [11747,11753]
                                    OBJECT [11754,11806]
                                        FIELD [11755,11805]
                                            String: "ssh-private-key" [11755,11772]
                                            STRING [11773,11805]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [11773,11805]
                            OBJECT [11808,11944]
                                FIELD [11809,11852]
                                    String: "uses" [11809,11815]
                                    STRING [11816,11852]
                                        String: "conda-incubator/setup-miniconda@v2" [11816,11852]
                                FIELD [11853,11943]
                                    String: "with" [11853,11859]
                                    OBJECT [11860,11943]
                                        FIELD [11861,11889]
                                            String: "miniconda-version" [11861,11880]
                                            STRING [11881,11889]
                                                String: "latest" [11881,11889]
                                        FIELD [11890,11942]
                                            String: "python-version" [11890,11906]
                                            STRING [11907,11942]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [11907,11942]
                            OBJECT [11945,12200]
                                FIELD [11946,11974]
                                    String: "name" [11946,11952]
                                    STRING [11953,11974]
                                        String: "Set build variables" [11953,11974]
                                FIELD [11975,12199]
                                    String: "run" [11975,11980]
                                    STRING [11981,12199]
                                        String: "echo \"PYTHON_VERSION=$(python --version)\" >> $GITHUB_ENV\necho \"RUNNER_ARCH=$(uname -m)\" >> $GITHUB_ENV\necho \"WEEK_NUMBER=$(date +%V)\" >> $GITHUB_ENV\necho \"TORCH_INSTALL=$TORCH_CPU_INSTALL\" >> $GITHUB_ENV\n" [11981,12199]
                            OBJECT [12201,12468]
                                FIELD [12202,12227]
                                    String: "uses" [12202,12208]
                                    STRING [12209,12227]
                                        String: "actions/cache@v3" [12209,12227]
                                FIELD [12228,12251]
                                    String: "id" [12228,12232]
                                    STRING [12233,12251]
                                        String: "virtualenv-cache" [12233,12251]
                                FIELD [12252,12467]
                                    String: "with" [12252,12258]
                                    OBJECT [12259,12467]
                                        FIELD [12260,12274]
                                            String: "path" [12260,12266]
                                            STRING [12267,12274]
                                                String: ".venv" [12267,12274]
                                        FIELD [12275,12466]
                                            String: "key" [12275,12280]
                                            STRING [12281,12466]
                                                String: "${{ env.CACHE_PREFIX }}-${{ env.WEEK_NUMBER }}-${{ runner.os }}-${{ env.RUNNER_ARCH }}-${{ env.PYTHON_VERSION }}-cpu-${{ hashFiles('setup.py') }}-${{ hashFiles('*requirements.txt') }}" [12281,12466]
                            OBJECT [12469,12716]
                                FIELD [12470,12519]
                                    String: "name" [12470,12476]
                                    STRING [12477,12519]
                                        String: "Setup virtual environment (no cache hit)" [12477,12519]
                                FIELD [12520,12577]
                                    String: "if" [12520,12524]
                                    STRING [12525,12577]
                                        String: "steps.virtualenv-cache.outputs.cache-hit != 'true'" [12525,12577]
                                FIELD [12578,12715]
                                    String: "run" [12578,12583]
                                    STRING [12584,12715]
                                        String: "python${{ env.DEFAULT_PYTHON_VERSION }} -m venv .venv\nsource .venv/bin/activate\nmake install TORCH_INSTALL=\"$TORCH_INSTALL\"\n" [12584,12715]
                            OBJECT [12717,12914]
                                FIELD [12718,12764]
                                    String: "name" [12718,12724]
                                    STRING [12725,12764]
                                        String: "Setup virtual environment (cache hit)" [12725,12764]
                                FIELD [12765,12822]
                                    String: "if" [12765,12769]
                                    STRING [12770,12822]
                                        String: "steps.virtualenv-cache.outputs.cache-hit == 'true'" [12770,12822]
                                FIELD [12823,12913]
                                    String: "run" [12823,12828]
                                    STRING [12829,12913]
                                        String: "source .venv/bin/activate\npip install --no-deps -e .[all]\nmake download-extras\n" [12829,12913]
                            OBJECT [12915,12984]
                                FIELD [12916,12935]
                                    String: "name" [12916,12922]
                                    STRING [12923,12935]
                                        String: "Debug info" [12923,12935]
                                FIELD [12936,12983]
                                    String: "run" [12936,12941]
                                    STRING [12942,12983]
                                        String: "source .venv/bin/activate\npip freeze\n" [12942,12983]
                            OBJECT [12985,13422]
                                FIELD [12986,13014]
                                    String: "name" [12986,12992]
                                    STRING [12993,13014]
                                        String: "Prepare environment" [12993,13014]
                                FIELD [13015,13421]
                                    String: "run" [13015,13020]
                                    STRING [13021,13421]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCS_FOLDER=${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\n    echo \"BASE_SOURCE_LINK=https://github.com/allenai/allennlp/blob/${GITHUB_REF#refs/tags/}/allennlp/\" >> $GITHUB_ENV;\nelse\n    echo \"DOCS_FOLDER=main\" >> $GITHUB_ENV;\n    echo \"BASE_SOURCE_LINK=https://github.com/allenai/allennlp/blob/main/allennlp/\" >> $GITHUB_ENV;\nfi\n" [13021,13421]
                            OBJECT [13423,13522]
                                FIELD [13424,13443]
                                    String: "name" [13424,13430]
                                    STRING [13431,13443]
                                        String: "Build docs" [13431,13443]
                                FIELD [13444,13521]
                                    String: "run" [13444,13449]
                                    STRING [13450,13521]
                                        String: "source .venv/bin/activate\nenv PYTHONPATH=. ./scripts/build_docs.sh\n" [13450,13521]
                            OBJECT [13523,13580]
                                FIELD [13524,13546]
                                    String: "name" [13524,13530]
                                    STRING [13531,13546]
                                        String: "Print the ref" [13531,13546]
                                FIELD [13547,13579]
                                    String: "run" [13547,13552]
                                    STRING [13553,13579]
                                        String: "echo ${{ github.ref }}\n" [13553,13579]
                            OBJECT [13581,13866]
                                FIELD [13582,13604]
                                    String: "name" [13582,13588]
                                    STRING [13589,13604]
                                        String: "Configure Git" [13589,13604]
                                FIELD [13605,13710]
                                    String: "if" [13605,13609]
                                    STRING [13610,13710]
                                        String: "github.event_name == 'release' || (github.event_name == 'push' && github.ref == 'refs/heads/main')" [13610,13710]
                                FIELD [13711,13865]
                                    String: "run" [13711,13716]
                                    STRING [13717,13865]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [13717,13865]
                            OBJECT [13867,14334]
                                FIELD [13868,13887]
                                    String: "name" [13868,13874]
                                    STRING [13875,13887]
                                        String: "Stage docs" [13875,13887]
                                FIELD [13888,13993]
                                    String: "if" [13888,13892]
                                    STRING [13893,13993]
                                        String: "github.event_name == 'release' || (github.event_name == 'push' && github.ref == 'refs/heads/main')" [13893,13993]
                                FIELD [13994,14333]
                                    String: "run" [13994,13999]
                                    STRING [14000,14333]
                                        String: "echo \"Staging docs to $DOCS_FOLDER\"\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DOCS_FOLDER/\nmkdir -p ~/allennlp-docs/$DOCS_FOLDER\ncp -r site/* ~/allennlp-docs/$DOCS_FOLDER\n" [14000,14333]
                            OBJECT [14335,15236]
                                FIELD [14336,14361]
                                    String: "name" [14336,14342]
                                    STRING [14343,14361]
                                        String: "Update shortcuts" [14343,14361]
                                FIELD [14362,14399]
                                    String: "if" [14362,14366]
                                    STRING [14367,14399]
                                        String: "github.event_name == 'release'" [14367,14399]
                                FIELD [14400,15235]
                                    String: "run" [14400,14405]
                                    STRING [14406,15235]
                                        String: "# Fail immediately if any step fails.\nset -e\nsource .venv/bin/activate\n\nLATEST=$(./scripts/get_version.py latest)\nSTABLE=$(./scripts/get_version.py stable)\n\ncd ~/allennlp-docs/\n\necho \"Updating latest/index.html to point to $LATEST\"\nmkdir -p latest\ncat >latest/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${LATEST}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${LATEST}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n\necho \"Updating stable/index.html to point to $STABLE\"\nmkdir -p stable\ncat >stable/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${STABLE}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${STABLE}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n" [14406,15235]
                            OBJECT [15237,15495]
                                FIELD [15238,15258]
                                    String: "name" [15238,15244]
                                    STRING [15245,15258]
                                        String: "Deploy docs" [15245,15258]
                                FIELD [15259,15364]
                                    String: "if" [15259,15263]
                                    STRING [15264,15364]
                                        String: "github.event_name == 'release' || (github.event_name == 'push' && github.ref == 'refs/heads/main')" [15264,15364]
                                FIELD [15365,15494]
                                    String: "run" [15365,15370]
                                    STRING [15371,15494]
                                        String: "# And push them up to GitHub\ncd ~/allennlp-docs/\ngit add -A\ngit commit -m \"automated update of the docs\"\ngit push\n" [15371,15494]
                            OBJECT [15496,15838]
                                FIELD [15497,15534]
                                    String: "name" [15497,15503]
                                    STRING [15504,15534]
                                        String: "Re-write docs commit history" [15504,15534]
                                FIELD [15535,15572]
                                    String: "if" [15535,15539]
                                    STRING [15540,15572]
                                        String: "github.event_name == 'release'" [15540,15572]
                                FIELD [15573,15837]
                                    String: "run" [15573,15578]
                                    STRING [15579,15837]
                                        String: "cd ~/allennlp-docs/\ngit checkout --orphan latest_branch\ngit add -A\ngit commit -m \"Re-write commit history\"\ngit branch -D master  # remove old master branch\ngit branch -m master  # rename clean new branch to master branch\ngit push -f origin master\n" [15579,15837]
                            OBJECT [15839,15940]
                                FIELD [15840,15857]
                                    String: "name" [15840,15846]
                                    STRING [15847,15857]
                                        String: "Clean up" [15847,15857]
                                FIELD [15858,15873]
                                    String: "if" [15858,15862]
                                    STRING [15863,15873]
                                        String: "always()" [15863,15873]
                                FIELD [15874,15939]
                                    String: "run" [15874,15879]
                                    STRING [15880,15939]
                                        String: "source .venv/bin/activate\npip uninstall --yes allennlp\n" [15880,15939]
            FIELD [15943,16678]
                String: "publish" [15943,15952]
                OBJECT [15953,16678]
                    FIELD [15954,15967]
                        String: "name" [15954,15960]
                        STRING [15961,15967]
                            String: "PyPI" [15961,15967]
                    FIELD [15968,15988]
                        String: "timeout-minutes" [15968,15985]
                        NUMBER [15986,15988]
                            Number: 10 [15986,15988]
                    FIELD [15989,16062]
                        String: "needs" [15989,15996]
                        ARRAY [15997,16062]
                            STRING [15998,16005]
                                String: "style" [15998,16005]
                            STRING [16006,16014]
                                String: "checks" [16006,16014]
                            STRING [16015,16030]
                                String: "build_package" [16015,16030]
                            STRING [16031,16045]
                                String: "test_package" [16031,16045]
                            STRING [16046,16054]
                                String: "docker" [16046,16054]
                            STRING [16055,16061]
                                String: "docs" [16055,16061]
                    FIELD [16063,16180]
                        String: "if" [16063,16067]
                        STRING [16068,16180]
                            String: "github.repository == 'allenai/allennlp' && (github.event_name == 'release' || github.event_name == 'schedule')" [16068,16180]
                    FIELD [16181,16206]
                        String: "runs-on" [16181,16190]
                        STRING [16191,16206]
                            String: "ubuntu-latest" [16191,16206]
                    FIELD [16207,16677]
                        String: "steps" [16207,16214]
                        ARRAY [16215,16677]
                            OBJECT [16216,16246]
                                FIELD [16217,16245]
                                    String: "uses" [16217,16223]
                                    STRING [16224,16245]
                                        String: "actions/checkout@v3" [16224,16245]
                            OBJECT [16247,16365]
                                FIELD [16248,16269]
                                    String: "name" [16248,16254]
                                    STRING [16255,16269]
                                        String: "Setup Python" [16255,16269]
                                FIELD [16270,16302]
                                    String: "uses" [16270,16276]
                                    STRING [16277,16302]
                                        String: "actions/setup-python@v4" [16277,16302]
                                FIELD [16303,16364]
                                    String: "with" [16303,16309]
                                    OBJECT [16310,16364]
                                        FIELD [16311,16363]
                                            String: "python-version" [16311,16327]
                                            STRING [16328,16363]
                                                String: "${{ env.DEFAULT_PYTHON_VERSION }}" [16328,16363]
                            OBJECT [16366,16456]
                                FIELD [16367,16396]
                                    String: "name" [16367,16373]
                                    STRING [16374,16396]
                                        String: "Install requirements" [16374,16396]
                                FIELD [16397,16455]
                                    String: "run" [16397,16402]
                                    STRING [16403,16455]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [16403,16455]
                            OBJECT [16457,16572]
                                FIELD [16458,16488]
                                    String: "name" [16458,16464]
                                    STRING [16465,16488]
                                        String: "Download core package" [16465,16488]
                                FIELD [16489,16526]
                                    String: "uses" [16489,16495]
                                    STRING [16496,16526]
                                        String: "actions/download-artifact@v3" [16496,16526]
                                FIELD [16527,16571]
                                    String: "with" [16527,16533]
                                    OBJECT [16534,16571]
                                        FIELD [16535,16556]
                                            String: "name" [16535,16541]
                                            STRING [16542,16556]
                                                String: "core-package" [16542,16556]
                                        FIELD [16557,16570]
                                            String: "path" [16557,16563]
                                            STRING [16564,16570]
                                                String: "dist" [16564,16570]
                            OBJECT [16573,16676]
                                FIELD [16574,16603]
                                    String: "name" [16574,16580]
                                    STRING [16581,16603]
                                        String: "Publish core package" [16581,16603]
                                FIELD [16604,16675]
                                    String: "run" [16604,16609]
                                    STRING [16610,16675]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [16610,16675]