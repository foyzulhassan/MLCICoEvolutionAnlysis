OBJECT [0,2191]
    FIELD [1,29]
        String: "name" [1,7]
        STRING [8,29]
            String: "Build documentation" [8,29]
    FIELD [30,197]
        String: "on" [30,34]
        OBJECT [35,197]
            FIELD [36,55]
                String: "pull_request" [36,50]
                NULL [51,55]
            FIELD [56,171]
                String: "push" [56,62]
                OBJECT [63,171]
                    FIELD [64,105]
                        String: "branches" [64,74]
                        ARRAY [75,105]
                            STRING [76,85]
                                String: "nightly" [76,85]
                            STRING [86,92]
                                String: "main" [86,92]
                            STRING [93,104]
                                String: "release/*" [93,104]
                    FIELD [106,170]
                        String: "tags" [106,112]
                        ARRAY [113,170]
                            STRING [114,136]
                                String: "v[0-9]+.[0-9]+.[0-9]" [114,136]
                            STRING [137,169]
                                String: "v[0-9]+.[0-9]+.[0-9]+-rc[0-9]+" [137,169]
            FIELD [172,196]
                String: "workflow_dispatch" [172,191]
                NULL [192,196]
    FIELD [198,2190]
        String: "jobs" [198,204]
        OBJECT [205,2190]
            FIELD [206,1498]
                String: "build" [206,213]
                OBJECT [214,1498]
                    FIELD [215,279]
                        String: "uses" [215,221]
                        STRING [222,279]
                            String: "pytorch/test-infra/.github/workflows/linux_job.yml@main" [222,279]
                    FIELD [280,1497]
                        String: "with" [280,286]
                        OBJECT [287,1497]
                            FIELD [288,310]
                                String: "job-name" [288,298]
                                STRING [299,310]
                                    String: "Build doc" [299,310]
                            FIELD [311,340]
                                String: "runner" [311,319]
                                STRING [320,340]
                                    String: "amz2.linux.2xlarge" [320,340]
                            FIELD [341,368]
                                String: "repository" [341,353]
                                STRING [354,368]
                                    String: "pytorch/text" [354,368]
                            FIELD [369,390]
                                String: "gpu-arch-type" [369,384]
                                STRING [385,390]
                                    String: "cpu" [385,390]
                            FIELD [391,404]
                                String: "timeout" [391,400]
                                NUMBER [401,404]
                                    Number: 120 [401,404]
                            FIELD [405,429]
                                String: "upload-artifact" [405,422]
                                STRING [423,429]
                                    String: "docs" [423,429]
                            FIELD [430,1496]
                                String: "script" [430,438]
                                STRING [439,1496]
                                    String: "# Mark Build Directory Safe\ngit config --global --add safe.directory /__w/text/text\n\n# Set up Environment Variables\nexport PYTHON_VERSION=\"3.8\"\n\n# Set CHANNEL\nif [[(${GITHUB_EVENT_NAME} = 'pull_request' && (${GITHUB_BASE_REF} = 'release'*)) || (${GITHUB_REF} = 'refs/heads/release'*) ]]; then\n  export CHANNEL=test\nelse\n  export CHANNEL=nightly\nfi\n\n# Create Conda Env\nconda create --quiet -y --prefix ci_env python=\"${PYTHON_VERSION}\"\nconda activate ./ci_env\n\n# Install PyTorch\nset -ex\nset +u  # don't know why\nconda install \\\n  --yes \\\n  --quiet \\\n  pytorch torchtext cpuonly \\\n  -c \"pytorch-${CHANNEL}\"\n\npip --quiet install cmake>=3.18.0 ninja\n\ncd packaging\n. ./pkg_helpers.bash\nsetup_build_version\ncd ../\n\n# Install build tools\nconda install --quiet -y -c conda-forge pandoc doxygen pysoundfile\npip install --quiet -r docs/requirements.txt\n\n# Build docs\nexport BUILD_GALLERY=true\n(cd docs && make 'SPHINXOPTS=-W' html)\n\ncp -rf docs/build/html/* \"${RUNNER_DOCS_DIR}\"\nmv docs/build/html /artifacts/\n" [439,1496]
            FIELD [1499,2189]
                String: "commit" [1499,1507]
                OBJECT [1508,2189]
                    FIELD [1509,1629]
                        String: "if" [1509,1513]
                        STRING [1514,1629]
                            String: "${{ (github.repository == 'pytorch/text') && ((github.event_name == 'push') && (github.ref_name == 'nightly')) }}" [1514,1629]
                    FIELD [1630,1664]
                        String: "permissions" [1630,1643]
                        OBJECT [1644,1664]
                            FIELD [1645,1663]
                                String: "contents" [1645,1655]
                                STRING [1656,1663]
                                    String: "write" [1656,1663]
                    FIELD [1665,1690]
                        String: "runs-on" [1665,1674]
                        STRING [1675,1690]
                            String: "ubuntu-latest" [1675,1690]
                    FIELD [1691,1706]
                        String: "needs" [1691,1698]
                        STRING [1699,1706]
                            String: "build" [1699,1706]
                    FIELD [1707,2188]
                        String: "steps" [1707,1714]
                        ARRAY [1715,2188]
                            OBJECT [1716,1772]
                                FIELD [1717,1745]
                                    String: "uses" [1717,1723]
                                    STRING [1724,1745]
                                        String: "actions/checkout@v3" [1724,1745]
                                FIELD [1746,1771]
                                    String: "with" [1746,1752]
                                    OBJECT [1753,1771]
                                        FIELD [1754,1770]
                                            String: "ref" [1754,1759]
                                            STRING [1760,1770]
                                                String: "gh-pages" [1760,1770]
                            OBJECT [1773,1835]
                                FIELD [1774,1811]
                                    String: "uses" [1774,1780]
                                    STRING [1781,1811]
                                        String: "actions/download-artifact@v3" [1781,1811]
                                FIELD [1812,1834]
                                    String: "with" [1812,1818]
                                    OBJECT [1819,1834]
                                        FIELD [1820,1833]
                                            String: "name" [1820,1826]
                                            STRING [1827,1833]
                                                String: "docs" [1827,1833]
                            OBJECT [1836,2187]
                                FIELD [1837,1864]
                                    String: "name" [1837,1843]
                                    STRING [1844,1864]
                                        String: "Update nightly doc" [1844,1864]
                                FIELD [1865,2186]
                                    String: "run" [1865,1870]
                                    STRING [1871,2186]
                                        String: "set -x\n\n# TODO: add tag-based process (need to handle the main directory name)\nrm -rf main\nmv html main\n\n# Update the main doc\ngit add --all main || true\ngit config user.name \"pytorchbot\"\ngit config user.email \"soumith+bot@pytorch.org\"\ngit commit -m \"auto-generating sphinx docs\" || true\ngit push" [1871,2186]