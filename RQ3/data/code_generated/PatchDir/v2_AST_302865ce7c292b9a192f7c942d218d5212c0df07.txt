OBJECT [0,3929]
    FIELD [1,32]
        String: "name" [1,7]
        STRING [8,32]
            String: "continuous build - gpu" [8,32]
    FIELD [33,68]
        String: "on" [33,37]
        ARRAY [38,68]
            STRING [39,45]
                String: "push" [39,45]
            STRING [46,67]
                String: "pull_request_target" [46,67]
    FIELD [69,104]
        String: "defaults" [69,79]
        OBJECT [80,104]
            FIELD [81,103]
                String: "run" [81,86]
                OBJECT [87,103]
                    FIELD [88,102]
                        String: "shell" [88,95]
                        STRING [96,102]
                            String: "bash" [96,102]
    FIELD [105,3928]
        String: "jobs" [105,111]
        OBJECT [112,3928]
            FIELD [113,3927]
                String: "unittest-gpu" [113,127]
                OBJECT [128,3927]
                    FIELD [129,154]
                        String: "runs-on" [129,138]
                        STRING [139,154]
                            String: "ubuntu-latest" [139,154]
                    FIELD [155,185]
                        String: "strategy" [155,165]
                        OBJECT [166,185]
                            FIELD [167,184]
                                String: "fail-fast" [167,178]
                                FALSE [179,184]
                    FIELD [186,3926]
                        String: "steps" [186,193]
                        ARRAY [194,3926]
                            OBJECT [195,254]
                                FIELD [196,224]
                                    String: "name" [196,202]
                                    STRING [203,224]
                                        String: "Checkout repository" [203,224]
                                FIELD [225,253]
                                    String: "uses" [225,231]
                                    STRING [232,253]
                                        String: "actions/checkout@v2" [232,253]
                            OBJECT [255,337]
                                FIELD [256,291]
                                    String: "name" [256,262]
                                    STRING [263,291]
                                        String: "Install Linux dependencies" [263,291]
                                FIELD [292,336]
                                    String: "run" [292,297]
                                    STRING [298,336]
                                        String: "sudo apt-get install libopenblas-dev" [298,336]
                            OBJECT [338,445]
                                FIELD [339,360]
                                    String: "name" [339,345]
                                    STRING [346,360]
                                        String: "Setup python" [346,360]
                                FIELD [361,393]
                                    String: "uses" [361,367]
                                    STRING [368,393]
                                        String: "actions/setup-python@v2" [368,393]
                                FIELD [394,444]
                                    String: "with" [394,400]
                                    OBJECT [401,444]
                                        FIELD [402,422]
                                            String: "python-version" [402,418]
                                            NUMBER [419,422]
                                                Number: 3.7 [419,422]
                                        FIELD [423,443]
                                            String: "architecture" [423,437]
                                            STRING [438,443]
                                                String: "x64" [438,443]
                            OBJECT [446,574]
                                FIELD [447,482]
                                    String: "name" [447,453]
                                    STRING [454,482]
                                        String: "Install Other Dependencies" [454,482]
                                FIELD [483,573]
                                    String: "run" [483,488]
                                    STRING [489,573]
                                        String: "python -m pip install --quiet --upgrade pip\npython -m pip install --quiet boto3\n" [489,573]
                            OBJECT [575,813]
                                FIELD [576,610]
                                    String: "name" [576,582]
                                    STRING [583,610]
                                        String: "Configure AWS Credentials" [583,610]
                                FIELD [611,660]
                                    String: "uses" [611,617]
                                    STRING [618,660]
                                        String: "aws-actions/configure-aws-credentials@v1" [618,660]
                                FIELD [661,812]
                                    String: "with" [661,667]
                                    OBJECT [668,812]
                                        FIELD [669,723]
                                            String: "aws-access-key-id" [669,688]
                                            STRING [689,723]
                                                String: "${{ secrets.AWS_ACCESS_KEY_ID }}" [689,723]
                                        FIELD [724,786]
                                            String: "aws-secret-access-key" [724,747]
                                            STRING [748,786]
                                                String: "${{ secrets.AWS_SECRET_ACCESS_KEY }}" [748,786]
                                        FIELD [787,811]
                                            String: "aws-region" [787,799]
                                            STRING [800,811]
                                                String: "us-east-1" [800,811]
                            OBJECT [814,1773]
                                FIELD [815,859]
                                    String: "name" [815,821]
                                    STRING [822,859]
                                        String: "Test project on AWS Batch(For push)" [822,859]
                                FIELD [860,901]
                                    String: "if" [860,864]
                                    STRING [865,901]
                                        String: "${{ github.event_name == 'push' }}" [865,901]
                                FIELD [902,1772]
                                    String: "run" [902,907]
                                    STRING [908,1772]
                                        String: "echo \"Start submitting job\"\npython ./tools/batch/submit-job.py --region us-east-1 \\\n                                   --job-type g4dn.4x \\\n                                   --name GluonNLP-GPU-Test-${{ github.ref }} \\\n                                   --source-ref ${{ github.ref }} \\\n                                   --work-dir . \\\n                                   --saved-output coverage.xml \\\n                                   --save-path coverage.xml \\\n                                   --remote https://github.com/${{ github.repository }} \\\n                                   --command \"python3 -m pip install pytest-forked && python3 -m pytest --forked --cov=. --cov-config=./.coveragerc --cov-report=xml --durations=50 --device=\"gpu\" --runslow ./tests/\" \\\n                                   --wait | tee batch_job.log  \n" [908,1772]
                            OBJECT [1774,2857]
                                FIELD [1775,1827]
                                    String: "name" [1775,1781]
                                    STRING [1782,1827]
                                        String: "Test project on AWS Batch(For pull request)" [1782,1827]
                                FIELD [1828,1923]
                                    String: "if" [1828,1832]
                                    STRING [1833,1923]
                                        String: "${{ github.event_name == 'pull_request' || github.event_name == 'pull_request_target' }}" [1833,1923]
                                FIELD [1924,2856]
                                    String: "run" [1924,1929]
                                    STRING [1930,2856]
                                        String: "echo \"Start submitting job\"\npython ./tools/batch/submit-job.py --region us-east-1 \\\n                                   --job-type g4dn.4x \\\n                                   --name GluonNLP-GPU-Test-PR#${{ github.event.number }} \\\n                                   --source-ref ${{ github.event.pull_request.head.sha }} \\\n                                   --work-dir . \\\n                                   --saved-output coverage.xml \\\n                                   --save-path coverage.xml \\\n                                   --remote https://github.com/${{ github.event.pull_request.head.repo.full_name }} \\\n                                   --command \"python3 -m pip install pytest-forked && python3 -m pytest --forked --cov=. --cov-config=./.coveragerc --cov-report=xml --durations=50 --device=\"gpu\" --runslow ./tests/\" \\\n                                   --wait | tee batch_job.log\n" [1930,2856]
                            OBJECT [2858,3362]
                                FIELD [2859,2907]
                                    String: "name" [2859,2865]
                                    STRING [2866,2907]
                                        String: "Wait for job and copy files from AWS s3" [2866,2907]
                                FIELD [2908,2944]
                                    String: "if" [2908,2912]
                                    STRING [2913,2944]
                                        String: "${{ failure() || success() }}" [2913,2944]
                                FIELD [2945,3361]
                                    String: "run" [2945,2950]
                                    STRING [2951,3361]
                                        String: "head -100 batch_job.log | grep -oP -m 1 'jobId: \\K(.*)' > jobid.log\n\necho \"Job ID is\"\ncat jobid.log\n\ncat jobid.log | xargs -i python ./tools/batch/wait-job.py --job-id {}\n\necho \"Copy Codecov file\"\ncat jobid.log | xargs -i aws s3api wait object-exists --bucket gluon-nlp-dev --key batch/{}/coverage.xml\ncat jobid.log | xargs -i aws s3 cp s3://gluon-nlp-dev/batch/{}/coverage.xml ./coverage.xml\n" [2951,3361]
                            OBJECT [3363,3758]
                                FIELD [3364,3399]
                                    String: "name" [3364,3370]
                                    STRING [3371,3399]
                                        String: "Upload coverage to Codecov" [3371,3399]
                                FIELD [3400,3709]
                                    String: "run" [3400,3405]
                                    STRING [3406,3709]
                                        String: "curl -s https://codecov.io/bash -o codecov.sh\nif [ \"$EVENT_NAME\" == \"push\" ]; then \\\n    bash codecov.sh -f ./coverage.xml -n -F; \\\nelse \\\n    bash codecov.sh -f ./coverage.xml -n -F -C ${{ github.event.pull_request.head.sha }} -P ${{ github.event.pull_request.number }}; \\\nfi          \n" [3406,3709]
                                FIELD [3710,3757]
                                    String: "env" [3710,3715]
                                    OBJECT [3716,3757]
                                        FIELD [3717,3756]
                                            String: "EVENT_NAME" [3717,3729]
                                            STRING [3730,3756]
                                                String: "${{ github.event_name }}" [3730,3756]
                            OBJECT [3759,3925]
                                FIELD [3760,3798]
                                    String: "name" [3760,3766]
                                    STRING [3767,3798]
                                        String: "Upload Cloud Watch Log Stream" [3767,3798]
                                FIELD [3799,3835]
                                    String: "if" [3799,3803]
                                    STRING [3804,3835]
                                        String: "${{ failure() || success() }}" [3804,3835]
                                FIELD [3836,3871]
                                    String: "uses" [3836,3842]
                                    STRING [3843,3871]
                                        String: "actions/upload-artifact@v2" [3843,3871]
                                FIELD [3872,3924]
                                    String: "with" [3872,3878]
                                    OBJECT [3879,3924]
                                        FIELD [3880,3898]
                                            String: "name" [3880,3886]
                                            STRING [3887,3898]
                                                String: "Test_Logs" [3887,3898]
                                        FIELD [3899,3923]
                                            String: "path" [3899,3905]
                                            STRING [3906,3923]
                                                String: "./batch_job.log" [3906,3923]