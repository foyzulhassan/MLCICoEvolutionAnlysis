OBJECT [0,7068]
    FIELD [1,29]
        String: "name" [1,7]
        STRING [8,29]
            String: "Cross version tests" [8,29]
    FIELD [30,950]
        String: "on" [30,34]
        OBJECT [35,950]
            FIELD [36,55]
                String: "pull_request" [36,50]
                NULL [51,55]
            FIELD [56,914]
                String: "workflow_dispatch" [56,75]
                OBJECT [76,914]
                    FIELD [77,913]
                        String: "inputs" [77,85]
                        OBJECT [86,913]
                            FIELD [87,272]
                                String: "repository" [87,99]
                                OBJECT [100,272]
                                    FIELD [101,241]
                                        String: "description" [101,114]
                                        STRING [115,241]
                                            String: "[Optional] Repository name with owner. For example, mlflow/mlflow.\n Defaults to the repository that triggered a workflow.\n" [115,241]
                                    FIELD [242,258]
                                        String: "required" [242,252]
                                        FALSE [253,258]
                                    FIELD [259,271]
                                        String: "default" [259,268]
                                        STRING [269,271]
                                            String: "" [269,271]
                            FIELD [273,529]
                                String: "ref" [273,278]
                                OBJECT [279,529]
                                    FIELD [280,498]
                                        String: "description" [280,293]
                                        STRING [294,498]
                                            String: "[Optional] The branch, tag or SHA to checkout. When checking out the repository that\n triggered a workflow, this defaults to the reference or SHA for that event. Otherwise,\n uses the default branch.\n" [294,498]
                                    FIELD [499,515]
                                        String: "required" [499,509]
                                        FALSE [510,515]
                                    FIELD [516,528]
                                        String: "default" [516,525]
                                        STRING [526,528]
                                            String: "" [526,528]
                            FIELD [530,721]
                                String: "flavors" [530,539]
                                OBJECT [540,721]
                                    FIELD [541,690]
                                        String: "description" [541,554]
                                        STRING [555,690]
                                            String: "[Optional] Comma-separated string specifying which flavors to test (e.g. 'sklearn, xgboost'). If unspecified, all flavors are tested." [555,690]
                                    FIELD [691,707]
                                        String: "required" [691,701]
                                        FALSE [702,707]
                                    FIELD [708,720]
                                        String: "default" [708,717]
                                        STRING [718,720]
                                            String: "" [718,720]
                            FIELD [722,912]
                                String: "versions" [722,732]
                                OBJECT [733,912]
                                    FIELD [734,881]
                                        String: "description" [734,747]
                                        STRING [748,881]
                                            String: "[Optional] Comma-separated string specifying which versions to test (e.g. '1.2.3, 4.5.6'). If unspecified, all versions are tested." [748,881]
                                    FIELD [882,898]
                                        String: "required" [882,892]
                                        FALSE [893,898]
                                    FIELD [899,911]
                                        String: "default" [899,908]
                                        STRING [909,911]
                                            String: "" [909,911]
            FIELD [915,949]
                String: "schedule" [915,925]
                ARRAY [926,949]
                    OBJECT [927,948]
                        FIELD [928,947]
                            String: "cron" [928,934]
                            STRING [935,947]
                                String: "0 13 * * *" [935,947]
    FIELD [951,1087]
        String: "concurrency" [951,964]
        OBJECT [965,1087]
            FIELD [966,1060]
                String: "group" [966,973]
                STRING [974,1060]
                    String: "${{ github.workflow }}-${{ github.event_name }}-${{ github.head_ref || github.ref }}" [974,1060]
            FIELD [1061,1086]
                String: "cancel-in-progress" [1061,1081]
                TRUE [1082,1086]
    FIELD [1088,1160]
        String: "defaults" [1088,1098]
        OBJECT [1099,1160]
            FIELD [1100,1159]
                String: "run" [1100,1105]
                OBJECT [1106,1159]
                    FIELD [1107,1158]
                        String: "shell" [1107,1114]
                        STRING [1115,1158]
                            String: "bash --noprofile --norc -exo pipefail {0}" [1115,1158]
    FIELD [1161,7067]
        String: "jobs" [1161,1167]
        OBJECT [1168,7067]
            FIELD [1169,3801]
                String: "set-matrix" [1169,1181]
                OBJECT [1182,3801]
                    FIELD [1183,1208]
                        String: "runs-on" [1183,1192]
                        STRING [1193,1208]
                            String: "ubuntu-latest" [1193,1208]
                    FIELD [1209,1229]
                        String: "timeout-minutes" [1209,1226]
                        NUMBER [1227,1229]
                            Number: 10 [1227,1229]
                    FIELD [1230,1439]
                        String: "if" [1230,1234]
                        STRING [1235,1439]
                            String: "github.event_name == 'workflow_dispatch' || (github.event_name == 'schedule' && github.repository == 'mlflow/mlflow') || (github.event_name == 'pull_request' && github.event.pull_request.draft == false)" [1235,1439]
                    FIELD [1440,1569]
                        String: "outputs" [1440,1449]
                        OBJECT [1450,1569]
                            FIELD [1451,1500]
                                String: "matrix" [1451,1459]
                                STRING [1460,1500]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [1460,1500]
                            FIELD [1501,1568]
                                String: "is_matrix_empty" [1501,1518]
                                STRING [1519,1568]
                                    String: "${{ steps.set-matrix.outputs.is_matrix_empty }}" [1519,1568]
                    FIELD [1570,3800]
                        String: "steps" [1570,1577]
                        ARRAY [1578,3800]
                            OBJECT [1579,1735]
                                FIELD [1580,1608]
                                    String: "uses" [1580,1586]
                                    STRING [1587,1608]
                                        String: "actions/checkout@v3" [1587,1608]
                                FIELD [1609,1734]
                                    String: "with" [1609,1615]
                                    OBJECT [1616,1734]
                                        FIELD [1617,1641]
                                            String: "submodules" [1617,1629]
                                            STRING [1630,1641]
                                                String: "recursive" [1630,1641]
                                        FIELD [1642,1694]
                                            String: "repository" [1642,1654]
                                            STRING [1655,1694]
                                                String: "${{ github.event.inputs.repository }}" [1655,1694]
                                        FIELD [1695,1733]
                                            String: "ref" [1695,1700]
                                            STRING [1701,1733]
                                                String: "${{ github.event.inputs.ref }}" [1701,1733]
                            OBJECT [1736,1777]
                                FIELD [1737,1776]
                                    String: "uses" [1737,1743]
                                    STRING [1744,1776]
                                        String: "./.github/actions/setup-python" [1744,1776]
                            OBJECT [1778,1886]
                                FIELD [1779,1808]
                                    String: "name" [1779,1785]
                                    STRING [1786,1808]
                                        String: "Install dependencies" [1786,1808]
                                FIELD [1809,1885]
                                    String: "run" [1809,1814]
                                    STRING [1815,1885]
                                        String: "pip install -r dev/requirements.txt\npip install pytest pytest-cov\n" [1815,1885]
                            OBJECT [1887,2459]
                                FIELD [1888,1909]
                                    String: "name" [1888,1894]
                                    STRING [1895,1909]
                                        String: "Check labels" [1895,1909]
                                FIELD [1910,1943]
                                    String: "uses" [1910,1916]
                                    STRING [1917,1943]
                                        String: "actions/github-script@v6" [1917,1943]
                                FIELD [1944,1963]
                                    String: "id" [1944,1948]
                                    STRING [1949,1963]
                                        String: "check-labels" [1949,1963]
                                FIELD [1964,2458]
                                    String: "with" [1964,1970]
                                    OBJECT [1971,2458]
                                        FIELD [1972,2457]
                                            String: "script" [1972,1980]
                                            STRING [1981,2457]
                                                String: "if (context.eventName !== \"pull_request\") {\n  return {\n    enable_dev_tests: true,\n    only_latest: false,\n  };\n}\nconst labels = await github.rest.issues.listLabelsOnIssue({\n  owner: context.repo.owner,\n  repo: context.repo.repo,\n  issue_number: context.issue.number,\n});\nconst labelNames = labels.data.map(({ name }) => name);\nreturn {\n  enable_dev_tests: labelNames.includes(\"enable-dev-tests\"),\n  only_latest: labelNames.includes(\"only-latest\"),\n};\n" [1981,2457]
                            OBJECT [2460,2558]
                                FIELD [2461,2488]
                                    String: "name" [2461,2467]
                                    STRING [2468,2488]
                                        String: "Test set_matrix.py" [2468,2488]
                                FIELD [2489,2557]
                                    String: "run" [2489,2494]
                                    STRING [2495,2557]
                                        String: "python -m pytest --noconftest tests/dev/test_set_matrix.py\n" [2495,2557]
                            OBJECT [2559,3799]
                                FIELD [2560,2577]
                                    String: "id" [2560,2564]
                                    STRING [2565,2577]
                                        String: "set-matrix" [2565,2577]
                                FIELD [2578,2597]
                                    String: "name" [2578,2584]
                                    STRING [2585,2597]
                                        String: "Set matrix" [2585,2597]
                                FIELD [2598,2650]
                                    String: "env" [2598,2603]
                                    OBJECT [2604,2650]
                                        FIELD [2605,2649]
                                            String: "GITHUB_TOKEN" [2605,2619]
                                            STRING [2620,2649]
                                                String: "${{ secrets.GITHUB_TOKEN }}" [2620,2649]
                                FIELD [2651,3798]
                                    String: "run" [2651,2656]
                                    STRING [2657,3798]
                                        String: "EVENT_NAME=\"${{ github.event_name }}\"\nif [ \"$EVENT_NAME\" = \"pull_request\" ]; then\n  REPO=\"${{ github.repository }}\"\n  PR_NUMBER=\"${{ github.event.pull_request.number }}\"\n  BASE_REF=\"${{ github.base_ref }}\"\n  REF_VERSIONS_YAML=\"https://raw.githubusercontent.com/$REPO/$BASE_REF/mlflow/ml-package-versions.yml\"\n  CHANGED_FILES=\"$(python dev/list_changed_files.py --repository $REPO --pr-num $PR_NUMBER)\"\n  ENABLE_DEV_TESTS=\"${{ fromJson(steps.check-labels.outputs.result).enable_dev_tests }}\"\n  NO_DEV_FLAG=$([ \"$ENABLE_DEV_TESTS\" == \"true\" ] && echo \"\" || echo \"--no-dev\")\n  ONLY_LATEST=\"${{ fromJson(steps.check-labels.outputs.result).only_latest }}\"\n  ONLY_LATEST_FLAG=$([ \"$ONLY_LATEST\" == \"true\" ] && echo \"--only-latest\" || echo \"\")\n  python dev/set_matrix.py --ref-versions-yaml $REF_VERSIONS_YAML --changed-files \"$CHANGED_FILES\" $NO_DEV_FLAG $ONLY_LATEST_FLAG\nelif [ \"$EVENT_NAME\" = \"workflow_dispatch\" ]; then\n  python dev/set_matrix.py --flavors \"${{ github.event.inputs.flavors }}\" --versions \"${{ github.event.inputs.versions }}\"\nelse\n  python dev/set_matrix.py\nfi\n" [2657,3798]
            FIELD [3802,7066]
                String: "test" [3802,3808]
                OBJECT [3809,7066]
                    FIELD [3810,3830]
                        String: "needs" [3810,3817]
                        STRING [3818,3830]
                            String: "set-matrix" [3818,3830]
                    FIELD [3831,3896]
                        String: "if" [3831,3835]
                        STRING [3836,3896]
                            String: "${{ needs.set-matrix.outputs.is_matrix_empty == 'false' }}" [3836,3896]
                    FIELD [3897,3922]
                        String: "runs-on" [3897,3906]
                        STRING [3907,3922]
                            String: "ubuntu-latest" [3907,3922]
                    FIELD [3923,3944]
                        String: "timeout-minutes" [3923,3940]
                        NUMBER [3941,3944]
                            Number: 120 [3941,3944]
                    FIELD [3945,4035]
                        String: "strategy" [3945,3955]
                        OBJECT [3956,4035]
                            FIELD [3957,3974]
                                String: "fail-fast" [3957,3968]
                                FALSE [3969,3974]
                            FIELD [3975,4034]
                                String: "matrix" [3975,3983]
                                STRING [3984,4034]
                                    String: "${{ fromJson(needs.set-matrix.outputs.matrix) }}" [3984,4034]
                    FIELD [4036,7065]
                        String: "steps" [4036,4043]
                        ARRAY [4044,7065]
                            OBJECT [4045,4201]
                                FIELD [4046,4074]
                                    String: "uses" [4046,4052]
                                    STRING [4053,4074]
                                        String: "actions/checkout@v3" [4053,4074]
                                FIELD [4075,4200]
                                    String: "with" [4075,4081]
                                    OBJECT [4082,4200]
                                        FIELD [4083,4107]
                                            String: "submodules" [4083,4095]
                                            STRING [4096,4107]
                                                String: "recursive" [4096,4107]
                                        FIELD [4108,4160]
                                            String: "repository" [4108,4120]
                                            STRING [4121,4160]
                                                String: "${{ github.event.inputs.repository }}" [4121,4160]
                                        FIELD [4161,4199]
                                            String: "ref" [4161,4166]
                                            STRING [4167,4199]
                                                String: "${{ github.event.inputs.ref }}" [4167,4199]
                            OBJECT [4202,4398]
                                FIELD [4203,4245]
                                    String: "uses" [4203,4209]
                                    STRING [4210,4245]
                                        String: "./.github/actions/free-disk-space" [4210,4245]
                                FIELD [4246,4397]
                                    String: "if" [4246,4250]
                                    STRING [4251,4397]
                                        String: "matrix.package == 'transformers' || matrix.package == 'sentence-transformers' || (matrix.package == 'torch' && startsWith(matrix.version, '2.'))" [4251,4397]
                            OBJECT [4399,4652]
                                FIELD [4400,4427]
                                    String: "name" [4400,4406]
                                    STRING [4407,4427]
                                        String: "Get python version" [4407,4427]
                                FIELD [4428,4453]
                                    String: "id" [4428,4432]
                                    STRING [4433,4453]
                                        String: "get-python-version" [4433,4453]
                                FIELD [4454,4651]
                                    String: "run" [4454,4459]
                                    STRING [4460,4651]
                                        String: "python_version=$(python dev/get_minimum_required_python.py -p ${{ matrix.package }} -v ${{ matrix.version }} --python-versions \"3.8\")\necho \"version=$python_version\" >> $GITHUB_OUTPUT\n" [4460,4651]
                            OBJECT [4653,4770]
                                FIELD [4654,4693]
                                    String: "uses" [4654,4660]
                                    STRING [4661,4693]
                                        String: "./.github/actions/setup-python" [4661,4693]
                                FIELD [4694,4769]
                                    String: "with" [4694,4700]
                                    OBJECT [4701,4769]
                                        FIELD [4702,4768]
                                            String: "python-version" [4702,4718]
                                            STRING [4719,4768]
                                                String: "${{ steps.get-python-version.outputs.version }}" [4719,4768]
                            OBJECT [4771,4811]
                                FIELD [4772,4810]
                                    String: "uses" [4772,4778]
                                    STRING [4779,4810]
                                        String: "./.github/actions/setup-pyenv" [4779,4810]
                            OBJECT [4812,5263]
                                FIELD [4813,4838]
                                    String: "name" [4813,4819]
                                    STRING [4820,4838]
                                        String: "Get Java version" [4820,4838]
                                FIELD [4839,4862]
                                    String: "id" [4839,4843]
                                    STRING [4844,4862]
                                        String: "get-java-version" [4844,4862]
                                FIELD [4863,5262]
                                    String: "run" [4863,4868]
                                    STRING [4869,5262]
                                        String: "if [ \"${{ matrix.package }}\" = \"mleap\" ]\nthen\n  pip install packaging\n  supports_java11=$(python -c \"from packaging.version import parse; print(parse('${{ matrix.version }}') >= parse('0.21.0'))\")\n  if [ \"$supports_java11\" = \"True\" ]\n  then\n    java_version=11\n  else\n    java_version=8\n  fi\nelse\n  java_version=11\nfi\necho \"version=$java_version\" >> $GITHUB_OUTPUT\n" [4869,5262]
                            OBJECT [5264,5398]
                                FIELD [5265,5302]
                                    String: "uses" [5265,5271]
                                    STRING [5272,5302]
                                        String: "./.github/actions/setup-java" [5272,5302]
                                FIELD [5303,5397]
                                    String: "with" [5303,5309]
                                    OBJECT [5310,5397]
                                        FIELD [5311,5373]
                                            String: "java-version" [5311,5325]
                                            STRING [5326,5373]
                                                String: "${{ steps.get-java-version.outputs.version }}" [5326,5373]
                                        FIELD [5374,5396]
                                            String: "distribution" [5374,5388]
                                            STRING [5389,5396]
                                                String: "adopt" [5389,5396]
                            OBJECT [5399,5656]
                                FIELD [5400,5422]
                                    String: "name" [5400,5406]
                                    STRING [5407,5422]
                                        String: "Get cache key" [5407,5422]
                                FIELD [5423,5472]
                                    String: "env" [5423,5428]
                                    OBJECT [5429,5472]
                                        FIELD [5430,5471]
                                            String: "INSTALL_COMMAND" [5430,5447]
                                            STRING [5448,5471]
                                                String: "${{ matrix.install }}" [5448,5471]
                                FIELD [5473,5493]
                                    String: "id" [5473,5477]
                                    STRING [5478,5493]
                                        String: "get-cache-key" [5478,5493]
                                FIELD [5494,5655]
                                    String: "run" [5494,5499]
                                    STRING [5500,5655]
                                        String: "date=$(date -u \"+%Y%m%d\")\nhash=$(echo -n \"$INSTALL_COMMAND\" | sha256sum)\necho \"key=$ImageOS-$ImageVersion-wheels-$date-$hash\" >> $GITHUB_OUTPUT\n" [5500,5655]
                            OBJECT [5657,6002]
                                FIELD [5658,5683]
                                    String: "uses" [5658,5664]
                                    STRING [5665,5683]
                                        String: "actions/cache@v3" [5665,5683]
                                FIELD [5684,5784]
                                    String: "if" [5684,5688]
                                    STRING [5689,5784]
                                        String: "${{ contains('pyspark, catboost, scikit-learn', matrix.package) && matrix.version == 'dev' }}" [5689,5784]
                                FIELD [5785,5809]
                                    String: "continue-on-error" [5785,5804]
                                    TRUE [5805,5809]
                                FIELD [5810,5851]
                                    String: "env" [5810,5815]
                                    OBJECT [5816,5851]
                                        FIELD [5817,5850]
                                            String: "SEGMENT_DOWNLOAD_TIMEOUT_MINS" [5817,5848]
                                            NUMBER [5849,5850]
                                                Number: 5 [5849,5850]
                                FIELD [5852,6001]
                                    String: "with" [5852,5858]
                                    OBJECT [5859,6001]
                                        FIELD [5860,5895]
                                            String: "path" [5860,5866]
                                            STRING [5867,5895]
                                                String: "/home/runner/.cache/wheels" [5867,5895]
                                        FIELD [5896,5942]
                                            String: "key" [5896,5901]
                                            STRING [5902,5942]
                                                String: "${{ steps.get-cache-key.outputs.key }}" [5902,5942]
                                        FIELD [5943,6000]
                                            String: "restore-keys" [5943,5957]
                                            STRING [5958,6000]
                                                String: "${{ steps.get-cache-key.outputs.key }}\n" [5958,6000]
                            OBJECT [6003,6487]
                                FIELD [6004,6047]
                                    String: "name" [6004,6010]
                                    STRING [6011,6047]
                                        String: "Install mlflow & test dependencies" [6011,6047]
                                FIELD [6048,6486]
                                    String: "run" [6048,6053]
                                    STRING [6054,6486]
                                        String: "python --version\n# prophet==1.0.1 can only be installed `setup.py install` fallback but this was removed\n# in pip 23.1. See https://github.com/pypa/pip/issues/8368 more details.\nif [ \"${{ matrix.package }}==${{ matrix.version }}\" = \"prophet==1.0.1\" ]\nthen\n  PIP_SPEC=\"<23.1\"\nelse\n  PIP_SPEC=\"\"\nfi\npip install -U \"pip$PIP_SPEC\" wheel\npip install -e .[extras]\npip install -r requirements/test-requirements.txt\n" [6054,6486]
                            OBJECT [6488,6631]
                                FIELD [6489,6549]
                                    String: "name" [6489,6495]
                                    STRING [6496,6549]
                                        String: "Install ${{ matrix.package }} ${{ matrix.version }}" [6496,6549]
                                FIELD [6550,6598]
                                    String: "env" [6550,6555]
                                    OBJECT [6556,6598]
                                        FIELD [6557,6597]
                                            String: "CACHE_DIR" [6557,6568]
                                            STRING [6569,6597]
                                                String: "/home/runner/.cache/wheels" [6569,6597]
                                FIELD [6599,6630]
                                    String: "run" [6599,6604]
                                    STRING [6605,6630]
                                        String: "${{ matrix.install }}\n" [6605,6630]
                            OBJECT [6632,6716]
                                FIELD [6633,6664]
                                    String: "name" [6633,6639]
                                    STRING [6640,6664]
                                        String: "Check package versions" [6640,6664]
                                FIELD [6665,6715]
                                    String: "run" [6665,6670]
                                    STRING [6671,6715]
                                        String: "python dev/show_package_release_dates.py\n" [6671,6715]
                            OBJECT [6717,6756]
                                FIELD [6718,6755]
                                    String: "uses" [6718,6724]
                                    STRING [6725,6755]
                                        String: "./.github/actions/pipdeptree" [6725,6755]
                            OBJECT [6757,7025]
                                FIELD [6758,6776]
                                    String: "name" [6758,6764]
                                    STRING [6765,6776]
                                        String: "Run tests" [6765,6776]
                                FIELD [6777,6969]
                                    String: "env" [6777,6782]
                                    OBJECT [6783,6969]
                                        FIELD [6784,6826]
                                            String: "MLFLOW_CONDA_HOME" [6784,6803]
                                            STRING [6804,6826]
                                                String: "/usr/share/miniconda" [6804,6826]
                                        FIELD [6827,6855]
                                            String: "SPARK_LOCAL_IP" [6827,6843]
                                            STRING [6844,6855]
                                                String: "localhost" [6844,6855]
                                        FIELD [6856,6897]
                                            String: "PACKAGE_VERSION" [6856,6873]
                                            STRING [6874,6897]
                                                String: "${{ matrix.version }}" [6874,6897]
                                        FIELD [6898,6968]
                                            String: "JOHNSNOWLABS_LICENSE_JSON" [6898,6925]
                                            STRING [6926,6968]
                                                String: "${{ secrets.JOHNSNOWLABS_LICENSE_JSON }}" [6926,6968]
                                FIELD [6970,7024]
                                    String: "run" [6970,6975]
                                    STRING [6976,7024]
                                        String: "export MLFLOW_HOME=$(pwd)\n${{ matrix.run }}\n" [6976,7024]
                            OBJECT [7026,7064]
                                FIELD [7027,7063]
                                    String: "uses" [7027,7033]
                                    STRING [7034,7063]
                                        String: "./.github/actions/untracked" [7034,7063]