OBJECT [0,3231]
    FIELD [1,26]
        String: "name" [1,7]
        STRING [8,26]
            String: "Build Flashlight" [8,26]
    FIELD [27,55]
        String: "on" [27,31]
        ARRAY [32,55]
            STRING [33,39]
                String: "push" [33,39]
            STRING [40,54]
                String: "pull_request" [40,54]
    FIELD [56,3230]
        String: "jobs" [56,62]
        OBJECT [63,3230]
            FIELD [64,2393]
                String: "build" [64,71]
                OBJECT [72,2393]
                    FIELD [73,182]
                        String: "name" [73,79]
                        STRING [80,182]
                            String: "Build on ${{ matrix.os }} | tensor: ${{ matrix.backend }} | autograd: ${{ matrix.autograd_backend }}" [80,182]
                    FIELD [183,211]
                        String: "runs-on" [183,192]
                        STRING [193,211]
                            String: "${{ matrix.os }}" [193,211]
                    FIELD [212,353]
                        String: "strategy" [212,222]
                        OBJECT [223,353]
                            FIELD [224,352]
                                String: "matrix" [224,232]
                                OBJECT [233,352]
                                    FIELD [234,281]
                                        String: "os" [234,238]
                                        ARRAY [239,281]
                                            STRING [240,254]
                                                String: "ubuntu-20.04" [240,254]
                                            STRING [255,269]
                                                String: "windows-2022" [255,269]
                                            STRING [270,280]
                                                String: "macOS-12" [270,280]
                                    FIELD [282,321]
                                        String: "backend" [282,291]
                                        ARRAY [292,321]
                                            STRING [293,304]
                                                String: "ArrayFire" [293,304]
                                            STRING [305,313]
                                                String: "oneDNN" [305,313]
                                            STRING [314,320]
                                                String: "Stub" [314,320]
                                    FIELD [322,351]
                                        String: "autograd_backend" [322,340]
                                        ARRAY [341,351]
                                            STRING [342,350]
                                                String: "oneDNN" [342,350]
                    FIELD [354,396]
                        String: "defaults" [354,364]
                        OBJECT [365,396]
                            FIELD [366,395]
                                String: "run" [366,371]
                                OBJECT [372,395]
                                    FIELD [373,394]
                                        String: "shell" [373,380]
                                        STRING [381,394]
                                            String: "bash -l {0}" [381,394]
                    FIELD [397,507]
                        String: "if" [397,401]
                        STRING [402,507]
                            String: "(github.event_name == 'push' && github.ref == 'refs/heads/main') || github.event_name == 'pull_request'" [402,507]
                    FIELD [508,2392]
                        String: "steps" [508,515]
                        ARRAY [516,2392]
                            OBJECT [517,547]
                                FIELD [518,546]
                                    String: "uses" [518,524]
                                    STRING [525,546]
                                        String: "actions/checkout@v3" [525,546]
                            OBJECT [548,1018]
                                FIELD [549,583]
                                    String: "name" [549,555]
                                    STRING [556,583]
                                        String: "Install ArrayFire (Linux)" [556,583]
                                FIELD [584,956]
                                    String: "run" [584,589]
                                    STRING [590,956]
                                        String: "sudo apt update\nsudo apt-key adv --fetch-key https://repo.arrayfire.com/GPG-PUB-KEY-ARRAYFIRE-2020.PUB\necho \"deb [arch=amd64] https://repo.arrayfire.com/debian all main\" | sudo tee /etc/apt/sources.list.d/arrayfire.list\nsudo apt update\nsudo apt install arrayfire-cmake=3.8.1-2 arrayfire-headers=3.8.1-2 arrayfire-cpu3-mkl=3.8.1-2 arrayfire-cpu3-dev=3.8.1-2\n" [590,956]
                                FIELD [957,1017]
                                    String: "if" [957,961]
                                    STRING [962,1017]
                                        String: "runner.os == 'Linux' && matrix.backend == 'ArrayFire'" [962,1017]
                            OBJECT [1019,1147]
                                FIELD [1020,1054]
                                    String: "name" [1020,1026]
                                    STRING [1027,1054]
                                        String: "Install ArrayFire (macOS)" [1027,1054]
                                FIELD [1055,1085]
                                    String: "run" [1055,1060]
                                    STRING [1061,1085]
                                        String: "brew install arrayfire" [1061,1085]
                                FIELD [1086,1146]
                                    String: "if" [1086,1090]
                                    STRING [1091,1146]
                                        String: "runner.os == 'macOS' && matrix.backend == 'ArrayFire'" [1091,1146]
                            OBJECT [1148,1511]
                                FIELD [1149,1185]
                                    String: "name" [1149,1155]
                                    STRING [1156,1185]
                                        String: "Install ArrayFire (Windows)" [1156,1185]
                                FIELD [1186,1447]
                                    String: "run" [1186,1191]
                                    STRING [1192,1447]
                                        String: "choco install --no-progress wget -y\ncd $HOME\nINSTALLER_NAME=\"ArrayFire-v3.8.1-CUDA-11.4.exe\"\nwget --quiet https://arrayfire.s3.amazonaws.com/3.8.1/$INSTALLER_NAME\n7z.exe x $INSTALLER_NAME -o\"C:\\Program Files\\ArrayFire\" -y\nrm $INSTALLER_NAME\n" [1192,1447]
                                FIELD [1448,1510]
                                    String: "if" [1448,1452]
                                    STRING [1453,1510]
                                        String: "runner.os == 'Windows' && matrix.backend == 'ArrayFire'" [1453,1510]
                            OBJECT [1512,1802]
                                FIELD [1513,1558]
                                    String: "name" [1513,1519]
                                    STRING [1520,1558]
                                        String: "Install oneDNN 2.7.2 with microconda" [1520,1558]
                                FIELD [1559,1608]
                                    String: "uses" [1559,1565]
                                    STRING [1566,1608]
                                        String: "mamba-org/provision-with-micromamba@main" [1566,1608]
                                FIELD [1609,1728]
                                    String: "with" [1609,1615]
                                    OBJECT [1616,1728]
                                        FIELD [1617,1641]
                                            String: "environment-file" [1617,1635]
                                            FALSE [1636,1641]
                                        FIELD [1642,1673]
                                            String: "environment-name" [1642,1660]
                                            STRING [1661,1673]
                                                String: "flashlight" [1661,1673]
                                        FIELD [1674,1698]
                                            String: "channels" [1674,1684]
                                            STRING [1685,1698]
                                                String: "conda-forge" [1685,1698]
                                        FIELD [1699,1727]
                                            String: "extra-specs" [1699,1712]
                                            STRING [1713,1727]
                                                String: "onednn=2.7.2" [1713,1727]
                                FIELD [1729,1801]
                                    String: "if" [1729,1733]
                                    STRING [1734,1801]
                                        String: "matrix.backend == 'oneDNN' || matrix.autograd_backend == 'oneDNN'" [1734,1801]
                            OBJECT [1803,2320]
                                FIELD [1804,1833]
                                    String: "name" [1804,1810]
                                    STRING [1811,1833]
                                        String: "Configure Flashlight" [1811,1833]
                                FIELD [1834,2319]
                                    String: "run" [1834,1839]
                                    STRING [1840,2319]
                                        String: "cmake -S . -B build -DBUILD_SHARED_LIBS=ON \\\n  -DFL_USE_ARRAYFIRE=${{ matrix.backend == 'ArrayFire' && 'ON' || 'OFF'  }} \\\n  -DFL_ARRAYFIRE_USE_CPU=${{ matrix.backend == 'ArrayFire' && 'ON' || 'OFF'  }} \\\n  -DFL_USE_ONEDNN=${{ (matrix.backend == 'oneDNN' || matrix.autograd_backend == 'oneDNN') && 'ON' || 'OFF'  }} \\\n  -DFL_USE_TENSOR_STUB=${{ matrix.backend == 'Stub' && 'ON' || 'OFF'  }} \\\n  -DFL_BUILD_DISTRIBUTED=OFF \\\n  -DCMAKE_WINDOWS_EXPORT_ALL_SYMBOLS=ON\n" [1840,2319]
                            OBJECT [2321,2391]
                                FIELD [2322,2347]
                                    String: "name" [2322,2328]
                                    STRING [2329,2347]
                                        String: "Build Flashlight" [2329,2347]
                                FIELD [2348,2390]
                                    String: "run" [2348,2353]
                                    STRING [2354,2390]
                                        String: "cmake --build build --parallel 2\n" [2354,2390]
            FIELD [2394,3229]
                String: "build_wasm" [2394,2406]
                OBJECT [2407,3229]
                    FIELD [2408,2503]
                        String: "name" [2408,2414]
                        STRING [2415,2503]
                            String: "Build WebAssembly libraries with Emscripten compilers + Flashlight core + stub backend" [2415,2503]
                    FIELD [2504,2528]
                        String: "runs-on" [2504,2513]
                        STRING [2514,2528]
                            String: "ubuntu-20.04" [2514,2528]
                    FIELD [2529,2571]
                        String: "defaults" [2529,2539]
                        OBJECT [2540,2571]
                            FIELD [2541,2570]
                                String: "run" [2541,2546]
                                OBJECT [2547,2570]
                                    FIELD [2548,2569]
                                        String: "shell" [2548,2555]
                                        STRING [2556,2569]
                                            String: "bash -l {0}" [2556,2569]
                    FIELD [2572,2682]
                        String: "if" [2572,2576]
                        STRING [2577,2682]
                            String: "(github.event_name == 'push' && github.ref == 'refs/heads/main') || github.event_name == 'pull_request'" [2577,2682]
                    FIELD [2683,3228]
                        String: "steps" [2683,2690]
                        ARRAY [2691,3228]
                            OBJECT [2692,2722]
                                FIELD [2693,2721]
                                    String: "uses" [2693,2699]
                                    STRING [2700,2721]
                                        String: "actions/checkout@v3" [2700,2721]
                            OBJECT [2723,2887]
                                FIELD [2724,2762]
                                    String: "name" [2724,2730]
                                    STRING [2731,2762]
                                        String: "Download and setup Emscripten" [2731,2762]
                                FIELD [2763,2886]
                                    String: "run" [2763,2768]
                                    STRING [2769,2886]
                                        String: "git clone https://github.com/emscripten-core/emsdk.git\ncd emsdk\n./emsdk install latest\n./emsdk activate latest\n" [2769,2886]
                            OBJECT [2888,3227]
                                FIELD [2889,2959]
                                    String: "name" [2889,2895]
                                    STRING [2896,2959]
                                        String: "Build the Flashlight stub backend with Emscripten C compilers" [2896,2959]
                                FIELD [2960,3226]
                                    String: "run" [2960,2965]
                                    STRING [2966,3226]
                                        String: "source ./emsdk/emsdk_env.sh # TODO: move me to setup step\nemcmake cmake -S . -B build \\\n  -DFL_USE_TENSOR_STUB=ON \\\n  -DFL_USE_ARRAYFIRE=OFF \\\n  -DFL_USE_ONEDNN=OFF \\\n  -DFL_USE_CUDNN=OFF \\\n  -DFL_BUILD_DISTRIBUTED=OFF \\\n  -DFL_BUILD_EXAMPLES=ON" [2966,3226]