OBJECT [0,3942]
    FIELD [1,20]
        String: "name" [1,7]
        STRING [8,20]
            String: "MacRelease" [8,20]
    FIELD [21,172]
        String: "on" [21,25]
        OBJECT [26,172]
            FIELD [27,64]
                String: "schedule" [27,37]
                ARRAY [38,64]
                    OBJECT [39,63]
                        FIELD [40,62]
                            String: "cron" [40,46]
                            STRING [47,62]
                                String: "00 00 * * MON" [47,62]
            FIELD [65,101]
                String: "push" [65,71]
                OBJECT [72,101]
                    FIELD [73,100]
                        String: "branches" [73,83]
                        ARRAY [84,100]
                            STRING [85,91]
                                String: "main" [85,91]
                            STRING [92,99]
                                String: "rel-*" [92,99]
            FIELD [102,146]
                String: "pull_request" [102,116]
                OBJECT [117,146]
                    FIELD [118,145]
                        String: "branches" [118,128]
                        ARRAY [129,145]
                            STRING [130,136]
                                String: "main" [130,136]
                            STRING [137,144]
                                String: "rel-*" [137,144]
            FIELD [147,171]
                String: "workflow_dispatch" [147,166]
                NULL [167,171]
    FIELD [173,213]
        String: "env" [173,178]
        OBJECT [179,213]
            FIELD [180,212]
                String: "MACOSX_DEPLOYMENT_TARGET" [180,206]
                NUMBER [207,212]
                    Number: 10.12 [207,212]
    FIELD [214,3941]
        String: "jobs" [214,220]
        OBJECT [221,3941]
            FIELD [222,3940]
                String: "build" [222,229]
                OBJECT [230,3940]
                    FIELD [231,386]
                        String: "if" [231,235]
                        STRING [236,386]
                            String: "github.event_name != 'pull_request' || startsWith( github.base_ref, 'rel-') || contains( github.event.pull_request.labels.*.name, 'run release CIs')" [236,386]
                    FIELD [387,407]
                        String: "runs-on" [387,396]
                        STRING [397,407]
                            String: "macos-11" [397,407]
                    FIELD [408,498]
                        String: "strategy" [408,418]
                        OBJECT [419,498]
                            FIELD [420,497]
                                String: "matrix" [420,428]
                                OBJECT [429,497]
                                    FIELD [430,473]
                                        String: "python-version" [430,446]
                                        ARRAY [447,473]
                                            STRING [448,453]
                                                String: "3.7" [448,453]
                                            STRING [454,459]
                                                String: "3.8" [454,459]
                                            STRING [460,465]
                                                String: "3.9" [460,465]
                                            STRING [466,472]
                                                String: "3.10" [466,472]
                                    FIELD [474,496]
                                        String: "architecture" [474,488]
                                        ARRAY [489,496]
                                            STRING [490,495]
                                                String: "x64" [490,495]
                    FIELD [499,3939]
                        String: "steps" [499,506]
                        ARRAY [507,3939]
                            OBJECT [508,538]
                                FIELD [509,537]
                                    String: "uses" [509,515]
                                    STRING [516,537]
                                        String: "actions/checkout@v2" [516,537]
                            OBJECT [539,825]
                                FIELD [540,568]
                                    String: "name" [540,546]
                                    STRING [547,568]
                                        String: "Checkout submodules" [547,568]
                                FIELD [569,583]
                                    String: "shell" [569,576]
                                    STRING [577,583]
                                        String: "bash" [577,583]
                                FIELD [584,824]
                                    String: "run" [584,589]
                                    STRING [590,824]
                                        String: "auth_header=\"$(git config --local --get http.https://github.com/.extraheader)\"\ngit submodule sync --recursive\ngit -c \"http.extraheader=$auth_header\" -c protocol.version=2 submodule update --init --force --recursive --depth=1\n" [590,824]
                            OBJECT [826,1013]
                                FIELD [827,878]
                                    String: "name" [827,833]
                                    STRING [834,878]
                                        String: "Set up Python ${{ matrix.python-version }}" [834,878]
                                FIELD [879,911]
                                    String: "uses" [879,885]
                                    STRING [886,911]
                                        String: "actions/setup-python@v2" [886,911]
                                FIELD [912,1012]
                                    String: "with" [912,918]
                                    OBJECT [919,1012]
                                        FIELD [920,967]
                                            String: "python-version" [920,936]
                                            STRING [937,967]
                                                String: "${{ matrix.python-version }}" [937,967]
                                        FIELD [968,1011]
                                            String: "architecture" [968,982]
                                            STRING [983,1011]
                                                String: "${{ matrix.architecture }}" [983,1011]
                            OBJECT [1014,1155]
                                FIELD [1015,1051]
                                    String: "name" [1015,1021]
                                    STRING [1022,1051]
                                        String: "Install Python dependencies" [1022,1051]
                                FIELD [1052,1154]
                                    String: "run" [1052,1057]
                                    STRING [1058,1154]
                                        String: "python -m pip install -q --upgrade pip\npython -m pip install -q -r requirements-release.txt\n" [1058,1154]
                            OBJECT [1156,1897]
                                FIELD [1157,1189]
                                    String: "name" [1157,1163]
                                    STRING [1164,1189]
                                        String: "Build wheel and install" [1164,1189]
                                FIELD [1190,1238]
                                    String: "env" [1190,1195]
                                    OBJECT [1196,1238]
                                        FIELD [1197,1209]
                                            String: "CC" [1197,1201]
                                            STRING [1202,1209]
                                                String: "clang" [1202,1209]
                                        FIELD [1210,1225]
                                            String: "CXX" [1210,1215]
                                            STRING [1216,1225]
                                                String: "clang++" [1216,1225]
                                        FIELD [1226,1237]
                                            String: "ONNX_ML" [1226,1235]
                                            NUMBER [1236,1237]
                                                Number: 1 [1236,1237]
                                FIELD [1239,1896]
                                    String: "run" [1239,1244]
                                    STRING [1245,1896]
                                        String: "# Install protobuf from source\nexport NUM_CORES=`sysctl -n hw.logicalcpu`\nsource workflow_scripts/protobuf/build_protobuf_unix.sh $NUM_CORES $(pwd)/protobuf/protobuf_install\nexport CMAKE_ARGS=\"-DONNX_USE_LITE_PROTO=ON\"\n# Currently GitHub Action agent is using macos-11, use -p to force change the final MACOSX_DEPLOYMENT_TARGET\n# Change -p if MACOSX_DEPLOYMENT_TARGET is different\nif [ '${{ github.event_name }}' == 'schedule' ]; then\n  python setup.py bdist_wheel -p macosx_10_12_x86_64 --weekly_build\nelse\n  python setup.py bdist_wheel -p macosx_10_12_x86_64\nfi\nfor file in dist/*.whl; do python -m pip install --upgrade $file; done\n" [1245,1896]
                            OBJECT [1898,1950]
                                FIELD [1899,1932]
                                    String: "name" [1899,1905]
                                    STRING [1906,1932]
                                        String: "Test the installed wheel" [1906,1932]
                                FIELD [1933,1949]
                                    String: "run" [1933,1938]
                                    STRING [1939,1949]
                                        String: "pytest\n" [1939,1949]
                            OBJECT [1951,2027]
                                FIELD [1952,1987]
                                    String: "uses" [1952,1958]
                                    STRING [1959,1987]
                                        String: "actions/upload-artifact@v1" [1959,1987]
                                FIELD [1988,2026]
                                    String: "with" [1988,1994]
                                    OBJECT [1995,2026]
                                        FIELD [1996,2011]
                                            String: "name" [1996,2002]
                                            STRING [2003,2011]
                                                String: "wheels" [2003,2011]
                                        FIELD [2012,2025]
                                            String: "path" [2012,2018]
                                            STRING [2019,2025]
                                                String: "dist" [2019,2025]
                            OBJECT [2028,2272]
                                FIELD [2029,2069]
                                    String: "name" [2029,2035]
                                    STRING [2036,2069]
                                        String: "Upload wheel to TestPyPI weekly" [2036,2069]
                                FIELD [2070,2108]
                                    String: "if" [2070,2074]
                                    STRING [2075,2108]
                                        String: "github.event_name == 'schedule'" [2075,2108]
                                FIELD [2109,2271]
                                    String: "run" [2109,2114]
                                    STRING [2115,2271]
                                        String: "twine upload --verbose dist/*.whl --repository-url https://test.pypi.org/legacy/ -u ${{ secrets.TESTPYPI_USERNAME }} -p ${{ secrets.TESTPYPI_PASSWORD }}\n" [2115,2271]
                            OBJECT [2273,2499]
                                FIELD [2274,2316]
                                    String: "name" [2274,2280]
                                    STRING [2281,2316]
                                        String: "Verify ONNX with the latest numpy" [2281,2316]
                                FIELD [2317,2339]
                                    String: "if" [2317,2321]
                                    STRING [2322,2339]
                                        String: "${{ always() }}" [2322,2339]
                                FIELD [2340,2498]
                                    String: "run" [2340,2345]
                                    STRING [2346,2498]
                                        String: "python -m pip uninstall -y numpy onnx && python -m pip install numpy\nfor file in dist/*.whl; do python -m pip install --upgrade $file; done\npytest\n" [2346,2498]
                            OBJECT [2500,2735]
                                FIELD [2501,2546]
                                    String: "name" [2501,2507]
                                    STRING [2508,2546]
                                        String: "Verify ONNX with the latest protobuf" [2508,2546]
                                FIELD [2547,2569]
                                    String: "if" [2547,2551]
                                    STRING [2552,2569]
                                        String: "${{ always() }}" [2552,2569]
                                FIELD [2570,2734]
                                    String: "run" [2570,2575]
                                    STRING [2576,2734]
                                        String: "python -m pip uninstall -y protobuf onnx && python -m pip install protobuf\nfor file in dist/*.whl; do python -m pip install --upgrade $file; done\npytest\n" [2576,2734]
                            OBJECT [2736,3014]
                                FIELD [2737,2817]
                                    String: "name" [2737,2743]
                                    STRING [2744,2817]
                                        String: "Verify ONNX with the minimum supported protobuf (from requirements.txt)" [2744,2817]
                                FIELD [2818,2840]
                                    String: "if" [2818,2822]
                                    STRING [2823,2840]
                                        String: "${{ always() }}" [2823,2840]
                                FIELD [2841,3013]
                                    String: "run" [2841,2846]
                                    STRING [2847,3013]
                                        String: "python -m pip uninstall -y protobuf onnx && python -m pip install protobuf==3.12.2\nfor file in dist/*.whl; do python -m pip install --upgrade $file; done\npytest\n" [2847,3013]
                            OBJECT [3015,3189]
                                FIELD [3016,3067]
                                    String: "name" [3016,3022]
                                    STRING [3023,3067]
                                        String: "Verify ONNX with ONNX Runtime PyPI package" [3023,3067]
                                FIELD [3068,3106]
                                    String: "if" [3068,3072]
                                    STRING [3073,3106]
                                        String: "matrix.python-version != '3.10'" [3073,3106]
                                FIELD [3107,3188]
                                    String: "run" [3107,3112]
                                    STRING [3113,3188]
                                        String: "python -m pip install -q onnxruntime\npython onnx/test/test_with_ort.py\n" [3113,3188]
                            OBJECT [3190,3584]
                                FIELD [3191,3255]
                                    String: "name" [3191,3197]
                                    STRING [3198,3255]
                                        String: "Build and upload source distribution to TestPyPI weekly" [3198,3255]
                                FIELD [3256,3328]
                                    String: "if" [3256,3260]
                                    STRING [3261,3328]
                                        String: "github.event_name == 'schedule' && matrix.python-version == '3.9'" [3261,3328]
                                FIELD [3329,3583]
                                    String: "run" [3329,3334]
                                    STRING [3335,3583]
                                        String: "# Build and upload source distribution to TestPyPI\ngit clean -xdf\npython setup.py sdist --weekly_build\ntwine upload dist/* --repository-url https://test.pypi.org/legacy/ -u ${{ secrets.TESTPYPI_USERNAME }} -p ${{ secrets.TESTPYPI_PASSWORD }}\n" [3335,3583]
                            OBJECT [3585,3938]
                                FIELD [3586,3633]
                                    String: "name" [3586,3592]
                                    STRING [3593,3633]
                                        String: "Test source distribution from TestPyPI" [3593,3633]
                                FIELD [3634,3706]
                                    String: "if" [3634,3638]
                                    STRING [3639,3706]
                                        String: "github.event_name == 'schedule' && matrix.python-version == '3.9'" [3639,3706]
                                FIELD [3707,3937]
                                    String: "run" [3707,3712]
                                    STRING [3713,3937]
                                        String: "python -m pip uninstall -y onnx\npython -m pip install setuptools\npython -m pip install --index-url https://test.pypi.org/simple --use-deprecated=legacy-resolver --no-use-pep517 --no-binary onnx-weekly onnx-weekly\npytest" [3713,3937]