OBJECT [0,4408]
    FIELD [1,56]
        String: "name" [1,7]
        STRING [8,56]
            String: "Slow tests on important models (on Push - A10)" [8,56]
    FIELD [57,92]
        String: "on" [57,61]
        OBJECT [62,92]
            FIELD [63,91]
                String: "push" [63,69]
                OBJECT [70,91]
                    FIELD [71,90]
                        String: "branches" [71,81]
                        ARRAY [82,90]
                            STRING [83,89]
                                String: "main" [83,89]
    FIELD [93,412]
        String: "env" [93,98]
        OBJECT [99,412]
            FIELD [100,139]
                String: "OUTPUT_SLACK_CHANNEL_ID" [100,125]
                STRING [126,139]
                    String: "C06L2SGMEEA" [126,139]
            FIELD [140,194]
                String: "HF_HUB_READ_TOKEN" [140,159]
                STRING [160,194]
                    String: "${{ secrets.HF_HUB_READ_TOKEN }}" [160,194]
            FIELD [195,217]
                String: "HF_HOME" [195,204]
                STRING [205,217]
                    String: "/mnt/cache" [205,217]
            FIELD [218,243]
                String: "TRANSFORMERS_IS_CI" [218,238]
                TRUE [239,243]
            FIELD [244,263]
                String: "OMP_NUM_THREADS" [244,261]
                NUMBER [262,263]
                    Number: 8 [262,263]
            FIELD [264,283]
                String: "MKL_NUM_THREADS" [264,281]
                NUMBER [282,283]
                    Number: 8 [282,283]
            FIELD [284,299]
                String: "RUN_SLOW" [284,294]
                TRUE [295,299]
            FIELD [300,352]
                String: "SIGOPT_API_TOKEN" [300,318]
                STRING [319,352]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [319,352]
            FIELD [353,385]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [353,380]
                TRUE [381,385]
            FIELD [386,411]
                String: "RUN_PT_TF_CROSS_TESTS" [386,409]
                NUMBER [410,411]
                    Number: 1 [410,411]
    FIELD [413,4407]
        String: "jobs" [413,419]
        OBJECT [420,4407]
            FIELD [421,1457]
                String: "get_modified_models" [421,442]
                OBJECT [443,1457]
                    FIELD [444,475]
                        String: "name" [444,450]
                        STRING [451,475]
                            String: "Get all modified files" [451,475]
                    FIELD [476,501]
                        String: "runs-on" [476,485]
                        STRING [486,501]
                            String: "ubuntu-latest" [486,501]
                    FIELD [502,563]
                        String: "outputs" [502,511]
                        OBJECT [512,563]
                            FIELD [513,562]
                                String: "matrix" [513,521]
                                STRING [522,562]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [522,562]
                    FIELD [564,1456]
                        String: "steps" [564,571]
                        ARRAY [572,1456]
                            OBJECT [573,627]
                                FIELD [574,597]
                                    String: "name" [574,580]
                                    STRING [581,597]
                                        String: "Check out code" [581,597]
                                FIELD [598,626]
                                    String: "uses" [598,604]
                                    STRING [605,626]
                                        String: "actions/checkout@v4" [605,626]
                            OBJECT [628,798]
                                FIELD [629,655]
                                    String: "name" [629,635]
                                    STRING [636,655]
                                        String: "Get changed files" [636,655]
                                FIELD [656,676]
                                    String: "id" [656,660]
                                    STRING [661,676]
                                        String: "changed-files" [661,676]
                                FIELD [677,751]
                                    String: "uses" [677,683]
                                    STRING [684,751]
                                        String: "tj-actions/changed-files@3f54ebb830831fc121d3263c1857cfbdc310cdb9" [684,751]
                                FIELD [752,797]
                                    String: "with" [752,758]
                                    OBJECT [759,797]
                                        FIELD [760,796]
                                            String: "files" [760,767]
                                            STRING [768,796]
                                                String: "src/transformers/models/**" [768,796]
                            OBJECT [799,1455]
                                FIELD [800,855]
                                    String: "name" [800,806]
                                    STRING [807,855]
                                        String: "Run step if only the files listed above change" [807,855]
                                FIELD [856,912]
                                    String: "if" [856,860]
                                    STRING [861,912]
                                        String: "steps.changed-files.outputs.any_changed == 'true'" [861,912]
                                FIELD [913,930]
                                    String: "id" [913,917]
                                    STRING [918,930]
                                        String: "set-matrix" [918,930]
                                FIELD [931,1013]
                                    String: "env" [931,936]
                                    OBJECT [937,1013]
                                        FIELD [938,1012]
                                            String: "ALL_CHANGED_FILES" [938,957]
                                            STRING [958,1012]
                                                String: "${{ steps.changed-files.outputs.all_changed_files }}" [958,1012]
                                FIELD [1014,1454]
                                    String: "run" [1014,1019]
                                    STRING [1020,1454]
                                        String: "model_arrays=()\nfor file in $ALL_CHANGED_FILES; do\n    model_path=\"${file#*models/}\"\n    model_path=\"models/${model_path%%/*}\"\n    if grep -qFx \"$model_path\" utils/important_models.txt; then\n        # Append the file to the matrix string\n        model_arrays+=(\"$model_path\")\n    fi\ndone\nmatrix_string=$(printf '\"%s\", ' \"${model_arrays[@]}\" | sed 's/, $//')\necho \"matrix=[$matrix_string]\" >> $GITHUB_OUTPUT\n" [1020,1454]
            FIELD [1458,4406]
                String: "test_modified_files" [1458,1479]
                OBJECT [1480,4406]
                    FIELD [1481,1510]
                        String: "needs" [1481,1488]
                        STRING [1489,1510]
                            String: "get_modified_models" [1489,1510]
                    FIELD [1511,1536]
                        String: "name" [1511,1517]
                        STRING [1518,1536]
                            String: "Slow & FA2 tests" [1518,1536]
                    FIELD [1537,1585]
                        String: "runs-on" [1537,1546]
                        ARRAY [1547,1585]
                            STRING [1548,1560]
                                String: "single-gpu" [1548,1560]
                            STRING [1561,1573]
                                String: "nvidia-gpu" [1561,1573]
                            STRING [1574,1579]
                                String: "a10" [1574,1579]
                            STRING [1580,1584]
                                String: "ci" [1580,1584]
                    FIELD [1586,1741]
                        String: "container" [1586,1597]
                        OBJECT [1598,1741]
                            FIELD [1599,1648]
                                String: "image" [1599,1606]
                                STRING [1607,1648]
                                    String: "huggingface/transformers-all-latest-gpu" [1607,1648]
                            FIELD [1649,1740]
                                String: "options" [1649,1658]
                                STRING [1659,1740]
                                    String: "--gpus all --privileged --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1659,1740]
                    FIELD [1742,1919]
                        String: "if" [1742,1746]
                        STRING [1747,1919]
                            String: "${{ needs.get_modified_models.outputs.matrix != '[]' && needs.get_modified_models.outputs.matrix != '' && fromJson(needs.get_modified_models.outputs.matrix)[0] != null }}" [1747,1919]
                    FIELD [1920,2034]
                        String: "strategy" [1920,1930]
                        OBJECT [1931,2034]
                            FIELD [1932,1949]
                                String: "fail-fast" [1932,1943]
                                FALSE [1944,1949]
                            FIELD [1950,2033]
                                String: "matrix" [1950,1958]
                                OBJECT [1959,2033]
                                    FIELD [1960,2032]
                                        String: "model-name" [1960,1972]
                                        STRING [1973,2032]
                                            String: "${{ fromJson(needs.get_modified_models.outputs.matrix) }}" [1973,2032]
                    FIELD [2035,4405]
                        String: "steps" [2035,2042]
                        ARRAY [2043,4405]
                            OBJECT [2044,2098]
                                FIELD [2045,2068]
                                    String: "name" [2045,2051]
                                    STRING [2052,2068]
                                        String: "Check out code" [2052,2068]
                                FIELD [2069,2097]
                                    String: "uses" [2069,2075]
                                    STRING [2076,2097]
                                        String: "actions/checkout@v4" [2076,2097]
                            OBJECT [2099,2378]
                                FIELD [2100,2150]
                                    String: "name" [2100,2106]
                                    STRING [2107,2150]
                                        String: "Install locally transformers & other libs" [2107,2150]
                                FIELD [2151,2377]
                                    String: "run" [2151,2156]
                                    STRING [2157,2377]
                                        String: "apt install sudo\nsudo -H pip install --upgrade pip\nsudo -H pip uninstall -y transformers \nsudo -H pip install -U -e \".[testing]\" \nMAX_JOBS=4 pip install flash-attn --no-build-isolation\npip install bitsandbytes\n" [2157,2377]
                            OBJECT [2379,2421]
                                FIELD [2380,2399]
                                    String: "name" [2380,2386]
                                    STRING [2387,2399]
                                        String: "NVIDIA-SMI" [2387,2399]
                                FIELD [2400,2420]
                                    String: "run" [2400,2405]
                                    STRING [2406,2420]
                                        String: "nvidia-smi\n" [2406,2420]
                            OBJECT [2422,2495]
                                FIELD [2423,2475]
                                    String: "name" [2423,2429]
                                    STRING [2430,2475]
                                        String: "Show installed libraries and their versions" [2430,2475]
                                FIELD [2476,2494]
                                    String: "run" [2476,2481]
                                    STRING [2482,2494]
                                        String: "pip freeze" [2482,2494]
                            OBJECT [2496,2681]
                                FIELD [2497,2519]
                                    String: "name" [2497,2503]
                                    STRING [2504,2519]
                                        String: "Run FA2 tests" [2504,2519]
                                FIELD [2520,2540]
                                    String: "id" [2520,2524]
                                    STRING [2525,2540]
                                        String: "run_fa2_tests" [2525,2540]
                                FIELD [2541,2680]
                                    String: "run" [2541,2546]
                                    STRING [2547,2680]
                                        String: "pytest -rs -m \"flash_attn_test\" --make-reports=${{ matrix.model-name }}_fa2_tests/ tests/${{ matrix.model-name }}/test_modeling_*" [2547,2680]
                            OBJECT [2682,2935]
                                FIELD [2683,2756]
                                    String: "name" [2683,2689]
                                    STRING [2690,2756]
                                        String: "Test suite reports artifacts: ${{ matrix.model-name }}_fa2_tests" [2690,2756]
                                FIELD [2757,2779]
                                    String: "if" [2757,2761]
                                    STRING [2762,2779]
                                        String: "${{ always() }}" [2762,2779]
                                FIELD [2780,2815]
                                    String: "uses" [2780,2786]
                                    STRING [2787,2815]
                                        String: "actions/upload-artifact@v4" [2787,2815]
                                FIELD [2816,2934]
                                    String: "with" [2816,2822]
                                    OBJECT [2823,2934]
                                        FIELD [2824,2867]
                                            String: "name" [2824,2830]
                                            STRING [2831,2867]
                                                String: "${{ matrix.model-name }}_fa2_tests" [2831,2867]
                                        FIELD [2868,2933]
                                            String: "path" [2868,2874]
                                            STRING [2875,2933]
                                                String: "/transformers/reports/${{ matrix.model-name }}_fa2_tests" [2875,2933]
                            OBJECT [2936,3267]
                                FIELD [2937,2959]
                                    String: "name" [2937,2943]
                                    STRING [2944,2959]
                                        String: "Post to Slack" [2944,2959]
                                FIELD [2960,2975]
                                    String: "if" [2960,2964]
                                    STRING [2965,2975]
                                        String: "always()" [2965,2975]
                                FIELD [2976,3041]
                                    String: "uses" [2976,2982]
                                    STRING [2983,3041]
                                        String: "huggingface/hf-workflows/.github/actions/post-slack@main" [2983,3041]
                                FIELD [3042,3266]
                                    String: "with" [3042,3048]
                                    OBJECT [3049,3266]
                                        FIELD [3050,3102]
                                            String: "slack_channel" [3050,3065]
                                            STRING [3066,3102]
                                                String: "${{ env.OUTPUT_SLACK_CHANNEL_ID }}" [3066,3102]
                                        FIELD [3103,3167]
                                            String: "title" [3103,3110]
                                            STRING [3111,3167]
                                                String: "ðŸ¤— Results of the FA2 tests - ${{ matrix.model-name }}" [3111,3167]
                                        FIELD [3168,3215]
                                            String: "status" [3168,3176]
                                            STRING [3177,3215]
                                                String: "${{ steps.run_fa2_tests.conclusion}}" [3177,3215]
                                        FIELD [3216,3265]
                                            String: "slack_token" [3216,3229]
                                            STRING [3230,3265]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [3230,3265]
                            OBJECT [3268,3493]
                                FIELD [3269,3299]
                                    String: "name" [3269,3275]
                                    STRING [3276,3299]
                                        String: "Run integration tests" [3276,3299]
                                FIELD [3300,3328]
                                    String: "id" [3300,3304]
                                    STRING [3305,3328]
                                        String: "run_integration_tests" [3305,3328]
                                FIELD [3329,3344]
                                    String: "if" [3329,3333]
                                    STRING [3334,3344]
                                        String: "always()" [3334,3344]
                                FIELD [3345,3492]
                                    String: "run" [3345,3350]
                                    STRING [3351,3492]
                                        String: "pytest -rs -k \"IntegrationTest\"  --make-reports=tests_integration_${{ matrix.model-name }} tests/${{ matrix.model-name }}/test_modeling_*" [3351,3492]
                            OBJECT [3494,3771]
                                FIELD [3495,3576]
                                    String: "name" [3495,3501]
                                    STRING [3502,3576]
                                        String: "Test suite reports artifacts: tests_integration_${{ matrix.model-name }}" [3502,3576]
                                FIELD [3577,3599]
                                    String: "if" [3577,3581]
                                    STRING [3582,3599]
                                        String: "${{ always() }}" [3582,3599]
                                FIELD [3600,3635]
                                    String: "uses" [3600,3606]
                                    STRING [3607,3635]
                                        String: "actions/upload-artifact@v4" [3607,3635]
                                FIELD [3636,3770]
                                    String: "with" [3636,3642]
                                    OBJECT [3643,3770]
                                        FIELD [3644,3695]
                                            String: "name" [3644,3650]
                                            STRING [3651,3695]
                                                String: "tests_integration_${{ matrix.model-name }}" [3651,3695]
                                        FIELD [3696,3769]
                                            String: "path" [3696,3702]
                                            STRING [3703,3769]
                                                String: "/transformers/reports/tests_integration_${{ matrix.model-name }}" [3703,3769]
                            OBJECT [3772,4119]
                                FIELD [3773,3795]
                                    String: "name" [3773,3779]
                                    STRING [3780,3795]
                                        String: "Post to Slack" [3780,3795]
                                FIELD [3796,3811]
                                    String: "if" [3796,3800]
                                    STRING [3801,3811]
                                        String: "always()" [3801,3811]
                                FIELD [3812,3877]
                                    String: "uses" [3812,3818]
                                    STRING [3819,3877]
                                        String: "huggingface/hf-workflows/.github/actions/post-slack@main" [3819,3877]
                                FIELD [3878,4118]
                                    String: "with" [3878,3884]
                                    OBJECT [3885,4118]
                                        FIELD [3886,3938]
                                            String: "slack_channel" [3886,3901]
                                            STRING [3902,3938]
                                                String: "${{ env.OUTPUT_SLACK_CHANNEL_ID }}" [3902,3938]
                                        FIELD [3939,4011]
                                            String: "title" [3939,3946]
                                            STRING [3947,4011]
                                                String: "ðŸ¤— Results of the Integration tests - ${{ matrix.model-name }}" [3947,4011]
                                        FIELD [4012,4067]
                                            String: "status" [4012,4020]
                                            STRING [4021,4067]
                                                String: "${{ steps.run_integration_tests.conclusion}}" [4021,4067]
                                        FIELD [4068,4117]
                                            String: "slack_token" [4068,4081]
                                            STRING [4082,4117]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [4082,4117]
                            OBJECT [4120,4404]
                                FIELD [4121,4139]
                                    String: "name" [4121,4127]
                                    STRING [4128,4139]
                                        String: "Tailscale" [4128,4139]
                                FIELD [4140,4172]
                                    String: "if" [4140,4144]
                                    STRING [4145,4172]
                                        String: "${{ runner.debug == '1'}}" [4145,4172]
                                FIELD [4173,4213]
                                    String: "uses" [4173,4179]
                                    STRING [4180,4213]
                                        String: "huggingface/tailscale-action@v1" [4180,4213]
                                FIELD [4214,4403]
                                    String: "with" [4214,4220]
                                    OBJECT [4221,4403]
                                        FIELD [4222,4270]
                                            String: "authkey" [4222,4231]
                                            STRING [4232,4270]
                                                String: "${{ secrets.TAILSCALE_SSH_AUTHKEY }}" [4232,4270]
                                        FIELD [4271,4327]
                                            String: "slackChannel" [4271,4285]
                                            STRING [4286,4327]
                                                String: "${{ secrets.SLACK_CIFEEDBACK_CHANNEL }}" [4286,4327]
                                        FIELD [4328,4384]
                                            String: "slackToken" [4328,4340]
                                            STRING [4341,4384]
                                                String: "${{ secrets.SLACK_CIFEEDBACK_BOT_TOKEN }}" [4341,4384]
                                        FIELD [4385,4402]
                                            String: "waitForSSH" [4385,4397]
                                            TRUE [4398,4402]