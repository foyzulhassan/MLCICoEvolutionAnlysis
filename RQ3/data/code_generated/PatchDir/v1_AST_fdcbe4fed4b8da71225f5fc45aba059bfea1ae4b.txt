OBJECT [0,3104]
    FIELD [1,14]
        String: "name" [1,7]
        STRING [8,14]
            String: "main" [8,14]
    FIELD [15,271]
        String: "on" [15,19]
        OBJECT [20,271]
            FIELD [21,32]
                String: "push" [21,27]
                NULL [28,32]
            FIELD [33,52]
                String: "pull_request" [33,47]
                NULL [48,52]
            FIELD [53,270]
                String: "workflow_dispatch" [53,72]
                OBJECT [73,270]
                    FIELD [74,269]
                        String: "inputs" [74,82]
                        OBJECT [83,269]
                            FIELD [84,268]
                                String: "ramp_workflow_url" [84,103]
                                OBJECT [104,268]
                                    FIELD [105,159]
                                        String: "description" [105,118]
                                        STRING [119,159]
                                            String: "pip installable ramp-workflow repo URL" [119,159]
                                    FIELD [160,175]
                                        String: "required" [160,170]
                                        TRUE [171,175]
                                    FIELD [176,267]
                                        String: "default" [176,185]
                                        STRING [186,267]
                                            String: "https://github.com/paris-saclay-cds/ramp-workflow/archive/refs/heads/master.zip" [186,267]
    FIELD [272,3103]
        String: "jobs" [272,278]
        OBJECT [279,3103]
            FIELD [280,2759]
                String: "main" [280,286]
                OBJECT [287,2759]
                    FIELD [288,325]
                        String: "name" [288,294]
                        STRING [295,325]
                            String: "test-py-${{ matrix.python }}" [295,325]
                    FIELD [326,354]
                        String: "runs-on" [326,335]
                        STRING [336,354]
                            String: "${{ matrix.os }}" [336,354]
                    FIELD [355,503]
                        String: "strategy" [355,365]
                        OBJECT [366,503]
                            FIELD [367,502]
                                String: "matrix" [367,375]
                                OBJECT [376,502]
                                    FIELD [377,398]
                                        String: "os" [377,381]
                                        ARRAY [382,398]
                                            STRING [383,397]
                                                String: "ubuntu-18.04" [383,397]
                                    FIELD [399,421]
                                        String: "python" [399,407]
                                        ARRAY [408,421]
                                            NUMBER [409,412]
                                                Number: 3.7 [409,412]
                                            NUMBER [413,416]
                                                Number: 3.8 [413,416]
                                            NUMBER [417,420]
                                                Number: 3.9 [417,420]
                                    FIELD [422,501]
                                        String: "include" [422,431]
                                        ARRAY [432,501]
                                            OBJECT [433,500]
                                                FIELD [434,453]
                                                    String: "os" [434,438]
                                                    STRING [439,453]
                                                        String: "ubuntu-18.04" [439,453]
                                                FIELD [454,466]
                                                    String: "python" [454,462]
                                                    NUMBER [463,466]
                                                        Number: 3.8 [463,466]
                                                FIELD [467,499]
                                                    String: "ramp_workflow_version" [467,490]
                                                    STRING [491,499]
                                                        String: "master" [491,499]
                    FIELD [504,737]
                        String: "services" [504,514]
                        OBJECT [515,737]
                            FIELD [516,736]
                                String: "postgres" [516,526]
                                OBJECT [527,736]
                                    FIELD [528,558]
                                        String: "image" [528,535]
                                        STRING [536,558]
                                            String: "postgres:11.6-alpine" [536,558]
                                    FIELD [559,580]
                                        String: "ports" [559,566]
                                        ARRAY [567,580]
                                            STRING [568,579]
                                                String: "5432:5432" [568,579]
                                    FIELD [581,638]
                                        String: "env" [581,586]
                                        OBJECT [587,638]
                                            FIELD [588,614]
                                                String: "POSTGRES_USER" [588,603]
                                                STRING [604,614]
                                                    String: "postgres" [604,614]
                                            FIELD [615,637]
                                                String: "POSTGRES_PASSWORD" [615,634]
                                                STRING [635,637]
                                                    String: "" [635,637]
                                    FIELD [639,735]
                                        String: "options" [639,648]
                                        STRING [649,735]
                                            String: "--health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5" [649,735]
                    FIELD [738,2758]
                        String: "steps" [738,745]
                        ARRAY [746,2758]
                            OBJECT [747,777]
                                FIELD [748,776]
                                    String: "uses" [748,754]
                                    STRING [755,776]
                                        String: "actions/checkout@v2" [755,776]
                            OBJECT [778,954]
                                FIELD [779,799]
                                    String: "name" [779,785]
                                    STRING [786,799]
                                        String: "Setup conda" [786,799]
                                FIELD [800,833]
                                    String: "uses" [800,806]
                                    STRING [807,833]
                                        String: "s-weigand/setup-conda@v1" [807,833]
                                FIELD [834,953]
                                    String: "with" [834,840]
                                    OBJECT [841,953]
                                        FIELD [842,861]
                                            String: "update-conda" [842,856]
                                            TRUE [857,861]
                                        FIELD [862,884]
                                            String: "activate-conda" [862,878]
                                            FALSE [879,884]
                                        FIELD [885,924]
                                            String: "python-version" [885,901]
                                            STRING [902,924]
                                                String: "${{ matrix.python }}" [902,924]
                                        FIELD [925,952]
                                            String: "conda-channels" [925,941]
                                            STRING [942,952]
                                                String: "anaconda" [942,952]
                            OBJECT [955,1191]
                                FIELD [956,976]
                                    String: "name" [956,962]
                                    STRING [963,976]
                                        String: "Create envs" [963,976]
                                FIELD [977,1142]
                                    String: "run" [977,982]
                                    STRING [983,1142]
                                        String: "conda create --yes -n testenv python=$PYTHON_VERSION\nconda env update -n testenv -f environment.yml\nconda env create -f ci_tools/environment_iris_kit.yml\n" [983,1142]
                                FIELD [1143,1190]
                                    String: "env" [1143,1148]
                                    OBJECT [1149,1190]
                                        FIELD [1150,1189]
                                            String: "PYTHON_VERSION" [1150,1166]
                                            STRING [1167,1189]
                                                String: "${{ matrix.python }}" [1167,1189]
                            OBJECT [1192,1746]
                                FIELD [1193,1220]
                                    String: "name" [1193,1199]
                                    STRING [1200,1220]
                                        String: "Install ramp-board" [1200,1220]
                                FIELD [1221,1697]
                                    String: "run" [1221,1226]
                                    STRING [1227,1697]
                                        String: "source activate testenv\nif [ \"$PYTHON_VERSION\" == \"3.8\" ]; then\n    python -m pip install \"dask==2021.4.1\" \"distributed==2021.4.1\"\nfi\nif [ \"${{ matrix.ramp_workflow_version }}\" == \"master\" ]; then\n   pip install https://github.com/paris-saclay-cds/ramp-workflow/archive/refs/heads/master.zip\nfi\nif [ \"${{ github.event.inputs.ramp_workflow_url }}\" != \"\" ]; then\n   pip install \"${{ github.event.inputs.ramp_workflow_url }}\"\nfi\nmake inplace\n" [1227,1697]
                                FIELD [1698,1745]
                                    String: "env" [1698,1703]
                                    OBJECT [1704,1745]
                                        FIELD [1705,1744]
                                            String: "PYTHON_VERSION" [1705,1721]
                                            STRING [1722,1744]
                                                String: "${{ matrix.python }}" [1722,1744]
                            OBJECT [1747,2018]
                                FIELD [1748,1775]
                                    String: "name" [1748,1754]
                                    STRING [1755,1775]
                                        String: "Test ramp-frontend" [1755,1775]
                                FIELD [1776,2017]
                                    String: "run" [1776,1781]
                                    STRING [1782,2017]
                                        String: "set -e\nsource activate testenv\npython -m smtpd -n -c DebuggingServer 127.0.0.1:8025 &\nsleep 3 # wait for the server to start\npytest -rvsl ramp-frontend --cov=ramp_frontend --cov-report=term-missing --cov-report=xml --cov-append\n" [1782,2017]
                            OBJECT [2019,2189]
                                FIELD [2020,2045]
                                    String: "name" [2020,2026]
                                    STRING [2027,2045]
                                        String: "Test ramp-engine" [2027,2045]
                                FIELD [2046,2188]
                                    String: "run" [2046,2051]
                                    STRING [2052,2188]
                                        String: "set -e\nsource activate testenv\npytest -rvsl ramp-engine/ --cov=ramp_engine --cov-report=term-missing --cov-report=xml --cov-append\n" [2052,2188]
                            OBJECT [2190,2367]
                                FIELD [2191,2218]
                                    String: "name" [2191,2197]
                                    STRING [2198,2218]
                                        String: "Test ramp-database" [2198,2218]
                                FIELD [2219,2366]
                                    String: "run" [2219,2224]
                                    STRING [2225,2366]
                                        String: "set -e\nsource activate testenv\npytest -rvsl ramp-database/ --cov=ramp_database --cov-report=term-missing  --cov-report=xml --cov-append\n" [2225,2366]
                            OBJECT [2368,2535]
                                FIELD [2369,2393]
                                    String: "name" [2369,2375]
                                    STRING [2376,2393]
                                        String: "Test ramp-utils" [2376,2393]
                                FIELD [2394,2534]
                                    String: "run" [2394,2399]
                                    STRING [2400,2534]
                                        String: "set -e\nsource activate testenv\npytest -rvsl ramp-utils/ --cov=ramp_utils --cov-report=term-missing --cov-report=xml --cov-append\n" [2400,2534]
                            OBJECT [2536,2648]
                                FIELD [2537,2562]
                                    String: "name" [2537,2543]
                                    STRING [2544,2562]
                                        String: "Test integration" [2544,2562]
                                FIELD [2563,2647]
                                    String: "run" [2563,2568]
                                    STRING [2569,2647]
                                        String: "set -e\nsource activate testenv\nbash ci_tools/actions/integration_test.sh\n" [2569,2647]
                            OBJECT [2649,2757]
                                FIELD [2650,2684]
                                    String: "uses" [2650,2656]
                                    STRING [2657,2684]
                                        String: "codecov/codecov-action@v1" [2657,2684]
                                FIELD [2685,2756]
                                    String: "with" [2685,2691]
                                    OBJECT [2692,2756]
                                        FIELD [2693,2716]
                                            String: "fail_ci_if_error" [2693,2711]
                                            TRUE [2712,2716]
                                        FIELD [2717,2731]
                                            String: "verbose" [2717,2726]
                                            TRUE [2727,2731]
                                        FIELD [2732,2755]
                                            String: "file" [2732,2738]
                                            STRING [2739,2755]
                                                String: "./coverage.xml" [2739,2755]
            FIELD [2760,3102]
                String: "lint" [2760,2766]
                OBJECT [2767,3102]
                    FIELD [2768,2781]
                        String: "name" [2768,2774]
                        STRING [2775,2781]
                            String: "lint" [2775,2781]
                    FIELD [2782,2807]
                        String: "runs-on" [2782,2791]
                        STRING [2792,2807]
                            String: "ubuntu-latest" [2792,2807]
                    FIELD [2808,3101]
                        String: "steps" [2808,2815]
                        ARRAY [2816,3101]
                            OBJECT [2817,2847]
                                FIELD [2818,2846]
                                    String: "uses" [2818,2824]
                                    STRING [2825,2846]
                                        String: "actions/checkout@v2" [2825,2846]
                            OBJECT [2848,2938]
                                FIELD [2849,2881]
                                    String: "uses" [2849,2855]
                                    STRING [2856,2881]
                                        String: "actions/setup-python@v2" [2856,2881]
                                FIELD [2882,2905]
                                    String: "name" [2882,2888]
                                    STRING [2889,2905]
                                        String: "Install Python" [2889,2905]
                                FIELD [2906,2937]
                                    String: "with" [2906,2912]
                                    OBJECT [2913,2937]
                                        FIELD [2914,2936]
                                            String: "python-version" [2914,2930]
                                            STRING [2931,2936]
                                                String: "3.7" [2931,2936]
                            OBJECT [2939,3011]
                                FIELD [2940,2969]
                                    String: "name" [2940,2946]
                                    STRING [2947,2969]
                                        String: "Install dependencies" [2947,2969]
                                FIELD [2970,3010]
                                    String: "run" [2970,2975]
                                    STRING [2976,3010]
                                        String: "pip install flake8 black==21.8b0" [2976,3010]
                            OBJECT [3012,3055]
                                FIELD [3013,3032]
                                    String: "name" [3013,3019]
                                    STRING [3020,3032]
                                        String: "Run flake8" [3020,3032]
                                FIELD [3033,3054]
                                    String: "run" [3033,3038]
                                    STRING [3039,3054]
                                        String: "flake8 ramp-*" [3039,3054]
                            OBJECT [3056,3100]
                                FIELD [3057,3075]
                                    String: "name" [3057,3063]
                                    STRING [3064,3075]
                                        String: "Run black" [3064,3075]
                                FIELD [3076,3099]
                                    String: "run" [3076,3081]
                                    STRING [3082,3099]
                                        String: "black --check ." [3082,3099]