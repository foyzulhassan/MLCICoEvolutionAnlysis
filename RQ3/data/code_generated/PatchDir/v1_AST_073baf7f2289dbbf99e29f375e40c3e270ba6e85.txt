OBJECT [0,11312]
    FIELD [1,38]
        String: "name" [1,7]
        STRING [8,38]
            String: "Self-hosted runner (past-ci)" [8,38]
    FIELD [39,222]
        String: "on" [39,43]
        OBJECT [44,222]
            FIELD [45,221]
                String: "workflow_call" [45,60]
                OBJECT [61,221]
                    FIELD [62,220]
                        String: "inputs" [62,70]
                        OBJECT [71,220]
                            FIELD [72,117]
                                String: "framework" [72,83]
                                OBJECT [84,117]
                                    FIELD [85,100]
                                        String: "required" [85,95]
                                        TRUE [96,100]
                                    FIELD [101,116]
                                        String: "type" [101,107]
                                        STRING [108,116]
                                            String: "string" [108,116]
                            FIELD [118,161]
                                String: "version" [118,127]
                                OBJECT [128,161]
                                    FIELD [129,144]
                                        String: "required" [129,139]
                                        TRUE [140,144]
                                    FIELD [145,160]
                                        String: "type" [145,151]
                                        STRING [152,160]
                                            String: "string" [152,160]
                            FIELD [162,219]
                                String: "sha" [162,167]
                                OBJECT [168,219]
                                    FIELD [169,185]
                                        String: "default" [169,178]
                                        STRING [179,185]
                                            String: "main" [179,185]
                                    FIELD [186,202]
                                        String: "required" [186,196]
                                        FALSE [197,202]
                                    FIELD [203,218]
                                        String: "type" [203,209]
                                        STRING [210,218]
                                            String: "string" [210,218]
    FIELD [223,447]
        String: "env" [223,228]
        OBJECT [229,447]
            FIELD [230,252]
                String: "HF_HOME" [230,239]
                STRING [240,252]
                    String: "/mnt/cache" [240,252]
            FIELD [253,278]
                String: "TRANSFORMERS_IS_CI" [253,273]
                TRUE [274,278]
            FIELD [279,298]
                String: "OMP_NUM_THREADS" [279,296]
                NUMBER [297,298]
                    Number: 8 [297,298]
            FIELD [299,318]
                String: "MKL_NUM_THREADS" [299,316]
                NUMBER [317,318]
                    Number: 8 [317,318]
            FIELD [319,334]
                String: "RUN_SLOW" [319,329]
                TRUE [330,334]
            FIELD [335,387]
                String: "SIGOPT_API_TOKEN" [335,353]
                STRING [354,387]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [354,387]
            FIELD [388,420]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [388,415]
                TRUE [416,420]
            FIELD [421,446]
                String: "RUN_PT_TF_CROSS_TESTS" [421,444]
                NUMBER [445,446]
                    Number: 1 [445,446]
    FIELD [448,11311]
        String: "jobs" [448,454]
        OBJECT [455,11311]
            FIELD [456,839]
                String: "check_runner_status" [456,477]
                OBJECT [478,839]
                    FIELD [479,507]
                        String: "name" [479,485]
                        STRING [486,507]
                            String: "Check Runner Status" [486,507]
                    FIELD [508,533]
                        String: "runs-on" [508,517]
                        STRING [518,533]
                            String: "ubuntu-latest" [518,533]
                    FIELD [534,838]
                        String: "steps" [534,541]
                        ARRAY [542,838]
                            OBJECT [543,629]
                                FIELD [544,574]
                                    String: "name" [544,550]
                                    STRING [551,574]
                                        String: "Checkout transformers" [551,574]
                                FIELD [575,603]
                                    String: "uses" [575,581]
                                    STRING [582,603]
                                        String: "actions/checkout@v3" [582,603]
                                FIELD [604,628]
                                    String: "with" [604,610]
                                    OBJECT [611,628]
                                        FIELD [612,627]
                                            String: "fetch-depth" [612,625]
                                            NUMBER [626,627]
                                                Number: 2 [626,627]
                            OBJECT [630,837]
                                FIELD [631,659]
                                    String: "name" [631,637]
                                    STRING [638,659]
                                        String: "Check Runner Status" [638,659]
                                FIELD [660,836]
                                    String: "run" [660,665]
                                    STRING [666,836]
                                        String: "python utils/check_self_hosted_runner.py --target_runners single-gpu-past-ci-runner-docker,multi-gpu-past-ci-runner-docker --token ${{ secrets.ACCESS_REPO_INFO_TOKEN }}" [666,836]
            FIELD [840,1306]
                String: "check_runners" [840,855]
                OBJECT [856,1306]
                    FIELD [857,879]
                        String: "name" [857,863]
                        STRING [864,879]
                            String: "Check Runners" [864,879]
                    FIELD [880,909]
                        String: "needs" [880,887]
                        STRING [888,909]
                            String: "check_runner_status" [888,909]
                    FIELD [910,975]
                        String: "strategy" [910,920]
                        OBJECT [921,975]
                            FIELD [922,974]
                                String: "matrix" [922,930]
                                OBJECT [931,974]
                                    FIELD [932,973]
                                        String: "machine_type" [932,946]
                                        ARRAY [947,973]
                                            STRING [948,960]
                                                String: "single-gpu" [948,960]
                                            STRING [961,972]
                                                String: "multi-gpu" [961,972]
                    FIELD [976,1051]
                        String: "runs-on" [976,985]
                        STRING [986,1051]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker-past-ci') }}" [986,1051]
                    FIELD [1052,1252]
                        String: "container" [1052,1063]
                        OBJECT [1064,1252]
                            FIELD [1065,1154]
                                String: "image" [1065,1072]
                                STRING [1073,1154]
                                    String: "huggingface/transformers-${{ inputs.framework }}-past-${{ inputs.version }}-gpu" [1073,1154]
                            FIELD [1155,1251]
                                String: "options" [1155,1164]
                                STRING [1165,1251]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1165,1251]
                    FIELD [1253,1305]
                        String: "steps" [1253,1260]
                        ARRAY [1261,1305]
                            OBJECT [1262,1304]
                                FIELD [1263,1282]
                                    String: "name" [1263,1269]
                                    STRING [1270,1282]
                                        String: "NVIDIA-SMI" [1270,1282]
                                FIELD [1283,1303]
                                    String: "run" [1283,1288]
                                    STRING [1289,1303]
                                        String: "nvidia-smi\n" [1289,1303]
            FIELD [1307,2569]
                String: "setup" [1307,1314]
                OBJECT [1315,2569]
                    FIELD [1316,1330]
                        String: "name" [1316,1322]
                        STRING [1323,1330]
                            String: "Setup" [1323,1330]
                    FIELD [1331,1354]
                        String: "needs" [1331,1338]
                        STRING [1339,1354]
                            String: "check_runners" [1339,1354]
                    FIELD [1355,1420]
                        String: "strategy" [1355,1365]
                        OBJECT [1366,1420]
                            FIELD [1367,1419]
                                String: "matrix" [1367,1375]
                                OBJECT [1376,1419]
                                    FIELD [1377,1418]
                                        String: "machine_type" [1377,1391]
                                        ARRAY [1392,1418]
                                            STRING [1393,1405]
                                                String: "single-gpu" [1393,1405]
                                            STRING [1406,1417]
                                                String: "multi-gpu" [1406,1417]
                    FIELD [1421,1496]
                        String: "runs-on" [1421,1430]
                        STRING [1431,1496]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker-past-ci') }}" [1431,1496]
                    FIELD [1497,1697]
                        String: "container" [1497,1508]
                        OBJECT [1509,1697]
                            FIELD [1510,1599]
                                String: "image" [1510,1517]
                                STRING [1518,1599]
                                    String: "huggingface/transformers-${{ inputs.framework }}-past-${{ inputs.version }}-gpu" [1518,1599]
                            FIELD [1600,1696]
                                String: "options" [1600,1609]
                                STRING [1610,1696]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1610,1696]
                    FIELD [1698,1759]
                        String: "outputs" [1698,1707]
                        OBJECT [1708,1759]
                            FIELD [1709,1758]
                                String: "matrix" [1709,1717]
                                STRING [1718,1758]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [1718,1758]
                    FIELD [1760,2568]
                        String: "steps" [1760,1767]
                        ARRAY [1768,2568]
                            OBJECT [1769,1880]
                                FIELD [1770,1791]
                                    String: "name" [1770,1776]
                                    STRING [1777,1791]
                                        String: "Update clone" [1777,1791]
                                FIELD [1792,1827]
                                    String: "working-directory" [1792,1811]
                                    STRING [1812,1827]
                                        String: "/transformers" [1812,1827]
                                FIELD [1828,1879]
                                    String: "run" [1828,1833]
                                    STRING [1834,1879]
                                        String: "git fetch && git checkout ${{ inputs.sha }}" [1834,1879]
                            OBJECT [1881,2019]
                                FIELD [1882,1898]
                                    String: "name" [1882,1888]
                                    STRING [1889,1898]
                                        String: "Cleanup" [1889,1898]
                                FIELD [1899,1934]
                                    String: "working-directory" [1899,1918]
                                    STRING [1919,1934]
                                        String: "/transformers" [1919,1934]
                                FIELD [1935,2018]
                                    String: "run" [1935,1940]
                                    STRING [1941,2018]
                                        String: "rm -rf tests/__pycache__\nrm -rf tests/models/__pycache__\nrm -rf reports\n" [1941,2018]
                            OBJECT [2020,2129]
                                FIELD [2021,2073]
                                    String: "name" [2021,2027]
                                    STRING [2028,2073]
                                        String: "Show installed libraries and their versions" [2028,2073]
                                FIELD [2074,2109]
                                    String: "working-directory" [2074,2093]
                                    STRING [2094,2109]
                                        String: "/transformers" [2094,2109]
                                FIELD [2110,2128]
                                    String: "run" [2110,2115]
                                    STRING [2116,2128]
                                        String: "pip freeze" [2116,2128]
                            OBJECT [2130,2567]
                                FIELD [2131,2148]
                                    String: "id" [2131,2135]
                                    STRING [2136,2148]
                                        String: "set-matrix" [2136,2148]
                                FIELD [2149,2184]
                                    String: "working-directory" [2149,2168]
                                    STRING [2169,2184]
                                        String: "/transformers" [2169,2184]
                                FIELD [2185,2217]
                                    String: "name" [2185,2191]
                                    STRING [2192,2217]
                                        String: "Identify models to test" [2192,2217]
                                FIELD [2218,2566]
                                    String: "run" [2218,2223]
                                    STRING [2224,2566]
                                        String: "cd tests\necho \"matrix=$(python3 -c 'import os; tests = os.getcwd(); model_tests = os.listdir(os.path.join(tests, \"models\")); d1 = sorted(list(filter(os.path.isdir, os.listdir(tests)))); d2 = sorted(list(filter(os.path.isdir, [f\"models/{x}\" for x in model_tests]))); d1.remove(\"models\"); d = d2 + d1; print(d)')\" >> $GITHUB_OUTPUT\n" [2224,2566]
            FIELD [2570,4960]
                String: "run_tests_single_gpu" [2570,2592]
                OBJECT [2593,4960]
                    FIELD [2594,2614]
                        String: "name" [2594,2600]
                        STRING [2601,2614]
                            String: "Model tests" [2601,2614]
                    FIELD [2615,2742]
                        String: "strategy" [2615,2625]
                        OBJECT [2626,2742]
                            FIELD [2627,2644]
                                String: "fail-fast" [2627,2638]
                                FALSE [2639,2644]
                            FIELD [2645,2741]
                                String: "matrix" [2645,2653]
                                OBJECT [2654,2741]
                                    FIELD [2655,2710]
                                        String: "folders" [2655,2664]
                                        STRING [2665,2710]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [2665,2710]
                                    FIELD [2711,2740]
                                        String: "machine_type" [2711,2725]
                                        ARRAY [2726,2740]
                                            STRING [2727,2739]
                                                String: "single-gpu" [2727,2739]
                    FIELD [2743,2818]
                        String: "runs-on" [2743,2752]
                        STRING [2753,2818]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker-past-ci') }}" [2753,2818]
                    FIELD [2819,3019]
                        String: "container" [2819,2830]
                        OBJECT [2831,3019]
                            FIELD [2832,2921]
                                String: "image" [2832,2839]
                                STRING [2840,2921]
                                    String: "huggingface/transformers-${{ inputs.framework }}-past-${{ inputs.version }}-gpu" [2840,2921]
                            FIELD [2922,3018]
                                String: "options" [2922,2931]
                                STRING [2932,3018]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [2932,3018]
                    FIELD [3020,3035]
                        String: "needs" [3020,3027]
                        STRING [3028,3035]
                            String: "setup" [3028,3035]
                    FIELD [3036,4959]
                        String: "steps" [3036,3043]
                        ARRAY [3044,4959]
                            OBJECT [3045,3156]
                                FIELD [3046,3067]
                                    String: "name" [3046,3052]
                                    STRING [3053,3067]
                                        String: "Update clone" [3053,3067]
                                FIELD [3068,3103]
                                    String: "working-directory" [3068,3087]
                                    STRING [3088,3103]
                                        String: "/transformers" [3088,3103]
                                FIELD [3104,3155]
                                    String: "run" [3104,3109]
                                    STRING [3110,3155]
                                        String: "git fetch && git checkout ${{ inputs.sha }}" [3110,3155]
                            OBJECT [3157,3431]
                                FIELD [3158,3200]
                                    String: "name" [3158,3164]
                                    STRING [3165,3200]
                                        String: "Echo folder ${{ matrix.folders }}" [3165,3200]
                                FIELD [3201,3215]
                                    String: "shell" [3201,3208]
                                    STRING [3209,3215]
                                        String: "bash" [3209,3215]
                                FIELD [3216,3430]
                                    String: "run" [3216,3221]
                                    STRING [3222,3430]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [3222,3430]
                            OBJECT [3432,3474]
                                FIELD [3433,3452]
                                    String: "name" [3433,3439]
                                    STRING [3440,3452]
                                        String: "NVIDIA-SMI" [3440,3452]
                                FIELD [3453,3473]
                                    String: "run" [3453,3458]
                                    STRING [3459,3473]
                                        String: "nvidia-smi\n" [3459,3473]
                            OBJECT [3475,3680]
                                FIELD [3476,3492]
                                    String: "name" [3476,3482]
                                    STRING [3483,3492]
                                        String: "Install" [3483,3492]
                                FIELD [3493,3529]
                                    String: "if" [3493,3497]
                                    STRING [3498,3529]
                                        String: "inputs.framework == 'pytorch'" [3498,3529]
                                FIELD [3530,3565]
                                    String: "working-directory" [3530,3549]
                                    STRING [3550,3565]
                                        String: "/transformers" [3550,3565]
                                FIELD [3566,3679]
                                    String: "run" [3566,3571]
                                    STRING [3572,3679]
                                        String: "python3 -m pip install --no-cache-dir git+https://github.com/huggingface/accelerate@main#egg=accelerate\n" [3572,3679]
                            OBJECT [3681,3776]
                                FIELD [3682,3702]
                                    String: "name" [3682,3688]
                                    STRING [3689,3702]
                                        String: "Environment" [3689,3702]
                                FIELD [3703,3738]
                                    String: "working-directory" [3703,3722]
                                    STRING [3723,3738]
                                        String: "/transformers" [3723,3738]
                                FIELD [3739,3775]
                                    String: "run" [3739,3744]
                                    STRING [3745,3775]
                                        String: "python3 utils/print_env.py\n" [3745,3775]
                            OBJECT [3777,3886]
                                FIELD [3778,3830]
                                    String: "name" [3778,3784]
                                    STRING [3785,3830]
                                        String: "Show installed libraries and their versions" [3785,3830]
                                FIELD [3831,3866]
                                    String: "working-directory" [3831,3850]
                                    STRING [3851,3866]
                                        String: "/transformers" [3851,3866]
                                FIELD [3867,3885]
                                    String: "run" [3867,3872]
                                    STRING [3873,3885]
                                        String: "pip freeze" [3873,3885]
                            OBJECT [3887,4085]
                                FIELD [3888,3917]
                                    String: "name" [3888,3894]
                                    STRING [3895,3917]
                                        String: "Run all tests on GPU" [3895,3917]
                                FIELD [3918,3953]
                                    String: "working-directory" [3918,3937]
                                    STRING [3938,3953]
                                        String: "/transformers" [3938,3953]
                                FIELD [3954,4084]
                                    String: "run" [3954,3959]
                                    STRING [3960,4084]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [3960,4084]
                            OBJECT [4086,4279]
                                FIELD [4087,4117]
                                    String: "name" [4087,4093]
                                    STRING [4094,4117]
                                        String: "Failure short reports" [4094,4117]
                                FIELD [4118,4141]
                                    String: "if" [4118,4122]
                                    STRING [4123,4141]
                                        String: "${{ failure() }}" [4123,4141]
                                FIELD [4142,4166]
                                    String: "continue-on-error" [4142,4161]
                                    TRUE [4162,4166]
                                FIELD [4167,4278]
                                    String: "run" [4167,4172]
                                    STRING [4173,4278]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [4173,4278]
                            OBJECT [4280,4613]
                                FIELD [4281,4303]
                                    String: "name" [4281,4287]
                                    STRING [4288,4303]
                                        String: "Save job name" [4288,4303]
                                FIELD [4304,4326]
                                    String: "if" [4304,4308]
                                    STRING [4309,4326]
                                        String: "${{ always() }}" [4309,4326]
                                FIELD [4327,4341]
                                    String: "shell" [4327,4334]
                                    STRING [4335,4341]
                                        String: "bash" [4335,4341]
                                FIELD [4342,4612]
                                    String: "run" [4342,4347]
                                    STRING [4348,4612]
                                        String: "matrix_folders=${matrix_folders/'models_'/'models/'}\njob_name=\"Model tests ($matrix_folders, ${{ matrix.machine_type }})\"\necho \"$job_name\"\necho \"$job_name\" > /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/job_name.txt\n" [4348,4612]
                            OBJECT [4614,4958]
                                FIELD [4615,4652]
                                    String: "name" [4615,4621]
                                    STRING [4622,4652]
                                        String: "Test suite reports artifacts" [4622,4652]
                                FIELD [4653,4675]
                                    String: "if" [4653,4657]
                                    STRING [4658,4675]
                                        String: "${{ always() }}" [4658,4675]
                                FIELD [4676,4711]
                                    String: "uses" [4676,4682]
                                    STRING [4683,4711]
                                        String: "actions/upload-artifact@v3" [4683,4711]
                                FIELD [4712,4957]
                                    String: "with" [4712,4718]
                                    OBJECT [4719,4957]
                                        FIELD [4720,4866]
                                            String: "name" [4720,4726]
                                            STRING [4727,4866]
                                                String: "${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports_postfix_${{ inputs.framework }}-${{ inputs.version }}" [4727,4866]
                                        FIELD [4867,4956]
                                            String: "path" [4867,4873]
                                            STRING [4874,4956]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}" [4874,4956]
            FIELD [4961,7351]
                String: "run_tests_multi_gpu" [4961,4982]
                OBJECT [4983,7351]
                    FIELD [4984,5004]
                        String: "name" [4984,4990]
                        STRING [4991,5004]
                            String: "Model tests" [4991,5004]
                    FIELD [5005,5131]
                        String: "strategy" [5005,5015]
                        OBJECT [5016,5131]
                            FIELD [5017,5034]
                                String: "fail-fast" [5017,5028]
                                FALSE [5029,5034]
                            FIELD [5035,5130]
                                String: "matrix" [5035,5043]
                                OBJECT [5044,5130]
                                    FIELD [5045,5100]
                                        String: "folders" [5045,5054]
                                        STRING [5055,5100]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [5055,5100]
                                    FIELD [5101,5129]
                                        String: "machine_type" [5101,5115]
                                        ARRAY [5116,5129]
                                            STRING [5117,5128]
                                                String: "multi-gpu" [5117,5128]
                    FIELD [5132,5207]
                        String: "runs-on" [5132,5141]
                        STRING [5142,5207]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker-past-ci') }}" [5142,5207]
                    FIELD [5208,5410]
                        String: "container" [5208,5219]
                        OBJECT [5220,5410]
                            FIELD [5221,5310]
                                String: "image" [5221,5228]
                                STRING [5229,5310]
                                    String: "huggingface/transformers-${{ inputs.framework }}-past-${{ inputs.version }}-gpu" [5229,5310]
                            FIELD [5311,5409]
                                String: "options" [5311,5320]
                                STRING [5321,5409]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [5321,5409]
                    FIELD [5411,5426]
                        String: "needs" [5411,5418]
                        STRING [5419,5426]
                            String: "setup" [5419,5426]
                    FIELD [5427,7350]
                        String: "steps" [5427,5434]
                        ARRAY [5435,7350]
                            OBJECT [5436,5547]
                                FIELD [5437,5458]
                                    String: "name" [5437,5443]
                                    STRING [5444,5458]
                                        String: "Update clone" [5444,5458]
                                FIELD [5459,5494]
                                    String: "working-directory" [5459,5478]
                                    STRING [5479,5494]
                                        String: "/transformers" [5479,5494]
                                FIELD [5495,5546]
                                    String: "run" [5495,5500]
                                    STRING [5501,5546]
                                        String: "git fetch && git checkout ${{ inputs.sha }}" [5501,5546]
                            OBJECT [5548,5822]
                                FIELD [5549,5591]
                                    String: "name" [5549,5555]
                                    STRING [5556,5591]
                                        String: "Echo folder ${{ matrix.folders }}" [5556,5591]
                                FIELD [5592,5606]
                                    String: "shell" [5592,5599]
                                    STRING [5600,5606]
                                        String: "bash" [5600,5606]
                                FIELD [5607,5821]
                                    String: "run" [5607,5612]
                                    STRING [5613,5821]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [5613,5821]
                            OBJECT [5823,5865]
                                FIELD [5824,5843]
                                    String: "name" [5824,5830]
                                    STRING [5831,5843]
                                        String: "NVIDIA-SMI" [5831,5843]
                                FIELD [5844,5864]
                                    String: "run" [5844,5849]
                                    STRING [5850,5864]
                                        String: "nvidia-smi\n" [5850,5864]
                            OBJECT [5866,6071]
                                FIELD [5867,5883]
                                    String: "name" [5867,5873]
                                    STRING [5874,5883]
                                        String: "Install" [5874,5883]
                                FIELD [5884,5920]
                                    String: "if" [5884,5888]
                                    STRING [5889,5920]
                                        String: "inputs.framework == 'pytorch'" [5889,5920]
                                FIELD [5921,5956]
                                    String: "working-directory" [5921,5940]
                                    STRING [5941,5956]
                                        String: "/transformers" [5941,5956]
                                FIELD [5957,6070]
                                    String: "run" [5957,5962]
                                    STRING [5963,6070]
                                        String: "python3 -m pip install --no-cache-dir git+https://github.com/huggingface/accelerate@main#egg=accelerate\n" [5963,6070]
                            OBJECT [6072,6167]
                                FIELD [6073,6093]
                                    String: "name" [6073,6079]
                                    STRING [6080,6093]
                                        String: "Environment" [6080,6093]
                                FIELD [6094,6129]
                                    String: "working-directory" [6094,6113]
                                    STRING [6114,6129]
                                        String: "/transformers" [6114,6129]
                                FIELD [6130,6166]
                                    String: "run" [6130,6135]
                                    STRING [6136,6166]
                                        String: "python3 utils/print_env.py\n" [6136,6166]
                            OBJECT [6168,6277]
                                FIELD [6169,6221]
                                    String: "name" [6169,6175]
                                    STRING [6176,6221]
                                        String: "Show installed libraries and their versions" [6176,6221]
                                FIELD [6222,6257]
                                    String: "working-directory" [6222,6241]
                                    STRING [6242,6257]
                                        String: "/transformers" [6242,6257]
                                FIELD [6258,6276]
                                    String: "run" [6258,6263]
                                    STRING [6264,6276]
                                        String: "pip freeze" [6264,6276]
                            OBJECT [6278,6476]
                                FIELD [6279,6308]
                                    String: "name" [6279,6285]
                                    STRING [6286,6308]
                                        String: "Run all tests on GPU" [6286,6308]
                                FIELD [6309,6344]
                                    String: "working-directory" [6309,6328]
                                    STRING [6329,6344]
                                        String: "/transformers" [6329,6344]
                                FIELD [6345,6475]
                                    String: "run" [6345,6350]
                                    STRING [6351,6475]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [6351,6475]
                            OBJECT [6477,6670]
                                FIELD [6478,6508]
                                    String: "name" [6478,6484]
                                    STRING [6485,6508]
                                        String: "Failure short reports" [6485,6508]
                                FIELD [6509,6532]
                                    String: "if" [6509,6513]
                                    STRING [6514,6532]
                                        String: "${{ failure() }}" [6514,6532]
                                FIELD [6533,6557]
                                    String: "continue-on-error" [6533,6552]
                                    TRUE [6553,6557]
                                FIELD [6558,6669]
                                    String: "run" [6558,6563]
                                    STRING [6564,6669]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [6564,6669]
                            OBJECT [6671,7004]
                                FIELD [6672,6694]
                                    String: "name" [6672,6678]
                                    STRING [6679,6694]
                                        String: "Save job name" [6679,6694]
                                FIELD [6695,6717]
                                    String: "if" [6695,6699]
                                    STRING [6700,6717]
                                        String: "${{ always() }}" [6700,6717]
                                FIELD [6718,6732]
                                    String: "shell" [6718,6725]
                                    STRING [6726,6732]
                                        String: "bash" [6726,6732]
                                FIELD [6733,7003]
                                    String: "run" [6733,6738]
                                    STRING [6739,7003]
                                        String: "matrix_folders=${matrix_folders/'models_'/'models/'}\njob_name=\"Model tests ($matrix_folders, ${{ matrix.machine_type }})\"\necho \"$job_name\"\necho \"$job_name\" > /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/job_name.txt\n" [6739,7003]
                            OBJECT [7005,7349]
                                FIELD [7006,7043]
                                    String: "name" [7006,7012]
                                    STRING [7013,7043]
                                        String: "Test suite reports artifacts" [7013,7043]
                                FIELD [7044,7066]
                                    String: "if" [7044,7048]
                                    STRING [7049,7066]
                                        String: "${{ always() }}" [7049,7066]
                                FIELD [7067,7102]
                                    String: "uses" [7067,7073]
                                    STRING [7074,7102]
                                        String: "actions/upload-artifact@v3" [7074,7102]
                                FIELD [7103,7348]
                                    String: "with" [7103,7109]
                                    OBJECT [7110,7348]
                                        FIELD [7111,7257]
                                            String: "name" [7111,7117]
                                            STRING [7118,7257]
                                                String: "${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports_postfix_${{ inputs.framework }}-${{ inputs.version }}" [7118,7257]
                                        FIELD [7258,7347]
                                            String: "path" [7258,7264]
                                            STRING [7265,7347]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}" [7265,7347]
            FIELD [7352,9609]
                String: "run_all_tests_torch_cuda_extensions_gpu" [7352,7393]
                OBJECT [7394,9609]
                    FIELD [7395,7430]
                        String: "name" [7395,7401]
                        STRING [7402,7430]
                            String: "Torch CUDA extension tests" [7402,7430]
                    FIELD [7431,7467]
                        String: "if" [7431,7435]
                        STRING [7436,7467]
                            String: "inputs.framework == 'pytorch'" [7436,7467]
                    FIELD [7468,7551]
                        String: "strategy" [7468,7478]
                        OBJECT [7479,7551]
                            FIELD [7480,7497]
                                String: "fail-fast" [7480,7491]
                                FALSE [7492,7497]
                            FIELD [7498,7550]
                                String: "matrix" [7498,7506]
                                OBJECT [7507,7550]
                                    FIELD [7508,7549]
                                        String: "machine_type" [7508,7522]
                                        ARRAY [7523,7549]
                                            STRING [7524,7536]
                                                String: "single-gpu" [7524,7536]
                                            STRING [7537,7548]
                                                String: "multi-gpu" [7537,7548]
                    FIELD [7552,7627]
                        String: "runs-on" [7552,7561]
                        STRING [7562,7627]
                            String: "${{ format('{0}-{1}', matrix.machine_type, 'docker-past-ci') }}" [7562,7627]
                    FIELD [7628,7643]
                        String: "needs" [7628,7635]
                        STRING [7636,7643]
                            String: "setup" [7636,7643]
                    FIELD [7644,7846]
                        String: "container" [7644,7655]
                        OBJECT [7656,7846]
                            FIELD [7657,7746]
                                String: "image" [7657,7664]
                                STRING [7665,7746]
                                    String: "huggingface/transformers-${{ inputs.framework }}-past-${{ inputs.version }}-gpu" [7665,7746]
                            FIELD [7747,7845]
                                String: "options" [7747,7756]
                                STRING [7757,7845]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [7757,7845]
                    FIELD [7847,9608]
                        String: "steps" [7847,7854]
                        ARRAY [7855,9608]
                            OBJECT [7856,7967]
                                FIELD [7857,7878]
                                    String: "name" [7857,7863]
                                    STRING [7864,7878]
                                        String: "Update clone" [7864,7878]
                                FIELD [7879,7914]
                                    String: "working-directory" [7879,7898]
                                    STRING [7899,7914]
                                        String: "/transformers" [7899,7914]
                                FIELD [7915,7966]
                                    String: "run" [7915,7920]
                                    STRING [7921,7966]
                                        String: "git fetch && git checkout ${{ github.sha }}" [7921,7966]
                            OBJECT [7968,8136]
                                FIELD [7969,7985]
                                    String: "name" [7969,7975]
                                    STRING [7976,7985]
                                        String: "Install" [7976,7985]
                                FIELD [7986,8021]
                                    String: "working-directory" [7986,8005]
                                    STRING [8006,8021]
                                        String: "/transformers" [8006,8021]
                                FIELD [8022,8135]
                                    String: "run" [8022,8027]
                                    STRING [8028,8135]
                                        String: "python3 -m pip install --no-cache-dir git+https://github.com/huggingface/accelerate@main#egg=accelerate\n" [8028,8135]
                            OBJECT [8137,8231]
                                FIELD [8138,8177]
                                    String: "name" [8138,8144]
                                    STRING [8145,8177]
                                        String: "Remove cached torch extensions" [8145,8177]
                                FIELD [8178,8230]
                                    String: "run" [8178,8183]
                                    STRING [8184,8230]
                                        String: "rm -rf /github/home/.cache/torch_extensions/" [8184,8230]
                            OBJECT [8232,8623]
                                FIELD [8233,8269]
                                    String: "name" [8233,8239]
                                    STRING [8240,8269]
                                        String: "Pre build DeepSpeed *again*" [8240,8269]
                                FIELD [8270,8293]
                                    String: "working-directory" [8270,8289]
                                    STRING [8290,8293]
                                        String: "/" [8290,8293]
                                FIELD [8294,8622]
                                    String: "run" [8294,8299]
                                    STRING [8300,8622]
                                        String: "python3 -m pip uninstall -y deepspeed\nrm -rf DeepSpeed\ngit clone https://github.com/microsoft/DeepSpeed && cd DeepSpeed && rm -rf build\nDS_BUILD_CPU_ADAM=1 DS_BUILD_FUSED_ADAM=1 DS_BUILD_UTILS=1 python3 -m pip install . --global-option=\"build_ext\" --global-option=\"-j8\" --no-cache -v --disable-pip-version-check\n" [8300,8622]
                            OBJECT [8624,8666]
                                FIELD [8625,8644]
                                    String: "name" [8625,8631]
                                    STRING [8632,8644]
                                        String: "NVIDIA-SMI" [8632,8644]
                                FIELD [8645,8665]
                                    String: "run" [8645,8650]
                                    STRING [8651,8665]
                                        String: "nvidia-smi\n" [8651,8665]
                            OBJECT [8667,8762]
                                FIELD [8668,8688]
                                    String: "name" [8668,8674]
                                    STRING [8675,8688]
                                        String: "Environment" [8675,8688]
                                FIELD [8689,8724]
                                    String: "working-directory" [8689,8708]
                                    STRING [8709,8724]
                                        String: "/transformers" [8709,8724]
                                FIELD [8725,8761]
                                    String: "run" [8725,8730]
                                    STRING [8731,8761]
                                        String: "python3 utils/print_env.py\n" [8731,8761]
                            OBJECT [8763,8872]
                                FIELD [8764,8816]
                                    String: "name" [8764,8770]
                                    STRING [8771,8816]
                                        String: "Show installed libraries and their versions" [8771,8816]
                                FIELD [8817,8852]
                                    String: "working-directory" [8817,8836]
                                    STRING [8837,8852]
                                        String: "/transformers" [8837,8852]
                                FIELD [8853,8871]
                                    String: "run" [8853,8858]
                                    STRING [8859,8871]
                                        String: "pip freeze" [8859,8871]
                            OBJECT [8873,9076]
                                FIELD [8874,8903]
                                    String: "name" [8874,8880]
                                    STRING [8881,8903]
                                        String: "Run all tests on GPU" [8881,8903]
                                FIELD [8904,8939]
                                    String: "working-directory" [8904,8923]
                                    STRING [8924,8939]
                                        String: "/transformers" [8924,8939]
                                FIELD [8940,9075]
                                    String: "run" [8940,8945]
                                    STRING [8946,9075]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [8946,9075]
                            OBJECT [9077,9270]
                                FIELD [9078,9108]
                                    String: "name" [9078,9084]
                                    STRING [9085,9108]
                                        String: "Failure short reports" [9085,9108]
                                FIELD [9109,9132]
                                    String: "if" [9109,9113]
                                    STRING [9114,9132]
                                        String: "${{ failure() }}" [9114,9132]
                                FIELD [9133,9157]
                                    String: "continue-on-error" [9133,9152]
                                    TRUE [9153,9157]
                                FIELD [9158,9269]
                                    String: "run" [9158,9163]
                                    STRING [9164,9269]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu/failures_short.txt" [9164,9269]
                            OBJECT [9271,9607]
                                FIELD [9272,9309]
                                    String: "name" [9272,9278]
                                    STRING [9279,9309]
                                        String: "Test suite reports artifacts" [9279,9309]
                                FIELD [9310,9332]
                                    String: "if" [9310,9314]
                                    STRING [9315,9332]
                                        String: "${{ always() }}" [9315,9332]
                                FIELD [9333,9368]
                                    String: "uses" [9333,9339]
                                    STRING [9340,9368]
                                        String: "actions/upload-artifact@v3" [9340,9368]
                                FIELD [9369,9606]
                                    String: "with" [9369,9375]
                                    OBJECT [9376,9606]
                                        FIELD [9377,9515]
                                            String: "name" [9377,9383]
                                            STRING [9384,9515]
                                                String: "${{ matrix.machine_type }}_run_tests_torch_cuda_extensions_gpu_test_reports_postfix_${{ inputs.framework }}-${{ inputs.version }}" [9384,9515]
                                        FIELD [9516,9605]
                                            String: "path" [9516,9522]
                                            STRING [9523,9605]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_torch_cuda_extensions_gpu" [9523,9605]
            FIELD [9610,11310]
                String: "send_results" [9610,9624]
                OBJECT [9625,11310]
                    FIELD [9626,9658]
                        String: "name" [9626,9632]
                        STRING [9633,9658]
                            String: "Send results to webhook" [9633,9658]
                    FIELD [9659,9684]
                        String: "runs-on" [9659,9668]
                        STRING [9669,9684]
                            String: "ubuntu-latest" [9669,9684]
                    FIELD [9685,9700]
                        String: "if" [9685,9689]
                        STRING [9690,9700]
                            String: "always()" [9690,9700]
                    FIELD [9701,9843]
                        String: "needs" [9701,9708]
                        ARRAY [9709,9843]
                            STRING [9710,9731]
                                String: "check_runner_status" [9710,9731]
                            STRING [9732,9747]
                                String: "check_runners" [9732,9747]
                            STRING [9748,9755]
                                String: "setup" [9748,9755]
                            STRING [9756,9778]
                                String: "run_tests_single_gpu" [9756,9778]
                            STRING [9779,9800]
                                String: "run_tests_multi_gpu" [9779,9800]
                            STRING [9801,9842]
                                String: "run_all_tests_torch_cuda_extensions_gpu" [9801,9842]
                    FIELD [9844,11309]
                        String: "steps" [9844,9851]
                        ARRAY [9852,11309]
                            OBJECT [9853,10090]
                                FIELD [9854,9885]
                                    String: "name" [9854,9860]
                                    STRING [9861,9885]
                                        String: "Preliminary job status" [9861,9885]
                                FIELD [9886,9900]
                                    String: "shell" [9886,9893]
                                    STRING [9894,9900]
                                        String: "bash" [9894,9900]
                                FIELD [9901,10089]
                                    String: "run" [9901,9906]
                                    STRING [9907,10089]
                                        String: "echo \"Runner availability: ${{ needs.check_runner_status.result }}\"\necho \"Runner status: ${{ needs.check_runners.result }}\"\necho \"Setup status: ${{ needs.setup.result }}\"\n" [9907,10089]
                            OBJECT [10091,10121]
                                FIELD [10092,10120]
                                    String: "uses" [10092,10098]
                                    STRING [10099,10120]
                                        String: "actions/checkout@v3" [10099,10120]
                            OBJECT [10122,10161]
                                FIELD [10123,10160]
                                    String: "uses" [10123,10129]
                                    STRING [10130,10160]
                                        String: "actions/download-artifact@v3" [10130,10160]
                            OBJECT [10162,10223]
                                FIELD [10163,10188]
                                    String: "name" [10163,10169]
                                    STRING [10170,10188]
                                        String: "Create directory" [10170,10188]
                                FIELD [10189,10222]
                                    String: "run" [10189,10194]
                                    STRING [10195,10222]
                                        String: "mkdir test_failure_tables" [10195,10222]
                            OBJECT [10224,11025]
                                FIELD [10225,10255]
                                    String: "name" [10225,10231]
                                    STRING [10232,10255]
                                        String: "Send message to Slack" [10232,10255]
                                FIELD [10256,10896]
                                    String: "env" [10256,10261]
                                    OBJECT [10262,10896]
                                        FIELD [10263,10319]
                                            String: "CI_SLACK_BOT_TOKEN" [10263,10283]
                                            STRING [10284,10319]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [10284,10319]
                                        FIELD [10320,10378]
                                            String: "CI_SLACK_CHANNEL_ID" [10320,10341]
                                            STRING [10342,10378]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [10342,10378]
                                        FIELD [10379,10449]
                                            String: "CI_SLACK_CHANNEL_ID_DAILY" [10379,10406]
                                            STRING [10407,10449]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY }}" [10407,10449]
                                        FIELD [10450,10526]
                                            String: "CI_SLACK_CHANNEL_DUMMY_TESTS" [10450,10480]
                                            STRING [10481,10526]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_DUMMY_TESTS }}" [10481,10526]
                                        FIELD [10527,10604]
                                            String: "CI_SLACK_REPORT_CHANNEL_ID" [10527,10555]
                                            STRING [10556,10604]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_PAST_FUTURE }}" [10556,10604]
                                        FIELD [10605,10669]
                                            String: "ACCESS_REPO_INFO_TOKEN" [10605,10629]
                                            STRING [10630,10669]
                                                String: "${{ secrets.ACCESS_REPO_INFO_TOKEN }}" [10630,10669]
                                        FIELD [10670,10738]
                                            String: "CI_EVENT" [10670,10680]
                                            STRING [10681,10738]
                                                String: "Past CI - ${{ inputs.framework }}-${{ inputs.version }}" [10681,10738]
                                        FIELD [10739,10796]
                                            String: "RUNNER_STATUS" [10739,10754]
                                            STRING [10755,10796]
                                                String: "${{ needs.check_runner_status.result }}" [10755,10796]
                                        FIELD [10797,10852]
                                            String: "RUNNER_ENV_STATUS" [10797,10816]
                                            STRING [10817,10852]
                                                String: "${{ needs.check_runners.result }}" [10817,10852]
                                        FIELD [10853,10895]
                                            String: "SETUP_STATUS" [10853,10867]
                                            STRING [10868,10895]
                                                String: "${{ needs.setup.result }}" [10868,10895]
                                FIELD [10897,11024]
                                    String: "run" [10897,10902]
                                    STRING [10903,11024]
                                        String: "pip install slack_sdk\npip show slack_sdk\npython utils/notification_service.py \"${{ needs.setup.outputs.matrix }}\"\n" [10903,11024]
                            OBJECT [11026,11232]
                                FIELD [11027,11059]
                                    String: "name" [11027,11033]
                                    STRING [11034,11059]
                                        String: "Failure table artifacts" [11034,11059]
                                FIELD [11060,11082]
                                    String: "if" [11060,11064]
                                    STRING [11065,11082]
                                        String: "${{ always() }}" [11065,11082]
                                FIELD [11083,11118]
                                    String: "uses" [11083,11089]
                                    STRING [11090,11118]
                                        String: "actions/upload-artifact@v3" [11090,11118]
                                FIELD [11119,11231]
                                    String: "with" [11119,11125]
                                    OBJECT [11126,11231]
                                        FIELD [11127,11201]
                                            String: "name" [11127,11133]
                                            STRING [11134,11201]
                                                String: "test_failure_tables_${{ inputs.framework }}-${{ inputs.version }}" [11134,11201]
                                        FIELD [11202,11230]
                                            String: "path" [11202,11208]
                                            STRING [11209,11230]
                                                String: "test_failure_tables" [11209,11230]
                            OBJECT [11233,11308]
                                FIELD [11234,11271]
                                    String: "uses" [11234,11240]
                                    STRING [11241,11271]
                                        String: "geekyeggo/delete-artifact@v2" [11241,11271]
                                FIELD [11272,11307]
                                    String: "with" [11272,11278]
                                    OBJECT [11279,11307]
                                        FIELD [11280,11306]
                                            String: "name" [11280,11286]
                                            STRING [11287,11306]
                                                String: "single-*\nmulti-*" [11287,11306]