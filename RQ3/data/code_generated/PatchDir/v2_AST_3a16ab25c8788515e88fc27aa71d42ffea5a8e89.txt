OBJECT [0,8450]
    FIELD [1,40]
        String: "name" [1,7]
        STRING [8,40]
            String: "Self-hosted runner (scheduled)" [8,40]
    FIELD [41,108]
        String: "on" [41,45]
        OBJECT [46,108]
            FIELD [47,73]
                String: "repository_dispatch" [47,68]
                NULL [69,73]
            FIELD [74,107]
                String: "schedule" [74,84]
                ARRAY [85,107]
                    OBJECT [86,106]
                        FIELD [87,105]
                            String: "cron" [87,93]
                            STRING [94,105]
                                String: "0 2 * * *" [94,105]
    FIELD [109,333]
        String: "env" [109,114]
        OBJECT [115,333]
            FIELD [116,138]
                String: "HF_HOME" [116,125]
                STRING [126,138]
                    String: "/mnt/cache" [126,138]
            FIELD [139,164]
                String: "TRANSFORMERS_IS_CI" [139,159]
                TRUE [160,164]
            FIELD [165,184]
                String: "OMP_NUM_THREADS" [165,182]
                NUMBER [183,184]
                    Number: 8 [183,184]
            FIELD [185,204]
                String: "MKL_NUM_THREADS" [185,202]
                NUMBER [203,204]
                    Number: 8 [203,204]
            FIELD [205,220]
                String: "RUN_SLOW" [205,215]
                TRUE [216,220]
            FIELD [221,273]
                String: "SIGOPT_API_TOKEN" [221,239]
                STRING [240,273]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [240,273]
            FIELD [274,306]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [274,301]
                TRUE [302,306]
            FIELD [307,332]
                String: "RUN_PT_TF_CROSS_TESTS" [307,330]
                NUMBER [331,332]
                    Number: 1 [331,332]
    FIELD [334,8449]
        String: "jobs" [334,340]
        OBJECT [341,8449]
            FIELD [342,1596]
                String: "setup" [342,349]
                OBJECT [350,1596]
                    FIELD [351,365]
                        String: "name" [351,357]
                        STRING [358,365]
                            String: "Setup" [358,365]
                    FIELD [366,441]
                        String: "strategy" [366,376]
                        OBJECT [377,441]
                            FIELD [378,440]
                                String: "matrix" [378,386]
                                OBJECT [387,440]
                                    FIELD [388,439]
                                        String: "machines" [388,398]
                                        ARRAY [399,439]
                                            STRING [400,418]
                                                String: "multi-gpu-docker" [400,418]
                                            STRING [419,438]
                                                String: "single-gpu-docker" [419,438]
                    FIELD [442,476]
                        String: "runs-on" [442,451]
                        STRING [452,476]
                            String: "${{ matrix.machines }}" [452,476]
                    FIELD [477,637]
                        String: "container" [477,488]
                        OBJECT [489,637]
                            FIELD [490,539]
                                String: "image" [490,497]
                                STRING [498,539]
                                    String: "huggingface/transformers-all-latest-gpu" [498,539]
                            FIELD [540,636]
                                String: "options" [540,549]
                                STRING [550,636]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [550,636]
                    FIELD [638,699]
                        String: "outputs" [638,647]
                        OBJECT [648,699]
                            FIELD [649,698]
                                String: "matrix" [649,657]
                                STRING [658,698]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [658,698]
                    FIELD [700,1595]
                        String: "steps" [700,707]
                        ARRAY [708,1595]
                            OBJECT [709,822]
                                FIELD [710,731]
                                    String: "name" [710,716]
                                    STRING [717,731]
                                        String: "Update clone" [717,731]
                                FIELD [732,767]
                                    String: "working-directory" [732,751]
                                    STRING [752,767]
                                        String: "/transformers" [752,767]
                                FIELD [768,821]
                                    String: "run" [768,773]
                                    STRING [774,821]
                                        String: "git fetch && git checkout ${{ github.sha }}\n" [774,821]
                            OBJECT [823,928]
                                FIELD [824,840]
                                    String: "name" [824,830]
                                    STRING [831,840]
                                        String: "Cleanup" [831,840]
                                FIELD [841,876]
                                    String: "working-directory" [841,860]
                                    STRING [861,876]
                                        String: "/transformers" [861,876]
                                FIELD [877,927]
                                    String: "run" [877,882]
                                    STRING [883,927]
                                        String: "rm -rf tests/__pycache__\nrm -rf reports\n" [883,927]
                            OBJECT [929,1172]
                                FIELD [930,947]
                                    String: "id" [930,934]
                                    STRING [935,947]
                                        String: "set-matrix" [935,947]
                                FIELD [948,980]
                                    String: "name" [948,954]
                                    STRING [955,980]
                                        String: "Identify models to test" [955,980]
                                FIELD [981,1022]
                                    String: "working-directory" [981,1000]
                                    STRING [1001,1022]
                                        String: "/transformers/tests" [1001,1022]
                                FIELD [1023,1171]
                                    String: "run" [1023,1028]
                                    STRING [1029,1171]
                                        String: "echo \"::set-output name=matrix::$(python3 -c 'import os; x = list(filter(os.path.isdir, os.listdir(os.getcwd()))); x.sort(); print(x)')\"\n" [1029,1171]
                            OBJECT [1173,1215]
                                FIELD [1174,1193]
                                    String: "name" [1174,1180]
                                    STRING [1181,1193]
                                        String: "NVIDIA-SMI" [1181,1193]
                                FIELD [1194,1214]
                                    String: "run" [1194,1199]
                                    STRING [1200,1214]
                                        String: "nvidia-smi\n" [1200,1214]
                            OBJECT [1216,1594]
                                FIELD [1217,1240]
                                    String: "name" [1217,1223]
                                    STRING [1224,1240]
                                        String: "GPU visibility" [1224,1240]
                                FIELD [1241,1276]
                                    String: "working-directory" [1241,1260]
                                    STRING [1261,1276]
                                        String: "/transformers" [1261,1276]
                                FIELD [1277,1593]
                                    String: "run" [1277,1282]
                                    STRING [1283,1593]
                                        String: "utils/print_env_pt.py\nTF_CPP_MIN_LOG_LEVEL=3 python3 -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python3 -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [1283,1593]
            FIELD [1597,2867]
                String: "run_tests_gpu" [1597,1612]
                OBJECT [1613,2867]
                    FIELD [1614,1634]
                        String: "name" [1614,1620]
                        STRING [1621,1634]
                            String: "Model tests" [1621,1634]
                    FIELD [1635,1784]
                        String: "strategy" [1635,1645]
                        OBJECT [1646,1784]
                            FIELD [1647,1664]
                                String: "fail-fast" [1647,1658]
                                FALSE [1659,1664]
                            FIELD [1665,1783]
                                String: "matrix" [1665,1673]
                                OBJECT [1674,1783]
                                    FIELD [1675,1730]
                                        String: "folders" [1675,1684]
                                        STRING [1685,1730]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [1685,1730]
                                    FIELD [1731,1782]
                                        String: "machines" [1731,1741]
                                        ARRAY [1742,1782]
                                            STRING [1743,1761]
                                                String: "multi-gpu-docker" [1743,1761]
                                            STRING [1762,1781]
                                                String: "single-gpu-docker" [1762,1781]
                    FIELD [1785,1819]
                        String: "runs-on" [1785,1794]
                        STRING [1795,1819]
                            String: "${{ matrix.machines }}" [1795,1819]
                    FIELD [1820,1980]
                        String: "container" [1820,1831]
                        OBJECT [1832,1980]
                            FIELD [1833,1882]
                                String: "image" [1833,1840]
                                STRING [1841,1882]
                                    String: "huggingface/transformers-all-latest-gpu" [1841,1882]
                            FIELD [1883,1979]
                                String: "options" [1883,1892]
                                STRING [1893,1979]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1893,1979]
                    FIELD [1981,1996]
                        String: "needs" [1981,1988]
                        STRING [1989,1996]
                            String: "setup" [1989,1996]
                    FIELD [1997,2866]
                        String: "steps" [1997,2004]
                        ARRAY [2005,2866]
                            OBJECT [2006,2089]
                                FIELD [2007,2049]
                                    String: "name" [2007,2013]
                                    STRING [2014,2049]
                                        String: "Echo folder ${{ matrix.folders }}" [2014,2049]
                                FIELD [2050,2088]
                                    String: "run" [2050,2055]
                                    STRING [2056,2088]
                                        String: "echo \"${{ matrix.folders }}\"" [2056,2088]
                            OBJECT [2090,2201]
                                FIELD [2091,2112]
                                    String: "name" [2091,2097]
                                    STRING [2098,2112]
                                        String: "Update clone" [2098,2112]
                                FIELD [2113,2148]
                                    String: "working-directory" [2113,2132]
                                    STRING [2133,2148]
                                        String: "/transformers" [2133,2148]
                                FIELD [2149,2200]
                                    String: "run" [2149,2154]
                                    STRING [2155,2200]
                                        String: "git fetch && git checkout ${{ github.sha }}" [2155,2200]
                            OBJECT [2202,2396]
                                FIELD [2203,2232]
                                    String: "name" [2203,2209]
                                    STRING [2210,2232]
                                        String: "Run all tests on GPU" [2210,2232]
                                FIELD [2233,2268]
                                    String: "working-directory" [2233,2252]
                                    STRING [2253,2268]
                                        String: "/transformers" [2253,2268]
                                FIELD [2269,2395]
                                    String: "run" [2269,2274]
                                    STRING [2275,2395]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machines }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [2275,2395]
                            OBJECT [2397,2586]
                                FIELD [2398,2428]
                                    String: "name" [2398,2404]
                                    STRING [2405,2428]
                                        String: "Failure short reports" [2405,2428]
                                FIELD [2429,2452]
                                    String: "if" [2429,2433]
                                    STRING [2434,2452]
                                        String: "${{ failure() }}" [2434,2452]
                                FIELD [2453,2477]
                                    String: "continue-on-error" [2453,2472]
                                    TRUE [2473,2477]
                                FIELD [2478,2585]
                                    String: "run" [2478,2483]
                                    STRING [2484,2585]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [2484,2585]
                            OBJECT [2587,2865]
                                FIELD [2588,2625]
                                    String: "name" [2588,2594]
                                    STRING [2595,2625]
                                        String: "Test suite reports artifacts" [2595,2625]
                                FIELD [2626,2648]
                                    String: "if" [2626,2630]
                                    STRING [2631,2648]
                                        String: "${{ always() }}" [2631,2648]
                                FIELD [2649,2684]
                                    String: "uses" [2649,2655]
                                    STRING [2656,2684]
                                        String: "actions/upload-artifact@v2" [2656,2684]
                                FIELD [2685,2864]
                                    String: "with" [2685,2691]
                                    OBJECT [2692,2864]
                                        FIELD [2693,2777]
                                            String: "name" [2693,2699]
                                            STRING [2700,2777]
                                                String: "${{ matrix.machines }}_run_all_tests_gpu_${{ matrix.folders }}_test_reports" [2700,2777]
                                        FIELD [2778,2863]
                                            String: "path" [2778,2784]
                                            STRING [2785,2863]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_gpu_${{ matrix.folders }}" [2785,2863]
            FIELD [2868,3793]
                String: "run_examples_gpu" [2868,2886]
                OBJECT [2887,3793]
                    FIELD [2888,2915]
                        String: "name" [2888,2894]
                        STRING [2895,2915]
                            String: "Examples directory" [2895,2915]
                    FIELD [2916,2961]
                        String: "runs-on" [2916,2925]
                        ARRAY [2926,2961]
                            STRING [2927,2940]
                                String: "self-hosted" [2927,2940]
                            STRING [2941,2960]
                                String: "single-gpu-docker" [2941,2960]
                    FIELD [2962,3122]
                        String: "container" [2962,2973]
                        OBJECT [2974,3122]
                            FIELD [2975,3024]
                                String: "image" [2975,2982]
                                STRING [2983,3024]
                                    String: "huggingface/transformers-all-latest-gpu" [2983,3024]
                            FIELD [3025,3121]
                                String: "options" [3025,3034]
                                STRING [3035,3121]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [3035,3121]
                    FIELD [3123,3138]
                        String: "needs" [3123,3130]
                        STRING [3131,3138]
                            String: "setup" [3131,3138]
                    FIELD [3139,3792]
                        String: "steps" [3139,3146]
                        ARRAY [3147,3792]
                            OBJECT [3148,3259]
                                FIELD [3149,3170]
                                    String: "name" [3149,3155]
                                    STRING [3156,3170]
                                        String: "Update clone" [3156,3170]
                                FIELD [3171,3206]
                                    String: "working-directory" [3171,3190]
                                    STRING [3191,3206]
                                        String: "/transformers" [3191,3206]
                                FIELD [3207,3258]
                                    String: "run" [3207,3212]
                                    STRING [3213,3258]
                                        String: "git fetch && git checkout ${{ github.sha }}" [3213,3258]
                            OBJECT [3260,3465]
                                FIELD [3261,3295]
                                    String: "name" [3261,3267]
                                    STRING [3268,3295]
                                        String: "Run examples tests on GPU" [3268,3295]
                                FIELD [3296,3331]
                                    String: "working-directory" [3296,3315]
                                    STRING [3316,3331]
                                        String: "/transformers" [3316,3331]
                                FIELD [3332,3464]
                                    String: "run" [3332,3337]
                                    STRING [3338,3464]
                                        String: "pip install -r examples/pytorch/_tests_requirements.txt\npython3 -m pytest -v --make-reports=examples_gpu examples/pytorch\n" [3338,3464]
                            OBJECT [3466,3613]
                                FIELD [3467,3497]
                                    String: "name" [3467,3473]
                                    STRING [3474,3497]
                                        String: "Failure short reports" [3474,3497]
                                FIELD [3498,3521]
                                    String: "if" [3498,3502]
                                    STRING [3503,3521]
                                        String: "${{ failure() }}" [3503,3521]
                                FIELD [3522,3546]
                                    String: "continue-on-error" [3522,3541]
                                    TRUE [3542,3546]
                                FIELD [3547,3612]
                                    String: "run" [3547,3552]
                                    STRING [3553,3612]
                                        String: "cat /transformers/reports/examples_gpu/failures_short.txt" [3553,3612]
                            OBJECT [3614,3791]
                                FIELD [3615,3652]
                                    String: "name" [3615,3621]
                                    STRING [3622,3652]
                                        String: "Test suite reports artifacts" [3622,3652]
                                FIELD [3653,3675]
                                    String: "if" [3653,3657]
                                    STRING [3658,3675]
                                        String: "${{ always() }}" [3658,3675]
                                FIELD [3676,3711]
                                    String: "uses" [3676,3682]
                                    STRING [3683,3711]
                                        String: "actions/upload-artifact@v2" [3683,3711]
                                FIELD [3712,3790]
                                    String: "with" [3712,3718]
                                    OBJECT [3719,3790]
                                        FIELD [3720,3745]
                                            String: "name" [3720,3726]
                                            STRING [3727,3745]
                                                String: "run_examples_gpu" [3727,3745]
                                        FIELD [3746,3789]
                                            String: "path" [3746,3752]
                                            STRING [3753,3789]
                                                String: "/transformers/reports/examples_gpu" [3753,3789]
            FIELD [3794,4956]
                String: "run_pipelines_torch_gpu" [3794,3819]
                OBJECT [3820,4956]
                    FIELD [3821,3847]
                        String: "name" [3821,3827]
                        STRING [3828,3847]
                            String: "PyTorch pipelines" [3828,3847]
                    FIELD [3848,3941]
                        String: "strategy" [3848,3858]
                        OBJECT [3859,3941]
                            FIELD [3860,3877]
                                String: "fail-fast" [3860,3871]
                                FALSE [3872,3877]
                            FIELD [3878,3940]
                                String: "matrix" [3878,3886]
                                OBJECT [3887,3940]
                                    FIELD [3888,3939]
                                        String: "machines" [3888,3898]
                                        ARRAY [3899,3939]
                                            STRING [3900,3918]
                                                String: "multi-gpu-docker" [3900,3918]
                                            STRING [3919,3938]
                                                String: "single-gpu-docker" [3919,3938]
                    FIELD [3942,3976]
                        String: "runs-on" [3942,3951]
                        STRING [3952,3976]
                            String: "${{ matrix.machines }}" [3952,3976]
                    FIELD [3977,4134]
                        String: "container" [3977,3988]
                        OBJECT [3989,4134]
                            FIELD [3990,4036]
                                String: "image" [3990,3997]
                                STRING [3998,4036]
                                    String: "huggingface/transformers-pytorch-gpu" [3998,4036]
                            FIELD [4037,4133]
                                String: "options" [4037,4046]
                                STRING [4047,4133]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [4047,4133]
                    FIELD [4135,4150]
                        String: "needs" [4135,4142]
                        STRING [4143,4150]
                            String: "setup" [4143,4150]
                    FIELD [4151,4955]
                        String: "steps" [4151,4158]
                        ARRAY [4159,4955]
                            OBJECT [4160,4271]
                                FIELD [4161,4182]
                                    String: "name" [4161,4167]
                                    STRING [4168,4182]
                                        String: "Update clone" [4168,4182]
                                FIELD [4183,4218]
                                    String: "working-directory" [4183,4202]
                                    STRING [4203,4218]
                                        String: "/transformers" [4203,4218]
                                FIELD [4219,4270]
                                    String: "run" [4219,4224]
                                    STRING [4225,4270]
                                        String: "git fetch && git checkout ${{ github.sha }}" [4225,4270]
                            OBJECT [4272,4523]
                                FIELD [4273,4311]
                                    String: "name" [4273,4279]
                                    STRING [4280,4311]
                                        String: "Run all pipeline tests on GPU" [4280,4311]
                                FIELD [4312,4347]
                                    String: "working-directory" [4312,4331]
                                    STRING [4332,4347]
                                        String: "/transformers" [4332,4347]
                                FIELD [4348,4381]
                                    String: "env" [4348,4353]
                                    OBJECT [4354,4381]
                                        FIELD [4355,4380]
                                            String: "RUN_PIPELINE_TESTS" [4355,4375]
                                            TRUE [4376,4380]
                                FIELD [4382,4522]
                                    String: "run" [4382,4387]
                                    STRING [4388,4522]
                                        String: "python3 -m pytest -n 1 -v --dist=loadfile -m is_pipeline_test --make-reports=${{ matrix.machines }}_tests_torch_pipeline_gpu tests\n" [4388,4522]
                            OBJECT [4524,4706]
                                FIELD [4525,4555]
                                    String: "name" [4525,4531]
                                    STRING [4532,4555]
                                        String: "Failure short reports" [4532,4555]
                                FIELD [4556,4579]
                                    String: "if" [4556,4560]
                                    STRING [4561,4579]
                                        String: "${{ failure() }}" [4561,4579]
                                FIELD [4580,4604]
                                    String: "continue-on-error" [4580,4599]
                                    TRUE [4600,4604]
                                FIELD [4605,4705]
                                    String: "run" [4605,4610]
                                    STRING [4611,4705]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_torch_pipeline_gpu/failures_short.txt" [4611,4705]
                            OBJECT [4707,4954]
                                FIELD [4708,4745]
                                    String: "name" [4708,4714]
                                    STRING [4715,4745]
                                        String: "Test suite reports artifacts" [4715,4745]
                                FIELD [4746,4768]
                                    String: "if" [4746,4750]
                                    STRING [4751,4768]
                                        String: "${{ always() }}" [4751,4768]
                                FIELD [4769,4804]
                                    String: "uses" [4769,4775]
                                    STRING [4776,4804]
                                        String: "actions/upload-artifact@v2" [4776,4804]
                                FIELD [4805,4953]
                                    String: "with" [4805,4811]
                                    OBJECT [4812,4953]
                                        FIELD [4813,4873]
                                            String: "name" [4813,4819]
                                            STRING [4820,4873]
                                                String: "${{ matrix.machines }}_run_tests_torch_pipeline_gpu" [4820,4873]
                                        FIELD [4874,4952]
                                            String: "path" [4874,4880]
                                            STRING [4881,4952]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_torch_pipeline_gpu" [4881,4952]
            FIELD [4957,6088]
                String: "run_pipelines_tf_gpu" [4957,4979]
                OBJECT [4980,6088]
                    FIELD [4981,5010]
                        String: "name" [4981,4987]
                        STRING [4988,5010]
                            String: "TensorFlow pipelines" [4988,5010]
                    FIELD [5011,5104]
                        String: "strategy" [5011,5021]
                        OBJECT [5022,5104]
                            FIELD [5023,5040]
                                String: "fail-fast" [5023,5034]
                                FALSE [5035,5040]
                            FIELD [5041,5103]
                                String: "matrix" [5041,5049]
                                OBJECT [5050,5103]
                                    FIELD [5051,5102]
                                        String: "machines" [5051,5061]
                                        ARRAY [5062,5102]
                                            STRING [5063,5081]
                                                String: "multi-gpu-docker" [5063,5081]
                                            STRING [5082,5101]
                                                String: "single-gpu-docker" [5082,5101]
                    FIELD [5105,5139]
                        String: "runs-on" [5105,5114]
                        STRING [5115,5139]
                            String: "${{ matrix.machines }}" [5115,5139]
                    FIELD [5140,5300]
                        String: "container" [5140,5151]
                        OBJECT [5152,5300]
                            FIELD [5153,5202]
                                String: "image" [5153,5160]
                                STRING [5161,5202]
                                    String: "huggingface/transformers-tensorflow-gpu" [5161,5202]
                            FIELD [5203,5299]
                                String: "options" [5203,5212]
                                STRING [5213,5299]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [5213,5299]
                    FIELD [5301,5316]
                        String: "needs" [5301,5308]
                        STRING [5309,5316]
                            String: "setup" [5309,5316]
                    FIELD [5317,6087]
                        String: "steps" [5317,5324]
                        ARRAY [5325,6087]
                            OBJECT [5326,5439]
                                FIELD [5327,5348]
                                    String: "name" [5327,5333]
                                    STRING [5334,5348]
                                        String: "Update clone" [5334,5348]
                                FIELD [5349,5384]
                                    String: "working-directory" [5349,5368]
                                    STRING [5369,5384]
                                        String: "/transformers" [5369,5384]
                                FIELD [5385,5438]
                                    String: "run" [5385,5390]
                                    STRING [5391,5438]
                                        String: "git fetch && git checkout ${{ github.sha }}\n" [5391,5438]
                            OBJECT [5440,5688]
                                FIELD [5441,5479]
                                    String: "name" [5441,5447]
                                    STRING [5448,5479]
                                        String: "Run all pipeline tests on GPU" [5448,5479]
                                FIELD [5480,5515]
                                    String: "working-directory" [5480,5499]
                                    STRING [5500,5515]
                                        String: "/transformers" [5500,5515]
                                FIELD [5516,5549]
                                    String: "env" [5516,5521]
                                    OBJECT [5522,5549]
                                        FIELD [5523,5548]
                                            String: "RUN_PIPELINE_TESTS" [5523,5543]
                                            TRUE [5544,5548]
                                FIELD [5550,5687]
                                    String: "run" [5550,5555]
                                    STRING [5556,5687]
                                        String: "python3 -m pytest -n 1 -v --dist=loadfile -m is_pipeline_test --make-reports=${{ matrix.machines }}_tests_tf_pipeline_gpu tests\n" [5556,5687]
                            OBJECT [5689,5844]
                                FIELD [5690,5720]
                                    String: "name" [5690,5696]
                                    STRING [5697,5720]
                                        String: "Failure short reports" [5697,5720]
                                FIELD [5721,5743]
                                    String: "if" [5721,5725]
                                    STRING [5726,5743]
                                        String: "${{ always() }}" [5726,5743]
                                FIELD [5744,5843]
                                    String: "run" [5744,5749]
                                    STRING [5750,5843]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_tf_pipeline_gpu/failures_short.txt\n" [5750,5843]
                            OBJECT [5845,6086]
                                FIELD [5846,5883]
                                    String: "name" [5846,5852]
                                    STRING [5853,5883]
                                        String: "Test suite reports artifacts" [5853,5883]
                                FIELD [5884,5906]
                                    String: "if" [5884,5888]
                                    STRING [5889,5906]
                                        String: "${{ always() }}" [5889,5906]
                                FIELD [5907,5942]
                                    String: "uses" [5907,5913]
                                    STRING [5914,5942]
                                        String: "actions/upload-artifact@v2" [5914,5942]
                                FIELD [5943,6085]
                                    String: "with" [5943,5949]
                                    OBJECT [5950,6085]
                                        FIELD [5951,6008]
                                            String: "name" [5951,5957]
                                            STRING [5958,6008]
                                                String: "${{ matrix.machines }}_run_tests_tf_pipeline_gpu" [5958,6008]
                                        FIELD [6009,6084]
                                            String: "path" [6009,6015]
                                            STRING [6016,6084]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_tf_pipeline_gpu" [6016,6084]
            FIELD [6089,7720]
                String: "run_all_tests_torch_cuda_extensions_gpu" [6089,6130]
                OBJECT [6131,7720]
                    FIELD [6132,6167]
                        String: "name" [6132,6138]
                        STRING [6139,6167]
                            String: "Torch CUDA extension tests" [6139,6167]
                    FIELD [6168,6261]
                        String: "strategy" [6168,6178]
                        OBJECT [6179,6261]
                            FIELD [6180,6197]
                                String: "fail-fast" [6180,6191]
                                FALSE [6192,6197]
                            FIELD [6198,6260]
                                String: "matrix" [6198,6206]
                                OBJECT [6207,6260]
                                    FIELD [6208,6259]
                                        String: "machines" [6208,6218]
                                        ARRAY [6219,6259]
                                            STRING [6220,6238]
                                                String: "multi-gpu-docker" [6220,6238]
                                            STRING [6239,6258]
                                                String: "single-gpu-docker" [6239,6258]
                    FIELD [6262,6296]
                        String: "runs-on" [6262,6271]
                        STRING [6272,6296]
                            String: "${{ matrix.machines }}" [6272,6296]
                    FIELD [6297,6312]
                        String: "needs" [6297,6304]
                        STRING [6305,6312]
                            String: "setup" [6305,6312]
                    FIELD [6313,6489]
                        String: "container" [6313,6324]
                        OBJECT [6325,6489]
                            FIELD [6326,6389]
                                String: "image" [6326,6333]
                                STRING [6334,6389]
                                    String: "huggingface/transformers-pytorch-deepspeed-latest-gpu" [6334,6389]
                            FIELD [6390,6488]
                                String: "options" [6390,6399]
                                STRING [6400,6488]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [6400,6488]
                    FIELD [6490,7719]
                        String: "steps" [6490,6497]
                        ARRAY [6498,7719]
                            OBJECT [6499,6620]
                                FIELD [6500,6521]
                                    String: "name" [6500,6506]
                                    STRING [6507,6521]
                                        String: "Update clone" [6507,6521]
                                FIELD [6522,6567]
                                    String: "working-directory" [6522,6541]
                                    STRING [6542,6567]
                                        String: "/workspace/transformers" [6542,6567]
                                FIELD [6568,6619]
                                    String: "run" [6568,6573]
                                    STRING [6574,6619]
                                        String: "git fetch && git checkout ${{ github.sha }}" [6574,6619]
                            OBJECT [6621,7024]
                                FIELD [6622,6651]
                                    String: "name" [6622,6628]
                                    STRING [6629,6651]
                                        String: "Re-compile DeepSpeed" [6629,6651]
                                FIELD [6652,6684]
                                    String: "working-directory" [6652,6671]
                                    STRING [6672,6684]
                                        String: "/workspace" [6672,6684]
                                FIELD [6685,7023]
                                    String: "run" [6685,6690]
                                    STRING [6691,7023]
                                        String: "pip install deepspeed # installs the deps correctly\nrm -rf DeepSpeed\ngit clone https://github.com/microsoft/DeepSpeed && cd DeepSpeed && rm -rf build\nDS_BUILD_CPU_ADAM=1 DS_BUILD_AIO=1 DS_BUILD_UTILS=1 python3 -m pip install -e . --global-option=\"build_ext\" --global-option=\"-j8\" --no-cache -v --disable-pip-version-check\n" [6691,7023]
                            OBJECT [7025,7233]
                                FIELD [7026,7055]
                                    String: "name" [7026,7032]
                                    STRING [7033,7055]
                                        String: "Run all tests on GPU" [7033,7055]
                                FIELD [7056,7101]
                                    String: "working-directory" [7056,7075]
                                    STRING [7076,7101]
                                        String: "/workspace/transformers" [7076,7101]
                                FIELD [7102,7232]
                                    String: "run" [7102,7107]
                                    STRING [7108,7232]
                                        String: "python -m pytest -v --make-reports=${{ matrix.machines }}_tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [7108,7232]
                            OBJECT [7234,7433]
                                FIELD [7235,7265]
                                    String: "name" [7235,7241]
                                    STRING [7242,7265]
                                        String: "Failure short reports" [7242,7265]
                                FIELD [7266,7289]
                                    String: "if" [7266,7270]
                                    STRING [7271,7289]
                                        String: "${{ failure() }}" [7271,7289]
                                FIELD [7290,7314]
                                    String: "continue-on-error" [7290,7309]
                                    TRUE [7310,7314]
                                FIELD [7315,7432]
                                    String: "run" [7315,7320]
                                    STRING [7321,7432]
                                        String: "cat /workspace/transformers/reports/${{ matrix.machines }}_tests_torch_cuda_extensions_gpu/failures_short.txt" [7321,7432]
                            OBJECT [7434,7718]
                                FIELD [7435,7472]
                                    String: "name" [7435,7441]
                                    STRING [7442,7472]
                                        String: "Test suite reports artifacts" [7442,7472]
                                FIELD [7473,7495]
                                    String: "if" [7473,7477]
                                    STRING [7478,7495]
                                        String: "${{ always() }}" [7478,7495]
                                FIELD [7496,7531]
                                    String: "uses" [7496,7502]
                                    STRING [7503,7531]
                                        String: "actions/upload-artifact@v2" [7503,7531]
                                FIELD [7532,7717]
                                    String: "with" [7532,7538]
                                    OBJECT [7539,7717]
                                        FIELD [7540,7620]
                                            String: "name" [7540,7546]
                                            STRING [7547,7620]
                                                String: "${{ matrix.machines }}_run_tests_torch_cuda_extensions_gpu_test_reports" [7547,7620]
                                        FIELD [7621,7716]
                                            String: "path" [7621,7627]
                                            STRING [7628,7716]
                                                String: "/workspace/transformers/reports/${{ matrix.machines }}_tests_torch_cuda_extensions_gpu" [7628,7716]
            FIELD [7721,8448]
                String: "send_results" [7721,7735]
                OBJECT [7736,8448]
                    FIELD [7737,7769]
                        String: "name" [7737,7743]
                        STRING [7744,7769]
                            String: "Send results to webhook" [7744,7769]
                    FIELD [7770,7795]
                        String: "runs-on" [7770,7779]
                        STRING [7780,7795]
                            String: "ubuntu-latest" [7780,7795]
                    FIELD [7796,7811]
                        String: "if" [7796,7800]
                        STRING [7801,7811]
                            String: "always()" [7801,7811]
                    FIELD [7812,7955]
                        String: "needs" [7812,7819]
                        ARRAY [7820,7955]
                            STRING [7821,7828]
                                String: "setup" [7821,7828]
                            STRING [7829,7844]
                                String: "run_tests_gpu" [7829,7844]
                            STRING [7845,7863]
                                String: "run_examples_gpu" [7845,7863]
                            STRING [7864,7886]
                                String: "run_pipelines_tf_gpu" [7864,7886]
                            STRING [7887,7912]
                                String: "run_pipelines_torch_gpu" [7887,7912]
                            STRING [7913,7954]
                                String: "run_all_tests_torch_cuda_extensions_gpu" [7913,7954]
                    FIELD [7956,8447]
                        String: "steps" [7956,7963]
                        ARRAY [7964,8447]
                            OBJECT [7965,7995]
                                FIELD [7966,7994]
                                    String: "uses" [7966,7972]
                                    STRING [7973,7994]
                                        String: "actions/checkout@v2" [7973,7994]
                            OBJECT [7996,8035]
                                FIELD [7997,8034]
                                    String: "uses" [7997,8003]
                                    STRING [8004,8034]
                                        String: "actions/download-artifact@v2" [8004,8034]
                            OBJECT [8036,8446]
                                FIELD [8037,8067]
                                    String: "name" [8037,8043]
                                    STRING [8044,8067]
                                        String: "Send message to Slack" [8044,8067]
                                FIELD [8068,8339]
                                    String: "env" [8068,8073]
                                    OBJECT [8074,8339]
                                        FIELD [8075,8131]
                                            String: "CI_SLACK_BOT_TOKEN" [8075,8095]
                                            STRING [8096,8131]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [8096,8131]
                                        FIELD [8132,8190]
                                            String: "CI_SLACK_CHANNEL_ID" [8132,8153]
                                            STRING [8154,8190]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [8154,8190]
                                        FIELD [8191,8261]
                                            String: "CI_SLACK_CHANNEL_ID_DAILY" [8191,8218]
                                            STRING [8219,8261]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY }}" [8219,8261]
                                        FIELD [8262,8338]
                                            String: "CI_SLACK_CHANNEL_DUMMY_TESTS" [8262,8292]
                                            STRING [8293,8338]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_DUMMY_TESTS }}" [8293,8338]
                                FIELD [8340,8445]
                                    String: "run" [8340,8345]
                                    STRING [8346,8445]
                                        String: "pip install slack_sdk\npython utils/notification_service.py \"${{ needs.setup.outputs.matrix }}\"" [8346,8445]