OBJECT [0,2849]
    FIELD [1,14]
        String: "name" [1,7]
        STRING [8,14]
            String: "RFCs" [8,14]
    FIELD [15,75]
        String: "on" [15,19]
        OBJECT [20,75]
            FIELD [21,74]
                String: "push" [21,27]
                OBJECT [28,74]
                    FIELD [29,73]
                        String: "paths" [29,36]
                        ARRAY [37,73]
                            STRING [38,51]
                                String: "docs/rfc/**" [38,51]
                            STRING [52,72]
                                String: ".github/workflows/" [52,72]
    FIELD [76,2848]
        String: "jobs" [76,82]
        OBJECT [83,2848]
            FIELD [84,2847]
                String: "htmlize" [84,93]
                OBJECT [94,2847]
                    FIELD [95,120]
                        String: "runs-on" [95,104]
                        STRING [105,120]
                            String: "ubuntu-latest" [105,120]
                    FIELD [121,167]
                        String: "strategy" [121,131]
                        OBJECT [132,167]
                            FIELD [133,166]
                                String: "matrix" [133,141]
                                OBJECT [142,166]
                                    FIELD [143,165]
                                        String: "python-version" [143,159]
                                        ARRAY [160,165]
                                            NUMBER [161,164]
                                                Number: 3.7 [161,164]
                    FIELD [168,2846]
                        String: "steps" [168,175]
                        ARRAY [176,2846]
                            OBJECT [177,207]
                                FIELD [178,206]
                                    String: "uses" [178,184]
                                    STRING [185,206]
                                        String: "actions/checkout@v2" [185,206]
                            OBJECT [208,496]
                                FIELD [209,245]
                                    String: "name" [209,215]
                                    STRING [216,245]
                                        String: "Checkout full upstream repo" [216,245]
                                FIELD [246,495]
                                    String: "run" [246,251]
                                    STRING [252,495]
                                        String: "git remote set-url origin https://github.com/intel/dffml\ngit fetch --prune --unshallow\ngit fetch --depth=1 origin +refs/tags/*:refs/tags/*\ngit config --global user.email \"dffml@intel.com\"\ngit config --global user.name \"DFFML CI/CD\"\n" [252,495]
                            OBJECT [497,640]
                                FIELD [498,549]
                                    String: "name" [498,504]
                                    STRING [505,549]
                                        String: "Set up Python ${{ matrix.python-version }}" [505,549]
                                FIELD [550,582]
                                    String: "uses" [550,556]
                                    STRING [557,582]
                                        String: "actions/setup-python@v2" [557,582]
                                FIELD [583,639]
                                    String: "with" [583,589]
                                    OBJECT [590,639]
                                        FIELD [591,638]
                                            String: "python-version" [591,607]
                                            STRING [608,638]
                                                String: "${{ matrix.python-version }}" [608,638]
                            OBJECT [641,808]
                                FIELD [642,664]
                                    String: "name" [642,648]
                                    STRING [649,664]
                                        String: "Get pip cache" [649,664]
                                FIELD [665,681]
                                    String: "id" [665,669]
                                    STRING [670,681]
                                        String: "pip-cache" [670,681]
                                FIELD [682,807]
                                    String: "run" [682,687]
                                    STRING [688,807]
                                        String: "python -c \"from pip._internal.locations import USER_CACHE_DIR; print('::set-output name=dir::' + USER_CACHE_DIR)\"\n" [688,807]
                            OBJECT [809,1010]
                                FIELD [810,828]
                                    String: "name" [810,816]
                                    STRING [817,828]
                                        String: "pip cache" [817,828]
                                FIELD [829,854]
                                    String: "uses" [829,835]
                                    STRING [836,854]
                                        String: "actions/cache@v1" [836,854]
                                FIELD [855,1009]
                                    String: "with" [855,861]
                                    OBJECT [862,1009]
                                        FIELD [863,906]
                                            String: "path" [863,869]
                                            STRING [870,906]
                                                String: "${{ steps.pip-cache.outputs.dir }}" [870,906]
                                        FIELD [907,967]
                                            String: "key" [907,912]
                                            STRING [913,967]
                                                String: "${{ runner.os }}-pip-${{ hashFiles('**/setup.py') }}" [913,967]
                                        FIELD [968,1008]
                                            String: "restore-keys" [968,982]
                                            STRING [983,1008]
                                                String: "${{ runner.os }}-pip-\n" [983,1008]
                            OBJECT [1011,1213]
                                FIELD [1012,1041]
                                    String: "name" [1012,1018]
                                    STRING [1019,1041]
                                        String: "Install dependencies" [1019,1041]
                                FIELD [1042,1212]
                                    String: "run" [1042,1047]
                                    STRING [1048,1212]
                                        String: "set -x\npython -m pip install -U setuptools pip wheel\npython -m pip install \"https://github.com/ietf-tools/rfc2html/archive/refs/heads/main.zip#egg=rfc2html\"\n" [1048,1212]
                            OBJECT [1214,1478]
                                FIELD [1215,1238]
                                    String: "name" [1215,1221]
                                    STRING [1222,1238]
                                        String: "Make HTML RFCs" [1222,1238]
                                FIELD [1239,1262]
                                    String: "shell" [1239,1246]
                                    STRING [1247,1262]
                                        String: "python -u {0}" [1247,1262]
                                FIELD [1263,1477]
                                    String: "run" [1263,1268]
                                    STRING [1269,1477]
                                        String: "import rfc2html\n\nfor path in pathlib.Path(\"docs\", \"rfc\").glob(\"*.txt\"):\n    print(\"Writing\", path)\n    path.with_suffix(\".html\").write_text(\n        rfc2html.markup(path.read_text())\n    )\n" [1269,1477]
                            OBJECT [1479,2845]
                                FIELD [1480,1502]
                                    String: "name" [1480,1486]
                                    STRING [1487,1502]
                                        String: "Copy git repo" [1487,1502]
                                FIELD [1503,1567]
                                    String: "env" [1503,1508]
                                    OBJECT [1509,1567]
                                        FIELD [1510,1566]
                                            String: "SSH_DFFML_GH_PAGES" [1510,1530]
                                            STRING [1531,1566]
                                                String: "${{ secrets.SSH_DFFML_GH_PAGES }}" [1531,1566]
                                FIELD [1568,2844]
                                    String: "run" [1568,1573]
                                    STRING [1574,2844]
                                        String: "set -x\n\nTEMP_DIRS=()\n\nfunction cleanup_temp_dirs() {\n  if [ \"x${NO_RM_TEMP}\" != \"x\" ]; then\n    return\n  fi\n  for temp_dir in ${TEMP_DIRS[@]}; do\n    rm -rf \"${temp_dir}\"\n  done\n}\n\n# Clean up temporary directories on exit\ntrap cleanup_temp_dirs EXIT\n\nrelease_docs=\"$(mktemp -d)\"\nTEMP_DIRS+=(\"${release_docs}\")\n\ngit clone https://github.com/intel/dffml -b gh-pages \\\n    \"${release_docs}/gh-pages-branch\"\n\nrm -rf \"${release_docs}/gh-pages-branch/rfcs\"\ncp -r docs/rfcs \"${release_docs}/gh-pages-branch\"\n\ncd \"${release_docs}/gh-pages-branch\"\n\ngit config user.name 'Alice'\ngit config user.email 'alice@dffml.org'\n\ngit add -A\ngit commit -sam \"docs: rfc: $(date)\"\n\nssh_key_dir=\"$(mktemp -d)\"\nTEMP_DIRS+=(\"${ssh_key_dir}\")\nmkdir -p ~/.ssh\nchmod 700 ~/.ssh\npython -c \"import pathlib, base64, os; keyfile = pathlib.Path(\\\"${ssh_key_dir}/github\\\").absolute(); keyfile.write_bytes(b''); keyfile.chmod(0o600); keyfile.write_bytes(base64.b32decode(os.environ['SSH_DFFML_GH_PAGES']))\"\nssh-keygen -y -f \"${ssh_key_dir}/github\" > \"${ssh_key_dir}/github.pub\"\nexport GIT_SSH_COMMAND=\"${GIT_SSH_COMMAND} -o IdentityFile=${ssh_key_dir}/github\"\n\ngit remote set-url origin git@github.com:intel/dffml\ngit push -f" [1574,2844]