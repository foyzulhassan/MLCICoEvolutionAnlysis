OBJECT [0,3556]
    FIELD [1,20]
        String: "name" [1,7]
        STRING [8,20]
            String: "PR slow CI" [8,20]
    FIELD [21,96]
        String: "on" [21,25]
        OBJECT [26,96]
            FIELD [27,95]
                String: "pull_request" [27,41]
                OBJECT [42,95]
                    FIELD [43,94]
                        String: "paths" [43,50]
                        ARRAY [51,94]
                            STRING [52,93]
                                String: "src/transformers/models/*/modeling_*.py" [52,93]
    FIELD [97,405]
        String: "env" [97,102]
        OBJECT [103,405]
            FIELD [104,126]
                String: "HF_HOME" [104,113]
                STRING [114,126]
                    String: "/mnt/cache" [114,126]
            FIELD [127,152]
                String: "TRANSFORMERS_IS_CI" [127,147]
                TRUE [148,152]
            FIELD [153,172]
                String: "OMP_NUM_THREADS" [153,170]
                NUMBER [171,172]
                    Number: 8 [171,172]
            FIELD [173,192]
                String: "MKL_NUM_THREADS" [173,190]
                NUMBER [191,192]
                    Number: 8 [191,192]
            FIELD [193,208]
                String: "RUN_SLOW" [193,203]
                TRUE [204,208]
            FIELD [209,263]
                String: "HF_HUB_READ_TOKEN" [209,228]
                STRING [229,263]
                    String: "${{ secrets.HF_HUB_READ_TOKEN }}" [229,263]
            FIELD [264,316]
                String: "SIGOPT_API_TOKEN" [264,282]
                STRING [283,316]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [283,316]
            FIELD [317,349]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [317,344]
                TRUE [345,349]
            FIELD [350,375]
                String: "RUN_PT_TF_CROSS_TESTS" [350,373]
                NUMBER [374,375]
                    Number: 1 [374,375]
            FIELD [376,404]
                String: "CUDA_VISIBLE_DEVICES" [376,398]
                STRING [399,404]
                    String: "0,1" [399,404]
    FIELD [406,3555]
        String: "jobs" [406,412]
        OBJECT [413,3555]
            FIELD [414,844]
                String: "check_for_new_model" [414,435]
                OBJECT [436,844]
                    FIELD [437,461]
                        String: "runs-on" [437,446]
                        STRING [447,461]
                            String: "ubuntu-22.04" [447,461]
                    FIELD [462,502]
                        String: "name" [462,468]
                        STRING [469,502]
                            String: "Check if a PR is a new model PR" [469,502]
                    FIELD [503,575]
                        String: "outputs" [503,512]
                        OBJECT [513,575]
                            FIELD [514,574]
                                String: "new_model" [514,525]
                                STRING [526,574]
                                    String: "${{ steps.check_new_model.outputs.new_model }}" [526,574]
                    FIELD [576,843]
                        String: "steps" [576,583]
                        ARRAY [584,843]
                            OBJECT [585,642]
                                FIELD [586,614]
                                    String: "uses" [586,592]
                                    STRING [593,614]
                                        String: "actions/checkout@v4" [593,614]
                                FIELD [615,641]
                                    String: "with" [615,621]
                                    OBJECT [622,641]
                                        FIELD [623,640]
                                            String: "fetch-depth" [623,636]
                                            STRING [637,640]
                                                String: "0" [637,640]
                            OBJECT [643,842]
                                FIELD [644,682]
                                    String: "name" [644,650]
                                    STRING [651,682]
                                        String: "Check if there is a new model" [651,682]
                                FIELD [683,705]
                                    String: "id" [683,687]
                                    STRING [688,705]
                                        String: "check_new_model" [688,705]
                                FIELD [706,841]
                                    String: "run" [706,711]
                                    STRING [712,841]
                                        String: "python -m pip install GitPython\necho \"new_model=$(python utils/check_if_new_model_added.py | tail -n 1)\" >> $GITHUB_OUTPUT\n" [712,841]
            FIELD [845,3554]
                String: "run_new_model_tests" [845,866]
                OBJECT [867,3554]
                    FIELD [868,908]
                        String: "name" [868,874]
                        STRING [875,908]
                            String: "Run all tests for the new model" [875,908]
                    FIELD [909,1050]
                        String: "if" [909,913]
                        STRING [914,1050]
                            String: "${{ needs.check_for_new_model.outputs.new_model != '' && contains(github.event.pull_request.labels.*.name, 'single-model-run-slow') }}" [914,1050]
                    FIELD [1051,1080]
                        String: "needs" [1051,1058]
                        STRING [1059,1080]
                            String: "check_for_new_model" [1059,1080]
                    FIELD [1081,1229]
                        String: "strategy" [1081,1091]
                        OBJECT [1092,1229]
                            FIELD [1093,1110]
                                String: "fail-fast" [1093,1104]
                                FALSE [1105,1110]
                            FIELD [1111,1228]
                                String: "matrix" [1111,1119]
                                OBJECT [1120,1228]
                                    FIELD [1121,1185]
                                        String: "folders" [1121,1130]
                                        ARRAY [1131,1185]
                                            STRING [1132,1184]
                                                String: "${{ needs.check_for_new_model.outputs.new_model }}" [1132,1184]
                                    FIELD [1186,1227]
                                        String: "machine_type" [1186,1200]
                                        ARRAY [1201,1227]
                                            STRING [1202,1214]
                                                String: "single-gpu" [1202,1214]
                                            STRING [1215,1226]
                                                String: "multi-gpu" [1215,1226]
                    FIELD [1230,1299]
                        String: "runs-on" [1230,1239]
                        ARRAY [1240,1299]
                            STRING [1241,1269]
                                String: "${{ matrix.machine_type }}" [1241,1269]
                            STRING [1270,1282]
                                String: "nvidia-gpu" [1270,1282]
                            STRING [1283,1287]
                                String: "t4" [1283,1287]
                            STRING [1288,1298]
                                String: "daily-ci" [1288,1298]
                    FIELD [1300,1462]
                        String: "container" [1300,1311]
                        OBJECT [1312,1462]
                            FIELD [1313,1362]
                                String: "image" [1313,1320]
                                STRING [1321,1362]
                                    String: "huggingface/transformers-all-latest-gpu" [1321,1362]
                            FIELD [1363,1461]
                                String: "options" [1363,1372]
                                STRING [1373,1461]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1373,1461]
                    FIELD [1463,3553]
                        String: "steps" [1463,1470]
                        ARRAY [1471,3553]
                            OBJECT [1472,1565]
                                FIELD [1473,1508]
                                    String: "name" [1473,1479]
                                    STRING [1480,1508]
                                        String: "Echo input and matrix info" [1480,1508]
                                FIELD [1509,1523]
                                    String: "shell" [1509,1516]
                                    STRING [1517,1523]
                                        String: "bash" [1517,1523]
                                FIELD [1524,1564]
                                    String: "run" [1524,1529]
                                    STRING [1530,1564]
                                        String: "echo \"${{ matrix.folders }}\"\n" [1530,1564]
                            OBJECT [1566,1840]
                                FIELD [1567,1609]
                                    String: "name" [1567,1573]
                                    STRING [1574,1609]
                                        String: "Echo folder ${{ matrix.folders }}" [1574,1609]
                                FIELD [1610,1624]
                                    String: "shell" [1610,1617]
                                    STRING [1618,1624]
                                        String: "bash" [1618,1624]
                                FIELD [1625,1839]
                                    String: "run" [1625,1630]
                                    STRING [1631,1839]
                                        String: "echo \"${{ matrix.folders }}\"\nmatrix_folders=${{ matrix.folders }}\nmatrix_folders=${matrix_folders/'models/'/'models_'}\necho \"$matrix_folders\"\necho \"matrix_folders=$matrix_folders\" >> $GITHUB_ENV\n" [1631,1839]
                            OBJECT [1841,1976]
                                FIELD [1842,1863]
                                    String: "name" [1842,1848]
                                    STRING [1849,1863]
                                        String: "Update clone" [1849,1863]
                                FIELD [1864,1899]
                                    String: "working-directory" [1864,1883]
                                    STRING [1884,1899]
                                        String: "/transformers" [1884,1899]
                                FIELD [1900,1975]
                                    String: "run" [1900,1905]
                                    STRING [1906,1975]
                                        String: "git fetch && git checkout ${{ github.event.pull_request.head.sha }}" [1906,1975]
                            OBJECT [1977,2192]
                                FIELD [1978,2075]
                                    String: "name" [1978,1984]
                                    STRING [1985,2075]
                                        String: "Reinstall transformers in edit mode (remove the one installed during docker image build)" [1985,2075]
                                FIELD [2076,2111]
                                    String: "working-directory" [2076,2095]
                                    STRING [2096,2111]
                                        String: "/transformers" [2096,2111]
                                FIELD [2112,2191]
                                    String: "run" [2112,2117]
                                    STRING [2118,2191]
                                        String: "python3 -m pip uninstall -y transformers && python3 -m pip install -e ." [2118,2191]
                            OBJECT [2193,2235]
                                FIELD [2194,2213]
                                    String: "name" [2194,2200]
                                    STRING [2201,2213]
                                        String: "NVIDIA-SMI" [2201,2213]
                                FIELD [2214,2234]
                                    String: "run" [2214,2219]
                                    STRING [2220,2234]
                                        String: "nvidia-smi\n" [2220,2234]
                            OBJECT [2236,2331]
                                FIELD [2237,2257]
                                    String: "name" [2237,2243]
                                    STRING [2244,2257]
                                        String: "Environment" [2244,2257]
                                FIELD [2258,2293]
                                    String: "working-directory" [2258,2277]
                                    STRING [2278,2293]
                                        String: "/transformers" [2278,2293]
                                FIELD [2294,2330]
                                    String: "run" [2294,2299]
                                    STRING [2300,2330]
                                        String: "python3 utils/print_env.py\n" [2300,2330]
                            OBJECT [2332,2441]
                                FIELD [2333,2385]
                                    String: "name" [2333,2339]
                                    STRING [2340,2385]
                                        String: "Show installed libraries and their versions" [2340,2385]
                                FIELD [2386,2421]
                                    String: "working-directory" [2386,2405]
                                    STRING [2406,2421]
                                        String: "/transformers" [2406,2421]
                                FIELD [2422,2440]
                                    String: "run" [2422,2427]
                                    STRING [2428,2440]
                                        String: "pip freeze" [2428,2440]
                            OBJECT [2442,2644]
                                FIELD [2443,2472]
                                    String: "name" [2443,2449]
                                    STRING [2450,2472]
                                        String: "Run all tests on GPU" [2450,2472]
                                FIELD [2473,2508]
                                    String: "working-directory" [2473,2492]
                                    STRING [2493,2508]
                                        String: "/transformers" [2493,2508]
                                FIELD [2509,2643]
                                    String: "run" [2509,2514]
                                    STRING [2515,2643]
                                        String: "python3 -m pytest -v -rs --make-reports=${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [2515,2643]
                            OBJECT [2645,2838]
                                FIELD [2646,2676]
                                    String: "name" [2646,2652]
                                    STRING [2653,2676]
                                        String: "Failure short reports" [2653,2676]
                                FIELD [2677,2700]
                                    String: "if" [2677,2681]
                                    STRING [2682,2700]
                                        String: "${{ failure() }}" [2682,2700]
                                FIELD [2701,2725]
                                    String: "continue-on-error" [2701,2720]
                                    TRUE [2721,2725]
                                FIELD [2726,2837]
                                    String: "run" [2726,2731]
                                    STRING [2732,2837]
                                        String: "cat /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [2732,2837]
                            OBJECT [2839,3176]
                                FIELD [2840,2882]
                                    String: "name" [2840,2846]
                                    STRING [2847,2882]
                                        String: "Make sure report directory exists" [2847,2882]
                                FIELD [2883,2897]
                                    String: "shell" [2883,2890]
                                    STRING [2891,2897]
                                        String: "bash" [2891,2897]
                                FIELD [2898,3175]
                                    String: "run" [2898,2903]
                                    STRING [2904,3175]
                                        String: "mkdir -p /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}\necho \"hello\" > /transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}/hello.txt\necho \"${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}\"\n" [2904,3175]
                            OBJECT [3177,3552]
                                FIELD [3178,3300]
                                    String: "name" [3178,3184]
                                    STRING [3185,3300]
                                        String: "Test suite reports artifacts: ${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports" [3185,3300]
                                FIELD [3301,3323]
                                    String: "if" [3301,3305]
                                    STRING [3306,3323]
                                        String: "${{ always() }}" [3306,3323]
                                FIELD [3324,3359]
                                    String: "uses" [3324,3330]
                                    STRING [3331,3359]
                                        String: "actions/upload-artifact@v4" [3331,3359]
                                FIELD [3360,3551]
                                    String: "with" [3360,3366]
                                    OBJECT [3367,3551]
                                        FIELD [3368,3460]
                                            String: "name" [3368,3374]
                                            STRING [3375,3460]
                                                String: "${{ matrix.machine_type }}_run_all_tests_gpu_${{ env.matrix_folders }}_test_reports" [3375,3460]
                                        FIELD [3461,3550]
                                            String: "path" [3461,3467]
                                            STRING [3468,3550]
                                                String: "/transformers/reports/${{ matrix.machine_type }}_tests_gpu_${{ matrix.folders }}" [3468,3550]