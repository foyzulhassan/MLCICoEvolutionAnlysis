OBJECT [0,4069]
    FIELD [1,40]
        String: "name" [1,7]
        STRING [8,40]
            String: "Self-hosted runner (scheduled)" [8,40]
    FIELD [41,137]
        String: "on" [41,45]
        OBJECT [46,137]
            FIELD [47,75]
                String: "push" [47,53]
                OBJECT [54,75]
                    FIELD [55,74]
                        String: "branches" [55,65]
                        ARRAY [66,74]
                            STRING [67,73]
                                String: "ci_*" [67,73]
            FIELD [76,102]
                String: "repository_dispatch" [76,97]
                NULL [98,102]
            FIELD [103,136]
                String: "schedule" [103,113]
                ARRAY [114,136]
                    OBJECT [115,135]
                        FIELD [116,134]
                            String: "cron" [116,122]
                            STRING [123,134]
                                String: "0 0 * * *" [123,134]
    FIELD [138,4068]
        String: "jobs" [138,144]
        OBJECT [145,4068]
            FIELD [146,2186]
                String: "run_all_tests_torch_and_tf_gpu" [146,178]
                OBJECT [179,2186]
                    FIELD [180,218]
                        String: "runs-on" [180,189]
                        ARRAY [190,218]
                            STRING [191,204]
                                String: "self-hosted" [191,204]
                            STRING [205,217]
                                String: "single-gpu" [205,217]
                    FIELD [219,2185]
                        String: "steps" [219,226]
                        ARRAY [227,2185]
                            OBJECT [228,258]
                                FIELD [229,257]
                                    String: "uses" [229,235]
                                    STRING [236,257]
                                        String: "actions/checkout@v2" [236,257]
                            OBJECT [259,410]
                                FIELD [260,283]
                                    String: "name" [260,266]
                                    STRING [267,283]
                                        String: "Loading cache." [267,283]
                                FIELD [284,309]
                                    String: "uses" [284,290]
                                    STRING [291,309]
                                        String: "actions/cache@v2" [291,309]
                                FIELD [310,322]
                                    String: "id" [310,314]
                                    STRING [315,322]
                                        String: "cache" [315,322]
                                FIELD [323,409]
                                    String: "with" [323,329]
                                    OBJECT [330,409]
                                        FIELD [331,344]
                                            String: "path" [331,337]
                                            STRING [338,344]
                                                String: ".env" [338,344]
                                        FIELD [345,408]
                                            String: "key" [345,350]
                                            STRING [351,408]
                                                String: "v0-slow_tests_tf_torch_gpu-${{ hashFiles('setup.py') }}" [351,408]
                            OBJECT [411,492]
                                FIELD [412,435]
                                    String: "name" [412,418]
                                    STRING [419,435]
                                        String: "Python version" [419,435]
                                FIELD [436,491]
                                    String: "run" [436,441]
                                    STRING [442,491]
                                        String: "which python\npython --version\npip --version\n" [442,491]
                            OBJECT [493,527]
                                FIELD [494,514]
                                    String: "name" [494,500]
                                    STRING [501,514]
                                        String: "Current dir" [501,514]
                                FIELD [515,526]
                                    String: "run" [515,520]
                                    STRING [521,526]
                                        String: "pwd" [521,526]
                            OBJECT [528,548]
                                FIELD [529,547]
                                    String: "run" [529,534]
                                    STRING [535,547]
                                        String: "nvidia-smi" [535,547]
                            OBJECT [549,794]
                                FIELD [550,643]
                                    String: "name" [550,556]
                                    STRING [557,643]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [557,643]
                                FIELD [644,690]
                                    String: "if" [644,648]
                                    STRING [649,690]
                                        String: "steps.cache.outputs.cache-hit != 'true'" [649,690]
                                FIELD [691,793]
                                    String: "run" [691,696]
                                    STRING [697,793]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [697,793]
                            OBJECT [795,1015]
                                FIELD [796,825]
                                    String: "name" [796,802]
                                    STRING [803,825]
                                        String: "Install dependencies" [803,825]
                                FIELD [826,1014]
                                    String: "run" [826,831]
                                    STRING [832,1014]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install torch!=1.6.0\npip install .[sklearn,testing,onnxruntime]\npip install git+https://github.com/huggingface/datasets\n" [832,1014]
                            OBJECT [1016,1274]
                                FIELD [1017,1066]
                                    String: "name" [1017,1023]
                                    STRING [1024,1066]
                                        String: "Are GPUs recognized by our DL frameworks" [1024,1066]
                                FIELD [1067,1273]
                                    String: "run" [1067,1072]
                                    STRING [1073,1273]
                                        String: "source .env/bin/activate\npython -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [1073,1273]
                            OBJECT [1275,1489]
                                FIELD [1276,1305]
                                    String: "name" [1276,1282]
                                    STRING [1283,1305]
                                        String: "Run all tests on GPU" [1283,1305]
                                FIELD [1306,1384]
                                    String: "env" [1306,1311]
                                    OBJECT [1312,1384]
                                        FIELD [1313,1347]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [1313,1340]
                                            STRING [1341,1347]
                                                String: "true" [1341,1347]
                                        FIELD [1348,1367]
                                            String: "OMP_NUM_THREADS" [1348,1365]
                                            NUMBER [1366,1367]
                                                Number: 1 [1366,1367]
                                        FIELD [1368,1383]
                                            String: "RUN_SLOW" [1368,1378]
                                            TRUE [1379,1383]
                                FIELD [1385,1488]
                                    String: "run" [1385,1390]
                                    STRING [1391,1488]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s --make_reports=tests tests\n" [1391,1488]
                            OBJECT [1490,1757]
                                FIELD [1491,1525]
                                    String: "name" [1491,1497]
                                    STRING [1498,1525]
                                        String: "Run examples tests on GPU" [1498,1525]
                                FIELD [1526,1604]
                                    String: "env" [1526,1531]
                                    OBJECT [1532,1604]
                                        FIELD [1533,1567]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [1533,1560]
                                            STRING [1561,1567]
                                                String: "true" [1561,1567]
                                        FIELD [1568,1587]
                                            String: "OMP_NUM_THREADS" [1568,1585]
                                            NUMBER [1586,1587]
                                                Number: 1 [1586,1587]
                                        FIELD [1588,1603]
                                            String: "RUN_SLOW" [1588,1598]
                                            TRUE [1599,1603]
                                FIELD [1605,1756]
                                    String: "run" [1605,1610]
                                    STRING [1611,1756]
                                        String: "source .env/bin/activate\npip install -r examples/requirements.txt\npython -m pytest -n 1 --dist=loadfile -s --make_reports=examples examples\n" [1611,1756]
                            OBJECT [1758,2037]
                                FIELD [1759,1797]
                                    String: "name" [1759,1765]
                                    STRING [1766,1797]
                                        String: "Run all pipeline tests on GPU" [1766,1797]
                                FIELD [1798,1902]
                                    String: "env" [1798,1803]
                                    OBJECT [1804,1902]
                                        FIELD [1805,1839]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [1805,1832]
                                            STRING [1833,1839]
                                                String: "true" [1833,1839]
                                        FIELD [1840,1859]
                                            String: "OMP_NUM_THREADS" [1840,1857]
                                            NUMBER [1858,1859]
                                                Number: 1 [1858,1859]
                                        FIELD [1860,1875]
                                            String: "RUN_SLOW" [1860,1870]
                                            TRUE [1871,1875]
                                        FIELD [1876,1901]
                                            String: "RUN_PIPELINE_TESTS" [1876,1896]
                                            TRUE [1897,1901]
                                FIELD [1903,2036]
                                    String: "run" [1903,1908]
                                    STRING [1909,2036]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s -m is_pipeline_test --make_reports=tests_pipeline tests \n" [1909,2036]
                            OBJECT [2038,2184]
                                FIELD [2039,2076]
                                    String: "name" [2039,2045]
                                    STRING [2046,2076]
                                        String: "test suite reports artifacts" [2046,2076]
                                FIELD [2077,2099]
                                    String: "if" [2077,2081]
                                    STRING [2082,2099]
                                        String: "${{ always() }}" [2082,2099]
                                FIELD [2100,2135]
                                    String: "uses" [2100,2106]
                                    STRING [2107,2135]
                                        String: "actions/upload-artifact@v2" [2107,2135]
                                FIELD [2136,2183]
                                    String: "with" [2136,2142]
                                    OBJECT [2143,2183]
                                        FIELD [2144,2165]
                                            String: "name" [2144,2150]
                                            STRING [2151,2165]
                                                String: "test_reports" [2151,2165]
                                        FIELD [2166,2182]
                                            String: "path" [2166,2172]
                                            STRING [2173,2182]
                                                String: "reports" [2173,2182]
            FIELD [2187,4067]
                String: "run_all_tests_torch_and_tf_multiple_gpu" [2187,2228]
                OBJECT [2229,4067]
                    FIELD [2230,2267]
                        String: "runs-on" [2230,2239]
                        ARRAY [2240,2267]
                            STRING [2241,2254]
                                String: "self-hosted" [2241,2254]
                            STRING [2255,2266]
                                String: "multi-gpu" [2255,2266]
                    FIELD [2268,4066]
                        String: "steps" [2268,2275]
                        ARRAY [2276,4066]
                            OBJECT [2277,2307]
                                FIELD [2278,2306]
                                    String: "uses" [2278,2284]
                                    STRING [2285,2306]
                                        String: "actions/checkout@v2" [2285,2306]
                            OBJECT [2308,2465]
                                FIELD [2309,2332]
                                    String: "name" [2309,2315]
                                    STRING [2316,2332]
                                        String: "Loading cache." [2316,2332]
                                FIELD [2333,2358]
                                    String: "uses" [2333,2339]
                                    STRING [2340,2358]
                                        String: "actions/cache@v2" [2340,2358]
                                FIELD [2359,2371]
                                    String: "id" [2359,2363]
                                    STRING [2364,2371]
                                        String: "cache" [2364,2371]
                                FIELD [2372,2464]
                                    String: "with" [2372,2378]
                                    OBJECT [2379,2464]
                                        FIELD [2380,2393]
                                            String: "path" [2380,2386]
                                            STRING [2387,2393]
                                                String: ".env" [2387,2393]
                                        FIELD [2394,2463]
                                            String: "key" [2394,2399]
                                            STRING [2400,2463]
                                                String: "v0-slow_tests_tf_torch_multi_gpu-${{ hashFiles('setup.py') }}" [2400,2463]
                            OBJECT [2466,2547]
                                FIELD [2467,2490]
                                    String: "name" [2467,2473]
                                    STRING [2474,2490]
                                        String: "Python version" [2474,2490]
                                FIELD [2491,2546]
                                    String: "run" [2491,2496]
                                    STRING [2497,2546]
                                        String: "which python\npython --version\npip --version\n" [2497,2546]
                            OBJECT [2548,2582]
                                FIELD [2549,2569]
                                    String: "name" [2549,2555]
                                    STRING [2556,2569]
                                        String: "Current dir" [2556,2569]
                                FIELD [2570,2581]
                                    String: "run" [2570,2575]
                                    STRING [2576,2581]
                                        String: "pwd" [2576,2581]
                            OBJECT [2583,2603]
                                FIELD [2584,2602]
                                    String: "run" [2584,2589]
                                    STRING [2590,2602]
                                        String: "nvidia-smi" [2590,2602]
                            OBJECT [2604,2849]
                                FIELD [2605,2698]
                                    String: "name" [2605,2611]
                                    STRING [2612,2698]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [2612,2698]
                                FIELD [2699,2745]
                                    String: "if" [2699,2703]
                                    STRING [2704,2745]
                                        String: "steps.cache.outputs.cache-hit != 'true'" [2704,2745]
                                FIELD [2746,2848]
                                    String: "run" [2746,2751]
                                    STRING [2752,2848]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [2752,2848]
                            OBJECT [2850,3070]
                                FIELD [2851,2880]
                                    String: "name" [2851,2857]
                                    STRING [2858,2880]
                                        String: "Install dependencies" [2858,2880]
                                FIELD [2881,3069]
                                    String: "run" [2881,2886]
                                    STRING [2887,3069]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install torch!=1.6.0\npip install .[sklearn,testing,onnxruntime]\npip install git+https://github.com/huggingface/datasets\n" [2887,3069]
                            OBJECT [3071,3329]
                                FIELD [3072,3121]
                                    String: "name" [3072,3078]
                                    STRING [3079,3121]
                                        String: "Are GPUs recognized by our DL frameworks" [3079,3121]
                                FIELD [3122,3328]
                                    String: "run" [3122,3127]
                                    STRING [3128,3328]
                                        String: "source .env/bin/activate\npython -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [3128,3328]
                            OBJECT [3330,3541]
                                FIELD [3331,3360]
                                    String: "name" [3331,3337]
                                    STRING [3338,3360]
                                        String: "Run all tests on GPU" [3338,3360]
                                FIELD [3361,3439]
                                    String: "env" [3361,3366]
                                    OBJECT [3367,3439]
                                        FIELD [3368,3402]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [3368,3395]
                                            STRING [3396,3402]
                                                String: "true" [3396,3402]
                                        FIELD [3403,3422]
                                            String: "OMP_NUM_THREADS" [3403,3420]
                                            NUMBER [3421,3422]
                                                Number: 1 [3421,3422]
                                        FIELD [3423,3438]
                                            String: "RUN_SLOW" [3423,3433]
                                            TRUE [3434,3438]
                                FIELD [3440,3540]
                                    String: "run" [3440,3445]
                                    STRING [3446,3540]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s ./tests/ --durations=50\n" [3446,3540]
                            OBJECT [3542,3800]
                                FIELD [3543,3577]
                                    String: "name" [3543,3549]
                                    STRING [3550,3577]
                                        String: "Run examples tests on GPU" [3550,3577]
                                FIELD [3578,3656]
                                    String: "env" [3578,3583]
                                    OBJECT [3584,3656]
                                        FIELD [3585,3619]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [3585,3612]
                                            STRING [3613,3619]
                                                String: "true" [3613,3619]
                                        FIELD [3620,3639]
                                            String: "OMP_NUM_THREADS" [3620,3637]
                                            NUMBER [3638,3639]
                                                Number: 1 [3638,3639]
                                        FIELD [3640,3655]
                                            String: "RUN_SLOW" [3640,3650]
                                            TRUE [3651,3655]
                                FIELD [3657,3799]
                                    String: "run" [3657,3662]
                                    STRING [3663,3799]
                                        String: "source .env/bin/activate\npip install -r examples/requirements.txt\npython -m pytest -n 1 --dist=loadfile -s examples --durations=50\n" [3663,3799]
                            OBJECT [3801,4065]
                                FIELD [3802,3840]
                                    String: "name" [3802,3808]
                                    STRING [3809,3840]
                                        String: "Run all pipeline tests on GPU" [3809,3840]
                                FIELD [3841,3945]
                                    String: "env" [3841,3846]
                                    OBJECT [3847,3945]
                                        FIELD [3848,3882]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [3848,3875]
                                            STRING [3876,3882]
                                                String: "true" [3876,3882]
                                        FIELD [3883,3902]
                                            String: "OMP_NUM_THREADS" [3883,3900]
                                            NUMBER [3901,3902]
                                                Number: 1 [3901,3902]
                                        FIELD [3903,3918]
                                            String: "RUN_SLOW" [3903,3913]
                                            TRUE [3914,3918]
                                        FIELD [3919,3944]
                                            String: "RUN_PIPELINE_TESTS" [3919,3939]
                                            TRUE [3940,3944]
                                FIELD [3946,4064]
                                    String: "run" [3946,3951]
                                    STRING [3952,4064]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s ./tests/ -m is_pipeline_test --durations=50" [3952,4064]