OBJECT [0,10605]
    FIELD [1,16]
        String: "name" [1,7]
        STRING [8,16]
            String: "Master" [8,16]
    FIELD [17,132]
        String: "on" [17,21]
        OBJECT [22,132]
            FIELD [23,53]
                String: "push" [23,29]
                OBJECT [30,53]
                    FIELD [31,52]
                        String: "branches" [31,41]
                        ARRAY [42,52]
                            STRING [43,51]
                                String: "master" [43,51]
            FIELD [54,87]
                String: "release" [54,63]
                OBJECT [64,87]
                    FIELD [65,86]
                        String: "types" [65,72]
                        ARRAY [73,86]
                            STRING [74,85]
                                String: "published" [74,85]
            FIELD [88,131]
                String: "schedule" [88,98]
                ARRAY [99,131]
                    OBJECT [100,130]
                        FIELD [101,129]
                            String: "cron" [101,107]
                            STRING [108,129]
                                String: "37 11 * * 1,2,3,4,5" [108,129]
    FIELD [133,10604]
        String: "jobs" [133,139]
        OBJECT [140,10604]
            FIELD [141,686]
                String: "gpu_checks" [141,153]
                OBJECT [154,686]
                    FIELD [155,174]
                        String: "name" [155,161]
                        STRING [162,174]
                            String: "GPU Checks" [162,174]
                    FIELD [175,221]
                        String: "if" [175,179]
                        STRING [180,221]
                            String: "github.repository == 'allenai/allennlp'" [180,221]
                    FIELD [222,253]
                        String: "runs-on" [222,231]
                        ARRAY [232,253]
                            STRING [233,246]
                                String: "self-hosted" [233,246]
                            STRING [247,252]
                                String: "GPU" [247,252]
                    FIELD [254,685]
                        String: "steps" [254,261]
                        ARRAY [262,685]
                            OBJECT [263,293]
                                FIELD [264,292]
                                    String: "uses" [264,270]
                                    STRING [271,292]
                                        String: "actions/checkout@v2" [271,292]
                            OBJECT [294,505]
                                FIELD [295,318]
                                    String: "name" [295,301]
                                    STRING [302,318]
                                        String: "Set Docker tag" [302,318]
                                FIELD [319,504]
                                    String: "run" [319,324]
                                    STRING [325,504]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCKER_TAG=${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCKER_TAG=$GITHUB_SHA\" >> $GITHUB_ENV;\nfi\n" [325,504]
                            OBJECT [506,589]
                                FIELD [507,532]
                                    String: "name" [507,513]
                                    STRING [514,532]
                                        String: "Build test image" [514,532]
                                FIELD [533,588]
                                    String: "run" [533,538]
                                    STRING [539,588]
                                        String: "make docker-test-image DOCKER_TAG=$DOCKER_TAG\n" [539,588]
                            OBJECT [590,684]
                                FIELD [591,613]
                                    String: "name" [591,597]
                                    STRING [598,613]
                                        String: "Run GPU tests" [598,613]
                                FIELD [614,683]
                                    String: "run" [614,619]
                                    STRING [620,683]
                                        String: "make docker-test-run DOCKER_TAG=$DOCKER_TAG ARGS='gpu-test'\n" [620,683]
            FIELD [687,1992]
                String: "check_core" [687,699]
                OBJECT [700,1992]
                    FIELD [701,720]
                        String: "name" [701,707]
                        STRING [708,720]
                            String: "Check Core" [708,720]
                    FIELD [721,802]
                        String: "if" [721,725]
                        STRING [726,802]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [726,802]
                    FIELD [803,828]
                        String: "runs-on" [803,812]
                        STRING [813,828]
                            String: "ubuntu-latest" [813,828]
                    FIELD [829,875]
                        String: "strategy" [829,839]
                        OBJECT [840,875]
                            FIELD [841,874]
                                String: "matrix" [841,849]
                                OBJECT [850,874]
                                    FIELD [851,873]
                                        String: "python" [851,859]
                                        ARRAY [860,873]
                                            STRING [861,866]
                                                String: "3.7" [861,866]
                                            STRING [867,872]
                                                String: "3.8" [867,872]
                    FIELD [876,1991]
                        String: "steps" [876,883]
                        ARRAY [884,1991]
                            OBJECT [885,915]
                                FIELD [886,914]
                                    String: "uses" [886,892]
                                    STRING [893,914]
                                        String: "actions/checkout@v2" [893,914]
                            OBJECT [916,1021]
                                FIELD [917,938]
                                    String: "name" [917,923]
                                    STRING [924,938]
                                        String: "Setup Python" [924,938]
                                FIELD [939,971]
                                    String: "uses" [939,945]
                                    STRING [946,971]
                                        String: "actions/setup-python@v1" [946,971]
                                FIELD [972,1020]
                                    String: "with" [972,978]
                                    OBJECT [979,1020]
                                        FIELD [980,1019]
                                            String: "python-version" [980,996]
                                            STRING [997,1019]
                                                String: "${{ matrix.python }}" [997,1019]
                            OBJECT [1022,1221]
                                FIELD [1023,1048]
                                    String: "uses" [1023,1029]
                                    STRING [1030,1048]
                                        String: "actions/cache@v2" [1030,1048]
                                FIELD [1049,1220]
                                    String: "with" [1049,1055]
                                    OBJECT [1056,1220]
                                        FIELD [1057,1091]
                                            String: "path" [1057,1063]
                                            STRING [1064,1091]
                                                String: "${{ env.pythonLocation }}" [1064,1091]
                                        FIELD [1092,1219]
                                            String: "key" [1092,1097]
                                            STRING [1098,1219]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [1098,1219]
                            OBJECT [1222,1276]
                                FIELD [1223,1252]
                                    String: "name" [1223,1229]
                                    STRING [1230,1252]
                                        String: "Install requirements" [1230,1252]
                                FIELD [1253,1275]
                                    String: "run" [1253,1258]
                                    STRING [1259,1275]
                                        String: "make install\n" [1259,1275]
                            OBJECT [1277,1319]
                                FIELD [1278,1297]
                                    String: "name" [1278,1284]
                                    STRING [1285,1297]
                                        String: "Debug info" [1285,1297]
                                FIELD [1298,1318]
                                    String: "run" [1298,1303]
                                    STRING [1304,1318]
                                        String: "pip freeze\n" [1304,1318]
                            OBJECT [1320,1375]
                                FIELD [1321,1336]
                                    String: "name" [1321,1327]
                                    STRING [1328,1336]
                                        String: "Format" [1328,1336]
                                FIELD [1337,1352]
                                    String: "if" [1337,1341]
                                    STRING [1342,1352]
                                        String: "always()" [1342,1352]
                                FIELD [1353,1374]
                                    String: "run" [1353,1358]
                                    STRING [1359,1374]
                                        String: "make format\n" [1359,1374]
                            OBJECT [1376,1427]
                                FIELD [1377,1390]
                                    String: "name" [1377,1383]
                                    STRING [1384,1390]
                                        String: "Lint" [1384,1390]
                                FIELD [1391,1406]
                                    String: "if" [1391,1395]
                                    STRING [1396,1406]
                                        String: "always()" [1396,1406]
                                FIELD [1407,1426]
                                    String: "run" [1407,1412]
                                    STRING [1413,1426]
                                        String: "make lint\n" [1413,1426]
                            OBJECT [1428,1490]
                                FIELD [1429,1448]
                                    String: "name" [1429,1435]
                                    STRING [1436,1448]
                                        String: "Type check" [1436,1448]
                                FIELD [1449,1464]
                                    String: "if" [1449,1453]
                                    STRING [1454,1464]
                                        String: "always()" [1454,1464]
                                FIELD [1465,1489]
                                    String: "run" [1465,1470]
                                    STRING [1471,1489]
                                        String: "make typecheck\n" [1471,1489]
                            OBJECT [1491,1556]
                                FIELD [1492,1510]
                                    String: "name" [1492,1498]
                                    STRING [1499,1510]
                                        String: "Run tests" [1499,1510]
                                FIELD [1511,1526]
                                    String: "if" [1511,1515]
                                    STRING [1516,1526]
                                        String: "always()" [1516,1526]
                                FIELD [1527,1555]
                                    String: "run" [1527,1532]
                                    STRING [1533,1555]
                                        String: "make test-with-cov\n" [1533,1555]
                            OBJECT [1557,1791]
                                FIELD [1558,1593]
                                    String: "name" [1558,1564]
                                    STRING [1565,1593]
                                        String: "Upload coverage to Codecov" [1565,1593]
                                FIELD [1594,1697]
                                    String: "if" [1594,1598]
                                    STRING [1599,1697]
                                        String: "matrix.python == '3.7' && github.repository == 'allenai/allennlp' && github.event_name == 'push'" [1599,1697]
                                FIELD [1698,1732]
                                    String: "uses" [1698,1704]
                                    STRING [1705,1732]
                                        String: "codecov/codecov-action@v1" [1705,1732]
                                FIELD [1733,1790]
                                    String: "with" [1733,1739]
                                    OBJECT [1740,1790]
                                        FIELD [1741,1764]
                                            String: "file" [1741,1747]
                                            STRING [1748,1764]
                                                String: "./coverage.xml" [1748,1764]
                                        FIELD [1765,1789]
                                            String: "fail_ci_if_error" [1765,1783]
                                            FALSE [1784,1789]
                            OBJECT [1792,1990]
                                FIELD [1793,1810]
                                    String: "name" [1793,1799]
                                    STRING [1800,1810]
                                        String: "Clean up" [1800,1810]
                                FIELD [1811,1826]
                                    String: "if" [1811,1815]
                                    STRING [1816,1826]
                                        String: "always()" [1816,1826]
                                FIELD [1827,1989]
                                    String: "run" [1827,1832]
                                    STRING [1833,1989]
                                        String: "# Could run into issues with the cache if we don't uninstall the editable.\n# See https://github.com/pypa/pip/issues/4537.\npip uninstall --yes allennlp\n" [1833,1989]
            FIELD [1993,3058]
                String: "check_models" [1993,2007]
                OBJECT [2008,3058]
                    FIELD [2009,2030]
                        String: "name" [2009,2015]
                        STRING [2016,2030]
                            String: "Check Models" [2016,2030]
                    FIELD [2031,2112]
                        String: "if" [2031,2035]
                        STRING [2036,2112]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [2036,2112]
                    FIELD [2113,2138]
                        String: "runs-on" [2113,2122]
                        STRING [2123,2138]
                            String: "ubuntu-latest" [2123,2138]
                    FIELD [2139,2185]
                        String: "strategy" [2139,2149]
                        OBJECT [2150,2185]
                            FIELD [2151,2184]
                                String: "matrix" [2151,2159]
                                OBJECT [2160,2184]
                                    FIELD [2161,2183]
                                        String: "python" [2161,2169]
                                        ARRAY [2170,2183]
                                            STRING [2171,2176]
                                                String: "3.7" [2171,2176]
                                            STRING [2177,2182]
                                                String: "3.8" [2177,2182]
                    FIELD [2186,3057]
                        String: "steps" [2186,2193]
                        ARRAY [2194,3057]
                            OBJECT [2195,2225]
                                FIELD [2196,2224]
                                    String: "uses" [2196,2202]
                                    STRING [2203,2224]
                                        String: "actions/checkout@v2" [2203,2224]
                            OBJECT [2226,2331]
                                FIELD [2227,2248]
                                    String: "name" [2227,2233]
                                    STRING [2234,2248]
                                        String: "Setup Python" [2234,2248]
                                FIELD [2249,2281]
                                    String: "uses" [2249,2255]
                                    STRING [2256,2281]
                                        String: "actions/setup-python@v1" [2256,2281]
                                FIELD [2282,2330]
                                    String: "with" [2282,2288]
                                    OBJECT [2289,2330]
                                        FIELD [2290,2329]
                                            String: "python-version" [2290,2306]
                                            STRING [2307,2329]
                                                String: "${{ matrix.python }}" [2307,2329]
                            OBJECT [2332,2531]
                                FIELD [2333,2358]
                                    String: "uses" [2333,2339]
                                    STRING [2340,2358]
                                        String: "actions/cache@v2" [2340,2358]
                                FIELD [2359,2530]
                                    String: "with" [2359,2365]
                                    OBJECT [2366,2530]
                                        FIELD [2367,2401]
                                            String: "path" [2367,2373]
                                            STRING [2374,2401]
                                                String: "${{ env.pythonLocation }}" [2374,2401]
                                        FIELD [2402,2529]
                                            String: "key" [2402,2407]
                                            STRING [2408,2529]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [2408,2529]
                            OBJECT [2532,2586]
                                FIELD [2533,2562]
                                    String: "name" [2533,2539]
                                    STRING [2540,2562]
                                        String: "Install requirements" [2540,2562]
                                FIELD [2563,2585]
                                    String: "run" [2563,2568]
                                    STRING [2569,2585]
                                        String: "make install\n" [2569,2585]
                            OBJECT [2587,2629]
                                FIELD [2588,2607]
                                    String: "name" [2588,2594]
                                    STRING [2595,2607]
                                        String: "Debug info" [2595,2607]
                                FIELD [2608,2628]
                                    String: "run" [2608,2613]
                                    STRING [2614,2628]
                                        String: "pip freeze\n" [2614,2628]
                            OBJECT [2630,2874]
                                FIELD [2631,2668]
                                    String: "name" [2631,2637]
                                    STRING [2638,2668]
                                        String: "Pull and install models repo" [2638,2668]
                                FIELD [2669,2707]
                                    String: "env" [2669,2674]
                                    OBJECT [2675,2707]
                                        FIELD [2676,2706]
                                            String: "ALLENNLP_VERSION_OVERRIDE" [2676,2703]
                                            STRING [2704,2706]
                                                String: "" [2704,2706]
                                FIELD [2708,2873]
                                    String: "run" [2708,2713]
                                    STRING [2714,2873]
                                        String: "git clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models && pip install --upgrade --upgrade-strategy eager -e . -r dev-requirements.txt\n" [2714,2873]
                            OBJECT [2875,2944]
                                FIELD [2876,2901]
                                    String: "name" [2876,2882]
                                    STRING [2883,2901]
                                        String: "Run models tests" [2883,2901]
                                FIELD [2902,2943]
                                    String: "run" [2902,2907]
                                    STRING [2908,2943]
                                        String: "cd allennlp-models && make test\n" [2908,2943]
                            OBJECT [2945,3056]
                                FIELD [2946,2963]
                                    String: "name" [2946,2952]
                                    STRING [2953,2963]
                                        String: "Clean up" [2953,2963]
                                FIELD [2964,2979]
                                    String: "if" [2964,2968]
                                    STRING [2969,2979]
                                        String: "always()" [2969,2979]
                                FIELD [2980,3055]
                                    String: "run" [2980,2985]
                                    STRING [2986,3055]
                                        String: "pip uninstall --yes allennlp\npip uninstall --yes allennlp_models\n" [2986,3055]
            FIELD [3059,4946]
                String: "build_package" [3059,3074]
                OBJECT [3075,4946]
                    FIELD [3076,3098]
                        String: "name" [3076,3082]
                        STRING [3083,3098]
                            String: "Build Package" [3083,3098]
                    FIELD [3099,3180]
                        String: "if" [3099,3103]
                        STRING [3104,3180]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [3104,3180]
                    FIELD [3181,3206]
                        String: "runs-on" [3181,3190]
                        STRING [3191,3206]
                            String: "ubuntu-latest" [3191,3206]
                    FIELD [3207,4945]
                        String: "steps" [3207,3214]
                        ARRAY [3215,4945]
                            OBJECT [3216,3246]
                                FIELD [3217,3245]
                                    String: "uses" [3217,3223]
                                    STRING [3224,3245]
                                        String: "actions/checkout@v2" [3224,3245]
                            OBJECT [3247,3333]
                                FIELD [3248,3269]
                                    String: "name" [3248,3254]
                                    STRING [3255,3269]
                                        String: "Setup Python" [3255,3269]
                                FIELD [3270,3302]
                                    String: "uses" [3270,3276]
                                    STRING [3277,3302]
                                        String: "actions/setup-python@v1" [3277,3302]
                                FIELD [3303,3332]
                                    String: "with" [3303,3309]
                                    OBJECT [3310,3332]
                                        FIELD [3311,3331]
                                            String: "python-version" [3311,3327]
                                            NUMBER [3328,3331]
                                                Number: 3.7 [3328,3331]
                            OBJECT [3334,3533]
                                FIELD [3335,3360]
                                    String: "uses" [3335,3341]
                                    STRING [3342,3360]
                                        String: "actions/cache@v2" [3342,3360]
                                FIELD [3361,3532]
                                    String: "with" [3361,3367]
                                    OBJECT [3368,3532]
                                        FIELD [3369,3403]
                                            String: "path" [3369,3375]
                                            STRING [3376,3403]
                                                String: "${{ env.pythonLocation }}" [3376,3403]
                                        FIELD [3404,3531]
                                            String: "key" [3404,3409]
                                            STRING [3410,3531]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [3410,3531]
                            OBJECT [3534,3588]
                                FIELD [3535,3564]
                                    String: "name" [3535,3541]
                                    STRING [3542,3564]
                                        String: "Install requirements" [3542,3564]
                                FIELD [3565,3587]
                                    String: "run" [3565,3570]
                                    STRING [3571,3587]
                                        String: "make install\n" [3571,3587]
                            OBJECT [3589,4226]
                                FIELD [3590,3628]
                                    String: "name" [3590,3596]
                                    STRING [3597,3628]
                                        String: "Check and set nightly version" [3597,3628]
                                FIELD [3629,3667]
                                    String: "if" [3629,3633]
                                    STRING [3634,3667]
                                        String: "github.event_name == 'schedule'" [3634,3667]
                                FIELD [3668,4225]
                                    String: "run" [3668,3673]
                                    STRING [3674,4225]
                                        String: "# Verify that current version is ahead of the last release.\nLATEST=$(scripts/get_version.py latest)\nCURRENT=$(scripts/get_version.py current)\nif [ \"$CURRENT\" == \"$LATEST\" ]; then\n    echo \"Current version needs to be ahead of latest release in order to build nightly release\";\n    exit 1;\nfi\n# This is somewhat bizarre, but you can't set env variables to bash\n# commands in the action workflow - so we have to use this odd way of\n# exporting a variable instead.\necho \"ALLENNLP_VERSION_SUFFIX=dev$(date -u +%Y%m%d)\" >> $GITHUB_ENV\n" [3674,4225]
                            OBJECT [4227,4581]
                                FIELD [4228,4272]
                                    String: "name" [4228,4234]
                                    STRING [4235,4272]
                                        String: "Check version and release tag match" [4235,4272]
                                FIELD [4273,4310]
                                    String: "if" [4273,4277]
                                    STRING [4278,4310]
                                        String: "github.event_name == 'release'" [4278,4310]
                                FIELD [4311,4580]
                                    String: "run" [4311,4316]
                                    STRING [4317,4580]
                                        String: "# Remove 'refs/tags/' to get the actual tag from the release.\nTAG=${GITHUB_REF#refs/tags/};\nVERSION=$(scripts/get_version.py current)\nif [ \"$TAG\" != \"$VERSION\" ]; then\n    echo \"Bad tag or version. Tag $TAG does not match $VERSION\";\n    exit 1;\nfi\n" [4317,4580]
                            OBJECT [4582,4759]
                                FIELD [4583,4610]
                                    String: "name" [4583,4589]
                                    STRING [4590,4610]
                                        String: "Build core package" [4590,4610]
                                FIELD [4611,4758]
                                    String: "run" [4611,4616]
                                    STRING [4617,4758]
                                        String: "echo \"Building packages for core release\"\n# Just print out the version for debugging.\nmake version\npython setup.py bdist_wheel sdist\n" [4617,4758]
                            OBJECT [4760,4869]
                                FIELD [4761,4787]
                                    String: "name" [4761,4767]
                                    STRING [4768,4787]
                                        String: "Save core package" [4768,4787]
                                FIELD [4788,4823]
                                    String: "uses" [4788,4794]
                                    STRING [4795,4823]
                                        String: "actions/upload-artifact@v1" [4795,4823]
                                FIELD [4824,4868]
                                    String: "with" [4824,4830]
                                    OBJECT [4831,4868]
                                        FIELD [4832,4853]
                                            String: "name" [4832,4838]
                                            STRING [4839,4853]
                                                String: "core-package" [4839,4853]
                                        FIELD [4854,4867]
                                            String: "path" [4854,4860]
                                            STRING [4861,4867]
                                                String: "dist" [4861,4867]
                            OBJECT [4870,4944]
                                FIELD [4871,4888]
                                    String: "name" [4871,4877]
                                    STRING [4878,4888]
                                        String: "Clean up" [4878,4888]
                                FIELD [4889,4904]
                                    String: "if" [4889,4893]
                                    STRING [4894,4904]
                                        String: "always()" [4894,4904]
                                FIELD [4905,4943]
                                    String: "run" [4905,4910]
                                    STRING [4911,4943]
                                        String: "pip uninstall --yes allennlp\n" [4911,4943]
            FIELD [4947,5653]
                String: "test_package" [4947,4961]
                OBJECT [4962,5653]
                    FIELD [4963,4984]
                        String: "name" [4963,4969]
                        STRING [4970,4984]
                            String: "Test Package" [4970,4984]
                    FIELD [4985,5066]
                        String: "if" [4985,4989]
                        STRING [4990,5066]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [4990,5066]
                    FIELD [5067,5092]
                        String: "needs" [5067,5074]
                        ARRAY [5075,5092]
                            STRING [5076,5091]
                                String: "build_package" [5076,5091]
                    FIELD [5093,5118]
                        String: "runs-on" [5093,5102]
                        STRING [5103,5118]
                            String: "ubuntu-latest" [5103,5118]
                    FIELD [5119,5165]
                        String: "strategy" [5119,5129]
                        OBJECT [5130,5165]
                            FIELD [5131,5164]
                                String: "matrix" [5131,5139]
                                OBJECT [5140,5164]
                                    FIELD [5141,5163]
                                        String: "python" [5141,5149]
                                        ARRAY [5150,5163]
                                            STRING [5151,5156]
                                                String: "3.7" [5151,5156]
                                            STRING [5157,5162]
                                                String: "3.8" [5157,5162]
                    FIELD [5166,5652]
                        String: "steps" [5166,5173]
                        ARRAY [5174,5652]
                            OBJECT [5175,5280]
                                FIELD [5176,5197]
                                    String: "name" [5176,5182]
                                    STRING [5183,5197]
                                        String: "Setup Python" [5183,5197]
                                FIELD [5198,5230]
                                    String: "uses" [5198,5204]
                                    STRING [5205,5230]
                                        String: "actions/setup-python@v1" [5205,5230]
                                FIELD [5231,5279]
                                    String: "with" [5231,5237]
                                    OBJECT [5238,5279]
                                        FIELD [5239,5278]
                                            String: "python-version" [5239,5255]
                                            STRING [5256,5278]
                                                String: "${{ matrix.python }}" [5256,5278]
                            OBJECT [5281,5365]
                                FIELD [5282,5311]
                                    String: "name" [5282,5288]
                                    STRING [5289,5311]
                                        String: "Install requirements" [5289,5311]
                                FIELD [5312,5364]
                                    String: "run" [5312,5317]
                                    STRING [5318,5364]
                                        String: "pip install --upgrade pip setuptools wheel\n" [5318,5364]
                            OBJECT [5366,5481]
                                FIELD [5367,5397]
                                    String: "name" [5367,5373]
                                    STRING [5374,5397]
                                        String: "Download core package" [5374,5397]
                                FIELD [5398,5435]
                                    String: "uses" [5398,5404]
                                    STRING [5405,5435]
                                        String: "actions/download-artifact@v1" [5405,5435]
                                FIELD [5436,5480]
                                    String: "with" [5436,5442]
                                    OBJECT [5443,5480]
                                        FIELD [5444,5465]
                                            String: "name" [5444,5450]
                                            STRING [5451,5465]
                                                String: "core-package" [5451,5465]
                                        FIELD [5466,5479]
                                            String: "path" [5466,5472]
                                            STRING [5473,5479]
                                                String: "dist" [5473,5479]
                            OBJECT [5482,5552]
                                FIELD [5483,5512]
                                    String: "name" [5483,5489]
                                    STRING [5490,5512]
                                        String: "Install core package" [5490,5512]
                                FIELD [5513,5551]
                                    String: "run" [5513,5518]
                                    STRING [5519,5551]
                                        String: "pip install $(ls dist/*.whl)\n" [5519,5551]
                            OBJECT [5553,5595]
                                FIELD [5554,5573]
                                    String: "name" [5554,5560]
                                    STRING [5561,5573]
                                        String: "Pip freeze" [5561,5573]
                                FIELD [5574,5594]
                                    String: "run" [5574,5579]
                                    STRING [5580,5594]
                                        String: "pip freeze\n" [5580,5594]
                            OBJECT [5596,5651]
                                FIELD [5597,5618]
                                    String: "name" [5597,5603]
                                    STRING [5604,5618]
                                        String: "Test install" [5604,5618]
                                FIELD [5619,5650]
                                    String: "run" [5619,5624]
                                    STRING [5625,5650]
                                        String: "allennlp test-install\n" [5625,5650]
            FIELD [5654,7036]
                String: "docker" [5654,5662]
                OBJECT [5663,7036]
                    FIELD [5664,5679]
                        String: "name" [5664,5670]
                        STRING [5671,5679]
                            String: "Docker" [5671,5679]
                    FIELD [5680,5761]
                        String: "if" [5680,5684]
                        STRING [5685,5761]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [5685,5761]
                    FIELD [5762,5787]
                        String: "needs" [5762,5769]
                        ARRAY [5770,5787]
                            STRING [5771,5786]
                                String: "build_package" [5771,5786]
                    FIELD [5788,5813]
                        String: "runs-on" [5788,5797]
                        STRING [5798,5813]
                            String: "ubuntu-latest" [5798,5813]
                    FIELD [5814,7035]
                        String: "steps" [5814,5821]
                        ARRAY [5822,7035]
                            OBJECT [5823,5853]
                                FIELD [5824,5852]
                                    String: "uses" [5824,5830]
                                    STRING [5831,5852]
                                        String: "actions/checkout@v2" [5831,5852]
                            OBJECT [5854,6120]
                                FIELD [5855,5885]
                                    String: "name" [5855,5861]
                                    STRING [5862,5885]
                                        String: "Set Docker image name" [5862,5885]
                                FIELD [5886,6119]
                                    String: "run" [5886,5891]
                                    STRING [5892,6119]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCKER_IMAGE_NAME=allennlp/allennlp:${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCKER_IMAGE_NAME=allennlp/commit:$GITHUB_SHA\" >> $GITHUB_ENV;\nfi\n" [5892,6119]
                            OBJECT [6121,6236]
                                FIELD [6122,6152]
                                    String: "name" [6122,6128]
                                    STRING [6129,6152]
                                        String: "Download core package" [6129,6152]
                                FIELD [6153,6190]
                                    String: "uses" [6153,6159]
                                    STRING [6160,6190]
                                        String: "actions/download-artifact@v1" [6160,6190]
                                FIELD [6191,6235]
                                    String: "with" [6191,6197]
                                    OBJECT [6198,6235]
                                        FIELD [6199,6220]
                                            String: "name" [6199,6205]
                                            STRING [6206,6220]
                                                String: "core-package" [6206,6220]
                                        FIELD [6221,6234]
                                            String: "path" [6221,6227]
                                            STRING [6228,6234]
                                                String: "dist" [6228,6234]
                            OBJECT [6237,6324]
                                FIELD [6238,6258]
                                    String: "name" [6238,6244]
                                    STRING [6245,6258]
                                        String: "Build image" [6245,6258]
                                FIELD [6259,6323]
                                    String: "run" [6259,6264]
                                    STRING [6265,6323]
                                        String: "make docker-image DOCKER_IMAGE_NAME=$DOCKER_IMAGE_NAME\n" [6265,6323]
                            OBJECT [6325,6429]
                                FIELD [6326,6345]
                                    String: "name" [6326,6332]
                                    STRING [6333,6345]
                                        String: "Test image" [6333,6345]
                                FIELD [6346,6428]
                                    String: "run" [6346,6351]
                                    STRING [6352,6428]
                                        String: "make docker-run DOCKER_IMAGE_NAME=$DOCKER_IMAGE_NAME ARGS='test-install'\n" [6352,6428]
                            OBJECT [6430,6661]
                                FIELD [6431,6459]
                                    String: "name" [6431,6437]
                                    STRING [6438,6459]
                                        String: "Upload master image" [6438,6459]
                                FIELD [6460,6537]
                                    String: "if" [6460,6464]
                                    STRING [6465,6537]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'push'" [6465,6537]
                                FIELD [6538,6660]
                                    String: "run" [6538,6543]
                                    STRING [6544,6660]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\ndocker push $DOCKER_IMAGE_NAME\n" [6544,6660]
                            OBJECT [6662,7034]
                                FIELD [6663,6692]
                                    String: "name" [6663,6669]
                                    STRING [6670,6692]
                                        String: "Upload release image" [6670,6692]
                                FIELD [6693,6773]
                                    String: "if" [6693,6697]
                                    STRING [6698,6773]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [6698,6773]
                                FIELD [6774,7033]
                                    String: "run" [6774,6779]
                                    STRING [6780,7033]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\n\n# Tag with latest.\ndocker tag $DOCKER_IMAGE_NAME allennlp/allennlp:latest\n\n# Push both tags.\ndocker push $DOCKER_IMAGE_NAME\ndocker push allennlp/allennlp:latest\n" [6780,7033]
            FIELD [7037,9936]
                String: "docs" [7037,7043]
                OBJECT [7044,9936]
                    FIELD [7045,7058]
                        String: "name" [7045,7051]
                        STRING [7052,7058]
                            String: "Docs" [7052,7058]
                    FIELD [7059,7140]
                        String: "if" [7059,7063]
                        STRING [7064,7140]
                            String: "github.repository == 'allenai/allennlp' || github.event_name != 'schedule'" [7064,7140]
                    FIELD [7141,7166]
                        String: "runs-on" [7141,7150]
                        STRING [7151,7166]
                            String: "ubuntu-latest" [7151,7166]
                    FIELD [7167,9935]
                        String: "steps" [7167,7174]
                        ARRAY [7175,9935]
                            OBJECT [7176,7206]
                                FIELD [7177,7205]
                                    String: "uses" [7177,7183]
                                    STRING [7184,7205]
                                        String: "actions/checkout@v1" [7184,7205]
                            OBJECT [7207,7381]
                                FIELD [7208,7236]
                                    String: "name" [7208,7214]
                                    STRING [7215,7236]
                                        String: "Setup SSH Client 🔑" [7215,7236]
                                FIELD [7237,7283]
                                    String: "if" [7237,7241]
                                    STRING [7242,7283]
                                        String: "github.repository == 'allenai/allennlp'" [7242,7283]
                                FIELD [7284,7320]
                                    String: "uses" [7284,7290]
                                    STRING [7291,7320]
                                        String: "webfactory/ssh-agent@v0.2.0" [7291,7320]
                                FIELD [7321,7380]
                                    String: "with" [7321,7327]
                                    OBJECT [7328,7380]
                                        FIELD [7329,7379]
                                            String: "ssh-private-key" [7329,7346]
                                            STRING [7347,7379]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [7347,7379]
                            OBJECT [7382,7468]
                                FIELD [7383,7404]
                                    String: "name" [7383,7389]
                                    STRING [7390,7404]
                                        String: "Setup Python" [7390,7404]
                                FIELD [7405,7437]
                                    String: "uses" [7405,7411]
                                    STRING [7412,7437]
                                        String: "actions/setup-python@v1" [7412,7437]
                                FIELD [7438,7467]
                                    String: "with" [7438,7444]
                                    OBJECT [7445,7467]
                                        FIELD [7446,7466]
                                            String: "python-version" [7446,7462]
                                            NUMBER [7463,7466]
                                                Number: 3.7 [7463,7466]
                            OBJECT [7469,7668]
                                FIELD [7470,7495]
                                    String: "uses" [7470,7476]
                                    STRING [7477,7495]
                                        String: "actions/cache@v2" [7477,7495]
                                FIELD [7496,7667]
                                    String: "with" [7496,7502]
                                    OBJECT [7503,7667]
                                        FIELD [7504,7538]
                                            String: "path" [7504,7510]
                                            STRING [7511,7538]
                                                String: "${{ env.pythonLocation }}" [7511,7538]
                                        FIELD [7539,7666]
                                            String: "key" [7539,7544]
                                            STRING [7545,7666]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [7545,7666]
                            OBJECT [7669,7723]
                                FIELD [7670,7699]
                                    String: "name" [7670,7676]
                                    STRING [7677,7699]
                                        String: "Install requirements" [7677,7699]
                                FIELD [7700,7722]
                                    String: "run" [7700,7705]
                                    STRING [7706,7722]
                                        String: "make install\n" [7706,7722]
                            OBJECT [7724,7766]
                                FIELD [7725,7744]
                                    String: "name" [7725,7731]
                                    STRING [7732,7744]
                                        String: "Debug info" [7732,7744]
                                FIELD [7745,7765]
                                    String: "run" [7745,7750]
                                    STRING [7751,7765]
                                        String: "pip freeze\n" [7751,7765]
                            OBJECT [7767,7822]
                                FIELD [7768,7787]
                                    String: "name" [7768,7774]
                                    STRING [7775,7787]
                                        String: "Build docs" [7775,7787]
                                FIELD [7788,7821]
                                    String: "run" [7788,7793]
                                    STRING [7794,7821]
                                        String: "./scripts/build_docs.sh\n" [7794,7821]
                            OBJECT [7823,8049]
                                FIELD [7824,7846]
                                    String: "name" [7824,7830]
                                    STRING [7831,7846]
                                        String: "Configure Git" [7831,7846]
                                FIELD [7847,7893]
                                    String: "if" [7847,7851]
                                    STRING [7852,7893]
                                        String: "github.repository == 'allenai/allennlp'" [7852,7893]
                                FIELD [7894,8048]
                                    String: "run" [7894,7899]
                                    STRING [7900,8048]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [7900,8048]
                            OBJECT [8050,8262]
                                FIELD [8051,8078]
                                    String: "name" [8051,8057]
                                    STRING [8058,8078]
                                        String: "Set target folders" [8058,8078]
                                FIELD [8079,8261]
                                    String: "run" [8079,8084]
                                    STRING [8085,8261]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCS_FOLDER=${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCS_FOLDER=master\" >> $GITHUB_ENV;\nfi\n" [8085,8261]
                            OBJECT [8263,8706]
                                FIELD [8264,8283]
                                    String: "name" [8264,8270]
                                    STRING [8271,8283]
                                        String: "Stage docs" [8271,8283]
                                FIELD [8284,8365]
                                    String: "if" [8284,8288]
                                    STRING [8289,8365]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name != 'schedule'" [8289,8365]
                                FIELD [8366,8705]
                                    String: "run" [8366,8371]
                                    STRING [8372,8705]
                                        String: "echo \"Staging docs to $DOCS_FOLDER\"\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DOCS_FOLDER/\nmkdir -p ~/allennlp-docs/$DOCS_FOLDER\ncp -r site/* ~/allennlp-docs/$DOCS_FOLDER\n" [8372,8705]
                            OBJECT [8707,9624]
                                FIELD [8708,8733]
                                    String: "name" [8708,8714]
                                    STRING [8715,8733]
                                        String: "Update shortcuts" [8715,8733]
                                FIELD [8734,8814]
                                    String: "if" [8734,8738]
                                    STRING [8739,8814]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [8739,8814]
                                FIELD [8815,9623]
                                    String: "run" [8815,8820]
                                    STRING [8821,9623]
                                        String: "# Fail immediately if any step fails.\nset -e\n\nLATEST=$(./scripts/get_version.py latest)\nSTABLE=$(./scripts/get_version.py stable)\n\ncd ~/allennlp-docs/\n\necho \"Updating latest/index.html to point to $LATEST\"\nmkdir -p latest\ncat >latest/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${LATEST}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${LATEST}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n\necho \"Updating stable/index.html to point to $STABLE\"\nmkdir -p stable\ncat >stable/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${STABLE}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${STABLE}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n" [8821,9623]
                            OBJECT [9625,9859]
                                FIELD [9626,9646]
                                    String: "name" [9626,9632]
                                    STRING [9633,9646]
                                        String: "Deploy docs" [9633,9646]
                                FIELD [9647,9728]
                                    String: "if" [9647,9651]
                                    STRING [9652,9728]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name != 'schedule'" [9652,9728]
                                FIELD [9729,9858]
                                    String: "run" [9729,9734]
                                    STRING [9735,9858]
                                        String: "# And push them up to GitHub\ncd ~/allennlp-docs/\ngit add -A\ngit commit -m \"automated update of the docs\"\ngit push\n" [9735,9858]
                            OBJECT [9860,9934]
                                FIELD [9861,9878]
                                    String: "name" [9861,9867]
                                    STRING [9868,9878]
                                        String: "Clean up" [9868,9878]
                                FIELD [9879,9894]
                                    String: "if" [9879,9883]
                                    STRING [9884,9894]
                                        String: "always()" [9884,9894]
                                FIELD [9895,9933]
                                    String: "run" [9895,9900]
                                    STRING [9901,9933]
                                        String: "pip uninstall --yes allennlp\n" [9901,9933]
            FIELD [9937,10603]
                String: "publish" [9937,9946]
                OBJECT [9947,10603]
                    FIELD [9948,9961]
                        String: "name" [9948,9954]
                        STRING [9955,9961]
                            String: "PyPI" [9955,9961]
                    FIELD [9962,10059]
                        String: "needs" [9962,9969]
                        ARRAY [9970,10059]
                            STRING [9971,9983]
                                String: "check_core" [9971,9983]
                            STRING [9984,9998]
                                String: "check_models" [9984,9998]
                            STRING [9999,10011]
                                String: "gpu_checks" [9999,10011]
                            STRING [10012,10027]
                                String: "build_package" [10012,10027]
                            STRING [10028,10042]
                                String: "test_package" [10028,10042]
                            STRING [10043,10051]
                                String: "docker" [10043,10051]
                            STRING [10052,10058]
                                String: "docs" [10052,10058]
                    FIELD [10060,10137]
                        String: "if" [10060,10064]
                        STRING [10065,10137]
                            String: "github.repository == 'allenai/allennlp' && github.event_name != 'push'" [10065,10137]
                    FIELD [10138,10163]
                        String: "runs-on" [10138,10147]
                        STRING [10148,10163]
                            String: "ubuntu-latest" [10148,10163]
                    FIELD [10164,10602]
                        String: "steps" [10164,10171]
                        ARRAY [10172,10602]
                            OBJECT [10173,10203]
                                FIELD [10174,10202]
                                    String: "uses" [10174,10180]
                                    STRING [10181,10202]
                                        String: "actions/checkout@v2" [10181,10202]
                            OBJECT [10204,10290]
                                FIELD [10205,10226]
                                    String: "name" [10205,10211]
                                    STRING [10212,10226]
                                        String: "Setup Python" [10212,10226]
                                FIELD [10227,10259]
                                    String: "uses" [10227,10233]
                                    STRING [10234,10259]
                                        String: "actions/setup-python@v1" [10234,10259]
                                FIELD [10260,10289]
                                    String: "with" [10260,10266]
                                    OBJECT [10267,10289]
                                        FIELD [10268,10288]
                                            String: "python-version" [10268,10284]
                                            NUMBER [10285,10288]
                                                Number: 3.7 [10285,10288]
                            OBJECT [10291,10381]
                                FIELD [10292,10321]
                                    String: "name" [10292,10298]
                                    STRING [10299,10321]
                                        String: "Install requirements" [10299,10321]
                                FIELD [10322,10380]
                                    String: "run" [10322,10327]
                                    STRING [10328,10380]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [10328,10380]
                            OBJECT [10382,10497]
                                FIELD [10383,10413]
                                    String: "name" [10383,10389]
                                    STRING [10390,10413]
                                        String: "Download core package" [10390,10413]
                                FIELD [10414,10451]
                                    String: "uses" [10414,10420]
                                    STRING [10421,10451]
                                        String: "actions/download-artifact@v1" [10421,10451]
                                FIELD [10452,10496]
                                    String: "with" [10452,10458]
                                    OBJECT [10459,10496]
                                        FIELD [10460,10481]
                                            String: "name" [10460,10466]
                                            STRING [10467,10481]
                                                String: "core-package" [10467,10481]
                                        FIELD [10482,10495]
                                            String: "path" [10482,10488]
                                            STRING [10489,10495]
                                                String: "dist" [10489,10495]
                            OBJECT [10498,10601]
                                FIELD [10499,10528]
                                    String: "name" [10499,10505]
                                    STRING [10506,10528]
                                        String: "Publish core package" [10506,10528]
                                FIELD [10529,10600]
                                    String: "run" [10529,10534]
                                    STRING [10535,10600]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [10535,10600]