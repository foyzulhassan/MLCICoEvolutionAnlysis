OBJECT [0,5788]
    FIELD [1,20]
        String: "name" [1,7]
        STRING [8,20]
            String: "MacRelease" [8,20]
    FIELD [21,95]
        String: "on" [21,25]
        OBJECT [26,95]
            FIELD [27,94]
                String: "workflow_call" [27,42]
                OBJECT [43,94]
                    FIELD [44,93]
                        String: "inputs" [44,52]
                        OBJECT [53,93]
                            FIELD [54,92]
                                String: "os" [54,58]
                                OBJECT [59,92]
                                    FIELD [60,75]
                                        String: "required" [60,70]
                                        TRUE [71,75]
                                    FIELD [76,91]
                                        String: "type" [76,82]
                                        STRING [83,91]
                                            String: "string" [83,91]
    FIELD [96,137]
        String: "env" [96,101]
        OBJECT [102,137]
            FIELD [103,136]
                String: "MACOSX_DEPLOYMENT_TARGET" [103,129]
                STRING [130,136]
                    String: "12.0" [130,136]
    FIELD [138,171]
        String: "permissions" [138,151]
        OBJECT [152,171]
            FIELD [153,170]
                String: "contents" [153,163]
                STRING [164,170]
                    String: "read" [164,170]
    FIELD [172,5787]
        String: "jobs" [172,178]
        OBJECT [179,5787]
            FIELD [180,1918]
                String: "build" [180,187]
                OBJECT [188,1918]
                    FIELD [189,344]
                        String: "if" [189,193]
                        STRING [194,344]
                            String: "github.event_name != 'pull_request' || startsWith( github.base_ref, 'rel-') || contains( github.event.pull_request.labels.*.name, 'run release CIs')" [194,344]
                    FIELD [345,369]
                        String: "runs-on" [345,354]
                        STRING [355,369]
                            String: "macos-latest" [355,369]
                    FIELD [370,486]
                        String: "strategy" [370,380]
                        OBJECT [381,486]
                            FIELD [382,485]
                                String: "matrix" [382,390]
                                OBJECT [391,485]
                                    FIELD [392,443]
                                        String: "python-version" [392,408]
                                        ARRAY [409,443]
                                            STRING [410,415]
                                                String: "3.8" [410,415]
                                            STRING [416,421]
                                                String: "3.9" [416,421]
                                            STRING [422,428]
                                                String: "3.10" [422,428]
                                            STRING [429,435]
                                                String: "3.11" [429,435]
                                            STRING [436,442]
                                                String: "3.12" [436,442]
                                    FIELD [444,484]
                                        String: "target-architecture" [444,465]
                                        ARRAY [466,484]
                                            STRING [467,475]
                                                String: "x86_64" [467,475]
                                            STRING [476,483]
                                                String: "arm64" [476,483]
                    FIELD [487,1917]
                        String: "steps" [487,494]
                        ARRAY [495,1917]
                            OBJECT [496,564]
                                FIELD [497,563]
                                    String: "uses" [497,503]
                                    STRING [504,563]
                                        String: "actions/checkout@692973e3d937129bcbf40652eb9f2f61becf3332" [504,563]
                            OBJECT [565,851]
                                FIELD [566,594]
                                    String: "name" [566,572]
                                    STRING [573,594]
                                        String: "Checkout submodules" [573,594]
                                FIELD [595,609]
                                    String: "shell" [595,602]
                                    STRING [603,609]
                                        String: "bash" [603,609]
                                FIELD [610,850]
                                    String: "run" [610,615]
                                    STRING [616,850]
                                        String: "auth_header=\"$(git config --local --get http.https://github.com/.extraheader)\"\ngit submodule sync --recursive\ngit -c \"http.extraheader=$auth_header\" -c protocol.version=2 submodule update --init --force --recursive --depth=1\n" [616,850]
                            OBJECT [852,1033]
                                FIELD [853,904]
                                    String: "name" [853,859]
                                    STRING [860,904]
                                        String: "Set up Python ${{ matrix.python-version }}" [860,904]
                                FIELD [905,975]
                                    String: "uses" [905,911]
                                    STRING [912,975]
                                        String: "actions/setup-python@f677139bbe7f9c59b41e40162b753c062f5d49a3" [912,975]
                                FIELD [976,1032]
                                    String: "with" [976,982]
                                    OBJECT [983,1032]
                                        FIELD [984,1031]
                                            String: "python-version" [984,1000]
                                            STRING [1001,1031]
                                                String: "${{ matrix.python-version }}" [1001,1031]
                            OBJECT [1034,1175]
                                FIELD [1035,1071]
                                    String: "name" [1035,1041]
                                    STRING [1042,1071]
                                        String: "Install Python dependencies" [1042,1071]
                                FIELD [1072,1174]
                                    String: "run" [1072,1077]
                                    STRING [1078,1174]
                                        String: "python -m pip install -q --upgrade pip\npython -m pip install -q -r requirements-release.txt\n" [1078,1174]
                            OBJECT [1176,1715]
                                FIELD [1177,1209]
                                    String: "name" [1177,1183]
                                    STRING [1184,1209]
                                        String: "Build wheel and install" [1184,1209]
                                FIELD [1210,1339]
                                    String: "env" [1210,1215]
                                    OBJECT [1216,1339]
                                        FIELD [1217,1229]
                                            String: "CC" [1217,1221]
                                            STRING [1222,1229]
                                                String: "clang" [1222,1229]
                                        FIELD [1230,1245]
                                            String: "CXX" [1230,1235]
                                            STRING [1236,1245]
                                                String: "clang++" [1236,1245]
                                        FIELD [1246,1257]
                                            String: "ONNX_ML" [1246,1255]
                                            NUMBER [1256,1257]
                                                Number: 1 [1256,1257]
                                        FIELD [1258,1298]
                                            String: "CMAKE_OSX_ARCHITECTURES" [1258,1283]
                                            STRING [1284,1298]
                                                String: "arm64;x86_64" [1284,1298]
                                        FIELD [1299,1338]
                                            String: "CMAKE_ARGS" [1299,1311]
                                            STRING [1312,1338]
                                                String: "-DONNX_USE_LITE_PROTO=ON" [1312,1338]
                                FIELD [1340,1714]
                                    String: "run" [1340,1345]
                                    STRING [1346,1714]
                                        String: "# Install Protobuf from source\nexport NUM_CORES=`sysctl -n hw.logicalcpu`\nsource workflow_scripts/protobuf/build_protobuf_unix.sh $NUM_CORES $(pwd)/protobuf/protobuf_install\nif [ '${{ github.event_name }}' == 'schedule' ]; then\n  sed -i '' 's/name = \"onnx\"/name = \"onnx-weekly\"/' 'pyproject.toml'\n  export ONNX_PREVIEW_BUILD=1\nfi\npython -m build --wheel\n" [1346,1714]
                            OBJECT [1716,1916]
                                FIELD [1717,1790]
                                    String: "uses" [1717,1723]
                                    STRING [1724,1790]
                                        String: "actions/upload-artifact@50769540e7f4bd5e21e526ee35c689e35e0d6874" [1724,1790]
                                FIELD [1791,1915]
                                    String: "with" [1791,1797]
                                    OBJECT [1798,1915]
                                        FIELD [1799,1894]
                                            String: "name" [1799,1805]
                                            STRING [1806,1894]
                                                String: "wheels-${{ inputs.os }}-${{ matrix.python-version }}-${{ matrix.target-architecture }}" [1806,1894]
                                        FIELD [1895,1914]
                                            String: "path" [1895,1901]
                                            STRING [1902,1914]
                                                String: "dist/*.whl" [1902,1914]
            FIELD [1919,5786]
                String: "test" [1919,1925]
                OBJECT [1926,5786]
                    FIELD [1927,1942]
                        String: "needs" [1927,1934]
                        STRING [1935,1942]
                            String: "build" [1935,1942]
                    FIELD [1943,2030]
                        String: "runs-on" [1943,1952]
                        STRING [1953,2030]
                            String: "${{ (matrix.target-architecture == 'x86_64') && 'macos-12' || 'macos-14' }}" [1953,2030]
                    FIELD [2031,2147]
                        String: "strategy" [2031,2041]
                        OBJECT [2042,2147]
                            FIELD [2043,2146]
                                String: "matrix" [2043,2051]
                                OBJECT [2052,2146]
                                    FIELD [2053,2104]
                                        String: "python-version" [2053,2069]
                                        ARRAY [2070,2104]
                                            STRING [2071,2076]
                                                String: "3.8" [2071,2076]
                                            STRING [2077,2082]
                                                String: "3.9" [2077,2082]
                                            STRING [2083,2089]
                                                String: "3.10" [2083,2089]
                                            STRING [2090,2096]
                                                String: "3.11" [2090,2096]
                                            STRING [2097,2103]
                                                String: "3.12" [2097,2103]
                                    FIELD [2105,2145]
                                        String: "target-architecture" [2105,2126]
                                        ARRAY [2127,2145]
                                            STRING [2128,2136]
                                                String: "x86_64" [2128,2136]
                                            STRING [2137,2144]
                                                String: "arm64" [2137,2144]
                    FIELD [2148,5785]
                        String: "steps" [2148,2155]
                        ARRAY [2156,5785]
                            OBJECT [2157,2225]
                                FIELD [2158,2224]
                                    String: "uses" [2158,2164]
                                    STRING [2165,2224]
                                        String: "actions/checkout@692973e3d937129bcbf40652eb9f2f61becf3332" [2165,2224]
                            OBJECT [2226,2407]
                                FIELD [2227,2278]
                                    String: "name" [2227,2233]
                                    STRING [2234,2278]
                                        String: "Set up Python ${{ matrix.python-version }}" [2234,2278]
                                FIELD [2279,2349]
                                    String: "uses" [2279,2285]
                                    STRING [2286,2349]
                                        String: "actions/setup-python@f677139bbe7f9c59b41e40162b753c062f5d49a3" [2286,2349]
                                FIELD [2350,2406]
                                    String: "with" [2350,2356]
                                    OBJECT [2357,2406]
                                        FIELD [2358,2405]
                                            String: "python-version" [2358,2374]
                                            STRING [2375,2405]
                                                String: "${{ matrix.python-version }}" [2375,2405]
                            OBJECT [2408,2629]
                                FIELD [2409,2445]
                                    String: "name" [2409,2415]
                                    STRING [2416,2445]
                                        String: "Install Python dependencies" [2416,2445]
                                FIELD [2446,2628]
                                    String: "run" [2446,2451]
                                    STRING [2452,2628]
                                        String: "arch -${{ matrix.target-architecture }} python -m pip install -q --upgrade pip\narch -${{ matrix.target-architecture }} python -m pip install -q -r requirements-release.txt\n" [2452,2628]
                            OBJECT [2630,2826]
                                FIELD [2631,2706]
                                    String: "uses" [2631,2637]
                                    STRING [2638,2706]
                                        String: "actions/download-artifact@fa0a91b85d4f404e444e00e005971372dc801d16" [2638,2706]
                                FIELD [2707,2825]
                                    String: "with" [2707,2713]
                                    OBJECT [2714,2825]
                                        FIELD [2715,2810]
                                            String: "name" [2715,2721]
                                            STRING [2722,2810]
                                                String: "wheels-${{ inputs.os }}-${{ matrix.python-version }}-${{ matrix.target-architecture }}" [2722,2810]
                                        FIELD [2811,2824]
                                            String: "path" [2811,2817]
                                            STRING [2818,2824]
                                                String: "dist" [2818,2824]
                            OBJECT [2827,2993]
                                FIELD [2828,2851]
                                    String: "name" [2828,2834]
                                    STRING [2835,2851]
                                        String: "Test the wheel" [2835,2851]
                                FIELD [2852,2992]
                                    String: "run" [2852,2857]
                                    STRING [2858,2992]
                                        String: "arch -${{ matrix.target-architecture }} python -m pip install --upgrade dist/*.whl\narch -${{ matrix.target-architecture }} pytest\n" [2858,2992]
                            OBJECT [2994,3278]
                                FIELD [2995,3031]
                                    String: "name" [2995,3001]
                                    STRING [3002,3031]
                                        String: "Upload wheel to PyPI weekly" [3002,3031]
                                FIELD [3032,3111]
                                    String: "if" [3032,3036]
                                    STRING [3037,3111]
                                        String: "github.event_name == 'schedule' && matrix.target-architecture == 'arm64'" [3037,3111]
                                FIELD [3112,3277]
                                    String: "run" [3112,3117]
                                    STRING [3118,3277]
                                        String: "twine upload --verbose dist/*.whl --repository-url https://upload.pypi.org/legacy/ -u ${{ secrets.ONNXWEEKLY_USERNAME }} -p ${{ secrets.ONNXWEEKLY_TOKEN }}\n" [3118,3277]
                            OBJECT [3279,3635]
                                FIELD [3280,3322]
                                    String: "name" [3280,3286]
                                    STRING [3287,3322]
                                        String: "Verify ONNX with the latest numpy" [3287,3322]
                                FIELD [3323,3345]
                                    String: "if" [3323,3327]
                                    STRING [3328,3345]
                                        String: "${{ always() }}" [3328,3345]
                                FIELD [3346,3634]
                                    String: "run" [3346,3351]
                                    STRING [3352,3634]
                                        String: "arch -${{ matrix.target-architecture }} python -m pip uninstall -y numpy onnx\narch -${{ matrix.target-architecture }} python -m pip install numpy\narch -${{ matrix.target-architecture }} python -m pip install --upgrade dist/*.whl\narch -${{ matrix.target-architecture }} pytest\n" [3352,3634]
                            OBJECT [3636,4001]
                                FIELD [3637,3682]
                                    String: "name" [3637,3643]
                                    STRING [3644,3682]
                                        String: "Verify ONNX with the latest protobuf" [3644,3682]
                                FIELD [3683,3705]
                                    String: "if" [3683,3687]
                                    STRING [3688,3705]
                                        String: "${{ always() }}" [3688,3705]
                                FIELD [3706,4000]
                                    String: "run" [3706,3711]
                                    STRING [3712,4000]
                                        String: "arch -${{ matrix.target-architecture }} python -m pip uninstall -y protobuf onnx\narch -${{ matrix.target-architecture }} python -m pip install protobuf\narch -${{ matrix.target-architecture }} python -m pip install --upgrade dist/*.whl\narch -${{ matrix.target-architecture }} pytest\n" [3712,4000]
                            OBJECT [4002,4508]
                                FIELD [4003,4061]
                                    String: "name" [4003,4009]
                                    STRING [4010,4061]
                                        String: "Verify ONNX with the minimumly supported packages" [4010,4061]
                                FIELD [4062,4191]
                                    String: "if" [4062,4066]
                                    STRING [4067,4191]
                                        String: "always() && (matrix.target-architecture == 'x86_64' || (matrix.python-version != '3.8' && matrix.python-version != '3.9'))" [4067,4191]
                                FIELD [4192,4507]
                                    String: "run" [4192,4197]
                                    STRING [4198,4507]
                                        String: "arch -${{ matrix.target-architecture }} python -m pip uninstall -y numpy protobuf onnx\narch -${{ matrix.target-architecture }} python -m pip install -r requirements-min.txt\narch -${{ matrix.target-architecture }} python -m pip install --upgrade dist/*.whl\narch -${{ matrix.target-architecture }} pytest\n" [4198,4507]
                            OBJECT [4509,5241]
                                FIELD [4510,4570]
                                    String: "name" [4510,4516]
                                    STRING [4517,4570]
                                        String: "Build and upload source distribution to PyPI weekly" [4517,4570]
                                FIELD [4571,4685]
                                    String: "if" [4571,4575]
                                    STRING [4576,4685]
                                        String: "github.event_name == 'schedule' && matrix.python-version == '3.10' && matrix.target-architecture == 'arm64'" [4576,4685]
                                FIELD [4686,5240]
                                    String: "run" [4686,4691]
                                    STRING [4692,5240]
                                        String: "# Build and upload source distribution to PyPI\ngit clean -xdf\nsed -i '' 's/name = \"onnx\"/name = \"onnx-weekly\"/' 'pyproject.toml'\nONNX_PREVIEW_BUILD=1 python -m build --sdist\ntwine upload dist/* --repository-url https://upload.pypi.org/legacy/ -u ${{ secrets.ONNXWEEKLY_USERNAME }} -p ${{ secrets.ONNXWEEKLY_TOKEN }}\n\n# Test weekly source distribution from PyPI\npython -m pip uninstall -y onnx-weekly\npython -m pip install setuptools\npython -m pip install --use-deprecated=legacy-resolver --no-binary onnx-weekly onnx-weekly\npytest\n" [4692,5240]
                            OBJECT [5242,5784]
                                FIELD [5243,5294]
                                    String: "name" [5243,5249]
                                    STRING [5250,5294]
                                        String: "Verify ONNX with ONNX Runtime PyPI package" [5250,5294]
                                FIELD [5295,5333]
                                    String: "if" [5295,5299]
                                    STRING [5300,5333]
                                        String: "matrix.python-version != '3.12'" [5300,5333]
                                FIELD [5334,5783]
                                    String: "run" [5334,5339]
                                    STRING [5340,5783]
                                        String: "arch -${{ matrix.target-architecture }} python -m pip uninstall -y protobuf numpy\narch -${{ matrix.target-architecture }} python -m pip install -q -r requirements-release.txt\narch -${{ matrix.target-architecture }} python -m pip install -q onnxruntime==1.17.3\nexport ORT_MAX_IR_SUPPORTED_VERSION=9\nexport ORT_MAX_ML_OPSET_SUPPORTED_VERSION=3\nexport ORT_MAX_ONNX_OPSET_SUPPORTED_VERSION=20\narch -${{ matrix.target-architecture }} pytest" [5340,5783]