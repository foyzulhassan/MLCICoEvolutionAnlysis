OBJECT [0,2540]
    FIELD [1,17]
        String: "name" [1,7]
        STRING [8,17]
            String: "release" [8,17]
    FIELD [18,58]
        String: "on" [18,22]
        OBJECT [23,58]
            FIELD [24,57]
                String: "release" [24,33]
                OBJECT [34,57]
                    FIELD [35,56]
                        String: "types" [35,42]
                        ARRAY [43,56]
                            STRING [44,55]
                                String: "published" [44,55]
    FIELD [59,2539]
        String: "jobs" [59,65]
        OBJECT [66,2539]
            FIELD [67,1924]
                String: "build" [67,74]
                OBJECT [75,1924]
                    FIELD [76,114]
                        String: "name" [76,82]
                        STRING [83,114]
                            String: "Build and publish new release" [83,114]
                    FIELD [115,140]
                        String: "runs-on" [115,124]
                        STRING [125,140]
                            String: "ubuntu-latest" [125,140]
                    FIELD [141,1923]
                        String: "steps" [141,148]
                        ARRAY [149,1923]
                            OBJECT [150,180]
                                FIELD [151,179]
                                    String: "uses" [151,157]
                                    STRING [158,179]
                                        String: "actions/checkout@v2" [158,179]
                            OBJECT [181,268]
                                FIELD [182,204]
                                    String: "name" [182,188]
                                    STRING [189,204]
                                        String: "Set up Python" [189,204]
                                FIELD [205,237]
                                    String: "uses" [205,211]
                                    STRING [212,237]
                                        String: "actions/setup-python@v2" [212,237]
                                FIELD [238,267]
                                    String: "with" [238,244]
                                    OBJECT [245,267]
                                        FIELD [246,266]
                                            String: "python-version" [246,262]
                                            NUMBER [263,266]
                                                Number: 3.8 [263,266]
                            OBJECT [269,388]
                                FIELD [270,299]
                                    String: "name" [270,276]
                                    STRING [277,299]
                                        String: "Install dependencies" [277,299]
                                FIELD [300,387]
                                    String: "run" [300,305]
                                    STRING [306,387]
                                        String: "python -m pip install --upgrade pip\npip install -r requirements-dev/docs.txt\n" [306,387]
                            OBJECT [389,784]
                                FIELD [390,424]
                                    String: "name" [390,396]
                                    STRING [397,424]
                                        String: "Check that versions match" [397,424]
                                FIELD [425,439]
                                    String: "id" [425,429]
                                    STRING [430,439]
                                        String: "version" [430,439]
                                FIELD [440,783]
                                    String: "run" [440,445]
                                    STRING [446,783]
                                        String: "echo \"Release tag: [${{ github.event.release.tag_name }}]\"\nPACKAGE_VERSION=$(python -c \"import zamba; print(zamba.__version__)\")\necho \"Package version: [$PACKAGE_VERSION]\"\n[ ${{ github.event.release.tag_name }} == \"v$PACKAGE_VERSION\" ] || { exit 1; }\necho \"::set-output name=major_minor_version::v${PACKAGE_VERSION%.*}\"\n" [446,783]
                            OBJECT [785,910]
                                FIELD [786,808]
                                    String: "name" [786,792]
                                    STRING [793,808]
                                        String: "Build package" [793,808]
                                FIELD [809,909]
                                    String: "run" [809,814]
                                    STRING [815,909]
                                        String: "make dist\ncp dist/*.tar.gz zamba.tar.gz  # rename source package so URL can be consistent\n" [815,909]
                            OBJECT [911,1221]
                                FIELD [912,950]
                                    String: "name" [912,918]
                                    STRING [919,950]
                                        String: "Add source package to release" [919,950]
                                FIELD [951,1220]
                                    String: "run" [951,956]
                                    STRING [957,1220]
                                        String: "curl \\\n  -H \"Authorization: token ${{ github.token }}\" \\\n  -H \"Content-Type: $(file -b --mime-type zamba.tar.gz)\" \\\n  --data-binary @zamba.tar.gz \\\n  $(echo \"${{ github.event.release.upload_url }}\" | sed \"s/{?name,label}/?name=zamba.tar.gz/g\")\n" [957,1220]
                            OBJECT [1222,1263]
                                FIELD [1223,1242]
                                    String: "name" [1223,1229]
                                    STRING [1230,1242]
                                        String: "Build docs" [1230,1242]
                                FIELD [1243,1262]
                                    String: "run" [1243,1248]
                                    STRING [1249,1262]
                                        String: "make docs\n" [1249,1262]
                            OBJECT [1264,1922]
                                FIELD [1265,1305]
                                    String: "name" [1265,1271]
                                    STRING [1272,1305]
                                        String: "Stage 'stable' docs on gh-pages" [1272,1305]
                                FIELD [1306,1332]
                                    String: "working-directory" [1306,1325]
                                    STRING [1326,1332]
                                        String: "docs" [1326,1332]
                                FIELD [1333,1921]
                                    String: "run" [1333,1338]
                                    STRING [1339,1921]
                                        String: "git fetch origin gh-pages --depth=1\ngit config user.name github-actions[bot]\ngit config user.email 41898282+github-actions[bot]@users.noreply.github.com\n# Rename old stable version\nmike list -j | jq\nOLD_STABLE=$(mike list -j | jq -r '.[] | select(.aliases | index(\"stable\")) | .title' | awk '{print $1;}')\necho $OLD_STABLE\nmike retitle stable $OLD_STABLE\n# Deploy new version as stable\nmike deploy --push --update-aliases --no-redirect \\\n  ${{ steps.version.outputs.major_minor_version }} \\\n  stable \\\n  --title=\"${{ github.event.release.tag_name }} (stable)\"\n" [1339,1921]
            FIELD [1925,2538]
                String: "deploy-docs" [1925,1938]
                OBJECT [1939,2538]
                    FIELD [1940,1971]
                        String: "name" [1940,1946]
                        STRING [1947,1971]
                            String: "Deploy docs to Netlify" [1947,1971]
                    FIELD [1972,1987]
                        String: "needs" [1972,1979]
                        STRING [1980,1987]
                            String: "build" [1980,1987]
                    FIELD [1988,2013]
                        String: "runs-on" [1988,1997]
                        STRING [1998,2013]
                            String: "ubuntu-latest" [1998,2013]
                    FIELD [2014,2537]
                        String: "steps" [2014,2021]
                        ARRAY [2022,2537]
                            OBJECT [2023,2079]
                                FIELD [2024,2052]
                                    String: "uses" [2024,2030]
                                    STRING [2031,2052]
                                        String: "actions/checkout@v2" [2031,2052]
                                FIELD [2053,2078]
                                    String: "with" [2053,2059]
                                    OBJECT [2060,2078]
                                        FIELD [2061,2077]
                                            String: "ref" [2061,2066]
                                            STRING [2067,2077]
                                                String: "gh-pages" [2067,2077]
                            OBJECT [2080,2536]
                                FIELD [2081,2112]
                                    String: "name" [2081,2087]
                                    STRING [2088,2112]
                                        String: "Deploy docs to Netlify" [2088,2112]
                                FIELD [2113,2149]
                                    String: "uses" [2113,2119]
                                    STRING [2120,2149]
                                        String: "nwtgck/actions-netlify@v1.1" [2120,2149]
                                FIELD [2150,2399]
                                    String: "with" [2150,2156]
                                    OBJECT [2157,2399]
                                        FIELD [2158,2176]
                                            String: "publish-dir" [2158,2171]
                                            STRING [2172,2176]
                                                String: "./" [2172,2176]
                                        FIELD [2177,2201]
                                            String: "production-deploy" [2177,2196]
                                            TRUE [2197,2201]
                                        FIELD [2202,2246]
                                            String: "github-token" [2202,2216]
                                            STRING [2217,2246]
                                                String: "${{ secrets.GITHUB_TOKEN }}" [2217,2246]
                                        FIELD [2247,2292]
                                            String: "deploy-message" [2247,2263]
                                            STRING [2264,2292]
                                                String: "Deploy from GitHub Actions" [2264,2292]
                                        FIELD [2293,2328]
                                            String: "enable-pull-request-comment" [2293,2322]
                                            FALSE [2323,2328]
                                        FIELD [2329,2358]
                                            String: "enable-commit-comment" [2329,2352]
                                            FALSE [2353,2358]
                                        FIELD [2359,2398]
                                            String: "overwrites-pull-request-comment" [2359,2392]
                                            FALSE [2393,2398]
                                FIELD [2400,2515]
                                    String: "env" [2400,2405]
                                    OBJECT [2406,2515]
                                        FIELD [2407,2463]
                                            String: "NETLIFY_AUTH_TOKEN" [2407,2427]
                                            STRING [2428,2463]
                                                String: "${{ secrets.NETLIFY_AUTH_TOKEN }}" [2428,2463]
                                        FIELD [2464,2514]
                                            String: "NETLIFY_SITE_ID" [2464,2481]
                                            STRING [2482,2514]
                                                String: "${{ secrets.NETLIFY_SITE_ID }}" [2482,2514]
                                FIELD [2516,2535]
                                    String: "timeout-minutes" [2516,2533]
                                    NUMBER [2534,2535]
                                        Number: 1 [2534,2535]