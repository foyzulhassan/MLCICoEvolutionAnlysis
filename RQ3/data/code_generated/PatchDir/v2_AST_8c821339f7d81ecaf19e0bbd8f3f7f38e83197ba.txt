OBJECT [0,4937]
    FIELD [1,30]
        String: "name" [1,7]
        STRING [8,30]
            String: "pr-integration-tests" [8,30]
    FIELD [31,104]
        String: "on" [31,35]
        OBJECT [36,104]
            FIELD [37,103]
                String: "pull_request_target" [37,58]
                OBJECT [59,103]
                    FIELD [60,102]
                        String: "types" [60,67]
                        ARRAY [68,102]
                            STRING [69,77]
                                String: "opened" [69,77]
                            STRING [78,91]
                                String: "synchronize" [78,91]
                            STRING [92,101]
                                String: "labeled" [92,101]
    FIELD [105,4936]
        String: "jobs" [105,111]
        OBJECT [112,4936]
            FIELD [113,1816]
                String: "build-docker-image" [113,133]
                OBJECT [134,1816]
                    FIELD [135,434]
                        String: "if" [135,139]
                        STRING [140,434]
                            String: "(github.event.action == 'labeled' && (github.event.label.name == 'approved' || github.event.label.name == 'ok-to-test')) || (github.event.action != 'labeled' && (contains(github.event.pull_request.labels.*.name, 'ok-to-test') || contains(github.event.pull_request.labels.*.name, 'approved')))" [140,434]
                    FIELD [435,460]
                        String: "runs-on" [435,444]
                        STRING [445,460]
                            String: "ubuntu-latest" [445,460]
                    FIELD [461,1734]
                        String: "steps" [461,468]
                        ARRAY [469,1734]
                            OBJECT [470,598]
                                FIELD [471,499]
                                    String: "uses" [471,477]
                                    STRING [478,499]
                                        String: "actions/checkout@v2" [478,499]
                                FIELD [500,597]
                                    String: "with" [500,506]
                                    OBJECT [507,597]
                                        FIELD [508,571]
                                            String: "ref" [508,513]
                                            STRING [514,571]
                                                String: "refs/pull/${{ github.event.pull_request.number }}/merge" [514,571]
                                        FIELD [572,596]
                                            String: "submodules" [572,584]
                                            STRING [585,596]
                                                String: "recursive" [585,596]
                            OBJECT [599,658]
                                FIELD [600,620]
                                    String: "name" [600,606]
                                    STRING [607,620]
                                        String: "Set up QEMU" [607,620]
                                FIELD [621,657]
                                    String: "uses" [621,627]
                                    STRING [628,657]
                                        String: "docker/setup-qemu-action@v1" [628,657]
                            OBJECT [659,729]
                                FIELD [660,689]
                                    String: "name" [660,666]
                                    STRING [667,689]
                                        String: "Set up Docker Buildx" [667,689]
                                FIELD [690,728]
                                    String: "uses" [690,696]
                                    STRING [697,728]
                                        String: "docker/setup-buildx-action@v1" [697,728]
                            OBJECT [730,957]
                                FIELD [731,754]
                                    String: "name" [731,737]
                                    STRING [738,754]
                                        String: "Set up AWS SDK" [738,754]
                                FIELD [755,804]
                                    String: "uses" [755,761]
                                    STRING [762,804]
                                        String: "aws-actions/configure-aws-credentials@v1" [762,804]
                                FIELD [805,956]
                                    String: "with" [805,811]
                                    OBJECT [812,956]
                                        FIELD [813,867]
                                            String: "aws-access-key-id" [813,832]
                                            STRING [833,867]
                                                String: "${{ secrets.AWS_ACCESS_KEY_ID }}" [833,867]
                                        FIELD [868,930]
                                            String: "aws-secret-access-key" [868,891]
                                            STRING [892,930]
                                                String: "${{ secrets.AWS_SECRET_ACCESS_KEY }}" [892,930]
                                        FIELD [931,955]
                                            String: "aws-region" [931,943]
                                            STRING [944,955]
                                                String: "us-west-2" [944,955]
                            OBJECT [958,1046]
                                FIELD [959,987]
                                    String: "name" [959,965]
                                    STRING [966,987]
                                        String: "Login to Amazon ECR" [966,987]
                                FIELD [988,1004]
                                    String: "id" [988,992]
                                    STRING [993,1004]
                                        String: "login-ecr" [993,1004]
                                FIELD [1005,1045]
                                    String: "uses" [1005,1011]
                                    STRING [1012,1045]
                                        String: "aws-actions/amazon-ecr-login@v1" [1012,1045]
                            OBJECT [1047,1166]
                                FIELD [1048,1074]
                                    String: "name" [1048,1054]
                                    STRING [1055,1074]
                                        String: "Set ECR image tag" [1055,1074]
                                FIELD [1075,1091]
                                    String: "id" [1075,1079]
                                    STRING [1080,1091]
                                        String: "image-tag" [1080,1091]
                                FIELD [1092,1165]
                                    String: "run" [1092,1097]
                                    STRING [1098,1165]
                                        String: "echo \"::set-output name=DOCKER_IMAGE_TAG::`git rev-parse HEAD`\"" [1098,1165]
                            OBJECT [1167,1317]
                                FIELD [1168,1221]
                                    String: "uses" [1168,1174]
                                    STRING [1175,1221]
                                        String: "satackey/action-docker-layer-caching@v0.0.11" [1175,1221]
                                FIELD [1222,1246]
                                    String: "continue-on-error" [1222,1241]
                                    TRUE [1242,1246]
                                FIELD [1247,1316]
                                    String: "with" [1247,1253]
                                    OBJECT [1254,1316]
                                        FIELD [1255,1282]
                                            String: "key" [1255,1260]
                                            STRING [1261,1282]
                                                String: "docker-cache-{hash}" [1261,1282]
                                        FIELD [1283,1315]
                                            String: "restore-keys" [1283,1297]
                                            STRING [1298,1315]
                                                String: "docker-cache-\n" [1298,1315]
                            OBJECT [1318,1733]
                                FIELD [1319,1342]
                                    String: "name" [1319,1325]
                                    STRING [1326,1342]
                                        String: "Build and push" [1326,1342]
                                FIELD [1343,1446]
                                    String: "env" [1343,1348]
                                    OBJECT [1349,1446]
                                        FIELD [1350,1406]
                                            String: "ECR_REGISTRY" [1350,1364]
                                            STRING [1365,1406]
                                                String: "${{ steps.login-ecr.outputs.registry }}" [1365,1406]
                                        FIELD [1407,1445]
                                            String: "ECR_REPOSITORY" [1407,1423]
                                            STRING [1424,1445]
                                                String: "feast-python-server" [1424,1445]
                                FIELD [1447,1732]
                                    String: "run" [1447,1452]
                                    STRING [1453,1732]
                                        String: "docker build \\\n  --file sdk/python/feast/infra/feature_servers/aws_lambda/Dockerfile \\\n  --tag $ECR_REGISTRY/$ECR_REPOSITORY:${{ steps.image-tag.outputs.DOCKER_IMAGE_TAG }} \\\n  .\ndocker push $ECR_REGISTRY/$ECR_REPOSITORY:${{ steps.image-tag.outputs.DOCKER_IMAGE_TAG }}\n" [1453,1732]
                    FIELD [1735,1815]
                        String: "outputs" [1735,1744]
                        OBJECT [1745,1815]
                            FIELD [1746,1814]
                                String: "DOCKER_IMAGE_TAG" [1746,1764]
                                STRING [1765,1814]
                                    String: "${{ steps.image-tag.outputs.DOCKER_IMAGE_TAG }}" [1765,1814]
            FIELD [1817,4935]
                String: "integration-test-python" [1817,1842]
                OBJECT [1843,4935]
                    FIELD [1844,2143]
                        String: "if" [1844,1848]
                        STRING [1849,2143]
                            String: "(github.event.action == 'labeled' && (github.event.label.name == 'approved' || github.event.label.name == 'ok-to-test')) || (github.event.action != 'labeled' && (contains(github.event.pull_request.labels.*.name, 'ok-to-test') || contains(github.event.pull_request.labels.*.name, 'approved')))" [1849,2143]
                    FIELD [2144,2172]
                        String: "needs" [2144,2151]
                        STRING [2152,2172]
                            String: "build-docker-image" [2152,2172]
                    FIELD [2173,2201]
                        String: "runs-on" [2173,2182]
                        STRING [2183,2201]
                            String: "${{ matrix.os }}" [2183,2201]
                    FIELD [2202,2297]
                        String: "strategy" [2202,2212]
                        OBJECT [2213,2297]
                            FIELD [2214,2231]
                                String: "fail-fast" [2214,2225]
                                FALSE [2226,2231]
                            FIELD [2232,2296]
                                String: "matrix" [2232,2240]
                                OBJECT [2241,2296]
                                    FIELD [2242,2272]
                                        String: "python-version" [2242,2258]
                                        ARRAY [2259,2272]
                                            NUMBER [2260,2263]
                                                Number: 3.7 [2260,2263]
                                            NUMBER [2264,2267]
                                                Number: 3.8 [2264,2267]
                                            NUMBER [2268,2271]
                                                Number: 3.9 [2268,2271]
                                    FIELD [2273,2295]
                                        String: "os" [2273,2277]
                                        ARRAY [2278,2295]
                                            STRING [2279,2294]
                                                String: "ubuntu-latest" [2279,2294]
                    FIELD [2298,2369]
                        String: "env" [2298,2303]
                        OBJECT [2304,2369]
                            FIELD [2305,2328]
                                String: "OS" [2305,2309]
                                STRING [2310,2328]
                                    String: "${{ matrix.os }}" [2310,2328]
                            FIELD [2329,2368]
                                String: "PYTHON" [2329,2337]
                                STRING [2338,2368]
                                    String: "${{ matrix.python-version }}" [2338,2368]
                    FIELD [2370,2535]
                        String: "services" [2370,2380]
                        OBJECT [2381,2535]
                            FIELD [2382,2534]
                                String: "redis" [2382,2389]
                                OBJECT [2390,2534]
                                    FIELD [2391,2406]
                                        String: "image" [2391,2398]
                                        STRING [2399,2406]
                                            String: "redis" [2399,2406]
                                    FIELD [2407,2428]
                                        String: "ports" [2407,2414]
                                        ARRAY [2415,2428]
                                            STRING [2416,2427]
                                                String: "6379:6379" [2416,2427]
                                    FIELD [2429,2533]
                                        String: "options" [2429,2438]
                                        STRING [2439,2533]
                                            String: "--health-cmd \"redis-cli ping\" --health-interval 10s --health-timeout 5s --health-retries 5" [2439,2533]
                    FIELD [2536,4934]
                        String: "steps" [2536,2543]
                        ARRAY [2544,4934]
                            OBJECT [2545,2673]
                                FIELD [2546,2574]
                                    String: "uses" [2546,2552]
                                    STRING [2553,2574]
                                        String: "actions/checkout@v2" [2553,2574]
                                FIELD [2575,2672]
                                    String: "with" [2575,2581]
                                    OBJECT [2582,2672]
                                        FIELD [2583,2646]
                                            String: "ref" [2583,2588]
                                            STRING [2589,2646]
                                                String: "refs/pull/${{ github.event.pull_request.number }}/merge" [2589,2646]
                                        FIELD [2647,2671]
                                            String: "submodules" [2647,2659]
                                            STRING [2660,2671]
                                                String: "recursive" [2660,2671]
                            OBJECT [2674,2828]
                                FIELD [2675,2696]
                                    String: "name" [2675,2681]
                                    STRING [2682,2696]
                                        String: "Setup Python" [2682,2696]
                                FIELD [2697,2729]
                                    String: "uses" [2697,2703]
                                    STRING [2704,2729]
                                        String: "actions/setup-python@v2" [2704,2729]
                                FIELD [2730,2749]
                                    String: "id" [2730,2734]
                                    STRING [2735,2749]
                                        String: "setup-python" [2735,2749]
                                FIELD [2750,2827]
                                    String: "with" [2750,2756]
                                    OBJECT [2757,2827]
                                        FIELD [2758,2805]
                                            String: "python-version" [2758,2774]
                                            STRING [2775,2805]
                                                String: "${{ matrix.python-version }}" [2775,2805]
                                        FIELD [2806,2826]
                                            String: "architecture" [2806,2820]
                                            STRING [2821,2826]
                                                String: "x64" [2821,2826]
                            OBJECT [2829,3042]
                                FIELD [2830,2856]
                                    String: "name" [2830,2836]
                                    STRING [2837,2856]
                                        String: "Set up gcloud SDK" [2837,2856]
                                FIELD [2857,2903]
                                    String: "uses" [2857,2863]
                                    STRING [2864,2903]
                                        String: "google-github-actions/setup-gcloud@v0" [2864,2903]
                                FIELD [2904,3041]
                                    String: "with" [2904,2910]
                                    OBJECT [2911,3041]
                                        FIELD [2912,2956]
                                            String: "project_id" [2912,2924]
                                            STRING [2925,2956]
                                                String: "${{ secrets.GCP_PROJECT_ID }}" [2925,2956]
                                        FIELD [2957,3006]
                                            String: "service_account_key" [2957,2978]
                                            STRING [2979,3006]
                                                String: "${{ secrets.GCP_SA_KEY }}" [2979,3006]
                                        FIELD [3007,3040]
                                            String: "export_default_credentials" [3007,3035]
                                            TRUE [3036,3040]
                            OBJECT [3043,3088]
                                FIELD [3044,3067]
                                    String: "name" [3044,3050]
                                    STRING [3051,3067]
                                        String: "Use gcloud CLI" [3051,3067]
                                FIELD [3068,3087]
                                    String: "run" [3068,3073]
                                    STRING [3074,3087]
                                        String: "gcloud info" [3074,3087]
                            OBJECT [3089,3316]
                                FIELD [3090,3113]
                                    String: "name" [3090,3096]
                                    STRING [3097,3113]
                                        String: "Set up AWS SDK" [3097,3113]
                                FIELD [3114,3163]
                                    String: "uses" [3114,3120]
                                    STRING [3121,3163]
                                        String: "aws-actions/configure-aws-credentials@v1" [3121,3163]
                                FIELD [3164,3315]
                                    String: "with" [3164,3170]
                                    OBJECT [3171,3315]
                                        FIELD [3172,3226]
                                            String: "aws-access-key-id" [3172,3191]
                                            STRING [3192,3226]
                                                String: "${{ secrets.AWS_ACCESS_KEY_ID }}" [3192,3226]
                                        FIELD [3227,3289]
                                            String: "aws-secret-access-key" [3227,3250]
                                            STRING [3251,3289]
                                                String: "${{ secrets.AWS_SECRET_ACCESS_KEY }}" [3251,3289]
                                        FIELD [3290,3314]
                                            String: "aws-region" [3290,3302]
                                            STRING [3303,3314]
                                                String: "us-west-2" [3303,3314]
                            OBJECT [3317,3375]
                                FIELD [3318,3338]
                                    String: "name" [3318,3324]
                                    STRING [3325,3338]
                                        String: "Use AWS CLI" [3325,3338]
                                FIELD [3339,3374]
                                    String: "run" [3339,3344]
                                    STRING [3345,3374]
                                        String: "aws sts get-caller-identity" [3345,3374]
                            OBJECT [3376,3454]
                                FIELD [3377,3405]
                                    String: "name" [3377,3383]
                                    STRING [3384,3405]
                                        String: "Upgrade pip version" [3384,3405]
                                FIELD [3406,3453]
                                    String: "run" [3406,3411]
                                    STRING [3412,3453]
                                        String: "pip install --upgrade \"pip>=21.3.1\"\n" [3412,3453]
                            OBJECT [3455,3559]
                                FIELD [3456,3482]
                                    String: "name" [3456,3462]
                                    STRING [3463,3482]
                                        String: "Get pip cache dir" [3463,3482]
                                FIELD [3483,3499]
                                    String: "id" [3483,3487]
                                    STRING [3488,3499]
                                        String: "pip-cache" [3488,3499]
                                FIELD [3500,3558]
                                    String: "run" [3500,3505]
                                    STRING [3506,3558]
                                        String: "echo \"::set-output name=dir::$(pip cache dir)\"\n" [3506,3558]
                            OBJECT [3560,3928]
                                FIELD [3561,3579]
                                    String: "name" [3561,3567]
                                    STRING [3568,3579]
                                        String: "pip cache" [3568,3579]
                                FIELD [3580,3605]
                                    String: "uses" [3580,3586]
                                    STRING [3587,3605]
                                        String: "actions/cache@v2" [3587,3605]
                                FIELD [3606,3927]
                                    String: "with" [3606,3612]
                                    OBJECT [3613,3927]
                                        FIELD [3614,3726]
                                            String: "path" [3614,3620]
                                            STRING [3621,3726]
                                                String: "${{ steps.pip-cache.outputs.dir }}\n/opt/hostedtoolcache/Python\n/Users/runner/hostedtoolcache/Python\n" [3621,3726]
                                        FIELD [3727,3836]
                                            String: "key" [3727,3732]
                                            STRING [3733,3836]
                                                String: "${{ runner.os }}-${{ steps.setup-python.outputs.python-version }}-pip-${{ hashFiles('**/setup.py') }}" [3733,3836]
                                        FIELD [3837,3926]
                                            String: "restore-keys" [3837,3851]
                                            STRING [3852,3926]
                                                String: "${{ runner.os }}-${{ steps.setup-python.outputs.python-version }}-pip-\n" [3852,3926]
                            OBJECT [3929,4004]
                                FIELD [3930,3959]
                                    String: "name" [3930,3936]
                                    STRING [3937,3959]
                                        String: "Install dependencies" [3937,3959]
                                FIELD [3960,4003]
                                    String: "run" [3960,3965]
                                    STRING [3966,4003]
                                        String: "make install-python-ci-dependencies" [3966,4003]
                            OBJECT [4005,4278]
                                FIELD [4006,4026]
                                    String: "name" [4006,4012]
                                    STRING [4013,4026]
                                        String: "Test python" [4013,4026]
                                FIELD [4027,4164]
                                    String: "env" [4027,4032]
                                    OBJECT [4033,4164]
                                        FIELD [4034,4124]
                                            String: "FEAST_SERVER_DOCKER_IMAGE_TAG" [4034,4065]
                                            STRING [4066,4124]
                                                String: "${{ needs.build-docker-image.outputs.DOCKER_IMAGE_TAG }}" [4066,4124]
                                        FIELD [4125,4146]
                                            String: "FEAST_USAGE" [4125,4138]
                                            STRING [4139,4146]
                                                String: "False" [4139,4146]
                                        FIELD [4147,4163]
                                            String: "IS_TEST" [4147,4156]
                                            STRING [4157,4163]
                                                String: "True" [4157,4163]
                                FIELD [4165,4277]
                                    String: "run" [4165,4170]
                                    STRING [4171,4277]
                                        String: "pytest -n 8 --cov=./ --cov-report=xml --verbose --color=yes sdk/python/tests --integration --durations=5" [4171,4277]
                            OBJECT [4279,4513]
                                FIELD [4280,4315]
                                    String: "name" [4280,4286]
                                    STRING [4287,4315]
                                        String: "Upload coverage to Codecov" [4287,4315]
                                FIELD [4316,4350]
                                    String: "uses" [4316,4322]
                                    STRING [4323,4350]
                                        String: "codecov/codecov-action@v1" [4323,4350]
                                FIELD [4351,4512]
                                    String: "with" [4351,4357]
                                    OBJECT [4358,4512]
                                        FIELD [4359,4397]
                                            String: "token" [4359,4366]
                                            STRING [4367,4397]
                                                String: "${{ secrets.CODECOV_TOKEN }}" [4367,4397]
                                        FIELD [4398,4422]
                                            String: "files" [4398,4405]
                                            STRING [4406,4422]
                                                String: "./coverage.xml" [4406,4422]
                                        FIELD [4423,4449]
                                            String: "flags" [4423,4430]
                                            STRING [4431,4449]
                                                String: "integrationtests" [4431,4449]
                                        FIELD [4450,4472]
                                            String: "env_vars" [4450,4460]
                                            STRING [4461,4472]
                                                String: "OS,PYTHON" [4461,4472]
                                        FIELD [4473,4496]
                                            String: "fail_ci_if_error" [4473,4491]
                                            TRUE [4492,4496]
                                        FIELD [4497,4511]
                                            String: "verbose" [4497,4506]
                                            TRUE [4507,4511]
                            OBJECT [4514,4816]
                                FIELD [4515,4540]
                                    String: "name" [4515,4521]
                                    STRING [4522,4540]
                                        String: "Benchmark python" [4522,4540]
                                FIELD [4541,4678]
                                    String: "env" [4541,4546]
                                    OBJECT [4547,4678]
                                        FIELD [4548,4638]
                                            String: "FEAST_SERVER_DOCKER_IMAGE_TAG" [4548,4579]
                                            STRING [4580,4638]
                                                String: "${{ needs.build-docker-image.outputs.DOCKER_IMAGE_TAG }}" [4580,4638]
                                        FIELD [4639,4660]
                                            String: "FEAST_USAGE" [4639,4652]
                                            STRING [4653,4660]
                                                String: "False" [4653,4660]
                                        FIELD [4661,4677]
                                            String: "IS_TEST" [4661,4670]
                                            STRING [4671,4677]
                                                String: "True" [4671,4677]
                                FIELD [4679,4815]
                                    String: "run" [4679,4684]
                                    STRING [4685,4815]
                                        String: "pytest --verbose --color=yes sdk/python/tests --integration --benchmark --benchmark-autosave --benchmark-save-data --durations=5" [4685,4815]
                            OBJECT [4817,4933]
                                FIELD [4818,4858]
                                    String: "name" [4818,4824]
                                    STRING [4825,4858]
                                        String: "Upload Benchmark Artifact to S3" [4825,4858]
                                FIELD [4859,4932]
                                    String: "run" [4859,4864]
                                    STRING [4865,4932]
                                        String: "aws s3 cp --recursive .benchmarks s3://feast-ci-pytest-benchmarks" [4865,4932]