OBJECT [0,10702]
    FIELD [1,26]
        String: "name" [1,7]
        STRING [8,26]
            String: "PR Tests - Stack" [8,26]
    FIELD [27,205]
        String: "on" [27,31]
        OBJECT [32,205]
            FIELD [33,53]
                String: "workflow_call" [33,48]
                NULL [49,53]
            FIELD [54,102]
                String: "pull_request" [54,68]
                OBJECT [69,102]
                    FIELD [70,101]
                        String: "branches" [70,80]
                        ARRAY [81,101]
                            STRING [82,87]
                                String: "dev" [82,87]
                            STRING [88,94]
                                String: "main" [88,94]
                            STRING [95,100]
                                String: "0.8" [95,100]
            FIELD [103,204]
                String: "workflow_dispatch" [103,122]
                OBJECT [123,204]
                    FIELD [124,203]
                        String: "inputs" [124,132]
                        OBJECT [133,203]
                            FIELD [134,202]
                                String: "none" [134,140]
                                OBJECT [141,202]
                                    FIELD [142,184]
                                        String: "description" [142,155]
                                        STRING [156,184]
                                            String: "Run Version Tests Manually" [156,184]
                                    FIELD [185,201]
                                        String: "required" [185,195]
                                        FALSE [196,201]
    FIELD [206,401]
        String: "concurrency" [206,219]
        OBJECT [220,401]
            FIELD [221,374]
                String: "group" [221,228]
                STRING [229,374]
                    String: "stack-${{ github.event_name == 'pull_request' && format('{0}-{1}', github.workflow, github.event.pull_request.number) || github.workflow_ref }}" [229,374]
            FIELD [375,400]
                String: "cancel-in-progress" [375,395]
                TRUE [396,400]
    FIELD [402,10701]
        String: "jobs" [402,408]
        OBJECT [409,10701]
            FIELD [410,1822]
                String: "pr-syft-image-test" [410,430]
                OBJECT [431,1822]
                    FIELD [432,540]
                        String: "strategy" [432,442]
                        OBJECT [443,540]
                            FIELD [444,461]
                                String: "max-parallel" [444,458]
                                NUMBER [459,461]
                                    Number: 99 [459,461]
                            FIELD [462,521]
                                String: "matrix" [462,470]
                                OBJECT [471,521]
                                    FIELD [472,494]
                                        String: "os" [472,476]
                                        ARRAY [477,494]
                                            STRING [478,493]
                                                String: "ubuntu-latest" [478,493]
                                    FIELD [495,520]
                                        String: "python-version" [495,511]
                                        ARRAY [512,520]
                                            STRING [513,519]
                                                String: "3.12" [513,519]
                            FIELD [522,539]
                                String: "fail-fast" [522,533]
                                FALSE [534,539]
                    FIELD [541,567]
                        String: "runs-on" [541,550]
                        STRING [551,567]
                            String: "${{matrix.os}}" [551,567]
                    FIELD [568,1821]
                        String: "steps" [568,575]
                        ARRAY [576,1821]
                            OBJECT [577,607]
                                FIELD [578,606]
                                    String: "uses" [578,584]
                                    STRING [585,606]
                                        String: "actions/checkout@v4" [585,606]
                            OBJECT [608,790]
                                FIELD [609,640]
                                    String: "name" [609,615]
                                    STRING [616,640]
                                        String: "Check for file changes" [616,640]
                                FIELD [641,671]
                                    String: "uses" [641,647]
                                    STRING [648,671]
                                        String: "dorny/paths-filter@v3" [648,671]
                                FIELD [672,686]
                                    String: "id" [672,676]
                                    STRING [677,686]
                                        String: "changes" [677,686]
                                FIELD [687,789]
                                    String: "with" [687,693]
                                    OBJECT [694,789]
                                        FIELD [695,721]
                                            String: "base" [695,701]
                                            STRING [702,721]
                                                String: "${{ github.ref }}" [702,721]
                                        FIELD [722,751]
                                            String: "token" [722,729]
                                            STRING [730,751]
                                                String: "${{ github.token }}" [730,751]
                                        FIELD [752,788]
                                            String: "filters" [752,761]
                                            STRING [762,788]
                                                String: ".github/file-filters.yml" [762,788]
                            OBJECT [791,979]
                                FIELD [792,843]
                                    String: "name" [792,798]
                                    STRING [799,843]
                                        String: "Set up Python ${{ matrix.python-version }}" [799,843]
                                FIELD [844,876]
                                    String: "uses" [844,850]
                                    STRING [851,876]
                                        String: "actions/setup-python@v5" [851,876]
                                FIELD [877,921]
                                    String: "if" [877,881]
                                    STRING [882,921]
                                        String: "steps.changes.outputs.stack == 'true'" [882,921]
                                FIELD [922,978]
                                    String: "with" [922,928]
                                    OBJECT [929,978]
                                        FIELD [930,977]
                                            String: "python-version" [930,946]
                                            STRING [947,977]
                                                String: "${{ matrix.python-version }}" [947,977]
                            OBJECT [980,1108]
                                FIELD [981,1001]
                                    String: "name" [981,987]
                                    STRING [988,1001]
                                        String: "Upgrade pip" [988,1001]
                                FIELD [1002,1046]
                                    String: "if" [1002,1006]
                                    STRING [1007,1046]
                                        String: "steps.changes.outputs.stack == 'true'" [1007,1046]
                                FIELD [1047,1107]
                                    String: "run" [1047,1052]
                                    STRING [1053,1107]
                                        String: "pip install --upgrade pip uv==0.1.35\nuv --version\n" [1053,1107]
                            OBJECT [1109,1271]
                                FIELD [1110,1136]
                                    String: "name" [1110,1116]
                                    STRING [1117,1136]
                                        String: "Get pip cache dir" [1117,1136]
                                FIELD [1137,1181]
                                    String: "if" [1137,1141]
                                    STRING [1142,1181]
                                        String: "steps.changes.outputs.stack == 'true'" [1142,1181]
                                FIELD [1182,1198]
                                    String: "id" [1182,1186]
                                    STRING [1187,1198]
                                        String: "pip-cache" [1187,1198]
                                FIELD [1199,1213]
                                    String: "shell" [1199,1206]
                                    STRING [1207,1213]
                                        String: "bash" [1207,1213]
                                FIELD [1214,1270]
                                    String: "run" [1214,1219]
                                    STRING [1220,1270]
                                        String: "echo \"dir=$(uv cache dir)\" >> $GITHUB_OUTPUT\n" [1220,1270]
                            OBJECT [1272,1545]
                                FIELD [1273,1291]
                                    String: "name" [1273,1279]
                                    STRING [1280,1291]
                                        String: "pip cache" [1280,1291]
                                FIELD [1292,1317]
                                    String: "uses" [1292,1298]
                                    STRING [1299,1317]
                                        String: "actions/cache@v4" [1299,1317]
                                FIELD [1318,1362]
                                    String: "if" [1318,1322]
                                    STRING [1323,1362]
                                        String: "steps.changes.outputs.stack == 'true'" [1323,1362]
                                FIELD [1363,1544]
                                    String: "with" [1363,1369]
                                    OBJECT [1370,1544]
                                        FIELD [1371,1414]
                                            String: "path" [1371,1377]
                                            STRING [1378,1414]
                                                String: "${{ steps.pip-cache.outputs.dir }}" [1378,1414]
                                        FIELD [1415,1473]
                                            String: "key" [1415,1420]
                                            STRING [1421,1473]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}" [1421,1473]
                                        FIELD [1474,1543]
                                            String: "restore-keys" [1474,1488]
                                            STRING [1489,1543]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}\n" [1489,1543]
                            OBJECT [1546,1663]
                                FIELD [1547,1567]
                                    String: "name" [1547,1553]
                                    STRING [1554,1567]
                                        String: "Install tox" [1554,1567]
                                FIELD [1568,1612]
                                    String: "if" [1568,1572]
                                    STRING [1573,1612]
                                        String: "steps.changes.outputs.stack == 'true'" [1573,1612]
                                FIELD [1613,1662]
                                    String: "run" [1613,1618]
                                    STRING [1619,1662]
                                        String: "pip install --upgrade tox tox-uv==1.5.1\n" [1619,1662]
                            OBJECT [1664,1820]
                                FIELD [1665,1715]
                                    String: "name" [1665,1671]
                                    STRING [1672,1715]
                                        String: "Run syft backend base image building test" [1672,1715]
                                FIELD [1716,1760]
                                    String: "if" [1716,1720]
                                    STRING [1721,1760]
                                        String: "steps.changes.outputs.stack == 'true'" [1721,1760]
                                FIELD [1761,1781]
                                    String: "timeout-minutes" [1761,1778]
                                    NUMBER [1779,1781]
                                        Number: 60 [1779,1781]
                                FIELD [1782,1819]
                                    String: "run" [1782,1787]
                                    STRING [1788,1819]
                                        String: "tox -e backend.test.basecpu\n" [1788,1819]
            FIELD [1823,6402]
                String: "pr-tests-integration-k8s" [1823,1849]
                OBJECT [1850,6402]
                    FIELD [1851,2027]
                        String: "strategy" [1851,1861]
                        OBJECT [1862,2027]
                            FIELD [1863,1880]
                                String: "max-parallel" [1863,1877]
                                NUMBER [1878,1880]
                                    Number: 99 [1878,1880]
                            FIELD [1881,2008]
                                String: "matrix" [1881,1889]
                                OBJECT [1890,2008]
                                    FIELD [1891,1913]
                                        String: "os" [1891,1895]
                                        ARRAY [1896,1913]
                                            STRING [1897,1912]
                                                String: "ubuntu-latest" [1897,1912]
                                    FIELD [1914,1939]
                                        String: "python-version" [1914,1930]
                                        ARRAY [1931,1939]
                                            STRING [1932,1938]
                                                String: "3.12" [1932,1938]
                                    FIELD [1940,2007]
                                        String: "pytest-modules" [1940,1956]
                                        ARRAY [1957,2007]
                                            STRING [1958,2006]
                                                String: "frontend network local_node container_workload" [1958,2006]
                            FIELD [2009,2026]
                                String: "fail-fast" [2009,2020]
                                FALSE [2021,2026]
                    FIELD [2028,2054]
                        String: "runs-on" [2028,2037]
                        STRING [2038,2054]
                            String: "${{matrix.os}}" [2038,2054]
                    FIELD [2055,6401]
                        String: "steps" [2055,2062]
                        ARRAY [2063,6401]
                            OBJECT [2064,2145]
                                FIELD [2065,2102]
                                    String: "name" [2065,2071]
                                    STRING [2072,2102]
                                        String: "Permission to home directory" [2072,2102]
                                FIELD [2103,2144]
                                    String: "run" [2103,2108]
                                    STRING [2109,2144]
                                        String: "sudo chown -R $USER:$USER $HOME\n" [2109,2144]
                            OBJECT [2146,2176]
                                FIELD [2147,2175]
                                    String: "uses" [2147,2153]
                                    STRING [2154,2175]
                                        String: "actions/checkout@v4" [2154,2175]
                            OBJECT [2177,2359]
                                FIELD [2178,2209]
                                    String: "name" [2178,2184]
                                    STRING [2185,2209]
                                        String: "Check for file changes" [2185,2209]
                                FIELD [2210,2240]
                                    String: "uses" [2210,2216]
                                    STRING [2217,2240]
                                        String: "dorny/paths-filter@v3" [2217,2240]
                                FIELD [2241,2255]
                                    String: "id" [2241,2245]
                                    STRING [2246,2255]
                                        String: "changes" [2246,2255]
                                FIELD [2256,2358]
                                    String: "with" [2256,2262]
                                    OBJECT [2263,2358]
                                        FIELD [2264,2290]
                                            String: "base" [2264,2270]
                                            STRING [2271,2290]
                                                String: "${{ github.ref }}" [2271,2290]
                                        FIELD [2291,2320]
                                            String: "token" [2291,2298]
                                            STRING [2299,2320]
                                                String: "${{ github.token }}" [2299,2320]
                                        FIELD [2321,2357]
                                            String: "filters" [2321,2330]
                                            STRING [2331,2357]
                                                String: ".github/file-filters.yml" [2331,2357]
                            OBJECT [2360,2548]
                                FIELD [2361,2412]
                                    String: "name" [2361,2367]
                                    STRING [2368,2412]
                                        String: "Set up Python ${{ matrix.python-version }}" [2368,2412]
                                FIELD [2413,2445]
                                    String: "uses" [2413,2419]
                                    STRING [2420,2445]
                                        String: "actions/setup-python@v5" [2420,2445]
                                FIELD [2446,2490]
                                    String: "if" [2446,2450]
                                    STRING [2451,2490]
                                        String: "steps.changes.outputs.stack == 'true'" [2451,2490]
                                FIELD [2491,2547]
                                    String: "with" [2491,2497]
                                    OBJECT [2498,2547]
                                        FIELD [2499,2546]
                                            String: "python-version" [2499,2515]
                                            STRING [2516,2546]
                                                String: "${{ matrix.python-version }}" [2516,2546]
                            OBJECT [2549,2642]
                                FIELD [2550,2575]
                                    String: "name" [2550,2556]
                                    STRING [2557,2575]
                                        String: "Add K3d Registry" [2557,2575]
                                FIELD [2576,2641]
                                    String: "run" [2576,2581]
                                    STRING [2582,2641]
                                        String: "sudo python ./scripts/patch_hosts.py --add-k3d-registry\n" [2582,2641]
                            OBJECT [2643,2768]
                                FIELD [2644,2677]
                                    String: "name" [2644,2650]
                                    STRING [2651,2677]
                                        String: "Free Disk Space (Ubuntu)" [2651,2677]
                                FIELD [2678,2717]
                                    String: "uses" [2678,2684]
                                    STRING [2685,2717]
                                        String: "jlumbroso/free-disk-space@main" [2685,2717]
                                FIELD [2718,2767]
                                    String: "with" [2718,2724]
                                    OBJECT [2725,2767]
                                        FIELD [2726,2743]
                                            String: "tool-cache" [2726,2738]
                                            TRUE [2739,2743]
                                        FIELD [2744,2766]
                                            String: "large-packages" [2744,2760]
                                            FALSE [2761,2766]
                            OBJECT [2769,3024]
                                FIELD [2770,2803]
                                    String: "name" [2770,2776]
                                    STRING [2777,2803]
                                        String: "Remove unnecessary files" [2777,2803]
                                FIELD [2804,2839]
                                    String: "if" [2804,2808]
                                    STRING [2809,2839]
                                        String: "matrix.os == 'ubuntu-latest'" [2809,2839]
                                FIELD [2840,3023]
                                    String: "run" [2840,2845]
                                    STRING [2846,3023]
                                        String: "sudo rm -rf /usr/share/dotnet\nsudo rm -rf \"$AGENT_TOOLSDIRECTORY\"\ndocker image prune --all --force\ndocker builder prune --all --force\ndocker system prune --all --force\n" [2846,3023]
                            OBJECT [3025,3153]
                                FIELD [3026,3046]
                                    String: "name" [3026,3032]
                                    STRING [3033,3046]
                                        String: "Upgrade pip" [3033,3046]
                                FIELD [3047,3091]
                                    String: "if" [3047,3051]
                                    STRING [3052,3091]
                                        String: "steps.changes.outputs.stack == 'true'" [3052,3091]
                                FIELD [3092,3152]
                                    String: "run" [3092,3097]
                                    STRING [3098,3152]
                                        String: "pip install --upgrade pip uv==0.1.35\nuv --version\n" [3098,3152]
                            OBJECT [3154,3316]
                                FIELD [3155,3181]
                                    String: "name" [3155,3161]
                                    STRING [3162,3181]
                                        String: "Get pip cache dir" [3162,3181]
                                FIELD [3182,3226]
                                    String: "if" [3182,3186]
                                    STRING [3187,3226]
                                        String: "steps.changes.outputs.stack == 'true'" [3187,3226]
                                FIELD [3227,3243]
                                    String: "id" [3227,3231]
                                    STRING [3232,3243]
                                        String: "pip-cache" [3232,3243]
                                FIELD [3244,3258]
                                    String: "shell" [3244,3251]
                                    STRING [3252,3258]
                                        String: "bash" [3252,3258]
                                FIELD [3259,3315]
                                    String: "run" [3259,3264]
                                    STRING [3265,3315]
                                        String: "echo \"dir=$(uv cache dir)\" >> $GITHUB_OUTPUT\n" [3265,3315]
                            OBJECT [3317,3590]
                                FIELD [3318,3336]
                                    String: "name" [3318,3324]
                                    STRING [3325,3336]
                                        String: "pip cache" [3325,3336]
                                FIELD [3337,3362]
                                    String: "uses" [3337,3343]
                                    STRING [3344,3362]
                                        String: "actions/cache@v4" [3344,3362]
                                FIELD [3363,3407]
                                    String: "if" [3363,3367]
                                    STRING [3368,3407]
                                        String: "steps.changes.outputs.stack == 'true'" [3368,3407]
                                FIELD [3408,3589]
                                    String: "with" [3408,3414]
                                    OBJECT [3415,3589]
                                        FIELD [3416,3459]
                                            String: "path" [3416,3422]
                                            STRING [3423,3459]
                                                String: "${{ steps.pip-cache.outputs.dir }}" [3423,3459]
                                        FIELD [3460,3518]
                                            String: "key" [3460,3465]
                                            STRING [3466,3518]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}" [3466,3518]
                                        FIELD [3519,3588]
                                            String: "restore-keys" [3519,3533]
                                            STRING [3534,3588]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}\n" [3534,3588]
                            OBJECT [3591,3708]
                                FIELD [3592,3612]
                                    String: "name" [3592,3598]
                                    STRING [3599,3612]
                                        String: "Install tox" [3599,3612]
                                FIELD [3613,3657]
                                    String: "if" [3613,3617]
                                    STRING [3618,3657]
                                        String: "steps.changes.outputs.stack == 'true'" [3618,3657]
                                FIELD [3658,3707]
                                    String: "run" [3658,3663]
                                    STRING [3664,3707]
                                        String: "pip install --upgrade tox tox-uv==1.5.1\n" [3664,3707]
                            OBJECT [3709,3993]
                                FIELD [3710,3734]
                                    String: "name" [3710,3716]
                                    STRING [3717,3734]
                                        String: "Install kubectl" [3717,3734]
                                FIELD [3735,3779]
                                    String: "if" [3735,3739]
                                    STRING [3740,3779]
                                        String: "steps.changes.outputs.stack == 'true'" [3740,3779]
                                FIELD [3780,3992]
                                    String: "run" [3780,3785]
                                    STRING [3786,3992]
                                        String: "# cleanup apt version\nsudo apt remove kubectl || true\n# install kubectl 1.27\ncurl -LO https://dl.k8s.io/release/v1.27.2/bin/linux/amd64/kubectl\nchmod +x kubectl\nsudo install kubectl /usr/local/bin;\n" [3786,3992]
                            OBJECT [3994,4221]
                                FIELD [3995,4016]
                                    String: "name" [3995,4001]
                                    STRING [4002,4016]
                                        String: "Install helm" [4002,4016]
                                FIELD [4017,4061]
                                    String: "if" [4017,4021]
                                    STRING [4022,4061]
                                        String: "steps.changes.outputs.stack == 'true'" [4022,4061]
                                FIELD [4062,4220]
                                    String: "run" [4062,4067]
                                    STRING [4068,4220]
                                        String: "# install helm\ncurl  -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3\nchmod 700 get_helm.sh\n./get_helm.sh\n" [4068,4220]
                            OBJECT [4222,4984]
                                FIELD [4223,4264]
                                    String: "name" [4223,4229]
                                    STRING [4230,4264]
                                        String: "Run K8s & Helm integration tests" [4230,4264]
                                FIELD [4265,4309]
                                    String: "if" [4265,4269]
                                    STRING [4270,4309]
                                        String: "steps.changes.outputs.stack == 'true'" [4270,4309]
                                FIELD [4310,4330]
                                    String: "timeout-minutes" [4310,4327]
                                    NUMBER [4328,4330]
                                        Number: 60 [4328,4330]
                                FIELD [4331,4468]
                                    String: "env" [4331,4336]
                                    OBJECT [4337,4468]
                                        FIELD [4338,4385]
                                            String: "PYTEST_MODULES" [4338,4354]
                                            STRING [4355,4385]
                                                String: "${{ matrix.pytest-modules }}" [4355,4385]
                                        FIELD [4386,4402]
                                            String: "GITHUB_CI" [4386,4397]
                                            TRUE [4398,4402]
                                        FIELD [4403,4467]
                                            String: "AZURE_BLOB_STORAGE_KEY" [4403,4427]
                                            STRING [4428,4467]
                                                String: "${{ secrets.AZURE_BLOB_STORAGE_KEY }}" [4428,4467]
                                FIELD [4469,4483]
                                    String: "shell" [4469,4476]
                                    STRING [4477,4483]
                                        String: "bash" [4477,4483]
                                FIELD [4484,4983]
                                    String: "run" [4484,4489]
                                    STRING [4490,4983]
                                        String: "K3D_VERSION=v5.6.3\nDEVSPACE_VERSION=v6.3.12\n# install k3d\nwget https://github.com/k3d-io/k3d/releases/download/${K3D_VERSION}/k3d-linux-amd64\nmv k3d-linux-amd64 k3d\nchmod +x k3d\nexport PATH=`pwd`:$PATH\nk3d version\ncurl -sSL https://github.com/loft-sh/devspace/releases/download/${DEVSPACE_VERSION}/devspace-linux-amd64 -o ./devspace\nchmod +x devspace\ndevspace version\n\ntox -e stack.test.integration.k8s\ntox -e syft.build.helm\ntox -e syft.package.helm\n# tox -e syft.test.helm\n" [4490,4983]
                            OBJECT [4985,5113]
                                FIELD [4986,5016]
                                    String: "name" [4986,4992]
                                    STRING [4993,5016]
                                        String: "Get current timestamp" [4993,5016]
                                FIELD [5017,5028]
                                    String: "id" [5017,5021]
                                    STRING [5022,5028]
                                        String: "date" [5022,5028]
                                FIELD [5029,5045]
                                    String: "if" [5029,5033]
                                    STRING [5034,5045]
                                        String: "failure()" [5034,5045]
                                FIELD [5046,5060]
                                    String: "shell" [5046,5053]
                                    STRING [5054,5060]
                                        String: "bash" [5054,5060]
                                FIELD [5061,5112]
                                    String: "run" [5061,5066]
                                    STRING [5067,5112]
                                        String: "echo \"date=$(date +%s)\" >> $GITHUB_OUTPUT" [5067,5112]
                            OBJECT [5114,5894]
                                FIELD [5115,5145]
                                    String: "name" [5115,5121]
                                    STRING [5122,5145]
                                        String: "Collect logs from k3d" [5122,5145]
                                FIELD [5146,5203]
                                    String: "if" [5146,5150]
                                    STRING [5151,5203]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [5151,5203]
                                FIELD [5204,5218]
                                    String: "shell" [5204,5211]
                                    STRING [5212,5218]
                                        String: "bash" [5212,5218]
                                FIELD [5219,5893]
                                    String: "run" [5219,5224]
                                    STRING [5225,5893]
                                        String: "mkdir -p ./k8s-logs\nkubectl describe all -A --context k3d-test-gateway-1 --namespace syft > ./k8s-logs/test-gateway-1-desc-${{ steps.date.outputs.date }}.txt\nkubectl describe all -A --context k3d-test-domain-1 --namespace syft > ./k8s-logs/test-domain-1-desc-${{ steps.date.outputs.date }}.txt\nkubectl logs -l app.kubernetes.io/name!=random --prefix=true --context k3d-test-gateway-1 --namespace syft > ./k8s-logs/test-gateway-1-logs-${{ steps.date.outputs.date }}.txt\nkubectl logs -l app.kubernetes.io/name!=random --prefix=true --context k3d-test-domain-1 --namespace syft > ./k8s-logs/test-domain-1-logs-${{ steps.date.outputs.date }}.txt\nls -la ./k8s-logs\n" [5225,5893]
                            OBJECT [5895,6133]
                                FIELD [5896,5926]
                                    String: "name" [5896,5902]
                                    STRING [5903,5926]
                                        String: "Upload logs to GitHub" [5903,5926]
                                FIELD [5927,5966]
                                    String: "uses" [5927,5933]
                                    STRING [5934,5966]
                                        String: "actions/upload-artifact@master" [5934,5966]
                                FIELD [5967,6024]
                                    String: "if" [5967,5971]
                                    STRING [5972,6024]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [5972,6024]
                                FIELD [6025,6132]
                                    String: "with" [6025,6031]
                                    OBJECT [6032,6132]
                                        FIELD [6033,6110]
                                            String: "name" [6033,6039]
                                            STRING [6040,6110]
                                                String: "k8s-logs-integration-${{ matrix.os }}-${{ steps.date.outputs.date }}" [6040,6110]
                                        FIELD [6111,6131]
                                            String: "path" [6111,6117]
                                            STRING [6118,6131]
                                                String: "./k8s-logs/" [6118,6131]
                            OBJECT [6134,6400]
                                FIELD [6135,6155]
                                    String: "name" [6135,6141]
                                    STRING [6142,6155]
                                        String: "Cleanup k3d" [6142,6155]
                                FIELD [6156,6213]
                                    String: "if" [6156,6160]
                                    STRING [6161,6213]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [6161,6213]
                                FIELD [6214,6228]
                                    String: "shell" [6214,6221]
                                    STRING [6222,6228]
                                        String: "bash" [6222,6228]
                                FIELD [6229,6399]
                                    String: "run" [6229,6234]
                                    STRING [6235,6399]
                                        String: "export PATH=`pwd`:$PATH\nk3d cluster delete test-gateway-1 || true\nk3d cluster delete test-domain-1 || true\nk3d registry delete k3d-registry.localhost || true\n" [6235,6399]
            FIELD [6403,10700]
                String: "pr-tests-notebook-k8s" [6403,6426]
                OBJECT [6427,10700]
                    FIELD [6428,6536]
                        String: "strategy" [6428,6438]
                        OBJECT [6439,6536]
                            FIELD [6440,6457]
                                String: "max-parallel" [6440,6454]
                                NUMBER [6455,6457]
                                    Number: 99 [6455,6457]
                            FIELD [6458,6517]
                                String: "matrix" [6458,6466]
                                OBJECT [6467,6517]
                                    FIELD [6468,6490]
                                        String: "os" [6468,6472]
                                        ARRAY [6473,6490]
                                            STRING [6474,6489]
                                                String: "ubuntu-latest" [6474,6489]
                                    FIELD [6491,6516]
                                        String: "python-version" [6491,6507]
                                        ARRAY [6508,6516]
                                            STRING [6509,6515]
                                                String: "3.12" [6509,6515]
                            FIELD [6518,6535]
                                String: "fail-fast" [6518,6529]
                                FALSE [6530,6535]
                    FIELD [6537,6563]
                        String: "runs-on" [6537,6546]
                        STRING [6547,6563]
                            String: "${{matrix.os}}" [6547,6563]
                    FIELD [6564,10699]
                        String: "steps" [6564,6571]
                        ARRAY [6572,10699]
                            OBJECT [6573,6654]
                                FIELD [6574,6611]
                                    String: "name" [6574,6580]
                                    STRING [6581,6611]
                                        String: "Permission to home directory" [6581,6611]
                                FIELD [6612,6653]
                                    String: "run" [6612,6617]
                                    STRING [6618,6653]
                                        String: "sudo chown -R $USER:$USER $HOME\n" [6618,6653]
                            OBJECT [6655,6685]
                                FIELD [6656,6684]
                                    String: "uses" [6656,6662]
                                    STRING [6663,6684]
                                        String: "actions/checkout@v4" [6663,6684]
                            OBJECT [6686,6868]
                                FIELD [6687,6718]
                                    String: "name" [6687,6693]
                                    STRING [6694,6718]
                                        String: "Check for file changes" [6694,6718]
                                FIELD [6719,6749]
                                    String: "uses" [6719,6725]
                                    STRING [6726,6749]
                                        String: "dorny/paths-filter@v3" [6726,6749]
                                FIELD [6750,6764]
                                    String: "id" [6750,6754]
                                    STRING [6755,6764]
                                        String: "changes" [6755,6764]
                                FIELD [6765,6867]
                                    String: "with" [6765,6771]
                                    OBJECT [6772,6867]
                                        FIELD [6773,6799]
                                            String: "base" [6773,6779]
                                            STRING [6780,6799]
                                                String: "${{ github.ref }}" [6780,6799]
                                        FIELD [6800,6829]
                                            String: "token" [6800,6807]
                                            STRING [6808,6829]
                                                String: "${{ github.token }}" [6808,6829]
                                        FIELD [6830,6866]
                                            String: "filters" [6830,6839]
                                            STRING [6840,6866]
                                                String: ".github/file-filters.yml" [6840,6866]
                            OBJECT [6869,7057]
                                FIELD [6870,6921]
                                    String: "name" [6870,6876]
                                    STRING [6877,6921]
                                        String: "Set up Python ${{ matrix.python-version }}" [6877,6921]
                                FIELD [6922,6954]
                                    String: "uses" [6922,6928]
                                    STRING [6929,6954]
                                        String: "actions/setup-python@v5" [6929,6954]
                                FIELD [6955,6999]
                                    String: "if" [6955,6959]
                                    STRING [6960,6999]
                                        String: "steps.changes.outputs.stack == 'true'" [6960,6999]
                                FIELD [7000,7056]
                                    String: "with" [7000,7006]
                                    OBJECT [7007,7056]
                                        FIELD [7008,7055]
                                            String: "python-version" [7008,7024]
                                            STRING [7025,7055]
                                                String: "${{ matrix.python-version }}" [7025,7055]
                            OBJECT [7058,7151]
                                FIELD [7059,7084]
                                    String: "name" [7059,7065]
                                    STRING [7066,7084]
                                        String: "Add K3d Registry" [7066,7084]
                                FIELD [7085,7150]
                                    String: "run" [7085,7090]
                                    STRING [7091,7150]
                                        String: "sudo python ./scripts/patch_hosts.py --add-k3d-registry\n" [7091,7150]
                            OBJECT [7152,7277]
                                FIELD [7153,7186]
                                    String: "name" [7153,7159]
                                    STRING [7160,7186]
                                        String: "Free Disk Space (Ubuntu)" [7160,7186]
                                FIELD [7187,7226]
                                    String: "uses" [7187,7193]
                                    STRING [7194,7226]
                                        String: "jlumbroso/free-disk-space@main" [7194,7226]
                                FIELD [7227,7276]
                                    String: "with" [7227,7233]
                                    OBJECT [7234,7276]
                                        FIELD [7235,7252]
                                            String: "tool-cache" [7235,7247]
                                            TRUE [7248,7252]
                                        FIELD [7253,7275]
                                            String: "large-packages" [7253,7269]
                                            FALSE [7270,7275]
                            OBJECT [7278,7533]
                                FIELD [7279,7312]
                                    String: "name" [7279,7285]
                                    STRING [7286,7312]
                                        String: "Remove unnecessary files" [7286,7312]
                                FIELD [7313,7348]
                                    String: "if" [7313,7317]
                                    STRING [7318,7348]
                                        String: "matrix.os == 'ubuntu-latest'" [7318,7348]
                                FIELD [7349,7532]
                                    String: "run" [7349,7354]
                                    STRING [7355,7532]
                                        String: "sudo rm -rf /usr/share/dotnet\nsudo rm -rf \"$AGENT_TOOLSDIRECTORY\"\ndocker image prune --all --force\ndocker builder prune --all --force\ndocker system prune --all --force\n" [7355,7532]
                            OBJECT [7534,7662]
                                FIELD [7535,7555]
                                    String: "name" [7535,7541]
                                    STRING [7542,7555]
                                        String: "Upgrade pip" [7542,7555]
                                FIELD [7556,7600]
                                    String: "if" [7556,7560]
                                    STRING [7561,7600]
                                        String: "steps.changes.outputs.stack == 'true'" [7561,7600]
                                FIELD [7601,7661]
                                    String: "run" [7601,7606]
                                    STRING [7607,7661]
                                        String: "pip install --upgrade pip uv==0.1.35\nuv --version\n" [7607,7661]
                            OBJECT [7663,7825]
                                FIELD [7664,7690]
                                    String: "name" [7664,7670]
                                    STRING [7671,7690]
                                        String: "Get pip cache dir" [7671,7690]
                                FIELD [7691,7735]
                                    String: "if" [7691,7695]
                                    STRING [7696,7735]
                                        String: "steps.changes.outputs.stack == 'true'" [7696,7735]
                                FIELD [7736,7752]
                                    String: "id" [7736,7740]
                                    STRING [7741,7752]
                                        String: "pip-cache" [7741,7752]
                                FIELD [7753,7767]
                                    String: "shell" [7753,7760]
                                    STRING [7761,7767]
                                        String: "bash" [7761,7767]
                                FIELD [7768,7824]
                                    String: "run" [7768,7773]
                                    STRING [7774,7824]
                                        String: "echo \"dir=$(uv cache dir)\" >> $GITHUB_OUTPUT\n" [7774,7824]
                            OBJECT [7826,8099]
                                FIELD [7827,7845]
                                    String: "name" [7827,7833]
                                    STRING [7834,7845]
                                        String: "pip cache" [7834,7845]
                                FIELD [7846,7871]
                                    String: "uses" [7846,7852]
                                    STRING [7853,7871]
                                        String: "actions/cache@v4" [7853,7871]
                                FIELD [7872,7916]
                                    String: "if" [7872,7876]
                                    STRING [7877,7916]
                                        String: "steps.changes.outputs.stack == 'true'" [7877,7916]
                                FIELD [7917,8098]
                                    String: "with" [7917,7923]
                                    OBJECT [7924,8098]
                                        FIELD [7925,7968]
                                            String: "path" [7925,7931]
                                            STRING [7932,7968]
                                                String: "${{ steps.pip-cache.outputs.dir }}" [7932,7968]
                                        FIELD [7969,8027]
                                            String: "key" [7969,7974]
                                            STRING [7975,8027]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}" [7975,8027]
                                        FIELD [8028,8097]
                                            String: "restore-keys" [8028,8042]
                                            STRING [8043,8097]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}\n" [8043,8097]
                            OBJECT [8100,8217]
                                FIELD [8101,8121]
                                    String: "name" [8101,8107]
                                    STRING [8108,8121]
                                        String: "Install tox" [8108,8121]
                                FIELD [8122,8166]
                                    String: "if" [8122,8126]
                                    STRING [8127,8166]
                                        String: "steps.changes.outputs.stack == 'true'" [8127,8166]
                                FIELD [8167,8216]
                                    String: "run" [8167,8172]
                                    STRING [8173,8216]
                                        String: "pip install --upgrade tox tox-uv==1.5.1\n" [8173,8216]
                            OBJECT [8218,8502]
                                FIELD [8219,8243]
                                    String: "name" [8219,8225]
                                    STRING [8226,8243]
                                        String: "Install kubectl" [8226,8243]
                                FIELD [8244,8288]
                                    String: "if" [8244,8248]
                                    STRING [8249,8288]
                                        String: "steps.changes.outputs.stack == 'true'" [8249,8288]
                                FIELD [8289,8501]
                                    String: "run" [8289,8294]
                                    STRING [8295,8501]
                                        String: "# cleanup apt version\nsudo apt remove kubectl || true\n# install kubectl 1.27\ncurl -LO https://dl.k8s.io/release/v1.27.2/bin/linux/amd64/kubectl\nchmod +x kubectl\nsudo install kubectl /usr/local/bin;\n" [8295,8501]
                            OBJECT [8503,8730]
                                FIELD [8504,8525]
                                    String: "name" [8504,8510]
                                    STRING [8511,8525]
                                        String: "Install helm" [8511,8525]
                                FIELD [8526,8570]
                                    String: "if" [8526,8530]
                                    STRING [8531,8570]
                                        String: "steps.changes.outputs.stack == 'true'" [8531,8570]
                                FIELD [8571,8729]
                                    String: "run" [8571,8576]
                                    STRING [8577,8729]
                                        String: "# install helm\ncurl  -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3\nchmod 700 get_helm.sh\n./get_helm.sh\n" [8577,8729]
                            OBJECT [8731,9287]
                                FIELD [8732,8760]
                                    String: "name" [8732,8738]
                                    STRING [8739,8760]
                                        String: "Run Notebooks Tests" [8739,8760]
                                FIELD [8761,8805]
                                    String: "if" [8761,8765]
                                    STRING [8766,8805]
                                        String: "steps.changes.outputs.stack == 'true'" [8766,8805]
                                FIELD [8806,8826]
                                    String: "timeout-minutes" [8806,8823]
                                    NUMBER [8824,8826]
                                        Number: 60 [8824,8826]
                                FIELD [8827,8851]
                                    String: "env" [8827,8832]
                                    OBJECT [8833,8851]
                                        FIELD [8834,8850]
                                            String: "GITHUB_CI" [8834,8845]
                                            TRUE [8846,8850]
                                FIELD [8852,8866]
                                    String: "shell" [8852,8859]
                                    STRING [8860,8866]
                                        String: "bash" [8860,8866]
                                FIELD [8867,9286]
                                    String: "run" [8867,8872]
                                    STRING [8873,9286]
                                        String: "K3D_VERSION=v5.6.3\nDEVSPACE_VERSION=v6.3.12\n# install k3d\nwget https://github.com/k3d-io/k3d/releases/download/${K3D_VERSION}/k3d-linux-amd64\nmv k3d-linux-amd64 k3d\nchmod +x k3d\nexport PATH=`pwd`:$PATH\nk3d version\ncurl -sSL https://github.com/loft-sh/devspace/releases/download/${DEVSPACE_VERSION}/devspace-linux-amd64 -o ./devspace\nchmod +x devspace\ndevspace version\ntox -e stack.test.notebook.k8s\n" [8873,9286]
                            OBJECT [9288,9416]
                                FIELD [9289,9319]
                                    String: "name" [9289,9295]
                                    STRING [9296,9319]
                                        String: "Get current timestamp" [9296,9319]
                                FIELD [9320,9331]
                                    String: "id" [9320,9324]
                                    STRING [9325,9331]
                                        String: "date" [9325,9331]
                                FIELD [9332,9348]
                                    String: "if" [9332,9336]
                                    STRING [9337,9348]
                                        String: "failure()" [9337,9348]
                                FIELD [9349,9363]
                                    String: "shell" [9349,9356]
                                    STRING [9357,9363]
                                        String: "bash" [9357,9363]
                                FIELD [9364,9415]
                                    String: "run" [9364,9369]
                                    STRING [9370,9415]
                                        String: "echo \"date=$(date +%s)\" >> $GITHUB_OUTPUT" [9370,9415]
                            OBJECT [9417,10197]
                                FIELD [9418,9448]
                                    String: "name" [9418,9424]
                                    STRING [9425,9448]
                                        String: "Collect logs from k3d" [9425,9448]
                                FIELD [9449,9506]
                                    String: "if" [9449,9453]
                                    STRING [9454,9506]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [9454,9506]
                                FIELD [9507,9521]
                                    String: "shell" [9507,9514]
                                    STRING [9515,9521]
                                        String: "bash" [9515,9521]
                                FIELD [9522,10196]
                                    String: "run" [9522,9527]
                                    STRING [9528,10196]
                                        String: "mkdir -p ./k8s-logs\nkubectl describe all -A --context k3d-test-gateway-1 --namespace syft > ./k8s-logs/test-gateway-1-desc-${{ steps.date.outputs.date }}.txt\nkubectl describe all -A --context k3d-test-domain-1 --namespace syft > ./k8s-logs/test-domain-1-desc-${{ steps.date.outputs.date }}.txt\nkubectl logs -l app.kubernetes.io/name!=random --prefix=true --context k3d-test-gateway-1 --namespace syft > ./k8s-logs/test-gateway-1-logs-${{ steps.date.outputs.date }}.txt\nkubectl logs -l app.kubernetes.io/name!=random --prefix=true --context k3d-test-domain-1 --namespace syft > ./k8s-logs/test-domain-1-logs-${{ steps.date.outputs.date }}.txt\nls -la ./k8s-logs\n" [9528,10196]
                            OBJECT [10198,10433]
                                FIELD [10199,10229]
                                    String: "name" [10199,10205]
                                    STRING [10206,10229]
                                        String: "Upload logs to GitHub" [10206,10229]
                                FIELD [10230,10269]
                                    String: "uses" [10230,10236]
                                    STRING [10237,10269]
                                        String: "actions/upload-artifact@master" [10237,10269]
                                FIELD [10270,10327]
                                    String: "if" [10270,10274]
                                    STRING [10275,10327]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [10275,10327]
                                FIELD [10328,10432]
                                    String: "with" [10328,10334]
                                    OBJECT [10335,10432]
                                        FIELD [10336,10410]
                                            String: "name" [10336,10342]
                                            STRING [10343,10410]
                                                String: "k8s-logs-notebook-${{ matrix.os }}-${{ steps.date.outputs.date }}" [10343,10410]
                                        FIELD [10411,10431]
                                            String: "path" [10411,10417]
                                            STRING [10418,10431]
                                                String: "./k8s-logs/" [10418,10431]
                            OBJECT [10434,10698]
                                FIELD [10435,10455]
                                    String: "name" [10435,10441]
                                    STRING [10442,10455]
                                        String: "Cleanup k3d" [10442,10455]
                                FIELD [10456,10513]
                                    String: "if" [10456,10460]
                                    STRING [10461,10513]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [10461,10513]
                                FIELD [10514,10528]
                                    String: "shell" [10514,10521]
                                    STRING [10522,10528]
                                        String: "bash" [10522,10528]
                                FIELD [10529,10697]
                                    String: "run" [10529,10534]
                                    STRING [10535,10697]
                                        String: "export PATH=`pwd`:$PATH\nk3d cluster delete test-gateway-1 || true\nk3d cluster delete test-domain-1 || true\nk3d registry delete k3d-registry.localhost || true" [10535,10697]