OBJECT [0,5343]
    FIELD [1,24]
        String: "name" [1,7]
        STRING [8,24]
            String: "OctoBot-Docker" [8,24]
    FIELD [25,101]
        String: "on" [25,29]
        OBJECT [30,101]
            FIELD [31,80]
                String: "push" [31,37]
                OBJECT [38,80]
                    FIELD [39,66]
                        String: "branches" [39,49]
                        ARRAY [50,66]
                            STRING [51,59]
                                String: "master" [51,59]
                            STRING [60,65]
                                String: "dev" [60,65]
                    FIELD [67,79]
                        String: "tags" [67,73]
                        ARRAY [74,79]
                            STRING [75,78]
                                String: "*" [75,78]
            FIELD [81,100]
                String: "pull_request" [81,95]
                NULL [96,100]
    FIELD [102,5342]
        String: "jobs" [102,108]
        OBJECT [109,5342]
            FIELD [110,374]
                String: "lint" [110,116]
                OBJECT [117,374]
                    FIELD [118,156]
                        String: "name" [118,124]
                        STRING [125,156]
                            String: "ubuntu-latest - Docker - lint" [125,156]
                    FIELD [157,182]
                        String: "runs-on" [157,166]
                        STRING [167,182]
                            String: "ubuntu-latest" [167,182]
                    FIELD [183,373]
                        String: "steps" [183,190]
                        ARRAY [191,373]
                            OBJECT [192,222]
                                FIELD [193,221]
                                    String: "uses" [193,199]
                                    STRING [200,221]
                                        String: "actions/checkout@v2" [200,221]
                            OBJECT [223,372]
                                FIELD [224,245]
                                    String: "name" [224,230]
                                    STRING [231,245]
                                        String: "Run hadolint" [231,245]
                                FIELD [246,283]
                                    String: "uses" [246,252]
                                    STRING [253,283]
                                        String: "reviewdog/action-hadolint@v1" [253,283]
                                FIELD [284,371]
                                    String: "with" [284,290]
                                    OBJECT [291,371]
                                        FIELD [292,336]
                                            String: "github_token" [292,306]
                                            STRING [307,336]
                                                String: "${{ secrets.github_token }}" [307,336]
                                        FIELD [337,370]
                                            String: "hadolint_ignore" [337,354]
                                            STRING [355,370]
                                                String: "DL3013 DL3008" [355,370]
            FIELD [375,5072]
                String: "build_test_push" [375,392]
                OBJECT [393,5072]
                    FIELD [394,408]
                        String: "needs" [394,401]
                        STRING [402,408]
                            String: "lint" [402,408]
                    FIELD [409,462]
                        String: "name" [409,415]
                        STRING [416,462]
                            String: "ubuntu-latest - Docker - build & test & push" [416,462]
                    FIELD [463,488]
                        String: "runs-on" [463,472]
                        STRING [473,488]
                            String: "ubuntu-latest" [473,488]
                    FIELD [489,5071]
                        String: "steps" [489,496]
                        ARRAY [497,5071]
                            OBJECT [498,528]
                                FIELD [499,527]
                                    String: "uses" [499,505]
                                    STRING [506,527]
                                        String: "actions/checkout@v2" [506,527]
                            OBJECT [529,1047]
                                FIELD [530,564]
                                    String: "name" [530,536]
                                    STRING [537,564]
                                        String: "Set Environment Variables" [537,564]
                                FIELD [565,1046]
                                    String: "run" [565,570]
                                    STRING [571,1046]
                                        String: "OWNER=\"$(echo \"${{ github.repository_owner }}\" | tr '[:upper:]' '[:lower:]' | tr -d '-')\"\nIMG=octobot\necho \"VERSION=${GITHUB_REF##*/}\" >> $GITHUB_ENV\necho \"IMAGE=${OWNER}/${IMG}\" >> $GITHUB_ENV\necho \"LATEST=latest\" >> $GITHUB_ENV\necho \"STABLE=stable\" >> $GITHUB_ENV\necho \"TEST=test\" >> $GITHUB_ENV\necho \"CONTAINER_NAME=octobot\" >> $GITHUB_ENV\necho \"CHECK_TENTACLE_CONTAINER_TIME=10\" >> $GITHUB_ENV\necho \"WAIT_CONTAINER_TIME=80\" >> $GITHUB_ENV\n" [571,1046]
                            OBJECT [1048,1408]
                                FIELD [1049,1076]
                                    String: "name" [1049,1055]
                                    STRING [1056,1076]
                                        String: "Wait for tentacles" [1056,1076]
                                FIELD [1077,1150]
                                    String: "if" [1077,1081]
                                    STRING [1082,1150]
                                        String: "github.event_name == 'push' && startsWith(github.ref, 'refs/tags')" [1082,1150]
                                FIELD [1151,1201]
                                    String: "uses" [1151,1157]
                                    STRING [1158,1201]
                                        String: "fountainhead/action-wait-for-check@v1.0.0" [1158,1201]
                                FIELD [1202,1227]
                                    String: "id" [1202,1206]
                                    STRING [1207,1227]
                                        String: "wait-for-tentacles" [1207,1227]
                                FIELD [1228,1407]
                                    String: "with" [1228,1234]
                                    OBJECT [1235,1407]
                                        FIELD [1236,1271]
                                            String: "token" [1236,1243]
                                            STRING [1244,1271]
                                                String: "${{ secrets.AUTH_TOKEN }}" [1244,1271]
                                        FIELD [1272,1331]
                                            String: "checkName" [1272,1283]
                                            STRING [1284,1331]
                                                String: "ubuntu-latest - Python 3.8 - upload tentacles" [1284,1331]
                                        FIELD [1332,1357]
                                            String: "ref" [1332,1337]
                                            STRING [1338,1357]
                                                String: "${{ github.ref }}" [1338,1357]
                                        FIELD [1358,1384]
                                            String: "repo" [1358,1364]
                                            STRING [1365,1384]
                                                String: "OctoBot-Tentacles" [1365,1384]
                                        FIELD [1385,1406]
                                            String: "timeoutSeconds" [1385,1401]
                                            NUMBER [1402,1406]
                                                Number: 3600 [1402,1406]
                            OBJECT [1409,1603]
                                FIELD [1410,1453]
                                    String: "name" [1410,1416]
                                    STRING [1417,1453]
                                        String: "Trigger fail when Tentacles failed" [1417,1453]
                                FIELD [1454,1587]
                                    String: "if" [1454,1458]
                                    STRING [1459,1587]
                                        String: "github.event_name == 'push' && startsWith(github.ref, 'refs/tags') && steps.wait-for-tentacles.outputs.conclusion == 'failure'" [1459,1587]
                                FIELD [1588,1602]
                                    String: "run" [1588,1593]
                                    STRING [1594,1602]
                                        String: "exit 1" [1594,1602]
                            OBJECT [1604,1712]
                                FIELD [1605,1625]
                                    String: "name" [1605,1611]
                                    STRING [1612,1625]
                                        String: "Set up QEMU" [1612,1625]
                                FIELD [1626,1643]
                                    String: "id" [1626,1630]
                                    STRING [1631,1643]
                                        String: "qemu-setup" [1631,1643]
                                FIELD [1644,1684]
                                    String: "uses" [1644,1650]
                                    STRING [1651,1684]
                                        String: "docker/setup-qemu-action@master" [1651,1684]
                                FIELD [1685,1711]
                                    String: "with" [1685,1691]
                                    OBJECT [1692,1711]
                                        FIELD [1693,1710]
                                            String: "platforms" [1693,1704]
                                            STRING [1705,1710]
                                                String: "all" [1705,1710]
                            OBJECT [1713,1798]
                                FIELD [1714,1748]
                                    String: "name" [1714,1720]
                                    STRING [1721,1748]
                                        String: "Print available platforms" [1721,1748]
                                FIELD [1749,1797]
                                    String: "run" [1749,1754]
                                    STRING [1755,1797]
                                        String: "echo ${{ steps.qemu.outputs.platforms }}" [1755,1797]
                            OBJECT [1799,1914]
                                FIELD [1800,1829]
                                    String: "name" [1800,1806]
                                    STRING [1807,1829]
                                        String: "Set up Docker Buildx" [1807,1829]
                                FIELD [1830,1843]
                                    String: "id" [1830,1834]
                                    STRING [1835,1843]
                                        String: "buildx" [1835,1843]
                                FIELD [1844,1886]
                                    String: "uses" [1844,1850]
                                    STRING [1851,1886]
                                        String: "docker/setup-buildx-action@master" [1851,1886]
                                FIELD [1887,1913]
                                    String: "with" [1887,1893]
                                    OBJECT [1894,1913]
                                        FIELD [1895,1912]
                                            String: "driver" [1895,1903]
                                            STRING [1904,1912]
                                                String: "docker" [1904,1912]
                            OBJECT [1915,2111]
                                FIELD [1916,1943]
                                    String: "name" [1916,1922]
                                    STRING [1923,1943]
                                        String: "Login to DockerHub" [1923,1943]
                                FIELD [1944,1978]
                                    String: "if" [1944,1948]
                                    STRING [1949,1978]
                                        String: "github.event_name == 'push'" [1949,1978]
                                FIELD [1979,2010]
                                    String: "uses" [1979,1985]
                                    STRING [1986,2010]
                                        String: "docker/login-action@v1" [1986,2010]
                                FIELD [2011,2110]
                                    String: "with" [2011,2017]
                                    OBJECT [2018,2110]
                                        FIELD [2019,2065]
                                            String: "username" [2019,2029]
                                            STRING [2030,2065]
                                                String: "${{ secrets.DOCKERHUB_USERNAME }}" [2030,2065]
                                        FIELD [2066,2109]
                                            String: "password" [2066,2076]
                                            STRING [2077,2109]
                                                String: "${{ secrets.DOCKERHUB_TOKEN }}" [2077,2109]
                            OBJECT [2112,2372]
                                FIELD [2113,2146]
                                    String: "name" [2113,2119]
                                    STRING [2120,2146]
                                        String: "Wait for main build done" [2120,2146]
                                FIELD [2147,2181]
                                    String: "if" [2147,2151]
                                    STRING [2152,2181]
                                        String: "github.event_name == 'push'" [2152,2181]
                                FIELD [2182,2232]
                                    String: "uses" [2182,2188]
                                    STRING [2189,2232]
                                        String: "fountainhead/action-wait-for-check@v1.0.0" [2189,2232]
                                FIELD [2233,2259]
                                    String: "id" [2233,2237]
                                    STRING [2238,2259]
                                        String: "wait-for-main-build" [2238,2259]
                                FIELD [2260,2371]
                                    String: "with" [2260,2266]
                                    OBJECT [2267,2371]
                                        FIELD [2268,2303]
                                            String: "token" [2268,2275]
                                            STRING [2276,2303]
                                                String: "${{ secrets.AUTH_TOKEN }}" [2276,2303]
                                        FIELD [2304,2322]
                                            String: "checkName" [2304,2315]
                                            STRING [2316,2322]
                                                String: "Done" [2316,2322]
                                        FIELD [2323,2348]
                                            String: "ref" [2323,2328]
                                            STRING [2329,2348]
                                                String: "${{ github.sha }}" [2329,2348]
                                        FIELD [2349,2370]
                                            String: "timeoutSeconds" [2349,2365]
                                            NUMBER [2366,2370]
                                                Number: 3600 [2366,2370]
                            OBJECT [2373,2524]
                                FIELD [2374,2412]
                                    String: "name" [2374,2380]
                                    STRING [2381,2412]
                                        String: "Trigger fail when Main failed" [2381,2412]
                                FIELD [2413,2508]
                                    String: "if" [2413,2417]
                                    STRING [2418,2508]
                                        String: "github.event_name == 'push' && steps.wait-for-main-build.outputs.conclusion == 'failure'" [2418,2508]
                                FIELD [2509,2523]
                                    String: "run" [2509,2514]
                                    STRING [2515,2523]
                                        String: "exit 1" [2515,2523]
                            OBJECT [2525,2841]
                                FIELD [2526,2547]
                                    String: "name" [2526,2532]
                                    STRING [2533,2547]
                                        String: "Build latest" [2533,2547]
                                FIELD [2548,2582]
                                    String: "if" [2548,2552]
                                    STRING [2553,2582]
                                        String: "github.event_name != 'push'" [2553,2582]
                                FIELD [2583,2623]
                                    String: "uses" [2583,2589]
                                    STRING [2590,2623]
                                        String: "docker/build-push-action@master" [2590,2623]
                                FIELD [2624,2840]
                                    String: "with" [2624,2630]
                                    OBJECT [2631,2840]
                                        FIELD [2632,2645]
                                            String: "context" [2632,2641]
                                            STRING [2642,2645]
                                                String: "." [2642,2645]
                                        FIELD [2646,2690]
                                            String: "builder" [2646,2655]
                                            STRING [2656,2690]
                                                String: "${{ steps.buildx.outputs.name }}" [2656,2690]
                                        FIELD [2691,2729]
                                            String: "platforms" [2691,2702]
                                            STRING [2703,2729]
                                                String: "linux/amd64,linux/arm/v7" [2703,2729]
                                        FIELD [2730,2742]
                                            String: "push" [2730,2736]
                                            FALSE [2737,2742]
                                        FIELD [2743,2786]
                                            String: "tags" [2743,2749]
                                            STRING [2750,2786]
                                                String: "${{ env.IMAGE }}:${{ env.LATEST }}" [2750,2786]
                                        FIELD [2787,2839]
                                            String: "build-args" [2787,2799]
                                            STRING [2800,2839]
                                                String: "TENTACLES_URL_TAG=${{ env.LATEST }}\n" [2800,2839]
                            OBJECT [2842,3059]
                                FIELD [2843,2879]
                                    String: "name" [2843,2849]
                                    STRING [2850,2879]
                                        String: "Docker build test container" [2850,2879]
                                FIELD [2880,2914]
                                    String: "if" [2880,2884]
                                    STRING [2885,2914]
                                        String: "github.event_name != 'push'" [2885,2914]
                                FIELD [2915,3058]
                                    String: "run" [2915,2920]
                                    STRING [2921,3058]
                                        String: "docker build -f ./tests/Dockerfile --build-arg OCTOBOT_IMAGE=${{ env.IMAGE }}:${{ env.LATEST }} -t ${{ env.IMAGE }}:${{ env.TEST }} .\n" [2921,3058]
                            OBJECT [3060,3265]
                                FIELD [3061,3089]
                                    String: "name" [3061,3067]
                                    STRING [3068,3089]
                                        String: "run tests in docker" [3068,3089]
                                FIELD [3090,3124]
                                    String: "if" [3090,3094]
                                    STRING [3095,3124]
                                        String: "github.event_name != 'push'" [3095,3124]
                                FIELD [3125,3264]
                                    String: "run" [3125,3130]
                                    STRING [3131,3264]
                                        String: "docker run -i -e TENTACLES_REPOSITORY=dev-tentacles -e TENTACLES_URL_TAG=${GITHUB_HEAD_REF////_} ${{ env.IMAGE }}:${{ env.TEST }}\n" [3131,3264]
                            OBJECT [3266,4178]
                                FIELD [3267,3308]
                                    String: "name" [3267,3273]
                                    STRING [3274,3308]
                                        String: "run and check health after start" [3274,3308]
                                FIELD [3309,3343]
                                    String: "if" [3309,3313]
                                    STRING [3314,3343]
                                        String: "github.event_name != 'push'" [3314,3343]
                                FIELD [3344,4177]
                                    String: "run" [3344,3349]
                                    STRING [3350,4177]
                                        String: "echo Start OctoBot docker with branche_name tentacles package\ndocker run -id -e TENTACLES_PACKAGES_SOURCE=dev -e TENTACLES_URL_TAG=${GITHUB_HEAD_REF////_} --name ${{ env.CONTAINER_NAME }} ${{ env.IMAGE }}:${{ env.LATEST }}\nsleep ${{ env.CHECK_TENTACLE_CONTAINER_TIME }}\nif docker logs ${{ env.CONTAINER_NAME }} | grep \"octobot_tentacles_manager.api.util.tentacles_management Can't find tentacle archive at:\" ; then\n    docker rm -f ${{ env.CONTAINER_NAME }}\n    echo Restarting docker with latest tentacle package...\n    docker run -id -e TENTACLES_URL_TAG=${{ env.LATEST }} --name ${{ env.CONTAINER_NAME }} ${{ env.IMAGE }}:${{ env.LATEST }}\nfi\nsleep ${{ env.WAIT_CONTAINER_TIME }}\ndocker logs ${{ env.CONTAINER_NAME }}\ndocker inspect ${{ env.CONTAINER_NAME }} | jq '.[].State.Health.Status' | grep \"healthy\"\n" [3350,4177]
                            OBJECT [4179,4576]
                                FIELD [4180,4210]
                                    String: "name" [4180,4186]
                                    STRING [4187,4210]
                                        String: "Build and push latest" [4187,4210]
                                FIELD [4211,4319]
                                    String: "if" [4211,4215]
                                    STRING [4216,4319]
                                        String: "github.event_name == 'push' && !startsWith(github.ref, 'refs/tags') && github.ref == 'refs/heads/dev'" [4216,4319]
                                FIELD [4320,4360]
                                    String: "uses" [4320,4326]
                                    STRING [4327,4360]
                                        String: "docker/build-push-action@master" [4327,4360]
                                FIELD [4361,4575]
                                    String: "with" [4361,4367]
                                    OBJECT [4368,4575]
                                        FIELD [4369,4382]
                                            String: "context" [4369,4378]
                                            STRING [4379,4382]
                                                String: "." [4379,4382]
                                        FIELD [4383,4427]
                                            String: "builder" [4383,4392]
                                            STRING [4393,4427]
                                                String: "${{ steps.buildx.outputs.name }}" [4393,4427]
                                        FIELD [4428,4465]
                                            String: "platforms" [4428,4439]
                                            STRING [4440,4465]
                                                String: "linux/amd64,linux/arm64" [4440,4465]
                                        FIELD [4466,4477]
                                            String: "push" [4466,4472]
                                            TRUE [4473,4477]
                                        FIELD [4478,4521]
                                            String: "tags" [4478,4484]
                                            STRING [4485,4521]
                                                String: "${{ env.IMAGE }}:${{ env.LATEST }}" [4485,4521]
                                        FIELD [4522,4574]
                                            String: "build-args" [4522,4534]
                                            STRING [4535,4574]
                                                String: "TENTACLES_URL_TAG=${{ env.LATEST }}\n" [4535,4574]
                            OBJECT [4577,4983]
                                FIELD [4578,4608]
                                    String: "name" [4578,4584]
                                    STRING [4585,4608]
                                        String: "Build and push on tag" [4585,4608]
                                FIELD [4609,4682]
                                    String: "if" [4609,4613]
                                    STRING [4614,4682]
                                        String: "github.event_name == 'push' && startsWith(github.ref, 'refs/tags')" [4614,4682]
                                FIELD [4683,4723]
                                    String: "uses" [4683,4689]
                                    STRING [4690,4723]
                                        String: "docker/build-push-action@master" [4690,4723]
                                FIELD [4724,4982]
                                    String: "with" [4724,4730]
                                    OBJECT [4731,4982]
                                        FIELD [4732,4745]
                                            String: "context" [4732,4741]
                                            STRING [4742,4745]
                                                String: "." [4742,4745]
                                        FIELD [4746,4767]
                                            String: "file" [4746,4752]
                                            STRING [4753,4767]
                                                String: "./Dockerfile" [4753,4767]
                                        FIELD [4768,4812]
                                            String: "builder" [4768,4777]
                                            STRING [4778,4812]
                                                String: "${{ steps.buildx.outputs.name }}" [4778,4812]
                                        FIELD [4813,4850]
                                            String: "platforms" [4813,4824]
                                            STRING [4825,4850]
                                                String: "linux/amd64,linux/arm64" [4825,4850]
                                        FIELD [4851,4862]
                                            String: "push" [4851,4857]
                                            TRUE [4858,4862]
                                        FIELD [4863,4981]
                                            String: "tags" [4863,4869]
                                            STRING [4870,4981]
                                                String: "${{ env.IMAGE }}:${{ env.LATEST }}\n${{ env.IMAGE }}:${{ env.STABLE }}\n${{ env.IMAGE }}:${{ env.VERSION }}\n" [4870,4981]
                            OBJECT [4984,5070]
                                FIELD [4985,5006]
                                    String: "name" [4985,4991]
                                    STRING [4992,5006]
                                        String: "Image digest" [4992,5006]
                                FIELD [5007,5069]
                                    String: "run" [5007,5012]
                                    STRING [5013,5069]
                                        String: "echo ${{ steps.docker_build_and_psuh.outputs.digest }}" [5013,5069]
            FIELD [5073,5341]
                String: "notify" [5073,5081]
                OBJECT [5082,5341]
                    FIELD [5083,5098]
                        String: "name" [5083,5089]
                        STRING [5090,5098]
                            String: "Notify" [5090,5098]
                    FIELD [5099,5124]
                        String: "runs-on" [5099,5108]
                        STRING [5109,5124]
                            String: "ubuntu-latest" [5109,5124]
                    FIELD [5125,5159]
                        String: "needs" [5125,5132]
                        ARRAY [5133,5159]
                            STRING [5134,5140]
                                String: "lint" [5134,5140]
                            STRING [5141,5158]
                                String: "build_test_push" [5141,5158]
                    FIELD [5160,5183]
                        String: "if" [5160,5164]
                        STRING [5165,5183]
                            String: "${{ failure() }}" [5165,5183]
                    FIELD [5184,5340]
                        String: "steps" [5184,5191]
                        ARRAY [5192,5340]
                            OBJECT [5193,5339]
                                FIELD [5194,5217]
                                    String: "name" [5194,5200]
                                    STRING [5201,5217]
                                        String: "Notify discord" [5201,5217]
                                FIELD [5218,5260]
                                    String: "uses" [5218,5224]
                                    STRING [5225,5260]
                                        String: "sarisia/actions-status-discord@v1" [5225,5260]
                                FIELD [5261,5338]
                                    String: "with" [5261,5267]
                                    OBJECT [5268,5338]
                                        FIELD [5269,5287]
                                            String: "status" [5269,5277]
                                            STRING [5278,5287]
                                                String: "Failure" [5278,5287]
                                        FIELD [5288,5337]
                                            String: "webhook" [5288,5297]
                                            STRING [5298,5337]
                                                String: "${{ secrets.DISCORD_GITHUB_WEBHOOK }}" [5298,5337]