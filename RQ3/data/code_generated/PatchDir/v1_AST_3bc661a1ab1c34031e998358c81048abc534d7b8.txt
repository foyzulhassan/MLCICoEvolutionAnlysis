OBJECT [0,3344]
    FIELD [1,28]
        String: "name" [1,7]
        STRING [8,28]
            String: "Test package build" [8,28]
    FIELD [29,105]
        String: "on" [29,33]
        OBJECT [34,105]
            FIELD [35,65]
                String: "push" [35,41]
                OBJECT [42,65]
                    FIELD [43,64]
                        String: "branches" [43,53]
                        ARRAY [54,64]
                            STRING [55,63]
                                String: "master" [55,63]
            FIELD [66,104]
                String: "pull_request" [66,80]
                OBJECT [81,104]
                    FIELD [82,103]
                        String: "branches" [82,92]
                        ARRAY [93,103]
                            STRING [94,102]
                                String: "master" [94,102]
    FIELD [106,3343]
        String: "jobs" [106,112]
        OBJECT [113,3343]
            FIELD [114,3342]
                String: "build" [114,121]
                OBJECT [122,3342]
                    FIELD [123,148]
                        String: "runs-on" [123,132]
                        STRING [133,148]
                            String: "ubuntu-latest" [133,148]
                    FIELD [149,197]
                        String: "strategy" [149,159]
                        OBJECT [160,197]
                            FIELD [161,196]
                                String: "matrix" [161,169]
                                OBJECT [170,196]
                                    FIELD [171,195]
                                        String: "type" [171,177]
                                        ARRAY [178,195]
                                            STRING [179,185]
                                                String: "full" [179,185]
                                            STRING [186,194]
                                                String: "skinny" [186,194]
                    FIELD [198,3341]
                        String: "steps" [198,205]
                        ARRAY [206,3341]
                            OBJECT [207,237]
                                FIELD [208,236]
                                    String: "uses" [208,214]
                                    STRING [215,236]
                                        String: "actions/checkout@v2" [215,236]
                            OBJECT [238,299]
                                FIELD [239,269]
                                    String: "uses" [239,245]
                                    STRING [246,269]
                                        String: "actions/setup-node@v1" [246,269]
                                FIELD [270,298]
                                    String: "with" [270,276]
                                    OBJECT [277,298]
                                        FIELD [278,297]
                                            String: "node-version" [278,292]
                                            STRING [293,297]
                                                String: "12" [293,297]
                            OBJECT [300,366]
                                FIELD [301,333]
                                    String: "uses" [301,307]
                                    STRING [308,333]
                                        String: "actions/setup-python@v2" [308,333]
                                FIELD [334,365]
                                    String: "with" [334,340]
                                    OBJECT [341,365]
                                        FIELD [342,364]
                                            String: "python-version" [342,358]
                                            STRING [359,364]
                                                String: "3.7" [359,364]
                            OBJECT [367,517]
                                FIELD [368,425]
                                    String: "name" [368,374]
                                    STRING [375,425]
                                        String: "Set environment variable for skinny client build" [375,425]
                                FIELD [426,463]
                                    String: "if" [426,430]
                                    STRING [431,463]
                                        String: "${{ matrix.type == 'skinny' }}" [431,463]
                                FIELD [464,516]
                                    String: "run" [464,469]
                                    STRING [470,516]
                                        String: "echo \"MLFLOW_SKINNY=true\" >> $GITHUB_ENV\n" [470,516]
                            OBJECT [518,668]
                                FIELD [519,536]
                                    String: "name" [519,525]
                                    STRING [526,536]
                                        String: "Build UI" [526,536]
                                FIELD [537,572]
                                    String: "if" [537,541]
                                    STRING [542,572]
                                        String: "${{ matrix.type == 'full' }}" [542,572]
                                FIELD [573,611]
                                    String: "working-directory" [573,592]
                                    STRING [593,611]
                                        String: "mlflow/server/js" [593,611]
                                FIELD [612,630]
                                    String: "env" [612,617]
                                    OBJECT [618,630]
                                        FIELD [619,629]
                                            String: "CI" [619,623]
                                            FALSE [624,629]
                                FIELD [631,667]
                                    String: "run" [631,636]
                                    STRING [637,667]
                                        String: "npm install\nnpm run build\n" [637,667]
                            OBJECT [669,734]
                                FIELD [670,699]
                                    String: "name" [670,676]
                                    STRING [677,699]
                                        String: "Install dependencies" [677,699]
                                FIELD [700,733]
                                    String: "run" [700,705]
                                    STRING [706,733]
                                        String: "pip install wheel twine\n" [706,733]
                            OBJECT [735,1342]
                                FIELD [736,769]
                                    String: "name" [736,742]
                                    STRING [743,769]
                                        String: "Build distribution files" [743,769]
                                FIELD [770,787]
                                    String: "id" [770,774]
                                    STRING [775,787]
                                        String: "build-dist" [775,787]
                                FIELD [788,1341]
                                    String: "run" [788,793]
                                    STRING [794,1341]
                                        String: "# Build distribution files\npython setup.py sdist bdist_wheel\n\n# List distribution files and check their file sizes\nls -lh dist\n\n# Set step outputs\nsdist_path=$(find dist -type f -name \"*.tar.gz\")\nwheel_path=$(find dist -type f -name \"*.whl\")\nwheel_name=$(basename $wheel_path)\nwheel_size=$(stat -c %s $wheel_path)\necho \"::set-output name=sdist-path::${sdist_path}\"\necho \"::set-output name=wheel-path::${wheel_path}\"\necho \"::set-output name=wheel-name::${wheel_name}\"\necho \"::set-output name=wheel-size::${wheel_size}\"\n" [794,1341]
                            OBJECT [1343,1443]
                                FIELD [1344,1368]
                                    String: "name" [1344,1350]
                                    STRING [1351,1368]
                                        String: "Run twine check" [1351,1368]
                                FIELD [1369,1442]
                                    String: "run" [1369,1374]
                                    STRING [1375,1442]
                                        String: "twine check --strict ${{ steps.build-dist.outputs.wheel-path }}\n" [1375,1442]
                            OBJECT [1444,1606]
                                FIELD [1445,1484]
                                    String: "name" [1445,1451]
                                    STRING [1452,1484]
                                        String: "Test installation from tarball" [1452,1484]
                                FIELD [1485,1605]
                                    String: "run" [1485,1490]
                                    STRING [1491,1605]
                                        String: "pip install ${{ steps.build-dist.outputs.sdist-path }}\npython -c \"import mlflow; print(mlflow.__version__)\"\n" [1491,1605]
                            OBJECT [1607,1785]
                                FIELD [1608,1645]
                                    String: "name" [1608,1614]
                                    STRING [1615,1645]
                                        String: "Test installation from wheel" [1615,1645]
                                FIELD [1646,1784]
                                    String: "run" [1646,1651]
                                    STRING [1652,1784]
                                        String: "pip install --force-reinstall ${{ steps.build-dist.outputs.wheel-path }}\npython -c \"import mlflow; print(mlflow.__version__)\"\n" [1652,1784]
                            OBJECT [1786,1992]
                                FIELD [1787,1807]
                                    String: "name" [1787,1793]
                                    STRING [1794,1807]
                                        String: "Store wheel" [1794,1807]
                                FIELD [1808,1843]
                                    String: "uses" [1808,1814]
                                    STRING [1815,1843]
                                        String: "actions/upload-artifact@v2" [1815,1843]
                                FIELD [1844,1878]
                                    String: "if" [1844,1848]
                                    STRING [1849,1878]
                                        String: "github.event_name == 'push'" [1849,1878]
                                FIELD [1879,1991]
                                    String: "with" [1879,1885]
                                    OBJECT [1886,1991]
                                        FIELD [1887,1938]
                                            String: "name" [1887,1893]
                                            STRING [1894,1938]
                                                String: "${{ steps.build-dist.outputs.wheel-name }}" [1894,1938]
                                        FIELD [1939,1990]
                                            String: "path" [1939,1945]
                                            STRING [1946,1990]
                                                String: "${{ steps.build-dist.outputs.wheel-path }}" [1946,1990]
                            OBJECT [1993,3340]
                                FIELD [1994,2020]
                                    String: "name" [1994,2000]
                                    STRING [2001,2020]
                                        String: "Remove old wheels" [2001,2020]
                                FIELD [2021,2054]
                                    String: "uses" [2021,2027]
                                    STRING [2028,2054]
                                        String: "actions/github-script@v3" [2028,2054]
                                FIELD [2055,2089]
                                    String: "if" [2055,2059]
                                    STRING [2060,2089]
                                        String: "github.event_name == 'push'" [2060,2089]
                                FIELD [2090,2155]
                                    String: "env" [2090,2095]
                                    OBJECT [2096,2155]
                                        FIELD [2097,2154]
                                            String: "WHEEL_SIZE" [2097,2109]
                                            STRING [2110,2154]
                                                String: "${{ steps.build-dist.outputs.wheel-size }}" [2110,2154]
                                FIELD [2156,3339]
                                    String: "with" [2156,2162]
                                    OBJECT [2163,3339]
                                        FIELD [2164,2208]
                                            String: "github-token" [2164,2178]
                                            STRING [2179,2208]
                                                String: "${{ secrets.GITHUB_TOKEN }}" [2179,2208]
                                        FIELD [2209,3338]
                                            String: "script" [2209,2217]
                                            STRING [2218,3338]
                                                String: "const { owner, repo } = context.repo;\n\n// For some reason, the newly-uploaded wheel in the previous step is not included.\nconst artifactsResp = await github.actions.listArtifactsForRepo({\n  owner,\n  repo,\n});\nconst wheels = artifactsResp.data.artifacts.filter(({ name }) => name.endsWith(\".whl\"));\n\n// The storage usage limit for a free github account is up to 500 MB. See the page below for details:\n// https://docs.github.com/en/github/setting-up-and-managing-billing-and-payments-on-github/about-billing-for-github-actions\nMAX_SIZE_IN_BYTES = 300_000_000; // 300 MB\n\nlet index = 0;\nlet sum = parseInt(process.env.WHEEL_SIZE);  // include the newly-uploaded wheel\nfor (const [idx, { size_in_bytes }] of wheels.entries()) {\n  index = idx;\n  sum += size_in_bytes;\n  if (sum > MAX_SIZE_IN_BYTES) {\n    break;\n  }\n}\n\nif (sum <= MAX_SIZE_IN_BYTES) {\n  return;\n}\n\n// Delete old wheels\nconst promises = wheels.slice(index).map(({ id: artifact_id }) =>\n  github.actions.deleteArtifact({\n    owner,\n    repo,\n    artifact_id,\n  })\n);\nPromise.all(promises).then(data => console.log(data));" [2218,3338]