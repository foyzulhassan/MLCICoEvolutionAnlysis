OBJECT [0,17033]
    FIELD [1,26]
        String: "name" [1,7]
        STRING [8,26]
            String: "PR Tests - Stack" [8,26]
    FIELD [27,205]
        String: "on" [27,31]
        OBJECT [32,205]
            FIELD [33,53]
                String: "workflow_call" [33,48]
                NULL [49,53]
            FIELD [54,102]
                String: "pull_request" [54,68]
                OBJECT [69,102]
                    FIELD [70,101]
                        String: "branches" [70,80]
                        ARRAY [81,101]
                            STRING [82,87]
                                String: "dev" [82,87]
                            STRING [88,94]
                                String: "main" [88,94]
                            STRING [95,100]
                                String: "0.8" [95,100]
            FIELD [103,204]
                String: "workflow_dispatch" [103,122]
                OBJECT [123,204]
                    FIELD [124,203]
                        String: "inputs" [124,132]
                        OBJECT [133,203]
                            FIELD [134,202]
                                String: "none" [134,140]
                                OBJECT [141,202]
                                    FIELD [142,184]
                                        String: "description" [142,155]
                                        STRING [156,184]
                                            String: "Run Version Tests Manually" [156,184]
                                    FIELD [185,201]
                                        String: "required" [185,195]
                                        FALSE [196,201]
    FIELD [206,401]
        String: "concurrency" [206,219]
        OBJECT [220,401]
            FIELD [221,374]
                String: "group" [221,228]
                STRING [229,374]
                    String: "stack-${{ github.event_name == 'pull_request' && format('{0}-{1}', github.workflow, github.event.pull_request.number) || github.workflow_ref }}" [229,374]
            FIELD [375,400]
                String: "cancel-in-progress" [375,395]
                TRUE [396,400]
    FIELD [402,17032]
        String: "jobs" [402,408]
        OBJECT [409,17032]
            FIELD [410,1325]
                String: "pr-syft-image-test" [410,430]
                OBJECT [431,1325]
                    FIELD [432,540]
                        String: "strategy" [432,442]
                        OBJECT [443,540]
                            FIELD [444,461]
                                String: "max-parallel" [444,458]
                                NUMBER [459,461]
                                    Number: 99 [459,461]
                            FIELD [462,521]
                                String: "matrix" [462,470]
                                OBJECT [471,521]
                                    FIELD [472,494]
                                        String: "os" [472,476]
                                        ARRAY [477,494]
                                            STRING [478,493]
                                                String: "ubuntu-latest" [478,493]
                                    FIELD [495,520]
                                        String: "python-version" [495,511]
                                        ARRAY [512,520]
                                            STRING [513,519]
                                                String: "3.12" [513,519]
                            FIELD [522,539]
                                String: "fail-fast" [522,533]
                                FALSE [534,539]
                    FIELD [541,567]
                        String: "runs-on" [541,550]
                        STRING [551,567]
                            String: "${{matrix.os}}" [551,567]
                    FIELD [568,1324]
                        String: "steps" [568,575]
                        ARRAY [576,1324]
                            OBJECT [577,607]
                                FIELD [578,606]
                                    String: "uses" [578,584]
                                    STRING [585,606]
                                        String: "actions/checkout@v4" [585,606]
                            OBJECT [608,790]
                                FIELD [609,640]
                                    String: "name" [609,615]
                                    STRING [616,640]
                                        String: "Check for file changes" [616,640]
                                FIELD [641,671]
                                    String: "uses" [641,647]
                                    STRING [648,671]
                                        String: "dorny/paths-filter@v3" [648,671]
                                FIELD [672,686]
                                    String: "id" [672,676]
                                    STRING [677,686]
                                        String: "changes" [677,686]
                                FIELD [687,789]
                                    String: "with" [687,693]
                                    OBJECT [694,789]
                                        FIELD [695,721]
                                            String: "base" [695,701]
                                            STRING [702,721]
                                                String: "${{ github.ref }}" [702,721]
                                        FIELD [722,751]
                                            String: "token" [722,729]
                                            STRING [730,751]
                                                String: "${{ github.token }}" [730,751]
                                        FIELD [752,788]
                                            String: "filters" [752,761]
                                            STRING [762,788]
                                                String: ".github/file-filters.yml" [762,788]
                            OBJECT [791,979]
                                FIELD [792,843]
                                    String: "name" [792,798]
                                    STRING [799,843]
                                        String: "Set up Python ${{ matrix.python-version }}" [799,843]
                                FIELD [844,876]
                                    String: "uses" [844,850]
                                    STRING [851,876]
                                        String: "actions/setup-python@v5" [851,876]
                                FIELD [877,921]
                                    String: "if" [877,881]
                                    STRING [882,921]
                                        String: "steps.changes.outputs.stack == 'true'" [882,921]
                                FIELD [922,978]
                                    String: "with" [922,928]
                                    OBJECT [929,978]
                                        FIELD [930,977]
                                            String: "python-version" [930,946]
                                            STRING [947,977]
                                                String: "${{ matrix.python-version }}" [947,977]
                            OBJECT [980,1166]
                                FIELD [981,1010]
                                    String: "name" [981,987]
                                    STRING [988,1010]
                                        String: "Install pip packages" [988,1010]
                                FIELD [1011,1055]
                                    String: "if" [1011,1015]
                                    STRING [1016,1055]
                                        String: "steps.changes.outputs.stack == 'true'" [1016,1055]
                                FIELD [1056,1165]
                                    String: "run" [1056,1061]
                                    STRING [1062,1165]
                                        String: "python -m pip install --upgrade pip\npip install uv==0.4.1 tox==4.18.0 tox-uv==1.11.2\nuv --version\n" [1062,1165]
                            OBJECT [1167,1323]
                                FIELD [1168,1218]
                                    String: "name" [1168,1174]
                                    STRING [1175,1218]
                                        String: "Run syft backend base image building test" [1175,1218]
                                FIELD [1219,1263]
                                    String: "if" [1219,1223]
                                    STRING [1224,1263]
                                        String: "steps.changes.outputs.stack == 'true'" [1224,1263]
                                FIELD [1264,1284]
                                    String: "timeout-minutes" [1264,1281]
                                    NUMBER [1282,1284]
                                        Number: 60 [1282,1284]
                                FIELD [1285,1322]
                                    String: "run" [1285,1290]
                                    STRING [1291,1322]
                                        String: "tox -e backend.test.basecpu\n" [1291,1322]
            FIELD [1326,2804]
                String: "pr-tests-syft-integration" [1326,1353]
                OBJECT [1354,2804]
                    FIELD [1355,1497]
                        String: "strategy" [1355,1365]
                        OBJECT [1366,1497]
                            FIELD [1367,1384]
                                String: "max-parallel" [1367,1381]
                                NUMBER [1382,1384]
                                    Number: 99 [1382,1384]
                            FIELD [1385,1478]
                                String: "matrix" [1385,1393]
                                OBJECT [1394,1478]
                                    FIELD [1395,1417]
                                        String: "os" [1395,1399]
                                        ARRAY [1400,1417]
                                            STRING [1401,1416]
                                                String: "ubuntu-latest" [1401,1416]
                                    FIELD [1418,1443]
                                        String: "python-version" [1418,1434]
                                        ARRAY [1435,1443]
                                            STRING [1436,1442]
                                                String: "3.12" [1436,1442]
                                    FIELD [1444,1477]
                                        String: "pytest-modules" [1444,1460]
                                        ARRAY [1461,1477]
                                            STRING [1462,1476]
                                                String: "local_server" [1462,1476]
                            FIELD [1479,1496]
                                String: "fail-fast" [1479,1490]
                                FALSE [1491,1496]
                    FIELD [1498,1524]
                        String: "runs-on" [1498,1507]
                        STRING [1508,1524]
                            String: "${{matrix.os}}" [1508,1524]
                    FIELD [1525,2803]
                        String: "steps" [1525,1532]
                        ARRAY [1533,2803]
                            OBJECT [1534,1564]
                                FIELD [1535,1563]
                                    String: "uses" [1535,1541]
                                    STRING [1542,1563]
                                        String: "actions/checkout@v4" [1542,1563]
                            OBJECT [1565,1747]
                                FIELD [1566,1597]
                                    String: "name" [1566,1572]
                                    STRING [1573,1597]
                                        String: "Check for file changes" [1573,1597]
                                FIELD [1598,1628]
                                    String: "uses" [1598,1604]
                                    STRING [1605,1628]
                                        String: "dorny/paths-filter@v3" [1605,1628]
                                FIELD [1629,1643]
                                    String: "id" [1629,1633]
                                    STRING [1634,1643]
                                        String: "changes" [1634,1643]
                                FIELD [1644,1746]
                                    String: "with" [1644,1650]
                                    OBJECT [1651,1746]
                                        FIELD [1652,1678]
                                            String: "base" [1652,1658]
                                            STRING [1659,1678]
                                                String: "${{ github.ref }}" [1659,1678]
                                        FIELD [1679,1708]
                                            String: "token" [1679,1686]
                                            STRING [1687,1708]
                                                String: "${{ github.token }}" [1687,1708]
                                        FIELD [1709,1745]
                                            String: "filters" [1709,1718]
                                            STRING [1719,1745]
                                                String: ".github/file-filters.yml" [1719,1745]
                            OBJECT [1748,1936]
                                FIELD [1749,1800]
                                    String: "name" [1749,1755]
                                    STRING [1756,1800]
                                        String: "Set up Python ${{ matrix.python-version }}" [1756,1800]
                                FIELD [1801,1833]
                                    String: "uses" [1801,1807]
                                    STRING [1808,1833]
                                        String: "actions/setup-python@v5" [1808,1833]
                                FIELD [1834,1878]
                                    String: "if" [1834,1838]
                                    STRING [1839,1878]
                                        String: "steps.changes.outputs.stack == 'true'" [1839,1878]
                                FIELD [1879,1935]
                                    String: "with" [1879,1885]
                                    OBJECT [1886,1935]
                                        FIELD [1887,1934]
                                            String: "python-version" [1887,1903]
                                            STRING [1904,1934]
                                                String: "${{ matrix.python-version }}" [1904,1934]
                            OBJECT [1937,2127]
                                FIELD [1938,1971]
                                    String: "name" [1938,1944]
                                    STRING [1945,1971]
                                        String: "Install pip dependencies" [1945,1971]
                                FIELD [1972,2016]
                                    String: "if" [1972,1976]
                                    STRING [1977,2016]
                                        String: "steps.changes.outputs.stack == 'true'" [1977,2016]
                                FIELD [2017,2126]
                                    String: "run" [2017,2022]
                                    STRING [2023,2126]
                                        String: "python -m pip install --upgrade pip\npip install uv==0.4.1 tox==4.18.0 tox-uv==1.11.2\nuv --version\n" [2023,2126]
                            OBJECT [2128,2289]
                                FIELD [2129,2154]
                                    String: "name" [2129,2135]
                                    STRING [2136,2154]
                                        String: "Get uv cache dir" [2136,2154]
                                FIELD [2155,2199]
                                    String: "if" [2155,2159]
                                    STRING [2160,2199]
                                        String: "steps.changes.outputs.stack == 'true'" [2160,2199]
                                FIELD [2200,2216]
                                    String: "id" [2200,2204]
                                    STRING [2205,2216]
                                        String: "pip-cache" [2205,2216]
                                FIELD [2217,2231]
                                    String: "shell" [2217,2224]
                                    STRING [2225,2231]
                                        String: "bash" [2225,2231]
                                FIELD [2232,2288]
                                    String: "run" [2232,2237]
                                    STRING [2238,2288]
                                        String: "echo \"dir=$(uv cache dir)\" >> $GITHUB_OUTPUT\n" [2238,2288]
                            OBJECT [2290,2571]
                                FIELD [2291,2317]
                                    String: "name" [2291,2297]
                                    STRING [2298,2317]
                                        String: "Load github cache" [2298,2317]
                                FIELD [2318,2343]
                                    String: "uses" [2318,2324]
                                    STRING [2325,2343]
                                        String: "actions/cache@v4" [2325,2343]
                                FIELD [2344,2388]
                                    String: "if" [2344,2348]
                                    STRING [2349,2388]
                                        String: "steps.changes.outputs.stack == 'true'" [2349,2388]
                                FIELD [2389,2570]
                                    String: "with" [2389,2395]
                                    OBJECT [2396,2570]
                                        FIELD [2397,2440]
                                            String: "path" [2397,2403]
                                            STRING [2404,2440]
                                                String: "${{ steps.pip-cache.outputs.dir }}" [2404,2440]
                                        FIELD [2441,2499]
                                            String: "key" [2441,2446]
                                            STRING [2447,2499]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}" [2447,2499]
                                        FIELD [2500,2569]
                                            String: "restore-keys" [2500,2514]
                                            STRING [2515,2569]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}\n" [2515,2569]
                            OBJECT [2572,2802]
                                FIELD [2573,2608]
                                    String: "name" [2573,2579]
                                    STRING [2580,2608]
                                        String: "Run Syft Integration Tests" [2580,2608]
                                FIELD [2609,2653]
                                    String: "if" [2609,2613]
                                    STRING [2614,2653]
                                        String: "steps.changes.outputs.stack == 'true'" [2614,2653]
                                FIELD [2654,2674]
                                    String: "timeout-minutes" [2654,2671]
                                    NUMBER [2672,2674]
                                        Number: 60 [2672,2674]
                                FIELD [2675,2747]
                                    String: "env" [2675,2680]
                                    OBJECT [2681,2747]
                                        FIELD [2682,2729]
                                            String: "PYTEST_MODULES" [2682,2698]
                                            STRING [2699,2729]
                                                String: "${{ matrix.pytest-modules }}" [2699,2729]
                                        FIELD [2730,2746]
                                            String: "GITHUB_CI" [2730,2741]
                                            TRUE [2742,2746]
                                FIELD [2748,2762]
                                    String: "shell" [2748,2755]
                                    STRING [2756,2762]
                                        String: "bash" [2756,2762]
                                FIELD [2763,2801]
                                    String: "run" [2763,2768]
                                    STRING [2769,2801]
                                        String: "tox -e syft.test.integration\n" [2769,2801]
            FIELD [2805,7334]
                String: "pr-tests-integration-k8s" [2805,2831]
                OBJECT [2832,7334]
                    FIELD [2833,2998]
                        String: "strategy" [2833,2843]
                        OBJECT [2844,2998]
                            FIELD [2845,2862]
                                String: "max-parallel" [2845,2859]
                                NUMBER [2860,2862]
                                    Number: 99 [2860,2862]
                            FIELD [2863,2979]
                                String: "matrix" [2863,2871]
                                OBJECT [2872,2979]
                                    FIELD [2873,2895]
                                        String: "os" [2873,2877]
                                        ARRAY [2878,2895]
                                            STRING [2879,2894]
                                                String: "ubuntu-latest" [2879,2894]
                                    FIELD [2896,2921]
                                        String: "python-version" [2896,2912]
                                        ARRAY [2913,2921]
                                            STRING [2914,2920]
                                                String: "3.12" [2914,2920]
                                    FIELD [2922,2978]
                                        String: "pytest-modules" [2922,2938]
                                        ARRAY [2939,2978]
                                            STRING [2940,2977]
                                                String: "frontend network container_workload" [2940,2977]
                            FIELD [2980,2997]
                                String: "fail-fast" [2980,2991]
                                FALSE [2992,2997]
                    FIELD [2999,3025]
                        String: "runs-on" [2999,3008]
                        STRING [3009,3025]
                            String: "${{matrix.os}}" [3009,3025]
                    FIELD [3026,7333]
                        String: "steps" [3026,3033]
                        ARRAY [3034,7333]
                            OBJECT [3035,3116]
                                FIELD [3036,3073]
                                    String: "name" [3036,3042]
                                    STRING [3043,3073]
                                        String: "Permission to home directory" [3043,3073]
                                FIELD [3074,3115]
                                    String: "run" [3074,3079]
                                    STRING [3080,3115]
                                        String: "sudo chown -R $USER:$USER $HOME\n" [3080,3115]
                            OBJECT [3117,3147]
                                FIELD [3118,3146]
                                    String: "uses" [3118,3124]
                                    STRING [3125,3146]
                                        String: "actions/checkout@v4" [3125,3146]
                            OBJECT [3148,3330]
                                FIELD [3149,3180]
                                    String: "name" [3149,3155]
                                    STRING [3156,3180]
                                        String: "Check for file changes" [3156,3180]
                                FIELD [3181,3211]
                                    String: "uses" [3181,3187]
                                    STRING [3188,3211]
                                        String: "dorny/paths-filter@v3" [3188,3211]
                                FIELD [3212,3226]
                                    String: "id" [3212,3216]
                                    STRING [3217,3226]
                                        String: "changes" [3217,3226]
                                FIELD [3227,3329]
                                    String: "with" [3227,3233]
                                    OBJECT [3234,3329]
                                        FIELD [3235,3261]
                                            String: "base" [3235,3241]
                                            STRING [3242,3261]
                                                String: "${{ github.ref }}" [3242,3261]
                                        FIELD [3262,3291]
                                            String: "token" [3262,3269]
                                            STRING [3270,3291]
                                                String: "${{ github.token }}" [3270,3291]
                                        FIELD [3292,3328]
                                            String: "filters" [3292,3301]
                                            STRING [3302,3328]
                                                String: ".github/file-filters.yml" [3302,3328]
                            OBJECT [3331,3519]
                                FIELD [3332,3383]
                                    String: "name" [3332,3338]
                                    STRING [3339,3383]
                                        String: "Set up Python ${{ matrix.python-version }}" [3339,3383]
                                FIELD [3384,3416]
                                    String: "uses" [3384,3390]
                                    STRING [3391,3416]
                                        String: "actions/setup-python@v5" [3391,3416]
                                FIELD [3417,3461]
                                    String: "if" [3417,3421]
                                    STRING [3422,3461]
                                        String: "steps.changes.outputs.stack == 'true'" [3422,3461]
                                FIELD [3462,3518]
                                    String: "with" [3462,3468]
                                    OBJECT [3469,3518]
                                        FIELD [3470,3517]
                                            String: "python-version" [3470,3486]
                                            STRING [3487,3517]
                                                String: "${{ matrix.python-version }}" [3487,3517]
                            OBJECT [3520,3613]
                                FIELD [3521,3546]
                                    String: "name" [3521,3527]
                                    STRING [3528,3546]
                                        String: "Add K3d Registry" [3528,3546]
                                FIELD [3547,3612]
                                    String: "run" [3547,3552]
                                    STRING [3553,3612]
                                        String: "sudo python ./scripts/patch_hosts.py --add-k3d-registry\n" [3553,3612]
                            OBJECT [3614,3739]
                                FIELD [3615,3648]
                                    String: "name" [3615,3621]
                                    STRING [3622,3648]
                                        String: "Free Disk Space (Ubuntu)" [3622,3648]
                                FIELD [3649,3688]
                                    String: "uses" [3649,3655]
                                    STRING [3656,3688]
                                        String: "jlumbroso/free-disk-space@main" [3656,3688]
                                FIELD [3689,3738]
                                    String: "with" [3689,3695]
                                    OBJECT [3696,3738]
                                        FIELD [3697,3714]
                                            String: "tool-cache" [3697,3709]
                                            TRUE [3710,3714]
                                        FIELD [3715,3737]
                                            String: "large-packages" [3715,3731]
                                            FALSE [3732,3737]
                            OBJECT [3740,3995]
                                FIELD [3741,3774]
                                    String: "name" [3741,3747]
                                    STRING [3748,3774]
                                        String: "Remove unnecessary files" [3748,3774]
                                FIELD [3775,3810]
                                    String: "if" [3775,3779]
                                    STRING [3780,3810]
                                        String: "matrix.os == 'ubuntu-latest'" [3780,3810]
                                FIELD [3811,3994]
                                    String: "run" [3811,3816]
                                    STRING [3817,3994]
                                        String: "sudo rm -rf /usr/share/dotnet\nsudo rm -rf \"$AGENT_TOOLSDIRECTORY\"\ndocker image prune --all --force\ndocker builder prune --all --force\ndocker system prune --all --force\n" [3817,3994]
                            OBJECT [3996,4186]
                                FIELD [3997,4030]
                                    String: "name" [3997,4003]
                                    STRING [4004,4030]
                                        String: "Install pip dependencies" [4004,4030]
                                FIELD [4031,4075]
                                    String: "if" [4031,4035]
                                    STRING [4036,4075]
                                        String: "steps.changes.outputs.stack == 'true'" [4036,4075]
                                FIELD [4076,4185]
                                    String: "run" [4076,4081]
                                    STRING [4082,4185]
                                        String: "python -m pip install --upgrade pip\npip install uv==0.4.1 tox==4.18.0 tox-uv==1.11.2\nuv --version\n" [4082,4185]
                            OBJECT [4187,4348]
                                FIELD [4188,4213]
                                    String: "name" [4188,4194]
                                    STRING [4195,4213]
                                        String: "Get uv cache dir" [4195,4213]
                                FIELD [4214,4258]
                                    String: "if" [4214,4218]
                                    STRING [4219,4258]
                                        String: "steps.changes.outputs.stack == 'true'" [4219,4258]
                                FIELD [4259,4275]
                                    String: "id" [4259,4263]
                                    STRING [4264,4275]
                                        String: "pip-cache" [4264,4275]
                                FIELD [4276,4290]
                                    String: "shell" [4276,4283]
                                    STRING [4284,4290]
                                        String: "bash" [4284,4290]
                                FIELD [4291,4347]
                                    String: "run" [4291,4296]
                                    STRING [4297,4347]
                                        String: "echo \"dir=$(uv cache dir)\" >> $GITHUB_OUTPUT\n" [4297,4347]
                            OBJECT [4349,4630]
                                FIELD [4350,4376]
                                    String: "name" [4350,4356]
                                    STRING [4357,4376]
                                        String: "Load github cache" [4357,4376]
                                FIELD [4377,4402]
                                    String: "uses" [4377,4383]
                                    STRING [4384,4402]
                                        String: "actions/cache@v4" [4384,4402]
                                FIELD [4403,4447]
                                    String: "if" [4403,4407]
                                    STRING [4408,4447]
                                        String: "steps.changes.outputs.stack == 'true'" [4408,4447]
                                FIELD [4448,4629]
                                    String: "with" [4448,4454]
                                    OBJECT [4455,4629]
                                        FIELD [4456,4499]
                                            String: "path" [4456,4462]
                                            STRING [4463,4499]
                                                String: "${{ steps.pip-cache.outputs.dir }}" [4463,4499]
                                        FIELD [4500,4558]
                                            String: "key" [4500,4505]
                                            STRING [4506,4558]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}" [4506,4558]
                                        FIELD [4559,4628]
                                            String: "restore-keys" [4559,4573]
                                            STRING [4574,4628]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}\n" [4574,4628]
                            OBJECT [4631,4915]
                                FIELD [4632,4656]
                                    String: "name" [4632,4638]
                                    STRING [4639,4656]
                                        String: "Install kubectl" [4639,4656]
                                FIELD [4657,4701]
                                    String: "if" [4657,4661]
                                    STRING [4662,4701]
                                        String: "steps.changes.outputs.stack == 'true'" [4662,4701]
                                FIELD [4702,4914]
                                    String: "run" [4702,4707]
                                    STRING [4708,4914]
                                        String: "# cleanup apt version\nsudo apt remove kubectl || true\n# install kubectl 1.27\ncurl -LO https://dl.k8s.io/release/v1.27.2/bin/linux/amd64/kubectl\nchmod +x kubectl\nsudo install kubectl /usr/local/bin;\n" [4708,4914]
                            OBJECT [4916,5143]
                                FIELD [4917,4938]
                                    String: "name" [4917,4923]
                                    STRING [4924,4938]
                                        String: "Install helm" [4924,4938]
                                FIELD [4939,4983]
                                    String: "if" [4939,4943]
                                    STRING [4944,4983]
                                        String: "steps.changes.outputs.stack == 'true'" [4944,4983]
                                FIELD [4984,5142]
                                    String: "run" [4984,4989]
                                    STRING [4990,5142]
                                        String: "# install helm\ncurl  -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3\nchmod 700 get_helm.sh\n./get_helm.sh\n" [4990,5142]
                            OBJECT [5144,5906]
                                FIELD [5145,5186]
                                    String: "name" [5145,5151]
                                    STRING [5152,5186]
                                        String: "Run K8s & Helm integration tests" [5152,5186]
                                FIELD [5187,5231]
                                    String: "if" [5187,5191]
                                    STRING [5192,5231]
                                        String: "steps.changes.outputs.stack == 'true'" [5192,5231]
                                FIELD [5232,5252]
                                    String: "timeout-minutes" [5232,5249]
                                    NUMBER [5250,5252]
                                        Number: 60 [5250,5252]
                                FIELD [5253,5390]
                                    String: "env" [5253,5258]
                                    OBJECT [5259,5390]
                                        FIELD [5260,5307]
                                            String: "PYTEST_MODULES" [5260,5276]
                                            STRING [5277,5307]
                                                String: "${{ matrix.pytest-modules }}" [5277,5307]
                                        FIELD [5308,5324]
                                            String: "GITHUB_CI" [5308,5319]
                                            TRUE [5320,5324]
                                        FIELD [5325,5389]
                                            String: "AZURE_BLOB_STORAGE_KEY" [5325,5349]
                                            STRING [5350,5389]
                                                String: "${{ secrets.AZURE_BLOB_STORAGE_KEY }}" [5350,5389]
                                FIELD [5391,5405]
                                    String: "shell" [5391,5398]
                                    STRING [5399,5405]
                                        String: "bash" [5399,5405]
                                FIELD [5406,5905]
                                    String: "run" [5406,5411]
                                    STRING [5412,5905]
                                        String: "K3D_VERSION=v5.6.3\nDEVSPACE_VERSION=v6.3.12\n# install k3d\nwget https://github.com/k3d-io/k3d/releases/download/${K3D_VERSION}/k3d-linux-amd64\nmv k3d-linux-amd64 k3d\nchmod +x k3d\nexport PATH=`pwd`:$PATH\nk3d version\ncurl -sSL https://github.com/loft-sh/devspace/releases/download/${DEVSPACE_VERSION}/devspace-linux-amd64 -o ./devspace\nchmod +x devspace\ndevspace version\n\ntox -e stack.test.integration.k8s\ntox -e syft.build.helm\ntox -e syft.package.helm\n# tox -e syft.test.helm\n" [5412,5905]
                            OBJECT [5907,6035]
                                FIELD [5908,5938]
                                    String: "name" [5908,5914]
                                    STRING [5915,5938]
                                        String: "Get current timestamp" [5915,5938]
                                FIELD [5939,5950]
                                    String: "id" [5939,5943]
                                    STRING [5944,5950]
                                        String: "date" [5944,5950]
                                FIELD [5951,5967]
                                    String: "if" [5951,5955]
                                    STRING [5956,5967]
                                        String: "failure()" [5956,5967]
                                FIELD [5968,5982]
                                    String: "shell" [5968,5975]
                                    STRING [5976,5982]
                                        String: "bash" [5976,5982]
                                FIELD [5983,6034]
                                    String: "run" [5983,5988]
                                    STRING [5989,6034]
                                        String: "echo \"date=$(date +%s)\" >> $GITHUB_OUTPUT" [5989,6034]
                            OBJECT [6036,6824]
                                FIELD [6037,6067]
                                    String: "name" [6037,6043]
                                    STRING [6044,6067]
                                        String: "Collect logs from k3d" [6044,6067]
                                FIELD [6068,6125]
                                    String: "if" [6068,6072]
                                    STRING [6073,6125]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [6073,6125]
                                FIELD [6126,6140]
                                    String: "shell" [6126,6133]
                                    STRING [6134,6140]
                                        String: "bash" [6134,6140]
                                FIELD [6141,6823]
                                    String: "run" [6141,6146]
                                    STRING [6147,6823]
                                        String: "mkdir -p ./k8s-logs\nkubectl describe all -A --context k3d-test-gateway-1 --namespace syft > ./k8s-logs/test-gateway-1-desc-${{ steps.date.outputs.date }}.txt\nkubectl describe all -A --context k3d-test-datasite-1 --namespace syft > ./k8s-logs/test-datasite-1-desc-${{ steps.date.outputs.date }}.txt\nkubectl logs -l app.kubernetes.io/name!=random --prefix=true --context k3d-test-gateway-1 --namespace syft > ./k8s-logs/test-gateway-1-logs-${{ steps.date.outputs.date }}.txt\nkubectl logs -l app.kubernetes.io/name!=random --prefix=true --context k3d-test-datasite-1 --namespace syft > ./k8s-logs/test-datasite-1-logs-${{ steps.date.outputs.date }}.txt\nls -la ./k8s-logs\n" [6147,6823]
                            OBJECT [6825,7063]
                                FIELD [6826,6856]
                                    String: "name" [6826,6832]
                                    STRING [6833,6856]
                                        String: "Upload logs to GitHub" [6833,6856]
                                FIELD [6857,6896]
                                    String: "uses" [6857,6863]
                                    STRING [6864,6896]
                                        String: "actions/upload-artifact@master" [6864,6896]
                                FIELD [6897,6954]
                                    String: "if" [6897,6901]
                                    STRING [6902,6954]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [6902,6954]
                                FIELD [6955,7062]
                                    String: "with" [6955,6961]
                                    OBJECT [6962,7062]
                                        FIELD [6963,7040]
                                            String: "name" [6963,6969]
                                            STRING [6970,7040]
                                                String: "k8s-logs-integration-${{ matrix.os }}-${{ steps.date.outputs.date }}" [6970,7040]
                                        FIELD [7041,7061]
                                            String: "path" [7041,7047]
                                            STRING [7048,7061]
                                                String: "./k8s-logs/" [7048,7061]
                            OBJECT [7064,7332]
                                FIELD [7065,7085]
                                    String: "name" [7065,7071]
                                    STRING [7072,7085]
                                        String: "Cleanup k3d" [7072,7085]
                                FIELD [7086,7143]
                                    String: "if" [7086,7090]
                                    STRING [7091,7143]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [7091,7143]
                                FIELD [7144,7158]
                                    String: "shell" [7144,7151]
                                    STRING [7152,7158]
                                        String: "bash" [7152,7158]
                                FIELD [7159,7331]
                                    String: "run" [7159,7164]
                                    STRING [7165,7331]
                                        String: "export PATH=`pwd`:$PATH\nk3d cluster delete test-gateway-1 || true\nk3d cluster delete test-datasite-1 || true\nk3d registry delete k3d-registry.localhost || true\n" [7165,7331]
            FIELD [7335,11616]
                String: "pr-tests-notebook-k8s" [7335,7358]
                OBJECT [7359,11616]
                    FIELD [7360,7468]
                        String: "strategy" [7360,7370]
                        OBJECT [7371,7468]
                            FIELD [7372,7389]
                                String: "max-parallel" [7372,7386]
                                NUMBER [7387,7389]
                                    Number: 99 [7387,7389]
                            FIELD [7390,7449]
                                String: "matrix" [7390,7398]
                                OBJECT [7399,7449]
                                    FIELD [7400,7422]
                                        String: "os" [7400,7404]
                                        ARRAY [7405,7422]
                                            STRING [7406,7421]
                                                String: "ubuntu-latest" [7406,7421]
                                    FIELD [7423,7448]
                                        String: "python-version" [7423,7439]
                                        ARRAY [7440,7448]
                                            STRING [7441,7447]
                                                String: "3.12" [7441,7447]
                            FIELD [7450,7467]
                                String: "fail-fast" [7450,7461]
                                FALSE [7462,7467]
                    FIELD [7469,7495]
                        String: "runs-on" [7469,7478]
                        STRING [7479,7495]
                            String: "${{matrix.os}}" [7479,7495]
                    FIELD [7496,11615]
                        String: "steps" [7496,7503]
                        ARRAY [7504,11615]
                            OBJECT [7505,7586]
                                FIELD [7506,7543]
                                    String: "name" [7506,7512]
                                    STRING [7513,7543]
                                        String: "Permission to home directory" [7513,7543]
                                FIELD [7544,7585]
                                    String: "run" [7544,7549]
                                    STRING [7550,7585]
                                        String: "sudo chown -R $USER:$USER $HOME\n" [7550,7585]
                            OBJECT [7587,7617]
                                FIELD [7588,7616]
                                    String: "uses" [7588,7594]
                                    STRING [7595,7616]
                                        String: "actions/checkout@v4" [7595,7616]
                            OBJECT [7618,7800]
                                FIELD [7619,7650]
                                    String: "name" [7619,7625]
                                    STRING [7626,7650]
                                        String: "Check for file changes" [7626,7650]
                                FIELD [7651,7681]
                                    String: "uses" [7651,7657]
                                    STRING [7658,7681]
                                        String: "dorny/paths-filter@v3" [7658,7681]
                                FIELD [7682,7696]
                                    String: "id" [7682,7686]
                                    STRING [7687,7696]
                                        String: "changes" [7687,7696]
                                FIELD [7697,7799]
                                    String: "with" [7697,7703]
                                    OBJECT [7704,7799]
                                        FIELD [7705,7731]
                                            String: "base" [7705,7711]
                                            STRING [7712,7731]
                                                String: "${{ github.ref }}" [7712,7731]
                                        FIELD [7732,7761]
                                            String: "token" [7732,7739]
                                            STRING [7740,7761]
                                                String: "${{ github.token }}" [7740,7761]
                                        FIELD [7762,7798]
                                            String: "filters" [7762,7771]
                                            STRING [7772,7798]
                                                String: ".github/file-filters.yml" [7772,7798]
                            OBJECT [7801,7989]
                                FIELD [7802,7853]
                                    String: "name" [7802,7808]
                                    STRING [7809,7853]
                                        String: "Set up Python ${{ matrix.python-version }}" [7809,7853]
                                FIELD [7854,7886]
                                    String: "uses" [7854,7860]
                                    STRING [7861,7886]
                                        String: "actions/setup-python@v5" [7861,7886]
                                FIELD [7887,7931]
                                    String: "if" [7887,7891]
                                    STRING [7892,7931]
                                        String: "steps.changes.outputs.stack == 'true'" [7892,7931]
                                FIELD [7932,7988]
                                    String: "with" [7932,7938]
                                    OBJECT [7939,7988]
                                        FIELD [7940,7987]
                                            String: "python-version" [7940,7956]
                                            STRING [7957,7987]
                                                String: "${{ matrix.python-version }}" [7957,7987]
                            OBJECT [7990,8083]
                                FIELD [7991,8016]
                                    String: "name" [7991,7997]
                                    STRING [7998,8016]
                                        String: "Add K3d Registry" [7998,8016]
                                FIELD [8017,8082]
                                    String: "run" [8017,8022]
                                    STRING [8023,8082]
                                        String: "sudo python ./scripts/patch_hosts.py --add-k3d-registry\n" [8023,8082]
                            OBJECT [8084,8209]
                                FIELD [8085,8118]
                                    String: "name" [8085,8091]
                                    STRING [8092,8118]
                                        String: "Free Disk Space (Ubuntu)" [8092,8118]
                                FIELD [8119,8158]
                                    String: "uses" [8119,8125]
                                    STRING [8126,8158]
                                        String: "jlumbroso/free-disk-space@main" [8126,8158]
                                FIELD [8159,8208]
                                    String: "with" [8159,8165]
                                    OBJECT [8166,8208]
                                        FIELD [8167,8184]
                                            String: "tool-cache" [8167,8179]
                                            TRUE [8180,8184]
                                        FIELD [8185,8207]
                                            String: "large-packages" [8185,8201]
                                            FALSE [8202,8207]
                            OBJECT [8210,8465]
                                FIELD [8211,8244]
                                    String: "name" [8211,8217]
                                    STRING [8218,8244]
                                        String: "Remove unnecessary files" [8218,8244]
                                FIELD [8245,8280]
                                    String: "if" [8245,8249]
                                    STRING [8250,8280]
                                        String: "matrix.os == 'ubuntu-latest'" [8250,8280]
                                FIELD [8281,8464]
                                    String: "run" [8281,8286]
                                    STRING [8287,8464]
                                        String: "sudo rm -rf /usr/share/dotnet\nsudo rm -rf \"$AGENT_TOOLSDIRECTORY\"\ndocker image prune --all --force\ndocker builder prune --all --force\ndocker system prune --all --force\n" [8287,8464]
                            OBJECT [8466,8656]
                                FIELD [8467,8500]
                                    String: "name" [8467,8473]
                                    STRING [8474,8500]
                                        String: "Install pip dependencies" [8474,8500]
                                FIELD [8501,8545]
                                    String: "if" [8501,8505]
                                    STRING [8506,8545]
                                        String: "steps.changes.outputs.stack == 'true'" [8506,8545]
                                FIELD [8546,8655]
                                    String: "run" [8546,8551]
                                    STRING [8552,8655]
                                        String: "python -m pip install --upgrade pip\npip install uv==0.4.1 tox==4.18.0 tox-uv==1.11.2\nuv --version\n" [8552,8655]
                            OBJECT [8657,8818]
                                FIELD [8658,8683]
                                    String: "name" [8658,8664]
                                    STRING [8665,8683]
                                        String: "Get uv cache dir" [8665,8683]
                                FIELD [8684,8728]
                                    String: "if" [8684,8688]
                                    STRING [8689,8728]
                                        String: "steps.changes.outputs.stack == 'true'" [8689,8728]
                                FIELD [8729,8745]
                                    String: "id" [8729,8733]
                                    STRING [8734,8745]
                                        String: "pip-cache" [8734,8745]
                                FIELD [8746,8760]
                                    String: "shell" [8746,8753]
                                    STRING [8754,8760]
                                        String: "bash" [8754,8760]
                                FIELD [8761,8817]
                                    String: "run" [8761,8766]
                                    STRING [8767,8817]
                                        String: "echo \"dir=$(uv cache dir)\" >> $GITHUB_OUTPUT\n" [8767,8817]
                            OBJECT [8819,9100]
                                FIELD [8820,8846]
                                    String: "name" [8820,8826]
                                    STRING [8827,8846]
                                        String: "Load github cache" [8827,8846]
                                FIELD [8847,8872]
                                    String: "uses" [8847,8853]
                                    STRING [8854,8872]
                                        String: "actions/cache@v4" [8854,8872]
                                FIELD [8873,8917]
                                    String: "if" [8873,8877]
                                    STRING [8878,8917]
                                        String: "steps.changes.outputs.stack == 'true'" [8878,8917]
                                FIELD [8918,9099]
                                    String: "with" [8918,8924]
                                    OBJECT [8925,9099]
                                        FIELD [8926,8969]
                                            String: "path" [8926,8932]
                                            STRING [8933,8969]
                                                String: "${{ steps.pip-cache.outputs.dir }}" [8933,8969]
                                        FIELD [8970,9028]
                                            String: "key" [8970,8975]
                                            STRING [8976,9028]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}" [8976,9028]
                                        FIELD [9029,9098]
                                            String: "restore-keys" [9029,9043]
                                            STRING [9044,9098]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}\n" [9044,9098]
                            OBJECT [9101,9385]
                                FIELD [9102,9126]
                                    String: "name" [9102,9108]
                                    STRING [9109,9126]
                                        String: "Install kubectl" [9109,9126]
                                FIELD [9127,9171]
                                    String: "if" [9127,9131]
                                    STRING [9132,9171]
                                        String: "steps.changes.outputs.stack == 'true'" [9132,9171]
                                FIELD [9172,9384]
                                    String: "run" [9172,9177]
                                    STRING [9178,9384]
                                        String: "# cleanup apt version\nsudo apt remove kubectl || true\n# install kubectl 1.27\ncurl -LO https://dl.k8s.io/release/v1.27.2/bin/linux/amd64/kubectl\nchmod +x kubectl\nsudo install kubectl /usr/local/bin;\n" [9178,9384]
                            OBJECT [9386,9613]
                                FIELD [9387,9408]
                                    String: "name" [9387,9393]
                                    STRING [9394,9408]
                                        String: "Install helm" [9394,9408]
                                FIELD [9409,9453]
                                    String: "if" [9409,9413]
                                    STRING [9414,9453]
                                        String: "steps.changes.outputs.stack == 'true'" [9414,9453]
                                FIELD [9454,9612]
                                    String: "run" [9454,9459]
                                    STRING [9460,9612]
                                        String: "# install helm\ncurl  -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3\nchmod 700 get_helm.sh\n./get_helm.sh\n" [9460,9612]
                            OBJECT [9614,10191]
                                FIELD [9615,9664]
                                    String: "name" [9615,9621]
                                    STRING [9622,9664]
                                        String: "Run Notebook and Scenario Notebook Tests" [9622,9664]
                                FIELD [9665,9709]
                                    String: "if" [9665,9669]
                                    STRING [9670,9709]
                                        String: "steps.changes.outputs.stack == 'true'" [9670,9709]
                                FIELD [9710,9730]
                                    String: "timeout-minutes" [9710,9727]
                                    NUMBER [9728,9730]
                                        Number: 60 [9728,9730]
                                FIELD [9731,9755]
                                    String: "env" [9731,9736]
                                    OBJECT [9737,9755]
                                        FIELD [9738,9754]
                                            String: "GITHUB_CI" [9738,9749]
                                            TRUE [9750,9754]
                                FIELD [9756,9770]
                                    String: "shell" [9756,9763]
                                    STRING [9764,9770]
                                        String: "bash" [9764,9770]
                                FIELD [9771,10190]
                                    String: "run" [9771,9776]
                                    STRING [9777,10190]
                                        String: "K3D_VERSION=v5.6.3\nDEVSPACE_VERSION=v6.3.12\n# install k3d\nwget https://github.com/k3d-io/k3d/releases/download/${K3D_VERSION}/k3d-linux-amd64\nmv k3d-linux-amd64 k3d\nchmod +x k3d\nexport PATH=`pwd`:$PATH\nk3d version\ncurl -sSL https://github.com/loft-sh/devspace/releases/download/${DEVSPACE_VERSION}/devspace-linux-amd64 -o ./devspace\nchmod +x devspace\ndevspace version\ntox -e stack.test.notebook.k8s\n" [9777,10190]
                            OBJECT [10192,10320]
                                FIELD [10193,10223]
                                    String: "name" [10193,10199]
                                    STRING [10200,10223]
                                        String: "Get current timestamp" [10200,10223]
                                FIELD [10224,10235]
                                    String: "id" [10224,10228]
                                    STRING [10229,10235]
                                        String: "date" [10229,10235]
                                FIELD [10236,10252]
                                    String: "if" [10236,10240]
                                    STRING [10241,10252]
                                        String: "failure()" [10241,10252]
                                FIELD [10253,10267]
                                    String: "shell" [10253,10260]
                                    STRING [10261,10267]
                                        String: "bash" [10261,10267]
                                FIELD [10268,10319]
                                    String: "run" [10268,10273]
                                    STRING [10274,10319]
                                        String: "echo \"date=$(date +%s)\" >> $GITHUB_OUTPUT" [10274,10319]
                            OBJECT [10321,11109]
                                FIELD [10322,10352]
                                    String: "name" [10322,10328]
                                    STRING [10329,10352]
                                        String: "Collect logs from k3d" [10329,10352]
                                FIELD [10353,10410]
                                    String: "if" [10353,10357]
                                    STRING [10358,10410]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [10358,10410]
                                FIELD [10411,10425]
                                    String: "shell" [10411,10418]
                                    STRING [10419,10425]
                                        String: "bash" [10419,10425]
                                FIELD [10426,11108]
                                    String: "run" [10426,10431]
                                    STRING [10432,11108]
                                        String: "mkdir -p ./k8s-logs\nkubectl describe all -A --context k3d-test-gateway-1 --namespace syft > ./k8s-logs/test-gateway-1-desc-${{ steps.date.outputs.date }}.txt\nkubectl describe all -A --context k3d-test-datasite-1 --namespace syft > ./k8s-logs/test-datasite-1-desc-${{ steps.date.outputs.date }}.txt\nkubectl logs -l app.kubernetes.io/name!=random --prefix=true --context k3d-test-gateway-1 --namespace syft > ./k8s-logs/test-gateway-1-logs-${{ steps.date.outputs.date }}.txt\nkubectl logs -l app.kubernetes.io/name!=random --prefix=true --context k3d-test-datasite-1 --namespace syft > ./k8s-logs/test-datasite-1-logs-${{ steps.date.outputs.date }}.txt\nls -la ./k8s-logs\n" [10432,11108]
                            OBJECT [11110,11345]
                                FIELD [11111,11141]
                                    String: "name" [11111,11117]
                                    STRING [11118,11141]
                                        String: "Upload logs to GitHub" [11118,11141]
                                FIELD [11142,11181]
                                    String: "uses" [11142,11148]
                                    STRING [11149,11181]
                                        String: "actions/upload-artifact@master" [11149,11181]
                                FIELD [11182,11239]
                                    String: "if" [11182,11186]
                                    STRING [11187,11239]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [11187,11239]
                                FIELD [11240,11344]
                                    String: "with" [11240,11246]
                                    OBJECT [11247,11344]
                                        FIELD [11248,11322]
                                            String: "name" [11248,11254]
                                            STRING [11255,11322]
                                                String: "k8s-logs-notebook-${{ matrix.os }}-${{ steps.date.outputs.date }}" [11255,11322]
                                        FIELD [11323,11343]
                                            String: "path" [11323,11329]
                                            STRING [11330,11343]
                                                String: "./k8s-logs/" [11330,11343]
                            OBJECT [11346,11614]
                                FIELD [11347,11367]
                                    String: "name" [11347,11353]
                                    STRING [11354,11367]
                                        String: "Cleanup k3d" [11354,11367]
                                FIELD [11368,11425]
                                    String: "if" [11368,11372]
                                    STRING [11373,11425]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [11373,11425]
                                FIELD [11426,11440]
                                    String: "shell" [11426,11433]
                                    STRING [11434,11440]
                                        String: "bash" [11434,11440]
                                FIELD [11441,11613]
                                    String: "run" [11441,11446]
                                    STRING [11447,11613]
                                        String: "export PATH=`pwd`:$PATH\nk3d cluster delete test-gateway-1 || true\nk3d cluster delete test-datasite-1 || true\nk3d registry delete k3d-registry.localhost || true\n" [11447,11613]
            FIELD [11617,15509]
                String: "pr-tests-notebook-scenario-k8s" [11617,11649]
                OBJECT [11650,15509]
                    FIELD [11651,11759]
                        String: "strategy" [11651,11661]
                        OBJECT [11662,11759]
                            FIELD [11663,11680]
                                String: "max-parallel" [11663,11677]
                                NUMBER [11678,11680]
                                    Number: 99 [11678,11680]
                            FIELD [11681,11740]
                                String: "matrix" [11681,11689]
                                OBJECT [11690,11740]
                                    FIELD [11691,11713]
                                        String: "os" [11691,11695]
                                        ARRAY [11696,11713]
                                            STRING [11697,11712]
                                                String: "ubuntu-latest" [11697,11712]
                                    FIELD [11714,11739]
                                        String: "python-version" [11714,11730]
                                        ARRAY [11731,11739]
                                            STRING [11732,11738]
                                                String: "3.12" [11732,11738]
                            FIELD [11741,11758]
                                String: "fail-fast" [11741,11752]
                                FALSE [11753,11758]
                    FIELD [11760,11786]
                        String: "runs-on" [11760,11769]
                        STRING [11770,11786]
                            String: "${{matrix.os}}" [11770,11786]
                    FIELD [11787,15508]
                        String: "steps" [11787,11794]
                        ARRAY [11795,15508]
                            OBJECT [11796,11877]
                                FIELD [11797,11834]
                                    String: "name" [11797,11803]
                                    STRING [11804,11834]
                                        String: "Permission to home directory" [11804,11834]
                                FIELD [11835,11876]
                                    String: "run" [11835,11840]
                                    STRING [11841,11876]
                                        String: "sudo chown -R $USER:$USER $HOME\n" [11841,11876]
                            OBJECT [11878,11908]
                                FIELD [11879,11907]
                                    String: "uses" [11879,11885]
                                    STRING [11886,11907]
                                        String: "actions/checkout@v4" [11886,11907]
                            OBJECT [11909,12091]
                                FIELD [11910,11941]
                                    String: "name" [11910,11916]
                                    STRING [11917,11941]
                                        String: "Check for file changes" [11917,11941]
                                FIELD [11942,11972]
                                    String: "uses" [11942,11948]
                                    STRING [11949,11972]
                                        String: "dorny/paths-filter@v3" [11949,11972]
                                FIELD [11973,11987]
                                    String: "id" [11973,11977]
                                    STRING [11978,11987]
                                        String: "changes" [11978,11987]
                                FIELD [11988,12090]
                                    String: "with" [11988,11994]
                                    OBJECT [11995,12090]
                                        FIELD [11996,12022]
                                            String: "base" [11996,12002]
                                            STRING [12003,12022]
                                                String: "${{ github.ref }}" [12003,12022]
                                        FIELD [12023,12052]
                                            String: "token" [12023,12030]
                                            STRING [12031,12052]
                                                String: "${{ github.token }}" [12031,12052]
                                        FIELD [12053,12089]
                                            String: "filters" [12053,12062]
                                            STRING [12063,12089]
                                                String: ".github/file-filters.yml" [12063,12089]
                            OBJECT [12092,12280]
                                FIELD [12093,12144]
                                    String: "name" [12093,12099]
                                    STRING [12100,12144]
                                        String: "Set up Python ${{ matrix.python-version }}" [12100,12144]
                                FIELD [12145,12177]
                                    String: "uses" [12145,12151]
                                    STRING [12152,12177]
                                        String: "actions/setup-python@v5" [12152,12177]
                                FIELD [12178,12222]
                                    String: "if" [12178,12182]
                                    STRING [12183,12222]
                                        String: "steps.changes.outputs.stack == 'true'" [12183,12222]
                                FIELD [12223,12279]
                                    String: "with" [12223,12229]
                                    OBJECT [12230,12279]
                                        FIELD [12231,12278]
                                            String: "python-version" [12231,12247]
                                            STRING [12248,12278]
                                                String: "${{ matrix.python-version }}" [12248,12278]
                            OBJECT [12281,12374]
                                FIELD [12282,12307]
                                    String: "name" [12282,12288]
                                    STRING [12289,12307]
                                        String: "Add K3d Registry" [12289,12307]
                                FIELD [12308,12373]
                                    String: "run" [12308,12313]
                                    STRING [12314,12373]
                                        String: "sudo python ./scripts/patch_hosts.py --add-k3d-registry\n" [12314,12373]
                            OBJECT [12375,12630]
                                FIELD [12376,12409]
                                    String: "name" [12376,12382]
                                    STRING [12383,12409]
                                        String: "Remove unnecessary files" [12383,12409]
                                FIELD [12410,12445]
                                    String: "if" [12410,12414]
                                    STRING [12415,12445]
                                        String: "matrix.os == 'ubuntu-latest'" [12415,12445]
                                FIELD [12446,12629]
                                    String: "run" [12446,12451]
                                    STRING [12452,12629]
                                        String: "sudo rm -rf /usr/share/dotnet\nsudo rm -rf \"$AGENT_TOOLSDIRECTORY\"\ndocker image prune --all --force\ndocker builder prune --all --force\ndocker system prune --all --force\n" [12452,12629]
                            OBJECT [12631,12821]
                                FIELD [12632,12665]
                                    String: "name" [12632,12638]
                                    STRING [12639,12665]
                                        String: "Install pip dependencies" [12639,12665]
                                FIELD [12666,12710]
                                    String: "if" [12666,12670]
                                    STRING [12671,12710]
                                        String: "steps.changes.outputs.stack == 'true'" [12671,12710]
                                FIELD [12711,12820]
                                    String: "run" [12711,12716]
                                    STRING [12717,12820]
                                        String: "python -m pip install --upgrade pip\npip install uv==0.4.1 tox==4.18.0 tox-uv==1.11.2\nuv --version\n" [12717,12820]
                            OBJECT [12822,12983]
                                FIELD [12823,12848]
                                    String: "name" [12823,12829]
                                    STRING [12830,12848]
                                        String: "Get uv cache dir" [12830,12848]
                                FIELD [12849,12893]
                                    String: "if" [12849,12853]
                                    STRING [12854,12893]
                                        String: "steps.changes.outputs.stack == 'true'" [12854,12893]
                                FIELD [12894,12910]
                                    String: "id" [12894,12898]
                                    STRING [12899,12910]
                                        String: "pip-cache" [12899,12910]
                                FIELD [12911,12925]
                                    String: "shell" [12911,12918]
                                    STRING [12919,12925]
                                        String: "bash" [12919,12925]
                                FIELD [12926,12982]
                                    String: "run" [12926,12931]
                                    STRING [12932,12982]
                                        String: "echo \"dir=$(uv cache dir)\" >> $GITHUB_OUTPUT\n" [12932,12982]
                            OBJECT [12984,13265]
                                FIELD [12985,13011]
                                    String: "name" [12985,12991]
                                    STRING [12992,13011]
                                        String: "Load github cache" [12992,13011]
                                FIELD [13012,13037]
                                    String: "uses" [13012,13018]
                                    STRING [13019,13037]
                                        String: "actions/cache@v4" [13019,13037]
                                FIELD [13038,13082]
                                    String: "if" [13038,13042]
                                    STRING [13043,13082]
                                        String: "steps.changes.outputs.stack == 'true'" [13043,13082]
                                FIELD [13083,13264]
                                    String: "with" [13083,13089]
                                    OBJECT [13090,13264]
                                        FIELD [13091,13134]
                                            String: "path" [13091,13097]
                                            STRING [13098,13134]
                                                String: "${{ steps.pip-cache.outputs.dir }}" [13098,13134]
                                        FIELD [13135,13193]
                                            String: "key" [13135,13140]
                                            STRING [13141,13193]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}" [13141,13193]
                                        FIELD [13194,13263]
                                            String: "restore-keys" [13194,13208]
                                            STRING [13209,13263]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}\n" [13209,13263]
                            OBJECT [13266,13550]
                                FIELD [13267,13291]
                                    String: "name" [13267,13273]
                                    STRING [13274,13291]
                                        String: "Install kubectl" [13274,13291]
                                FIELD [13292,13336]
                                    String: "if" [13292,13296]
                                    STRING [13297,13336]
                                        String: "steps.changes.outputs.stack == 'true'" [13297,13336]
                                FIELD [13337,13549]
                                    String: "run" [13337,13342]
                                    STRING [13343,13549]
                                        String: "# cleanup apt version\nsudo apt remove kubectl || true\n# install kubectl 1.27\ncurl -LO https://dl.k8s.io/release/v1.27.2/bin/linux/amd64/kubectl\nchmod +x kubectl\nsudo install kubectl /usr/local/bin;\n" [13343,13549]
                            OBJECT [13551,13778]
                                FIELD [13552,13573]
                                    String: "name" [13552,13558]
                                    STRING [13559,13573]
                                        String: "Install helm" [13559,13573]
                                FIELD [13574,13618]
                                    String: "if" [13574,13578]
                                    STRING [13579,13618]
                                        String: "steps.changes.outputs.stack == 'true'" [13579,13618]
                                FIELD [13619,13777]
                                    String: "run" [13619,13624]
                                    STRING [13625,13777]
                                        String: "# install helm\ncurl  -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3\nchmod 700 get_helm.sh\n./get_helm.sh\n" [13625,13777]
                            OBJECT [13779,14442]
                                FIELD [13780,13808]
                                    String: "name" [13780,13786]
                                    STRING [13787,13808]
                                        String: "Run Notebooks Tests" [13787,13808]
                                FIELD [13809,13853]
                                    String: "if" [13809,13813]
                                    STRING [13814,13853]
                                        String: "steps.changes.outputs.stack == 'true'" [13814,13853]
                                FIELD [13854,13874]
                                    String: "timeout-minutes" [13854,13871]
                                    NUMBER [13872,13874]
                                        Number: 60 [13872,13874]
                                FIELD [13875,13949]
                                    String: "env" [13875,13880]
                                    OBJECT [13881,13949]
                                        FIELD [13882,13898]
                                            String: "GITHUB_CI" [13882,13893]
                                            TRUE [13894,13898]
                                        FIELD [13899,13948]
                                            String: "TOX_PYTHON" [13899,13911]
                                            STRING [13912,13948]
                                                String: "python${{ matrix.python-version }}" [13912,13948]
                                FIELD [13950,13964]
                                    String: "shell" [13950,13957]
                                    STRING [13958,13964]
                                        String: "bash" [13958,13964]
                                FIELD [13965,14441]
                                    String: "run" [13965,13970]
                                    STRING [13971,14441]
                                        String: "K3D_VERSION=v5.6.3\nDEVSPACE_VERSION=v6.3.12\n# install k3d\nwget https://github.com/k3d-io/k3d/releases/download/${K3D_VERSION}/k3d-linux-amd64\nmv k3d-linux-amd64 k3d\nchmod +x k3d\nexport PATH=`pwd`:$PATH\nk3d version\ncurl -sSL https://github.com/loft-sh/devspace/releases/download/${DEVSPACE_VERSION}/devspace-linux-amd64 -o ./devspace\nchmod +x devspace\ndevspace version\nexport PATH=\"/usr/share/miniconda/bin:$PATH\"\ntox -e stack.test.notebook.scenario.k8s\n" [13971,14441]
                            OBJECT [14443,14571]
                                FIELD [14444,14474]
                                    String: "name" [14444,14450]
                                    STRING [14451,14474]
                                        String: "Get current timestamp" [14451,14474]
                                FIELD [14475,14486]
                                    String: "id" [14475,14479]
                                    STRING [14480,14486]
                                        String: "date" [14480,14486]
                                FIELD [14487,14503]
                                    String: "if" [14487,14491]
                                    STRING [14492,14503]
                                        String: "failure()" [14492,14503]
                                FIELD [14504,14518]
                                    String: "shell" [14504,14511]
                                    STRING [14512,14518]
                                        String: "bash" [14512,14518]
                                FIELD [14519,14570]
                                    String: "run" [14519,14524]
                                    STRING [14525,14570]
                                        String: "echo \"date=$(date +%s)\" >> $GITHUB_OUTPUT" [14525,14570]
                            OBJECT [14572,15045]
                                FIELD [14573,14603]
                                    String: "name" [14573,14579]
                                    STRING [14580,14603]
                                        String: "Collect logs from k3d" [14580,14603]
                                FIELD [14604,14661]
                                    String: "if" [14604,14608]
                                    STRING [14609,14661]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [14609,14661]
                                FIELD [14662,14676]
                                    String: "shell" [14662,14669]
                                    STRING [14670,14676]
                                        String: "bash" [14670,14676]
                                FIELD [14677,15044]
                                    String: "run" [14677,14682]
                                    STRING [14683,15044]
                                        String: "mkdir -p ./k8s-logs\nkubectl describe all -A --context k3d-test-datasite-1 --namespace syft > ./k8s-logs/test-datasite-1-desc-${{ steps.date.outputs.date }}.txt\nkubectl logs -l app.kubernetes.io/name!=random --prefix=true --context k3d-test-datasite-1 --namespace syft > ./k8s-logs/test-datasite-1-logs-${{ steps.date.outputs.date }}.txt\nls -la ./k8s-logs\n" [14683,15044]
                            OBJECT [15046,15281]
                                FIELD [15047,15077]
                                    String: "name" [15047,15053]
                                    STRING [15054,15077]
                                        String: "Upload logs to GitHub" [15054,15077]
                                FIELD [15078,15117]
                                    String: "uses" [15078,15084]
                                    STRING [15085,15117]
                                        String: "actions/upload-artifact@master" [15085,15117]
                                FIELD [15118,15175]
                                    String: "if" [15118,15122]
                                    STRING [15123,15175]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [15123,15175]
                                FIELD [15176,15280]
                                    String: "with" [15176,15182]
                                    OBJECT [15183,15280]
                                        FIELD [15184,15258]
                                            String: "name" [15184,15190]
                                            STRING [15191,15258]
                                                String: "k8s-logs-notebook-${{ matrix.os }}-${{ steps.date.outputs.date }}" [15191,15258]
                                        FIELD [15259,15279]
                                            String: "path" [15259,15265]
                                            STRING [15266,15279]
                                                String: "./k8s-logs/" [15266,15279]
                            OBJECT [15282,15507]
                                FIELD [15283,15303]
                                    String: "name" [15283,15289]
                                    STRING [15290,15303]
                                        String: "Cleanup k3d" [15290,15303]
                                FIELD [15304,15361]
                                    String: "if" [15304,15308]
                                    STRING [15309,15361]
                                        String: "steps.changes.outputs.stack == 'true' && failure()" [15309,15361]
                                FIELD [15362,15376]
                                    String: "shell" [15362,15369]
                                    STRING [15370,15376]
                                        String: "bash" [15370,15376]
                                FIELD [15377,15506]
                                    String: "run" [15377,15382]
                                    STRING [15383,15506]
                                        String: "export PATH=`pwd`:$PATH\nk3d cluster delete test-datasite-1 || true\nk3d registry delete k3d-registry.localhost || true\n" [15383,15506]
            FIELD [15510,17031]
                String: "pr-tests-migrations" [15510,15531]
                OBJECT [15532,17031]
                    FIELD [15533,15623]
                        String: "strategy" [15533,15543]
                        OBJECT [15544,15623]
                            FIELD [15545,15562]
                                String: "max-parallel" [15545,15559]
                                NUMBER [15560,15562]
                                    Number: 99 [15560,15562]
                            FIELD [15563,15622]
                                String: "matrix" [15563,15571]
                                OBJECT [15572,15622]
                                    FIELD [15573,15595]
                                        String: "os" [15573,15577]
                                        ARRAY [15578,15595]
                                            STRING [15579,15594]
                                                String: "ubuntu-latest" [15579,15594]
                                    FIELD [15596,15621]
                                        String: "python-version" [15596,15612]
                                        ARRAY [15613,15621]
                                            STRING [15614,15620]
                                                String: "3.12" [15614,15620]
                    FIELD [15624,15652]
                        String: "runs-on" [15624,15633]
                        STRING [15634,15652]
                            String: "${{ matrix.os }}" [15634,15652]
                    FIELD [15653,17030]
                        String: "steps" [15653,15660]
                        ARRAY [15661,17030]
                            OBJECT [15662,15863]
                                FIELD [15663,15689]
                                    String: "name" [15663,15669]
                                    STRING [15670,15689]
                                        String: "clean .git/config" [15670,15689]
                                FIELD [15690,15726]
                                    String: "if" [15690,15694]
                                    STRING [15695,15726]
                                        String: "matrix.os == 'windows-latest'" [15695,15726]
                                FIELD [15727,15751]
                                    String: "continue-on-error" [15727,15746]
                                    TRUE [15747,15751]
                                FIELD [15752,15766]
                                    String: "shell" [15752,15759]
                                    STRING [15760,15766]
                                        String: "bash" [15760,15766]
                                FIELD [15767,15862]
                                    String: "run" [15767,15772]
                                    STRING [15773,15862]
                                        String: "echo \"deleting ${GITHUB_WORKSPACE}/.git/config\"\nrm ${GITHUB_WORKSPACE}/.git/config\n" [15773,15862]
                            OBJECT [15864,15894]
                                FIELD [15865,15893]
                                    String: "uses" [15865,15871]
                                    STRING [15872,15893]
                                        String: "actions/checkout@v4" [15872,15893]
                            OBJECT [15895,16077]
                                FIELD [15896,15927]
                                    String: "name" [15896,15902]
                                    STRING [15903,15927]
                                        String: "Check for file changes" [15903,15927]
                                FIELD [15928,15958]
                                    String: "uses" [15928,15934]
                                    STRING [15935,15958]
                                        String: "dorny/paths-filter@v3" [15935,15958]
                                FIELD [15959,15973]
                                    String: "id" [15959,15963]
                                    STRING [15964,15973]
                                        String: "changes" [15964,15973]
                                FIELD [15974,16076]
                                    String: "with" [15974,15980]
                                    OBJECT [15981,16076]
                                        FIELD [15982,16008]
                                            String: "base" [15982,15988]
                                            STRING [15989,16008]
                                                String: "${{ github.ref }}" [15989,16008]
                                        FIELD [16009,16038]
                                            String: "token" [16009,16016]
                                            STRING [16017,16038]
                                                String: "${{ github.token }}" [16017,16038]
                                        FIELD [16039,16075]
                                            String: "filters" [16039,16048]
                                            STRING [16049,16075]
                                                String: ".github/file-filters.yml" [16049,16075]
                            OBJECT [16078,16265]
                                FIELD [16079,16130]
                                    String: "name" [16079,16085]
                                    STRING [16086,16130]
                                        String: "Set up Python ${{ matrix.python-version }}" [16086,16130]
                                FIELD [16131,16163]
                                    String: "uses" [16131,16137]
                                    STRING [16138,16163]
                                        String: "actions/setup-python@v5" [16138,16163]
                                FIELD [16164,16207]
                                    String: "if" [16164,16168]
                                    STRING [16169,16207]
                                        String: "steps.changes.outputs.syft == 'true'" [16169,16207]
                                FIELD [16208,16264]
                                    String: "with" [16208,16214]
                                    OBJECT [16215,16264]
                                        FIELD [16216,16263]
                                            String: "python-version" [16216,16232]
                                            STRING [16233,16263]
                                                String: "${{ matrix.python-version }}" [16233,16263]
                            OBJECT [16266,16451]
                                FIELD [16267,16296]
                                    String: "name" [16267,16273]
                                    STRING [16274,16296]
                                        String: "Install pip packages" [16274,16296]
                                FIELD [16297,16340]
                                    String: "if" [16297,16301]
                                    STRING [16302,16340]
                                        String: "steps.changes.outputs.syft == 'true'" [16302,16340]
                                FIELD [16341,16450]
                                    String: "run" [16341,16346]
                                    STRING [16347,16450]
                                        String: "python -m pip install --upgrade pip\npip install uv==0.4.1 tox==4.18.0 tox-uv==1.11.2\nuv --version\n" [16347,16450]
                            OBJECT [16452,16612]
                                FIELD [16453,16478]
                                    String: "name" [16453,16459]
                                    STRING [16460,16478]
                                        String: "Get uv cache dir" [16460,16478]
                                FIELD [16479,16495]
                                    String: "id" [16479,16483]
                                    STRING [16484,16495]
                                        String: "pip-cache" [16484,16495]
                                FIELD [16496,16539]
                                    String: "if" [16496,16500]
                                    STRING [16501,16539]
                                        String: "steps.changes.outputs.syft == 'true'" [16501,16539]
                                FIELD [16540,16554]
                                    String: "shell" [16540,16547]
                                    STRING [16548,16554]
                                        String: "bash" [16548,16554]
                                FIELD [16555,16611]
                                    String: "run" [16555,16560]
                                    STRING [16561,16611]
                                        String: "echo \"dir=$(uv cache dir)\" >> $GITHUB_OUTPUT\n" [16561,16611]
                            OBJECT [16613,16924]
                                FIELD [16614,16640]
                                    String: "name" [16614,16620]
                                    STRING [16621,16640]
                                        String: "Load github cache" [16621,16640]
                                FIELD [16641,16666]
                                    String: "uses" [16641,16647]
                                    STRING [16648,16666]
                                        String: "actions/cache@v4" [16648,16666]
                                FIELD [16667,16710]
                                    String: "if" [16667,16671]
                                    STRING [16672,16710]
                                        String: "steps.changes.outputs.syft == 'true'" [16672,16710]
                                FIELD [16711,16923]
                                    String: "with" [16711,16717]
                                    OBJECT [16718,16923]
                                        FIELD [16719,16762]
                                            String: "path" [16719,16725]
                                            STRING [16726,16762]
                                                String: "${{ steps.pip-cache.outputs.dir }}" [16726,16762]
                                        FIELD [16763,16851]
                                            String: "key" [16763,16768]
                                            STRING [16769,16851]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}-${{ hashFiles('setup.cfg') }}" [16769,16851]
                                        FIELD [16852,16922]
                                            String: "restore-keys" [16852,16866]
                                            STRING [16867,16922]
                                                String: "${{ runner.os }}-uv-py${{ matrix.python-version }}-\n" [16867,16922]
                            OBJECT [16925,17029]
                                FIELD [16926,16954]
                                    String: "name" [16926,16932]
                                    STRING [16933,16954]
                                        String: "Run migration tests" [16933,16954]
                                FIELD [16955,16998]
                                    String: "if" [16955,16959]
                                    STRING [16960,16998]
                                        String: "steps.changes.outputs.syft == 'true'" [16960,16998]
                                FIELD [16999,17028]
                                    String: "run" [16999,17004]
                                    STRING [17005,17028]
                                        String: "tox -e migration.test" [17005,17028]