OBJECT [0,4786]
    FIELD [1,30]
        String: "name" [1,7]
        STRING [8,30]
            String: "pr-integration-tests" [8,30]
    FIELD [31,104]
        String: "on" [31,35]
        OBJECT [36,104]
            FIELD [37,103]
                String: "pull_request_target" [37,58]
                OBJECT [59,103]
                    FIELD [60,102]
                        String: "types" [60,67]
                        ARRAY [68,102]
                            STRING [69,77]
                                String: "opened" [69,77]
                            STRING [78,91]
                                String: "synchronize" [78,91]
                            STRING [92,101]
                                String: "labeled" [92,101]
    FIELD [105,4785]
        String: "jobs" [105,111]
        OBJECT [112,4785]
            FIELD [113,1665]
                String: "build-docker-image" [113,133]
                OBJECT [134,1665]
                    FIELD [135,434]
                        String: "if" [135,139]
                        STRING [140,434]
                            String: "(github.event.action == 'labeled' && (github.event.label.name == 'approved' || github.event.label.name == 'ok-to-test')) || (github.event.action != 'labeled' && (contains(github.event.pull_request.labels.*.name, 'ok-to-test') || contains(github.event.pull_request.labels.*.name, 'approved')))" [140,434]
                    FIELD [435,460]
                        String: "runs-on" [435,444]
                        STRING [445,460]
                            String: "ubuntu-latest" [445,460]
                    FIELD [461,1583]
                        String: "steps" [461,468]
                        ARRAY [469,1583]
                            OBJECT [470,598]
                                FIELD [471,499]
                                    String: "uses" [471,477]
                                    STRING [478,499]
                                        String: "actions/checkout@v2" [478,499]
                                FIELD [500,597]
                                    String: "with" [500,506]
                                    OBJECT [507,597]
                                        FIELD [508,571]
                                            String: "ref" [508,513]
                                            STRING [514,571]
                                                String: "refs/pull/${{ github.event.pull_request.number }}/merge" [514,571]
                                        FIELD [572,596]
                                            String: "submodules" [572,584]
                                            STRING [585,596]
                                                String: "recursive" [585,596]
                            OBJECT [599,658]
                                FIELD [600,620]
                                    String: "name" [600,606]
                                    STRING [607,620]
                                        String: "Set up QEMU" [607,620]
                                FIELD [621,657]
                                    String: "uses" [621,627]
                                    STRING [628,657]
                                        String: "docker/setup-qemu-action@v1" [628,657]
                            OBJECT [659,729]
                                FIELD [660,689]
                                    String: "name" [660,666]
                                    STRING [667,689]
                                        String: "Set up Docker Buildx" [667,689]
                                FIELD [690,728]
                                    String: "uses" [690,696]
                                    STRING [697,728]
                                        String: "docker/setup-buildx-action@v1" [697,728]
                            OBJECT [730,957]
                                FIELD [731,754]
                                    String: "name" [731,737]
                                    STRING [738,754]
                                        String: "Set up AWS SDK" [738,754]
                                FIELD [755,804]
                                    String: "uses" [755,761]
                                    STRING [762,804]
                                        String: "aws-actions/configure-aws-credentials@v1" [762,804]
                                FIELD [805,956]
                                    String: "with" [805,811]
                                    OBJECT [812,956]
                                        FIELD [813,867]
                                            String: "aws-access-key-id" [813,832]
                                            STRING [833,867]
                                                String: "${{ secrets.AWS_ACCESS_KEY_ID }}" [833,867]
                                        FIELD [868,930]
                                            String: "aws-secret-access-key" [868,891]
                                            STRING [892,930]
                                                String: "${{ secrets.AWS_SECRET_ACCESS_KEY }}" [892,930]
                                        FIELD [931,955]
                                            String: "aws-region" [931,943]
                                            STRING [944,955]
                                                String: "us-west-2" [944,955]
                            OBJECT [958,1046]
                                FIELD [959,987]
                                    String: "name" [959,965]
                                    STRING [966,987]
                                        String: "Login to Amazon ECR" [966,987]
                                FIELD [988,1004]
                                    String: "id" [988,992]
                                    STRING [993,1004]
                                        String: "login-ecr" [993,1004]
                                FIELD [1005,1045]
                                    String: "uses" [1005,1011]
                                    STRING [1012,1045]
                                        String: "aws-actions/amazon-ecr-login@v1" [1012,1045]
                            OBJECT [1047,1166]
                                FIELD [1048,1074]
                                    String: "name" [1048,1054]
                                    STRING [1055,1074]
                                        String: "Set ECR image tag" [1055,1074]
                                FIELD [1075,1091]
                                    String: "id" [1075,1079]
                                    STRING [1080,1091]
                                        String: "image-tag" [1080,1091]
                                FIELD [1092,1165]
                                    String: "run" [1092,1097]
                                    STRING [1098,1165]
                                        String: "echo \"::set-output name=DOCKER_IMAGE_TAG::`git rev-parse HEAD`\"" [1098,1165]
                            OBJECT [1167,1582]
                                FIELD [1168,1191]
                                    String: "name" [1168,1174]
                                    STRING [1175,1191]
                                        String: "Build and push" [1175,1191]
                                FIELD [1192,1295]
                                    String: "env" [1192,1197]
                                    OBJECT [1198,1295]
                                        FIELD [1199,1255]
                                            String: "ECR_REGISTRY" [1199,1213]
                                            STRING [1214,1255]
                                                String: "${{ steps.login-ecr.outputs.registry }}" [1214,1255]
                                        FIELD [1256,1294]
                                            String: "ECR_REPOSITORY" [1256,1272]
                                            STRING [1273,1294]
                                                String: "feast-python-server" [1273,1294]
                                FIELD [1296,1581]
                                    String: "run" [1296,1301]
                                    STRING [1302,1581]
                                        String: "docker build \\\n  --file sdk/python/feast/infra/feature_servers/aws_lambda/Dockerfile \\\n  --tag $ECR_REGISTRY/$ECR_REPOSITORY:${{ steps.image-tag.outputs.DOCKER_IMAGE_TAG }} \\\n  .\ndocker push $ECR_REGISTRY/$ECR_REPOSITORY:${{ steps.image-tag.outputs.DOCKER_IMAGE_TAG }}\n" [1302,1581]
                    FIELD [1584,1664]
                        String: "outputs" [1584,1593]
                        OBJECT [1594,1664]
                            FIELD [1595,1663]
                                String: "DOCKER_IMAGE_TAG" [1595,1613]
                                STRING [1614,1663]
                                    String: "${{ steps.image-tag.outputs.DOCKER_IMAGE_TAG }}" [1614,1663]
            FIELD [1666,4784]
                String: "integration-test-python" [1666,1691]
                OBJECT [1692,4784]
                    FIELD [1693,1992]
                        String: "if" [1693,1697]
                        STRING [1698,1992]
                            String: "(github.event.action == 'labeled' && (github.event.label.name == 'approved' || github.event.label.name == 'ok-to-test')) || (github.event.action != 'labeled' && (contains(github.event.pull_request.labels.*.name, 'ok-to-test') || contains(github.event.pull_request.labels.*.name, 'approved')))" [1698,1992]
                    FIELD [1993,2021]
                        String: "needs" [1993,2000]
                        STRING [2001,2021]
                            String: "build-docker-image" [2001,2021]
                    FIELD [2022,2050]
                        String: "runs-on" [2022,2031]
                        STRING [2032,2050]
                            String: "${{ matrix.os }}" [2032,2050]
                    FIELD [2051,2146]
                        String: "strategy" [2051,2061]
                        OBJECT [2062,2146]
                            FIELD [2063,2080]
                                String: "fail-fast" [2063,2074]
                                FALSE [2075,2080]
                            FIELD [2081,2145]
                                String: "matrix" [2081,2089]
                                OBJECT [2090,2145]
                                    FIELD [2091,2121]
                                        String: "python-version" [2091,2107]
                                        ARRAY [2108,2121]
                                            NUMBER [2109,2112]
                                                Number: 3.7 [2109,2112]
                                            NUMBER [2113,2116]
                                                Number: 3.8 [2113,2116]
                                            NUMBER [2117,2120]
                                                Number: 3.9 [2117,2120]
                                    FIELD [2122,2144]
                                        String: "os" [2122,2126]
                                        ARRAY [2127,2144]
                                            STRING [2128,2143]
                                                String: "ubuntu-latest" [2128,2143]
                    FIELD [2147,2218]
                        String: "env" [2147,2152]
                        OBJECT [2153,2218]
                            FIELD [2154,2177]
                                String: "OS" [2154,2158]
                                STRING [2159,2177]
                                    String: "${{ matrix.os }}" [2159,2177]
                            FIELD [2178,2217]
                                String: "PYTHON" [2178,2186]
                                STRING [2187,2217]
                                    String: "${{ matrix.python-version }}" [2187,2217]
                    FIELD [2219,2384]
                        String: "services" [2219,2229]
                        OBJECT [2230,2384]
                            FIELD [2231,2383]
                                String: "redis" [2231,2238]
                                OBJECT [2239,2383]
                                    FIELD [2240,2255]
                                        String: "image" [2240,2247]
                                        STRING [2248,2255]
                                            String: "redis" [2248,2255]
                                    FIELD [2256,2277]
                                        String: "ports" [2256,2263]
                                        ARRAY [2264,2277]
                                            STRING [2265,2276]
                                                String: "6379:6379" [2265,2276]
                                    FIELD [2278,2382]
                                        String: "options" [2278,2287]
                                        STRING [2288,2382]
                                            String: "--health-cmd \"redis-cli ping\" --health-interval 10s --health-timeout 5s --health-retries 5" [2288,2382]
                    FIELD [2385,4783]
                        String: "steps" [2385,2392]
                        ARRAY [2393,4783]
                            OBJECT [2394,2522]
                                FIELD [2395,2423]
                                    String: "uses" [2395,2401]
                                    STRING [2402,2423]
                                        String: "actions/checkout@v2" [2402,2423]
                                FIELD [2424,2521]
                                    String: "with" [2424,2430]
                                    OBJECT [2431,2521]
                                        FIELD [2432,2495]
                                            String: "ref" [2432,2437]
                                            STRING [2438,2495]
                                                String: "refs/pull/${{ github.event.pull_request.number }}/merge" [2438,2495]
                                        FIELD [2496,2520]
                                            String: "submodules" [2496,2508]
                                            STRING [2509,2520]
                                                String: "recursive" [2509,2520]
                            OBJECT [2523,2677]
                                FIELD [2524,2545]
                                    String: "name" [2524,2530]
                                    STRING [2531,2545]
                                        String: "Setup Python" [2531,2545]
                                FIELD [2546,2578]
                                    String: "uses" [2546,2552]
                                    STRING [2553,2578]
                                        String: "actions/setup-python@v2" [2553,2578]
                                FIELD [2579,2598]
                                    String: "id" [2579,2583]
                                    STRING [2584,2598]
                                        String: "setup-python" [2584,2598]
                                FIELD [2599,2676]
                                    String: "with" [2599,2605]
                                    OBJECT [2606,2676]
                                        FIELD [2607,2654]
                                            String: "python-version" [2607,2623]
                                            STRING [2624,2654]
                                                String: "${{ matrix.python-version }}" [2624,2654]
                                        FIELD [2655,2675]
                                            String: "architecture" [2655,2669]
                                            STRING [2670,2675]
                                                String: "x64" [2670,2675]
                            OBJECT [2678,2891]
                                FIELD [2679,2705]
                                    String: "name" [2679,2685]
                                    STRING [2686,2705]
                                        String: "Set up gcloud SDK" [2686,2705]
                                FIELD [2706,2752]
                                    String: "uses" [2706,2712]
                                    STRING [2713,2752]
                                        String: "google-github-actions/setup-gcloud@v0" [2713,2752]
                                FIELD [2753,2890]
                                    String: "with" [2753,2759]
                                    OBJECT [2760,2890]
                                        FIELD [2761,2805]
                                            String: "project_id" [2761,2773]
                                            STRING [2774,2805]
                                                String: "${{ secrets.GCP_PROJECT_ID }}" [2774,2805]
                                        FIELD [2806,2855]
                                            String: "service_account_key" [2806,2827]
                                            STRING [2828,2855]
                                                String: "${{ secrets.GCP_SA_KEY }}" [2828,2855]
                                        FIELD [2856,2889]
                                            String: "export_default_credentials" [2856,2884]
                                            TRUE [2885,2889]
                            OBJECT [2892,2937]
                                FIELD [2893,2916]
                                    String: "name" [2893,2899]
                                    STRING [2900,2916]
                                        String: "Use gcloud CLI" [2900,2916]
                                FIELD [2917,2936]
                                    String: "run" [2917,2922]
                                    STRING [2923,2936]
                                        String: "gcloud info" [2923,2936]
                            OBJECT [2938,3165]
                                FIELD [2939,2962]
                                    String: "name" [2939,2945]
                                    STRING [2946,2962]
                                        String: "Set up AWS SDK" [2946,2962]
                                FIELD [2963,3012]
                                    String: "uses" [2963,2969]
                                    STRING [2970,3012]
                                        String: "aws-actions/configure-aws-credentials@v1" [2970,3012]
                                FIELD [3013,3164]
                                    String: "with" [3013,3019]
                                    OBJECT [3020,3164]
                                        FIELD [3021,3075]
                                            String: "aws-access-key-id" [3021,3040]
                                            STRING [3041,3075]
                                                String: "${{ secrets.AWS_ACCESS_KEY_ID }}" [3041,3075]
                                        FIELD [3076,3138]
                                            String: "aws-secret-access-key" [3076,3099]
                                            STRING [3100,3138]
                                                String: "${{ secrets.AWS_SECRET_ACCESS_KEY }}" [3100,3138]
                                        FIELD [3139,3163]
                                            String: "aws-region" [3139,3151]
                                            STRING [3152,3163]
                                                String: "us-west-2" [3152,3163]
                            OBJECT [3166,3224]
                                FIELD [3167,3187]
                                    String: "name" [3167,3173]
                                    STRING [3174,3187]
                                        String: "Use AWS CLI" [3174,3187]
                                FIELD [3188,3223]
                                    String: "run" [3188,3193]
                                    STRING [3194,3223]
                                        String: "aws sts get-caller-identity" [3194,3223]
                            OBJECT [3225,3303]
                                FIELD [3226,3254]
                                    String: "name" [3226,3232]
                                    STRING [3233,3254]
                                        String: "Upgrade pip version" [3233,3254]
                                FIELD [3255,3302]
                                    String: "run" [3255,3260]
                                    STRING [3261,3302]
                                        String: "pip install --upgrade \"pip>=21.3.1\"\n" [3261,3302]
                            OBJECT [3304,3408]
                                FIELD [3305,3331]
                                    String: "name" [3305,3311]
                                    STRING [3312,3331]
                                        String: "Get pip cache dir" [3312,3331]
                                FIELD [3332,3348]
                                    String: "id" [3332,3336]
                                    STRING [3337,3348]
                                        String: "pip-cache" [3337,3348]
                                FIELD [3349,3407]
                                    String: "run" [3349,3354]
                                    STRING [3355,3407]
                                        String: "echo \"::set-output name=dir::$(pip cache dir)\"\n" [3355,3407]
                            OBJECT [3409,3777]
                                FIELD [3410,3428]
                                    String: "name" [3410,3416]
                                    STRING [3417,3428]
                                        String: "pip cache" [3417,3428]
                                FIELD [3429,3454]
                                    String: "uses" [3429,3435]
                                    STRING [3436,3454]
                                        String: "actions/cache@v2" [3436,3454]
                                FIELD [3455,3776]
                                    String: "with" [3455,3461]
                                    OBJECT [3462,3776]
                                        FIELD [3463,3575]
                                            String: "path" [3463,3469]
                                            STRING [3470,3575]
                                                String: "${{ steps.pip-cache.outputs.dir }}\n/opt/hostedtoolcache/Python\n/Users/runner/hostedtoolcache/Python\n" [3470,3575]
                                        FIELD [3576,3685]
                                            String: "key" [3576,3581]
                                            STRING [3582,3685]
                                                String: "${{ runner.os }}-${{ steps.setup-python.outputs.python-version }}-pip-${{ hashFiles('**/setup.py') }}" [3582,3685]
                                        FIELD [3686,3775]
                                            String: "restore-keys" [3686,3700]
                                            STRING [3701,3775]
                                                String: "${{ runner.os }}-${{ steps.setup-python.outputs.python-version }}-pip-\n" [3701,3775]
                            OBJECT [3778,3853]
                                FIELD [3779,3808]
                                    String: "name" [3779,3785]
                                    STRING [3786,3808]
                                        String: "Install dependencies" [3786,3808]
                                FIELD [3809,3852]
                                    String: "run" [3809,3814]
                                    STRING [3815,3852]
                                        String: "make install-python-ci-dependencies" [3815,3852]
                            OBJECT [3854,4127]
                                FIELD [3855,3875]
                                    String: "name" [3855,3861]
                                    STRING [3862,3875]
                                        String: "Test python" [3862,3875]
                                FIELD [3876,4013]
                                    String: "env" [3876,3881]
                                    OBJECT [3882,4013]
                                        FIELD [3883,3973]
                                            String: "FEAST_SERVER_DOCKER_IMAGE_TAG" [3883,3914]
                                            STRING [3915,3973]
                                                String: "${{ needs.build-docker-image.outputs.DOCKER_IMAGE_TAG }}" [3915,3973]
                                        FIELD [3974,3995]
                                            String: "FEAST_USAGE" [3974,3987]
                                            STRING [3988,3995]
                                                String: "False" [3988,3995]
                                        FIELD [3996,4012]
                                            String: "IS_TEST" [3996,4005]
                                            STRING [4006,4012]
                                                String: "True" [4006,4012]
                                FIELD [4014,4126]
                                    String: "run" [4014,4019]
                                    STRING [4020,4126]
                                        String: "pytest -n 8 --cov=./ --cov-report=xml --verbose --color=yes sdk/python/tests --integration --durations=5" [4020,4126]
                            OBJECT [4128,4362]
                                FIELD [4129,4164]
                                    String: "name" [4129,4135]
                                    STRING [4136,4164]
                                        String: "Upload coverage to Codecov" [4136,4164]
                                FIELD [4165,4199]
                                    String: "uses" [4165,4171]
                                    STRING [4172,4199]
                                        String: "codecov/codecov-action@v1" [4172,4199]
                                FIELD [4200,4361]
                                    String: "with" [4200,4206]
                                    OBJECT [4207,4361]
                                        FIELD [4208,4246]
                                            String: "token" [4208,4215]
                                            STRING [4216,4246]
                                                String: "${{ secrets.CODECOV_TOKEN }}" [4216,4246]
                                        FIELD [4247,4271]
                                            String: "files" [4247,4254]
                                            STRING [4255,4271]
                                                String: "./coverage.xml" [4255,4271]
                                        FIELD [4272,4298]
                                            String: "flags" [4272,4279]
                                            STRING [4280,4298]
                                                String: "integrationtests" [4280,4298]
                                        FIELD [4299,4321]
                                            String: "env_vars" [4299,4309]
                                            STRING [4310,4321]
                                                String: "OS,PYTHON" [4310,4321]
                                        FIELD [4322,4345]
                                            String: "fail_ci_if_error" [4322,4340]
                                            TRUE [4341,4345]
                                        FIELD [4346,4360]
                                            String: "verbose" [4346,4355]
                                            TRUE [4356,4360]
                            OBJECT [4363,4665]
                                FIELD [4364,4389]
                                    String: "name" [4364,4370]
                                    STRING [4371,4389]
                                        String: "Benchmark python" [4371,4389]
                                FIELD [4390,4527]
                                    String: "env" [4390,4395]
                                    OBJECT [4396,4527]
                                        FIELD [4397,4487]
                                            String: "FEAST_SERVER_DOCKER_IMAGE_TAG" [4397,4428]
                                            STRING [4429,4487]
                                                String: "${{ needs.build-docker-image.outputs.DOCKER_IMAGE_TAG }}" [4429,4487]
                                        FIELD [4488,4509]
                                            String: "FEAST_USAGE" [4488,4501]
                                            STRING [4502,4509]
                                                String: "False" [4502,4509]
                                        FIELD [4510,4526]
                                            String: "IS_TEST" [4510,4519]
                                            STRING [4520,4526]
                                                String: "True" [4520,4526]
                                FIELD [4528,4664]
                                    String: "run" [4528,4533]
                                    STRING [4534,4664]
                                        String: "pytest --verbose --color=yes sdk/python/tests --integration --benchmark --benchmark-autosave --benchmark-save-data --durations=5" [4534,4664]
                            OBJECT [4666,4782]
                                FIELD [4667,4707]
                                    String: "name" [4667,4673]
                                    STRING [4674,4707]
                                        String: "Upload Benchmark Artifact to S3" [4674,4707]
                                FIELD [4708,4781]
                                    String: "run" [4708,4713]
                                    STRING [4714,4781]
                                        String: "aws s3 cp --recursive .benchmarks s3://feast-ci-pytest-benchmarks" [4714,4781]