OBJECT [0,10806]
    FIELD [1,40]
        String: "name" [1,7]
        STRING [8,40]
            String: "Self-hosted runner (scheduled)" [8,40]
    FIELD [41,143]
        String: "on" [41,45]
        OBJECT [46,143]
            FIELD [47,81]
                String: "push" [47,53]
                OBJECT [54,81]
                    FIELD [55,80]
                        String: "branches" [55,65]
                        ARRAY [66,80]
                            STRING [67,79]
                                String: "multi_ci_*" [67,79]
            FIELD [82,108]
                String: "repository_dispatch" [82,103]
                NULL [104,108]
            FIELD [109,142]
                String: "schedule" [109,119]
                ARRAY [120,142]
                    OBJECT [121,141]
                        FIELD [122,140]
                            String: "cron" [122,128]
                            STRING [129,140]
                                String: "0 0 * * *" [129,140]
    FIELD [144,258]
        String: "env" [144,149]
        OBJECT [150,258]
            FIELD [151,173]
                String: "HF_HOME" [151,160]
                STRING [161,173]
                    String: "/mnt/cache" [161,173]
            FIELD [174,199]
                String: "TRANSFORMERS_IS_CI" [174,194]
                TRUE [195,199]
            FIELD [200,215]
                String: "RUN_SLOW" [200,210]
                TRUE [211,215]
            FIELD [216,236]
                String: "OMP_NUM_THREADS" [216,233]
                NUMBER [234,236]
                    Number: 16 [234,236]
            FIELD [237,257]
                String: "MKL_NUM_THREADS" [237,254]
                NUMBER [255,257]
                    Number: 16 [255,257]
    FIELD [259,10805]
        String: "jobs" [259,265]
        OBJECT [266,10805]
            FIELD [267,2374]
                String: "run_all_tests_torch_gpu" [267,292]
                OBJECT [293,2374]
                    FIELD [294,345]
                        String: "runs-on" [294,303]
                        ARRAY [304,345]
                            STRING [305,318]
                                String: "self-hosted" [305,318]
                            STRING [319,331]
                                String: "docker-gpu" [319,331]
                            STRING [332,344]
                                String: "single-gpu" [332,344]
                    FIELD [346,512]
                        String: "container" [346,357]
                        OBJECT [358,512]
                            FIELD [359,414]
                                String: "image" [359,366]
                                STRING [367,414]
                                    String: "pytorch/pytorch:1.8.0-cuda11.1-cudnn8-runtime" [367,414]
                            FIELD [415,511]
                                String: "options" [415,424]
                                STRING [425,511]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [425,511]
                    FIELD [513,2373]
                        String: "steps" [513,520]
                        ARRAY [521,2373]
                            OBJECT [522,577]
                                FIELD [523,547]
                                    String: "name" [523,529]
                                    STRING [530,547]
                                        String: "Launcher docker" [530,547]
                                FIELD [548,576]
                                    String: "uses" [548,554]
                                    STRING [555,576]
                                        String: "actions/checkout@v2" [555,576]
                            OBJECT [578,620]
                                FIELD [579,598]
                                    String: "name" [579,585]
                                    STRING [586,598]
                                        String: "NVIDIA-SMI" [586,598]
                                FIELD [599,619]
                                    String: "run" [599,604]
                                    STRING [605,619]
                                        String: "nvidia-smi\n" [605,619]
                            OBJECT [621,814]
                                FIELD [622,651]
                                    String: "name" [622,628]
                                    STRING [629,651]
                                        String: "Install dependencies" [629,651]
                                FIELD [652,813]
                                    String: "run" [652,657]
                                    STRING [658,813]
                                        String: "apt -y update && apt install -y libsndfile1-dev\npip install --upgrade pip\npip install .[sklearn,testing,onnxruntime,sentencepiece,speech,vision,timm]\n" [658,813]
                            OBJECT [815,1204]
                                FIELD [816,865]
                                    String: "name" [816,822]
                                    STRING [823,865]
                                        String: "Are GPUs recognized by our DL frameworks" [823,865]
                                FIELD [866,1203]
                                    String: "run" [866,871]
                                    STRING [872,1203]
                                        String: "python -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Cuda version:', torch.version.cuda)\"\npython -c \"import torch; print('CuDNN version:', torch.backends.cudnn.version())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [872,1203]
                            OBJECT [1205,1321]
                                FIELD [1206,1235]
                                    String: "name" [1206,1212]
                                    STRING [1213,1235]
                                        String: "Run all tests on GPU" [1213,1235]
                                FIELD [1236,1320]
                                    String: "run" [1236,1241]
                                    STRING [1242,1320]
                                        String: "python -m pytest -n 1 --dist=loadfile --make-reports=tests_torch_gpu tests\n" [1242,1320]
                            OBJECT [1322,1432]
                                FIELD [1323,1353]
                                    String: "name" [1323,1329]
                                    STRING [1330,1353]
                                        String: "Failure short reports" [1330,1353]
                                FIELD [1354,1376]
                                    String: "if" [1354,1358]
                                    STRING [1359,1376]
                                        String: "${{ always() }}" [1359,1376]
                                FIELD [1377,1431]
                                    String: "run" [1377,1382]
                                    STRING [1383,1431]
                                        String: "cat reports/tests_torch_gpu_failures_short.txt" [1383,1431]
                            OBJECT [1433,1755]
                                FIELD [1434,1468]
                                    String: "name" [1434,1440]
                                    STRING [1441,1468]
                                        String: "Run examples tests on GPU" [1441,1468]
                                FIELD [1469,1491]
                                    String: "if" [1469,1473]
                                    STRING [1474,1491]
                                        String: "${{ always() }}" [1474,1491]
                                FIELD [1492,1606]
                                    String: "env" [1492,1497]
                                    OBJECT [1498,1606]
                                        FIELD [1499,1519]
                                            String: "OMP_NUM_THREADS" [1499,1516]
                                            NUMBER [1517,1519]
                                                Number: 16 [1517,1519]
                                        FIELD [1520,1540]
                                            String: "MKL_NUM_THREADS" [1520,1537]
                                            NUMBER [1538,1540]
                                                Number: 16 [1538,1540]
                                        FIELD [1541,1556]
                                            String: "RUN_SLOW" [1541,1551]
                                            TRUE [1552,1556]
                                        FIELD [1557,1579]
                                            String: "HF_HOME" [1557,1566]
                                            STRING [1567,1579]
                                                String: "/mnt/cache" [1567,1579]
                                        FIELD [1580,1605]
                                            String: "TRANSFORMERS_IS_CI" [1580,1600]
                                            TRUE [1601,1605]
                                FIELD [1607,1754]
                                    String: "run" [1607,1612]
                                    STRING [1613,1754]
                                        String: "pip install -r examples/pytorch/_tests_requirements.txt\npython -m pytest -n 1 --dist=loadfile --make-reports=examples_torch_gpu examples\n" [1613,1754]
                            OBJECT [1756,1869]
                                FIELD [1757,1787]
                                    String: "name" [1757,1763]
                                    STRING [1764,1787]
                                        String: "Failure short reports" [1764,1787]
                                FIELD [1788,1810]
                                    String: "if" [1788,1792]
                                    STRING [1793,1810]
                                        String: "${{ always() }}" [1793,1810]
                                FIELD [1811,1868]
                                    String: "run" [1811,1816]
                                    STRING [1817,1868]
                                        String: "cat reports/examples_torch_gpu_failures_short.txt" [1817,1868]
                            OBJECT [1870,2081]
                                FIELD [1871,1909]
                                    String: "name" [1871,1877]
                                    STRING [1878,1909]
                                        String: "Run all pipeline tests on GPU" [1878,1909]
                                FIELD [1910,1932]
                                    String: "if" [1910,1914]
                                    STRING [1915,1932]
                                        String: "${{ always() }}" [1915,1932]
                                FIELD [1933,1966]
                                    String: "env" [1933,1938]
                                    OBJECT [1939,1966]
                                        FIELD [1940,1965]
                                            String: "RUN_PIPELINE_TESTS" [1940,1960]
                                            TRUE [1961,1965]
                                FIELD [1967,2080]
                                    String: "run" [1967,1972]
                                    STRING [1973,2080]
                                        String: "python -m pytest -n 1 --dist=loadfile -m is_pipeline_test --make-reports=tests_torch_pipeline_gpu tests\n" [1973,2080]
                            OBJECT [2082,2201]
                                FIELD [2083,2113]
                                    String: "name" [2083,2089]
                                    STRING [2090,2113]
                                        String: "Failure short reports" [2090,2113]
                                FIELD [2114,2136]
                                    String: "if" [2114,2118]
                                    STRING [2119,2136]
                                        String: "${{ always() }}" [2119,2136]
                                FIELD [2137,2200]
                                    String: "run" [2137,2142]
                                    STRING [2143,2200]
                                        String: "cat reports/tests_torch_pipeline_gpu_failures_short.txt" [2143,2200]
                            OBJECT [2202,2372]
                                FIELD [2203,2240]
                                    String: "name" [2203,2209]
                                    STRING [2210,2240]
                                        String: "Test suite reports artifacts" [2210,2240]
                                FIELD [2241,2263]
                                    String: "if" [2241,2245]
                                    STRING [2246,2263]
                                        String: "${{ always() }}" [2246,2263]
                                FIELD [2264,2299]
                                    String: "uses" [2264,2270]
                                    STRING [2271,2299]
                                        String: "actions/upload-artifact@v2" [2271,2299]
                                FIELD [2300,2371]
                                    String: "with" [2300,2306]
                                    OBJECT [2307,2371]
                                        FIELD [2308,2353]
                                            String: "name" [2308,2314]
                                            STRING [2315,2353]
                                                String: "run_all_tests_torch_gpu_test_reports" [2315,2353]
                                        FIELD [2354,2370]
                                            String: "path" [2354,2360]
                                            STRING [2361,2370]
                                                String: "reports" [2361,2370]
            FIELD [2375,4010]
                String: "run_all_tests_tf_gpu" [2375,2397]
                OBJECT [2398,4010]
                    FIELD [2399,2450]
                        String: "runs-on" [2399,2408]
                        ARRAY [2409,2450]
                            STRING [2410,2423]
                                String: "self-hosted" [2410,2423]
                            STRING [2424,2436]
                                String: "docker-gpu" [2424,2436]
                            STRING [2437,2449]
                                String: "single-gpu" [2437,2449]
                    FIELD [2451,2603]
                        String: "container" [2451,2462]
                        OBJECT [2463,2603]
                            FIELD [2464,2505]
                                String: "image" [2464,2471]
                                STRING [2472,2505]
                                    String: "tensorflow/tensorflow:2.4.1-gpu" [2472,2505]
                            FIELD [2506,2602]
                                String: "options" [2506,2515]
                                STRING [2516,2602]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [2516,2602]
                    FIELD [2604,4009]
                        String: "steps" [2604,2611]
                        ARRAY [2612,4009]
                            OBJECT [2613,2668]
                                FIELD [2614,2638]
                                    String: "name" [2614,2620]
                                    STRING [2621,2638]
                                        String: "Launcher docker" [2621,2638]
                                FIELD [2639,2667]
                                    String: "uses" [2639,2645]
                                    STRING [2646,2667]
                                        String: "actions/checkout@v2" [2646,2667]
                            OBJECT [2669,2711]
                                FIELD [2670,2689]
                                    String: "name" [2670,2676]
                                    STRING [2677,2689]
                                        String: "NVIDIA-SMI" [2677,2689]
                                FIELD [2690,2710]
                                    String: "run" [2690,2695]
                                    STRING [2696,2710]
                                        String: "nvidia-smi\n" [2696,2710]
                            OBJECT [2712,2830]
                                FIELD [2713,2742]
                                    String: "name" [2713,2719]
                                    STRING [2720,2742]
                                        String: "Install dependencies" [2720,2742]
                                FIELD [2743,2829]
                                    String: "run" [2743,2748]
                                    STRING [2749,2829]
                                        String: "pip install --upgrade pip\npip install .[sklearn,testing,onnx,sentencepiece]\n" [2749,2829]
                            OBJECT [2831,3174]
                                FIELD [2832,2881]
                                    String: "name" [2832,2838]
                                    STRING [2839,2881]
                                        String: "Are GPUs recognized by our DL frameworks" [2839,2881]
                                FIELD [2882,3173]
                                    String: "run" [2882,2887]
                                    STRING [2888,3173]
                                        String: "TF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [2888,3173]
                            OBJECT [3175,3351]
                                FIELD [3176,3205]
                                    String: "name" [3176,3182]
                                    STRING [3183,3205]
                                        String: "Run all tests on GPU" [3183,3205]
                                FIELD [3206,3268]
                                    String: "env" [3206,3211]
                                    OBJECT [3212,3268]
                                        FIELD [3213,3239]
                                            String: "TF_NUM_INTEROP_THREADS" [3213,3237]
                                            NUMBER [3238,3239]
                                                Number: 1 [3238,3239]
                                        FIELD [3240,3267]
                                            String: "TF_NUM_INTRAOP_THREADS" [3240,3264]
                                            NUMBER [3265,3267]
                                                Number: 16 [3265,3267]
                                FIELD [3269,3350]
                                    String: "run" [3269,3274]
                                    STRING [3275,3350]
                                        String: "python -m pytest -n 1 --dist=loadfile --make-reports=tests_tf_gpu tests\n" [3275,3350]
                            OBJECT [3352,3459]
                                FIELD [3353,3383]
                                    String: "name" [3353,3359]
                                    STRING [3360,3383]
                                        String: "Failure short reports" [3360,3383]
                                FIELD [3384,3406]
                                    String: "if" [3384,3388]
                                    STRING [3389,3406]
                                        String: "${{ always() }}" [3389,3406]
                                FIELD [3407,3458]
                                    String: "run" [3407,3412]
                                    STRING [3413,3458]
                                        String: "cat reports/tests_tf_gpu_failures_short.txt" [3413,3458]
                            OBJECT [3460,3723]
                                FIELD [3461,3499]
                                    String: "name" [3461,3467]
                                    STRING [3468,3499]
                                        String: "Run all pipeline tests on GPU" [3468,3499]
                                FIELD [3500,3522]
                                    String: "if" [3500,3504]
                                    STRING [3505,3522]
                                        String: "${{ always() }}" [3505,3522]
                                FIELD [3523,3611]
                                    String: "env" [3523,3528]
                                    OBJECT [3529,3611]
                                        FIELD [3530,3555]
                                            String: "RUN_PIPELINE_TESTS" [3530,3550]
                                            TRUE [3551,3555]
                                        FIELD [3556,3582]
                                            String: "TF_NUM_INTEROP_THREADS" [3556,3580]
                                            NUMBER [3581,3582]
                                                Number: 1 [3581,3582]
                                        FIELD [3583,3610]
                                            String: "TF_NUM_INTRAOP_THREADS" [3583,3607]
                                            NUMBER [3608,3610]
                                                Number: 16 [3608,3610]
                                FIELD [3612,3722]
                                    String: "run" [3612,3617]
                                    STRING [3618,3722]
                                        String: "python -m pytest -n 1 --dist=loadfile -m is_pipeline_test --make-reports=tests_tf_pipeline_gpu tests\n" [3618,3722]
                            OBJECT [3724,3840]
                                FIELD [3725,3755]
                                    String: "name" [3725,3731]
                                    STRING [3732,3755]
                                        String: "Failure short reports" [3732,3755]
                                FIELD [3756,3778]
                                    String: "if" [3756,3760]
                                    STRING [3761,3778]
                                        String: "${{ always() }}" [3761,3778]
                                FIELD [3779,3839]
                                    String: "run" [3779,3784]
                                    STRING [3785,3839]
                                        String: "cat reports/tests_tf_pipeline_gpu_failures_short.txt" [3785,3839]
                            OBJECT [3841,4008]
                                FIELD [3842,3879]
                                    String: "name" [3842,3848]
                                    STRING [3849,3879]
                                        String: "Test suite reports artifacts" [3849,3879]
                                FIELD [3880,3902]
                                    String: "if" [3880,3884]
                                    STRING [3885,3902]
                                        String: "${{ always() }}" [3885,3902]
                                FIELD [3903,3938]
                                    String: "uses" [3903,3909]
                                    STRING [3910,3938]
                                        String: "actions/upload-artifact@v2" [3910,3938]
                                FIELD [3939,4007]
                                    String: "with" [3939,3945]
                                    OBJECT [3946,4007]
                                        FIELD [3947,3989]
                                            String: "name" [3947,3953]
                                            STRING [3954,3989]
                                                String: "run_all_tests_tf_gpu_test_reports" [3954,3989]
                                        FIELD [3990,4006]
                                            String: "path" [3990,3996]
                                            STRING [3997,4006]
                                                String: "reports" [3997,4006]
            FIELD [4011,5754]
                String: "run_all_tests_torch_multi_gpu" [4011,4042]
                OBJECT [4043,5754]
                    FIELD [4044,4094]
                        String: "runs-on" [4044,4053]
                        ARRAY [4054,4094]
                            STRING [4055,4068]
                                String: "self-hosted" [4055,4068]
                            STRING [4069,4081]
                                String: "docker-gpu" [4069,4081]
                            STRING [4082,4093]
                                String: "multi-gpu" [4082,4093]
                    FIELD [4095,4263]
                        String: "container" [4095,4106]
                        OBJECT [4107,4263]
                            FIELD [4108,4163]
                                String: "image" [4108,4115]
                                STRING [4116,4163]
                                    String: "pytorch/pytorch:1.8.0-cuda11.1-cudnn8-runtime" [4116,4163]
                            FIELD [4164,4262]
                                String: "options" [4164,4173]
                                STRING [4174,4262]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [4174,4262]
                    FIELD [4264,5753]
                        String: "steps" [4264,4271]
                        ARRAY [4272,5753]
                            OBJECT [4273,4328]
                                FIELD [4274,4298]
                                    String: "name" [4274,4280]
                                    STRING [4281,4298]
                                        String: "Launcher docker" [4281,4298]
                                FIELD [4299,4327]
                                    String: "uses" [4299,4305]
                                    STRING [4306,4327]
                                        String: "actions/checkout@v2" [4306,4327]
                            OBJECT [4329,4371]
                                FIELD [4330,4349]
                                    String: "name" [4330,4336]
                                    STRING [4337,4349]
                                        String: "NVIDIA-SMI" [4337,4349]
                                FIELD [4350,4370]
                                    String: "run" [4350,4355]
                                    STRING [4356,4370]
                                        String: "nvidia-smi\n" [4356,4370]
                            OBJECT [4372,4565]
                                FIELD [4373,4402]
                                    String: "name" [4373,4379]
                                    STRING [4380,4402]
                                        String: "Install dependencies" [4380,4402]
                                FIELD [4403,4564]
                                    String: "run" [4403,4408]
                                    STRING [4409,4564]
                                        String: "apt -y update && apt install -y libsndfile1-dev\npip install --upgrade pip\npip install .[sklearn,testing,onnxruntime,sentencepiece,speech,vision,timm]\n" [4409,4564]
                            OBJECT [4566,4955]
                                FIELD [4567,4616]
                                    String: "name" [4567,4573]
                                    STRING [4574,4616]
                                        String: "Are GPUs recognized by our DL frameworks" [4574,4616]
                                FIELD [4617,4954]
                                    String: "run" [4617,4622]
                                    STRING [4623,4954]
                                        String: "python -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Cuda version:', torch.version.cuda)\"\npython -c \"import torch; print('CuDNN version:', torch.backends.cudnn.version())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [4623,4954]
                            OBJECT [4956,5114]
                                FIELD [4957,4986]
                                    String: "name" [4957,4963]
                                    STRING [4964,4986]
                                        String: "Run all tests on GPU" [4964,4986]
                                FIELD [4987,5022]
                                    String: "env" [4987,4992]
                                    OBJECT [4993,5022]
                                        FIELD [4994,5021]
                                            String: "MKL_SERVICE_FORCE_INTEL" [4994,5019]
                                            NUMBER [5020,5021]
                                                Number: 1 [5020,5021]
                                FIELD [5023,5113]
                                    String: "run" [5023,5028]
                                    STRING [5029,5113]
                                        String: "python -m pytest -n 1 --dist=loadfile --make-reports=tests_torch_multi_gpu tests\n" [5029,5113]
                            OBJECT [5115,5231]
                                FIELD [5116,5146]
                                    String: "name" [5116,5122]
                                    STRING [5123,5146]
                                        String: "Failure short reports" [5123,5146]
                                FIELD [5147,5169]
                                    String: "if" [5147,5151]
                                    STRING [5152,5169]
                                        String: "${{ always() }}" [5152,5169]
                                FIELD [5170,5230]
                                    String: "run" [5170,5175]
                                    STRING [5176,5230]
                                        String: "cat reports/tests_torch_multi_gpu_failures_short.txt" [5176,5230]
                            OBJECT [5232,5449]
                                FIELD [5233,5271]
                                    String: "name" [5233,5239]
                                    STRING [5240,5271]
                                        String: "Run all pipeline tests on GPU" [5240,5271]
                                FIELD [5272,5294]
                                    String: "if" [5272,5276]
                                    STRING [5277,5294]
                                        String: "${{ always() }}" [5277,5294]
                                FIELD [5295,5328]
                                    String: "env" [5295,5300]
                                    OBJECT [5301,5328]
                                        FIELD [5302,5327]
                                            String: "RUN_PIPELINE_TESTS" [5302,5322]
                                            TRUE [5323,5327]
                                FIELD [5329,5448]
                                    String: "run" [5329,5334]
                                    STRING [5335,5448]
                                        String: "python -m pytest -n 1 --dist=loadfile -m is_pipeline_test --make-reports=tests_torch_pipeline_multi_gpu tests\n" [5335,5448]
                            OBJECT [5450,5575]
                                FIELD [5451,5481]
                                    String: "name" [5451,5457]
                                    STRING [5458,5481]
                                        String: "Failure short reports" [5458,5481]
                                FIELD [5482,5504]
                                    String: "if" [5482,5486]
                                    STRING [5487,5504]
                                        String: "${{ always() }}" [5487,5504]
                                FIELD [5505,5574]
                                    String: "run" [5505,5510]
                                    STRING [5511,5574]
                                        String: "cat reports/tests_torch_pipeline_multi_gpu_failures_short.txt" [5511,5574]
                            OBJECT [5576,5752]
                                FIELD [5577,5614]
                                    String: "name" [5577,5583]
                                    STRING [5584,5614]
                                        String: "Test suite reports artifacts" [5584,5614]
                                FIELD [5615,5637]
                                    String: "if" [5615,5619]
                                    STRING [5620,5637]
                                        String: "${{ always() }}" [5620,5637]
                                FIELD [5638,5673]
                                    String: "uses" [5638,5644]
                                    STRING [5645,5673]
                                        String: "actions/upload-artifact@v2" [5645,5673]
                                FIELD [5674,5751]
                                    String: "with" [5674,5680]
                                    OBJECT [5681,5751]
                                        FIELD [5682,5733]
                                            String: "name" [5682,5688]
                                            STRING [5689,5733]
                                                String: "run_all_tests_torch_multi_gpu_test_reports" [5689,5733]
                                        FIELD [5734,5750]
                                            String: "path" [5734,5740]
                                            STRING [5741,5750]
                                                String: "reports" [5741,5750]
            FIELD [5755,7427]
                String: "run_all_tests_tf_multi_gpu" [5755,5783]
                OBJECT [5784,7427]
                    FIELD [5785,5835]
                        String: "runs-on" [5785,5794]
                        ARRAY [5795,5835]
                            STRING [5796,5809]
                                String: "self-hosted" [5796,5809]
                            STRING [5810,5822]
                                String: "docker-gpu" [5810,5822]
                            STRING [5823,5834]
                                String: "multi-gpu" [5823,5834]
                    FIELD [5836,5990]
                        String: "container" [5836,5847]
                        OBJECT [5848,5990]
                            FIELD [5849,5890]
                                String: "image" [5849,5856]
                                STRING [5857,5890]
                                    String: "tensorflow/tensorflow:2.4.1-gpu" [5857,5890]
                            FIELD [5891,5989]
                                String: "options" [5891,5900]
                                STRING [5901,5989]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [5901,5989]
                    FIELD [5991,7426]
                        String: "steps" [5991,5998]
                        ARRAY [5999,7426]
                            OBJECT [6000,6055]
                                FIELD [6001,6025]
                                    String: "name" [6001,6007]
                                    STRING [6008,6025]
                                        String: "Launcher docker" [6008,6025]
                                FIELD [6026,6054]
                                    String: "uses" [6026,6032]
                                    STRING [6033,6054]
                                        String: "actions/checkout@v2" [6033,6054]
                            OBJECT [6056,6098]
                                FIELD [6057,6076]
                                    String: "name" [6057,6063]
                                    STRING [6064,6076]
                                        String: "NVIDIA-SMI" [6064,6076]
                                FIELD [6077,6097]
                                    String: "run" [6077,6082]
                                    STRING [6083,6097]
                                        String: "nvidia-smi\n" [6083,6097]
                            OBJECT [6099,6217]
                                FIELD [6100,6129]
                                    String: "name" [6100,6106]
                                    STRING [6107,6129]
                                        String: "Install dependencies" [6107,6129]
                                FIELD [6130,6216]
                                    String: "run" [6130,6135]
                                    STRING [6136,6216]
                                        String: "pip install --upgrade pip\npip install .[sklearn,testing,onnx,sentencepiece]\n" [6136,6216]
                            OBJECT [6218,6561]
                                FIELD [6219,6268]
                                    String: "name" [6219,6225]
                                    STRING [6226,6268]
                                        String: "Are GPUs recognized by our DL frameworks" [6226,6268]
                                FIELD [6269,6560]
                                    String: "run" [6269,6274]
                                    STRING [6275,6560]
                                        String: "TF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [6275,6560]
                            OBJECT [6562,6744]
                                FIELD [6563,6592]
                                    String: "name" [6563,6569]
                                    STRING [6570,6592]
                                        String: "Run all tests on GPU" [6570,6592]
                                FIELD [6593,6655]
                                    String: "env" [6593,6598]
                                    OBJECT [6599,6655]
                                        FIELD [6600,6626]
                                            String: "TF_NUM_INTEROP_THREADS" [6600,6624]
                                            NUMBER [6625,6626]
                                                Number: 1 [6625,6626]
                                        FIELD [6627,6654]
                                            String: "TF_NUM_INTRAOP_THREADS" [6627,6651]
                                            NUMBER [6652,6654]
                                                Number: 16 [6652,6654]
                                FIELD [6656,6743]
                                    String: "run" [6656,6661]
                                    STRING [6662,6743]
                                        String: "python -m pytest -n 1 --dist=loadfile --make-reports=tests_tf_multi_gpu tests\n" [6662,6743]
                            OBJECT [6745,6858]
                                FIELD [6746,6776]
                                    String: "name" [6746,6752]
                                    STRING [6753,6776]
                                        String: "Failure short reports" [6753,6776]
                                FIELD [6777,6799]
                                    String: "if" [6777,6781]
                                    STRING [6782,6799]
                                        String: "${{ always() }}" [6782,6799]
                                FIELD [6800,6857]
                                    String: "run" [6800,6805]
                                    STRING [6806,6857]
                                        String: "cat reports/tests_tf_multi_gpu_failures_short.txt" [6806,6857]
                            OBJECT [6859,7128]
                                FIELD [6860,6898]
                                    String: "name" [6860,6866]
                                    STRING [6867,6898]
                                        String: "Run all pipeline tests on GPU" [6867,6898]
                                FIELD [6899,6921]
                                    String: "if" [6899,6903]
                                    STRING [6904,6921]
                                        String: "${{ always() }}" [6904,6921]
                                FIELD [6922,7010]
                                    String: "env" [6922,6927]
                                    OBJECT [6928,7010]
                                        FIELD [6929,6954]
                                            String: "RUN_PIPELINE_TESTS" [6929,6949]
                                            TRUE [6950,6954]
                                        FIELD [6955,6981]
                                            String: "TF_NUM_INTEROP_THREADS" [6955,6979]
                                            NUMBER [6980,6981]
                                                Number: 1 [6980,6981]
                                        FIELD [6982,7009]
                                            String: "TF_NUM_INTRAOP_THREADS" [6982,7006]
                                            NUMBER [7007,7009]
                                                Number: 16 [7007,7009]
                                FIELD [7011,7127]
                                    String: "run" [7011,7016]
                                    STRING [7017,7127]
                                        String: "python -m pytest -n 1 --dist=loadfile -m is_pipeline_test --make-reports=tests_tf_pipeline_multi_gpu tests\n" [7017,7127]
                            OBJECT [7129,7251]
                                FIELD [7130,7160]
                                    String: "name" [7130,7136]
                                    STRING [7137,7160]
                                        String: "Failure short reports" [7137,7160]
                                FIELD [7161,7183]
                                    String: "if" [7161,7165]
                                    STRING [7166,7183]
                                        String: "${{ always() }}" [7166,7183]
                                FIELD [7184,7250]
                                    String: "run" [7184,7189]
                                    STRING [7190,7250]
                                        String: "cat reports/tests_tf_pipeline_multi_gpu_failures_short.txt" [7190,7250]
                            OBJECT [7252,7425]
                                FIELD [7253,7290]
                                    String: "name" [7253,7259]
                                    STRING [7260,7290]
                                        String: "Test suite reports artifacts" [7260,7290]
                                FIELD [7291,7313]
                                    String: "if" [7291,7295]
                                    STRING [7296,7313]
                                        String: "${{ always() }}" [7296,7313]
                                FIELD [7314,7349]
                                    String: "uses" [7314,7320]
                                    STRING [7321,7349]
                                        String: "actions/upload-artifact@v2" [7321,7349]
                                FIELD [7350,7424]
                                    String: "with" [7350,7356]
                                    OBJECT [7357,7424]
                                        FIELD [7358,7406]
                                            String: "name" [7358,7364]
                                            STRING [7365,7406]
                                                String: "run_all_tests_tf_multi_gpu_test_reports" [7365,7406]
                                        FIELD [7407,7423]
                                            String: "path" [7407,7413]
                                            STRING [7414,7423]
                                                String: "reports" [7414,7423]
            FIELD [7428,8790]
                String: "run_all_tests_torch_cuda_extensions_gpu" [7428,7469]
                OBJECT [7470,8790]
                    FIELD [7471,7522]
                        String: "runs-on" [7471,7480]
                        ARRAY [7481,7522]
                            STRING [7482,7495]
                                String: "self-hosted" [7482,7495]
                            STRING [7496,7508]
                                String: "docker-gpu" [7496,7508]
                            STRING [7509,7521]
                                String: "single-gpu" [7509,7521]
                    FIELD [7523,7676]
                        String: "container" [7523,7534]
                        OBJECT [7535,7676]
                            FIELD [7536,7578]
                                String: "image" [7536,7543]
                                STRING [7544,7578]
                                    String: "nvcr.io/nvidia/pytorch:21.03-py3" [7544,7578]
                            FIELD [7579,7675]
                                String: "options" [7579,7588]
                                STRING [7589,7675]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [7589,7675]
                    FIELD [7677,8789]
                        String: "steps" [7677,7684]
                        ARRAY [7685,8789]
                            OBJECT [7686,7741]
                                FIELD [7687,7711]
                                    String: "name" [7687,7693]
                                    STRING [7694,7711]
                                        String: "Launcher docker" [7694,7711]
                                FIELD [7712,7740]
                                    String: "uses" [7712,7718]
                                    STRING [7719,7740]
                                        String: "actions/checkout@v2" [7719,7740]
                            OBJECT [7742,7784]
                                FIELD [7743,7762]
                                    String: "name" [7743,7749]
                                    STRING [7750,7762]
                                        String: "NVIDIA-SMI" [7750,7762]
                                FIELD [7763,7783]
                                    String: "run" [7763,7768]
                                    STRING [7769,7783]
                                        String: "nvidia-smi\n" [7769,7783]
                            OBJECT [7785,7930]
                                FIELD [7786,7815]
                                    String: "name" [7786,7792]
                                    STRING [7793,7815]
                                        String: "Install dependencies" [7793,7815]
                                FIELD [7816,7929]
                                    String: "run" [7816,7821]
                                    STRING [7822,7929]
                                        String: "apt -y update && apt install -y libaio-dev\npip install --upgrade pip\npip install .[testing,deepspeed]\n" [7822,7929]
                            OBJECT [7931,8320]
                                FIELD [7932,7981]
                                    String: "name" [7932,7938]
                                    STRING [7939,7981]
                                        String: "Are GPUs recognized by our DL frameworks" [7939,7981]
                                FIELD [7982,8319]
                                    String: "run" [7982,7987]
                                    STRING [7988,8319]
                                        String: "python -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Cuda version:', torch.version.cuda)\"\npython -c \"import torch; print('CuDNN version:', torch.backends.cudnn.version())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [7988,8319]
                            OBJECT [8321,8478]
                                FIELD [8322,8351]
                                    String: "name" [8322,8328]
                                    STRING [8329,8351]
                                        String: "Run all tests on GPU" [8329,8351]
                                FIELD [8352,8477]
                                    String: "run" [8352,8357]
                                    STRING [8358,8477]
                                        String: "python -m pytest -n 1 --dist=loadfile --make-reports=tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [8358,8477]
                            OBJECT [8479,8605]
                                FIELD [8480,8510]
                                    String: "name" [8480,8486]
                                    STRING [8487,8510]
                                        String: "Failure short reports" [8487,8510]
                                FIELD [8511,8533]
                                    String: "if" [8511,8515]
                                    STRING [8516,8533]
                                        String: "${{ always() }}" [8516,8533]
                                FIELD [8534,8604]
                                    String: "run" [8534,8539]
                                    STRING [8540,8604]
                                        String: "cat reports/tests_torch_cuda_extensions_gpu_failures_short.txt" [8540,8604]
                            OBJECT [8606,8788]
                                FIELD [8607,8644]
                                    String: "name" [8607,8613]
                                    STRING [8614,8644]
                                        String: "Test suite reports artifacts" [8614,8644]
                                FIELD [8645,8667]
                                    String: "if" [8645,8649]
                                    STRING [8650,8667]
                                        String: "${{ always() }}" [8650,8667]
                                FIELD [8668,8703]
                                    String: "uses" [8668,8674]
                                    STRING [8675,8703]
                                        String: "actions/upload-artifact@v2" [8675,8703]
                                FIELD [8704,8787]
                                    String: "with" [8704,8710]
                                    OBJECT [8711,8787]
                                        FIELD [8712,8769]
                                            String: "name" [8712,8718]
                                            STRING [8719,8769]
                                                String: "run_tests_torch_cuda_extensions_gpu_test_reports" [8719,8769]
                                        FIELD [8770,8786]
                                            String: "path" [8770,8776]
                                            STRING [8777,8786]
                                                String: "reports" [8777,8786]
            FIELD [8791,10186]
                String: "run_all_tests_torch_cuda_extensions_multi_gpu" [8791,8838]
                OBJECT [8839,10186]
                    FIELD [8840,8890]
                        String: "runs-on" [8840,8849]
                        ARRAY [8850,8890]
                            STRING [8851,8864]
                                String: "self-hosted" [8851,8864]
                            STRING [8865,8877]
                                String: "docker-gpu" [8865,8877]
                            STRING [8878,8889]
                                String: "multi-gpu" [8878,8889]
                    FIELD [8891,9044]
                        String: "container" [8891,8902]
                        OBJECT [8903,9044]
                            FIELD [8904,8946]
                                String: "image" [8904,8911]
                                STRING [8912,8946]
                                    String: "nvcr.io/nvidia/pytorch:21.03-py3" [8912,8946]
                            FIELD [8947,9043]
                                String: "options" [8947,8956]
                                STRING [8957,9043]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [8957,9043]
                    FIELD [9045,10185]
                        String: "steps" [9045,9052]
                        ARRAY [9053,10185]
                            OBJECT [9054,9109]
                                FIELD [9055,9079]
                                    String: "name" [9055,9061]
                                    STRING [9062,9079]
                                        String: "Launcher docker" [9062,9079]
                                FIELD [9080,9108]
                                    String: "uses" [9080,9086]
                                    STRING [9087,9108]
                                        String: "actions/checkout@v2" [9087,9108]
                            OBJECT [9110,9152]
                                FIELD [9111,9130]
                                    String: "name" [9111,9117]
                                    STRING [9118,9130]
                                        String: "NVIDIA-SMI" [9118,9130]
                                FIELD [9131,9151]
                                    String: "run" [9131,9136]
                                    STRING [9137,9151]
                                        String: "nvidia-smi\n" [9137,9151]
                            OBJECT [9153,9308]
                                FIELD [9154,9183]
                                    String: "name" [9154,9160]
                                    STRING [9161,9183]
                                        String: "Install dependencies" [9161,9183]
                                FIELD [9184,9307]
                                    String: "run" [9184,9189]
                                    STRING [9190,9307]
                                        String: "apt -y update && apt install -y libaio-dev\npip install --upgrade pip\npip install .[testing,deepspeed,fairscale]\n" [9190,9307]
                            OBJECT [9309,9698]
                                FIELD [9310,9359]
                                    String: "name" [9310,9316]
                                    STRING [9317,9359]
                                        String: "Are GPUs recognized by our DL frameworks" [9317,9359]
                                FIELD [9360,9697]
                                    String: "run" [9360,9365]
                                    STRING [9366,9697]
                                        String: "python -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Cuda version:', torch.version.cuda)\"\npython -c \"import torch; print('CuDNN version:', torch.backends.cudnn.version())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [9366,9697]
                            OBJECT [9699,9862]
                                FIELD [9700,9729]
                                    String: "name" [9700,9706]
                                    STRING [9707,9729]
                                        String: "Run all tests on GPU" [9707,9729]
                                FIELD [9730,9861]
                                    String: "run" [9730,9735]
                                    STRING [9736,9861]
                                        String: "python -m pytest -n 1 --dist=loadfile --make-reports=tests_torch_cuda_extensions_multi_gpu tests/deepspeed tests/extended\n" [9736,9861]
                            OBJECT [9863,9995]
                                FIELD [9864,9894]
                                    String: "name" [9864,9870]
                                    STRING [9871,9894]
                                        String: "Failure short reports" [9871,9894]
                                FIELD [9895,9917]
                                    String: "if" [9895,9899]
                                    STRING [9900,9917]
                                        String: "${{ always() }}" [9900,9917]
                                FIELD [9918,9994]
                                    String: "run" [9918,9923]
                                    STRING [9924,9994]
                                        String: "cat reports/tests_torch_cuda_extensions_multi_gpu_failures_short.txt" [9924,9994]
                            OBJECT [9996,10184]
                                FIELD [9997,10034]
                                    String: "name" [9997,10003]
                                    STRING [10004,10034]
                                        String: "Test suite reports artifacts" [10004,10034]
                                FIELD [10035,10057]
                                    String: "if" [10035,10039]
                                    STRING [10040,10057]
                                        String: "${{ always() }}" [10040,10057]
                                FIELD [10058,10093]
                                    String: "uses" [10058,10064]
                                    STRING [10065,10093]
                                        String: "actions/upload-artifact@v2" [10065,10093]
                                FIELD [10094,10183]
                                    String: "with" [10094,10100]
                                    OBJECT [10101,10183]
                                        FIELD [10102,10165]
                                            String: "name" [10102,10108]
                                            STRING [10109,10165]
                                                String: "run_tests_torch_cuda_extensions_multi_gpu_test_reports" [10109,10165]
                                        FIELD [10166,10182]
                                            String: "path" [10166,10172]
                                            STRING [10173,10182]
                                                String: "reports" [10173,10182]
            FIELD [10187,10804]
                String: "send_results" [10187,10201]
                OBJECT [10202,10804]
                    FIELD [10203,10235]
                        String: "name" [10203,10209]
                        STRING [10210,10235]
                            String: "Send results to webhook" [10210,10235]
                    FIELD [10236,10261]
                        String: "runs-on" [10236,10245]
                        STRING [10246,10261]
                            String: "ubuntu-latest" [10246,10261]
                    FIELD [10262,10277]
                        String: "if" [10262,10266]
                        STRING [10267,10277]
                            String: "always()" [10267,10277]
                    FIELD [10278,10487]
                        String: "needs" [10278,10285]
                        ARRAY [10286,10487]
                            STRING [10287,10312]
                                String: "run_all_tests_torch_gpu" [10287,10312]
                            STRING [10313,10335]
                                String: "run_all_tests_tf_gpu" [10313,10335]
                            STRING [10336,10367]
                                String: "run_all_tests_torch_multi_gpu" [10336,10367]
                            STRING [10368,10396]
                                String: "run_all_tests_tf_multi_gpu" [10368,10396]
                            STRING [10397,10438]
                                String: "run_all_tests_torch_cuda_extensions_gpu" [10397,10438]
                            STRING [10439,10486]
                                String: "run_all_tests_torch_cuda_extensions_multi_gpu" [10439,10486]
                    FIELD [10488,10803]
                        String: "steps" [10488,10495]
                        ARRAY [10496,10803]
                            OBJECT [10497,10527]
                                FIELD [10498,10526]
                                    String: "uses" [10498,10504]
                                    STRING [10505,10526]
                                        String: "actions/checkout@v2" [10505,10526]
                            OBJECT [10528,10567]
                                FIELD [10529,10566]
                                    String: "uses" [10529,10535]
                                    STRING [10536,10566]
                                        String: "actions/download-artifact@v2" [10536,10566]
                            OBJECT [10568,10802]
                                FIELD [10569,10599]
                                    String: "name" [10569,10575]
                                    STRING [10576,10599]
                                        String: "Send message to Slack" [10576,10599]
                                FIELD [10600,10723]
                                    String: "env" [10600,10605]
                                    OBJECT [10606,10723]
                                        FIELD [10607,10663]
                                            String: "CI_SLACK_BOT_TOKEN" [10607,10627]
                                            STRING [10628,10663]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [10628,10663]
                                        FIELD [10664,10722]
                                            String: "CI_SLACK_CHANNEL_ID" [10664,10685]
                                            STRING [10686,10722]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [10686,10722]
                                FIELD [10724,10801]
                                    String: "run" [10724,10729]
                                    STRING [10730,10801]
                                        String: "pip install slack_sdk\npython utils/notification_service.py scheduled" [10730,10801]