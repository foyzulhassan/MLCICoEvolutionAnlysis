OBJECT [0,3170]
    FIELD [1,26]
        String: "name" [1,7]
        STRING [8,26]
            String: "Build Flashlight" [8,26]
    FIELD [27,55]
        String: "on" [27,31]
        ARRAY [32,55]
            STRING [33,39]
                String: "push" [33,39]
            STRING [40,54]
                String: "pull_request" [40,54]
    FIELD [56,3169]
        String: "jobs" [56,62]
        OBJECT [63,3169]
            FIELD [64,2332]
                String: "build" [64,71]
                OBJECT [72,2332]
                    FIELD [73,182]
                        String: "name" [73,79]
                        STRING [80,182]
                            String: "Build on ${{ matrix.os }} | tensor: ${{ matrix.backend }} | autograd: ${{ matrix.autograd_backend }}" [80,182]
                    FIELD [183,211]
                        String: "runs-on" [183,192]
                        STRING [193,211]
                            String: "${{ matrix.os }}" [193,211]
                    FIELD [212,353]
                        String: "strategy" [212,222]
                        OBJECT [223,353]
                            FIELD [224,352]
                                String: "matrix" [224,232]
                                OBJECT [233,352]
                                    FIELD [234,281]
                                        String: "os" [234,238]
                                        ARRAY [239,281]
                                            STRING [240,254]
                                                String: "ubuntu-20.04" [240,254]
                                            STRING [255,269]
                                                String: "windows-2022" [255,269]
                                            STRING [270,280]
                                                String: "macOS-12" [270,280]
                                    FIELD [282,321]
                                        String: "backend" [282,291]
                                        ARRAY [292,321]
                                            STRING [293,304]
                                                String: "ArrayFire" [293,304]
                                            STRING [305,313]
                                                String: "oneDNN" [305,313]
                                            STRING [314,320]
                                                String: "Stub" [314,320]
                                    FIELD [322,351]
                                        String: "autograd_backend" [322,340]
                                        ARRAY [341,351]
                                            STRING [342,350]
                                                String: "oneDNN" [342,350]
                    FIELD [354,396]
                        String: "defaults" [354,364]
                        OBJECT [365,396]
                            FIELD [366,395]
                                String: "run" [366,371]
                                OBJECT [372,395]
                                    FIELD [373,394]
                                        String: "shell" [373,380]
                                        STRING [381,394]
                                            String: "bash -l {0}" [381,394]
                    FIELD [397,507]
                        String: "if" [397,401]
                        STRING [402,507]
                            String: "(github.event_name == 'push' && github.ref == 'refs/heads/main') || github.event_name == 'pull_request'" [402,507]
                    FIELD [508,2331]
                        String: "steps" [508,515]
                        ARRAY [516,2331]
                            OBJECT [517,547]
                                FIELD [518,546]
                                    String: "uses" [518,524]
                                    STRING [525,546]
                                        String: "actions/checkout@v3" [525,546]
                            OBJECT [548,1018]
                                FIELD [549,583]
                                    String: "name" [549,555]
                                    STRING [556,583]
                                        String: "Install ArrayFire (Linux)" [556,583]
                                FIELD [584,956]
                                    String: "run" [584,589]
                                    STRING [590,956]
                                        String: "sudo apt update\nsudo apt-key adv --fetch-key https://repo.arrayfire.com/GPG-PUB-KEY-ARRAYFIRE-2020.PUB\necho \"deb [arch=amd64] https://repo.arrayfire.com/debian all main\" | sudo tee /etc/apt/sources.list.d/arrayfire.list\nsudo apt update\nsudo apt install arrayfire-cmake=3.8.1-2 arrayfire-headers=3.8.1-2 arrayfire-cpu3-mkl=3.8.1-2 arrayfire-cpu3-dev=3.8.1-2\n" [590,956]
                                FIELD [957,1017]
                                    String: "if" [957,961]
                                    STRING [962,1017]
                                        String: "runner.os == 'Linux' && matrix.backend == 'ArrayFire'" [962,1017]
                            OBJECT [1019,1147]
                                FIELD [1020,1054]
                                    String: "name" [1020,1026]
                                    STRING [1027,1054]
                                        String: "Install ArrayFire (macOS)" [1027,1054]
                                FIELD [1055,1085]
                                    String: "run" [1055,1060]
                                    STRING [1061,1085]
                                        String: "brew install arrayfire" [1061,1085]
                                FIELD [1086,1146]
                                    String: "if" [1086,1090]
                                    STRING [1091,1146]
                                        String: "runner.os == 'macOS' && matrix.backend == 'ArrayFire'" [1091,1146]
                            OBJECT [1148,1511]
                                FIELD [1149,1185]
                                    String: "name" [1149,1155]
                                    STRING [1156,1185]
                                        String: "Install ArrayFire (Windows)" [1156,1185]
                                FIELD [1186,1447]
                                    String: "run" [1186,1191]
                                    STRING [1192,1447]
                                        String: "choco install --no-progress wget -y\ncd $HOME\nINSTALLER_NAME=\"ArrayFire-v3.8.1-CUDA-11.4.exe\"\nwget --quiet https://arrayfire.s3.amazonaws.com/3.8.1/$INSTALLER_NAME\n7z.exe x $INSTALLER_NAME -o\"C:\\Program Files\\ArrayFire\" -y\nrm $INSTALLER_NAME\n" [1192,1447]
                                FIELD [1448,1510]
                                    String: "if" [1448,1452]
                                    STRING [1453,1510]
                                        String: "runner.os == 'Windows' && matrix.backend == 'ArrayFire'" [1453,1510]
                            OBJECT [1512,1741]
                                FIELD [1513,1558]
                                    String: "name" [1513,1519]
                                    STRING [1520,1558]
                                        String: "Install oneDNN 2.7.2 with microconda" [1520,1558]
                                FIELD [1559,1597]
                                    String: "uses" [1559,1565]
                                    STRING [1566,1597]
                                        String: "mamba-org/setup-micromamba@v1" [1566,1597]
                                FIELD [1598,1667]
                                    String: "with" [1598,1604]
                                    OBJECT [1605,1667]
                                        FIELD [1606,1637]
                                            String: "environment-name" [1606,1624]
                                            STRING [1625,1637]
                                                String: "flashlight" [1625,1637]
                                        FIELD [1638,1666]
                                            String: "create-args" [1638,1651]
                                            STRING [1652,1666]
                                                String: "onednn=2.7.2" [1652,1666]
                                FIELD [1668,1740]
                                    String: "if" [1668,1672]
                                    STRING [1673,1740]
                                        String: "matrix.backend == 'oneDNN' || matrix.autograd_backend == 'oneDNN'" [1673,1740]
                            OBJECT [1742,2259]
                                FIELD [1743,1772]
                                    String: "name" [1743,1749]
                                    STRING [1750,1772]
                                        String: "Configure Flashlight" [1750,1772]
                                FIELD [1773,2258]
                                    String: "run" [1773,1778]
                                    STRING [1779,2258]
                                        String: "cmake -S . -B build -DBUILD_SHARED_LIBS=ON \\\n  -DFL_USE_ARRAYFIRE=${{ matrix.backend == 'ArrayFire' && 'ON' || 'OFF'  }} \\\n  -DFL_ARRAYFIRE_USE_CPU=${{ matrix.backend == 'ArrayFire' && 'ON' || 'OFF'  }} \\\n  -DFL_USE_ONEDNN=${{ (matrix.backend == 'oneDNN' || matrix.autograd_backend == 'oneDNN') && 'ON' || 'OFF'  }} \\\n  -DFL_USE_TENSOR_STUB=${{ matrix.backend == 'Stub' && 'ON' || 'OFF'  }} \\\n  -DFL_BUILD_DISTRIBUTED=OFF \\\n  -DCMAKE_WINDOWS_EXPORT_ALL_SYMBOLS=ON\n" [1779,2258]
                            OBJECT [2260,2330]
                                FIELD [2261,2286]
                                    String: "name" [2261,2267]
                                    STRING [2268,2286]
                                        String: "Build Flashlight" [2268,2286]
                                FIELD [2287,2329]
                                    String: "run" [2287,2292]
                                    STRING [2293,2329]
                                        String: "cmake --build build --parallel 2\n" [2293,2329]
            FIELD [2333,3168]
                String: "build_wasm" [2333,2345]
                OBJECT [2346,3168]
                    FIELD [2347,2442]
                        String: "name" [2347,2353]
                        STRING [2354,2442]
                            String: "Build WebAssembly libraries with Emscripten compilers + Flashlight core + stub backend" [2354,2442]
                    FIELD [2443,2467]
                        String: "runs-on" [2443,2452]
                        STRING [2453,2467]
                            String: "ubuntu-20.04" [2453,2467]
                    FIELD [2468,2510]
                        String: "defaults" [2468,2478]
                        OBJECT [2479,2510]
                            FIELD [2480,2509]
                                String: "run" [2480,2485]
                                OBJECT [2486,2509]
                                    FIELD [2487,2508]
                                        String: "shell" [2487,2494]
                                        STRING [2495,2508]
                                            String: "bash -l {0}" [2495,2508]
                    FIELD [2511,2621]
                        String: "if" [2511,2515]
                        STRING [2516,2621]
                            String: "(github.event_name == 'push' && github.ref == 'refs/heads/main') || github.event_name == 'pull_request'" [2516,2621]
                    FIELD [2622,3167]
                        String: "steps" [2622,2629]
                        ARRAY [2630,3167]
                            OBJECT [2631,2661]
                                FIELD [2632,2660]
                                    String: "uses" [2632,2638]
                                    STRING [2639,2660]
                                        String: "actions/checkout@v3" [2639,2660]
                            OBJECT [2662,2826]
                                FIELD [2663,2701]
                                    String: "name" [2663,2669]
                                    STRING [2670,2701]
                                        String: "Download and setup Emscripten" [2670,2701]
                                FIELD [2702,2825]
                                    String: "run" [2702,2707]
                                    STRING [2708,2825]
                                        String: "git clone https://github.com/emscripten-core/emsdk.git\ncd emsdk\n./emsdk install latest\n./emsdk activate latest\n" [2708,2825]
                            OBJECT [2827,3166]
                                FIELD [2828,2898]
                                    String: "name" [2828,2834]
                                    STRING [2835,2898]
                                        String: "Build the Flashlight stub backend with Emscripten C compilers" [2835,2898]
                                FIELD [2899,3165]
                                    String: "run" [2899,2904]
                                    STRING [2905,3165]
                                        String: "source ./emsdk/emsdk_env.sh # TODO: move me to setup step\nemcmake cmake -S . -B build \\\n  -DFL_USE_TENSOR_STUB=ON \\\n  -DFL_USE_ARRAYFIRE=OFF \\\n  -DFL_USE_ONEDNN=OFF \\\n  -DFL_USE_CUDNN=OFF \\\n  -DFL_BUILD_DISTRIBUTED=OFF \\\n  -DFL_BUILD_EXAMPLES=ON" [2905,3165]