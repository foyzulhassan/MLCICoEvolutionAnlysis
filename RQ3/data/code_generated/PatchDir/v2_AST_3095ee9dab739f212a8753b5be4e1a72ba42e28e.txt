OBJECT [0,7894]
    FIELD [1,35]
        String: "name" [1,7]
        STRING [8,35]
            String: "Self-hosted runner (push)" [8,35]
    FIELD [36,176]
        String: "on" [36,40]
        OBJECT [41,176]
            FIELD [42,148]
                String: "push" [42,48]
                OBJECT [49,148]
                    FIELD [50,89]
                        String: "branches" [50,60]
                        ARRAY [61,89]
                            STRING [62,70]
                                String: "master" [62,70]
                            STRING [71,88]
                                String: "model-templates" [71,88]
                    FIELD [90,147]
                        String: "paths" [90,97]
                        ARRAY [98,147]
                            STRING [99,107]
                                String: "src/**" [99,107]
                            STRING [108,118]
                                String: "tests/**" [108,118]
                            STRING [119,131]
                                String: ".github/**" [119,131]
                            STRING [132,146]
                                String: "templates/**" [132,146]
            FIELD [149,175]
                String: "repository_dispatch" [149,170]
                NULL [171,175]
    FIELD [177,7893]
        String: "jobs" [177,183]
        OBJECT [184,7893]
            FIELD [185,2404]
                String: "run_tests_torch_gpu" [185,206]
                OBJECT [207,2404]
                    FIELD [208,246]
                        String: "runs-on" [208,217]
                        ARRAY [218,246]
                            STRING [219,232]
                                String: "self-hosted" [219,232]
                            STRING [233,245]
                                String: "single-gpu" [233,245]
                    FIELD [247,2403]
                        String: "steps" [247,254]
                        ARRAY [255,2403]
                            OBJECT [256,286]
                                FIELD [257,285]
                                    String: "uses" [257,263]
                                    STRING [264,285]
                                        String: "actions/checkout@v2" [264,285]
                            OBJECT [287,368]
                                FIELD [288,311]
                                    String: "name" [288,294]
                                    STRING [295,311]
                                        String: "Python version" [295,311]
                                FIELD [312,367]
                                    String: "run" [312,317]
                                    STRING [318,367]
                                        String: "which python\npython --version\npip --version\n" [318,367]
                            OBJECT [369,403]
                                FIELD [370,390]
                                    String: "name" [370,376]
                                    STRING [377,390]
                                        String: "Current dir" [377,390]
                                FIELD [391,402]
                                    String: "run" [391,396]
                                    STRING [397,402]
                                        String: "pwd" [397,402]
                            OBJECT [404,424]
                                FIELD [405,423]
                                    String: "run" [405,410]
                                    STRING [411,423]
                                        String: "nvidia-smi" [411,423]
                            OBJECT [425,570]
                                FIELD [426,449]
                                    String: "name" [426,432]
                                    STRING [433,449]
                                        String: "Loading cache." [433,449]
                                FIELD [450,475]
                                    String: "uses" [450,456]
                                    STRING [457,475]
                                        String: "actions/cache@v2" [457,475]
                                FIELD [476,488]
                                    String: "id" [476,480]
                                    STRING [481,488]
                                        String: "cache" [481,488]
                                FIELD [489,569]
                                    String: "with" [489,495]
                                    OBJECT [496,569]
                                        FIELD [497,510]
                                            String: "path" [497,503]
                                            STRING [504,510]
                                                String: ".env" [504,510]
                                        FIELD [511,568]
                                            String: "key" [511,516]
                                            STRING [517,568]
                                                String: "v1.1-tests_torch_gpu-${{ hashFiles('setup.py') }}" [517,568]
                            OBJECT [571,769]
                                FIELD [572,665]
                                    String: "name" [572,578]
                                    STRING [579,665]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [579,665]
                                FIELD [666,768]
                                    String: "run" [666,671]
                                    STRING [672,768]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [672,768]
                            OBJECT [770,970]
                                FIELD [771,800]
                                    String: "name" [771,777]
                                    STRING [778,800]
                                        String: "Install dependencies" [778,800]
                                FIELD [801,969]
                                    String: "run" [801,806]
                                    STRING [807,969]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install .[torch,sklearn,testing,onnxruntime]\npip install git+https://github.com/huggingface/datasets\n" [807,969]
                            OBJECT [971,1229]
                                FIELD [972,1021]
                                    String: "name" [972,978]
                                    STRING [979,1021]
                                        String: "Are GPUs recognized by our DL frameworks" [979,1021]
                                FIELD [1022,1228]
                                    String: "run" [1022,1027]
                                    STRING [1028,1228]
                                        String: "source .env/bin/activate\npython -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [1028,1228]
                            OBJECT [1230,1912]
                                FIELD [1231,1258]
                                    String: "name" [1231,1237]
                                    STRING [1238,1258]
                                        String: "Create model files" [1238,1258]
                                FIELD [1259,1911]
                                    String: "run" [1259,1264]
                                    STRING [1265,1911]
                                        String: "source .env/bin/activate\ntransformers-cli add-new-model --testing --testing_file=templates/adding_a_new_model/tests/encoder-bert-tokenizer.json --path=templates/adding_a_new_model\ntransformers-cli add-new-model --testing --testing_file=templates/adding_a_new_model/tests/pt-encoder-bert-tokenizer.json --path=templates/adding_a_new_model\ntransformers-cli add-new-model --testing --testing_file=templates/adding_a_new_model/tests/standalone.json --path=templates/adding_a_new_model\ntransformers-cli add-new-model --testing --testing_file=templates/adding_a_new_model/tests/tf-encoder-bert-tokenizer.json --path=templates/adding_a_new_model\n" [1265,1911]
                            OBJECT [1913,2120]
                                FIELD [1914,1952]
                                    String: "name" [1914,1920]
                                    STRING [1921,1952]
                                        String: "Run all non-slow tests on GPU" [1921,1952]
                                FIELD [1953,2005]
                                    String: "env" [1953,1958]
                                    OBJECT [1959,2005]
                                        FIELD [1960,1979]
                                            String: "OMP_NUM_THREADS" [1960,1977]
                                            NUMBER [1978,1979]
                                                Number: 1 [1978,1979]
                                        FIELD [1980,2004]
                                            String: "CUDA_VISIBLE_DEVICES" [1980,2002]
                                            NUMBER [2003,2004]
                                                Number: 0 [2003,2004]
                                FIELD [2006,2119]
                                    String: "run" [2006,2011]
                                    STRING [2012,2119]
                                        String: "source .env/bin/activate\npython -m pytest -n 2 --dist=loadfile -s --make-reports=tests_torch_gpu tests\n" [2012,2119]
                            OBJECT [2121,2231]
                                FIELD [2122,2152]
                                    String: "name" [2122,2128]
                                    STRING [2129,2152]
                                        String: "Failure short reports" [2129,2152]
                                FIELD [2153,2175]
                                    String: "if" [2153,2157]
                                    STRING [2158,2175]
                                        String: "${{ always() }}" [2158,2175]
                                FIELD [2176,2230]
                                    String: "run" [2176,2181]
                                    STRING [2182,2230]
                                        String: "cat reports/tests_torch_gpu_failures_short.txt" [2182,2230]
                            OBJECT [2232,2402]
                                FIELD [2233,2270]
                                    String: "name" [2233,2239]
                                    STRING [2240,2270]
                                        String: "Test suite reports artifacts" [2240,2270]
                                FIELD [2271,2293]
                                    String: "if" [2271,2275]
                                    STRING [2276,2293]
                                        String: "${{ always() }}" [2276,2293]
                                FIELD [2294,2329]
                                    String: "uses" [2294,2300]
                                    STRING [2301,2329]
                                        String: "actions/upload-artifact@v2" [2301,2329]
                                FIELD [2330,2401]
                                    String: "with" [2330,2336]
                                    OBJECT [2337,2401]
                                        FIELD [2338,2383]
                                            String: "name" [2338,2344]
                                            STRING [2345,2383]
                                                String: "run_all_tests_torch_gpu_test_reports" [2345,2383]
                                        FIELD [2384,2400]
                                            String: "path" [2384,2390]
                                            STRING [2391,2400]
                                                String: "reports" [2391,2400]
            FIELD [2405,4717]
                String: "run_tests_tf_gpu" [2405,2423]
                OBJECT [2424,4717]
                    FIELD [2425,2463]
                        String: "runs-on" [2425,2434]
                        ARRAY [2435,2463]
                            STRING [2436,2449]
                                String: "self-hosted" [2436,2449]
                            STRING [2450,2462]
                                String: "single-gpu" [2450,2462]
                    FIELD [2464,4716]
                        String: "steps" [2464,2471]
                        ARRAY [2472,4716]
                            OBJECT [2473,2503]
                                FIELD [2474,2502]
                                    String: "uses" [2474,2480]
                                    STRING [2481,2502]
                                        String: "actions/checkout@v2" [2481,2502]
                            OBJECT [2504,2585]
                                FIELD [2505,2528]
                                    String: "name" [2505,2511]
                                    STRING [2512,2528]
                                        String: "Python version" [2512,2528]
                                FIELD [2529,2584]
                                    String: "run" [2529,2534]
                                    STRING [2535,2584]
                                        String: "which python\npython --version\npip --version\n" [2535,2584]
                            OBJECT [2586,2620]
                                FIELD [2587,2607]
                                    String: "name" [2587,2593]
                                    STRING [2594,2607]
                                        String: "Current dir" [2594,2607]
                                FIELD [2608,2619]
                                    String: "run" [2608,2613]
                                    STRING [2614,2619]
                                        String: "pwd" [2614,2619]
                            OBJECT [2621,2641]
                                FIELD [2622,2640]
                                    String: "run" [2622,2627]
                                    STRING [2628,2640]
                                        String: "nvidia-smi" [2628,2640]
                            OBJECT [2642,2784]
                                FIELD [2643,2666]
                                    String: "name" [2643,2649]
                                    STRING [2650,2666]
                                        String: "Loading cache." [2650,2666]
                                FIELD [2667,2692]
                                    String: "uses" [2667,2673]
                                    STRING [2674,2692]
                                        String: "actions/cache@v2" [2674,2692]
                                FIELD [2693,2705]
                                    String: "id" [2693,2697]
                                    STRING [2698,2705]
                                        String: "cache" [2698,2705]
                                FIELD [2706,2783]
                                    String: "with" [2706,2712]
                                    OBJECT [2713,2783]
                                        FIELD [2714,2727]
                                            String: "path" [2714,2720]
                                            STRING [2721,2727]
                                                String: ".env" [2721,2727]
                                        FIELD [2728,2782]
                                            String: "key" [2728,2733]
                                            STRING [2734,2782]
                                                String: "v1.1-tests_tf_gpu-${{ hashFiles('setup.py') }}" [2734,2782]
                            OBJECT [2785,2983]
                                FIELD [2786,2879]
                                    String: "name" [2786,2792]
                                    STRING [2793,2879]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [2793,2879]
                                FIELD [2880,2982]
                                    String: "run" [2880,2885]
                                    STRING [2886,2982]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [2886,2982]
                            OBJECT [2984,3181]
                                FIELD [2985,3014]
                                    String: "name" [2985,2991]
                                    STRING [2992,3014]
                                        String: "Install dependencies" [2992,3014]
                                FIELD [3015,3180]
                                    String: "run" [3015,3020]
                                    STRING [3021,3180]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install .[tf,sklearn,testing,onnxruntime]\npip install git+https://github.com/huggingface/datasets\n" [3021,3180]
                            OBJECT [3182,3551]
                                FIELD [3183,3232]
                                    String: "name" [3183,3189]
                                    STRING [3190,3232]
                                        String: "Are GPUs recognized by our DL frameworks" [3190,3232]
                                FIELD [3233,3550]
                                    String: "run" [3233,3238]
                                    STRING [3239,3550]
                                        String: "source .env/bin/activate\nTF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [3239,3550]
                            OBJECT [3552,4234]
                                FIELD [3553,3580]
                                    String: "name" [3553,3559]
                                    STRING [3560,3580]
                                        String: "Create model files" [3560,3580]
                                FIELD [3581,4233]
                                    String: "run" [3581,3586]
                                    STRING [3587,4233]
                                        String: "source .env/bin/activate\ntransformers-cli add-new-model --testing --testing_file=templates/adding_a_new_model/tests/encoder-bert-tokenizer.json --path=templates/adding_a_new_model\ntransformers-cli add-new-model --testing --testing_file=templates/adding_a_new_model/tests/pt-encoder-bert-tokenizer.json --path=templates/adding_a_new_model\ntransformers-cli add-new-model --testing --testing_file=templates/adding_a_new_model/tests/standalone.json --path=templates/adding_a_new_model\ntransformers-cli add-new-model --testing --testing_file=templates/adding_a_new_model/tests/tf-encoder-bert-tokenizer.json --path=templates/adding_a_new_model\n" [3587,4233]
                            OBJECT [4235,4439]
                                FIELD [4236,4274]
                                    String: "name" [4236,4242]
                                    STRING [4243,4274]
                                        String: "Run all non-slow tests on GPU" [4243,4274]
                                FIELD [4275,4327]
                                    String: "env" [4275,4280]
                                    OBJECT [4281,4327]
                                        FIELD [4282,4301]
                                            String: "OMP_NUM_THREADS" [4282,4299]
                                            NUMBER [4300,4301]
                                                Number: 1 [4300,4301]
                                        FIELD [4302,4326]
                                            String: "CUDA_VISIBLE_DEVICES" [4302,4324]
                                            NUMBER [4325,4326]
                                                Number: 0 [4325,4326]
                                FIELD [4328,4438]
                                    String: "run" [4328,4333]
                                    STRING [4334,4438]
                                        String: "source .env/bin/activate\npython -m pytest -n 2 --dist=loadfile -s --make-reports=tests_tf_gpu tests\n" [4334,4438]
                            OBJECT [4440,4547]
                                FIELD [4441,4471]
                                    String: "name" [4441,4447]
                                    STRING [4448,4471]
                                        String: "Failure short reports" [4448,4471]
                                FIELD [4472,4494]
                                    String: "if" [4472,4476]
                                    STRING [4477,4494]
                                        String: "${{ always() }}" [4477,4494]
                                FIELD [4495,4546]
                                    String: "run" [4495,4500]
                                    STRING [4501,4546]
                                        String: "cat reports/tests_tf_gpu_failures_short.txt" [4501,4546]
                            OBJECT [4548,4715]
                                FIELD [4549,4586]
                                    String: "name" [4549,4555]
                                    STRING [4556,4586]
                                        String: "Test suite reports artifacts" [4556,4586]
                                FIELD [4587,4609]
                                    String: "if" [4587,4591]
                                    STRING [4592,4609]
                                        String: "${{ always() }}" [4592,4609]
                                FIELD [4610,4645]
                                    String: "uses" [4610,4616]
                                    STRING [4617,4645]
                                        String: "actions/upload-artifact@v2" [4617,4645]
                                FIELD [4646,4714]
                                    String: "with" [4646,4652]
                                    OBJECT [4653,4714]
                                        FIELD [4654,4696]
                                            String: "name" [4654,4660]
                                            STRING [4661,4696]
                                                String: "run_all_tests_tf_gpu_test_reports" [4661,4696]
                                        FIELD [4697,4713]
                                            String: "path" [4697,4703]
                                            STRING [4704,4713]
                                                String: "reports" [4704,4713]
            FIELD [4718,6258]
                String: "run_tests_torch_multi_gpu" [4718,4745]
                OBJECT [4746,6258]
                    FIELD [4747,4784]
                        String: "runs-on" [4747,4756]
                        ARRAY [4757,4784]
                            STRING [4758,4771]
                                String: "self-hosted" [4758,4771]
                            STRING [4772,4783]
                                String: "multi-gpu" [4772,4783]
                    FIELD [4785,6257]
                        String: "steps" [4785,4792]
                        ARRAY [4793,6257]
                            OBJECT [4794,4824]
                                FIELD [4795,4823]
                                    String: "uses" [4795,4801]
                                    STRING [4802,4823]
                                        String: "actions/checkout@v2" [4802,4823]
                            OBJECT [4825,4906]
                                FIELD [4826,4849]
                                    String: "name" [4826,4832]
                                    STRING [4833,4849]
                                        String: "Python version" [4833,4849]
                                FIELD [4850,4905]
                                    String: "run" [4850,4855]
                                    STRING [4856,4905]
                                        String: "which python\npython --version\npip --version\n" [4856,4905]
                            OBJECT [4907,4941]
                                FIELD [4908,4928]
                                    String: "name" [4908,4914]
                                    STRING [4915,4928]
                                        String: "Current dir" [4915,4928]
                                FIELD [4929,4940]
                                    String: "run" [4929,4934]
                                    STRING [4935,4940]
                                        String: "pwd" [4935,4940]
                            OBJECT [4942,4962]
                                FIELD [4943,4961]
                                    String: "run" [4943,4948]
                                    STRING [4949,4961]
                                        String: "nvidia-smi" [4949,4961]
                            OBJECT [4963,5114]
                                FIELD [4964,4987]
                                    String: "name" [4964,4970]
                                    STRING [4971,4987]
                                        String: "Loading cache." [4971,4987]
                                FIELD [4988,5013]
                                    String: "uses" [4988,4994]
                                    STRING [4995,5013]
                                        String: "actions/cache@v2" [4995,5013]
                                FIELD [5014,5026]
                                    String: "id" [5014,5018]
                                    STRING [5019,5026]
                                        String: "cache" [5019,5026]
                                FIELD [5027,5113]
                                    String: "with" [5027,5033]
                                    OBJECT [5034,5113]
                                        FIELD [5035,5048]
                                            String: "path" [5035,5041]
                                            STRING [5042,5048]
                                                String: ".env" [5042,5048]
                                        FIELD [5049,5112]
                                            String: "key" [5049,5054]
                                            STRING [5055,5112]
                                                String: "v1.1-tests_torch_multi_gpu-${{ hashFiles('setup.py') }}" [5055,5112]
                            OBJECT [5115,5313]
                                FIELD [5116,5209]
                                    String: "name" [5116,5122]
                                    STRING [5123,5209]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [5123,5209]
                                FIELD [5210,5312]
                                    String: "run" [5210,5215]
                                    STRING [5216,5312]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [5216,5312]
                            OBJECT [5314,5514]
                                FIELD [5315,5344]
                                    String: "name" [5315,5321]
                                    STRING [5322,5344]
                                        String: "Install dependencies" [5322,5344]
                                FIELD [5345,5513]
                                    String: "run" [5345,5350]
                                    STRING [5351,5513]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install .[torch,sklearn,testing,onnxruntime]\npip install git+https://github.com/huggingface/datasets\n" [5351,5513]
                            OBJECT [5515,5773]
                                FIELD [5516,5565]
                                    String: "name" [5516,5522]
                                    STRING [5523,5565]
                                        String: "Are GPUs recognized by our DL frameworks" [5523,5565]
                                FIELD [5566,5772]
                                    String: "run" [5566,5571]
                                    STRING [5572,5772]
                                        String: "source .env/bin/activate\npython -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [5572,5772]
                            OBJECT [5774,5962]
                                FIELD [5775,5813]
                                    String: "name" [5775,5781]
                                    STRING [5782,5813]
                                        String: "Run all non-slow tests on GPU" [5782,5813]
                                FIELD [5814,5841]
                                    String: "env" [5814,5819]
                                    OBJECT [5820,5841]
                                        FIELD [5821,5840]
                                            String: "OMP_NUM_THREADS" [5821,5838]
                                            NUMBER [5839,5840]
                                                Number: 1 [5839,5840]
                                FIELD [5842,5961]
                                    String: "run" [5842,5847]
                                    STRING [5848,5961]
                                        String: "source .env/bin/activate\npython -m pytest -n 2 --dist=loadfile -s --make-reports=tests_torch_multi_gpu tests\n" [5848,5961]
                            OBJECT [5963,6079]
                                FIELD [5964,5994]
                                    String: "name" [5964,5970]
                                    STRING [5971,5994]
                                        String: "Failure short reports" [5971,5994]
                                FIELD [5995,6017]
                                    String: "if" [5995,5999]
                                    STRING [6000,6017]
                                        String: "${{ always() }}" [6000,6017]
                                FIELD [6018,6078]
                                    String: "run" [6018,6023]
                                    STRING [6024,6078]
                                        String: "cat reports/tests_torch_multi_gpu_failures_short.txt" [6024,6078]
                            OBJECT [6080,6256]
                                FIELD [6081,6118]
                                    String: "name" [6081,6087]
                                    STRING [6088,6118]
                                        String: "Test suite reports artifacts" [6088,6118]
                                FIELD [6119,6141]
                                    String: "if" [6119,6123]
                                    STRING [6124,6141]
                                        String: "${{ always() }}" [6124,6141]
                                FIELD [6142,6177]
                                    String: "uses" [6142,6148]
                                    STRING [6149,6177]
                                        String: "actions/upload-artifact@v2" [6149,6177]
                                FIELD [6178,6255]
                                    String: "with" [6178,6184]
                                    OBJECT [6185,6255]
                                        FIELD [6186,6237]
                                            String: "name" [6186,6192]
                                            STRING [6193,6237]
                                                String: "run_all_tests_torch_multi_gpu_test_reports" [6193,6237]
                                        FIELD [6238,6254]
                                            String: "path" [6238,6244]
                                            STRING [6245,6254]
                                                String: "reports" [6245,6254]
            FIELD [6259,7892]
                String: "run_tests_tf_multi_gpu" [6259,6283]
                OBJECT [6284,7892]
                    FIELD [6285,6322]
                        String: "runs-on" [6285,6294]
                        ARRAY [6295,6322]
                            STRING [6296,6309]
                                String: "self-hosted" [6296,6309]
                            STRING [6310,6321]
                                String: "multi-gpu" [6310,6321]
                    FIELD [6323,7891]
                        String: "steps" [6323,6330]
                        ARRAY [6331,7891]
                            OBJECT [6332,6362]
                                FIELD [6333,6361]
                                    String: "uses" [6333,6339]
                                    STRING [6340,6361]
                                        String: "actions/checkout@v2" [6340,6361]
                            OBJECT [6363,6444]
                                FIELD [6364,6387]
                                    String: "name" [6364,6370]
                                    STRING [6371,6387]
                                        String: "Python version" [6371,6387]
                                FIELD [6388,6443]
                                    String: "run" [6388,6393]
                                    STRING [6394,6443]
                                        String: "which python\npython --version\npip --version\n" [6394,6443]
                            OBJECT [6445,6479]
                                FIELD [6446,6466]
                                    String: "name" [6446,6452]
                                    STRING [6453,6466]
                                        String: "Current dir" [6453,6466]
                                FIELD [6467,6478]
                                    String: "run" [6467,6472]
                                    STRING [6473,6478]
                                        String: "pwd" [6473,6478]
                            OBJECT [6480,6500]
                                FIELD [6481,6499]
                                    String: "run" [6481,6486]
                                    STRING [6487,6499]
                                        String: "nvidia-smi" [6487,6499]
                            OBJECT [6501,6649]
                                FIELD [6502,6525]
                                    String: "name" [6502,6508]
                                    STRING [6509,6525]
                                        String: "Loading cache." [6509,6525]
                                FIELD [6526,6551]
                                    String: "uses" [6526,6532]
                                    STRING [6533,6551]
                                        String: "actions/cache@v2" [6533,6551]
                                FIELD [6552,6564]
                                    String: "id" [6552,6556]
                                    STRING [6557,6564]
                                        String: "cache" [6557,6564]
                                FIELD [6565,6648]
                                    String: "with" [6565,6571]
                                    OBJECT [6572,6648]
                                        FIELD [6573,6586]
                                            String: "path" [6573,6579]
                                            STRING [6580,6586]
                                                String: ".env" [6580,6586]
                                        FIELD [6587,6647]
                                            String: "key" [6587,6592]
                                            STRING [6593,6647]
                                                String: "v1.1-tests_tf_multi_gpu-${{ hashFiles('setup.py') }}" [6593,6647]
                            OBJECT [6650,6848]
                                FIELD [6651,6744]
                                    String: "name" [6651,6657]
                                    STRING [6658,6744]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [6658,6744]
                                FIELD [6745,6847]
                                    String: "run" [6745,6750]
                                    STRING [6751,6847]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [6751,6847]
                            OBJECT [6849,7046]
                                FIELD [6850,6879]
                                    String: "name" [6850,6856]
                                    STRING [6857,6879]
                                        String: "Install dependencies" [6857,6879]
                                FIELD [6880,7045]
                                    String: "run" [6880,6885]
                                    STRING [6886,7045]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install .[tf,sklearn,testing,onnxruntime]\npip install git+https://github.com/huggingface/datasets\n" [6886,7045]
                            OBJECT [7047,7416]
                                FIELD [7048,7097]
                                    String: "name" [7048,7054]
                                    STRING [7055,7097]
                                        String: "Are GPUs recognized by our DL frameworks" [7055,7097]
                                FIELD [7098,7415]
                                    String: "run" [7098,7103]
                                    STRING [7104,7415]
                                        String: "source .env/bin/activate\nTF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [7104,7415]
                            OBJECT [7417,7602]
                                FIELD [7418,7456]
                                    String: "name" [7418,7424]
                                    STRING [7425,7456]
                                        String: "Run all non-slow tests on GPU" [7425,7456]
                                FIELD [7457,7484]
                                    String: "env" [7457,7462]
                                    OBJECT [7463,7484]
                                        FIELD [7464,7483]
                                            String: "OMP_NUM_THREADS" [7464,7481]
                                            NUMBER [7482,7483]
                                                Number: 1 [7482,7483]
                                FIELD [7485,7601]
                                    String: "run" [7485,7490]
                                    STRING [7491,7601]
                                        String: "source .env/bin/activate\npython -m pytest -n 2 --dist=loadfile -s --make-reports=tests_tf_multi_gpu tests\n" [7491,7601]
                            OBJECT [7603,7716]
                                FIELD [7604,7634]
                                    String: "name" [7604,7610]
                                    STRING [7611,7634]
                                        String: "Failure short reports" [7611,7634]
                                FIELD [7635,7657]
                                    String: "if" [7635,7639]
                                    STRING [7640,7657]
                                        String: "${{ always() }}" [7640,7657]
                                FIELD [7658,7715]
                                    String: "run" [7658,7663]
                                    STRING [7664,7715]
                                        String: "cat reports/tests_tf_multi_gpu_failures_short.txt" [7664,7715]
                            OBJECT [7717,7890]
                                FIELD [7718,7755]
                                    String: "name" [7718,7724]
                                    STRING [7725,7755]
                                        String: "Test suite reports artifacts" [7725,7755]
                                FIELD [7756,7778]
                                    String: "if" [7756,7760]
                                    STRING [7761,7778]
                                        String: "${{ always() }}" [7761,7778]
                                FIELD [7779,7814]
                                    String: "uses" [7779,7785]
                                    STRING [7786,7814]
                                        String: "actions/upload-artifact@v2" [7786,7814]
                                FIELD [7815,7889]
                                    String: "with" [7815,7821]
                                    OBJECT [7822,7889]
                                        FIELD [7823,7871]
                                            String: "name" [7823,7829]
                                            STRING [7830,7871]
                                                String: "run_all_tests_tf_multi_gpu_test_reports" [7830,7871]
                                        FIELD [7872,7888]
                                            String: "path" [7872,7878]
                                            STRING [7879,7888]
                                                String: "reports" [7879,7888]