OBJECT [0,5548]
    FIELD [1,24]
        String: "name" [1,7]
        STRING [8,24]
            String: "Arraymancer CI" [8,24]
    FIELD [25,101]
        String: "on" [25,29]
        OBJECT [30,101]
            FIELD [31,61]
                String: "push" [31,37]
                OBJECT [38,61]
                    FIELD [39,60]
                        String: "branches" [39,49]
                        ARRAY [50,60]
                            STRING [51,59]
                                String: "master" [51,59]
            FIELD [62,100]
                String: "pull_request" [62,76]
                OBJECT [77,100]
                    FIELD [78,99]
                        String: "branches" [78,88]
                        ARRAY [89,99]
                            STRING [90,98]
                                String: "master" [90,98]
    FIELD [102,5547]
        String: "jobs" [102,108]
        OBJECT [109,5547]
            FIELD [110,5546]
                String: "build" [110,117]
                OBJECT [118,5546]
                    FIELD [119,463]
                        String: "strategy" [119,129]
                        OBJECT [130,463]
                            FIELD [131,148]
                                String: "fail-fast" [131,142]
                                FALSE [143,148]
                            FIELD [149,166]
                                String: "max-parallel" [149,163]
                                NUMBER [164,166]
                                    Number: 20 [164,166]
                            FIELD [167,462]
                                String: "matrix" [167,175]
                                OBJECT [176,462]
                                    FIELD [177,234]
                                        String: "nim" [177,182]
                                        ARRAY [183,234]
                                            STRING [184,197]
                                                String: "version-1-4" [184,197]
                                            STRING [198,211]
                                                String: "version-1-6" [198,211]
                                            STRING [212,225]
                                                String: "version-2-0" [212,225]
                                            STRING [226,233]
                                                String: "devel" [226,233]
                                    FIELD [235,303]
                                        String: "target" [235,243]
                                        ARRAY [244,303]
                                            OBJECT [245,273]
                                                FIELD [246,258]
                                                    String: "os" [246,250]
                                                    STRING [251,258]
                                                        String: "linux" [251,258]
                                                FIELD [259,272]
                                                    String: "cpu" [259,264]
                                                    STRING [265,272]
                                                        String: "amd64" [265,272]
                                            OBJECT [274,302]
                                                FIELD [275,287]
                                                    String: "os" [275,279]
                                                    STRING [280,287]
                                                        String: "macos" [280,287]
                                                FIELD [288,301]
                                                    String: "cpu" [288,293]
                                                    STRING [294,301]
                                                        String: "amd64" [294,301]
                                    FIELD [304,321]
                                        String: "test_lang" [304,315]
                                        ARRAY [316,321]
                                            STRING [317,320]
                                                String: "c" [317,320]
                                    FIELD [322,461]
                                        String: "include" [322,331]
                                        ARRAY [332,461]
                                            OBJECT [333,398]
                                                FIELD [334,357]
                                                    String: "target" [334,342]
                                                    OBJECT [343,357]
                                                        FIELD [344,356]
                                                            String: "os" [344,348]
                                                            STRING [349,356]
                                                                String: "linux" [349,356]
                                                FIELD [358,382]
                                                    String: "builder" [358,367]
                                                    STRING [368,382]
                                                        String: "ubuntu-20.04" [368,382]
                                                FIELD [383,397]
                                                    String: "shell" [383,390]
                                                    STRING [391,397]
                                                        String: "bash" [391,397]
                                            OBJECT [399,460]
                                                FIELD [400,423]
                                                    String: "target" [400,408]
                                                    OBJECT [409,423]
                                                        FIELD [410,422]
                                                            String: "os" [410,414]
                                                            STRING [415,422]
                                                                String: "macos" [415,422]
                                                FIELD [424,444]
                                                    String: "builder" [424,433]
                                                    STRING [434,444]
                                                        String: "macos-11" [434,444]
                                                FIELD [445,459]
                                                    String: "shell" [445,452]
                                                    STRING [453,459]
                                                        String: "bash" [453,459]
                    FIELD [464,514]
                        String: "defaults" [464,474]
                        OBJECT [475,514]
                            FIELD [476,513]
                                String: "run" [476,481]
                                OBJECT [482,513]
                                    FIELD [483,512]
                                        String: "shell" [483,490]
                                        STRING [491,512]
                                            String: "${{ matrix.shell }}" [491,512]
                    FIELD [515,615]
                        String: "name" [515,521]
                        STRING [522,615]
                            String: "${{ matrix.target.os }}-${{ matrix.target.cpu }}-${{ matrix.test_lang }} (${{ matrix.nim}})" [522,615]
                    FIELD [616,649]
                        String: "runs-on" [616,625]
                        STRING [626,649]
                            String: "${{ matrix.builder }}" [626,649]
                    FIELD [650,5545]
                        String: "steps" [650,657]
                        ARRAY [658,5545]
                            OBJECT [659,1059]
                                FIELD [660,684]
                                    String: "name" [660,666]
                                    STRING [667,684]
                                        String: "Get branch name" [667,684]
                                FIELD [685,699]
                                    String: "shell" [685,692]
                                    STRING [693,699]
                                        String: "bash" [693,699]
                                FIELD [700,1040]
                                    String: "run" [700,705]
                                    STRING [706,1040]
                                        String: "if [[ '${{  github.event_name }}' == 'pull_request' ]]; then\n  echo \"##[set-output name=branch_name;]$(echo ${GITHUB_HEAD_REF})\"\n  echo \"Branch found (PR): ${GITHUB_HEAD_REF}\"\nelse\n  echo \"##[set-output name=branch_name;]$(echo ${GITHUB_REF#refs/heads/})\"\n  echo \"Branch found (not PR): ${GITHUB_REF#refs/heads/}\"\nfi\n" [706,1040]
                                FIELD [1041,1058]
                                    String: "id" [1041,1045]
                                    STRING [1046,1058]
                                        String: "get_branch" [1046,1058]
                            OBJECT [1060,1256]
                                FIELD [1061,1106]
                                    String: "name" [1061,1067]
                                    STRING [1068,1106]
                                        String: "Cancel Previous Runs (except master)" [1068,1106]
                                FIELD [1107,1164]
                                    String: "if" [1107,1111]
                                    STRING [1112,1164]
                                        String: "steps.get_branch.outputs.branch_name != 'master'\n" [1112,1164]
                                FIELD [1165,1209]
                                    String: "uses" [1165,1171]
                                    STRING [1172,1209]
                                        String: "styfle/cancel-workflow-action@0.5.0" [1172,1209]
                                FIELD [1210,1255]
                                    String: "with" [1210,1216]
                                    OBJECT [1217,1255]
                                        FIELD [1218,1254]
                                            String: "access_token" [1218,1232]
                                            STRING [1233,1254]
                                                String: "${{ github.token }}" [1233,1254]
                            OBJECT [1257,1365]
                                FIELD [1258,1287]
                                    String: "name" [1258,1264]
                                    STRING [1265,1287]
                                        String: "Checkout arraymancer" [1265,1287]
                                FIELD [1288,1316]
                                    String: "uses" [1288,1294]
                                    STRING [1295,1316]
                                        String: "actions/checkout@v2" [1295,1316]
                                FIELD [1317,1364]
                                    String: "with" [1317,1323]
                                    OBJECT [1324,1364]
                                        FIELD [1325,1345]
                                            String: "path" [1325,1331]
                                            STRING [1332,1345]
                                                String: "arraymancer" [1332,1345]
                                        FIELD [1346,1363]
                                            String: "submodules" [1346,1358]
                                            TRUE [1359,1363]
                            OBJECT [1366,1976]
                                FIELD [1367,1415]
                                    String: "name" [1367,1373]
                                    STRING [1374,1415]
                                        String: "Install build dependencies (Linux i386)" [1374,1415]
                                FIELD [1416,1474]
                                    String: "if" [1416,1420]
                                    STRING [1421,1474]
                                        String: "runner.os == 'Linux' && matrix.target.cpu == 'i386'" [1421,1474]
                                FIELD [1475,1975]
                                    String: "run" [1475,1480]
                                    STRING [1481,1975]
                                        String: "sudo dpkg --add-architecture i386\nsudo apt-fast update -qq\nsudo DEBIAN_FRONTEND='noninteractive' apt-fast install \\\n  --no-install-recommends -yq gcc-multilib g++-multilib \\\n  libssl-dev:i386\nmkdir -p external/bin\ncat << EOF > external/bin/gcc\n#!/bin/bash\nexec $(which gcc) -m32 \"\\$@\"\nEOF\ncat << EOF > external/bin/g++\n#!/bin/bash\nexec $(which g++) -m32 \"\\$@\"\nEOF\nchmod 755 external/bin/gcc external/bin/g++\necho '${{ github.workspace }}/external/bin' >> $GITHUB_PATH\n" [1481,1975]
                            OBJECT [1977,2202]
                                FIELD [1978,2007]
                                    String: "name" [1978,1984]
                                    STRING [1985,2007]
                                        String: "MSYS2 (Windows i386)" [1985,2007]
                                FIELD [2008,2068]
                                    String: "if" [2008,2012]
                                    STRING [2013,2068]
                                        String: "runner.os == 'Windows' && matrix.target.cpu == 'i386'" [2013,2068]
                                FIELD [2069,2098]
                                    String: "uses" [2069,2075]
                                    STRING [2076,2098]
                                        String: "msys2/setup-msys2@v2" [2076,2098]
                                FIELD [2099,2201]
                                    String: "with" [2099,2105]
                                    OBJECT [2106,2201]
                                        FIELD [2107,2128]
                                            String: "path-type" [2107,2118]
                                            STRING [2119,2128]
                                                String: "inherit" [2119,2128]
                                        FIELD [2129,2148]
                                            String: "msystem" [2129,2138]
                                            STRING [2139,2148]
                                                String: "MINGW32" [2139,2148]
                                        FIELD [2149,2200]
                                            String: "install" [2149,2158]
                                            STRING [2159,2200]
                                                String: "base-devel git mingw-w64-i686-toolchain" [2159,2200]
                            OBJECT [2203,2412]
                                FIELD [2204,2234]
                                    String: "name" [2204,2210]
                                    STRING [2211,2234]
                                        String: "MSYS2 (Windows amd64)" [2211,2234]
                                FIELD [2235,2296]
                                    String: "if" [2235,2239]
                                    STRING [2240,2296]
                                        String: "runner.os == 'Windows' && matrix.target.cpu == 'amd64'" [2240,2296]
                                FIELD [2297,2326]
                                    String: "uses" [2297,2303]
                                    STRING [2304,2326]
                                        String: "msys2/setup-msys2@v2" [2304,2326]
                                FIELD [2327,2411]
                                    String: "with" [2327,2333]
                                    OBJECT [2334,2411]
                                        FIELD [2335,2356]
                                            String: "path-type" [2335,2346]
                                            STRING [2347,2356]
                                                String: "inherit" [2347,2356]
                                        FIELD [2357,2410]
                                            String: "install" [2357,2366]
                                            STRING [2367,2410]
                                                String: "base-devel git mingw-w64-x86_64-toolchain" [2367,2410]
                            OBJECT [2413,2601]
                                FIELD [2414,2473]
                                    String: "name" [2414,2420]
                                    STRING [2421,2473]
                                        String: "Restore Nim DLLs dependencies (Windows) from cache" [2421,2473]
                                FIELD [2474,2503]
                                    String: "if" [2474,2478]
                                    STRING [2479,2503]
                                        String: "runner.os == 'Windows'" [2479,2503]
                                FIELD [2504,2529]
                                    String: "id" [2504,2508]
                                    STRING [2509,2529]
                                        String: "windows-dlls-cache" [2509,2529]
                                FIELD [2530,2555]
                                    String: "uses" [2530,2536]
                                    STRING [2537,2555]
                                        String: "actions/cache@v2" [2537,2555]
                                FIELD [2556,2600]
                                    String: "with" [2556,2562]
                                    OBJECT [2563,2600]
                                        FIELD [2564,2586]
                                            String: "path" [2564,2570]
                                            STRING [2571,2586]
                                                String: "external/dlls" [2571,2586]
                                        FIELD [2587,2599]
                                            String: "key" [2587,2592]
                                            STRING [2593,2599]
                                                String: "dlls" [2593,2599]
                            OBJECT [2602,2882]
                                FIELD [2603,2646]
                                    String: "name" [2603,2609]
                                    STRING [2610,2646]
                                        String: "Install DLL dependencies (Windows)" [2610,2646]
                                FIELD [2647,2734]
                                    String: "if" [2647,2651]
                                    STRING [2652,2734]
                                        String: "steps.windows-dlls-cache.outputs.cache-hit != 'true' && runner.os == 'Windows'\n" [2652,2734]
                                FIELD [2735,2881]
                                    String: "run" [2735,2740]
                                    STRING [2741,2881]
                                        String: "mkdir external\ncurl -L \"https://nim-lang.org/download/windeps.zip\" -o external/windeps.zip\n7z x external/windeps.zip -oexternal/dlls\n" [2741,2881]
                            OBJECT [2883,3038]
                                FIELD [2884,2930]
                                    String: "name" [2884,2890]
                                    STRING [2891,2930]
                                        String: "Path to cached dependencies (Windows)" [2891,2930]
                                FIELD [2931,2962]
                                    String: "if" [2931,2935]
                                    STRING [2936,2962]
                                        String: "runner.os == 'Windows'\n" [2936,2962]
                                FIELD [2963,3037]
                                    String: "run" [2963,2968]
                                    STRING [2969,3037]
                                        String: "echo '${{ github.workspace }}'\"/external/dlls\" >> $GITHUB_PATH\n" [2969,3037]
                            OBJECT [3039,3646]
                                FIELD [3040,3077]
                                    String: "name" [3040,3046]
                                    STRING [3047,3077]
                                        String: "Derive environment variables" [3047,3077]
                                FIELD [3078,3645]
                                    String: "run" [3078,3083]
                                    STRING [3084,3645]
                                        String: "if [[ '${{ matrix.target.cpu }}' == 'amd64' ]]; then\n  PLATFORM=x64\nelse\n  PLATFORM=x86\nfi\necho \"PLATFORM=${PLATFORM}\" >> $GITHUB_ENV\n\nif [[ '${{ matrix.target.os }}' == 'windows' ]]; then\n  MAKE_CMD=\"mingw32-make\"\nelse\n  MAKE_CMD=\"make\"\nfi\necho \"MAKE_CMD=$MAKE_CMD\" >> $GITHUB_ENV\n\nncpu=''\ncase '${{ runner.os }}' in\n'Linux')\n  ncpu=$(nproc)\n  ;;\n'macOS')\n  ncpu=$(sysctl -n hw.ncpu)\n  ;;\n'Windows')\n  ncpu=${NUMBER_OF_PROCESSORS}\n  ;;\nesac\n[[ -z \"$ncpu\" || $ncpu -le 0 ]] && ncpu=1\necho \"ncpu=${ncpu}\" >> $GITHUB_ENV\n" [3084,3645]
                            OBJECT [3647,3733]
                                FIELD [3648,3680]
                                    String: "uses" [3648,3654]
                                    STRING [3655,3680]
                                        String: "alaviss/setup-nim@0.1.1" [3655,3680]
                                FIELD [3681,3732]
                                    String: "with" [3681,3687]
                                    OBJECT [3688,3732]
                                        FIELD [3689,3701]
                                            String: "path" [3689,3695]
                                            STRING [3696,3701]
                                                String: "nim" [3696,3701]
                                        FIELD [3702,3731]
                                            String: "version" [3702,3711]
                                            STRING [3712,3731]
                                                String: "${{ matrix.nim }}" [3712,3731]
                            OBJECT [3734,3961]
                                FIELD [3735,3779]
                                    String: "name" [3735,3741]
                                    STRING [3742,3779]
                                        String: "Install dependencies (Linux 32-bit)" [3742,3779]
                                FIELD [3780,3838]
                                    String: "if" [3780,3784]
                                    STRING [3785,3838]
                                        String: "runner.os == 'Linux' && matrix.target.cpu == 'i386'" [3785,3838]
                                FIELD [3839,3960]
                                    String: "run" [3839,3844]
                                    STRING [3845,3960]
                                        String: "sudo DEBIAN_FRONTEND='noninteractive' apt-fast install \\\n--no-install-recommends -yq \\\nlibopenblas-dev:i386\n" [3845,3960]
                            OBJECT [3962,4151]
                                FIELD [3963,4002]
                                    String: "name" [3963,3969]
                                    STRING [3970,4002]
                                        String: "Install dependencies (Windows)" [3970,4002]
                                FIELD [4003,4064]
                                    String: "if" [4003,4007]
                                    STRING [4008,4064]
                                        String: "runner.os == 'Windows' && matrix.target.cpu == 'amd64'" [4008,4064]
                                FIELD [4065,4084]
                                    String: "shell" [4065,4072]
                                    STRING [4073,4084]
                                        String: "msys2 {0}" [4073,4084]
                                FIELD [4085,4150]
                                    String: "run" [4085,4090]
                                    STRING [4091,4150]
                                        String: "pacman -S --needed --noconfirm mingw-w64-x86_64-​lapack\n" [4091,4150]
                            OBJECT [4152,4338]
                                FIELD [4153,4192]
                                    String: "name" [4153,4159]
                                    STRING [4160,4192]
                                        String: "Install dependencies (Windows)" [4160,4192]
                                FIELD [4193,4253]
                                    String: "if" [4193,4197]
                                    STRING [4198,4253]
                                        String: "runner.os == 'Windows' && matrix.target.cpu == 'i386'" [4198,4253]
                                FIELD [4254,4273]
                                    String: "shell" [4254,4261]
                                    STRING [4262,4273]
                                        String: "msys2 {0}" [4262,4273]
                                FIELD [4274,4337]
                                    String: "run" [4274,4279]
                                    STRING [4280,4337]
                                        String: "pacman -S --needed --noconfirm mingw-w64-i686-​lapack\n" [4280,4337]
                            OBJECT [4339,4476]
                                FIELD [4340,4371]
                                    String: "name" [4340,4346]
                                    STRING [4347,4371]
                                        String: "Restore datasets cache" [4347,4371]
                                FIELD [4372,4393]
                                    String: "id" [4372,4376]
                                    STRING [4377,4393]
                                        String: "datasets-cache" [4377,4393]
                                FIELD [4394,4419]
                                    String: "uses" [4394,4400]
                                    STRING [4401,4419]
                                        String: "actions/cache@v1" [4401,4419]
                                FIELD [4420,4475]
                                    String: "with" [4420,4426]
                                    OBJECT [4427,4475]
                                        FIELD [4428,4457]
                                            String: "path" [4428,4434]
                                            STRING [4435,4457]
                                                String: "~/.cache/arraymancer" [4435,4457]
                                        FIELD [4458,4474]
                                            String: "key" [4458,4463]
                                            STRING [4464,4474]
                                                String: "datasets" [4464,4474]
                            OBJECT [4477,4667]
                                FIELD [4478,4508]
                                    String: "name" [4478,4484]
                                    STRING [4485,4508]
                                        String: "Run Arraymancer tests" [4485,4508]
                                FIELD [4509,4542]
                                    String: "working-directory" [4509,4528]
                                    STRING [4529,4542]
                                        String: "arraymancer" [4529,4542]
                                FIELD [4543,4666]
                                    String: "run" [4543,4548]
                                    STRING [4549,4666]
                                        String: "export ARRAYMANCER_TEST_LANG=${{ matrix.test_lang }}\nnimble install -y --depsOnly\n# Run the tests.\nnimble test\n" [4549,4666]
                            OBJECT [4668,4879]
                                FIELD [4669,4708]
                                    String: "name" [4669,4675]
                                    STRING [4676,4708]
                                        String: "Run Arraymancer tests with ORC" [4676,4708]
                                FIELD [4709,4742]
                                    String: "working-directory" [4709,4728]
                                    STRING [4729,4742]
                                        String: "arraymancer" [4729,4742]
                                FIELD [4743,4878]
                                    String: "run" [4743,4748]
                                    STRING [4749,4878]
                                        String: "export ARRAYMANCER_TEST_LANG=${{ matrix.test_lang }}\nnimble install -y --depsOnly\n# Run the tests.\nnimble test_orc_release\n" [4749,4878]
                            OBJECT [4880,5241]
                                FIELD [4881,4900]
                                    String: "name" [4881,4887]
                                    STRING [4888,4900]
                                        String: "Build docs" [4888,4900]
                                FIELD [4901,5036]
                                    String: "if" [4901,4905]
                                    STRING [4906,5036]
                                        String: "github.event_name == 'push' && github.ref == 'refs/heads/master' && matrix.target.os == 'linux' && matrix.nim == 'version-2-0'\n" [4906,5036]
                                FIELD [5037,5051]
                                    String: "shell" [5037,5044]
                                    STRING [5045,5051]
                                        String: "bash" [5045,5051]
                                FIELD [5052,5240]
                                    String: "run" [5052,5057]
                                    STRING [5058,5240]
                                        String: "cd arraymancer\n# need to call `develop`, otherwise `docs.nim` logic breaks\nnimble install -y nimhdf5\nnimble develop -y\nnimble gen_docs\ncp docs/build/{the,}index.html || true\n" [5058,5240]
                            OBJECT [5242,5544]
                                FIELD [5243,5264]
                                    String: "name" [5243,5249]
                                    STRING [5250,5264]
                                        String: "Publish docs" [5250,5264]
                                FIELD [5265,5400]
                                    String: "if" [5265,5269]
                                    STRING [5270,5400]
                                        String: "github.event_name == 'push' && github.ref == 'refs/heads/master' && matrix.target.os == 'linux' && matrix.nim == 'version-2-0'\n" [5270,5400]
                                FIELD [5401,5444]
                                    String: "uses" [5401,5407]
                                    STRING [5408,5444]
                                        String: "crazy-max/ghaction-github-pages@v1" [5408,5444]
                                FIELD [5445,5490]
                                    String: "with" [5445,5451]
                                    OBJECT [5452,5490]
                                        FIELD [5453,5489]
                                            String: "build_dir" [5453,5464]
                                            STRING [5465,5489]
                                                String: "arraymancer/docs/build" [5465,5489]
                                FIELD [5491,5543]
                                    String: "env" [5491,5496]
                                    OBJECT [5497,5543]
                                        FIELD [5498,5542]
                                            String: "GITHUB_TOKEN" [5498,5512]
                                            STRING [5513,5542]
                                                String: "${{ secrets.GITHUB_TOKEN }}" [5513,5542]