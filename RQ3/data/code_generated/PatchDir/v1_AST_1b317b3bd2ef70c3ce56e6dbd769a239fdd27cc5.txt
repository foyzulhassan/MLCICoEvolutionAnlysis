OBJECT [0,4971]
    FIELD [1,15]
        String: "name" [1,7]
        STRING [8,15]
            String: "CI/CD" [8,15]
    FIELD [16,109]
        String: "on" [16,20]
        OBJECT [21,109]
            FIELD [22,63]
                String: "push" [22,28]
                OBJECT [29,63]
                    FIELD [30,49]
                        String: "branches" [30,40]
                        ARRAY [41,49]
                            STRING [42,48]
                                String: "main" [42,48]
                    FIELD [50,62]
                        String: "tags" [50,56]
                        ARRAY [57,62]
                            STRING [58,61]
                                String: "*" [58,61]
            FIELD [64,83]
                String: "pull_request" [64,78]
                NULL [79,83]
            FIELD [84,108]
                String: "workflow_dispatch" [84,103]
                NULL [104,108]
    FIELD [110,222]
        String: "env" [110,115]
        OBJECT [116,222]
            FIELD [117,155]
                String: "PIPX_HOME" [117,128]
                STRING [129,155]
                    String: "/home/runner/.cache/pipx" [129,155]
            FIELD [156,196]
                String: "PIPX_BIN_DIR" [156,170]
                STRING [171,196]
                    String: "/home/runner/.local/bin" [171,196]
            FIELD [197,221]
                String: "POETRY_VERSION" [197,213]
                STRING [214,221]
                    String: "1.4.1" [214,221]
    FIELD [223,4970]
        String: "jobs" [223,229]
        OBJECT [230,4970]
            FIELD [231,807]
                String: "lint" [231,237]
                OBJECT [238,807]
                    FIELD [239,263]
                        String: "runs-on" [239,248]
                        STRING [249,263]
                            String: "ubuntu-22.04" [249,263]
                    FIELD [264,304]
                        String: "name" [264,270]
                        STRING [271,304]
                            String: "lint with isort, Black & flake8" [271,304]
                    FIELD [305,806]
                        String: "steps" [305,312]
                        ARRAY [313,806]
                            OBJECT [314,344]
                                FIELD [315,343]
                                    String: "uses" [315,321]
                                    STRING [322,343]
                                        String: "actions/checkout@v3" [322,343]
                            OBJECT [345,523]
                                FIELD [346,409]
                                    String: "name" [346,352]
                                    STRING [353,409]
                                        String: "Prepare: restore caches, install Poetry, set up Python" [353,409]
                                FIELD [410,444]
                                    String: "uses" [410,416]
                                    STRING [417,444]
                                        String: "./.github/actions/prepare" [417,444]
                                FIELD [445,522]
                                    String: "with" [445,451]
                                    OBJECT [452,522]
                                        FIELD [453,476]
                                            String: "python-version" [453,469]
                                            STRING [470,476]
                                                String: "3.10" [470,476]
                                        FIELD [477,521]
                                            String: "poetry-version" [477,493]
                                            STRING [494,521]
                                                String: "${{ env.POETRY_VERSION }}" [494,521]
                            OBJECT [524,602]
                                FIELD [525,565]
                                    String: "name" [525,531]
                                    STRING [532,565]
                                        String: "Install Python dev dependencies" [532,565]
                                FIELD [566,601]
                                    String: "run" [566,571]
                                    STRING [572,601]
                                        String: "poetry install --only dev\n" [572,601]
                            OBJECT [603,678]
                                FIELD [604,628]
                                    String: "name" [604,610]
                                    STRING [611,628]
                                        String: "Lint with isort" [611,628]
                                FIELD [629,677]
                                    String: "run" [629,634]
                                    STRING [635,677]
                                        String: "poetry run isort . --check-only --diff\n" [635,677]
                            OBJECT [679,749]
                                FIELD [680,704]
                                    String: "name" [680,686]
                                    STRING [687,704]
                                        String: "Lint with Black" [687,704]
                                FIELD [705,748]
                                    String: "run" [705,710]
                                    STRING [711,748]
                                        String: "poetry run black . --check --diff\n" [711,748]
                            OBJECT [750,805]
                                FIELD [751,776]
                                    String: "name" [751,757]
                                    STRING [758,776]
                                        String: "Lint with flake8" [758,776]
                                FIELD [777,804]
                                    String: "run" [777,782]
                                    STRING [783,804]
                                        String: "poetry run flake8\n" [783,804]
            FIELD [808,2796]
                String: "test" [808,814]
                OBJECT [815,2796]
                    FIELD [816,840]
                        String: "runs-on" [816,825]
                        STRING [826,840]
                            String: "ubuntu-22.04" [826,840]
                    FIELD [841,861]
                        String: "timeout-minutes" [841,858]
                        NUMBER [859,861]
                            Number: 15 [859,861]
                    FIELD [862,923]
                        String: "strategy" [862,872]
                        OBJECT [873,923]
                            FIELD [874,922]
                                String: "matrix" [874,882]
                                OBJECT [883,922]
                                    FIELD [884,921]
                                        String: "python-version" [884,900]
                                        ARRAY [901,921]
                                            STRING [902,907]
                                                String: "3.8" [902,907]
                                            STRING [908,913]
                                                String: "3.9" [908,913]
                                            STRING [914,920]
                                                String: "3.10" [914,920]
                    FIELD [924,976]
                        String: "name" [924,930]
                        STRING [931,976]
                            String: "test on Python ${{ matrix.python-version }}" [931,976]
                    FIELD [977,2795]
                        String: "steps" [977,984]
                        ARRAY [985,2795]
                            OBJECT [986,1016]
                                FIELD [987,1015]
                                    String: "uses" [987,993]
                                    STRING [994,1015]
                                        String: "actions/checkout@v3" [994,1015]
                            OBJECT [1017,1115]
                                FIELD [1018,1050]
                                    String: "name" [1018,1024]
                                    STRING [1025,1050]
                                        String: "Install system packages" [1025,1050]
                                FIELD [1051,1114]
                                    String: "run" [1051,1056]
                                    STRING [1057,1114]
                                        String: "sudo apt-get install \\\n  libvoikko1 \\\n  voikko-fi\n" [1057,1114]
                            OBJECT [1116,1333]
                                FIELD [1117,1180]
                                    String: "name" [1117,1123]
                                    STRING [1124,1180]
                                        String: "Prepare: restore caches, install Poetry, set up Python" [1124,1180]
                                FIELD [1181,1195]
                                    String: "id" [1181,1185]
                                    STRING [1186,1195]
                                        String: "prepare" [1186,1195]
                                FIELD [1196,1230]
                                    String: "uses" [1196,1202]
                                    STRING [1203,1230]
                                        String: "./.github/actions/prepare" [1203,1230]
                                FIELD [1231,1332]
                                    String: "with" [1231,1237]
                                    OBJECT [1238,1332]
                                        FIELD [1239,1286]
                                            String: "python-version" [1239,1255]
                                            STRING [1256,1286]
                                                String: "${{ matrix.python-version }}" [1256,1286]
                                        FIELD [1287,1331]
                                            String: "poetry-version" [1287,1303]
                                            STRING [1304,1331]
                                                String: "${{ env.POETRY_VERSION }}" [1304,1331]
                            OBJECT [1334,2046]
                                FIELD [1335,1371]
                                    String: "name" [1335,1341]
                                    STRING [1342,1371]
                                        String: "Install Python dependencies" [1342,1371]
                                FIELD [1372,2045]
                                    String: "run" [1372,1377]
                                    STRING [1378,2045]
                                        String: "# Selectively install the optional dependencies for some Python versions\n# For Python 3.8:\nif [[ ${{ matrix.python-version }} == '3.8' ]]; then\n  poetry install -E \"nn omikuji yake voikko stwfsa\";\nfi\n# For Python 3.9:\nif [[ ${{ matrix.python-version }} == '3.9' ]]; then\n  poetry install -E \"fasttext spacy\";\n  # download the small English pretrained spaCy model needed by spacy analyzer\n  poetry run python -m spacy download en_core_web_sm --upgrade-strategy only-if-needed\nfi\n# For Python 3.10:\nif [[ ${{ matrix.python-version }} == '3.10' ]]; then\n  poetry install -E \"nn omikuji yake stwfsa\";\nfi\npoetry run python -m nltk.downloader punkt\n" [1378,2045]
                            OBJECT [2047,2254]
                                FIELD [2048,2073]
                                    String: "name" [2048,2054]
                                    STRING [2055,2073]
                                        String: "Test with pytest" [2055,2073]
                                FIELD [2074,2253]
                                    String: "run" [2074,2079]
                                    STRING [2080,2253]
                                        String: "poetry run pytest --cov=./ --cov-report xml\nif [[ ${{ matrix.python-version }} == '3.9' ]]; then\n  poetry run pytest --cov=./ --cov-report xml --cov-append -m slow\nfi\n" [2080,2253]
                            OBJECT [2255,2365]
                                FIELD [2256,2291]
                                    String: "name" [2256,2262]
                                    STRING [2263,2291]
                                        String: "Upload coverage to Codecov" [2263,2291]
                                FIELD [2292,2364]
                                    String: "uses" [2292,2298]
                                    STRING [2299,2364]
                                        String: "codecov/codecov-action@81cd2dc8148241f03f5839d295e000b8f761e378" [2299,2364]
                            OBJECT [2366,2794]
                                FIELD [2367,2386]
                                    String: "name" [2367,2373]
                                    STRING [2374,2386]
                                        String: "Save cache" [2374,2386]
                                FIELD [2387,2560]
                                    String: "if" [2387,2391]
                                    STRING [2392,2560]
                                        String: "steps.prepare.outputs.cache-matched-key != format('poetry-installation-and-cache-{0}-{1}-{2}', matrix.python-version, env.POETRY_VERSION, hashFiles('**/poetry.lock'))" [2392,2560]
                                FIELD [2561,2591]
                                    String: "uses" [2561,2567]
                                    STRING [2568,2591]
                                        String: "actions/cache/save@v3" [2568,2591]
                                FIELD [2592,2793]
                                    String: "with" [2592,2598]
                                    OBJECT [2599,2793]
                                        FIELD [2600,2664]
                                            String: "path" [2600,2606]
                                            STRING [2607,2664]
                                                String: "~/.cache/pipx/venvs\n~/.local/bin\n~/.cache/pypoetry/\n" [2607,2664]
                                        FIELD [2665,2792]
                                            String: "key" [2665,2670]
                                            STRING [2671,2792]
                                                String: "poetry-installation-and-cache-${{ matrix.python-version }}-${{ env.POETRY_VERSION }}-${{ hashFiles('**/poetry.lock') }}" [2671,2792]
            FIELD [2797,3661]
                String: "publish-docker-latest" [2797,2820]
                OBJECT [2821,3661]
                    FIELD [2822,2858]
                        String: "name" [2822,2828]
                        STRING [2829,2858]
                            String: "publish latest Docker image" [2829,2858]
                    FIELD [2859,2882]
                        String: "needs" [2859,2866]
                        ARRAY [2867,2882]
                            STRING [2868,2874]
                                String: "lint" [2868,2874]
                            STRING [2875,2881]
                                String: "test" [2875,2881]
                    FIELD [2883,2907]
                        String: "runs-on" [2883,2892]
                        STRING [2893,2907]
                            String: "ubuntu-22.04" [2893,2907]
                    FIELD [2908,2928]
                        String: "timeout-minutes" [2908,2925]
                        NUMBER [2926,2928]
                            Number: 15 [2926,2928]
                    FIELD [2929,2998]
                        String: "if" [2929,2933]
                        STRING [2934,2998]
                            String: "github.event_name == 'push' && github.ref == 'refs/heads/main'" [2934,2998]
                    FIELD [2999,3660]
                        String: "steps" [2999,3006]
                        ARRAY [3007,3660]
                            OBJECT [3008,3273]
                                FIELD [3009,3034]
                                    String: "name" [3009,3015]
                                    STRING [3016,3034]
                                        String: "Login to Quay.io" [3016,3034]
                                FIELD [3035,3104]
                                    String: "uses" [3035,3041]
                                    STRING [3042,3104]
                                        String: "docker/login-action@f4ef78c080cd8ba55a85445d5b36e214a81df20a" [3042,3104]
                                FIELD [3105,3272]
                                    String: "with" [3105,3111]
                                    OBJECT [3112,3272]
                                        FIELD [3113,3133]
                                            String: "registry" [3113,3123]
                                            STRING [3124,3133]
                                                String: "quay.io" [3124,3133]
                                        FIELD [3134,3202]
                                            String: "username" [3134,3144]
                                            STRING [3145,3202]
                                                String: "${{ secrets.YHTEENTOIMIVUUSPALVELUT_QUAY_IO_USERNAME }}" [3145,3202]
                                        FIELD [3203,3271]
                                            String: "password" [3203,3213]
                                            STRING [3214,3271]
                                                String: "${{ secrets.YHTEENTOIMIVUUSPALVELUT_QUAY_IO_PASSWORD }}" [3214,3271]
                            OBJECT [3274,3442]
                                FIELD [3275,3295]
                                    String: "name" [3275,3281]
                                    STRING [3282,3295]
                                        String: "Docker meta" [3282,3295]
                                FIELD [3296,3307]
                                    String: "id" [3296,3300]
                                    STRING [3301,3307]
                                        String: "meta" [3301,3307]
                                FIELD [3308,3380]
                                    String: "uses" [3308,3314]
                                    STRING [3315,3380]
                                        String: "docker/metadata-action@57396166ad8aefe6098280995947635806a0e6ea" [3315,3380]
                                FIELD [3381,3441]
                                    String: "with" [3381,3387]
                                    OBJECT [3388,3441]
                                        FIELD [3389,3422]
                                            String: "images" [3389,3397]
                                            STRING [3398,3422]
                                                String: "quay.io/natlibfi/annif" [3398,3422]
                                        FIELD [3423,3440]
                                            String: "tags" [3423,3429]
                                            STRING [3430,3440]
                                                String: "latest\n" [3430,3440]
                            OBJECT [3443,3659]
                                FIELD [3444,3478]
                                    String: "name" [3444,3450]
                                    STRING [3451,3478]
                                        String: "Build and push to Quay.io" [3451,3478]
                                FIELD [3479,3553]
                                    String: "uses" [3479,3485]
                                    STRING [3486,3553]
                                        String: "docker/build-push-action@c56af957549030174b10d6867f20e78cfd7debc5" [3486,3553]
                                FIELD [3554,3658]
                                    String: "with" [3554,3560]
                                    OBJECT [3561,3658]
                                        FIELD [3562,3573]
                                            String: "push" [3562,3568]
                                            TRUE [3569,3573]
                                        FIELD [3574,3613]
                                            String: "tags" [3574,3580]
                                            STRING [3581,3613]
                                                String: "${{ steps.meta.outputs.tags }}" [3581,3613]
                                        FIELD [3614,3657]
                                            String: "labels" [3614,3622]
                                            STRING [3623,3657]
                                                String: "${{ steps.meta.outputs.labels }}" [3623,3657]
            FIELD [3662,4969]
                String: "publish-release" [3662,3679]
                OBJECT [3680,4969]
                    FIELD [3681,3705]
                        String: "name" [3681,3687]
                        STRING [3688,3705]
                            String: "publish release" [3688,3705]
                    FIELD [3706,3729]
                        String: "needs" [3706,3713]
                        ARRAY [3714,3729]
                            STRING [3715,3721]
                                String: "lint" [3715,3721]
                            STRING [3722,3728]
                                String: "test" [3722,3728]
                    FIELD [3730,3754]
                        String: "runs-on" [3730,3739]
                        STRING [3740,3754]
                            String: "ubuntu-22.04" [3740,3754]
                    FIELD [3755,3827]
                        String: "if" [3755,3759]
                        STRING [3760,3827]
                            String: "github.event_name == 'push' && contains(github.ref, 'refs/tags/')" [3760,3827]
                    FIELD [3828,4968]
                        String: "steps" [3828,3835]
                        ARRAY [3836,4968]
                            OBJECT [3837,3867]
                                FIELD [3838,3866]
                                    String: "uses" [3838,3844]
                                    STRING [3845,3866]
                                        String: "actions/checkout@v3" [3845,3866]
                            OBJECT [3868,4046]
                                FIELD [3869,3932]
                                    String: "name" [3869,3875]
                                    STRING [3876,3932]
                                        String: "Prepare: restore caches, install Poetry, set up Python" [3876,3932]
                                FIELD [3933,3967]
                                    String: "uses" [3933,3939]
                                    STRING [3940,3967]
                                        String: "./.github/actions/prepare" [3940,3967]
                                FIELD [3968,4045]
                                    String: "with" [3968,3974]
                                    OBJECT [3975,4045]
                                        FIELD [3976,3999]
                                            String: "python-version" [3976,3992]
                                            STRING [3993,3999]
                                                String: "3.10" [3993,3999]
                                        FIELD [4000,4044]
                                            String: "poetry-version" [4000,4016]
                                            STRING [4017,4044]
                                                String: "${{ env.POETRY_VERSION }}" [4017,4044]
                            OBJECT [4047,4249]
                                FIELD [4048,4095]
                                    String: "name" [4048,4054]
                                    STRING [4055,4095]
                                        String: "Build and publish distribution to PyPI" [4055,4095]
                                FIELD [4096,4215]
                                    String: "env" [4096,4101]
                                    OBJECT [4102,4215]
                                        FIELD [4103,4148]
                                            String: "POETRY_HTTP_BASIC_PYPI_USERNAME" [4103,4136]
                                            STRING [4137,4148]
                                                String: "__token__" [4137,4148]
                                        FIELD [4149,4214]
                                            String: "POETRY_HTTP_BASIC_PYPI_PASSWORD" [4149,4182]
                                            STRING [4183,4214]
                                                String: "${{ secrets.PYPI_API_TOKEN }}" [4183,4214]
                                FIELD [4216,4248]
                                    String: "run" [4216,4221]
                                    STRING [4222,4248]
                                        String: "poetry publish --build\n" [4222,4248]
                            OBJECT [4250,4515]
                                FIELD [4251,4276]
                                    String: "name" [4251,4257]
                                    STRING [4258,4276]
                                        String: "Login to Quay.io" [4258,4276]
                                FIELD [4277,4346]
                                    String: "uses" [4277,4283]
                                    STRING [4284,4346]
                                        String: "docker/login-action@f4ef78c080cd8ba55a85445d5b36e214a81df20a" [4284,4346]
                                FIELD [4347,4514]
                                    String: "with" [4347,4353]
                                    OBJECT [4354,4514]
                                        FIELD [4355,4375]
                                            String: "registry" [4355,4365]
                                            STRING [4366,4375]
                                                String: "quay.io" [4366,4375]
                                        FIELD [4376,4444]
                                            String: "username" [4376,4386]
                                            STRING [4387,4444]
                                                String: "${{ secrets.YHTEENTOIMIVUUSPALVELUT_QUAY_IO_USERNAME }}" [4387,4444]
                                        FIELD [4445,4513]
                                            String: "password" [4445,4455]
                                            STRING [4456,4513]
                                                String: "${{ secrets.YHTEENTOIMIVUUSPALVELUT_QUAY_IO_PASSWORD }}" [4456,4513]
                            OBJECT [4516,4750]
                                FIELD [4517,4537]
                                    String: "name" [4517,4523]
                                    STRING [4524,4537]
                                        String: "Docker meta" [4524,4537]
                                FIELD [4538,4549]
                                    String: "id" [4538,4542]
                                    STRING [4543,4549]
                                        String: "meta" [4543,4549]
                                FIELD [4550,4622]
                                    String: "uses" [4550,4556]
                                    STRING [4557,4622]
                                        String: "docker/metadata-action@57396166ad8aefe6098280995947635806a0e6ea" [4557,4622]
                                FIELD [4623,4749]
                                    String: "with" [4623,4629]
                                    OBJECT [4630,4749]
                                        FIELD [4631,4664]
                                            String: "images" [4631,4639]
                                            STRING [4640,4664]
                                                String: "quay.io/natlibfi/annif" [4640,4664]
                                        FIELD [4665,4748]
                                            String: "tags" [4665,4671]
                                            STRING [4672,4748]
                                                String: "type=semver,pattern={{version}}\ntype=semver,pattern={{major}}.{{minor}}\n" [4672,4748]
                            OBJECT [4751,4967]
                                FIELD [4752,4786]
                                    String: "name" [4752,4758]
                                    STRING [4759,4786]
                                        String: "Build and push to Quay.io" [4759,4786]
                                FIELD [4787,4861]
                                    String: "uses" [4787,4793]
                                    STRING [4794,4861]
                                        String: "docker/build-push-action@c56af957549030174b10d6867f20e78cfd7debc5" [4794,4861]
                                FIELD [4862,4966]
                                    String: "with" [4862,4868]
                                    OBJECT [4869,4966]
                                        FIELD [4870,4881]
                                            String: "push" [4870,4876]
                                            TRUE [4877,4881]
                                        FIELD [4882,4921]
                                            String: "tags" [4882,4888]
                                            STRING [4889,4921]
                                                String: "${{ steps.meta.outputs.tags }}" [4889,4921]
                                        FIELD [4922,4965]
                                            String: "labels" [4922,4930]
                                            STRING [4931,4965]
                                                String: "${{ steps.meta.outputs.labels }}" [4931,4965]