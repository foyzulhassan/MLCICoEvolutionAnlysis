OBJECT [0,5843]
    FIELD [1,24]
        String: "name" [1,7]
        STRING [8,24]
            String: "OctoBot-Docker" [8,24]
    FIELD [25,101]
        String: "on" [25,29]
        OBJECT [30,101]
            FIELD [31,80]
                String: "push" [31,37]
                OBJECT [38,80]
                    FIELD [39,66]
                        String: "branches" [39,49]
                        ARRAY [50,66]
                            STRING [51,59]
                                String: "master" [51,59]
                            STRING [60,65]
                                String: "dev" [60,65]
                    FIELD [67,79]
                        String: "tags" [67,73]
                        ARRAY [74,79]
                            STRING [75,78]
                                String: "*" [75,78]
            FIELD [81,100]
                String: "pull_request" [81,95]
                NULL [96,100]
    FIELD [102,5842]
        String: "jobs" [102,108]
        OBJECT [109,5842]
            FIELD [110,374]
                String: "lint" [110,116]
                OBJECT [117,374]
                    FIELD [118,156]
                        String: "name" [118,124]
                        STRING [125,156]
                            String: "ubuntu-latest - Docker - lint" [125,156]
                    FIELD [157,182]
                        String: "runs-on" [157,166]
                        STRING [167,182]
                            String: "ubuntu-latest" [167,182]
                    FIELD [183,373]
                        String: "steps" [183,190]
                        ARRAY [191,373]
                            OBJECT [192,222]
                                FIELD [193,221]
                                    String: "uses" [193,199]
                                    STRING [200,221]
                                        String: "actions/checkout@v3" [200,221]
                            OBJECT [223,372]
                                FIELD [224,245]
                                    String: "name" [224,230]
                                    STRING [231,245]
                                        String: "Run hadolint" [231,245]
                                FIELD [246,283]
                                    String: "uses" [246,252]
                                    STRING [253,283]
                                        String: "reviewdog/action-hadolint@v1" [253,283]
                                FIELD [284,371]
                                    String: "with" [284,290]
                                    OBJECT [291,371]
                                        FIELD [292,336]
                                            String: "github_token" [292,306]
                                            STRING [307,336]
                                                String: "${{ secrets.github_token }}" [307,336]
                                        FIELD [337,370]
                                            String: "hadolint_ignore" [337,354]
                                            STRING [355,370]
                                                String: "DL3013 DL3008" [355,370]
            FIELD [375,5179]
                String: "build_test_push" [375,392]
                OBJECT [393,5179]
                    FIELD [394,408]
                        String: "needs" [394,401]
                        STRING [402,408]
                            String: "lint" [402,408]
                    FIELD [409,462]
                        String: "name" [409,415]
                        STRING [416,462]
                            String: "ubuntu-latest - Docker - build & test & push" [416,462]
                    FIELD [463,488]
                        String: "runs-on" [463,472]
                        STRING [473,488]
                            String: "ubuntu-latest" [473,488]
                    FIELD [489,5178]
                        String: "steps" [489,496]
                        ARRAY [497,5178]
                            OBJECT [498,528]
                                FIELD [499,527]
                                    String: "uses" [499,505]
                                    STRING [506,527]
                                        String: "actions/checkout@v3" [506,527]
                            OBJECT [529,1090]
                                FIELD [530,564]
                                    String: "name" [530,536]
                                    STRING [537,564]
                                        String: "Set Environment Variables" [537,564]
                                FIELD [565,1089]
                                    String: "run" [565,570]
                                    STRING [571,1089]
                                        String: "OWNER=\"$(echo \"${{ github.repository_owner }}\" | tr '[:upper:]' '[:lower:]' | tr -d '-')\"\nIMG=octobot\necho \"VERSION=${GITHUB_REF##*/}\" >> $GITHUB_ENV\necho \"IMAGE=${OWNER}/${IMG}\" >> $GITHUB_ENV\necho \"LATEST=latest\" >> $GITHUB_ENV\necho \"STABLE=stable\" >> $GITHUB_ENV\necho \"TEST=test\" >> $GITHUB_ENV\necho \"SHA=${GITHUB_SHA}\" >> $GITHUB_ENV\necho \"CONTAINER_NAME=octobot\" >> $GITHUB_ENV\necho \"CHECK_TENTACLE_CONTAINER_TIME=10\" >> $GITHUB_ENV\necho \"WAIT_CONTAINER_TIME=80\" >> $GITHUB_ENV\n" [571,1089]
                            OBJECT [1091,1447]
                                FIELD [1092,1119]
                                    String: "name" [1092,1098]
                                    STRING [1099,1119]
                                        String: "Wait for tentacles" [1099,1119]
                                FIELD [1120,1193]
                                    String: "if" [1120,1124]
                                    STRING [1125,1193]
                                        String: "github.event_name == 'push' && startsWith(github.ref, 'refs/tags')" [1125,1193]
                                FIELD [1194,1244]
                                    String: "uses" [1194,1200]
                                    STRING [1201,1244]
                                        String: "fountainhead/action-wait-for-check@v1.0.0" [1201,1244]
                                FIELD [1245,1270]
                                    String: "id" [1245,1249]
                                    STRING [1250,1270]
                                        String: "wait-for-tentacles" [1250,1270]
                                FIELD [1271,1446]
                                    String: "with" [1271,1277]
                                    OBJECT [1278,1446]
                                        FIELD [1279,1314]
                                            String: "token" [1279,1286]
                                            STRING [1287,1314]
                                                String: "${{ secrets.AUTH_TOKEN }}" [1287,1314]
                                        FIELD [1315,1370]
                                            String: "checkName" [1315,1326]
                                            STRING [1327,1370]
                                                String: "ubuntu-latestx64 - Python - 3.10 - Upload" [1327,1370]
                                        FIELD [1371,1396]
                                            String: "ref" [1371,1376]
                                            STRING [1377,1396]
                                                String: "${{ github.ref }}" [1377,1396]
                                        FIELD [1397,1423]
                                            String: "repo" [1397,1403]
                                            STRING [1404,1423]
                                                String: "OctoBot-Tentacles" [1404,1423]
                                        FIELD [1424,1445]
                                            String: "timeoutSeconds" [1424,1440]
                                            NUMBER [1441,1445]
                                                Number: 3600 [1441,1445]
                            OBJECT [1448,1642]
                                FIELD [1449,1492]
                                    String: "name" [1449,1455]
                                    STRING [1456,1492]
                                        String: "Trigger fail when Tentacles failed" [1456,1492]
                                FIELD [1493,1626]
                                    String: "if" [1493,1497]
                                    STRING [1498,1626]
                                        String: "github.event_name == 'push' && startsWith(github.ref, 'refs/tags') && steps.wait-for-tentacles.outputs.conclusion == 'failure'" [1498,1626]
                                FIELD [1627,1641]
                                    String: "run" [1627,1632]
                                    STRING [1633,1641]
                                        String: "exit 1" [1633,1641]
                            OBJECT [1643,1751]
                                FIELD [1644,1664]
                                    String: "name" [1644,1650]
                                    STRING [1651,1664]
                                        String: "Set up QEMU" [1651,1664]
                                FIELD [1665,1682]
                                    String: "id" [1665,1669]
                                    STRING [1670,1682]
                                        String: "qemu-setup" [1670,1682]
                                FIELD [1683,1723]
                                    String: "uses" [1683,1689]
                                    STRING [1690,1723]
                                        String: "docker/setup-qemu-action@master" [1690,1723]
                                FIELD [1724,1750]
                                    String: "with" [1724,1730]
                                    OBJECT [1731,1750]
                                        FIELD [1732,1749]
                                            String: "platforms" [1732,1743]
                                            STRING [1744,1749]
                                                String: "all" [1744,1749]
                            OBJECT [1752,1837]
                                FIELD [1753,1787]
                                    String: "name" [1753,1759]
                                    STRING [1760,1787]
                                        String: "Print available platforms" [1760,1787]
                                FIELD [1788,1836]
                                    String: "run" [1788,1793]
                                    STRING [1794,1836]
                                        String: "echo ${{ steps.qemu.outputs.platforms }}" [1794,1836]
                            OBJECT [1838,1974]
                                FIELD [1839,1868]
                                    String: "name" [1839,1845]
                                    STRING [1846,1868]
                                        String: "Set up Docker Buildx" [1846,1868]
                                FIELD [1869,1882]
                                    String: "id" [1869,1873]
                                    STRING [1874,1882]
                                        String: "buildx" [1874,1882]
                                FIELD [1883,1925]
                                    String: "uses" [1883,1889]
                                    STRING [1890,1925]
                                        String: "docker/setup-buildx-action@master" [1890,1925]
                                FIELD [1926,1973]
                                    String: "with" [1926,1932]
                                    OBJECT [1933,1973]
                                        FIELD [1934,1961]
                                            String: "driver" [1934,1942]
                                            STRING [1943,1961]
                                                String: "docker-container" [1943,1961]
                                        FIELD [1962,1972]
                                            String: "use" [1962,1967]
                                            TRUE [1968,1972]
                            OBJECT [1975,2162]
                                FIELD [1976,2004]
                                    String: "name" [1976,1982]
                                    STRING [1983,2004]
                                        String: "Cache Docker layers" [1983,2004]
                                FIELD [2005,2030]
                                    String: "uses" [2005,2011]
                                    STRING [2012,2030]
                                        String: "actions/cache@v2" [2012,2030]
                                FIELD [2031,2161]
                                    String: "with" [2031,2037]
                                    OBJECT [2038,2161]
                                        FIELD [2039,2066]
                                            String: "path" [2039,2045]
                                            STRING [2046,2066]
                                                String: "/tmp/.buildx-cache" [2046,2066]
                                        FIELD [2067,2116]
                                            String: "key" [2067,2072]
                                            STRING [2073,2116]
                                                String: "${{ runner.os }}-buildx-${{ github.sha }}" [2073,2116]
                                        FIELD [2117,2160]
                                            String: "restore-keys" [2117,2131]
                                            STRING [2132,2160]
                                                String: "${{ runner.os }}-buildx-\n" [2132,2160]
                            OBJECT [2163,2359]
                                FIELD [2164,2191]
                                    String: "name" [2164,2170]
                                    STRING [2171,2191]
                                        String: "Login to DockerHub" [2171,2191]
                                FIELD [2192,2226]
                                    String: "if" [2192,2196]
                                    STRING [2197,2226]
                                        String: "github.event_name == 'push'" [2197,2226]
                                FIELD [2227,2258]
                                    String: "uses" [2227,2233]
                                    STRING [2234,2258]
                                        String: "docker/login-action@v1" [2234,2258]
                                FIELD [2259,2358]
                                    String: "with" [2259,2265]
                                    OBJECT [2266,2358]
                                        FIELD [2267,2313]
                                            String: "username" [2267,2277]
                                            STRING [2278,2313]
                                                String: "${{ secrets.DOCKERHUB_USERNAME }}" [2278,2313]
                                        FIELD [2314,2357]
                                            String: "password" [2314,2324]
                                            STRING [2325,2357]
                                                String: "${{ secrets.DOCKERHUB_TOKEN }}" [2325,2357]
                            OBJECT [2360,2769]
                                FIELD [2361,2382]
                                    String: "name" [2361,2367]
                                    STRING [2368,2382]
                                        String: "Build latest" [2368,2382]
                                FIELD [2383,2417]
                                    String: "if" [2383,2387]
                                    STRING [2388,2417]
                                        String: "github.event_name != 'push'" [2388,2417]
                                FIELD [2418,2458]
                                    String: "uses" [2418,2424]
                                    STRING [2425,2458]
                                        String: "docker/build-push-action@master" [2425,2458]
                                FIELD [2459,2768]
                                    String: "with" [2459,2465]
                                    OBJECT [2466,2768]
                                        FIELD [2467,2480]
                                            String: "context" [2467,2476]
                                            STRING [2477,2480]
                                                String: "." [2477,2480]
                                        FIELD [2481,2525]
                                            String: "builder" [2481,2490]
                                            STRING [2491,2525]
                                                String: "${{ steps.buildx.outputs.name }}" [2491,2525]
                                        FIELD [2526,2551]
                                            String: "platforms" [2526,2537]
                                            STRING [2538,2551]
                                                String: "linux/amd64" [2538,2551]
                                        FIELD [2552,2563]
                                            String: "load" [2552,2558]
                                            TRUE [2559,2563]
                                        FIELD [2564,2576]
                                            String: "push" [2564,2570]
                                            FALSE [2571,2576]
                                        FIELD [2577,2617]
                                            String: "tags" [2577,2583]
                                            STRING [2584,2617]
                                                String: "${{ env.IMAGE }}:${{ env.SHA }}" [2584,2617]
                                        FIELD [2618,2670]
                                            String: "build-args" [2618,2630]
                                            STRING [2631,2670]
                                                String: "TENTACLES_URL_TAG=${{ env.LATEST }}\n" [2631,2670]
                                        FIELD [2671,2719]
                                            String: "cache-from" [2671,2683]
                                            STRING [2684,2719]
                                                String: "type=local,src=/tmp/.buildx-cache" [2684,2719]
                                        FIELD [2720,2767]
                                            String: "cache-to" [2720,2730]
                                            STRING [2731,2767]
                                                String: "type=local,dest=/tmp/.buildx-cache" [2731,2767]
                            OBJECT [2770,2984]
                                FIELD [2771,2807]
                                    String: "name" [2771,2777]
                                    STRING [2778,2807]
                                        String: "Docker build test container" [2778,2807]
                                FIELD [2808,2842]
                                    String: "if" [2808,2812]
                                    STRING [2813,2842]
                                        String: "github.event_name != 'push'" [2813,2842]
                                FIELD [2843,2983]
                                    String: "run" [2843,2848]
                                    STRING [2849,2983]
                                        String: "docker build -f ./tests/Dockerfile --build-arg OCTOBOT_IMAGE=${{ env.IMAGE }}:${{ env.SHA }} -t ${{ env.IMAGE }}:${{ env.TEST }} .\n" [2849,2983]
                            OBJECT [2985,3213]
                                FIELD [2986,3014]
                                    String: "name" [2986,2992]
                                    STRING [2993,3014]
                                        String: "run tests in docker" [2993,3014]
                                FIELD [3015,3049]
                                    String: "if" [3015,3019]
                                    STRING [3020,3049]
                                        String: "github.event_name != 'push'" [3020,3049]
                                FIELD [3050,3212]
                                    String: "run" [3050,3055]
                                    STRING [3056,3212]
                                        String: "docker run -i -e TENTACLES_REPOSITORY=dev-tentacles -e TENTACLES_URL_TAG=${GITHUB_HEAD_REF////_} -e DISABLE_SENTRY=True ${{ env.IMAGE }}:${{ env.TEST }}\n" [3056,3212]
                            OBJECT [3214,4178]
                                FIELD [3215,3256]
                                    String: "name" [3215,3221]
                                    STRING [3222,3256]
                                        String: "run and check health after start" [3222,3256]
                                FIELD [3257,3291]
                                    String: "if" [3257,3261]
                                    STRING [3262,3291]
                                        String: "github.event_name != 'push'" [3262,3291]
                                FIELD [3292,4177]
                                    String: "run" [3292,3297]
                                    STRING [3298,4177]
                                        String: "echo Start OctoBot docker with branche_name tentacles package\ndocker run -id -e TENTACLES_REPOSITORY=dev-tentacles -e TENTACLES_URL_TAG=${GITHUB_HEAD_REF////_} -e DISABLE_SENTRY=True --name ${{ env.CONTAINER_NAME }} ${{ env.IMAGE }}:${{ env.LATEST }}\nsleep ${{ env.CHECK_TENTACLE_CONTAINER_TIME }}\nif docker logs ${{ env.CONTAINER_NAME }} | grep \"octobot_tentacles_manager.api.util.tentacles_management Failed to download file at url :\" ; then\n    docker rm -f ${{ env.CONTAINER_NAME }}\n    echo Restarting docker with latest tentacle package...\n    docker run -id -e TENTACLES_URL_TAG=${{ env.LATEST }} -e DISABLE_SENTRY=True --name ${{ env.CONTAINER_NAME }} ${{ env.IMAGE }}:${{ env.LATEST }}\nfi\nsleep ${{ env.WAIT_CONTAINER_TIME }}\ndocker logs ${{ env.CONTAINER_NAME }}\ndocker inspect ${{ env.CONTAINER_NAME }} | jq '.[].State.Health.Status' | grep \"healthy\"\n" [3298,4177]
                            OBJECT [4179,4673]
                                FIELD [4180,4210]
                                    String: "name" [4180,4186]
                                    STRING [4187,4210]
                                        String: "Build and push latest" [4187,4210]
                                FIELD [4211,4319]
                                    String: "if" [4211,4215]
                                    STRING [4216,4319]
                                        String: "github.event_name == 'push' && !startsWith(github.ref, 'refs/tags') && github.ref == 'refs/heads/dev'" [4216,4319]
                                FIELD [4320,4360]
                                    String: "uses" [4320,4326]
                                    STRING [4327,4360]
                                        String: "docker/build-push-action@master" [4327,4360]
                                FIELD [4361,4672]
                                    String: "with" [4361,4367]
                                    OBJECT [4368,4672]
                                        FIELD [4369,4382]
                                            String: "context" [4369,4378]
                                            STRING [4379,4382]
                                                String: "." [4379,4382]
                                        FIELD [4383,4427]
                                            String: "builder" [4383,4392]
                                            STRING [4393,4427]
                                                String: "${{ steps.buildx.outputs.name }}" [4393,4427]
                                        FIELD [4428,4465]
                                            String: "platforms" [4428,4439]
                                            STRING [4440,4465]
                                                String: "linux/amd64,linux/arm64" [4440,4465]
                                        FIELD [4466,4477]
                                            String: "push" [4466,4472]
                                            TRUE [4473,4477]
                                        FIELD [4478,4521]
                                            String: "tags" [4478,4484]
                                            STRING [4485,4521]
                                                String: "${{ env.IMAGE }}:${{ env.LATEST }}" [4485,4521]
                                        FIELD [4522,4574]
                                            String: "build-args" [4522,4534]
                                            STRING [4535,4574]
                                                String: "TENTACLES_URL_TAG=${{ env.LATEST }}\n" [4535,4574]
                                        FIELD [4575,4623]
                                            String: "cache-from" [4575,4587]
                                            STRING [4588,4623]
                                                String: "type=local,src=/tmp/.buildx-cache" [4588,4623]
                                        FIELD [4624,4671]
                                            String: "cache-to" [4624,4634]
                                            STRING [4635,4671]
                                                String: "type=local,dest=/tmp/.buildx-cache" [4635,4671]
                            OBJECT [4674,5177]
                                FIELD [4675,4705]
                                    String: "name" [4675,4681]
                                    STRING [4682,4705]
                                        String: "Build and push on tag" [4682,4705]
                                FIELD [4706,4779]
                                    String: "if" [4706,4710]
                                    STRING [4711,4779]
                                        String: "github.event_name == 'push' && startsWith(github.ref, 'refs/tags')" [4711,4779]
                                FIELD [4780,4820]
                                    String: "uses" [4780,4786]
                                    STRING [4787,4820]
                                        String: "docker/build-push-action@master" [4787,4820]
                                FIELD [4821,5176]
                                    String: "with" [4821,4827]
                                    OBJECT [4828,5176]
                                        FIELD [4829,4842]
                                            String: "context" [4829,4838]
                                            STRING [4839,4842]
                                                String: "." [4839,4842]
                                        FIELD [4843,4864]
                                            String: "file" [4843,4849]
                                            STRING [4850,4864]
                                                String: "./Dockerfile" [4850,4864]
                                        FIELD [4865,4909]
                                            String: "builder" [4865,4874]
                                            STRING [4875,4909]
                                                String: "${{ steps.buildx.outputs.name }}" [4875,4909]
                                        FIELD [4910,4947]
                                            String: "platforms" [4910,4921]
                                            STRING [4922,4947]
                                                String: "linux/amd64,linux/arm64" [4922,4947]
                                        FIELD [4948,4959]
                                            String: "push" [4948,4954]
                                            TRUE [4955,4959]
                                        FIELD [4960,5078]
                                            String: "tags" [4960,4966]
                                            STRING [4967,5078]
                                                String: "${{ env.IMAGE }}:${{ env.LATEST }}\n${{ env.IMAGE }}:${{ env.STABLE }}\n${{ env.IMAGE }}:${{ env.VERSION }}\n" [4967,5078]
                                        FIELD [5079,5127]
                                            String: "cache-from" [5079,5091]
                                            STRING [5092,5127]
                                                String: "type=local,src=/tmp/.buildx-cache" [5092,5127]
                                        FIELD [5128,5175]
                                            String: "cache-to" [5128,5138]
                                            STRING [5139,5175]
                                                String: "type=local,dest=/tmp/.buildx-cache" [5139,5175]
            FIELD [5180,5413]
                String: "notify" [5180,5188]
                OBJECT [5189,5413]
                    FIELD [5190,5213]
                        String: "if" [5190,5194]
                        STRING [5195,5213]
                            String: "${{ failure() }}" [5195,5213]
                    FIELD [5214,5248]
                        String: "needs" [5214,5221]
                        ARRAY [5222,5248]
                            STRING [5223,5229]
                                String: "lint" [5223,5229]
                            STRING [5230,5247]
                                String: "build_test_push" [5230,5247]
                    FIELD [5249,5335]
                        String: "uses" [5249,5255]
                        STRING [5256,5335]
                            String: "Drakkar-Software/.github/.github/workflows/failure_notify_workflow.yml@master" [5256,5335]
                    FIELD [5336,5412]
                        String: "secrets" [5336,5345]
                        OBJECT [5346,5412]
                            FIELD [5347,5411]
                                String: "DISCORD_GITHUB_WEBHOOK" [5347,5371]
                                STRING [5372,5411]
                                    String: "${{ secrets.DISCORD_GITHUB_WEBHOOK }}" [5372,5411]
            FIELD [5414,5841]
                String: "notify-dockerhub-update" [5414,5439]
                OBJECT [5440,5841]
                    FIELD [5441,5514]
                        String: "if" [5441,5445]
                        STRING [5446,5514]
                            String: "github.event_name == 'push' && startsWith(github.ref, 'refs/tags')" [5446,5514]
                    FIELD [5515,5547]
                        String: "name" [5515,5521]
                        STRING [5522,5547]
                            String: "Notify dockerhub update" [5522,5547]
                    FIELD [5548,5573]
                        String: "runs-on" [5548,5557]
                        STRING [5558,5573]
                            String: "ubuntu-latest" [5558,5573]
                    FIELD [5574,5608]
                        String: "needs" [5574,5581]
                        ARRAY [5582,5608]
                            STRING [5583,5589]
                                String: "lint" [5583,5589]
                            STRING [5590,5607]
                                String: "build_test_push" [5590,5607]
                    FIELD [5609,5840]
                        String: "steps" [5609,5616]
                        ARRAY [5617,5840]
                            OBJECT [5618,5839]
                                FIELD [5619,5642]
                                    String: "name" [5619,5625]
                                    STRING [5626,5642]
                                        String: "Notify discord" [5626,5642]
                                FIELD [5643,5685]
                                    String: "uses" [5643,5649]
                                    STRING [5650,5685]
                                        String: "sarisia/actions-status-discord@v1" [5650,5685]
                                FIELD [5686,5838]
                                    String: "with" [5686,5692]
                                    OBJECT [5693,5838]
                                        FIELD [5694,5787]
                                            String: "description" [5694,5707]
                                            STRING [5708,5787]
                                                String: "@here a new tag has been published on Docker Hub, docker bots can be updated." [5708,5787]
                                        FIELD [5788,5837]
                                            String: "webhook" [5788,5797]
                                            STRING [5798,5837]
                                                String: "${{ secrets.DISCORD_GITHUB_WEBHOOK }}" [5798,5837]