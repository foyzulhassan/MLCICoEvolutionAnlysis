OBJECT [0,3363]
    FIELD [1,40]
        String: "name" [1,7]
        STRING [8,40]
            String: "Self-hosted runner (scheduled)" [8,40]
    FIELD [41,137]
        String: "on" [41,45]
        OBJECT [46,137]
            FIELD [47,75]
                String: "push" [47,53]
                OBJECT [54,75]
                    FIELD [55,74]
                        String: "branches" [55,65]
                        ARRAY [66,74]
                            STRING [67,73]
                                String: "ci_*" [67,73]
            FIELD [76,102]
                String: "repository_dispatch" [76,97]
                NULL [98,102]
            FIELD [103,136]
                String: "schedule" [103,113]
                ARRAY [114,136]
                    OBJECT [115,135]
                        FIELD [116,134]
                            String: "cron" [116,122]
                            STRING [123,134]
                                String: "0 0 * * *" [123,134]
    FIELD [138,3362]
        String: "jobs" [138,144]
        OBJECT [145,3362]
            FIELD [146,1747]
                String: "run_all_tests_torch_and_tf_gpu" [146,178]
                OBJECT [179,1747]
                    FIELD [180,218]
                        String: "runs-on" [180,189]
                        ARRAY [190,218]
                            STRING [191,204]
                                String: "self-hosted" [191,204]
                            STRING [205,217]
                                String: "single-gpu" [205,217]
                    FIELD [219,1746]
                        String: "steps" [219,226]
                        ARRAY [227,1746]
                            OBJECT [228,258]
                                FIELD [229,257]
                                    String: "uses" [229,235]
                                    STRING [236,257]
                                        String: "actions/checkout@v2" [236,257]
                            OBJECT [259,410]
                                FIELD [260,283]
                                    String: "name" [260,266]
                                    STRING [267,283]
                                        String: "Loading cache." [267,283]
                                FIELD [284,309]
                                    String: "uses" [284,290]
                                    STRING [291,309]
                                        String: "actions/cache@v2" [291,309]
                                FIELD [310,322]
                                    String: "id" [310,314]
                                    STRING [315,322]
                                        String: "cache" [315,322]
                                FIELD [323,409]
                                    String: "with" [323,329]
                                    OBJECT [330,409]
                                        FIELD [331,344]
                                            String: "path" [331,337]
                                            STRING [338,344]
                                                String: ".env" [338,344]
                                        FIELD [345,408]
                                            String: "key" [345,350]
                                            STRING [351,408]
                                                String: "v0-slow_tests_tf_torch_gpu-${{ hashFiles('setup.py') }}" [351,408]
                            OBJECT [411,492]
                                FIELD [412,435]
                                    String: "name" [412,418]
                                    STRING [419,435]
                                        String: "Python version" [419,435]
                                FIELD [436,491]
                                    String: "run" [436,441]
                                    STRING [442,491]
                                        String: "which python\npython --version\npip --version\n" [442,491]
                            OBJECT [493,527]
                                FIELD [494,514]
                                    String: "name" [494,500]
                                    STRING [501,514]
                                        String: "Current dir" [501,514]
                                FIELD [515,526]
                                    String: "run" [515,520]
                                    STRING [521,526]
                                        String: "pwd" [521,526]
                            OBJECT [528,548]
                                FIELD [529,547]
                                    String: "run" [529,534]
                                    STRING [535,547]
                                        String: "nvidia-smi" [535,547]
                            OBJECT [549,794]
                                FIELD [550,643]
                                    String: "name" [550,556]
                                    STRING [557,643]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [557,643]
                                FIELD [644,690]
                                    String: "if" [644,648]
                                    STRING [649,690]
                                        String: "steps.cache.outputs.cache-hit != 'true'" [649,690]
                                FIELD [691,793]
                                    String: "run" [691,696]
                                    STRING [697,793]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [697,793]
                            OBJECT [795,1015]
                                FIELD [796,825]
                                    String: "name" [796,802]
                                    STRING [803,825]
                                        String: "Install dependencies" [803,825]
                                FIELD [826,1014]
                                    String: "run" [826,831]
                                    STRING [832,1014]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install torch!=1.6.0\npip install .[sklearn,testing,onnxruntime]\npip install git+https://github.com/huggingface/datasets\n" [832,1014]
                            OBJECT [1016,1274]
                                FIELD [1017,1066]
                                    String: "name" [1017,1023]
                                    STRING [1024,1066]
                                        String: "Are GPUs recognized by our DL frameworks" [1024,1066]
                                FIELD [1067,1273]
                                    String: "run" [1067,1072]
                                    STRING [1073,1273]
                                        String: "source .env/bin/activate\npython -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [1073,1273]
                            OBJECT [1275,1486]
                                FIELD [1276,1305]
                                    String: "name" [1276,1282]
                                    STRING [1283,1305]
                                        String: "Run all tests on GPU" [1283,1305]
                                FIELD [1306,1384]
                                    String: "env" [1306,1311]
                                    OBJECT [1312,1384]
                                        FIELD [1313,1347]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [1313,1340]
                                            STRING [1341,1347]
                                                String: "true" [1341,1347]
                                        FIELD [1348,1367]
                                            String: "OMP_NUM_THREADS" [1348,1365]
                                            NUMBER [1366,1367]
                                                Number: 1 [1366,1367]
                                        FIELD [1368,1383]
                                            String: "RUN_SLOW" [1368,1378]
                                            TRUE [1379,1383]
                                FIELD [1385,1485]
                                    String: "run" [1385,1390]
                                    STRING [1391,1485]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s ./tests/ --durations=50\n" [1391,1485]
                            OBJECT [1487,1745]
                                FIELD [1488,1522]
                                    String: "name" [1488,1494]
                                    STRING [1495,1522]
                                        String: "Run examples tests on GPU" [1495,1522]
                                FIELD [1523,1601]
                                    String: "env" [1523,1528]
                                    OBJECT [1529,1601]
                                        FIELD [1530,1564]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [1530,1557]
                                            STRING [1558,1564]
                                                String: "true" [1558,1564]
                                        FIELD [1565,1584]
                                            String: "OMP_NUM_THREADS" [1565,1582]
                                            NUMBER [1583,1584]
                                                Number: 1 [1583,1584]
                                        FIELD [1585,1600]
                                            String: "RUN_SLOW" [1585,1595]
                                            TRUE [1596,1600]
                                FIELD [1602,1744]
                                    String: "run" [1602,1607]
                                    STRING [1608,1744]
                                        String: "source .env/bin/activate\npip install -r examples/requirements.txt\npython -m pytest -n 1 --dist=loadfile -s examples --durations=50\n" [1608,1744]
            FIELD [1748,3361]
                String: "run_all_tests_torch_and_tf_multiple_gpu" [1748,1789]
                OBJECT [1790,3361]
                    FIELD [1791,1828]
                        String: "runs-on" [1791,1800]
                        ARRAY [1801,1828]
                            STRING [1802,1815]
                                String: "self-hosted" [1802,1815]
                            STRING [1816,1827]
                                String: "multi-gpu" [1816,1827]
                    FIELD [1829,3360]
                        String: "steps" [1829,1836]
                        ARRAY [1837,3360]
                            OBJECT [1838,1868]
                                FIELD [1839,1867]
                                    String: "uses" [1839,1845]
                                    STRING [1846,1867]
                                        String: "actions/checkout@v2" [1846,1867]
                            OBJECT [1869,2026]
                                FIELD [1870,1893]
                                    String: "name" [1870,1876]
                                    STRING [1877,1893]
                                        String: "Loading cache." [1877,1893]
                                FIELD [1894,1919]
                                    String: "uses" [1894,1900]
                                    STRING [1901,1919]
                                        String: "actions/cache@v2" [1901,1919]
                                FIELD [1920,1932]
                                    String: "id" [1920,1924]
                                    STRING [1925,1932]
                                        String: "cache" [1925,1932]
                                FIELD [1933,2025]
                                    String: "with" [1933,1939]
                                    OBJECT [1940,2025]
                                        FIELD [1941,1954]
                                            String: "path" [1941,1947]
                                            STRING [1948,1954]
                                                String: ".env" [1948,1954]
                                        FIELD [1955,2024]
                                            String: "key" [1955,1960]
                                            STRING [1961,2024]
                                                String: "v0-slow_tests_tf_torch_multi_gpu-${{ hashFiles('setup.py') }}" [1961,2024]
                            OBJECT [2027,2108]
                                FIELD [2028,2051]
                                    String: "name" [2028,2034]
                                    STRING [2035,2051]
                                        String: "Python version" [2035,2051]
                                FIELD [2052,2107]
                                    String: "run" [2052,2057]
                                    STRING [2058,2107]
                                        String: "which python\npython --version\npip --version\n" [2058,2107]
                            OBJECT [2109,2143]
                                FIELD [2110,2130]
                                    String: "name" [2110,2116]
                                    STRING [2117,2130]
                                        String: "Current dir" [2117,2130]
                                FIELD [2131,2142]
                                    String: "run" [2131,2136]
                                    STRING [2137,2142]
                                        String: "pwd" [2137,2142]
                            OBJECT [2144,2164]
                                FIELD [2145,2163]
                                    String: "run" [2145,2150]
                                    STRING [2151,2163]
                                        String: "nvidia-smi" [2151,2163]
                            OBJECT [2165,2410]
                                FIELD [2166,2259]
                                    String: "name" [2166,2172]
                                    STRING [2173,2259]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [2173,2259]
                                FIELD [2260,2306]
                                    String: "if" [2260,2264]
                                    STRING [2265,2306]
                                        String: "steps.cache.outputs.cache-hit != 'true'" [2265,2306]
                                FIELD [2307,2409]
                                    String: "run" [2307,2312]
                                    STRING [2313,2409]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [2313,2409]
                            OBJECT [2411,2631]
                                FIELD [2412,2441]
                                    String: "name" [2412,2418]
                                    STRING [2419,2441]
                                        String: "Install dependencies" [2419,2441]
                                FIELD [2442,2630]
                                    String: "run" [2442,2447]
                                    STRING [2448,2630]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install torch!=1.6.0\npip install .[sklearn,testing,onnxruntime]\npip install git+https://github.com/huggingface/datasets\n" [2448,2630]
                            OBJECT [2632,2890]
                                FIELD [2633,2682]
                                    String: "name" [2633,2639]
                                    STRING [2640,2682]
                                        String: "Are GPUs recognized by our DL frameworks" [2640,2682]
                                FIELD [2683,2889]
                                    String: "run" [2683,2688]
                                    STRING [2689,2889]
                                        String: "source .env/bin/activate\npython -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [2689,2889]
                            OBJECT [2891,3102]
                                FIELD [2892,2921]
                                    String: "name" [2892,2898]
                                    STRING [2899,2921]
                                        String: "Run all tests on GPU" [2899,2921]
                                FIELD [2922,3000]
                                    String: "env" [2922,2927]
                                    OBJECT [2928,3000]
                                        FIELD [2929,2963]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [2929,2956]
                                            STRING [2957,2963]
                                                String: "true" [2957,2963]
                                        FIELD [2964,2983]
                                            String: "OMP_NUM_THREADS" [2964,2981]
                                            NUMBER [2982,2983]
                                                Number: 1 [2982,2983]
                                        FIELD [2984,2999]
                                            String: "RUN_SLOW" [2984,2994]
                                            TRUE [2995,2999]
                                FIELD [3001,3101]
                                    String: "run" [3001,3006]
                                    STRING [3007,3101]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s ./tests/ --durations=50\n" [3007,3101]
                            OBJECT [3103,3359]
                                FIELD [3104,3138]
                                    String: "name" [3104,3110]
                                    STRING [3111,3138]
                                        String: "Run examples tests on GPU" [3111,3138]
                                FIELD [3139,3217]
                                    String: "env" [3139,3144]
                                    OBJECT [3145,3217]
                                        FIELD [3146,3180]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [3146,3173]
                                            STRING [3174,3180]
                                                String: "true" [3174,3180]
                                        FIELD [3181,3200]
                                            String: "OMP_NUM_THREADS" [3181,3198]
                                            NUMBER [3199,3200]
                                                Number: 1 [3199,3200]
                                        FIELD [3201,3216]
                                            String: "RUN_SLOW" [3201,3211]
                                            TRUE [3212,3216]
                                FIELD [3218,3358]
                                    String: "run" [3218,3223]
                                    STRING [3224,3358]
                                        String: "source .env/bin/activate\npip install -r examples/requirements.txt\npython -m pytest -n 1 --dist=loadfile -s examples --durations=50" [3224,3358]