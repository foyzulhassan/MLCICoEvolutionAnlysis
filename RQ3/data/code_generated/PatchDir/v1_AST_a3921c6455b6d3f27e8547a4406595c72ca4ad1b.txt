OBJECT [0,1937]
    FIELD [1,23]
        String: "name" [1,7]
        STRING [8,23]
            String: "Remove Images" [8,23]
    FIELD [24,87]
        String: "on" [24,28]
        OBJECT [29,87]
            FIELD [30,86]
                String: "push" [30,36]
                OBJECT [37,86]
                    FIELD [38,85]
                        String: "paths" [38,45]
                        ARRAY [46,85]
                            STRING [47,84]
                                String: ".github/workflows/remove_images.yml" [47,84]
    FIELD [88,1936]
        String: "jobs" [88,94]
        OBJECT [95,1936]
            FIELD [96,1935]
                String: "remove_images" [96,111]
                OBJECT [112,1935]
                    FIELD [113,138]
                        String: "runs-on" [113,122]
                        STRING [123,138]
                            String: "ubuntu-latest" [123,138]
                    FIELD [139,1934]
                        String: "steps" [139,146]
                        ARRAY [147,1934]
                            OBJECT [148,235]
                                FIELD [149,171]
                                    String: "name" [149,155]
                                    STRING [156,171]
                                        String: "Set up Python" [156,171]
                                FIELD [172,204]
                                    String: "uses" [172,178]
                                    STRING [179,204]
                                        String: "actions/setup-python@v2" [179,204]
                                FIELD [205,234]
                                    String: "with" [205,211]
                                    OBJECT [212,234]
                                        FIELD [213,233]
                                            String: "python-version" [213,229]
                                            NUMBER [230,233]
                                                Number: 3.8 [230,233]
                            OBJECT [236,368]
                                FIELD [237,269]
                                    String: "name" [237,243]
                                    STRING [244,269]
                                        String: "Install git-filter-repo" [244,269]
                                FIELD [270,292]
                                    String: "shell" [270,277]
                                    STRING [278,292]
                                        String: "bash -xe {0}" [278,292]
                                FIELD [293,367]
                                    String: "run" [293,298]
                                    STRING [299,367]
                                        String: "pip install -U pip setuptools wheel\npip install git-filter-repo\n" [299,367]
                            OBJECT [369,1933]
                                FIELD [370,398]
                                    String: "name" [370,376]
                                    STRING [377,398]
                                        String: "Run git-filter-repo" [377,398]
                                FIELD [399,580]
                                    String: "env" [399,404]
                                    OBJECT [405,580]
                                        FIELD [406,449]
                                            String: "REPO_URL" [406,416]
                                            STRING [417,449]
                                                String: "https://github.com/intel/dffml" [417,449]
                                        FIELD [450,469]
                                            String: "BRANCH" [450,458]
                                            STRING [459,469]
                                                String: "gh-pages" [459,469]
                                        FIELD [470,522]
                                            String: "GIT_FILTER_REPO_PATHS" [470,493]
                                            STRING [494,522]
                                                String: "/tmp/git-filter-repo-paths" [494,522]
                                        FIELD [523,579]
                                            String: "SSH_DFFML_GH_PAGES" [523,543]
                                            STRING [544,579]
                                                String: "${{ secrets.SSH_DFFML_GH_PAGES }}" [544,579]
                                FIELD [581,603]
                                    String: "shell" [581,588]
                                    STRING [589,603]
                                        String: "bash -xe {0}" [589,603]
                                FIELD [604,1932]
                                    String: "run" [604,609]
                                    STRING [610,1932]
                                        String: "git init\ngit remote add origin $REPO_URL\ngit fetch origin $BRANCH\ngit reset --hard origin/$BRANCH\ngit log -n 3 --oneline\ngit log --stat $BRANCH | grep -E '\\.png|\\.jpeg|\\.jpg|\\.gif'\ncat > $GIT_FILTER_REPO_PATHS <<'EOF'\nglob:*.gif\nglob:*.png\nglob:*.jpg\nglob:*.jpeg\nEOF\ngit filter-repo --force --invert-paths --paths-from-file $GIT_FILTER_REPO_PATHS\ngit log --stat | grep -E '\\.png|\\.jpeg|\\.jpg|\\.gif'\n\nexport GIT_SSH_COMMAND='ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no'\n\nTEMP_DIRS=()\n\nfunction cleanup_temp_dirs() {\n  for temp_dir in ${TEMP_DIRS[@]}; do\n    rm -rf \"${temp_dir}\"\n  done\n}\n\n# Clean up temporary directories on exit\ntrap cleanup_temp_dirs EXIT\n\nssh_key_dir=\"$(mktemp -d)\"\nTEMP_DIRS+=(\"${ssh_key_dir}\")\npython -c \"import pathlib, base64, os; keyfile = pathlib.Path(\\\"${ssh_key_dir}/github\\\").absolute(); keyfile.write_bytes(b''); keyfile.chmod(0o600); keyfile.write_bytes(base64.b32decode(os.environ['SSH_DFFML_GH_PAGES']))\"\nssh-keygen -y -f \"${ssh_key_dir}/github\" > \"${ssh_key_dir}/github.pub\"\nexport GIT_SSH_COMMAND=\"${GIT_SSH_COMMAND} -o IdentityFile=${ssh_key_dir}/github\"\n\nset +e\ngit remote add origin git@github.com:intel/dffml\ngit remote set-url origin git@github.com:intel/dffml\nset -e\n\ngit push -fu origin $BRANCH" [610,1932]