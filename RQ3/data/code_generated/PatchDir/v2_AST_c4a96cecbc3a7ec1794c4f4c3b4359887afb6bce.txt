OBJECT [0,8864]
    FIELD [1,35]
        String: "name" [1,7]
        STRING [8,35]
            String: "Self-hosted runner (push)" [8,35]
    FIELD [36,183]
        String: "on" [36,40]
        OBJECT [41,183]
            FIELD [42,155]
                String: "push" [42,48]
                OBJECT [49,155]
                    FIELD [50,85]
                        String: "branches" [50,60]
                        ARRAY [61,85]
                            STRING [62,70]
                                String: "master" [62,70]
                            STRING [71,77]
                                String: "ci_*" [71,77]
                            STRING [78,84]
                                String: "ci-*" [78,84]
                    FIELD [86,154]
                        String: "paths" [86,93]
                        ARRAY [94,154]
                            STRING [95,103]
                                String: "src/**" [95,103]
                            STRING [104,114]
                                String: "tests/**" [104,114]
                            STRING [115,127]
                                String: ".github/**" [115,127]
                            STRING [128,142]
                                String: "templates/**" [128,142]
                            STRING [143,153]
                                String: "utils/**" [143,153]
            FIELD [156,182]
                String: "repository_dispatch" [156,177]
                NULL [178,182]
    FIELD [184,300]
        String: "env" [184,189]
        OBJECT [190,300]
            FIELD [191,213]
                String: "HF_HOME" [191,200]
                STRING [201,213]
                    String: "/mnt/cache" [201,213]
            FIELD [214,239]
                String: "TRANSFORMERS_IS_CI" [214,234]
                TRUE [235,239]
            FIELD [240,259]
                String: "OMP_NUM_THREADS" [240,257]
                NUMBER [258,259]
                    Number: 8 [258,259]
            FIELD [260,279]
                String: "MKL_NUM_THREADS" [260,277]
                NUMBER [278,279]
                    Number: 8 [278,279]
            FIELD [280,299]
                String: "PYTEST_TIMEOUT" [280,296]
                NUMBER [297,299]
                    Number: 60 [297,299]
    FIELD [301,8863]
        String: "jobs" [301,307]
        OBJECT [308,8863]
            FIELD [309,1889]
                String: "run_tests_torch_gpu" [309,330]
                OBJECT [331,1889]
                    FIELD [332,383]
                        String: "runs-on" [332,341]
                        ARRAY [342,383]
                            STRING [343,356]
                                String: "self-hosted" [343,356]
                            STRING [357,369]
                                String: "docker-gpu" [357,369]
                            STRING [370,382]
                                String: "single-gpu" [370,382]
                    FIELD [384,550]
                        String: "container" [384,395]
                        OBJECT [396,550]
                            FIELD [397,452]
                                String: "image" [397,404]
                                STRING [405,452]
                                    String: "pytorch/pytorch:1.9.0-cuda11.1-cudnn8-runtime" [405,452]
                            FIELD [453,549]
                                String: "options" [453,462]
                                STRING [463,549]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [463,549]
                    FIELD [551,1888]
                        String: "steps" [551,558]
                        ARRAY [559,1888]
                            OBJECT [560,961]
                                FIELD [561,590]
                                    String: "name" [561,567]
                                    STRING [568,590]
                                        String: "Install dependencies" [568,590]
                                FIELD [591,960]
                                    String: "run" [591,596]
                                    STRING [597,960]
                                        String: "apt -y update && apt install -y software-properties-common && apt -y update && add-apt-repository -y ppa:git-core/ppa && apt -y update && apt install -y git\napt install -y libsndfile1-dev\npip install --upgrade pip\npip install .[sklearn,testing,onnxruntime,sentencepiece,torch-speech,vision,timm]\npip install https://github.com/kpu/kenlm/archive/master.zip\n" [597,960]
                            OBJECT [962,1042]
                                FIELD [963,987]
                                    String: "name" [963,969]
                                    STRING [970,987]
                                        String: "Launcher docker" [970,987]
                                FIELD [988,1016]
                                    String: "uses" [988,994]
                                    STRING [995,1016]
                                        String: "actions/checkout@v2" [995,1016]
                                FIELD [1017,1041]
                                    String: "with" [1017,1023]
                                    OBJECT [1024,1041]
                                        FIELD [1025,1040]
                                            String: "fetch-depth" [1025,1038]
                                            NUMBER [1039,1040]
                                                Number: 2 [1039,1040]
                            OBJECT [1043,1085]
                                FIELD [1044,1063]
                                    String: "name" [1044,1050]
                                    STRING [1051,1063]
                                        String: "NVIDIA-SMI" [1051,1063]
                                FIELD [1064,1084]
                                    String: "run" [1064,1069]
                                    STRING [1070,1084]
                                        String: "nvidia-smi\n" [1070,1084]
                            OBJECT [1086,1169]
                                FIELD [1087,1136]
                                    String: "name" [1087,1093]
                                    STRING [1094,1136]
                                        String: "Are GPUs recognized by our DL frameworks" [1094,1136]
                                FIELD [1137,1168]
                                    String: "run" [1137,1142]
                                    STRING [1143,1168]
                                        String: "utils/print_env_pt.py\n" [1143,1168]
                            OBJECT [1170,1294]
                                FIELD [1171,1202]
                                    String: "name" [1171,1177]
                                    STRING [1178,1202]
                                        String: "Fetch the tests to run" [1178,1202]
                                FIELD [1203,1293]
                                    String: "run" [1203,1208]
                                    STRING [1209,1293]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit | tee test_preparation.txt\n" [1209,1293]
                            OBJECT [1295,1423]
                                FIELD [1296,1325]
                                    String: "name" [1296,1302]
                                    STRING [1303,1325]
                                        String: "Report fetched tests" [1303,1325]
                                FIELD [1326,1361]
                                    String: "uses" [1326,1332]
                                    STRING [1333,1361]
                                        String: "actions/upload-artifact@v2" [1333,1361]
                                FIELD [1362,1422]
                                    String: "with" [1362,1368]
                                    OBJECT [1369,1422]
                                        FIELD [1370,1391]
                                            String: "name" [1370,1376]
                                            STRING [1377,1391]
                                                String: "test_fetched" [1377,1391]
                                        FIELD [1392,1421]
                                            String: "path" [1392,1398]
                                            STRING [1399,1421]
                                                String: "test_preparation.txt" [1399,1421]
                            OBJECT [1424,1604]
                                FIELD [1425,1463]
                                    String: "name" [1425,1431]
                                    STRING [1432,1463]
                                        String: "Run all non-slow tests on GPU" [1432,1463]
                                FIELD [1464,1603]
                                    String: "run" [1464,1469]
                                    STRING [1470,1603]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 2 --dist=loadfile -v --make-reports=tests_torch_gpu $(cat test_list.txt)\nfi\n" [1470,1603]
                            OBJECT [1605,1716]
                                FIELD [1606,1636]
                                    String: "name" [1606,1612]
                                    STRING [1613,1636]
                                        String: "Failure short reports" [1613,1636]
                                FIELD [1637,1660]
                                    String: "if" [1637,1641]
                                    STRING [1642,1660]
                                        String: "${{ failure() }}" [1642,1660]
                                FIELD [1661,1715]
                                    String: "run" [1661,1666]
                                    STRING [1667,1715]
                                        String: "cat reports/tests_torch_gpu_failures_short.txt" [1667,1715]
                            OBJECT [1717,1887]
                                FIELD [1718,1755]
                                    String: "name" [1718,1724]
                                    STRING [1725,1755]
                                        String: "Test suite reports artifacts" [1725,1755]
                                FIELD [1756,1778]
                                    String: "if" [1756,1760]
                                    STRING [1761,1778]
                                        String: "${{ always() }}" [1761,1778]
                                FIELD [1779,1814]
                                    String: "uses" [1779,1785]
                                    STRING [1786,1814]
                                        String: "actions/upload-artifact@v2" [1786,1814]
                                FIELD [1815,1886]
                                    String: "with" [1815,1821]
                                    OBJECT [1822,1886]
                                        FIELD [1823,1868]
                                            String: "name" [1823,1829]
                                            STRING [1830,1868]
                                                String: "run_all_tests_torch_gpu_test_reports" [1830,1868]
                                        FIELD [1869,1885]
                                            String: "path" [1869,1875]
                                            STRING [1876,1885]
                                                String: "reports" [1876,1885]
            FIELD [1890,3713]
                String: "run_tests_flax_gpu" [1890,1910]
                OBJECT [1911,3713]
                    FIELD [1912,1968]
                        String: "runs-on" [1912,1921]
                        ARRAY [1922,1968]
                            STRING [1923,1936]
                                String: "self-hosted" [1923,1936]
                            STRING [1937,1954]
                                String: "docker-gpu-test" [1937,1954]
                            STRING [1955,1967]
                                String: "single-gpu" [1955,1967]
                    FIELD [1969,2121]
                        String: "container" [1969,1980]
                        OBJECT [1981,2121]
                            FIELD [1982,2023]
                                String: "image" [1982,1989]
                                STRING [1990,2023]
                                    String: "tensorflow/tensorflow:2.4.1-gpu" [1990,2023]
                            FIELD [2024,2120]
                                String: "options" [2024,2033]
                                STRING [2034,2120]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [2034,2120]
                    FIELD [2122,3712]
                        String: "steps" [2122,2129]
                        ARRAY [2130,3712]
                            OBJECT [2131,2592]
                                FIELD [2132,2161]
                                    String: "name" [2132,2138]
                                    STRING [2139,2161]
                                        String: "Install dependencies" [2139,2161]
                                FIELD [2162,2591]
                                    String: "run" [2162,2167]
                                    STRING [2168,2591]
                                        String: "apt -y update && apt install -y software-properties-common && apt -y update && add-apt-repository -y ppa:git-core/ppa && apt -y update && apt install -y git\npip install --upgrade \"jax[cuda111]\" -f https://storage.googleapis.com/jax-releases/jax_releases.html\npip install --upgrade pip\npip install .[sklearn,testing,sentencepiece,flax,flax-speech,vision]\npip install https://github.com/kpu/kenlm/archive/master.zip\n" [2168,2591]
                            OBJECT [2593,2673]
                                FIELD [2594,2618]
                                    String: "name" [2594,2600]
                                    STRING [2601,2618]
                                        String: "Launcher docker" [2601,2618]
                                FIELD [2619,2647]
                                    String: "uses" [2619,2625]
                                    STRING [2626,2647]
                                        String: "actions/checkout@v2" [2626,2647]
                                FIELD [2648,2672]
                                    String: "with" [2648,2654]
                                    OBJECT [2655,2672]
                                        FIELD [2656,2671]
                                            String: "fetch-depth" [2656,2669]
                                            NUMBER [2670,2671]
                                                Number: 2 [2670,2671]
                            OBJECT [2674,2741]
                                FIELD [2675,2694]
                                    String: "name" [2675,2681]
                                    STRING [2682,2694]
                                        String: "NVIDIA-SMI" [2682,2694]
                                FIELD [2695,2719]
                                    String: "continue-on-error" [2695,2714]
                                    TRUE [2715,2719]
                                FIELD [2720,2740]
                                    String: "run" [2720,2725]
                                    STRING [2726,2740]
                                        String: "nvidia-smi\n" [2726,2740]
                            OBJECT [2742,2996]
                                FIELD [2743,2792]
                                    String: "name" [2743,2749]
                                    STRING [2750,2792]
                                        String: "Are GPUs recognized by our DL frameworks" [2750,2792]
                                FIELD [2793,2995]
                                    String: "run" [2793,2798]
                                    STRING [2799,2995]
                                        String: "python -c \"from jax.lib import xla_bridge; print('GPU available:', xla_bridge.get_backend().platform)\"\npython -c \"import jax; print('Number of GPUs available:', len(jax.local_devices()))\"\n" [2799,2995]
                            OBJECT [2997,3121]
                                FIELD [2998,3029]
                                    String: "name" [2998,3004]
                                    STRING [3005,3029]
                                        String: "Fetch the tests to run" [3005,3029]
                                FIELD [3030,3120]
                                    String: "run" [3030,3035]
                                    STRING [3036,3120]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit | tee test_preparation.txt\n" [3036,3120]
                            OBJECT [3122,3250]
                                FIELD [3123,3152]
                                    String: "name" [3123,3129]
                                    STRING [3130,3152]
                                        String: "Report fetched tests" [3130,3152]
                                FIELD [3153,3188]
                                    String: "uses" [3153,3159]
                                    STRING [3160,3188]
                                        String: "actions/upload-artifact@v2" [3160,3188]
                                FIELD [3189,3249]
                                    String: "with" [3189,3195]
                                    OBJECT [3196,3249]
                                        FIELD [3197,3218]
                                            String: "name" [3197,3203]
                                            STRING [3204,3218]
                                                String: "test_fetched" [3204,3218]
                                        FIELD [3219,3248]
                                            String: "path" [3219,3225]
                                            STRING [3226,3248]
                                                String: "test_preparation.txt" [3226,3248]
                            OBJECT [3251,3430]
                                FIELD [3252,3290]
                                    String: "name" [3252,3258]
                                    STRING [3259,3290]
                                        String: "Run all non-slow tests on GPU" [3259,3290]
                                FIELD [3291,3429]
                                    String: "run" [3291,3296]
                                    STRING [3297,3429]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 2 --dist=loadfile -v --make-reports=tests_flax_gpu $(cat test_list.txt)\nfi\n" [3297,3429]
                            OBJECT [3431,3541]
                                FIELD [3432,3462]
                                    String: "name" [3432,3438]
                                    STRING [3439,3462]
                                        String: "Failure short reports" [3439,3462]
                                FIELD [3463,3486]
                                    String: "if" [3463,3467]
                                    STRING [3468,3486]
                                        String: "${{ failure() }}" [3468,3486]
                                FIELD [3487,3540]
                                    String: "run" [3487,3492]
                                    STRING [3493,3540]
                                        String: "cat reports/tests_flax_gpu_failures_short.txt" [3493,3540]
                            OBJECT [3542,3711]
                                FIELD [3543,3580]
                                    String: "name" [3543,3549]
                                    STRING [3550,3580]
                                        String: "Test suite reports artifacts" [3550,3580]
                                FIELD [3581,3603]
                                    String: "if" [3581,3585]
                                    STRING [3586,3603]
                                        String: "${{ always() }}" [3586,3603]
                                FIELD [3604,3639]
                                    String: "uses" [3604,3610]
                                    STRING [3611,3639]
                                        String: "actions/upload-artifact@v2" [3611,3639]
                                FIELD [3640,3710]
                                    String: "with" [3640,3646]
                                    OBJECT [3647,3710]
                                        FIELD [3648,3692]
                                            String: "name" [3648,3654]
                                            STRING [3655,3692]
                                                String: "run_all_tests_flax_gpu_test_reports" [3655,3692]
                                        FIELD [3693,3709]
                                            String: "path" [3693,3699]
                                            STRING [3700,3709]
                                                String: "reports" [3700,3709]
            FIELD [3714,5380]
                String: "run_tests_torch_multi_gpu" [3714,3741]
                OBJECT [3742,5380]
                    FIELD [3743,3793]
                        String: "runs-on" [3743,3752]
                        ARRAY [3753,3793]
                            STRING [3754,3767]
                                String: "self-hosted" [3754,3767]
                            STRING [3768,3780]
                                String: "docker-gpu" [3768,3780]
                            STRING [3781,3792]
                                String: "multi-gpu" [3781,3792]
                    FIELD [3794,3962]
                        String: "container" [3794,3805]
                        OBJECT [3806,3962]
                            FIELD [3807,3862]
                                String: "image" [3807,3814]
                                STRING [3815,3862]
                                    String: "pytorch/pytorch:1.9.0-cuda11.1-cudnn8-runtime" [3815,3862]
                            FIELD [3863,3961]
                                String: "options" [3863,3872]
                                STRING [3873,3961]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [3873,3961]
                    FIELD [3963,5379]
                        String: "steps" [3963,3970]
                        ARRAY [3971,5379]
                            OBJECT [3972,4373]
                                FIELD [3973,4002]
                                    String: "name" [3973,3979]
                                    STRING [3980,4002]
                                        String: "Install dependencies" [3980,4002]
                                FIELD [4003,4372]
                                    String: "run" [4003,4008]
                                    STRING [4009,4372]
                                        String: "apt -y update && apt install -y software-properties-common && apt -y update && add-apt-repository -y ppa:git-core/ppa && apt -y update && apt install -y git\napt install -y libsndfile1-dev\npip install --upgrade pip\npip install .[sklearn,testing,onnxruntime,sentencepiece,torch-speech,vision,timm]\npip install https://github.com/kpu/kenlm/archive/master.zip\n" [4009,4372]
                            OBJECT [4374,4454]
                                FIELD [4375,4399]
                                    String: "name" [4375,4381]
                                    STRING [4382,4399]
                                        String: "Launcher docker" [4382,4399]
                                FIELD [4400,4428]
                                    String: "uses" [4400,4406]
                                    STRING [4407,4428]
                                        String: "actions/checkout@v2" [4407,4428]
                                FIELD [4429,4453]
                                    String: "with" [4429,4435]
                                    OBJECT [4436,4453]
                                        FIELD [4437,4452]
                                            String: "fetch-depth" [4437,4450]
                                            NUMBER [4451,4452]
                                                Number: 2 [4451,4452]
                            OBJECT [4455,4522]
                                FIELD [4456,4475]
                                    String: "name" [4456,4462]
                                    STRING [4463,4475]
                                        String: "NVIDIA-SMI" [4463,4475]
                                FIELD [4476,4500]
                                    String: "continue-on-error" [4476,4495]
                                    TRUE [4496,4500]
                                FIELD [4501,4521]
                                    String: "run" [4501,4506]
                                    STRING [4507,4521]
                                        String: "nvidia-smi\n" [4507,4521]
                            OBJECT [4523,4606]
                                FIELD [4524,4573]
                                    String: "name" [4524,4530]
                                    STRING [4531,4573]
                                        String: "Are GPUs recognized by our DL frameworks" [4531,4573]
                                FIELD [4574,4605]
                                    String: "run" [4574,4579]
                                    STRING [4580,4605]
                                        String: "utils/print_env_pt.py\n" [4580,4605]
                            OBJECT [4607,4731]
                                FIELD [4608,4639]
                                    String: "name" [4608,4614]
                                    STRING [4615,4639]
                                        String: "Fetch the tests to run" [4615,4639]
                                FIELD [4640,4730]
                                    String: "run" [4640,4645]
                                    STRING [4646,4730]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit | tee test_preparation.txt\n" [4646,4730]
                            OBJECT [4732,4860]
                                FIELD [4733,4762]
                                    String: "name" [4733,4739]
                                    STRING [4740,4762]
                                        String: "Report fetched tests" [4740,4762]
                                FIELD [4763,4798]
                                    String: "uses" [4763,4769]
                                    STRING [4770,4798]
                                        String: "actions/upload-artifact@v2" [4770,4798]
                                FIELD [4799,4859]
                                    String: "with" [4799,4805]
                                    OBJECT [4806,4859]
                                        FIELD [4807,4828]
                                            String: "name" [4807,4813]
                                            STRING [4814,4828]
                                                String: "test_fetched" [4814,4828]
                                        FIELD [4829,4858]
                                            String: "path" [4829,4835]
                                            STRING [4836,4858]
                                                String: "test_preparation.txt" [4836,4858]
                            OBJECT [4861,5083]
                                FIELD [4862,4900]
                                    String: "name" [4862,4868]
                                    STRING [4869,4900]
                                        String: "Run all non-slow tests on GPU" [4869,4900]
                                FIELD [4901,4936]
                                    String: "env" [4901,4906]
                                    OBJECT [4907,4936]
                                        FIELD [4908,4935]
                                            String: "MKL_SERVICE_FORCE_INTEL" [4908,4933]
                                            NUMBER [4934,4935]
                                                Number: 1 [4934,4935]
                                FIELD [4937,5082]
                                    String: "run" [4937,4942]
                                    STRING [4943,5082]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 2 --dist=loadfile -v --make-reports=tests_torch_multi_gpu $(cat test_list.txt)\nfi\n" [4943,5082]
                            OBJECT [5084,5201]
                                FIELD [5085,5115]
                                    String: "name" [5085,5091]
                                    STRING [5092,5115]
                                        String: "Failure short reports" [5092,5115]
                                FIELD [5116,5139]
                                    String: "if" [5116,5120]
                                    STRING [5121,5139]
                                        String: "${{ failure() }}" [5121,5139]
                                FIELD [5140,5200]
                                    String: "run" [5140,5145]
                                    STRING [5146,5200]
                                        String: "cat reports/tests_torch_multi_gpu_failures_short.txt" [5146,5200]
                            OBJECT [5202,5378]
                                FIELD [5203,5240]
                                    String: "name" [5203,5209]
                                    STRING [5210,5240]
                                        String: "Test suite reports artifacts" [5210,5240]
                                FIELD [5241,5263]
                                    String: "if" [5241,5245]
                                    STRING [5246,5263]
                                        String: "${{ always() }}" [5246,5263]
                                FIELD [5264,5299]
                                    String: "uses" [5264,5270]
                                    STRING [5271,5299]
                                        String: "actions/upload-artifact@v2" [5271,5299]
                                FIELD [5300,5377]
                                    String: "with" [5300,5306]
                                    OBJECT [5307,5377]
                                        FIELD [5308,5359]
                                            String: "name" [5308,5314]
                                            STRING [5315,5359]
                                                String: "run_all_tests_torch_multi_gpu_test_reports" [5315,5359]
                                        FIELD [5360,5376]
                                            String: "path" [5360,5366]
                                            STRING [5367,5376]
                                                String: "reports" [5367,5376]
            FIELD [5381,6784]
                String: "run_tests_torch_cuda_extensions_gpu" [5381,5418]
                OBJECT [5419,6784]
                    FIELD [5420,5471]
                        String: "runs-on" [5420,5429]
                        ARRAY [5430,5471]
                            STRING [5431,5444]
                                String: "self-hosted" [5431,5444]
                            STRING [5445,5457]
                                String: "docker-gpu" [5445,5457]
                            STRING [5458,5470]
                                String: "single-gpu" [5458,5470]
                    FIELD [5472,5625]
                        String: "container" [5472,5483]
                        OBJECT [5484,5625]
                            FIELD [5485,5527]
                                String: "image" [5485,5492]
                                STRING [5493,5527]
                                    String: "nvcr.io/nvidia/pytorch:21.03-py3" [5493,5527]
                            FIELD [5528,5624]
                                String: "options" [5528,5537]
                                STRING [5538,5624]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [5538,5624]
                    FIELD [5626,6783]
                        String: "steps" [5626,5633]
                        ARRAY [5634,6783]
                            OBJECT [5635,5715]
                                FIELD [5636,5660]
                                    String: "name" [5636,5642]
                                    STRING [5643,5660]
                                        String: "Launcher docker" [5643,5660]
                                FIELD [5661,5689]
                                    String: "uses" [5661,5667]
                                    STRING [5668,5689]
                                        String: "actions/checkout@v2" [5668,5689]
                                FIELD [5690,5714]
                                    String: "with" [5690,5696]
                                    OBJECT [5697,5714]
                                        FIELD [5698,5713]
                                            String: "fetch-depth" [5698,5711]
                                            NUMBER [5712,5713]
                                                Number: 2 [5712,5713]
                            OBJECT [5716,5758]
                                FIELD [5717,5736]
                                    String: "name" [5717,5723]
                                    STRING [5724,5736]
                                        String: "NVIDIA-SMI" [5724,5736]
                                FIELD [5737,5757]
                                    String: "run" [5737,5742]
                                    STRING [5743,5757]
                                        String: "nvidia-smi\n" [5743,5757]
                            OBJECT [5759,5904]
                                FIELD [5760,5789]
                                    String: "name" [5760,5766]
                                    STRING [5767,5789]
                                        String: "Install dependencies" [5767,5789]
                                FIELD [5790,5903]
                                    String: "run" [5790,5795]
                                    STRING [5796,5903]
                                        String: "apt -y update && apt install -y libaio-dev\npip install --upgrade pip\npip install .[testing,deepspeed]\n" [5796,5903]
                            OBJECT [5905,5988]
                                FIELD [5906,5955]
                                    String: "name" [5906,5912]
                                    STRING [5913,5955]
                                        String: "Are GPUs recognized by our DL frameworks" [5913,5955]
                                FIELD [5956,5987]
                                    String: "run" [5956,5961]
                                    STRING [5962,5987]
                                        String: "utils/print_env_pt.py\n" [5962,5987]
                            OBJECT [5989,6154]
                                FIELD [5990,6021]
                                    String: "name" [5990,5996]
                                    STRING [5997,6021]
                                        String: "Fetch the tests to run" [5997,6021]
                                FIELD [6022,6153]
                                    String: "run" [6022,6027]
                                    STRING [6028,6153]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit --filters tests/deepspeed tests/extended | tee test_preparation.txt\n" [6028,6153]
                            OBJECT [6155,6283]
                                FIELD [6156,6185]
                                    String: "name" [6156,6162]
                                    STRING [6163,6185]
                                        String: "Report fetched tests" [6163,6185]
                                FIELD [6186,6221]
                                    String: "uses" [6186,6192]
                                    STRING [6193,6221]
                                        String: "actions/upload-artifact@v2" [6193,6221]
                                FIELD [6222,6282]
                                    String: "with" [6222,6228]
                                    OBJECT [6229,6282]
                                        FIELD [6230,6251]
                                            String: "name" [6230,6236]
                                            STRING [6237,6251]
                                                String: "test_fetched" [6237,6251]
                                        FIELD [6252,6281]
                                            String: "path" [6252,6258]
                                            STRING [6259,6281]
                                                String: "test_preparation.txt" [6259,6281]
                            OBJECT [6284,6471]
                                FIELD [6285,6314]
                                    String: "name" [6285,6291]
                                    STRING [6292,6314]
                                        String: "Run all tests on GPU" [6292,6314]
                                FIELD [6315,6470]
                                    String: "run" [6315,6320]
                                    STRING [6321,6470]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 1 --dist=loadfile -v --make-reports=tests_torch_cuda_extensions_gpu $(cat test_list.txt)\nfi\n" [6321,6470]
                            OBJECT [6472,6599]
                                FIELD [6473,6503]
                                    String: "name" [6473,6479]
                                    STRING [6480,6503]
                                        String: "Failure short reports" [6480,6503]
                                FIELD [6504,6527]
                                    String: "if" [6504,6508]
                                    STRING [6509,6527]
                                        String: "${{ failure() }}" [6509,6527]
                                FIELD [6528,6598]
                                    String: "run" [6528,6533]
                                    STRING [6534,6598]
                                        String: "cat reports/tests_torch_cuda_extensions_gpu_failures_short.txt" [6534,6598]
                            OBJECT [6600,6782]
                                FIELD [6601,6638]
                                    String: "name" [6601,6607]
                                    STRING [6608,6638]
                                        String: "Test suite reports artifacts" [6608,6638]
                                FIELD [6639,6661]
                                    String: "if" [6639,6643]
                                    STRING [6644,6661]
                                        String: "${{ always() }}" [6644,6661]
                                FIELD [6662,6697]
                                    String: "uses" [6662,6668]
                                    STRING [6669,6697]
                                        String: "actions/upload-artifact@v2" [6669,6697]
                                FIELD [6698,6781]
                                    String: "with" [6698,6704]
                                    OBJECT [6705,6781]
                                        FIELD [6706,6763]
                                            String: "name" [6706,6712]
                                            STRING [6713,6763]
                                                String: "run_tests_torch_cuda_extensions_gpu_test_reports" [6713,6763]
                                        FIELD [6764,6780]
                                            String: "path" [6764,6770]
                                            STRING [6771,6780]
                                                String: "reports" [6771,6780]
            FIELD [6785,8317]
                String: "run_tests_torch_cuda_extensions_multi_gpu" [6785,6828]
                OBJECT [6829,8317]
                    FIELD [6830,6880]
                        String: "runs-on" [6830,6839]
                        ARRAY [6840,6880]
                            STRING [6841,6854]
                                String: "self-hosted" [6841,6854]
                            STRING [6855,6867]
                                String: "docker-gpu" [6855,6867]
                            STRING [6868,6879]
                                String: "multi-gpu" [6868,6879]
                    FIELD [6881,7034]
                        String: "container" [6881,6892]
                        OBJECT [6893,7034]
                            FIELD [6894,6936]
                                String: "image" [6894,6901]
                                STRING [6902,6936]
                                    String: "nvcr.io/nvidia/pytorch:21.03-py3" [6902,6936]
                            FIELD [6937,7033]
                                String: "options" [6937,6946]
                                STRING [6947,7033]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [6947,7033]
                    FIELD [7035,8316]
                        String: "steps" [7035,7042]
                        ARRAY [7043,8316]
                            OBJECT [7044,7124]
                                FIELD [7045,7069]
                                    String: "name" [7045,7051]
                                    STRING [7052,7069]
                                        String: "Launcher docker" [7052,7069]
                                FIELD [7070,7098]
                                    String: "uses" [7070,7076]
                                    STRING [7077,7098]
                                        String: "actions/checkout@v2" [7077,7098]
                                FIELD [7099,7123]
                                    String: "with" [7099,7105]
                                    OBJECT [7106,7123]
                                        FIELD [7107,7122]
                                            String: "fetch-depth" [7107,7120]
                                            NUMBER [7121,7122]
                                                Number: 2 [7121,7122]
                            OBJECT [7125,7192]
                                FIELD [7126,7145]
                                    String: "name" [7126,7132]
                                    STRING [7133,7145]
                                        String: "NVIDIA-SMI" [7133,7145]
                                FIELD [7146,7170]
                                    String: "continue-on-error" [7146,7165]
                                    TRUE [7166,7170]
                                FIELD [7171,7191]
                                    String: "run" [7171,7176]
                                    STRING [7177,7191]
                                        String: "nvidia-smi\n" [7177,7191]
                            OBJECT [7193,7419]
                                FIELD [7194,7223]
                                    String: "name" [7194,7200]
                                    STRING [7201,7223]
                                        String: "Install dependencies" [7201,7223]
                                FIELD [7224,7418]
                                    String: "run" [7224,7229]
                                    STRING [7230,7418]
                                        String: "apt -y update && apt install -y libaio-dev\npip install --upgrade pip\nrm -rf ~/.cache/torch_extensions/ # shared between conflicting builds\npip install .[testing,deepspeed,fairscale]\n" [7230,7418]
                            OBJECT [7420,7503]
                                FIELD [7421,7470]
                                    String: "name" [7421,7427]
                                    STRING [7428,7470]
                                        String: "Are GPUs recognized by our DL frameworks" [7428,7470]
                                FIELD [7471,7502]
                                    String: "run" [7471,7476]
                                    STRING [7477,7502]
                                        String: "utils/print_env_pt.py\n" [7477,7502]
                            OBJECT [7504,7669]
                                FIELD [7505,7536]
                                    String: "name" [7505,7511]
                                    STRING [7512,7536]
                                        String: "Fetch the tests to run" [7512,7536]
                                FIELD [7537,7668]
                                    String: "run" [7537,7542]
                                    STRING [7543,7668]
                                        String: "python utils/tests_fetcher.py --diff_with_last_commit --filters tests/deepspeed tests/extended | tee test_preparation.txt\n" [7543,7668]
                            OBJECT [7670,7798]
                                FIELD [7671,7700]
                                    String: "name" [7671,7677]
                                    STRING [7678,7700]
                                        String: "Report fetched tests" [7678,7700]
                                FIELD [7701,7736]
                                    String: "uses" [7701,7707]
                                    STRING [7708,7736]
                                        String: "actions/upload-artifact@v2" [7708,7736]
                                FIELD [7737,7797]
                                    String: "with" [7737,7743]
                                    OBJECT [7744,7797]
                                        FIELD [7745,7766]
                                            String: "name" [7745,7751]
                                            STRING [7752,7766]
                                                String: "test_fetched" [7752,7766]
                                        FIELD [7767,7796]
                                            String: "path" [7767,7773]
                                            STRING [7774,7796]
                                                String: "test_preparation.txt" [7774,7796]
                            OBJECT [7799,7992]
                                FIELD [7800,7829]
                                    String: "name" [7800,7806]
                                    STRING [7807,7829]
                                        String: "Run all tests on GPU" [7807,7829]
                                FIELD [7830,7991]
                                    String: "run" [7830,7835]
                                    STRING [7836,7991]
                                        String: "if [ -f test_list.txt ]; then\n  python -m pytest -n 1 --dist=loadfile -v --make-reports=tests_torch_cuda_extensions_multi_gpu $(cat test_list.txt)\nfi\n" [7836,7991]
                            OBJECT [7993,8126]
                                FIELD [7994,8024]
                                    String: "name" [7994,8000]
                                    STRING [8001,8024]
                                        String: "Failure short reports" [8001,8024]
                                FIELD [8025,8048]
                                    String: "if" [8025,8029]
                                    STRING [8030,8048]
                                        String: "${{ failure() }}" [8030,8048]
                                FIELD [8049,8125]
                                    String: "run" [8049,8054]
                                    STRING [8055,8125]
                                        String: "cat reports/tests_torch_cuda_extensions_multi_gpu_failures_short.txt" [8055,8125]
                            OBJECT [8127,8315]
                                FIELD [8128,8165]
                                    String: "name" [8128,8134]
                                    STRING [8135,8165]
                                        String: "Test suite reports artifacts" [8135,8165]
                                FIELD [8166,8188]
                                    String: "if" [8166,8170]
                                    STRING [8171,8188]
                                        String: "${{ always() }}" [8171,8188]
                                FIELD [8189,8224]
                                    String: "uses" [8189,8195]
                                    STRING [8196,8224]
                                        String: "actions/upload-artifact@v2" [8196,8224]
                                FIELD [8225,8314]
                                    String: "with" [8225,8231]
                                    OBJECT [8232,8314]
                                        FIELD [8233,8296]
                                            String: "name" [8233,8239]
                                            STRING [8240,8296]
                                                String: "run_tests_torch_cuda_extensions_multi_gpu_test_reports" [8240,8296]
                                        FIELD [8297,8313]
                                            String: "path" [8297,8303]
                                            STRING [8304,8313]
                                                String: "reports" [8304,8313]
            FIELD [8318,8862]
                String: "send_results" [8318,8332]
                OBJECT [8333,8862]
                    FIELD [8334,8366]
                        String: "name" [8334,8340]
                        STRING [8341,8366]
                            String: "Send results to webhook" [8341,8366]
                    FIELD [8367,8392]
                        String: "runs-on" [8367,8376]
                        STRING [8377,8392]
                            String: "ubuntu-latest" [8377,8392]
                    FIELD [8393,8408]
                        String: "if" [8393,8397]
                        STRING [8398,8408]
                            String: "always()" [8398,8408]
                    FIELD [8409,8550]
                        String: "needs" [8409,8416]
                        ARRAY [8417,8550]
                            STRING [8418,8439]
                                String: "run_tests_torch_gpu" [8418,8439]
                            STRING [8440,8467]
                                String: "run_tests_torch_multi_gpu" [8440,8467]
                            STRING [8468,8505]
                                String: "run_tests_torch_cuda_extensions_gpu" [8468,8505]
                            STRING [8506,8549]
                                String: "run_tests_torch_cuda_extensions_multi_gpu" [8506,8549]
                    FIELD [8551,8861]
                        String: "steps" [8551,8558]
                        ARRAY [8559,8861]
                            OBJECT [8560,8590]
                                FIELD [8561,8589]
                                    String: "uses" [8561,8567]
                                    STRING [8568,8589]
                                        String: "actions/checkout@v2" [8568,8589]
                            OBJECT [8591,8630]
                                FIELD [8592,8629]
                                    String: "uses" [8592,8598]
                                    STRING [8599,8629]
                                        String: "actions/download-artifact@v2" [8599,8629]
                            OBJECT [8631,8860]
                                FIELD [8632,8662]
                                    String: "name" [8632,8638]
                                    STRING [8639,8662]
                                        String: "Send message to Slack" [8639,8662]
                                FIELD [8663,8786]
                                    String: "env" [8663,8668]
                                    OBJECT [8669,8786]
                                        FIELD [8670,8726]
                                            String: "CI_SLACK_BOT_TOKEN" [8670,8690]
                                            STRING [8691,8726]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [8691,8726]
                                        FIELD [8727,8785]
                                            String: "CI_SLACK_CHANNEL_ID" [8727,8748]
                                            STRING [8749,8785]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [8749,8785]
                                FIELD [8787,8859]
                                    String: "run" [8787,8792]
                                    STRING [8793,8859]
                                        String: "pip install slack_sdk\npython utils/notification_service.py push" [8793,8859]