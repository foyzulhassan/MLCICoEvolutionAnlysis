OBJECT [0,3014]
    FIELD [1,21]
        String: "name" [1,7]
        STRING [8,21]
            String: "Build on M1" [8,21]
    FIELD [22,154]
        String: "on" [22,26]
        OBJECT [27,154]
            FIELD [28,96]
                String: "pull_request" [28,42]
                OBJECT [43,96]
                    FIELD [44,95]
                        String: "paths" [44,51]
                        ARRAY [52,95]
                            STRING [53,94]
                                String: ".github/workflows/build-m1-binaries.yml" [53,94]
            FIELD [97,128]
                String: "push" [97,103]
                OBJECT [104,128]
                    FIELD [105,127]
                        String: "branches" [105,115]
                        ARRAY [116,127]
                            STRING [117,126]
                                String: "nightly" [117,126]
            FIELD [129,153]
                String: "workflow_dispatch" [129,148]
                NULL [149,153]
    FIELD [155,3013]
        String: "jobs" [155,161]
        OBJECT [162,3013]
            FIELD [163,3012]
                String: "build_wheels" [163,177]
                OBJECT [178,3012]
                    FIELD [179,215]
                        String: "name" [179,185]
                        STRING [186,215]
                            String: "Build TorchVision M1 wheels" [186,215]
                    FIELD [216,236]
                        String: "runs-on" [216,225]
                        STRING [226,236]
                            String: "macos-m1" [226,236]
                    FIELD [237,291]
                        String: "strategy" [237,247]
                        OBJECT [248,291]
                            FIELD [249,290]
                                String: "matrix" [249,257]
                                OBJECT [258,290]
                                    FIELD [259,289]
                                        String: "py_vers" [259,268]
                                        ARRAY [269,289]
                                            STRING [270,275]
                                                String: "3.8" [270,275]
                                            STRING [276,281]
                                                String: "3.9" [276,281]
                                            STRING [282,288]
                                                String: "3.10" [282,288]
                    FIELD [292,3011]
                        String: "steps" [292,299]
                        ARRAY [300,3011]
                            OBJECT [301,360]
                                FIELD [302,330]
                                    String: "name" [302,308]
                                    STRING [309,330]
                                        String: "Checkout repository" [309,330]
                                FIELD [331,359]
                                    String: "uses" [331,337]
                                    STRING [338,359]
                                        String: "actions/checkout@v2" [338,359]
                            OBJECT [361,1476]
                                FIELD [362,397]
                                    String: "name" [362,368]
                                    STRING [369,397]
                                        String: "Build TorchVision M1 wheel" [369,397]
                                FIELD [398,433]
                                    String: "shell" [398,405]
                                    STRING [406,433]
                                        String: "arch -arch arm64 bash {0}" [406,433]
                                FIELD [434,519]
                                    String: "env" [434,439]
                                    OBJECT [440,519]
                                        FIELD [441,484]
                                            String: "ENV_NAME" [441,451]
                                            STRING [452,484]
                                                String: "conda-env-${{ github.run_id }}" [452,484]
                                        FIELD [485,518]
                                            String: "PY_VERS" [485,494]
                                            STRING [495,518]
                                                String: "${{ matrix.py_vers }}" [495,518]
                                FIELD [520,1475]
                                    String: "run" [520,525]
                                    STRING [526,1475]
                                        String: ". ~/miniconda3/etc/profile.d/conda.sh\n# Needed for JPEG library detection as setup.py detects conda presence by running `shlex.which('conda')`\nexport PATH=~/miniconda3/bin:$PATH\nset -ex\n. packaging/pkg_helpers.bash\nsetup_build_version\nWHL_NAME=torchvision-${BUILD_VERSION}-cp${PY_VERS/.}-cp${PY_VERS/.}-macosx_11_0_arm64.whl\nconda create -yp ${ENV_NAME} python=${PY_VERS} numpy libpng \"jpeg<=9b\" wheel pkg-config\nconda run -p ${ENV_NAME} python3 -mpip install torch --pre --extra-index-url=https://download.pytorch.org/whl/nightly\nconda run -p ${ENV_NAME} python3 -mpip install delocate\nconda run -p ${ENV_NAME} python3 setup.py bdist_wheel\nexport PYTORCH_VERSION=\"$(conda run -p ${ENV_NAME} python3 -mpip show torch | grep ^Version: | sed 's/Version:  *//')\"\nconda run -p ${ENV_NAME} DYLD_FALLBACK_LIBRARY_PATH=\"${ENV_NAME}/lib\" delocate-wheel -v --ignore-missing-dependencies dist/${WHL_NAME}\nconda env remove -p ${ENV_NAME}\n" [526,1475]
                            OBJECT [1477,2501]
                                FIELD [1478,1497]
                                    String: "name" [1478,1484]
                                    STRING [1485,1497]
                                        String: "Test wheel" [1485,1497]
                                FIELD [1498,1533]
                                    String: "shell" [1498,1505]
                                    STRING [1506,1533]
                                        String: "arch -arch arm64 bash {0}" [1506,1533]
                                FIELD [1534,1624]
                                    String: "env" [1534,1539]
                                    OBJECT [1540,1624]
                                        FIELD [1541,1589]
                                            String: "ENV_NAME" [1541,1551]
                                            STRING [1552,1589]
                                                String: "conda-test-env-${{ github.run_id }}" [1552,1589]
                                        FIELD [1590,1623]
                                            String: "PY_VERS" [1590,1599]
                                            STRING [1600,1623]
                                                String: "${{ matrix.py_vers }}" [1600,1623]
                                FIELD [1625,2500]
                                    String: "run" [1625,1630]
                                    STRING [1631,2500]
                                        String: ". ~/miniconda3/etc/profile.d/conda.sh\nset -ex\nconda create -yp ${ENV_NAME} python=${PY_VERS} numpy\nconda run -p ${ENV_NAME} python3 -mpip install torch --pre --extra-index-url=https://download.pytorch.org/whl/nightly\nconda run -p ${ENV_NAME} python3 -mpip install dist/*.whl\n# Test torch is importable, by changing cwd and running import commands\nconda run --cwd /tmp -p ${ENV_NAME} python3 -c \"import torchvision;print('torchvision version is ', torchvision.__version__)\"\nconda run --cwd /tmp -p ${ENV_NAME} python3 -c \"import torch;import torchvision;print('Is torchvision useable?', all(x is not None for x in [torch.ops.image.decode_png, torch.ops.torchvision.roi_align]))\"\nconda run --cwd /tmp -p ${ENV_NAME} python3 -c \"import torchvision;print(torchvision.io.read_image('${PWD}/gallery/assets/dog1.jpg').shape)\"\nconda env remove -p ${ENV_NAME}\n" [1631,2500]
                            OBJECT [2502,2651]
                                FIELD [2503,2534]
                                    String: "name" [2503,2509]
                                    STRING [2510,2534]
                                        String: "Upload wheel to GitHub" [2510,2534]
                                FIELD [2535,2570]
                                    String: "uses" [2535,2541]
                                    STRING [2542,2570]
                                        String: "actions/upload-artifact@v3" [2542,2570]
                                FIELD [2571,2650]
                                    String: "with" [2571,2577]
                                    OBJECT [2578,2650]
                                        FIELD [2579,2634]
                                            String: "name" [2579,2585]
                                            STRING [2586,2634]
                                                String: "torchvision-py${{ matrix.py_vers }}-macos11-m1" [2586,2634]
                                        FIELD [2635,2649]
                                            String: "path" [2635,2641]
                                            STRING [2642,2649]
                                                String: "dist/" [2642,2649]
                            OBJECT [2652,3010]
                                FIELD [2653,2680]
                                    String: "name" [2653,2659]
                                    STRING [2660,2680]
                                        String: "Upload wheel to S3" [2660,2680]
                                FIELD [2681,2716]
                                    String: "shell" [2681,2688]
                                    STRING [2689,2716]
                                        String: "arch -arch arm64 bash {0}" [2689,2716]
                                FIELD [2717,2896]
                                    String: "env" [2717,2722]
                                    OBJECT [2723,2896]
                                        FIELD [2724,2795]
                                            String: "AWS_ACCESS_KEY_ID" [2724,2743]
                                            STRING [2744,2795]
                                                String: "${{ secrets.AWS_PYTORCH_UPLOADER_ACCESS_KEY_ID }}" [2744,2795]
                                        FIELD [2796,2875]
                                            String: "AWS_SECRET_ACCESS_KEY" [2796,2819]
                                            STRING [2820,2875]
                                                String: "${{ secrets.AWS_PYTORCH_UPLOADER_SECRET_ACCESS_KEY }}" [2820,2875]
                                        FIELD [2876,2895]
                                            String: "CHANNEL" [2876,2885]
                                            STRING [2886,2895]
                                                String: "nightly" [2886,2895]
                                FIELD [2897,3009]
                                    String: "run" [2897,2902]
                                    STRING [2903,3009]
                                        String: "for pkg in dist/*; do\n  aws s3 cp \"$pkg\" \"s3://pytorch/whl/${CHANNEL}/cpu/\" --acl public-read\ndone" [2903,3009]