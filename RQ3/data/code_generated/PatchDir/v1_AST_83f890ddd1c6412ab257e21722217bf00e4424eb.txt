OBJECT [0,9887]
    FIELD [1,40]
        String: "name" [1,7]
        STRING [8,40]
            String: "Self-hosted runner (scheduled)" [8,40]
    FIELD [41,143]
        String: "on" [41,45]
        OBJECT [46,143]
            FIELD [47,81]
                String: "push" [47,53]
                OBJECT [54,81]
                    FIELD [55,80]
                        String: "branches" [55,65]
                        ARRAY [66,80]
                            STRING [67,79]
                                String: "multi_ci_*" [67,79]
            FIELD [82,108]
                String: "repository_dispatch" [82,103]
                NULL [104,108]
            FIELD [109,142]
                String: "schedule" [109,119]
                ARRAY [120,142]
                    OBJECT [121,141]
                        FIELD [122,140]
                            String: "cron" [122,128]
                            STRING [129,140]
                                String: "0 0 * * *" [129,140]
    FIELD [144,9886]
        String: "jobs" [144,150]
        OBJECT [151,9886]
            FIELD [152,2690]
                String: "run_all_tests_torch_gpu" [152,177]
                OBJECT [178,2690]
                    FIELD [179,223]
                        String: "runs-on" [179,188]
                        ARRAY [189,223]
                            STRING [190,203]
                                String: "self-hosted" [190,203]
                            STRING [204,209]
                                String: "gpu" [204,209]
                            STRING [210,222]
                                String: "single-gpu" [210,222]
                    FIELD [224,2689]
                        String: "steps" [224,231]
                        ARRAY [232,2689]
                            OBJECT [233,263]
                                FIELD [234,262]
                                    String: "uses" [234,240]
                                    STRING [241,262]
                                        String: "actions/checkout@v2" [241,262]
                            OBJECT [264,416]
                                FIELD [265,288]
                                    String: "name" [265,271]
                                    STRING [272,288]
                                        String: "Loading cache." [272,288]
                                FIELD [289,314]
                                    String: "uses" [289,295]
                                    STRING [296,314]
                                        String: "actions/cache@v2" [296,314]
                                FIELD [315,327]
                                    String: "id" [315,319]
                                    STRING [320,327]
                                        String: "cache" [320,327]
                                FIELD [328,415]
                                    String: "with" [328,334]
                                    OBJECT [335,415]
                                        FIELD [336,349]
                                            String: "path" [336,342]
                                            STRING [343,349]
                                                String: ".env" [343,349]
                                        FIELD [350,414]
                                            String: "key" [350,355]
                                            STRING [356,414]
                                                String: "v  1.1-slow_tests_torch_gpu-${{ hashFiles('setup.py') }}" [356,414]
                            OBJECT [417,498]
                                FIELD [418,441]
                                    String: "name" [418,424]
                                    STRING [425,441]
                                        String: "Python version" [425,441]
                                FIELD [442,497]
                                    String: "run" [442,447]
                                    STRING [448,497]
                                        String: "which python\npython --version\npip --version\n" [448,497]
                            OBJECT [499,533]
                                FIELD [500,520]
                                    String: "name" [500,506]
                                    STRING [507,520]
                                        String: "Current dir" [507,520]
                                FIELD [521,532]
                                    String: "run" [521,526]
                                    STRING [527,532]
                                        String: "pwd" [527,532]
                            OBJECT [534,554]
                                FIELD [535,553]
                                    String: "run" [535,540]
                                    STRING [541,553]
                                        String: "nvidia-smi" [541,553]
                            OBJECT [555,667]
                                FIELD [556,599]
                                    String: "name" [556,562]
                                    STRING [563,599]
                                        String: "Kill any run-away pytest processes" [563,599]
                                FIELD [600,666]
                                    String: "run" [600,605]
                                    STRING [606,666]
                                        String: "(pkill -f tests; pkill -f examples) || echo \"no zombies\"" [606,666]
                            OBJECT [668,913]
                                FIELD [669,762]
                                    String: "name" [669,675]
                                    STRING [676,762]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [676,762]
                                FIELD [763,809]
                                    String: "if" [763,767]
                                    STRING [768,809]
                                        String: "steps.cache.outputs.cache-hit != 'true'" [768,809]
                                FIELD [810,912]
                                    String: "run" [810,815]
                                    STRING [816,912]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [816,912]
                            OBJECT [914,1138]
                                FIELD [915,944]
                                    String: "name" [915,921]
                                    STRING [922,944]
                                        String: "Install dependencies" [922,944]
                                FIELD [945,1137]
                                    String: "run" [945,950]
                                    STRING [951,1137]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install .[torch,sklearn,testing,onnxruntime,sentencepiece]\npip install git+https://github.com/huggingface/datasets\npip list\n" [951,1137]
                            OBJECT [1139,1397]
                                FIELD [1140,1189]
                                    String: "name" [1140,1146]
                                    STRING [1147,1189]
                                        String: "Are GPUs recognized by our DL frameworks" [1147,1189]
                                FIELD [1190,1396]
                                    String: "run" [1190,1195]
                                    STRING [1196,1396]
                                        String: "source .env/bin/activate\npython -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [1196,1396]
                            OBJECT [1398,1587]
                                FIELD [1399,1428]
                                    String: "name" [1399,1405]
                                    STRING [1406,1428]
                                        String: "Run all tests on GPU" [1406,1428]
                                FIELD [1429,1472]
                                    String: "env" [1429,1434]
                                    OBJECT [1435,1472]
                                        FIELD [1436,1455]
                                            String: "OMP_NUM_THREADS" [1436,1453]
                                            NUMBER [1454,1455]
                                                Number: 1 [1454,1455]
                                        FIELD [1456,1471]
                                            String: "RUN_SLOW" [1456,1466]
                                            TRUE [1467,1471]
                                FIELD [1473,1586]
                                    String: "run" [1473,1478]
                                    STRING [1479,1586]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s --make-reports=tests_torch_gpu tests\n" [1479,1586]
                            OBJECT [1588,1698]
                                FIELD [1589,1619]
                                    String: "name" [1589,1595]
                                    STRING [1596,1619]
                                        String: "Failure short reports" [1596,1619]
                                FIELD [1620,1642]
                                    String: "if" [1620,1624]
                                    STRING [1625,1642]
                                        String: "${{ always() }}" [1625,1642]
                                FIELD [1643,1697]
                                    String: "run" [1643,1648]
                                    STRING [1649,1697]
                                        String: "cat reports/tests_torch_gpu_failures_short.txt" [1649,1697]
                            OBJECT [1699,1971]
                                FIELD [1700,1734]
                                    String: "name" [1700,1706]
                                    STRING [1707,1734]
                                        String: "Run examples tests on GPU" [1707,1734]
                                FIELD [1735,1757]
                                    String: "if" [1735,1739]
                                    STRING [1740,1757]
                                        String: "${{ always() }}" [1740,1757]
                                FIELD [1758,1801]
                                    String: "env" [1758,1763]
                                    OBJECT [1764,1801]
                                        FIELD [1765,1784]
                                            String: "OMP_NUM_THREADS" [1765,1782]
                                            NUMBER [1783,1784]
                                                Number: 1 [1783,1784]
                                        FIELD [1785,1800]
                                            String: "RUN_SLOW" [1785,1795]
                                            TRUE [1796,1800]
                                FIELD [1802,1970]
                                    String: "run" [1802,1807]
                                    STRING [1808,1970]
                                        String: "source .env/bin/activate\npip install -r examples/_tests_requirements.txt\npython -m pytest -n 1 --dist=loadfile -s --make-reports=examples_torch_gpu examples\n" [1808,1970]
                            OBJECT [1972,2085]
                                FIELD [1973,2003]
                                    String: "name" [1973,1979]
                                    STRING [1980,2003]
                                        String: "Failure short reports" [1980,2003]
                                FIELD [2004,2026]
                                    String: "if" [2004,2008]
                                    STRING [2009,2026]
                                        String: "${{ always() }}" [2009,2026]
                                FIELD [2027,2084]
                                    String: "run" [2027,2032]
                                    STRING [2033,2084]
                                        String: "cat reports/examples_torch_gpu_failures_short.txt" [2033,2084]
                            OBJECT [2086,2397]
                                FIELD [2087,2125]
                                    String: "name" [2087,2093]
                                    STRING [2094,2125]
                                        String: "Run all pipeline tests on GPU" [2094,2125]
                                FIELD [2126,2148]
                                    String: "if" [2126,2130]
                                    STRING [2131,2148]
                                        String: "${{ always() }}" [2131,2148]
                                FIELD [2149,2253]
                                    String: "env" [2149,2154]
                                    OBJECT [2155,2253]
                                        FIELD [2156,2190]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [2156,2183]
                                            STRING [2184,2190]
                                                String: "true" [2184,2190]
                                        FIELD [2191,2210]
                                            String: "OMP_NUM_THREADS" [2191,2208]
                                            NUMBER [2209,2210]
                                                Number: 1 [2209,2210]
                                        FIELD [2211,2226]
                                            String: "RUN_SLOW" [2211,2221]
                                            TRUE [2222,2226]
                                        FIELD [2227,2252]
                                            String: "RUN_PIPELINE_TESTS" [2227,2247]
                                            TRUE [2248,2252]
                                FIELD [2254,2396]
                                    String: "run" [2254,2259]
                                    STRING [2260,2396]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s -m is_pipeline_test --make-reports=tests_torch_pipeline_gpu tests\n" [2260,2396]
                            OBJECT [2398,2517]
                                FIELD [2399,2429]
                                    String: "name" [2399,2405]
                                    STRING [2406,2429]
                                        String: "Failure short reports" [2406,2429]
                                FIELD [2430,2452]
                                    String: "if" [2430,2434]
                                    STRING [2435,2452]
                                        String: "${{ always() }}" [2435,2452]
                                FIELD [2453,2516]
                                    String: "run" [2453,2458]
                                    STRING [2459,2516]
                                        String: "cat reports/tests_torch_pipeline_gpu_failures_short.txt" [2459,2516]
                            OBJECT [2518,2688]
                                FIELD [2519,2556]
                                    String: "name" [2519,2525]
                                    STRING [2526,2556]
                                        String: "Test suite reports artifacts" [2526,2556]
                                FIELD [2557,2579]
                                    String: "if" [2557,2561]
                                    STRING [2562,2579]
                                        String: "${{ always() }}" [2562,2579]
                                FIELD [2580,2615]
                                    String: "uses" [2580,2586]
                                    STRING [2587,2615]
                                        String: "actions/upload-artifact@v2" [2587,2615]
                                FIELD [2616,2687]
                                    String: "with" [2616,2622]
                                    OBJECT [2623,2687]
                                        FIELD [2624,2669]
                                            String: "name" [2624,2630]
                                            STRING [2631,2669]
                                                String: "run_all_tests_torch_gpu_test_reports" [2631,2669]
                                        FIELD [2670,2686]
                                            String: "path" [2670,2676]
                                            STRING [2677,2686]
                                                String: "reports" [2677,2686]
            FIELD [2691,4929]
                String: "run_all_tests_tf_gpu" [2691,2713]
                OBJECT [2714,4929]
                    FIELD [2715,2759]
                        String: "runs-on" [2715,2724]
                        ARRAY [2725,2759]
                            STRING [2726,2739]
                                String: "self-hosted" [2726,2739]
                            STRING [2740,2745]
                                String: "gpu" [2740,2745]
                            STRING [2746,2758]
                                String: "single-gpu" [2746,2758]
                    FIELD [2760,4928]
                        String: "steps" [2760,2767]
                        ARRAY [2768,4928]
                            OBJECT [2769,2799]
                                FIELD [2770,2798]
                                    String: "uses" [2770,2776]
                                    STRING [2777,2798]
                                        String: "actions/checkout@v2" [2777,2798]
                            OBJECT [2800,2947]
                                FIELD [2801,2824]
                                    String: "name" [2801,2807]
                                    STRING [2808,2824]
                                        String: "Loading cache." [2808,2824]
                                FIELD [2825,2850]
                                    String: "uses" [2825,2831]
                                    STRING [2832,2850]
                                        String: "actions/cache@v2" [2832,2850]
                                FIELD [2851,2863]
                                    String: "id" [2851,2855]
                                    STRING [2856,2863]
                                        String: "cache" [2856,2863]
                                FIELD [2864,2946]
                                    String: "with" [2864,2870]
                                    OBJECT [2871,2946]
                                        FIELD [2872,2885]
                                            String: "path" [2872,2878]
                                            STRING [2879,2885]
                                                String: ".env" [2879,2885]
                                        FIELD [2886,2945]
                                            String: "key" [2886,2891]
                                            STRING [2892,2945]
                                                String: "v1.1-slow_tests_tf_gpu-${{ hashFiles('setup.py') }}" [2892,2945]
                            OBJECT [2948,3029]
                                FIELD [2949,2972]
                                    String: "name" [2949,2955]
                                    STRING [2956,2972]
                                        String: "Python version" [2956,2972]
                                FIELD [2973,3028]
                                    String: "run" [2973,2978]
                                    STRING [2979,3028]
                                        String: "which python\npython --version\npip --version\n" [2979,3028]
                            OBJECT [3030,3064]
                                FIELD [3031,3051]
                                    String: "name" [3031,3037]
                                    STRING [3038,3051]
                                        String: "Current dir" [3038,3051]
                                FIELD [3052,3063]
                                    String: "run" [3052,3057]
                                    STRING [3058,3063]
                                        String: "pwd" [3058,3063]
                            OBJECT [3065,3085]
                                FIELD [3066,3084]
                                    String: "run" [3066,3071]
                                    STRING [3072,3084]
                                        String: "nvidia-smi" [3072,3084]
                            OBJECT [3086,3198]
                                FIELD [3087,3130]
                                    String: "name" [3087,3093]
                                    STRING [3094,3130]
                                        String: "Kill any run-away pytest processes" [3094,3130]
                                FIELD [3131,3197]
                                    String: "run" [3131,3136]
                                    STRING [3137,3197]
                                        String: "(pkill -f tests; pkill -f examples) || echo \"no zombies\"" [3137,3197]
                            OBJECT [3199,3444]
                                FIELD [3200,3293]
                                    String: "name" [3200,3206]
                                    STRING [3207,3293]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [3207,3293]
                                FIELD [3294,3340]
                                    String: "if" [3294,3298]
                                    STRING [3299,3340]
                                        String: "steps.cache.outputs.cache-hit != 'true'" [3299,3340]
                                FIELD [3341,3443]
                                    String: "run" [3341,3346]
                                    STRING [3347,3443]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [3347,3443]
                            OBJECT [3445,3666]
                                FIELD [3446,3475]
                                    String: "name" [3446,3452]
                                    STRING [3453,3475]
                                        String: "Install dependencies" [3453,3475]
                                FIELD [3476,3665]
                                    String: "run" [3476,3481]
                                    STRING [3482,3665]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install .[tf,sklearn,testing,onnxruntime,sentencepiece]\npip install git+https://github.com/huggingface/datasets\npip list\n" [3482,3665]
                            OBJECT [3667,4036]
                                FIELD [3668,3717]
                                    String: "name" [3668,3674]
                                    STRING [3675,3717]
                                        String: "Are GPUs recognized by our DL frameworks" [3675,3717]
                                FIELD [3718,4035]
                                    String: "run" [3718,3723]
                                    STRING [3724,4035]
                                        String: "source .env/bin/activate\nTF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [3724,4035]
                            OBJECT [4037,4223]
                                FIELD [4038,4067]
                                    String: "name" [4038,4044]
                                    STRING [4045,4067]
                                        String: "Run all tests on GPU" [4045,4067]
                                FIELD [4068,4111]
                                    String: "env" [4068,4073]
                                    OBJECT [4074,4111]
                                        FIELD [4075,4094]
                                            String: "OMP_NUM_THREADS" [4075,4092]
                                            NUMBER [4093,4094]
                                                Number: 1 [4093,4094]
                                        FIELD [4095,4110]
                                            String: "RUN_SLOW" [4095,4105]
                                            TRUE [4106,4110]
                                FIELD [4112,4222]
                                    String: "run" [4112,4117]
                                    STRING [4118,4222]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s --make-reports=tests_tf_gpu tests\n" [4118,4222]
                            OBJECT [4224,4331]
                                FIELD [4225,4255]
                                    String: "name" [4225,4231]
                                    STRING [4232,4255]
                                        String: "Failure short reports" [4232,4255]
                                FIELD [4256,4278]
                                    String: "if" [4256,4260]
                                    STRING [4261,4278]
                                        String: "${{ always() }}" [4261,4278]
                                FIELD [4279,4330]
                                    String: "run" [4279,4284]
                                    STRING [4285,4330]
                                        String: "cat reports/tests_tf_gpu_failures_short.txt" [4285,4330]
                            OBJECT [4332,4641]
                                FIELD [4333,4371]
                                    String: "name" [4333,4339]
                                    STRING [4340,4371]
                                        String: "Run all pipeline tests on GPU" [4340,4371]
                                FIELD [4372,4394]
                                    String: "if" [4372,4376]
                                    STRING [4377,4394]
                                        String: "${{ always() }}" [4377,4394]
                                FIELD [4395,4499]
                                    String: "env" [4395,4400]
                                    OBJECT [4401,4499]
                                        FIELD [4402,4436]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [4402,4429]
                                            STRING [4430,4436]
                                                String: "true" [4430,4436]
                                        FIELD [4437,4456]
                                            String: "OMP_NUM_THREADS" [4437,4454]
                                            NUMBER [4455,4456]
                                                Number: 1 [4455,4456]
                                        FIELD [4457,4472]
                                            String: "RUN_SLOW" [4457,4467]
                                            TRUE [4468,4472]
                                        FIELD [4473,4498]
                                            String: "RUN_PIPELINE_TESTS" [4473,4493]
                                            TRUE [4494,4498]
                                FIELD [4500,4640]
                                    String: "run" [4500,4505]
                                    STRING [4506,4640]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s -m is_pipeline_test --make-reports=tests_tf_pipelines_gpu tests\n" [4506,4640]
                            OBJECT [4642,4759]
                                FIELD [4643,4673]
                                    String: "name" [4643,4649]
                                    STRING [4650,4673]
                                        String: "Failure short reports" [4650,4673]
                                FIELD [4674,4696]
                                    String: "if" [4674,4678]
                                    STRING [4679,4696]
                                        String: "${{ always() }}" [4679,4696]
                                FIELD [4697,4758]
                                    String: "run" [4697,4702]
                                    STRING [4703,4758]
                                        String: "cat reports/tests_tf_pipelines_gpu_failures_short.txt" [4703,4758]
                            OBJECT [4760,4927]
                                FIELD [4761,4798]
                                    String: "name" [4761,4767]
                                    STRING [4768,4798]
                                        String: "Test suite reports artifacts" [4768,4798]
                                FIELD [4799,4821]
                                    String: "if" [4799,4803]
                                    STRING [4804,4821]
                                        String: "${{ always() }}" [4804,4821]
                                FIELD [4822,4857]
                                    String: "uses" [4822,4828]
                                    STRING [4829,4857]
                                        String: "actions/upload-artifact@v2" [4829,4857]
                                FIELD [4858,4926]
                                    String: "with" [4858,4864]
                                    OBJECT [4865,4926]
                                        FIELD [4866,4908]
                                            String: "name" [4866,4872]
                                            STRING [4873,4908]
                                                String: "run_all_tests_tf_gpu_test_reports" [4873,4908]
                                        FIELD [4909,4925]
                                            String: "path" [4909,4915]
                                            STRING [4916,4925]
                                                String: "reports" [4916,4925]
            FIELD [4930,7595]
                String: "run_all_tests_torch_multi_gpu" [4930,4961]
                OBJECT [4962,7595]
                    FIELD [4963,5006]
                        String: "runs-on" [4963,4972]
                        ARRAY [4973,5006]
                            STRING [4974,4987]
                                String: "self-hosted" [4974,4987]
                            STRING [4988,4993]
                                String: "gpu" [4988,4993]
                            STRING [4994,5005]
                                String: "multi-gpu" [4994,5005]
                    FIELD [5007,7594]
                        String: "steps" [5007,5014]
                        ARRAY [5015,7594]
                            OBJECT [5016,5046]
                                FIELD [5017,5045]
                                    String: "uses" [5017,5023]
                                    STRING [5024,5045]
                                        String: "actions/checkout@v2" [5024,5045]
                            OBJECT [5047,5203]
                                FIELD [5048,5071]
                                    String: "name" [5048,5054]
                                    STRING [5055,5071]
                                        String: "Loading cache." [5055,5071]
                                FIELD [5072,5097]
                                    String: "uses" [5072,5078]
                                    STRING [5079,5097]
                                        String: "actions/cache@v2" [5079,5097]
                                FIELD [5098,5110]
                                    String: "id" [5098,5102]
                                    STRING [5103,5110]
                                        String: "cache" [5103,5110]
                                FIELD [5111,5202]
                                    String: "with" [5111,5117]
                                    OBJECT [5118,5202]
                                        FIELD [5119,5132]
                                            String: "path" [5119,5125]
                                            STRING [5126,5132]
                                                String: ".env" [5126,5132]
                                        FIELD [5133,5201]
                                            String: "key" [5133,5138]
                                            STRING [5139,5201]
                                                String: "v1.1-slow_tests_torch_multi_gpu-${{ hashFiles('setup.py') }}" [5139,5201]
                            OBJECT [5204,5285]
                                FIELD [5205,5228]
                                    String: "name" [5205,5211]
                                    STRING [5212,5228]
                                        String: "Python version" [5212,5228]
                                FIELD [5229,5284]
                                    String: "run" [5229,5234]
                                    STRING [5235,5284]
                                        String: "which python\npython --version\npip --version\n" [5235,5284]
                            OBJECT [5286,5320]
                                FIELD [5287,5307]
                                    String: "name" [5287,5293]
                                    STRING [5294,5307]
                                        String: "Current dir" [5294,5307]
                                FIELD [5308,5319]
                                    String: "run" [5308,5313]
                                    STRING [5314,5319]
                                        String: "pwd" [5314,5319]
                            OBJECT [5321,5341]
                                FIELD [5322,5340]
                                    String: "run" [5322,5327]
                                    STRING [5328,5340]
                                        String: "nvidia-smi" [5328,5340]
                            OBJECT [5342,5454]
                                FIELD [5343,5386]
                                    String: "name" [5343,5349]
                                    STRING [5350,5386]
                                        String: "Kill any run-away pytest processes" [5350,5386]
                                FIELD [5387,5453]
                                    String: "run" [5387,5392]
                                    STRING [5393,5453]
                                        String: "(pkill -f tests; pkill -f examples) || echo \"no zombies\"" [5393,5453]
                            OBJECT [5455,5700]
                                FIELD [5456,5549]
                                    String: "name" [5456,5462]
                                    STRING [5463,5549]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [5463,5549]
                                FIELD [5550,5596]
                                    String: "if" [5550,5554]
                                    STRING [5555,5596]
                                        String: "steps.cache.outputs.cache-hit != 'true'" [5555,5596]
                                FIELD [5597,5699]
                                    String: "run" [5597,5602]
                                    STRING [5603,5699]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [5603,5699]
                            OBJECT [5701,5971]
                                FIELD [5702,5731]
                                    String: "name" [5702,5708]
                                    STRING [5709,5731]
                                        String: "Install dependencies" [5709,5731]
                                FIELD [5732,5970]
                                    String: "run" [5732,5737]
                                    STRING [5738,5970]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install .[torch,sklearn,testing,onnxruntime,sentencepiece]\npip install git+https://github.com/huggingface/datasets\npip install fairscale\npip install deepspeed\npip list\n" [5738,5970]
                            OBJECT [5972,6230]
                                FIELD [5973,6022]
                                    String: "name" [5973,5979]
                                    STRING [5980,6022]
                                        String: "Are GPUs recognized by our DL frameworks" [5980,6022]
                                FIELD [6023,6229]
                                    String: "run" [6023,6028]
                                    STRING [6029,6229]
                                        String: "source .env/bin/activate\npython -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [6029,6229]
                            OBJECT [6231,6432]
                                FIELD [6232,6267]
                                    String: "name" [6232,6238]
                                    STRING [6239,6267]
                                        String: "Run all tests on multi-GPU" [6239,6267]
                                FIELD [6268,6311]
                                    String: "env" [6268,6273]
                                    OBJECT [6274,6311]
                                        FIELD [6275,6294]
                                            String: "OMP_NUM_THREADS" [6275,6292]
                                            NUMBER [6293,6294]
                                                Number: 1 [6293,6294]
                                        FIELD [6295,6310]
                                            String: "RUN_SLOW" [6295,6305]
                                            TRUE [6306,6310]
                                FIELD [6312,6431]
                                    String: "run" [6312,6317]
                                    STRING [6318,6431]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s --make-reports=tests_torch_multi_gpu tests\n" [6318,6431]
                            OBJECT [6433,6549]
                                FIELD [6434,6464]
                                    String: "name" [6434,6440]
                                    STRING [6441,6464]
                                        String: "Failure short reports" [6441,6464]
                                FIELD [6465,6487]
                                    String: "if" [6465,6469]
                                    STRING [6470,6487]
                                        String: "${{ always() }}" [6470,6487]
                                FIELD [6488,6548]
                                    String: "run" [6488,6493]
                                    STRING [6494,6548]
                                        String: "cat reports/tests_torch_multi_gpu_failures_short.txt" [6494,6548]
                            OBJECT [6550,6840]
                                FIELD [6551,6591]
                                    String: "name" [6551,6557]
                                    STRING [6558,6591]
                                        String: "Run examples tests on multi-GPU" [6558,6591]
                                FIELD [6592,6614]
                                    String: "if" [6592,6596]
                                    STRING [6597,6614]
                                        String: "${{ always() }}" [6597,6614]
                                FIELD [6615,6658]
                                    String: "env" [6615,6620]
                                    OBJECT [6621,6658]
                                        FIELD [6622,6641]
                                            String: "OMP_NUM_THREADS" [6622,6639]
                                            NUMBER [6640,6641]
                                                Number: 1 [6640,6641]
                                        FIELD [6642,6657]
                                            String: "RUN_SLOW" [6642,6652]
                                            TRUE [6653,6657]
                                FIELD [6659,6839]
                                    String: "run" [6659,6664]
                                    STRING [6665,6839]
                                        String: "source .env/bin/activate\npip install -r examples/_tests_requirements.txt\npython -m pytest -n 1 --dist=loadfile -s --make-reports=tests_torch_examples_multi_gpu examples\n" [6665,6839]
                            OBJECT [6841,6966]
                                FIELD [6842,6872]
                                    String: "name" [6842,6848]
                                    STRING [6849,6872]
                                        String: "Failure short reports" [6849,6872]
                                FIELD [6873,6895]
                                    String: "if" [6873,6877]
                                    STRING [6878,6895]
                                        String: "${{ always() }}" [6878,6895]
                                FIELD [6896,6965]
                                    String: "run" [6896,6901]
                                    STRING [6902,6965]
                                        String: "cat reports/tests_torch_examples_multi_gpu_failures_short.txt" [6902,6965]
                            OBJECT [6967,7290]
                                FIELD [6968,7012]
                                    String: "name" [6968,6974]
                                    STRING [6975,7012]
                                        String: "Run all pipeline tests on multi-GPU" [6975,7012]
                                FIELD [7013,7035]
                                    String: "if" [7013,7017]
                                    STRING [7018,7035]
                                        String: "${{ always() }}" [7018,7035]
                                FIELD [7036,7140]
                                    String: "env" [7036,7041]
                                    OBJECT [7042,7140]
                                        FIELD [7043,7077]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [7043,7070]
                                            STRING [7071,7077]
                                                String: "true" [7071,7077]
                                        FIELD [7078,7097]
                                            String: "OMP_NUM_THREADS" [7078,7095]
                                            NUMBER [7096,7097]
                                                Number: 1 [7096,7097]
                                        FIELD [7098,7113]
                                            String: "RUN_SLOW" [7098,7108]
                                            TRUE [7109,7113]
                                        FIELD [7114,7139]
                                            String: "RUN_PIPELINE_TESTS" [7114,7134]
                                            TRUE [7135,7139]
                                FIELD [7141,7289]
                                    String: "run" [7141,7146]
                                    STRING [7147,7289]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s -m is_pipeline_test --make-reports=tests_torch_pipeline_multi_gpu tests\n" [7147,7289]
                            OBJECT [7291,7416]
                                FIELD [7292,7322]
                                    String: "name" [7292,7298]
                                    STRING [7299,7322]
                                        String: "Failure short reports" [7299,7322]
                                FIELD [7323,7345]
                                    String: "if" [7323,7327]
                                    STRING [7328,7345]
                                        String: "${{ always() }}" [7328,7345]
                                FIELD [7346,7415]
                                    String: "run" [7346,7351]
                                    STRING [7352,7415]
                                        String: "cat reports/tests_torch_pipeline_multi_gpu_failures_short.txt" [7352,7415]
                            OBJECT [7417,7593]
                                FIELD [7418,7455]
                                    String: "name" [7418,7424]
                                    STRING [7425,7455]
                                        String: "Test suite reports artifacts" [7425,7455]
                                FIELD [7456,7478]
                                    String: "if" [7456,7460]
                                    STRING [7461,7478]
                                        String: "${{ always() }}" [7461,7478]
                                FIELD [7479,7514]
                                    String: "uses" [7479,7485]
                                    STRING [7486,7514]
                                        String: "actions/upload-artifact@v2" [7486,7514]
                                FIELD [7515,7592]
                                    String: "with" [7515,7521]
                                    OBJECT [7522,7592]
                                        FIELD [7523,7574]
                                            String: "name" [7523,7529]
                                            STRING [7530,7574]
                                                String: "run_all_tests_torch_multi_gpu_test_reports" [7530,7574]
                                        FIELD [7575,7591]
                                            String: "path" [7575,7581]
                                            STRING [7582,7591]
                                                String: "reports" [7582,7591]
            FIELD [7596,9885]
                String: "run_all_tests_tf_multi_gpu" [7596,7624]
                OBJECT [7625,9885]
                    FIELD [7626,7669]
                        String: "runs-on" [7626,7635]
                        ARRAY [7636,7669]
                            STRING [7637,7650]
                                String: "self-hosted" [7637,7650]
                            STRING [7651,7656]
                                String: "gpu" [7651,7656]
                            STRING [7657,7668]
                                String: "multi-gpu" [7657,7668]
                    FIELD [7670,9884]
                        String: "steps" [7670,7677]
                        ARRAY [7678,9884]
                            OBJECT [7679,7709]
                                FIELD [7680,7708]
                                    String: "uses" [7680,7686]
                                    STRING [7687,7708]
                                        String: "actions/checkout@v2" [7687,7708]
                            OBJECT [7710,7863]
                                FIELD [7711,7734]
                                    String: "name" [7711,7717]
                                    STRING [7718,7734]
                                        String: "Loading cache." [7718,7734]
                                FIELD [7735,7760]
                                    String: "uses" [7735,7741]
                                    STRING [7742,7760]
                                        String: "actions/cache@v2" [7742,7760]
                                FIELD [7761,7773]
                                    String: "id" [7761,7765]
                                    STRING [7766,7773]
                                        String: "cache" [7766,7773]
                                FIELD [7774,7862]
                                    String: "with" [7774,7780]
                                    OBJECT [7781,7862]
                                        FIELD [7782,7795]
                                            String: "path" [7782,7788]
                                            STRING [7789,7795]
                                                String: ".env" [7789,7795]
                                        FIELD [7796,7861]
                                            String: "key" [7796,7801]
                                            STRING [7802,7861]
                                                String: "v1.1-slow_tests_tf_multi_gpu-${{ hashFiles('setup.py') }}" [7802,7861]
                            OBJECT [7864,7945]
                                FIELD [7865,7888]
                                    String: "name" [7865,7871]
                                    STRING [7872,7888]
                                        String: "Python version" [7872,7888]
                                FIELD [7889,7944]
                                    String: "run" [7889,7894]
                                    STRING [7895,7944]
                                        String: "which python\npython --version\npip --version\n" [7895,7944]
                            OBJECT [7946,7980]
                                FIELD [7947,7967]
                                    String: "name" [7947,7953]
                                    STRING [7954,7967]
                                        String: "Current dir" [7954,7967]
                                FIELD [7968,7979]
                                    String: "run" [7968,7973]
                                    STRING [7974,7979]
                                        String: "pwd" [7974,7979]
                            OBJECT [7981,8001]
                                FIELD [7982,8000]
                                    String: "run" [7982,7987]
                                    STRING [7988,8000]
                                        String: "nvidia-smi" [7988,8000]
                            OBJECT [8002,8114]
                                FIELD [8003,8046]
                                    String: "name" [8003,8009]
                                    STRING [8010,8046]
                                        String: "Kill any run-away pytest processes" [8010,8046]
                                FIELD [8047,8113]
                                    String: "run" [8047,8052]
                                    STRING [8053,8113]
                                        String: "(pkill -f tests; pkill -f examples) || echo \"no zombies\"" [8053,8113]
                            OBJECT [8115,8360]
                                FIELD [8116,8209]
                                    String: "name" [8116,8122]
                                    STRING [8123,8209]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [8123,8209]
                                FIELD [8210,8256]
                                    String: "if" [8210,8214]
                                    STRING [8215,8256]
                                        String: "steps.cache.outputs.cache-hit != 'true'" [8215,8256]
                                FIELD [8257,8359]
                                    String: "run" [8257,8262]
                                    STRING [8263,8359]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [8263,8359]
                            OBJECT [8361,8582]
                                FIELD [8362,8391]
                                    String: "name" [8362,8368]
                                    STRING [8369,8391]
                                        String: "Install dependencies" [8369,8391]
                                FIELD [8392,8581]
                                    String: "run" [8392,8397]
                                    STRING [8398,8581]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install .[tf,sklearn,testing,onnxruntime,sentencepiece]\npip install git+https://github.com/huggingface/datasets\npip list\n" [8398,8581]
                            OBJECT [8583,8952]
                                FIELD [8584,8633]
                                    String: "name" [8584,8590]
                                    STRING [8591,8633]
                                        String: "Are GPUs recognized by our DL frameworks" [8591,8633]
                                FIELD [8634,8951]
                                    String: "run" [8634,8639]
                                    STRING [8640,8951]
                                        String: "source .env/bin/activate\nTF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [8640,8951]
                            OBJECT [8953,9151]
                                FIELD [8954,8989]
                                    String: "name" [8954,8960]
                                    STRING [8961,8989]
                                        String: "Run all tests on multi-GPU" [8961,8989]
                                FIELD [8990,9033]
                                    String: "env" [8990,8995]
                                    OBJECT [8996,9033]
                                        FIELD [8997,9016]
                                            String: "OMP_NUM_THREADS" [8997,9014]
                                            NUMBER [9015,9016]
                                                Number: 1 [9015,9016]
                                        FIELD [9017,9032]
                                            String: "RUN_SLOW" [9017,9027]
                                            TRUE [9028,9032]
                                FIELD [9034,9150]
                                    String: "run" [9034,9039]
                                    STRING [9040,9150]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s --make-reports=tests_tf_multi_gpu tests\n" [9040,9150]
                            OBJECT [9152,9265]
                                FIELD [9153,9183]
                                    String: "name" [9153,9159]
                                    STRING [9160,9183]
                                        String: "Failure short reports" [9160,9183]
                                FIELD [9184,9206]
                                    String: "if" [9184,9188]
                                    STRING [9189,9206]
                                        String: "${{ always() }}" [9189,9206]
                                FIELD [9207,9264]
                                    String: "run" [9207,9212]
                                    STRING [9213,9264]
                                        String: "cat reports/tests_tf_multi_gpu_failures_short.txt" [9213,9264]
                            OBJECT [9266,9586]
                                FIELD [9267,9311]
                                    String: "name" [9267,9273]
                                    STRING [9274,9311]
                                        String: "Run all pipeline tests on multi-GPU" [9274,9311]
                                FIELD [9312,9334]
                                    String: "if" [9312,9316]
                                    STRING [9317,9334]
                                        String: "${{ always() }}" [9317,9334]
                                FIELD [9335,9439]
                                    String: "env" [9335,9340]
                                    OBJECT [9341,9439]
                                        FIELD [9342,9376]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [9342,9369]
                                            STRING [9370,9376]
                                                String: "true" [9370,9376]
                                        FIELD [9377,9396]
                                            String: "OMP_NUM_THREADS" [9377,9394]
                                            NUMBER [9395,9396]
                                                Number: 1 [9395,9396]
                                        FIELD [9397,9412]
                                            String: "RUN_SLOW" [9397,9407]
                                            TRUE [9408,9412]
                                        FIELD [9413,9438]
                                            String: "RUN_PIPELINE_TESTS" [9413,9433]
                                            TRUE [9434,9438]
                                FIELD [9440,9585]
                                    String: "run" [9440,9445]
                                    STRING [9446,9585]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s -m is_pipeline_test --make-reports=tests_tf_pipeline_multi_gpu tests\n" [9446,9585]
                            OBJECT [9587,9709]
                                FIELD [9588,9618]
                                    String: "name" [9588,9594]
                                    STRING [9595,9618]
                                        String: "Failure short reports" [9595,9618]
                                FIELD [9619,9641]
                                    String: "if" [9619,9623]
                                    STRING [9624,9641]
                                        String: "${{ always() }}" [9624,9641]
                                FIELD [9642,9708]
                                    String: "run" [9642,9647]
                                    STRING [9648,9708]
                                        String: "cat reports/tests_tf_pipeline_multi_gpu_failures_short.txt" [9648,9708]
                            OBJECT [9710,9883]
                                FIELD [9711,9748]
                                    String: "name" [9711,9717]
                                    STRING [9718,9748]
                                        String: "Test suite reports artifacts" [9718,9748]
                                FIELD [9749,9771]
                                    String: "if" [9749,9753]
                                    STRING [9754,9771]
                                        String: "${{ always() }}" [9754,9771]
                                FIELD [9772,9807]
                                    String: "uses" [9772,9778]
                                    STRING [9779,9807]
                                        String: "actions/upload-artifact@v2" [9779,9807]
                                FIELD [9808,9882]
                                    String: "with" [9808,9814]
                                    OBJECT [9815,9882]
                                        FIELD [9816,9864]
                                            String: "name" [9816,9822]
                                            STRING [9823,9864]
                                                String: "run_all_tests_tf_multi_gpu_test_reports" [9823,9864]
                                        FIELD [9865,9881]
                                            String: "path" [9865,9871]
                                            STRING [9872,9881]
                                                String: "reports" [9872,9881]