OBJECT [0,4600]
    FIELD [1,14]
        String: "name" [1,7]
        STRING [8,14]
            String: "test" [8,14]
    FIELD [15,117]
        String: "on" [15,19]
        OBJECT [20,117]
            FIELD [21,64]
                String: "push" [21,27]
                OBJECT [28,64]
                    FIELD [29,63]
                        String: "branches" [29,39]
                        ARRAY [40,63]
                            STRING [41,49]
                                String: "master" [41,49]
                            STRING [50,62]
                                String: "release-**" [50,62]
            FIELD [65,116]
                String: "pull_request" [65,79]
                OBJECT [80,116]
                    FIELD [81,115]
                        String: "branches" [81,91]
                        ARRAY [92,115]
                            STRING [93,101]
                                String: "master" [93,101]
                            STRING [102,114]
                                String: "release-**" [102,114]
    FIELD [118,4599]
        String: "jobs" [118,124]
        OBJECT [125,4599]
            FIELD [126,2665]
                String: "unit_test" [126,137]
                OBJECT [138,2665]
                    FIELD [139,158]
                        String: "name" [139,145]
                        STRING [146,158]
                            String: "unit tests" [146,158]
                    FIELD [159,184]
                        String: "runs-on" [159,168]
                        STRING [169,184]
                            String: "ubuntu-latest" [169,184]
                    FIELD [185,878]
                        String: "services" [185,195]
                        OBJECT [196,878]
                            FIELD [197,388]
                                String: "mysql" [197,204]
                                OBJECT [205,388]
                                    FIELD [206,225]
                                        String: "image" [206,213]
                                        STRING [214,225]
                                            String: "mysql:8.0" [214,225]
                                    FIELD [226,240]
                                        String: "ports" [226,233]
                                        ARRAY [234,240]
                                            NUMBER [235,239]
                                                Number: 3306 [235,239]
                                    FIELD [241,281]
                                        String: "env" [241,246]
                                        OBJECT [247,281]
                                            FIELD [248,280]
                                                String: "MYSQL_ROOT_PASSWORD" [248,269]
                                                STRING [270,280]
                                                    String: "password" [270,280]
                                    FIELD [282,387]
                                        String: "options" [282,291]
                                        STRING [292,387]
                                            String: "--health-cmd=\"mysqladmin ping\" --health-interval=10s --health-timeout=5s --health-retries=3" [292,387]
                            FIELD [389,602]
                                String: "postgres" [389,399]
                                OBJECT [400,602]
                                    FIELD [401,424]
                                        String: "image" [401,408]
                                        STRING [409,424]
                                            String: "postgres:10.0" [409,424]
                                    FIELD [425,439]
                                        String: "ports" [425,432]
                                        ARRAY [433,439]
                                            NUMBER [434,438]
                                                Number: 5432 [434,438]
                                    FIELD [440,504]
                                        String: "env" [440,445]
                                        OBJECT [446,504]
                                            FIELD [447,470]
                                                String: "POSTGRES_USER" [447,462]
                                                STRING [463,470]
                                                    String: "gorse" [463,470]
                                            FIELD [471,503]
                                                String: "POSTGRES_PASSWORD" [471,490]
                                                STRING [491,503]
                                                    String: "gorse_pass" [491,503]
                                    FIELD [505,601]
                                        String: "options" [505,514]
                                        STRING [515,601]
                                            String: "--health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5" [515,601]
                            FIELD [603,824]
                                String: "mongo" [603,610]
                                OBJECT [611,824]
                                    FIELD [612,631]
                                        String: "image" [612,619]
                                        STRING [620,631]
                                            String: "mongo:4.0" [620,631]
                                    FIELD [632,647]
                                        String: "ports" [632,639]
                                        ARRAY [640,647]
                                            NUMBER [641,646]
                                                Number: 27017 [641,646]
                                    FIELD [648,731]
                                        String: "env" [648,653]
                                        OBJECT [654,731]
                                            FIELD [655,690]
                                                String: "MONGO_INITDB_ROOT_USERNAME" [655,683]
                                                STRING [684,690]
                                                    String: "root" [684,690]
                                            FIELD [691,730]
                                                String: "MONGO_INITDB_ROOT_PASSWORD" [691,719]
                                                STRING [720,730]
                                                    String: "password" [720,730]
                                    FIELD [732,823]
                                        String: "options" [732,741]
                                        STRING [742,823]
                                            String: "--health-cmd mongo --health-interval 10s --health-timeout 5s --health-retries 5" [742,823]
                            FIELD [825,877]
                                String: "redis" [825,832]
                                OBJECT [833,877]
                                    FIELD [834,861]
                                        String: "image" [834,841]
                                        STRING [842,861]
                                            String: "redis/redis-stack" [842,861]
                                    FIELD [862,876]
                                        String: "ports" [862,869]
                                        ARRAY [870,876]
                                            NUMBER [871,875]
                                                Number: 6379 [871,875]
                    FIELD [879,2664]
                        String: "steps" [879,886]
                        ARRAY [887,2664]
                            OBJECT [888,1733]
                                FIELD [889,912]
                                    String: "name" [889,895]
                                    STRING [896,912]
                                        String: "Set up dataset" [896,912]
                                FIELD [913,1732]
                                    String: "run" [913,918]
                                    STRING [919,1732]
                                        String: "mkdir -p ~/.gorse/dataset\nmkdir -p ~/.gorse/download\nwget https://cdn.gorse.io/datasets/ml-100k.zip -P ~/.gorse/download\nwget https://cdn.gorse.io/datasets/ml-1m.zip -P ~/.gorse/download\nwget https://cdn.gorse.io/datasets/pinterest-20.zip -P ~/.gorse/download\nwget https://cdn.gorse.io/datasets/frappe.zip -P ~/.gorse/download\nwget https://cdn.gorse.io/datasets/ml-tag.zip -P ~/.gorse/download\nwget https://cdn.gorse.io/datasets/criteo.zip -P ~/.gorse/download\nunzip ~/.gorse/download/ml-100k.zip -d ~/.gorse/dataset\nunzip ~/.gorse/download/ml-1m.zip -d ~/.gorse/dataset\nunzip ~/.gorse/download/pinterest-20.zip -d ~/.gorse/dataset\nunzip ~/.gorse/download/frappe.zip -d ~/.gorse/dataset\nunzip ~/.gorse/download/ml-tag.zip -d ~/.gorse/dataset\nunzip ~/.gorse/download/criteo.zip -d ~/.gorse/dataset\n" [919,1732]
                            OBJECT [1734,1831]
                                FIELD [1735,1760]
                                    String: "name" [1735,1741]
                                    STRING [1742,1760]
                                        String: "Set up Go 1.20.x" [1742,1760]
                                FIELD [1761,1789]
                                    String: "uses" [1761,1767]
                                    STRING [1768,1789]
                                        String: "actions/setup-go@v4" [1768,1789]
                                FIELD [1790,1820]
                                    String: "with" [1790,1796]
                                    OBJECT [1797,1820]
                                        FIELD [1798,1819]
                                            String: "go-version" [1798,1810]
                                            STRING [1811,1819]
                                                String: "1.20.x" [1811,1819]
                                FIELD [1821,1830]
                                    String: "id" [1821,1825]
                                    STRING [1826,1830]
                                        String: "go" [1826,1830]
                            OBJECT [1832,1915]
                                FIELD [1833,1885]
                                    String: "name" [1833,1839]
                                    STRING [1840,1885]
                                        String: "Check out code into the Go module directory" [1840,1885]
                                FIELD [1886,1914]
                                    String: "uses" [1886,1892]
                                    STRING [1893,1914]
                                        String: "actions/checkout@v2" [1893,1914]
                            OBJECT [1916,2101]
                                FIELD [1917,1942]
                                    String: "name" [1917,1923]
                                    STRING [1924,1942]
                                        String: "Get dependencies" [1924,1942]
                                FIELD [1943,2100]
                                    String: "run" [1943,1948]
                                    STRING [1949,2100]
                                        String: "go get -v -t -d ./...\nif [ -f Gopkg.toml ]; then\n    curl https://raw.githubusercontent.com/golang/dep/master/install.sh | sh\n    dep ensure\nfi\n" [1949,2100]
                            OBJECT [2102,2144]
                                FIELD [2103,2117]
                                    String: "name" [2103,2109]
                                    STRING [2110,2117]
                                        String: "Build" [2110,2117]
                                FIELD [2118,2143]
                                    String: "run" [2118,2123]
                                    STRING [2124,2143]
                                        String: "go build -v ./..." [2124,2143]
                            OBJECT [2145,2597]
                                FIELD [2146,2159]
                                    String: "name" [2146,2152]
                                    STRING [2153,2159]
                                        String: "Test" [2153,2159]
                                FIELD [2160,2242]
                                    String: "run" [2160,2165]
                                    STRING [2166,2242]
                                        String: "go test -timeout 20m -v ./... -coverprofile=coverage.txt -covermode=atomic" [2166,2242]
                                FIELD [2243,2596]
                                    String: "env" [2243,2248]
                                    OBJECT [2249,2596]
                                        FIELD [2250,2339]
                                            String: "MYSQL_URI" [2250,2261]
                                            STRING [2262,2339]
                                                String: "mysql://root:password@tcp(localhost:${{ job.services.mysql.ports[3306] }})/" [2262,2339]
                                        FIELD [2340,2436]
                                            String: "POSTGRES_URI" [2340,2354]
                                            STRING [2355,2436]
                                                String: "postgres://gorse:gorse_pass@localhost:${{ job.services.postgres.ports[5432] }}/" [2355,2436]
                                        FIELD [2437,2524]
                                            String: "MONGO_URI" [2437,2448]
                                            STRING [2449,2524]
                                                String: "mongodb://root:password@localhost:${{ job.services.mongo.ports[27017] }}/" [2449,2524]
                                        FIELD [2525,2595]
                                            String: "REDIS_URI" [2525,2536]
                                            STRING [2537,2595]
                                                String: "redis://localhost:${{ job.services.redis.ports[6379] }}/" [2537,2595]
                            OBJECT [2598,2663]
                                FIELD [2599,2614]
                                    String: "name" [2599,2605]
                                    STRING [2606,2614]
                                        String: "Upload" [2606,2614]
                                FIELD [2615,2662]
                                    String: "run" [2615,2620]
                                    STRING [2621,2662]
                                        String: "bash <(curl -s https://codecov.io/bash)" [2621,2662]
            FIELD [2666,3804]
                String: "integrate_test" [2666,2682]
                OBJECT [2683,3804]
                    FIELD [2684,2708]
                        String: "name" [2684,2690]
                        STRING [2691,2708]
                            String: "integrate tests" [2691,2708]
                    FIELD [2709,2734]
                        String: "runs-on" [2709,2718]
                        STRING [2719,2734]
                            String: "ubuntu-latest" [2719,2734]
                    FIELD [2735,2798]
                        String: "strategy" [2735,2745]
                        OBJECT [2746,2798]
                            FIELD [2747,2797]
                                String: "matrix" [2747,2755]
                                OBJECT [2756,2797]
                                    FIELD [2757,2796]
                                        String: "database" [2757,2767]
                                        ARRAY [2768,2796]
                                            STRING [2769,2776]
                                                String: "mysql" [2769,2776]
                                            STRING [2777,2787]
                                                String: "postgres" [2777,2787]
                                            STRING [2788,2795]
                                                String: "mongo" [2788,2795]
                    FIELD [2799,3803]
                        String: "steps" [2799,2806]
                        ARRAY [2807,3803]
                            OBJECT [2808,2838]
                                FIELD [2809,2837]
                                    String: "uses" [2809,2815]
                                    STRING [2816,2837]
                                        String: "actions/checkout@v1" [2816,2837]
                            OBJECT [2839,3031]
                                FIELD [2840,2875]
                                    String: "uses" [2840,2846]
                                    STRING [2847,2875]
                                        String: "cuchi/jinja2-action@v1.2.0" [2847,2875]
                                FIELD [2876,3030]
                                    String: "with" [2876,2882]
                                    OBJECT [2883,3030]
                                        FIELD [2884,2925]
                                            String: "template" [2884,2894]
                                            STRING [2895,2925]
                                                String: "client/docker-compose.yml.j2" [2895,2925]
                                        FIELD [2926,2967]
                                            String: "output_file" [2926,2939]
                                            STRING [2940,2967]
                                                String: "client/docker-compose.yml" [2940,2967]
                                        FIELD [2968,2981]
                                            String: "strict" [2968,2976]
                                            TRUE [2977,2981]
                                        FIELD [2982,3029]
                                            String: "variables" [2982,2993]
                                            STRING [2994,3029]
                                                String: "database=${{ matrix.database }}\n" [2994,3029]
                            OBJECT [3032,3138]
                                FIELD [3033,3057]
                                    String: "name" [3033,3039]
                                    STRING [3040,3057]
                                        String: "Build the stack" [3040,3057]
                                FIELD [3058,3137]
                                    String: "run" [3058,3063]
                                    STRING [3064,3137]
                                        String: "docker-compose -f client/docker-compose.yml --project-directory . up -d" [3064,3137]
                            OBJECT [3139,3382]
                                FIELD [3140,3179]
                                    String: "name" [3140,3146]
                                    STRING [3147,3179]
                                        String: "Check the deployed service URL" [3147,3179]
                                FIELD [3180,3221]
                                    String: "uses" [3180,3186]
                                    STRING [3187,3221]
                                        String: "jtalk/url-health-check-action@v2" [3187,3221]
                                FIELD [3222,3381]
                                    String: "with" [3222,3228]
                                    OBJECT [3229,3381]
                                        FIELD [3230,3327]
                                            String: "url" [3230,3235]
                                            STRING [3236,3327]
                                                String: "http://127.0.0.1:8088/metrics|http://127.0.0.1:8087/metrics|http://127.0.0.1:8089/metrics" [3236,3327]
                                        FIELD [3328,3344]
                                            String: "max-attempts" [3328,3342]
                                            NUMBER [3343,3344]
                                                Number: 5 [3343,3344]
                                        FIELD [3345,3363]
                                            String: "retry-delay" [3345,3358]
                                            STRING [3359,3363]
                                                String: "5s" [3359,3363]
                                        FIELD [3364,3380]
                                            String: "retry-all" [3364,3375]
                                            TRUE [3376,3380]
                            OBJECT [3383,3480]
                                FIELD [3384,3409]
                                    String: "name" [3384,3390]
                                    STRING [3391,3409]
                                        String: "Set up Go 1.20.x" [3391,3409]
                                FIELD [3410,3438]
                                    String: "uses" [3410,3416]
                                    STRING [3417,3438]
                                        String: "actions/setup-go@v4" [3417,3438]
                                FIELD [3439,3469]
                                    String: "with" [3439,3445]
                                    OBJECT [3446,3469]
                                        FIELD [3447,3468]
                                            String: "go-version" [3447,3459]
                                            STRING [3460,3468]
                                                String: "1.20.x" [3460,3468]
                                FIELD [3470,3479]
                                    String: "id" [3470,3474]
                                    STRING [3475,3479]
                                        String: "go" [3475,3479]
                            OBJECT [3481,3545]
                                FIELD [3482,3495]
                                    String: "name" [3482,3488]
                                    STRING [3489,3495]
                                        String: "Test" [3489,3495]
                                FIELD [3496,3544]
                                    String: "run" [3496,3501]
                                    STRING [3502,3544]
                                        String: "go test -tags='integrate_test' ./client/" [3502,3544]
                            OBJECT [3546,3667]
                                FIELD [3547,3572]
                                    String: "name" [3547,3553]
                                    STRING [3554,3572]
                                        String: "Download dataset" [3554,3572]
                                FIELD [3573,3613]
                                    String: "if" [3573,3577]
                                    STRING [3578,3613]
                                        String: "${{ matrix.database == 'mysql' }}" [3578,3613]
                                FIELD [3614,3666]
                                    String: "run" [3614,3619]
                                    STRING [3620,3666]
                                        String: "wget https://cdn.gorse.io/example/github.sql" [3620,3666]
                            OBJECT [3668,3802]
                                FIELD [3669,3692]
                                    String: "name" [3669,3675]
                                    STRING [3676,3692]
                                        String: "Import dataset" [3676,3692]
                                FIELD [3693,3733]
                                    String: "if" [3693,3697]
                                    STRING [3698,3733]
                                        String: "${{ matrix.database == 'mysql' }}" [3698,3733]
                                FIELD [3734,3801]
                                    String: "run" [3734,3739]
                                    STRING [3740,3801]
                                        String: "mysql -h 127.0.0.1 -u gorse -pgorse_pass gorse < github.sql" [3740,3801]
            FIELD [3805,4343]
                String: "compat_test" [3805,3818]
                OBJECT [3819,4343]
                    FIELD [3820,3848]
                        String: "name" [3820,3826]
                        STRING [3827,3848]
                            String: "compatibility tests" [3827,3848]
                    FIELD [3849,3874]
                        String: "runs-on" [3849,3858]
                        STRING [3859,3874]
                            String: "ubuntu-latest" [3859,3874]
                    FIELD [3875,3978]
                        String: "services" [3875,3885]
                        OBJECT [3886,3978]
                            FIELD [3887,3977]
                                String: "mariadb" [3887,3896]
                                OBJECT [3897,3977]
                                    FIELD [3898,3920]
                                        String: "image" [3898,3905]
                                        STRING [3906,3920]
                                            String: "mariadb:10.2" [3906,3920]
                                    FIELD [3921,3935]
                                        String: "ports" [3921,3928]
                                        ARRAY [3929,3935]
                                            NUMBER [3930,3934]
                                                Number: 3306 [3930,3934]
                                    FIELD [3936,3976]
                                        String: "env" [3936,3941]
                                        OBJECT [3942,3976]
                                            FIELD [3943,3975]
                                                String: "MYSQL_ROOT_PASSWORD" [3943,3964]
                                                STRING [3965,3975]
                                                    String: "password" [3965,3975]
                    FIELD [3979,4342]
                        String: "steps" [3979,3986]
                        ARRAY [3987,4342]
                            OBJECT [3988,4085]
                                FIELD [3989,4014]
                                    String: "name" [3989,3995]
                                    STRING [3996,4014]
                                        String: "Set up Go 1.20.x" [3996,4014]
                                FIELD [4015,4043]
                                    String: "uses" [4015,4021]
                                    STRING [4022,4043]
                                        String: "actions/setup-go@v4" [4022,4043]
                                FIELD [4044,4074]
                                    String: "with" [4044,4050]
                                    OBJECT [4051,4074]
                                        FIELD [4052,4073]
                                            String: "go-version" [4052,4064]
                                            STRING [4065,4073]
                                                String: "1.20.x" [4065,4073]
                                FIELD [4075,4084]
                                    String: "id" [4075,4079]
                                    STRING [4080,4084]
                                        String: "go" [4080,4084]
                            OBJECT [4086,4169]
                                FIELD [4087,4139]
                                    String: "name" [4087,4093]
                                    STRING [4094,4139]
                                        String: "Check out code into the Go module directory" [4094,4139]
                                FIELD [4140,4168]
                                    String: "uses" [4140,4146]
                                    STRING [4147,4168]
                                        String: "actions/checkout@v2" [4147,4168]
                            OBJECT [4170,4341]
                                FIELD [4171,4192]
                                    String: "name" [4171,4177]
                                    STRING [4178,4192]
                                        String: "Test MariaDB" [4178,4192]
                                FIELD [4193,4240]
                                    String: "run" [4193,4198]
                                    STRING [4199,4240]
                                        String: "go test ./storage/data -run ^TestMySQL_" [4199,4240]
                                FIELD [4241,4340]
                                    String: "env" [4241,4246]
                                    OBJECT [4247,4340]
                                        FIELD [4248,4339]
                                            String: "MYSQL_URI" [4248,4259]
                                            STRING [4260,4339]
                                                String: "mysql://root:password@tcp(localhost:${{ job.services.mariadb.ports[3306] }})/" [4260,4339]
            FIELD [4344,4598]
                String: "golangci" [4344,4354]
                OBJECT [4355,4598]
                    FIELD [4356,4369]
                        String: "name" [4356,4362]
                        STRING [4363,4369]
                            String: "lint" [4363,4369]
                    FIELD [4370,4395]
                        String: "runs-on" [4370,4379]
                        STRING [4380,4395]
                            String: "ubuntu-latest" [4380,4395]
                    FIELD [4396,4597]
                        String: "steps" [4396,4403]
                        ARRAY [4404,4597]
                            OBJECT [4405,4466]
                                FIELD [4406,4434]
                                    String: "uses" [4406,4412]
                                    STRING [4413,4434]
                                        String: "actions/setup-go@v4" [4413,4434]
                                FIELD [4435,4465]
                                    String: "with" [4435,4441]
                                    OBJECT [4442,4465]
                                        FIELD [4443,4464]
                                            String: "go-version" [4443,4455]
                                            STRING [4456,4464]
                                                String: "1.20.x" [4456,4464]
                            OBJECT [4467,4497]
                                FIELD [4468,4496]
                                    String: "uses" [4468,4474]
                                    STRING [4475,4496]
                                        String: "actions/checkout@v2" [4475,4496]
                            OBJECT [4498,4596]
                                FIELD [4499,4521]
                                    String: "name" [4499,4505]
                                    STRING [4506,4521]
                                        String: "golangci-lint" [4506,4521]
                                FIELD [4522,4563]
                                    String: "uses" [4522,4528]
                                    STRING [4529,4563]
                                        String: "golangci/golangci-lint-action@v2" [4529,4563]
                                FIELD [4564,4595]
                                    String: "with" [4564,4570]
                                    OBJECT [4571,4595]
                                        FIELD [4572,4594]
                                            String: "args" [4572,4578]
                                            STRING [4579,4594]
                                                String: "--timeout 20m" [4579,4594]