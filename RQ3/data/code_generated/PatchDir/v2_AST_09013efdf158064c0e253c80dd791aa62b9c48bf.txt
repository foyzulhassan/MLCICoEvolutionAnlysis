OBJECT [0,8459]
    FIELD [1,40]
        String: "name" [1,7]
        STRING [8,40]
            String: "Self-hosted runner (scheduled)" [8,40]
    FIELD [41,108]
        String: "on" [41,45]
        OBJECT [46,108]
            FIELD [47,73]
                String: "repository_dispatch" [47,68]
                NULL [69,73]
            FIELD [74,107]
                String: "schedule" [74,84]
                ARRAY [85,107]
                    OBJECT [86,106]
                        FIELD [87,105]
                            String: "cron" [87,93]
                            STRING [94,105]
                                String: "0 2 * * *" [94,105]
    FIELD [109,333]
        String: "env" [109,114]
        OBJECT [115,333]
            FIELD [116,138]
                String: "HF_HOME" [116,125]
                STRING [126,138]
                    String: "/mnt/cache" [126,138]
            FIELD [139,164]
                String: "TRANSFORMERS_IS_CI" [139,159]
                TRUE [160,164]
            FIELD [165,184]
                String: "OMP_NUM_THREADS" [165,182]
                NUMBER [183,184]
                    Number: 8 [183,184]
            FIELD [185,204]
                String: "MKL_NUM_THREADS" [185,202]
                NUMBER [203,204]
                    Number: 8 [203,204]
            FIELD [205,220]
                String: "RUN_SLOW" [205,215]
                TRUE [216,220]
            FIELD [221,273]
                String: "SIGOPT_API_TOKEN" [221,239]
                STRING [240,273]
                    String: "${{ secrets.SIGOPT_API_TOKEN }}" [240,273]
            FIELD [274,306]
                String: "TF_FORCE_GPU_ALLOW_GROWTH" [274,301]
                TRUE [302,306]
            FIELD [307,332]
                String: "RUN_PT_TF_CROSS_TESTS" [307,330]
                NUMBER [331,332]
                    Number: 1 [331,332]
    FIELD [334,8458]
        String: "jobs" [334,340]
        OBJECT [341,8458]
            FIELD [342,1596]
                String: "setup" [342,349]
                OBJECT [350,1596]
                    FIELD [351,365]
                        String: "name" [351,357]
                        STRING [358,365]
                            String: "Setup" [358,365]
                    FIELD [366,441]
                        String: "strategy" [366,376]
                        OBJECT [377,441]
                            FIELD [378,440]
                                String: "matrix" [378,386]
                                OBJECT [387,440]
                                    FIELD [388,439]
                                        String: "machines" [388,398]
                                        ARRAY [399,439]
                                            STRING [400,418]
                                                String: "multi-gpu-docker" [400,418]
                                            STRING [419,438]
                                                String: "single-gpu-docker" [419,438]
                    FIELD [442,476]
                        String: "runs-on" [442,451]
                        STRING [452,476]
                            String: "${{ matrix.machines }}" [452,476]
                    FIELD [477,637]
                        String: "container" [477,488]
                        OBJECT [489,637]
                            FIELD [490,539]
                                String: "image" [490,497]
                                STRING [498,539]
                                    String: "huggingface/transformers-all-latest-gpu" [498,539]
                            FIELD [540,636]
                                String: "options" [540,549]
                                STRING [550,636]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [550,636]
                    FIELD [638,699]
                        String: "outputs" [638,647]
                        OBJECT [648,699]
                            FIELD [649,698]
                                String: "matrix" [649,657]
                                STRING [658,698]
                                    String: "${{ steps.set-matrix.outputs.matrix }}" [658,698]
                    FIELD [700,1595]
                        String: "steps" [700,707]
                        ARRAY [708,1595]
                            OBJECT [709,822]
                                FIELD [710,731]
                                    String: "name" [710,716]
                                    STRING [717,731]
                                        String: "Update clone" [717,731]
                                FIELD [732,767]
                                    String: "working-directory" [732,751]
                                    STRING [752,767]
                                        String: "/transformers" [752,767]
                                FIELD [768,821]
                                    String: "run" [768,773]
                                    STRING [774,821]
                                        String: "git fetch && git checkout ${{ github.sha }}\n" [774,821]
                            OBJECT [823,928]
                                FIELD [824,840]
                                    String: "name" [824,830]
                                    STRING [831,840]
                                        String: "Cleanup" [831,840]
                                FIELD [841,876]
                                    String: "working-directory" [841,860]
                                    STRING [861,876]
                                        String: "/transformers" [861,876]
                                FIELD [877,927]
                                    String: "run" [877,882]
                                    STRING [883,927]
                                        String: "rm -rf tests/__pycache__\nrm -rf reports\n" [883,927]
                            OBJECT [929,1172]
                                FIELD [930,947]
                                    String: "id" [930,934]
                                    STRING [935,947]
                                        String: "set-matrix" [935,947]
                                FIELD [948,980]
                                    String: "name" [948,954]
                                    STRING [955,980]
                                        String: "Identify models to test" [955,980]
                                FIELD [981,1022]
                                    String: "working-directory" [981,1000]
                                    STRING [1001,1022]
                                        String: "/transformers/tests" [1001,1022]
                                FIELD [1023,1171]
                                    String: "run" [1023,1028]
                                    STRING [1029,1171]
                                        String: "echo \"::set-output name=matrix::$(python3 -c 'import os; x = list(filter(os.path.isdir, os.listdir(os.getcwd()))); x.sort(); print(x)')\"\n" [1029,1171]
                            OBJECT [1173,1215]
                                FIELD [1174,1193]
                                    String: "name" [1174,1180]
                                    STRING [1181,1193]
                                        String: "NVIDIA-SMI" [1181,1193]
                                FIELD [1194,1214]
                                    String: "run" [1194,1199]
                                    STRING [1200,1214]
                                        String: "nvidia-smi\n" [1200,1214]
                            OBJECT [1216,1594]
                                FIELD [1217,1240]
                                    String: "name" [1217,1223]
                                    STRING [1224,1240]
                                        String: "GPU visibility" [1224,1240]
                                FIELD [1241,1276]
                                    String: "working-directory" [1241,1260]
                                    STRING [1261,1276]
                                        String: "/transformers" [1261,1276]
                                FIELD [1277,1593]
                                    String: "run" [1277,1282]
                                    STRING [1283,1593]
                                        String: "utils/print_env_pt.py\nTF_CPP_MIN_LOG_LEVEL=3 python3 -c \"import tensorflow as tf; print('TF GPUs available:', bool(tf.config.list_physical_devices('GPU')))\"\nTF_CPP_MIN_LOG_LEVEL=3 python3 -c \"import tensorflow as tf; print('Number of TF GPUs available:', len(tf.config.list_physical_devices('GPU')))\"\n" [1283,1593]
            FIELD [1597,2876]
                String: "run_tests_gpu" [1597,1612]
                OBJECT [1613,2876]
                    FIELD [1614,1634]
                        String: "name" [1614,1620]
                        STRING [1621,1634]
                            String: "Model tests" [1621,1634]
                    FIELD [1635,1784]
                        String: "strategy" [1635,1645]
                        OBJECT [1646,1784]
                            FIELD [1647,1664]
                                String: "fail-fast" [1647,1658]
                                FALSE [1659,1664]
                            FIELD [1665,1783]
                                String: "matrix" [1665,1673]
                                OBJECT [1674,1783]
                                    FIELD [1675,1730]
                                        String: "folders" [1675,1684]
                                        STRING [1685,1730]
                                            String: "${{ fromJson(needs.setup.outputs.matrix) }}" [1685,1730]
                                    FIELD [1731,1782]
                                        String: "machines" [1731,1741]
                                        ARRAY [1742,1782]
                                            STRING [1743,1761]
                                                String: "multi-gpu-docker" [1743,1761]
                                            STRING [1762,1781]
                                                String: "single-gpu-docker" [1762,1781]
                    FIELD [1785,1819]
                        String: "runs-on" [1785,1794]
                        STRING [1795,1819]
                            String: "${{ matrix.machines }}" [1795,1819]
                    FIELD [1820,1980]
                        String: "container" [1820,1831]
                        OBJECT [1832,1980]
                            FIELD [1833,1882]
                                String: "image" [1833,1840]
                                STRING [1841,1882]
                                    String: "huggingface/transformers-all-latest-gpu" [1841,1882]
                            FIELD [1883,1979]
                                String: "options" [1883,1892]
                                STRING [1893,1979]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [1893,1979]
                    FIELD [1981,1996]
                        String: "needs" [1981,1988]
                        STRING [1989,1996]
                            String: "setup" [1989,1996]
                    FIELD [1997,2875]
                        String: "steps" [1997,2004]
                        ARRAY [2005,2875]
                            OBJECT [2006,2089]
                                FIELD [2007,2049]
                                    String: "name" [2007,2013]
                                    STRING [2014,2049]
                                        String: "Echo folder ${{ matrix.folders }}" [2014,2049]
                                FIELD [2050,2088]
                                    String: "run" [2050,2055]
                                    STRING [2056,2088]
                                        String: "echo \"${{ matrix.folders }}\"" [2056,2088]
                            OBJECT [2090,2201]
                                FIELD [2091,2112]
                                    String: "name" [2091,2097]
                                    STRING [2098,2112]
                                        String: "Update clone" [2098,2112]
                                FIELD [2113,2148]
                                    String: "working-directory" [2113,2132]
                                    STRING [2133,2148]
                                        String: "/transformers" [2133,2148]
                                FIELD [2149,2200]
                                    String: "run" [2149,2154]
                                    STRING [2155,2200]
                                        String: "git fetch && git checkout ${{ github.sha }}" [2155,2200]
                            OBJECT [2202,2405]
                                FIELD [2203,2241]
                                    String: "name" [2203,2209]
                                    STRING [2210,2241]
                                        String: "Run all non-slow tests on GPU" [2210,2241]
                                FIELD [2242,2277]
                                    String: "working-directory" [2242,2261]
                                    STRING [2262,2277]
                                        String: "/transformers" [2262,2277]
                                FIELD [2278,2404]
                                    String: "run" [2278,2283]
                                    STRING [2284,2404]
                                        String: "python3 -m pytest -v --make-reports=${{ matrix.machines }}_tests_gpu_${{ matrix.folders }} tests/${{ matrix.folders }}" [2284,2404]
                            OBJECT [2406,2595]
                                FIELD [2407,2437]
                                    String: "name" [2407,2413]
                                    STRING [2414,2437]
                                        String: "Failure short reports" [2414,2437]
                                FIELD [2438,2461]
                                    String: "if" [2438,2442]
                                    STRING [2443,2461]
                                        String: "${{ failure() }}" [2443,2461]
                                FIELD [2462,2486]
                                    String: "continue-on-error" [2462,2481]
                                    TRUE [2482,2486]
                                FIELD [2487,2594]
                                    String: "run" [2487,2492]
                                    STRING [2493,2594]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_gpu_${{ matrix.folders }}/failures_short.txt" [2493,2594]
                            OBJECT [2596,2874]
                                FIELD [2597,2634]
                                    String: "name" [2597,2603]
                                    STRING [2604,2634]
                                        String: "Test suite reports artifacts" [2604,2634]
                                FIELD [2635,2657]
                                    String: "if" [2635,2639]
                                    STRING [2640,2657]
                                        String: "${{ always() }}" [2640,2657]
                                FIELD [2658,2693]
                                    String: "uses" [2658,2664]
                                    STRING [2665,2693]
                                        String: "actions/upload-artifact@v2" [2665,2693]
                                FIELD [2694,2873]
                                    String: "with" [2694,2700]
                                    OBJECT [2701,2873]
                                        FIELD [2702,2786]
                                            String: "name" [2702,2708]
                                            STRING [2709,2786]
                                                String: "${{ matrix.machines }}_run_all_tests_gpu_${{ matrix.folders }}_test_reports" [2709,2786]
                                        FIELD [2787,2872]
                                            String: "path" [2787,2793]
                                            STRING [2794,2872]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_gpu_${{ matrix.folders }}" [2794,2872]
            FIELD [2877,3802]
                String: "run_examples_gpu" [2877,2895]
                OBJECT [2896,3802]
                    FIELD [2897,2924]
                        String: "name" [2897,2903]
                        STRING [2904,2924]
                            String: "Examples directory" [2904,2924]
                    FIELD [2925,2970]
                        String: "runs-on" [2925,2934]
                        ARRAY [2935,2970]
                            STRING [2936,2949]
                                String: "self-hosted" [2936,2949]
                            STRING [2950,2969]
                                String: "single-gpu-docker" [2950,2969]
                    FIELD [2971,3131]
                        String: "container" [2971,2982]
                        OBJECT [2983,3131]
                            FIELD [2984,3033]
                                String: "image" [2984,2991]
                                STRING [2992,3033]
                                    String: "huggingface/transformers-all-latest-gpu" [2992,3033]
                            FIELD [3034,3130]
                                String: "options" [3034,3043]
                                STRING [3044,3130]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [3044,3130]
                    FIELD [3132,3147]
                        String: "needs" [3132,3139]
                        STRING [3140,3147]
                            String: "setup" [3140,3147]
                    FIELD [3148,3801]
                        String: "steps" [3148,3155]
                        ARRAY [3156,3801]
                            OBJECT [3157,3268]
                                FIELD [3158,3179]
                                    String: "name" [3158,3164]
                                    STRING [3165,3179]
                                        String: "Update clone" [3165,3179]
                                FIELD [3180,3215]
                                    String: "working-directory" [3180,3199]
                                    STRING [3200,3215]
                                        String: "/transformers" [3200,3215]
                                FIELD [3216,3267]
                                    String: "run" [3216,3221]
                                    STRING [3222,3267]
                                        String: "git fetch && git checkout ${{ github.sha }}" [3222,3267]
                            OBJECT [3269,3474]
                                FIELD [3270,3304]
                                    String: "name" [3270,3276]
                                    STRING [3277,3304]
                                        String: "Run examples tests on GPU" [3277,3304]
                                FIELD [3305,3340]
                                    String: "working-directory" [3305,3324]
                                    STRING [3325,3340]
                                        String: "/transformers" [3325,3340]
                                FIELD [3341,3473]
                                    String: "run" [3341,3346]
                                    STRING [3347,3473]
                                        String: "pip install -r examples/pytorch/_tests_requirements.txt\npython3 -m pytest -v --make-reports=examples_gpu examples/pytorch\n" [3347,3473]
                            OBJECT [3475,3622]
                                FIELD [3476,3506]
                                    String: "name" [3476,3482]
                                    STRING [3483,3506]
                                        String: "Failure short reports" [3483,3506]
                                FIELD [3507,3530]
                                    String: "if" [3507,3511]
                                    STRING [3512,3530]
                                        String: "${{ failure() }}" [3512,3530]
                                FIELD [3531,3555]
                                    String: "continue-on-error" [3531,3550]
                                    TRUE [3551,3555]
                                FIELD [3556,3621]
                                    String: "run" [3556,3561]
                                    STRING [3562,3621]
                                        String: "cat /transformers/reports/examples_gpu/failures_short.txt" [3562,3621]
                            OBJECT [3623,3800]
                                FIELD [3624,3661]
                                    String: "name" [3624,3630]
                                    STRING [3631,3661]
                                        String: "Test suite reports artifacts" [3631,3661]
                                FIELD [3662,3684]
                                    String: "if" [3662,3666]
                                    STRING [3667,3684]
                                        String: "${{ always() }}" [3667,3684]
                                FIELD [3685,3720]
                                    String: "uses" [3685,3691]
                                    STRING [3692,3720]
                                        String: "actions/upload-artifact@v2" [3692,3720]
                                FIELD [3721,3799]
                                    String: "with" [3721,3727]
                                    OBJECT [3728,3799]
                                        FIELD [3729,3754]
                                            String: "name" [3729,3735]
                                            STRING [3736,3754]
                                                String: "run_examples_gpu" [3736,3754]
                                        FIELD [3755,3798]
                                            String: "path" [3755,3761]
                                            STRING [3762,3798]
                                                String: "/transformers/reports/examples_gpu" [3762,3798]
            FIELD [3803,4965]
                String: "run_pipelines_torch_gpu" [3803,3828]
                OBJECT [3829,4965]
                    FIELD [3830,3856]
                        String: "name" [3830,3836]
                        STRING [3837,3856]
                            String: "PyTorch pipelines" [3837,3856]
                    FIELD [3857,3950]
                        String: "strategy" [3857,3867]
                        OBJECT [3868,3950]
                            FIELD [3869,3886]
                                String: "fail-fast" [3869,3880]
                                FALSE [3881,3886]
                            FIELD [3887,3949]
                                String: "matrix" [3887,3895]
                                OBJECT [3896,3949]
                                    FIELD [3897,3948]
                                        String: "machines" [3897,3907]
                                        ARRAY [3908,3948]
                                            STRING [3909,3927]
                                                String: "multi-gpu-docker" [3909,3927]
                                            STRING [3928,3947]
                                                String: "single-gpu-docker" [3928,3947]
                    FIELD [3951,3985]
                        String: "runs-on" [3951,3960]
                        STRING [3961,3985]
                            String: "${{ matrix.machines }}" [3961,3985]
                    FIELD [3986,4143]
                        String: "container" [3986,3997]
                        OBJECT [3998,4143]
                            FIELD [3999,4045]
                                String: "image" [3999,4006]
                                STRING [4007,4045]
                                    String: "huggingface/transformers-pytorch-gpu" [4007,4045]
                            FIELD [4046,4142]
                                String: "options" [4046,4055]
                                STRING [4056,4142]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [4056,4142]
                    FIELD [4144,4159]
                        String: "needs" [4144,4151]
                        STRING [4152,4159]
                            String: "setup" [4152,4159]
                    FIELD [4160,4964]
                        String: "steps" [4160,4167]
                        ARRAY [4168,4964]
                            OBJECT [4169,4280]
                                FIELD [4170,4191]
                                    String: "name" [4170,4176]
                                    STRING [4177,4191]
                                        String: "Update clone" [4177,4191]
                                FIELD [4192,4227]
                                    String: "working-directory" [4192,4211]
                                    STRING [4212,4227]
                                        String: "/transformers" [4212,4227]
                                FIELD [4228,4279]
                                    String: "run" [4228,4233]
                                    STRING [4234,4279]
                                        String: "git fetch && git checkout ${{ github.sha }}" [4234,4279]
                            OBJECT [4281,4532]
                                FIELD [4282,4320]
                                    String: "name" [4282,4288]
                                    STRING [4289,4320]
                                        String: "Run all pipeline tests on GPU" [4289,4320]
                                FIELD [4321,4356]
                                    String: "working-directory" [4321,4340]
                                    STRING [4341,4356]
                                        String: "/transformers" [4341,4356]
                                FIELD [4357,4390]
                                    String: "env" [4357,4362]
                                    OBJECT [4363,4390]
                                        FIELD [4364,4389]
                                            String: "RUN_PIPELINE_TESTS" [4364,4384]
                                            TRUE [4385,4389]
                                FIELD [4391,4531]
                                    String: "run" [4391,4396]
                                    STRING [4397,4531]
                                        String: "python3 -m pytest -n 1 -v --dist=loadfile -m is_pipeline_test --make-reports=${{ matrix.machines }}_tests_torch_pipeline_gpu tests\n" [4397,4531]
                            OBJECT [4533,4715]
                                FIELD [4534,4564]
                                    String: "name" [4534,4540]
                                    STRING [4541,4564]
                                        String: "Failure short reports" [4541,4564]
                                FIELD [4565,4588]
                                    String: "if" [4565,4569]
                                    STRING [4570,4588]
                                        String: "${{ failure() }}" [4570,4588]
                                FIELD [4589,4613]
                                    String: "continue-on-error" [4589,4608]
                                    TRUE [4609,4613]
                                FIELD [4614,4714]
                                    String: "run" [4614,4619]
                                    STRING [4620,4714]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_torch_pipeline_gpu/failures_short.txt" [4620,4714]
                            OBJECT [4716,4963]
                                FIELD [4717,4754]
                                    String: "name" [4717,4723]
                                    STRING [4724,4754]
                                        String: "Test suite reports artifacts" [4724,4754]
                                FIELD [4755,4777]
                                    String: "if" [4755,4759]
                                    STRING [4760,4777]
                                        String: "${{ always() }}" [4760,4777]
                                FIELD [4778,4813]
                                    String: "uses" [4778,4784]
                                    STRING [4785,4813]
                                        String: "actions/upload-artifact@v2" [4785,4813]
                                FIELD [4814,4962]
                                    String: "with" [4814,4820]
                                    OBJECT [4821,4962]
                                        FIELD [4822,4882]
                                            String: "name" [4822,4828]
                                            STRING [4829,4882]
                                                String: "${{ matrix.machines }}_run_tests_torch_pipeline_gpu" [4829,4882]
                                        FIELD [4883,4961]
                                            String: "path" [4883,4889]
                                            STRING [4890,4961]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_torch_pipeline_gpu" [4890,4961]
            FIELD [4966,6097]
                String: "run_pipelines_tf_gpu" [4966,4988]
                OBJECT [4989,6097]
                    FIELD [4990,5019]
                        String: "name" [4990,4996]
                        STRING [4997,5019]
                            String: "TensorFlow pipelines" [4997,5019]
                    FIELD [5020,5113]
                        String: "strategy" [5020,5030]
                        OBJECT [5031,5113]
                            FIELD [5032,5049]
                                String: "fail-fast" [5032,5043]
                                FALSE [5044,5049]
                            FIELD [5050,5112]
                                String: "matrix" [5050,5058]
                                OBJECT [5059,5112]
                                    FIELD [5060,5111]
                                        String: "machines" [5060,5070]
                                        ARRAY [5071,5111]
                                            STRING [5072,5090]
                                                String: "multi-gpu-docker" [5072,5090]
                                            STRING [5091,5110]
                                                String: "single-gpu-docker" [5091,5110]
                    FIELD [5114,5148]
                        String: "runs-on" [5114,5123]
                        STRING [5124,5148]
                            String: "${{ matrix.machines }}" [5124,5148]
                    FIELD [5149,5309]
                        String: "container" [5149,5160]
                        OBJECT [5161,5309]
                            FIELD [5162,5211]
                                String: "image" [5162,5169]
                                STRING [5170,5211]
                                    String: "huggingface/transformers-tensorflow-gpu" [5170,5211]
                            FIELD [5212,5308]
                                String: "options" [5212,5221]
                                STRING [5222,5308]
                                    String: "--gpus 0 --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [5222,5308]
                    FIELD [5310,5325]
                        String: "needs" [5310,5317]
                        STRING [5318,5325]
                            String: "setup" [5318,5325]
                    FIELD [5326,6096]
                        String: "steps" [5326,5333]
                        ARRAY [5334,6096]
                            OBJECT [5335,5448]
                                FIELD [5336,5357]
                                    String: "name" [5336,5342]
                                    STRING [5343,5357]
                                        String: "Update clone" [5343,5357]
                                FIELD [5358,5393]
                                    String: "working-directory" [5358,5377]
                                    STRING [5378,5393]
                                        String: "/transformers" [5378,5393]
                                FIELD [5394,5447]
                                    String: "run" [5394,5399]
                                    STRING [5400,5447]
                                        String: "git fetch && git checkout ${{ github.sha }}\n" [5400,5447]
                            OBJECT [5449,5697]
                                FIELD [5450,5488]
                                    String: "name" [5450,5456]
                                    STRING [5457,5488]
                                        String: "Run all pipeline tests on GPU" [5457,5488]
                                FIELD [5489,5524]
                                    String: "working-directory" [5489,5508]
                                    STRING [5509,5524]
                                        String: "/transformers" [5509,5524]
                                FIELD [5525,5558]
                                    String: "env" [5525,5530]
                                    OBJECT [5531,5558]
                                        FIELD [5532,5557]
                                            String: "RUN_PIPELINE_TESTS" [5532,5552]
                                            TRUE [5553,5557]
                                FIELD [5559,5696]
                                    String: "run" [5559,5564]
                                    STRING [5565,5696]
                                        String: "python3 -m pytest -n 1 -v --dist=loadfile -m is_pipeline_test --make-reports=${{ matrix.machines }}_tests_tf_pipeline_gpu tests\n" [5565,5696]
                            OBJECT [5698,5853]
                                FIELD [5699,5729]
                                    String: "name" [5699,5705]
                                    STRING [5706,5729]
                                        String: "Failure short reports" [5706,5729]
                                FIELD [5730,5752]
                                    String: "if" [5730,5734]
                                    STRING [5735,5752]
                                        String: "${{ always() }}" [5735,5752]
                                FIELD [5753,5852]
                                    String: "run" [5753,5758]
                                    STRING [5759,5852]
                                        String: "cat /transformers/reports/${{ matrix.machines }}_tests_tf_pipeline_gpu/failures_short.txt\n" [5759,5852]
                            OBJECT [5854,6095]
                                FIELD [5855,5892]
                                    String: "name" [5855,5861]
                                    STRING [5862,5892]
                                        String: "Test suite reports artifacts" [5862,5892]
                                FIELD [5893,5915]
                                    String: "if" [5893,5897]
                                    STRING [5898,5915]
                                        String: "${{ always() }}" [5898,5915]
                                FIELD [5916,5951]
                                    String: "uses" [5916,5922]
                                    STRING [5923,5951]
                                        String: "actions/upload-artifact@v2" [5923,5951]
                                FIELD [5952,6094]
                                    String: "with" [5952,5958]
                                    OBJECT [5959,6094]
                                        FIELD [5960,6017]
                                            String: "name" [5960,5966]
                                            STRING [5967,6017]
                                                String: "${{ matrix.machines }}_run_tests_tf_pipeline_gpu" [5967,6017]
                                        FIELD [6018,6093]
                                            String: "path" [6018,6024]
                                            STRING [6025,6093]
                                                String: "/transformers/reports/${{ matrix.machines }}_tests_tf_pipeline_gpu" [6025,6093]
            FIELD [6098,7729]
                String: "run_all_tests_torch_cuda_extensions_gpu" [6098,6139]
                OBJECT [6140,7729]
                    FIELD [6141,6176]
                        String: "name" [6141,6147]
                        STRING [6148,6176]
                            String: "Torch CUDA extension tests" [6148,6176]
                    FIELD [6177,6270]
                        String: "strategy" [6177,6187]
                        OBJECT [6188,6270]
                            FIELD [6189,6206]
                                String: "fail-fast" [6189,6200]
                                FALSE [6201,6206]
                            FIELD [6207,6269]
                                String: "matrix" [6207,6215]
                                OBJECT [6216,6269]
                                    FIELD [6217,6268]
                                        String: "machines" [6217,6227]
                                        ARRAY [6228,6268]
                                            STRING [6229,6247]
                                                String: "multi-gpu-docker" [6229,6247]
                                            STRING [6248,6267]
                                                String: "single-gpu-docker" [6248,6267]
                    FIELD [6271,6305]
                        String: "runs-on" [6271,6280]
                        STRING [6281,6305]
                            String: "${{ matrix.machines }}" [6281,6305]
                    FIELD [6306,6321]
                        String: "needs" [6306,6313]
                        STRING [6314,6321]
                            String: "setup" [6314,6321]
                    FIELD [6322,6498]
                        String: "container" [6322,6333]
                        OBJECT [6334,6498]
                            FIELD [6335,6398]
                                String: "image" [6335,6342]
                                STRING [6343,6398]
                                    String: "huggingface/transformers-pytorch-deepspeed-latest-gpu" [6343,6398]
                            FIELD [6399,6497]
                                String: "options" [6399,6408]
                                STRING [6409,6497]
                                    String: "--gpus all --shm-size \"16gb\" --ipc host -v /mnt/cache/.cache/huggingface:/mnt/cache/" [6409,6497]
                    FIELD [6499,7728]
                        String: "steps" [6499,6506]
                        ARRAY [6507,7728]
                            OBJECT [6508,6629]
                                FIELD [6509,6530]
                                    String: "name" [6509,6515]
                                    STRING [6516,6530]
                                        String: "Update clone" [6516,6530]
                                FIELD [6531,6576]
                                    String: "working-directory" [6531,6550]
                                    STRING [6551,6576]
                                        String: "/workspace/transformers" [6551,6576]
                                FIELD [6577,6628]
                                    String: "run" [6577,6582]
                                    STRING [6583,6628]
                                        String: "git fetch && git checkout ${{ github.sha }}" [6583,6628]
                            OBJECT [6630,7033]
                                FIELD [6631,6660]
                                    String: "name" [6631,6637]
                                    STRING [6638,6660]
                                        String: "Re-compile DeepSpeed" [6638,6660]
                                FIELD [6661,6693]
                                    String: "working-directory" [6661,6680]
                                    STRING [6681,6693]
                                        String: "/workspace" [6681,6693]
                                FIELD [6694,7032]
                                    String: "run" [6694,6699]
                                    STRING [6700,7032]
                                        String: "pip install deepspeed # installs the deps correctly\nrm -rf DeepSpeed\ngit clone https://github.com/microsoft/DeepSpeed && cd DeepSpeed && rm -rf build\nDS_BUILD_CPU_ADAM=1 DS_BUILD_AIO=1 DS_BUILD_UTILS=1 python3 -m pip install -e . --global-option=\"build_ext\" --global-option=\"-j8\" --no-cache -v --disable-pip-version-check\n" [6700,7032]
                            OBJECT [7034,7242]
                                FIELD [7035,7064]
                                    String: "name" [7035,7041]
                                    STRING [7042,7064]
                                        String: "Run all tests on GPU" [7042,7064]
                                FIELD [7065,7110]
                                    String: "working-directory" [7065,7084]
                                    STRING [7085,7110]
                                        String: "/workspace/transformers" [7085,7110]
                                FIELD [7111,7241]
                                    String: "run" [7111,7116]
                                    STRING [7117,7241]
                                        String: "python -m pytest -v --make-reports=${{ matrix.machines }}_tests_torch_cuda_extensions_gpu tests/deepspeed tests/extended\n" [7117,7241]
                            OBJECT [7243,7442]
                                FIELD [7244,7274]
                                    String: "name" [7244,7250]
                                    STRING [7251,7274]
                                        String: "Failure short reports" [7251,7274]
                                FIELD [7275,7298]
                                    String: "if" [7275,7279]
                                    STRING [7280,7298]
                                        String: "${{ failure() }}" [7280,7298]
                                FIELD [7299,7323]
                                    String: "continue-on-error" [7299,7318]
                                    TRUE [7319,7323]
                                FIELD [7324,7441]
                                    String: "run" [7324,7329]
                                    STRING [7330,7441]
                                        String: "cat /workspace/transformers/reports/${{ matrix.machines }}_tests_torch_cuda_extensions_gpu/failures_short.txt" [7330,7441]
                            OBJECT [7443,7727]
                                FIELD [7444,7481]
                                    String: "name" [7444,7450]
                                    STRING [7451,7481]
                                        String: "Test suite reports artifacts" [7451,7481]
                                FIELD [7482,7504]
                                    String: "if" [7482,7486]
                                    STRING [7487,7504]
                                        String: "${{ always() }}" [7487,7504]
                                FIELD [7505,7540]
                                    String: "uses" [7505,7511]
                                    STRING [7512,7540]
                                        String: "actions/upload-artifact@v2" [7512,7540]
                                FIELD [7541,7726]
                                    String: "with" [7541,7547]
                                    OBJECT [7548,7726]
                                        FIELD [7549,7629]
                                            String: "name" [7549,7555]
                                            STRING [7556,7629]
                                                String: "${{ matrix.machines }}_run_tests_torch_cuda_extensions_gpu_test_reports" [7556,7629]
                                        FIELD [7630,7725]
                                            String: "path" [7630,7636]
                                            STRING [7637,7725]
                                                String: "/workspace/transformers/reports/${{ matrix.machines }}_tests_torch_cuda_extensions_gpu" [7637,7725]
            FIELD [7730,8457]
                String: "send_results" [7730,7744]
                OBJECT [7745,8457]
                    FIELD [7746,7778]
                        String: "name" [7746,7752]
                        STRING [7753,7778]
                            String: "Send results to webhook" [7753,7778]
                    FIELD [7779,7804]
                        String: "runs-on" [7779,7788]
                        STRING [7789,7804]
                            String: "ubuntu-latest" [7789,7804]
                    FIELD [7805,7820]
                        String: "if" [7805,7809]
                        STRING [7810,7820]
                            String: "always()" [7810,7820]
                    FIELD [7821,7964]
                        String: "needs" [7821,7828]
                        ARRAY [7829,7964]
                            STRING [7830,7837]
                                String: "setup" [7830,7837]
                            STRING [7838,7853]
                                String: "run_tests_gpu" [7838,7853]
                            STRING [7854,7872]
                                String: "run_examples_gpu" [7854,7872]
                            STRING [7873,7895]
                                String: "run_pipelines_tf_gpu" [7873,7895]
                            STRING [7896,7921]
                                String: "run_pipelines_torch_gpu" [7896,7921]
                            STRING [7922,7963]
                                String: "run_all_tests_torch_cuda_extensions_gpu" [7922,7963]
                    FIELD [7965,8456]
                        String: "steps" [7965,7972]
                        ARRAY [7973,8456]
                            OBJECT [7974,8004]
                                FIELD [7975,8003]
                                    String: "uses" [7975,7981]
                                    STRING [7982,8003]
                                        String: "actions/checkout@v2" [7982,8003]
                            OBJECT [8005,8044]
                                FIELD [8006,8043]
                                    String: "uses" [8006,8012]
                                    STRING [8013,8043]
                                        String: "actions/download-artifact@v2" [8013,8043]
                            OBJECT [8045,8455]
                                FIELD [8046,8076]
                                    String: "name" [8046,8052]
                                    STRING [8053,8076]
                                        String: "Send message to Slack" [8053,8076]
                                FIELD [8077,8348]
                                    String: "env" [8077,8082]
                                    OBJECT [8083,8348]
                                        FIELD [8084,8140]
                                            String: "CI_SLACK_BOT_TOKEN" [8084,8104]
                                            STRING [8105,8140]
                                                String: "${{ secrets.CI_SLACK_BOT_TOKEN }}" [8105,8140]
                                        FIELD [8141,8199]
                                            String: "CI_SLACK_CHANNEL_ID" [8141,8162]
                                            STRING [8163,8199]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID }}" [8163,8199]
                                        FIELD [8200,8270]
                                            String: "CI_SLACK_CHANNEL_ID_DAILY" [8200,8227]
                                            STRING [8228,8270]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_ID_DAILY }}" [8228,8270]
                                        FIELD [8271,8347]
                                            String: "CI_SLACK_CHANNEL_DUMMY_TESTS" [8271,8301]
                                            STRING [8302,8347]
                                                String: "${{ secrets.CI_SLACK_CHANNEL_DUMMY_TESTS }}" [8302,8347]
                                FIELD [8349,8454]
                                    String: "run" [8349,8354]
                                    STRING [8355,8454]
                                        String: "pip install slack_sdk\npython utils/notification_service.py \"${{ needs.setup.outputs.matrix }}\"" [8355,8454]