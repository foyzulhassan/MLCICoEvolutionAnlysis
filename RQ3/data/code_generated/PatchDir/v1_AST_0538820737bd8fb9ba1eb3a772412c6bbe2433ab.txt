OBJECT [0,4481]
    FIELD [1,40]
        String: "name" [1,7]
        STRING [8,40]
            String: "Self-hosted runner (scheduled)" [8,40]
    FIELD [41,137]
        String: "on" [41,45]
        OBJECT [46,137]
            FIELD [47,75]
                String: "push" [47,53]
                OBJECT [54,75]
                    FIELD [55,74]
                        String: "branches" [55,65]
                        ARRAY [66,74]
                            STRING [67,73]
                                String: "ci_*" [67,73]
            FIELD [76,102]
                String: "repository_dispatch" [76,97]
                NULL [98,102]
            FIELD [103,136]
                String: "schedule" [103,113]
                ARRAY [114,136]
                    OBJECT [115,135]
                        FIELD [116,134]
                            String: "cron" [116,122]
                            STRING [123,134]
                                String: "0 0 * * *" [123,134]
    FIELD [138,4480]
        String: "jobs" [138,144]
        OBJECT [145,4480]
            FIELD [146,2598]
                String: "run_all_tests_torch_and_tf_gpu" [146,178]
                OBJECT [179,2598]
                    FIELD [180,218]
                        String: "runs-on" [180,189]
                        ARRAY [190,218]
                            STRING [191,204]
                                String: "self-hosted" [191,204]
                            STRING [205,217]
                                String: "single-gpu" [205,217]
                    FIELD [219,2597]
                        String: "steps" [219,226]
                        ARRAY [227,2597]
                            OBJECT [228,258]
                                FIELD [229,257]
                                    String: "uses" [229,235]
                                    STRING [236,257]
                                        String: "actions/checkout@v2" [236,257]
                            OBJECT [259,410]
                                FIELD [260,283]
                                    String: "name" [260,266]
                                    STRING [267,283]
                                        String: "Loading cache." [267,283]
                                FIELD [284,309]
                                    String: "uses" [284,290]
                                    STRING [291,309]
                                        String: "actions/cache@v2" [291,309]
                                FIELD [310,322]
                                    String: "id" [310,314]
                                    STRING [315,322]
                                        String: "cache" [315,322]
                                FIELD [323,409]
                                    String: "with" [323,329]
                                    OBJECT [330,409]
                                        FIELD [331,344]
                                            String: "path" [331,337]
                                            STRING [338,344]
                                                String: ".env" [338,344]
                                        FIELD [345,408]
                                            String: "key" [345,350]
                                            STRING [351,408]
                                                String: "v1-slow_tests_tf_torch_gpu-${{ hashFiles('setup.py') }}" [351,408]
                            OBJECT [411,492]
                                FIELD [412,435]
                                    String: "name" [412,418]
                                    STRING [419,435]
                                        String: "Python version" [419,435]
                                FIELD [436,491]
                                    String: "run" [436,441]
                                    STRING [442,491]
                                        String: "which python\npython --version\npip --version\n" [442,491]
                            OBJECT [493,527]
                                FIELD [494,514]
                                    String: "name" [494,500]
                                    STRING [501,514]
                                        String: "Current dir" [501,514]
                                FIELD [515,526]
                                    String: "run" [515,520]
                                    STRING [521,526]
                                        String: "pwd" [521,526]
                            OBJECT [528,548]
                                FIELD [529,547]
                                    String: "run" [529,534]
                                    STRING [535,547]
                                        String: "nvidia-smi" [535,547]
                            OBJECT [549,794]
                                FIELD [550,643]
                                    String: "name" [550,556]
                                    STRING [557,643]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [557,643]
                                FIELD [644,690]
                                    String: "if" [644,648]
                                    STRING [649,690]
                                        String: "steps.cache.outputs.cache-hit != 'true'" [649,690]
                                FIELD [691,793]
                                    String: "run" [691,696]
                                    STRING [697,793]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [697,793]
                            OBJECT [795,1015]
                                FIELD [796,825]
                                    String: "name" [796,802]
                                    STRING [803,825]
                                        String: "Install dependencies" [803,825]
                                FIELD [826,1014]
                                    String: "run" [826,831]
                                    STRING [832,1014]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install torch!=1.6.0\npip install .[sklearn,testing,onnxruntime]\npip install git+https://github.com/huggingface/datasets\n" [832,1014]
                            OBJECT [1016,1274]
                                FIELD [1017,1066]
                                    String: "name" [1017,1023]
                                    STRING [1024,1066]
                                        String: "Are GPUs recognized by our DL frameworks" [1024,1066]
                                FIELD [1067,1273]
                                    String: "run" [1067,1072]
                                    STRING [1073,1273]
                                        String: "source .env/bin/activate\npython -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [1073,1273]
                            OBJECT [1275,1489]
                                FIELD [1276,1305]
                                    String: "name" [1276,1282]
                                    STRING [1283,1305]
                                        String: "Run all tests on GPU" [1283,1305]
                                FIELD [1306,1384]
                                    String: "env" [1306,1311]
                                    OBJECT [1312,1384]
                                        FIELD [1313,1347]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [1313,1340]
                                            STRING [1341,1347]
                                                String: "true" [1341,1347]
                                        FIELD [1348,1367]
                                            String: "OMP_NUM_THREADS" [1348,1365]
                                            NUMBER [1366,1367]
                                                Number: 1 [1366,1367]
                                        FIELD [1368,1383]
                                            String: "RUN_SLOW" [1368,1378]
                                            TRUE [1379,1383]
                                FIELD [1385,1488]
                                    String: "run" [1385,1390]
                                    STRING [1391,1488]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s --make_reports=tests tests\n" [1391,1488]
                            OBJECT [1490,1597]
                                FIELD [1491,1521]
                                    String: "name" [1491,1497]
                                    STRING [1498,1521]
                                        String: "Failure short reports" [1498,1521]
                                FIELD [1522,1544]
                                    String: "if" [1522,1526]
                                    STRING [1527,1544]
                                        String: "${{ always() }}" [1527,1544]
                                FIELD [1545,1596]
                                    String: "run" [1545,1550]
                                    STRING [1551,1596]
                                        String: "cat reports/report_tests_failures_short.txt" [1551,1596]
                            OBJECT [1598,1888]
                                FIELD [1599,1633]
                                    String: "name" [1599,1605]
                                    STRING [1606,1633]
                                        String: "Run examples tests on GPU" [1606,1633]
                                FIELD [1634,1656]
                                    String: "if" [1634,1638]
                                    STRING [1639,1656]
                                        String: "${{ always() }}" [1639,1656]
                                FIELD [1657,1735]
                                    String: "env" [1657,1662]
                                    OBJECT [1663,1735]
                                        FIELD [1664,1698]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [1664,1691]
                                            STRING [1692,1698]
                                                String: "true" [1692,1698]
                                        FIELD [1699,1718]
                                            String: "OMP_NUM_THREADS" [1699,1716]
                                            NUMBER [1717,1718]
                                                Number: 1 [1717,1718]
                                        FIELD [1719,1734]
                                            String: "RUN_SLOW" [1719,1729]
                                            TRUE [1730,1734]
                                FIELD [1736,1887]
                                    String: "run" [1736,1741]
                                    STRING [1742,1887]
                                        String: "source .env/bin/activate\npip install -r examples/requirements.txt\npython -m pytest -n 1 --dist=loadfile -s --make_reports=examples examples\n" [1742,1887]
                            OBJECT [1889,1999]
                                FIELD [1890,1920]
                                    String: "name" [1890,1896]
                                    STRING [1897,1920]
                                        String: "Failure short reports" [1897,1920]
                                FIELD [1921,1943]
                                    String: "if" [1921,1925]
                                    STRING [1926,1943]
                                        String: "${{ always() }}" [1926,1943]
                                FIELD [1944,1998]
                                    String: "run" [1944,1949]
                                    STRING [1950,1998]
                                        String: "cat reports/report_examples_failures_short.txt" [1950,1998]
                            OBJECT [2000,2301]
                                FIELD [2001,2039]
                                    String: "name" [2001,2007]
                                    STRING [2008,2039]
                                        String: "Run all pipeline tests on GPU" [2008,2039]
                                FIELD [2040,2062]
                                    String: "if" [2040,2044]
                                    STRING [2045,2062]
                                        String: "${{ always() }}" [2045,2062]
                                FIELD [2063,2167]
                                    String: "env" [2063,2068]
                                    OBJECT [2069,2167]
                                        FIELD [2070,2104]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [2070,2097]
                                            STRING [2098,2104]
                                                String: "true" [2098,2104]
                                        FIELD [2105,2124]
                                            String: "OMP_NUM_THREADS" [2105,2122]
                                            NUMBER [2123,2124]
                                                Number: 1 [2123,2124]
                                        FIELD [2125,2140]
                                            String: "RUN_SLOW" [2125,2135]
                                            TRUE [2136,2140]
                                        FIELD [2141,2166]
                                            String: "RUN_PIPELINE_TESTS" [2141,2161]
                                            TRUE [2162,2166]
                                FIELD [2168,2300]
                                    String: "run" [2168,2173]
                                    STRING [2174,2300]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s -m is_pipeline_test --make_reports=tests_pipeline tests\n" [2174,2300]
                            OBJECT [2302,2418]
                                FIELD [2303,2333]
                                    String: "name" [2303,2309]
                                    STRING [2310,2333]
                                        String: "Failure short reports" [2310,2333]
                                FIELD [2334,2356]
                                    String: "if" [2334,2338]
                                    STRING [2339,2356]
                                        String: "${{ always() }}" [2339,2356]
                                FIELD [2357,2417]
                                    String: "run" [2357,2362]
                                    STRING [2363,2417]
                                        String: "cat reports/report_tests_pipeline_failures_short.txt" [2363,2417]
                            OBJECT [2419,2596]
                                FIELD [2420,2457]
                                    String: "name" [2420,2426]
                                    STRING [2427,2457]
                                        String: "Test suite reports artifacts" [2427,2457]
                                FIELD [2458,2480]
                                    String: "if" [2458,2462]
                                    STRING [2463,2480]
                                        String: "${{ always() }}" [2463,2480]
                                FIELD [2481,2516]
                                    String: "uses" [2481,2487]
                                    STRING [2488,2516]
                                        String: "actions/upload-artifact@v2" [2488,2516]
                                FIELD [2517,2595]
                                    String: "with" [2517,2523]
                                    OBJECT [2524,2595]
                                        FIELD [2525,2577]
                                            String: "name" [2525,2531]
                                            STRING [2532,2577]
                                                String: "run_all_tests_torch_and_tf_gpu_test_reports" [2532,2577]
                                        FIELD [2578,2594]
                                            String: "path" [2578,2584]
                                            STRING [2585,2594]
                                                String: "reports" [2585,2594]
            FIELD [2599,4479]
                String: "run_all_tests_torch_and_tf_multiple_gpu" [2599,2640]
                OBJECT [2641,4479]
                    FIELD [2642,2679]
                        String: "runs-on" [2642,2651]
                        ARRAY [2652,2679]
                            STRING [2653,2666]
                                String: "self-hosted" [2653,2666]
                            STRING [2667,2678]
                                String: "multi-gpu" [2667,2678]
                    FIELD [2680,4478]
                        String: "steps" [2680,2687]
                        ARRAY [2688,4478]
                            OBJECT [2689,2719]
                                FIELD [2690,2718]
                                    String: "uses" [2690,2696]
                                    STRING [2697,2718]
                                        String: "actions/checkout@v2" [2697,2718]
                            OBJECT [2720,2877]
                                FIELD [2721,2744]
                                    String: "name" [2721,2727]
                                    STRING [2728,2744]
                                        String: "Loading cache." [2728,2744]
                                FIELD [2745,2770]
                                    String: "uses" [2745,2751]
                                    STRING [2752,2770]
                                        String: "actions/cache@v2" [2752,2770]
                                FIELD [2771,2783]
                                    String: "id" [2771,2775]
                                    STRING [2776,2783]
                                        String: "cache" [2776,2783]
                                FIELD [2784,2876]
                                    String: "with" [2784,2790]
                                    OBJECT [2791,2876]
                                        FIELD [2792,2805]
                                            String: "path" [2792,2798]
                                            STRING [2799,2805]
                                                String: ".env" [2799,2805]
                                        FIELD [2806,2875]
                                            String: "key" [2806,2811]
                                            STRING [2812,2875]
                                                String: "v1-slow_tests_tf_torch_multi_gpu-${{ hashFiles('setup.py') }}" [2812,2875]
                            OBJECT [2878,2959]
                                FIELD [2879,2902]
                                    String: "name" [2879,2885]
                                    STRING [2886,2902]
                                        String: "Python version" [2886,2902]
                                FIELD [2903,2958]
                                    String: "run" [2903,2908]
                                    STRING [2909,2958]
                                        String: "which python\npython --version\npip --version\n" [2909,2958]
                            OBJECT [2960,2994]
                                FIELD [2961,2981]
                                    String: "name" [2961,2967]
                                    STRING [2968,2981]
                                        String: "Current dir" [2968,2981]
                                FIELD [2982,2993]
                                    String: "run" [2982,2987]
                                    STRING [2988,2993]
                                        String: "pwd" [2988,2993]
                            OBJECT [2995,3015]
                                FIELD [2996,3014]
                                    String: "run" [2996,3001]
                                    STRING [3002,3014]
                                        String: "nvidia-smi" [3002,3014]
                            OBJECT [3016,3261]
                                FIELD [3017,3110]
                                    String: "name" [3017,3023]
                                    STRING [3024,3110]
                                        String: "Create new python env (on self-hosted runners we have to handle isolation ourselves)" [3024,3110]
                                FIELD [3111,3157]
                                    String: "if" [3111,3115]
                                    STRING [3116,3157]
                                        String: "steps.cache.outputs.cache-hit != 'true'" [3116,3157]
                                FIELD [3158,3260]
                                    String: "run" [3158,3163]
                                    STRING [3164,3260]
                                        String: "python -m venv .env\nsource .env/bin/activate\nwhich python\npython --version\npip --version\n" [3164,3260]
                            OBJECT [3262,3482]
                                FIELD [3263,3292]
                                    String: "name" [3263,3269]
                                    STRING [3270,3292]
                                        String: "Install dependencies" [3270,3292]
                                FIELD [3293,3481]
                                    String: "run" [3293,3298]
                                    STRING [3299,3481]
                                        String: "source .env/bin/activate\npip install --upgrade pip\npip install torch!=1.6.0\npip install .[sklearn,testing,onnxruntime]\npip install git+https://github.com/huggingface/datasets\n" [3299,3481]
                            OBJECT [3483,3741]
                                FIELD [3484,3533]
                                    String: "name" [3484,3490]
                                    STRING [3491,3533]
                                        String: "Are GPUs recognized by our DL frameworks" [3491,3533]
                                FIELD [3534,3740]
                                    String: "run" [3534,3539]
                                    STRING [3540,3740]
                                        String: "source .env/bin/activate\npython -c \"import torch; print('Cuda available:', torch.cuda.is_available())\"\npython -c \"import torch; print('Number of GPUs available:', torch.cuda.device_count())\"\n" [3540,3740]
                            OBJECT [3742,3953]
                                FIELD [3743,3772]
                                    String: "name" [3743,3749]
                                    STRING [3750,3772]
                                        String: "Run all tests on GPU" [3750,3772]
                                FIELD [3773,3851]
                                    String: "env" [3773,3778]
                                    OBJECT [3779,3851]
                                        FIELD [3780,3814]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [3780,3807]
                                            STRING [3808,3814]
                                                String: "true" [3808,3814]
                                        FIELD [3815,3834]
                                            String: "OMP_NUM_THREADS" [3815,3832]
                                            NUMBER [3833,3834]
                                                Number: 1 [3833,3834]
                                        FIELD [3835,3850]
                                            String: "RUN_SLOW" [3835,3845]
                                            TRUE [3846,3850]
                                FIELD [3852,3952]
                                    String: "run" [3852,3857]
                                    STRING [3858,3952]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s ./tests/ --durations=50\n" [3858,3952]
                            OBJECT [3954,4212]
                                FIELD [3955,3989]
                                    String: "name" [3955,3961]
                                    STRING [3962,3989]
                                        String: "Run examples tests on GPU" [3962,3989]
                                FIELD [3990,4068]
                                    String: "env" [3990,3995]
                                    OBJECT [3996,4068]
                                        FIELD [3997,4031]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [3997,4024]
                                            STRING [4025,4031]
                                                String: "true" [4025,4031]
                                        FIELD [4032,4051]
                                            String: "OMP_NUM_THREADS" [4032,4049]
                                            NUMBER [4050,4051]
                                                Number: 1 [4050,4051]
                                        FIELD [4052,4067]
                                            String: "RUN_SLOW" [4052,4062]
                                            TRUE [4063,4067]
                                FIELD [4069,4211]
                                    String: "run" [4069,4074]
                                    STRING [4075,4211]
                                        String: "source .env/bin/activate\npip install -r examples/requirements.txt\npython -m pytest -n 1 --dist=loadfile -s examples --durations=50\n" [4075,4211]
                            OBJECT [4213,4477]
                                FIELD [4214,4252]
                                    String: "name" [4214,4220]
                                    STRING [4221,4252]
                                        String: "Run all pipeline tests on GPU" [4221,4252]
                                FIELD [4253,4357]
                                    String: "env" [4253,4258]
                                    OBJECT [4259,4357]
                                        FIELD [4260,4294]
                                            String: "TF_FORCE_GPU_ALLOW_GROWTH" [4260,4287]
                                            STRING [4288,4294]
                                                String: "true" [4288,4294]
                                        FIELD [4295,4314]
                                            String: "OMP_NUM_THREADS" [4295,4312]
                                            NUMBER [4313,4314]
                                                Number: 1 [4313,4314]
                                        FIELD [4315,4330]
                                            String: "RUN_SLOW" [4315,4325]
                                            TRUE [4326,4330]
                                        FIELD [4331,4356]
                                            String: "RUN_PIPELINE_TESTS" [4331,4351]
                                            TRUE [4352,4356]
                                FIELD [4358,4476]
                                    String: "run" [4358,4363]
                                    STRING [4364,4476]
                                        String: "source .env/bin/activate\npython -m pytest -n 1 --dist=loadfile -s ./tests/ -m is_pipeline_test --durations=50" [4364,4476]