OBJECT [0,9889]
    FIELD [1,16]
        String: "name" [1,7]
        STRING [8,16]
            String: "Master" [8,16]
    FIELD [17,132]
        String: "on" [17,21]
        OBJECT [22,132]
            FIELD [23,53]
                String: "push" [23,29]
                OBJECT [30,53]
                    FIELD [31,52]
                        String: "branches" [31,41]
                        ARRAY [42,52]
                            STRING [43,51]
                                String: "master" [43,51]
            FIELD [54,87]
                String: "release" [54,63]
                OBJECT [64,87]
                    FIELD [65,86]
                        String: "types" [65,72]
                        ARRAY [73,86]
                            STRING [74,85]
                                String: "published" [74,85]
            FIELD [88,131]
                String: "schedule" [88,98]
                ARRAY [99,131]
                    OBJECT [100,130]
                        FIELD [101,129]
                            String: "cron" [101,107]
                            STRING [108,129]
                                String: "37 11 * * 1,2,3,4,5" [108,129]
    FIELD [133,9888]
        String: "jobs" [133,139]
        OBJECT [140,9888]
            FIELD [141,394]
                String: "gpu_checks" [141,153]
                OBJECT [154,394]
                    FIELD [155,174]
                        String: "name" [155,161]
                        STRING [162,174]
                            String: "GPU Checks" [162,174]
                    FIELD [175,206]
                        String: "runs-on" [175,184]
                        ARRAY [185,206]
                            STRING [186,199]
                                String: "self-hosted" [186,199]
                            STRING [200,205]
                                String: "GPU" [200,205]
                    FIELD [207,393]
                        String: "steps" [207,214]
                        ARRAY [215,393]
                            OBJECT [216,246]
                                FIELD [217,245]
                                    String: "uses" [217,223]
                                    STRING [224,245]
                                        String: "actions/checkout@v2" [224,245]
                            OBJECT [247,307]
                                FIELD [248,273]
                                    String: "name" [248,254]
                                    STRING [255,273]
                                        String: "Build test image" [255,273]
                                FIELD [274,306]
                                    String: "run" [274,279]
                                    STRING [280,306]
                                        String: "make docker-test-image\n" [280,306]
                            OBJECT [308,392]
                                FIELD [309,331]
                                    String: "name" [309,315]
                                    STRING [316,331]
                                        String: "Run GPU tests" [316,331]
                                FIELD [332,391]
                                    String: "run" [332,337]
                                    STRING [338,391]
                                        String: "docker run --rm --gpus 2 allennlp/test 'gpu-test'\n" [338,391]
            FIELD [395,1756]
                String: "check_core" [395,407]
                OBJECT [408,1756]
                    FIELD [409,428]
                        String: "name" [409,415]
                        STRING [416,428]
                            String: "Check Core" [416,428]
                    FIELD [429,454]
                        String: "runs-on" [429,438]
                        STRING [439,454]
                            String: "ubuntu-latest" [439,454]
                    FIELD [455,501]
                        String: "strategy" [455,465]
                        OBJECT [466,501]
                            FIELD [467,500]
                                String: "matrix" [467,475]
                                OBJECT [476,500]
                                    FIELD [477,499]
                                        String: "python" [477,485]
                                        ARRAY [486,499]
                                            STRING [487,492]
                                                String: "3.6" [487,492]
                                            STRING [493,498]
                                                String: "3.7" [493,498]
                    FIELD [502,1755]
                        String: "steps" [502,509]
                        ARRAY [510,1755]
                            OBJECT [511,541]
                                FIELD [512,540]
                                    String: "uses" [512,518]
                                    STRING [519,540]
                                        String: "actions/checkout@v2" [519,540]
                            OBJECT [542,647]
                                FIELD [543,564]
                                    String: "name" [543,549]
                                    STRING [550,564]
                                        String: "Setup Python" [550,564]
                                FIELD [565,597]
                                    String: "uses" [565,571]
                                    STRING [572,597]
                                        String: "actions/setup-python@v1" [572,597]
                                FIELD [598,646]
                                    String: "with" [598,604]
                                    OBJECT [605,646]
                                        FIELD [606,645]
                                            String: "python-version" [606,622]
                                            STRING [623,645]
                                                String: "${{ matrix.python }}" [623,645]
                            OBJECT [648,847]
                                FIELD [649,674]
                                    String: "uses" [649,655]
                                    STRING [656,674]
                                        String: "actions/cache@v1" [656,674]
                                FIELD [675,846]
                                    String: "with" [675,681]
                                    OBJECT [682,846]
                                        FIELD [683,717]
                                            String: "path" [683,689]
                                            STRING [690,717]
                                                String: "${{ env.pythonLocation }}" [690,717]
                                        FIELD [718,845]
                                            String: "key" [718,723]
                                            STRING [724,845]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [724,845]
                            OBJECT [848,902]
                                FIELD [849,878]
                                    String: "name" [849,855]
                                    STRING [856,878]
                                        String: "Install requirements" [856,878]
                                FIELD [879,901]
                                    String: "run" [879,884]
                                    STRING [885,901]
                                        String: "make install\n" [885,901]
                            OBJECT [903,945]
                                FIELD [904,923]
                                    String: "name" [904,910]
                                    STRING [911,923]
                                        String: "Debug info" [911,923]
                                FIELD [924,944]
                                    String: "run" [924,929]
                                    STRING [930,944]
                                        String: "pip freeze\n" [930,944]
                            OBJECT [946,981]
                                FIELD [947,960]
                                    String: "name" [947,953]
                                    STRING [954,960]
                                        String: "Lint" [954,960]
                                FIELD [961,980]
                                    String: "run" [961,966]
                                    STRING [967,980]
                                        String: "make lint\n" [967,980]
                            OBJECT [982,1028]
                                FIELD [983,1002]
                                    String: "name" [983,989]
                                    STRING [990,1002]
                                        String: "Type check" [990,1002]
                                FIELD [1003,1027]
                                    String: "run" [1003,1008]
                                    STRING [1009,1027]
                                        String: "make typecheck\n" [1009,1027]
                            OBJECT [1029,1078]
                                FIELD [1030,1048]
                                    String: "name" [1030,1036]
                                    STRING [1037,1048]
                                        String: "Run tests" [1037,1048]
                                FIELD [1049,1077]
                                    String: "run" [1049,1054]
                                    STRING [1055,1077]
                                        String: "make test-with-cov\n" [1055,1077]
                            OBJECT [1079,1555]
                                FIELD [1080,1115]
                                    String: "name" [1080,1086]
                                    STRING [1087,1115]
                                        String: "Upload coverage to Codecov" [1087,1115]
                                FIELD [1116,1145]
                                    String: "if" [1116,1120]
                                    STRING [1121,1145]
                                        String: "matrix.python == '3.7'" [1121,1145]
                                FIELD [1146,1200]
                                    String: "env" [1146,1151]
                                    OBJECT [1152,1200]
                                        FIELD [1153,1199]
                                            String: "CODECOV_TOKEN" [1153,1168]
                                            STRING [1169,1199]
                                                String: "${{ secrets.CODECOV_TOKEN }}" [1169,1199]
                                FIELD [1201,1554]
                                    String: "run" [1201,1206]
                                    STRING [1207,1554]
                                        String: "# Ignore codecov failures as the codecov server is not\n# very reliable but we don't want to report a failure\n# in the github UI just because the coverage report failed to\n# be published.\n# This will also fail for forked repositories since the secret token won't\n# be available.\ncodecov -t $CODECOV_TOKEN || echo \"codecov upload failed\"\n" [1207,1554]
                            OBJECT [1556,1754]
                                FIELD [1557,1574]
                                    String: "name" [1557,1563]
                                    STRING [1564,1574]
                                        String: "Clean up" [1564,1574]
                                FIELD [1575,1590]
                                    String: "if" [1575,1579]
                                    STRING [1580,1590]
                                        String: "always()" [1580,1590]
                                FIELD [1591,1753]
                                    String: "run" [1591,1596]
                                    STRING [1597,1753]
                                        String: "# Could run into issues with the cache if we don't uninstall the editable.\n# See https://github.com/pypa/pip/issues/4537.\npip uninstall --yes allennlp\n" [1597,1753]
            FIELD [1757,2740]
                String: "check_models" [1757,1771]
                OBJECT [1772,2740]
                    FIELD [1773,1794]
                        String: "name" [1773,1779]
                        STRING [1780,1794]
                            String: "Check Models" [1780,1794]
                    FIELD [1795,1820]
                        String: "runs-on" [1795,1804]
                        STRING [1805,1820]
                            String: "ubuntu-latest" [1805,1820]
                    FIELD [1821,1867]
                        String: "strategy" [1821,1831]
                        OBJECT [1832,1867]
                            FIELD [1833,1866]
                                String: "matrix" [1833,1841]
                                OBJECT [1842,1866]
                                    FIELD [1843,1865]
                                        String: "python" [1843,1851]
                                        ARRAY [1852,1865]
                                            STRING [1853,1858]
                                                String: "3.6" [1853,1858]
                                            STRING [1859,1864]
                                                String: "3.7" [1859,1864]
                    FIELD [1868,2739]
                        String: "steps" [1868,1875]
                        ARRAY [1876,2739]
                            OBJECT [1877,1907]
                                FIELD [1878,1906]
                                    String: "uses" [1878,1884]
                                    STRING [1885,1906]
                                        String: "actions/checkout@v2" [1885,1906]
                            OBJECT [1908,2013]
                                FIELD [1909,1930]
                                    String: "name" [1909,1915]
                                    STRING [1916,1930]
                                        String: "Setup Python" [1916,1930]
                                FIELD [1931,1963]
                                    String: "uses" [1931,1937]
                                    STRING [1938,1963]
                                        String: "actions/setup-python@v1" [1938,1963]
                                FIELD [1964,2012]
                                    String: "with" [1964,1970]
                                    OBJECT [1971,2012]
                                        FIELD [1972,2011]
                                            String: "python-version" [1972,1988]
                                            STRING [1989,2011]
                                                String: "${{ matrix.python }}" [1989,2011]
                            OBJECT [2014,2213]
                                FIELD [2015,2040]
                                    String: "uses" [2015,2021]
                                    STRING [2022,2040]
                                        String: "actions/cache@v1" [2022,2040]
                                FIELD [2041,2212]
                                    String: "with" [2041,2047]
                                    OBJECT [2048,2212]
                                        FIELD [2049,2083]
                                            String: "path" [2049,2055]
                                            STRING [2056,2083]
                                                String: "${{ env.pythonLocation }}" [2056,2083]
                                        FIELD [2084,2211]
                                            String: "key" [2084,2089]
                                            STRING [2090,2211]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [2090,2211]
                            OBJECT [2214,2268]
                                FIELD [2215,2244]
                                    String: "name" [2215,2221]
                                    STRING [2222,2244]
                                        String: "Install requirements" [2222,2244]
                                FIELD [2245,2267]
                                    String: "run" [2245,2250]
                                    STRING [2251,2267]
                                        String: "make install\n" [2251,2267]
                            OBJECT [2269,2311]
                                FIELD [2270,2289]
                                    String: "name" [2270,2276]
                                    STRING [2277,2289]
                                        String: "Debug info" [2277,2289]
                                FIELD [2290,2310]
                                    String: "run" [2290,2295]
                                    STRING [2296,2310]
                                        String: "pip freeze\n" [2296,2310]
                            OBJECT [2312,2556]
                                FIELD [2313,2350]
                                    String: "name" [2313,2319]
                                    STRING [2320,2350]
                                        String: "Pull and install models repo" [2320,2350]
                                FIELD [2351,2389]
                                    String: "env" [2351,2356]
                                    OBJECT [2357,2389]
                                        FIELD [2358,2388]
                                            String: "ALLENNLP_VERSION_OVERRIDE" [2358,2385]
                                            STRING [2386,2388]
                                                String: "" [2386,2388]
                                FIELD [2390,2555]
                                    String: "run" [2390,2395]
                                    STRING [2396,2555]
                                        String: "git clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models && pip install --upgrade --upgrade-strategy eager -e . -r dev-requirements.txt\n" [2396,2555]
                            OBJECT [2557,2626]
                                FIELD [2558,2583]
                                    String: "name" [2558,2564]
                                    STRING [2565,2583]
                                        String: "Run models tests" [2565,2583]
                                FIELD [2584,2625]
                                    String: "run" [2584,2589]
                                    STRING [2590,2625]
                                        String: "cd allennlp-models && make test\n" [2590,2625]
                            OBJECT [2627,2738]
                                FIELD [2628,2645]
                                    String: "name" [2628,2634]
                                    STRING [2635,2645]
                                        String: "Clean up" [2635,2645]
                                FIELD [2646,2661]
                                    String: "if" [2646,2650]
                                    STRING [2651,2661]
                                        String: "always()" [2651,2661]
                                FIELD [2662,2737]
                                    String: "run" [2662,2667]
                                    STRING [2668,2737]
                                        String: "pip uninstall --yes allennlp\npip uninstall --yes allennlp_models\n" [2668,2737]
            FIELD [2741,4544]
                String: "build_package" [2741,2756]
                OBJECT [2757,4544]
                    FIELD [2758,2780]
                        String: "name" [2758,2764]
                        STRING [2765,2780]
                            String: "Build Package" [2765,2780]
                    FIELD [2781,2806]
                        String: "runs-on" [2781,2790]
                        STRING [2791,2806]
                            String: "ubuntu-latest" [2791,2806]
                    FIELD [2807,4543]
                        String: "steps" [2807,2814]
                        ARRAY [2815,4543]
                            OBJECT [2816,2846]
                                FIELD [2817,2845]
                                    String: "uses" [2817,2823]
                                    STRING [2824,2845]
                                        String: "actions/checkout@v2" [2824,2845]
                            OBJECT [2847,2933]
                                FIELD [2848,2869]
                                    String: "name" [2848,2854]
                                    STRING [2855,2869]
                                        String: "Setup Python" [2855,2869]
                                FIELD [2870,2902]
                                    String: "uses" [2870,2876]
                                    STRING [2877,2902]
                                        String: "actions/setup-python@v1" [2877,2902]
                                FIELD [2903,2932]
                                    String: "with" [2903,2909]
                                    OBJECT [2910,2932]
                                        FIELD [2911,2931]
                                            String: "python-version" [2911,2927]
                                            NUMBER [2928,2931]
                                                Number: 3.7 [2928,2931]
                            OBJECT [2934,3133]
                                FIELD [2935,2960]
                                    String: "uses" [2935,2941]
                                    STRING [2942,2960]
                                        String: "actions/cache@v1" [2942,2960]
                                FIELD [2961,3132]
                                    String: "with" [2961,2967]
                                    OBJECT [2968,3132]
                                        FIELD [2969,3003]
                                            String: "path" [2969,2975]
                                            STRING [2976,3003]
                                                String: "${{ env.pythonLocation }}" [2976,3003]
                                        FIELD [3004,3131]
                                            String: "key" [3004,3009]
                                            STRING [3010,3131]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [3010,3131]
                            OBJECT [3134,3188]
                                FIELD [3135,3164]
                                    String: "name" [3135,3141]
                                    STRING [3142,3164]
                                        String: "Install requirements" [3142,3164]
                                FIELD [3165,3187]
                                    String: "run" [3165,3170]
                                    STRING [3171,3187]
                                        String: "make install\n" [3171,3187]
                            OBJECT [3189,3824]
                                FIELD [3190,3228]
                                    String: "name" [3190,3196]
                                    STRING [3197,3228]
                                        String: "Check and set nightly version" [3197,3228]
                                FIELD [3229,3267]
                                    String: "if" [3229,3233]
                                    STRING [3234,3267]
                                        String: "github.event_name == 'schedule'" [3234,3267]
                                FIELD [3268,3823]
                                    String: "run" [3268,3273]
                                    STRING [3274,3823]
                                        String: "# Verify that current version is ahead of the last release.\nLATEST=$(scripts/get_version.py latest)\nCURRENT=$(scripts/get_version.py current)\nif [ \"$CURRENT\" == \"$LATEST\" ]; then\n    echo \"Current version needs to be ahead of latest release in order to build nightly release\";\n    exit 1;\nfi\n# This is somewhat bizarre, but you can't set env variables to bash\n# commands in the action workflow - so we have to use this odd way of\n# exporting a variable instead.\necho ::set-env name=ALLENNLP_VERSION_SUFFIX::.dev$(date -u +%Y%m%d)\n" [3274,3823]
                            OBJECT [3825,4179]
                                FIELD [3826,3870]
                                    String: "name" [3826,3832]
                                    STRING [3833,3870]
                                        String: "Check version and release tag match" [3833,3870]
                                FIELD [3871,3908]
                                    String: "if" [3871,3875]
                                    STRING [3876,3908]
                                        String: "github.event_name == 'release'" [3876,3908]
                                FIELD [3909,4178]
                                    String: "run" [3909,3914]
                                    STRING [3915,4178]
                                        String: "# Remove 'refs/tags/' to get the actual tag from the release.\nTAG=${GITHUB_REF#refs/tags/};\nVERSION=$(scripts/get_version.py current)\nif [ \"$TAG\" != \"$VERSION\" ]; then\n    echo \"Bad tag or version. Tag $TAG does not match $VERSION\";\n    exit 1;\nfi\n" [3915,4178]
                            OBJECT [4180,4357]
                                FIELD [4181,4208]
                                    String: "name" [4181,4187]
                                    STRING [4188,4208]
                                        String: "Build core package" [4188,4208]
                                FIELD [4209,4356]
                                    String: "run" [4209,4214]
                                    STRING [4215,4356]
                                        String: "echo \"Building packages for core release\"\n# Just print out the version for debugging.\nmake version\npython setup.py bdist_wheel sdist\n" [4215,4356]
                            OBJECT [4358,4467]
                                FIELD [4359,4385]
                                    String: "name" [4359,4365]
                                    STRING [4366,4385]
                                        String: "Save core package" [4366,4385]
                                FIELD [4386,4421]
                                    String: "uses" [4386,4392]
                                    STRING [4393,4421]
                                        String: "actions/upload-artifact@v1" [4393,4421]
                                FIELD [4422,4466]
                                    String: "with" [4422,4428]
                                    OBJECT [4429,4466]
                                        FIELD [4430,4451]
                                            String: "name" [4430,4436]
                                            STRING [4437,4451]
                                                String: "core-package" [4437,4451]
                                        FIELD [4452,4465]
                                            String: "path" [4452,4458]
                                            STRING [4459,4465]
                                                String: "dist" [4459,4465]
                            OBJECT [4468,4542]
                                FIELD [4469,4486]
                                    String: "name" [4469,4475]
                                    STRING [4476,4486]
                                        String: "Clean up" [4476,4486]
                                FIELD [4487,4502]
                                    String: "if" [4487,4491]
                                    STRING [4492,4502]
                                        String: "always()" [4492,4502]
                                FIELD [4503,4541]
                                    String: "run" [4503,4508]
                                    STRING [4509,4541]
                                        String: "pip uninstall --yes allennlp\n" [4509,4541]
            FIELD [4545,5126]
                String: "test_package" [4545,4559]
                OBJECT [4560,5126]
                    FIELD [4561,4582]
                        String: "name" [4561,4567]
                        STRING [4568,4582]
                            String: "Test Package" [4568,4582]
                    FIELD [4583,4608]
                        String: "needs" [4583,4590]
                        ARRAY [4591,4608]
                            STRING [4592,4607]
                                String: "build_package" [4592,4607]
                    FIELD [4609,4634]
                        String: "runs-on" [4609,4618]
                        STRING [4619,4634]
                            String: "ubuntu-latest" [4619,4634]
                    FIELD [4635,4681]
                        String: "strategy" [4635,4645]
                        OBJECT [4646,4681]
                            FIELD [4647,4680]
                                String: "matrix" [4647,4655]
                                OBJECT [4656,4680]
                                    FIELD [4657,4679]
                                        String: "python" [4657,4665]
                                        ARRAY [4666,4679]
                                            STRING [4667,4672]
                                                String: "3.6" [4667,4672]
                                            STRING [4673,4678]
                                                String: "3.7" [4673,4678]
                    FIELD [4682,5125]
                        String: "steps" [4682,4689]
                        ARRAY [4690,5125]
                            OBJECT [4691,4796]
                                FIELD [4692,4713]
                                    String: "name" [4692,4698]
                                    STRING [4699,4713]
                                        String: "Setup Python" [4699,4713]
                                FIELD [4714,4746]
                                    String: "uses" [4714,4720]
                                    STRING [4721,4746]
                                        String: "actions/setup-python@v1" [4721,4746]
                                FIELD [4747,4795]
                                    String: "with" [4747,4753]
                                    OBJECT [4754,4795]
                                        FIELD [4755,4794]
                                            String: "python-version" [4755,4771]
                                            STRING [4772,4794]
                                                String: "${{ matrix.python }}" [4772,4794]
                            OBJECT [4797,4881]
                                FIELD [4798,4827]
                                    String: "name" [4798,4804]
                                    STRING [4805,4827]
                                        String: "Install requirements" [4805,4827]
                                FIELD [4828,4880]
                                    String: "run" [4828,4833]
                                    STRING [4834,4880]
                                        String: "pip install --upgrade pip setuptools wheel\n" [4834,4880]
                            OBJECT [4882,4997]
                                FIELD [4883,4913]
                                    String: "name" [4883,4889]
                                    STRING [4890,4913]
                                        String: "Download core package" [4890,4913]
                                FIELD [4914,4951]
                                    String: "uses" [4914,4920]
                                    STRING [4921,4951]
                                        String: "actions/download-artifact@v1" [4921,4951]
                                FIELD [4952,4996]
                                    String: "with" [4952,4958]
                                    OBJECT [4959,4996]
                                        FIELD [4960,4981]
                                            String: "name" [4960,4966]
                                            STRING [4967,4981]
                                                String: "core-package" [4967,4981]
                                        FIELD [4982,4995]
                                            String: "path" [4982,4988]
                                            STRING [4989,4995]
                                                String: "dist" [4989,4995]
                            OBJECT [4998,5068]
                                FIELD [4999,5028]
                                    String: "name" [4999,5005]
                                    STRING [5006,5028]
                                        String: "Install core package" [5006,5028]
                                FIELD [5029,5067]
                                    String: "run" [5029,5034]
                                    STRING [5035,5067]
                                        String: "pip install $(ls dist/*.whl)\n" [5035,5067]
                            OBJECT [5069,5124]
                                FIELD [5070,5091]
                                    String: "name" [5070,5076]
                                    STRING [5077,5091]
                                        String: "Test install" [5077,5091]
                                FIELD [5092,5123]
                                    String: "run" [5092,5097]
                                    STRING [5098,5123]
                                        String: "allennlp test-install\n" [5098,5123]
            FIELD [5127,6401]
                String: "docker" [5127,5135]
                OBJECT [5136,6401]
                    FIELD [5137,5152]
                        String: "name" [5137,5143]
                        STRING [5144,5152]
                            String: "Docker" [5144,5152]
                    FIELD [5153,5178]
                        String: "needs" [5153,5160]
                        ARRAY [5161,5178]
                            STRING [5162,5177]
                                String: "build_package" [5162,5177]
                    FIELD [5179,5204]
                        String: "runs-on" [5179,5188]
                        STRING [5189,5204]
                            String: "ubuntu-latest" [5189,5204]
                    FIELD [5205,6400]
                        String: "steps" [5205,5212]
                        ARRAY [5213,6400]
                            OBJECT [5214,5244]
                                FIELD [5215,5243]
                                    String: "uses" [5215,5221]
                                    STRING [5222,5243]
                                        String: "actions/checkout@v2" [5222,5243]
                            OBJECT [5245,5360]
                                FIELD [5246,5276]
                                    String: "name" [5246,5252]
                                    STRING [5253,5276]
                                        String: "Download core package" [5253,5276]
                                FIELD [5277,5314]
                                    String: "uses" [5277,5283]
                                    STRING [5284,5314]
                                        String: "actions/download-artifact@v1" [5284,5314]
                                FIELD [5315,5359]
                                    String: "with" [5315,5321]
                                    OBJECT [5322,5359]
                                        FIELD [5323,5344]
                                            String: "name" [5323,5329]
                                            STRING [5330,5344]
                                                String: "core-package" [5330,5344]
                                        FIELD [5345,5358]
                                            String: "path" [5345,5351]
                                            STRING [5352,5358]
                                                String: "dist" [5352,5358]
                            OBJECT [5361,5431]
                                FIELD [5362,5382]
                                    String: "name" [5362,5368]
                                    STRING [5369,5382]
                                        String: "Build image" [5369,5382]
                                FIELD [5383,5430]
                                    String: "run" [5383,5388]
                                    STRING [5389,5430]
                                        String: "make docker-image DOCKER_TAG=allennlp\n" [5389,5430]
                            OBJECT [5432,5501]
                                FIELD [5433,5452]
                                    String: "name" [5433,5439]
                                    STRING [5440,5452]
                                        String: "Test image" [5440,5452]
                                FIELD [5453,5500]
                                    String: "run" [5453,5458]
                                    STRING [5459,5500]
                                        String: "docker run --rm allennlp test-install\n" [5459,5500]
                            OBJECT [5502,5935]
                                FIELD [5503,5531]
                                    String: "name" [5503,5509]
                                    STRING [5510,5531]
                                        String: "Upload master image" [5510,5531]
                                FIELD [5532,5609]
                                    String: "if" [5532,5536]
                                    STRING [5537,5609]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'push'" [5537,5609]
                                FIELD [5610,5934]
                                    String: "run" [5610,5615]
                                    STRING [5616,5934]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\n\n# Tag with current commit and 'latest'.\ndocker tag allennlp allennlp/commit:$GITHUB_SHA\ndocker tag allennlp allennlp/commit:latest\n\n# Push both tags.\ndocker push allennlp/commit:$GITHUB_SHA\ndocker push allennlp/commit:latest\n" [5616,5934]
                            OBJECT [5936,6399]
                                FIELD [5937,5966]
                                    String: "name" [5937,5943]
                                    STRING [5944,5966]
                                        String: "Upload release image" [5944,5966]
                                FIELD [5967,6047]
                                    String: "if" [5967,5971]
                                    STRING [5972,6047]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [5972,6047]
                                FIELD [6048,6398]
                                    String: "run" [6048,6053]
                                    STRING [6054,6398]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\nTAG=${GITHUB_REF#refs/tags/};\n\n# Tag with release version and 'latest'.\ndocker tag allennlp allennlp/allennlp:$TAG\ndocker tag allennlp allennlp/allennlp:latest\n\n# Push both tags.\ndocker push allennlp/allennlp:$TAG\ndocker push allennlp/allennlp:latest\n" [6054,6398]
            FIELD [6402,9220]
                String: "docs" [6402,6408]
                OBJECT [6409,9220]
                    FIELD [6410,6423]
                        String: "name" [6410,6416]
                        STRING [6417,6423]
                            String: "Docs" [6417,6423]
                    FIELD [6424,6449]
                        String: "runs-on" [6424,6433]
                        STRING [6434,6449]
                            String: "ubuntu-latest" [6434,6449]
                    FIELD [6450,9219]
                        String: "steps" [6450,6457]
                        ARRAY [6458,9219]
                            OBJECT [6459,6489]
                                FIELD [6460,6488]
                                    String: "uses" [6460,6466]
                                    STRING [6467,6488]
                                        String: "actions/checkout@v1" [6467,6488]
                            OBJECT [6490,6664]
                                FIELD [6491,6519]
                                    String: "name" [6491,6497]
                                    STRING [6498,6519]
                                        String: "Setup SSH Client 🔑" [6498,6519]
                                FIELD [6520,6566]
                                    String: "if" [6520,6524]
                                    STRING [6525,6566]
                                        String: "github.repository == 'allenai/allennlp'" [6525,6566]
                                FIELD [6567,6603]
                                    String: "uses" [6567,6573]
                                    STRING [6574,6603]
                                        String: "webfactory/ssh-agent@v0.2.0" [6574,6603]
                                FIELD [6604,6663]
                                    String: "with" [6604,6610]
                                    OBJECT [6611,6663]
                                        FIELD [6612,6662]
                                            String: "ssh-private-key" [6612,6629]
                                            STRING [6630,6662]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [6630,6662]
                            OBJECT [6665,6751]
                                FIELD [6666,6687]
                                    String: "name" [6666,6672]
                                    STRING [6673,6687]
                                        String: "Setup Python" [6673,6687]
                                FIELD [6688,6720]
                                    String: "uses" [6688,6694]
                                    STRING [6695,6720]
                                        String: "actions/setup-python@v1" [6695,6720]
                                FIELD [6721,6750]
                                    String: "with" [6721,6727]
                                    OBJECT [6728,6750]
                                        FIELD [6729,6749]
                                            String: "python-version" [6729,6745]
                                            NUMBER [6746,6749]
                                                Number: 3.7 [6746,6749]
                            OBJECT [6752,6951]
                                FIELD [6753,6778]
                                    String: "uses" [6753,6759]
                                    STRING [6760,6778]
                                        String: "actions/cache@v1" [6760,6778]
                                FIELD [6779,6950]
                                    String: "with" [6779,6785]
                                    OBJECT [6786,6950]
                                        FIELD [6787,6821]
                                            String: "path" [6787,6793]
                                            STRING [6794,6821]
                                                String: "${{ env.pythonLocation }}" [6794,6821]
                                        FIELD [6822,6949]
                                            String: "key" [6822,6827]
                                            STRING [6828,6949]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [6828,6949]
                            OBJECT [6952,7006]
                                FIELD [6953,6982]
                                    String: "name" [6953,6959]
                                    STRING [6960,6982]
                                        String: "Install requirements" [6960,6982]
                                FIELD [6983,7005]
                                    String: "run" [6983,6988]
                                    STRING [6989,7005]
                                        String: "make install\n" [6989,7005]
                            OBJECT [7007,7049]
                                FIELD [7008,7027]
                                    String: "name" [7008,7014]
                                    STRING [7015,7027]
                                        String: "Debug info" [7015,7027]
                                FIELD [7028,7048]
                                    String: "run" [7028,7033]
                                    STRING [7034,7048]
                                        String: "pip freeze\n" [7034,7048]
                            OBJECT [7050,7105]
                                FIELD [7051,7070]
                                    String: "name" [7051,7057]
                                    STRING [7058,7070]
                                        String: "Build docs" [7058,7070]
                                FIELD [7071,7104]
                                    String: "run" [7071,7076]
                                    STRING [7077,7104]
                                        String: "./scripts/build_docs.sh\n" [7077,7104]
                            OBJECT [7106,7332]
                                FIELD [7107,7129]
                                    String: "name" [7107,7113]
                                    STRING [7114,7129]
                                        String: "Configure Git" [7114,7129]
                                FIELD [7130,7176]
                                    String: "if" [7130,7134]
                                    STRING [7135,7176]
                                        String: "github.repository == 'allenai/allennlp'" [7135,7176]
                                FIELD [7177,7331]
                                    String: "run" [7177,7182]
                                    STRING [7183,7331]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [7183,7331]
                            OBJECT [7333,7546]
                                FIELD [7334,7361]
                                    String: "name" [7334,7340]
                                    STRING [7341,7361]
                                        String: "Set target folders" [7341,7361]
                                FIELD [7362,7545]
                                    String: "run" [7362,7367]
                                    STRING [7368,7545]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"::set-env name=DOCS_FOLDER::${GITHUB_REF#refs/tags/}\"\nelse\n    echo \"::set-env name=DOCS_FOLDER::master\";\nfi\n" [7368,7545]
                            OBJECT [7547,7990]
                                FIELD [7548,7567]
                                    String: "name" [7548,7554]
                                    STRING [7555,7567]
                                        String: "Stage docs" [7555,7567]
                                FIELD [7568,7649]
                                    String: "if" [7568,7572]
                                    STRING [7573,7649]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name != 'schedule'" [7573,7649]
                                FIELD [7650,7989]
                                    String: "run" [7650,7655]
                                    STRING [7656,7989]
                                        String: "echo \"Staging docs to $DOCS_FOLDER\"\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DOCS_FOLDER/\nmkdir -p ~/allennlp-docs/$DOCS_FOLDER\ncp -r site/* ~/allennlp-docs/$DOCS_FOLDER\n" [7656,7989]
                            OBJECT [7991,8908]
                                FIELD [7992,8017]
                                    String: "name" [7992,7998]
                                    STRING [7999,8017]
                                        String: "Update shortcuts" [7999,8017]
                                FIELD [8018,8098]
                                    String: "if" [8018,8022]
                                    STRING [8023,8098]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name == 'release'" [8023,8098]
                                FIELD [8099,8907]
                                    String: "run" [8099,8104]
                                    STRING [8105,8907]
                                        String: "# Fail immediately if any step fails.\nset -e\n\nLATEST=$(./scripts/get_version.py latest)\nSTABLE=$(./scripts/get_version.py stable)\n\ncd ~/allennlp-docs/\n\necho \"Updating latest/index.html to point to $LATEST\"\nmkdir -p latest\ncat >latest/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${LATEST}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${LATEST}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n\necho \"Updating stable/index.html to point to $STABLE\"\nmkdir -p stable\ncat >stable/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${STABLE}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${STABLE}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n" [8105,8907]
                            OBJECT [8909,9143]
                                FIELD [8910,8930]
                                    String: "name" [8910,8916]
                                    STRING [8917,8930]
                                        String: "Deploy docs" [8917,8930]
                                FIELD [8931,9012]
                                    String: "if" [8931,8935]
                                    STRING [8936,9012]
                                        String: "github.repository == 'allenai/allennlp' && github.event_name != 'schedule'" [8936,9012]
                                FIELD [9013,9142]
                                    String: "run" [9013,9018]
                                    STRING [9019,9142]
                                        String: "# And push them up to GitHub\ncd ~/allennlp-docs/\ngit add -A\ngit commit -m \"automated update of the docs\"\ngit push\n" [9019,9142]
                            OBJECT [9144,9218]
                                FIELD [9145,9162]
                                    String: "name" [9145,9151]
                                    STRING [9152,9162]
                                        String: "Clean up" [9152,9162]
                                FIELD [9163,9178]
                                    String: "if" [9163,9167]
                                    STRING [9168,9178]
                                        String: "always()" [9168,9178]
                                FIELD [9179,9217]
                                    String: "run" [9179,9184]
                                    STRING [9185,9217]
                                        String: "pip uninstall --yes allennlp\n" [9185,9217]
            FIELD [9221,9887]
                String: "publish" [9221,9230]
                OBJECT [9231,9887]
                    FIELD [9232,9245]
                        String: "name" [9232,9238]
                        STRING [9239,9245]
                            String: "PyPI" [9239,9245]
                    FIELD [9246,9343]
                        String: "needs" [9246,9253]
                        ARRAY [9254,9343]
                            STRING [9255,9267]
                                String: "check_core" [9255,9267]
                            STRING [9268,9282]
                                String: "check_models" [9268,9282]
                            STRING [9283,9295]
                                String: "gpu_checks" [9283,9295]
                            STRING [9296,9311]
                                String: "build_package" [9296,9311]
                            STRING [9312,9326]
                                String: "test_package" [9312,9326]
                            STRING [9327,9335]
                                String: "docker" [9327,9335]
                            STRING [9336,9342]
                                String: "docs" [9336,9342]
                    FIELD [9344,9421]
                        String: "if" [9344,9348]
                        STRING [9349,9421]
                            String: "github.repository == 'allenai/allennlp' && github.event_name != 'push'" [9349,9421]
                    FIELD [9422,9447]
                        String: "runs-on" [9422,9431]
                        STRING [9432,9447]
                            String: "ubuntu-latest" [9432,9447]
                    FIELD [9448,9886]
                        String: "steps" [9448,9455]
                        ARRAY [9456,9886]
                            OBJECT [9457,9487]
                                FIELD [9458,9486]
                                    String: "uses" [9458,9464]
                                    STRING [9465,9486]
                                        String: "actions/checkout@v2" [9465,9486]
                            OBJECT [9488,9574]
                                FIELD [9489,9510]
                                    String: "name" [9489,9495]
                                    STRING [9496,9510]
                                        String: "Setup Python" [9496,9510]
                                FIELD [9511,9543]
                                    String: "uses" [9511,9517]
                                    STRING [9518,9543]
                                        String: "actions/setup-python@v1" [9518,9543]
                                FIELD [9544,9573]
                                    String: "with" [9544,9550]
                                    OBJECT [9551,9573]
                                        FIELD [9552,9572]
                                            String: "python-version" [9552,9568]
                                            NUMBER [9569,9572]
                                                Number: 3.7 [9569,9572]
                            OBJECT [9575,9665]
                                FIELD [9576,9605]
                                    String: "name" [9576,9582]
                                    STRING [9583,9605]
                                        String: "Install requirements" [9583,9605]
                                FIELD [9606,9664]
                                    String: "run" [9606,9611]
                                    STRING [9612,9664]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [9612,9664]
                            OBJECT [9666,9781]
                                FIELD [9667,9697]
                                    String: "name" [9667,9673]
                                    STRING [9674,9697]
                                        String: "Download core package" [9674,9697]
                                FIELD [9698,9735]
                                    String: "uses" [9698,9704]
                                    STRING [9705,9735]
                                        String: "actions/download-artifact@v1" [9705,9735]
                                FIELD [9736,9780]
                                    String: "with" [9736,9742]
                                    OBJECT [9743,9780]
                                        FIELD [9744,9765]
                                            String: "name" [9744,9750]
                                            STRING [9751,9765]
                                                String: "core-package" [9751,9765]
                                        FIELD [9766,9779]
                                            String: "path" [9766,9772]
                                            STRING [9773,9779]
                                                String: "dist" [9773,9779]
                            OBJECT [9782,9885]
                                FIELD [9783,9812]
                                    String: "name" [9783,9789]
                                    STRING [9790,9812]
                                        String: "Publish core package" [9790,9812]
                                FIELD [9813,9884]
                                    String: "run" [9813,9818]
                                    STRING [9819,9884]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [9819,9884]