OBJECT [0,12099]
    FIELD [1,12]
        String: "name" [1,7]
        STRING [8,12]
            String: "CI" [8,12]
    FIELD [13,163]
        String: "on" [13,17]
        OBJECT [18,163]
            FIELD [19,55]
                String: "pull_request" [19,33]
                OBJECT [34,55]
                    FIELD [35,54]
                        String: "branches" [35,45]
                        ARRAY [46,54]
                            STRING [47,53]
                                String: "main" [47,53]
            FIELD [56,84]
                String: "push" [56,62]
                OBJECT [63,84]
                    FIELD [64,83]
                        String: "branches" [64,74]
                        ARRAY [75,83]
                            STRING [76,82]
                                String: "main" [76,82]
            FIELD [85,118]
                String: "release" [85,94]
                OBJECT [95,118]
                    FIELD [96,117]
                        String: "types" [96,103]
                        ARRAY [104,117]
                            STRING [105,116]
                                String: "published" [105,116]
            FIELD [119,162]
                String: "schedule" [119,129]
                ARRAY [130,162]
                    OBJECT [131,161]
                        FIELD [132,160]
                            String: "cron" [132,138]
                            STRING [139,160]
                                String: "37 11 * * 1,2,3,4,5" [139,160]
    FIELD [164,12098]
        String: "jobs" [164,170]
        OBJECT [171,12098]
            FIELD [172,627]
                String: "changelog" [172,183]
                OBJECT [184,627]
                    FIELD [185,203]
                        String: "name" [185,191]
                        STRING [192,203]
                            String: "CHANGELOG" [192,203]
                    FIELD [204,229]
                        String: "runs-on" [204,213]
                        STRING [214,229]
                            String: "ubuntu-latest" [214,229]
                    FIELD [230,272]
                        String: "if" [230,234]
                        STRING [235,272]
                            String: "github.event_name == 'pull_request'" [235,272]
                    FIELD [273,626]
                        String: "steps" [273,280]
                        ARRAY [281,626]
                            OBJECT [282,312]
                                FIELD [283,311]
                                    String: "uses" [283,289]
                                    STRING [290,311]
                                        String: "actions/checkout@v1" [290,311]
                            OBJECT [313,625]
                                FIELD [314,360]
                                    String: "name" [314,320]
                                    STRING [321,360]
                                        String: "Check that CHANGELOG has been updated" [321,360]
                                FIELD [361,624]
                                    String: "run" [361,366]
                                    STRING [367,624]
                                        String: "# If this step fails, this means you haven't updated the CHANGELOG.md\n# file with notes on your contribution.\ngit diff --name-only $(git merge-base origin/main HEAD) | grep '^CHANGELOG.md$' && echo \"Thanks for helping keep our CHANGELOG up-to-date!\"\n" [367,624]
            FIELD [628,1194]
                String: "gpu_checks" [628,640]
                OBJECT [641,1194]
                    FIELD [642,661]
                        String: "name" [642,648]
                        STRING [649,661]
                            String: "GPU Checks" [649,661]
                    FIELD [662,708]
                        String: "if" [662,666]
                        STRING [667,708]
                            String: "github.repository == 'allenai/allennlp'" [667,708]
                    FIELD [709,729]
                        String: "timeout-minutes" [709,726]
                        NUMBER [727,729]
                            Number: 15 [727,729]
                    FIELD [730,761]
                        String: "runs-on" [730,739]
                        ARRAY [740,761]
                            STRING [741,754]
                                String: "self-hosted" [741,754]
                            STRING [755,760]
                                String: "GPU" [755,760]
                    FIELD [762,1193]
                        String: "steps" [762,769]
                        ARRAY [770,1193]
                            OBJECT [771,801]
                                FIELD [772,800]
                                    String: "uses" [772,778]
                                    STRING [779,800]
                                        String: "actions/checkout@v2" [779,800]
                            OBJECT [802,1013]
                                FIELD [803,826]
                                    String: "name" [803,809]
                                    STRING [810,826]
                                        String: "Set Docker tag" [810,826]
                                FIELD [827,1012]
                                    String: "run" [827,832]
                                    STRING [833,1012]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCKER_TAG=${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCKER_TAG=$GITHUB_SHA\" >> $GITHUB_ENV;\nfi\n" [833,1012]
                            OBJECT [1014,1097]
                                FIELD [1015,1040]
                                    String: "name" [1015,1021]
                                    STRING [1022,1040]
                                        String: "Build test image" [1022,1040]
                                FIELD [1041,1096]
                                    String: "run" [1041,1046]
                                    STRING [1047,1096]
                                        String: "make docker-test-image DOCKER_TAG=$DOCKER_TAG\n" [1047,1096]
                            OBJECT [1098,1192]
                                FIELD [1099,1121]
                                    String: "name" [1099,1105]
                                    STRING [1106,1121]
                                        String: "Run GPU tests" [1106,1121]
                                FIELD [1122,1191]
                                    String: "run" [1122,1127]
                                    STRING [1128,1191]
                                        String: "make docker-test-run DOCKER_TAG=$DOCKER_TAG ARGS='gpu-test'\n" [1128,1191]
            FIELD [1195,2459]
                String: "check_core" [1195,1207]
                OBJECT [1208,2459]
                    FIELD [1209,1228]
                        String: "name" [1209,1215]
                        STRING [1216,1228]
                            String: "Check Core" [1216,1228]
                    FIELD [1229,1254]
                        String: "runs-on" [1229,1238]
                        STRING [1239,1254]
                            String: "ubuntu-latest" [1239,1254]
                    FIELD [1255,1301]
                        String: "strategy" [1255,1265]
                        OBJECT [1266,1301]
                            FIELD [1267,1300]
                                String: "matrix" [1267,1275]
                                OBJECT [1276,1300]
                                    FIELD [1277,1299]
                                        String: "python" [1277,1285]
                                        ARRAY [1286,1299]
                                            STRING [1287,1292]
                                                String: "3.7" [1287,1292]
                                            STRING [1293,1298]
                                                String: "3.8" [1293,1298]
                    FIELD [1302,2458]
                        String: "steps" [1302,1309]
                        ARRAY [1310,2458]
                            OBJECT [1311,1341]
                                FIELD [1312,1340]
                                    String: "uses" [1312,1318]
                                    STRING [1319,1340]
                                        String: "actions/checkout@v2" [1319,1340]
                            OBJECT [1342,1447]
                                FIELD [1343,1364]
                                    String: "name" [1343,1349]
                                    STRING [1350,1364]
                                        String: "Setup Python" [1350,1364]
                                FIELD [1365,1397]
                                    String: "uses" [1365,1371]
                                    STRING [1372,1397]
                                        String: "actions/setup-python@v1" [1372,1397]
                                FIELD [1398,1446]
                                    String: "with" [1398,1404]
                                    OBJECT [1405,1446]
                                        FIELD [1406,1445]
                                            String: "python-version" [1406,1422]
                                            STRING [1423,1445]
                                                String: "${{ matrix.python }}" [1423,1445]
                            OBJECT [1448,1647]
                                FIELD [1449,1474]
                                    String: "uses" [1449,1455]
                                    STRING [1456,1474]
                                        String: "actions/cache@v2" [1456,1474]
                                FIELD [1475,1646]
                                    String: "with" [1475,1481]
                                    OBJECT [1482,1646]
                                        FIELD [1483,1517]
                                            String: "path" [1483,1489]
                                            STRING [1490,1517]
                                                String: "${{ env.pythonLocation }}" [1490,1517]
                                        FIELD [1518,1645]
                                            String: "key" [1518,1523]
                                            STRING [1524,1645]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [1524,1645]
                            OBJECT [1648,1702]
                                FIELD [1649,1678]
                                    String: "name" [1649,1655]
                                    STRING [1656,1678]
                                        String: "Install requirements" [1656,1678]
                                FIELD [1679,1701]
                                    String: "run" [1679,1684]
                                    STRING [1685,1701]
                                        String: "make install\n" [1685,1701]
                            OBJECT [1703,1745]
                                FIELD [1704,1723]
                                    String: "name" [1704,1710]
                                    STRING [1711,1723]
                                        String: "Debug info" [1711,1723]
                                FIELD [1724,1744]
                                    String: "run" [1724,1729]
                                    STRING [1730,1744]
                                        String: "pip freeze\n" [1730,1744]
                            OBJECT [1746,1801]
                                FIELD [1747,1762]
                                    String: "name" [1747,1753]
                                    STRING [1754,1762]
                                        String: "Format" [1754,1762]
                                FIELD [1763,1778]
                                    String: "if" [1763,1767]
                                    STRING [1768,1778]
                                        String: "always()" [1768,1778]
                                FIELD [1779,1800]
                                    String: "run" [1779,1784]
                                    STRING [1785,1800]
                                        String: "make format\n" [1785,1800]
                            OBJECT [1802,1853]
                                FIELD [1803,1816]
                                    String: "name" [1803,1809]
                                    STRING [1810,1816]
                                        String: "Lint" [1810,1816]
                                FIELD [1817,1832]
                                    String: "if" [1817,1821]
                                    STRING [1822,1832]
                                        String: "always()" [1822,1832]
                                FIELD [1833,1852]
                                    String: "run" [1833,1838]
                                    STRING [1839,1852]
                                        String: "make lint\n" [1839,1852]
                            OBJECT [1854,1916]
                                FIELD [1855,1874]
                                    String: "name" [1855,1861]
                                    STRING [1862,1874]
                                        String: "Type check" [1862,1874]
                                FIELD [1875,1890]
                                    String: "if" [1875,1879]
                                    STRING [1880,1890]
                                        String: "always()" [1880,1890]
                                FIELD [1891,1915]
                                    String: "run" [1891,1896]
                                    STRING [1897,1915]
                                        String: "make typecheck\n" [1897,1915]
                            OBJECT [1917,1982]
                                FIELD [1918,1936]
                                    String: "name" [1918,1924]
                                    STRING [1925,1936]
                                        String: "Run tests" [1925,1936]
                                FIELD [1937,1952]
                                    String: "if" [1937,1941]
                                    STRING [1942,1952]
                                        String: "always()" [1942,1952]
                                FIELD [1953,1981]
                                    String: "run" [1953,1958]
                                    STRING [1959,1981]
                                        String: "make test-with-cov\n" [1959,1981]
                            OBJECT [1983,2258]
                                FIELD [1984,2019]
                                    String: "name" [1984,1990]
                                    STRING [1991,2019]
                                        String: "Upload coverage to Codecov" [1991,2019]
                                FIELD [2020,2164]
                                    String: "if" [2020,2024]
                                    STRING [2025,2164]
                                        String: "matrix.python == '3.7' && github.repository == 'allenai/allennlp' && (github.event_name == 'push' || github.event_name == 'pull_request')" [2025,2164]
                                FIELD [2165,2199]
                                    String: "uses" [2165,2171]
                                    STRING [2172,2199]
                                        String: "codecov/codecov-action@v1" [2172,2199]
                                FIELD [2200,2257]
                                    String: "with" [2200,2206]
                                    OBJECT [2207,2257]
                                        FIELD [2208,2231]
                                            String: "file" [2208,2214]
                                            STRING [2215,2231]
                                                String: "./coverage.xml" [2215,2231]
                                        FIELD [2232,2256]
                                            String: "fail_ci_if_error" [2232,2250]
                                            FALSE [2251,2256]
                            OBJECT [2259,2457]
                                FIELD [2260,2277]
                                    String: "name" [2260,2266]
                                    STRING [2267,2277]
                                        String: "Clean up" [2267,2277]
                                FIELD [2278,2293]
                                    String: "if" [2278,2282]
                                    STRING [2283,2293]
                                        String: "always()" [2283,2293]
                                FIELD [2294,2456]
                                    String: "run" [2294,2299]
                                    STRING [2300,2456]
                                        String: "# Could run into issues with the cache if we don't uninstall the editable.\n# See https://github.com/pypa/pip/issues/4537.\npip uninstall --yes allennlp\n" [2300,2456]
            FIELD [2460,3422]
                String: "check_models" [2460,2474]
                OBJECT [2475,3422]
                    FIELD [2476,2497]
                        String: "name" [2476,2482]
                        STRING [2483,2497]
                            String: "Check Models" [2483,2497]
                    FIELD [2498,2523]
                        String: "runs-on" [2498,2507]
                        STRING [2508,2523]
                            String: "ubuntu-latest" [2508,2523]
                    FIELD [2524,2570]
                        String: "strategy" [2524,2534]
                        OBJECT [2535,2570]
                            FIELD [2536,2569]
                                String: "matrix" [2536,2544]
                                OBJECT [2545,2569]
                                    FIELD [2546,2568]
                                        String: "python" [2546,2554]
                                        ARRAY [2555,2568]
                                            STRING [2556,2561]
                                                String: "3.7" [2556,2561]
                                            STRING [2562,2567]
                                                String: "3.8" [2562,2567]
                    FIELD [2571,3421]
                        String: "steps" [2571,2578]
                        ARRAY [2579,3421]
                            OBJECT [2580,2610]
                                FIELD [2581,2609]
                                    String: "uses" [2581,2587]
                                    STRING [2588,2609]
                                        String: "actions/checkout@v2" [2588,2609]
                            OBJECT [2611,2716]
                                FIELD [2612,2633]
                                    String: "name" [2612,2618]
                                    STRING [2619,2633]
                                        String: "Setup Python" [2619,2633]
                                FIELD [2634,2666]
                                    String: "uses" [2634,2640]
                                    STRING [2641,2666]
                                        String: "actions/setup-python@v1" [2641,2666]
                                FIELD [2667,2715]
                                    String: "with" [2667,2673]
                                    OBJECT [2674,2715]
                                        FIELD [2675,2714]
                                            String: "python-version" [2675,2691]
                                            STRING [2692,2714]
                                                String: "${{ matrix.python }}" [2692,2714]
                            OBJECT [2717,2916]
                                FIELD [2718,2743]
                                    String: "uses" [2718,2724]
                                    STRING [2725,2743]
                                        String: "actions/cache@v2" [2725,2743]
                                FIELD [2744,2915]
                                    String: "with" [2744,2750]
                                    OBJECT [2751,2915]
                                        FIELD [2752,2786]
                                            String: "path" [2752,2758]
                                            STRING [2759,2786]
                                                String: "${{ env.pythonLocation }}" [2759,2786]
                                        FIELD [2787,2914]
                                            String: "key" [2787,2792]
                                            STRING [2793,2914]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [2793,2914]
                            OBJECT [2917,2971]
                                FIELD [2918,2947]
                                    String: "name" [2918,2924]
                                    STRING [2925,2947]
                                        String: "Install requirements" [2925,2947]
                                FIELD [2948,2970]
                                    String: "run" [2948,2953]
                                    STRING [2954,2970]
                                        String: "make install\n" [2954,2970]
                            OBJECT [2972,3014]
                                FIELD [2973,2992]
                                    String: "name" [2973,2979]
                                    STRING [2980,2992]
                                        String: "Debug info" [2980,2992]
                                FIELD [2993,3013]
                                    String: "run" [2993,2998]
                                    STRING [2999,3013]
                                        String: "pip freeze\n" [2999,3013]
                            OBJECT [3015,3259]
                                FIELD [3016,3053]
                                    String: "name" [3016,3022]
                                    STRING [3023,3053]
                                        String: "Pull and install models repo" [3023,3053]
                                FIELD [3054,3092]
                                    String: "env" [3054,3059]
                                    OBJECT [3060,3092]
                                        FIELD [3061,3091]
                                            String: "ALLENNLP_VERSION_OVERRIDE" [3061,3088]
                                            STRING [3089,3091]
                                                String: "" [3089,3091]
                                FIELD [3093,3258]
                                    String: "run" [3093,3098]
                                    STRING [3099,3258]
                                        String: "git clone https://github.com/allenai/allennlp-models.git\ncd allennlp-models && pip install --upgrade --upgrade-strategy eager -e . -r dev-requirements.txt\n" [3099,3258]
                            OBJECT [3260,3329]
                                FIELD [3261,3286]
                                    String: "name" [3261,3267]
                                    STRING [3268,3286]
                                        String: "Run models tests" [3268,3286]
                                FIELD [3287,3328]
                                    String: "run" [3287,3292]
                                    STRING [3293,3328]
                                        String: "cd allennlp-models && make test\n" [3293,3328]
                            OBJECT [3330,3420]
                                FIELD [3331,3348]
                                    String: "name" [3331,3337]
                                    STRING [3338,3348]
                                        String: "Clean up" [3338,3348]
                                FIELD [3349,3364]
                                    String: "if" [3349,3353]
                                    STRING [3354,3364]
                                        String: "always()" [3354,3364]
                                FIELD [3365,3419]
                                    String: "run" [3365,3370]
                                    STRING [3371,3419]
                                        String: "pip uninstall --yes allennlp allennlp-models\n" [3371,3419]
            FIELD [3423,5228]
                String: "build_package" [3423,3438]
                OBJECT [3439,5228]
                    FIELD [3440,3462]
                        String: "name" [3440,3446]
                        STRING [3447,3462]
                            String: "Build Package" [3447,3462]
                    FIELD [3463,3488]
                        String: "runs-on" [3463,3472]
                        STRING [3473,3488]
                            String: "ubuntu-latest" [3473,3488]
                    FIELD [3489,5227]
                        String: "steps" [3489,3496]
                        ARRAY [3497,5227]
                            OBJECT [3498,3528]
                                FIELD [3499,3527]
                                    String: "uses" [3499,3505]
                                    STRING [3506,3527]
                                        String: "actions/checkout@v2" [3506,3527]
                            OBJECT [3529,3615]
                                FIELD [3530,3551]
                                    String: "name" [3530,3536]
                                    STRING [3537,3551]
                                        String: "Setup Python" [3537,3551]
                                FIELD [3552,3584]
                                    String: "uses" [3552,3558]
                                    STRING [3559,3584]
                                        String: "actions/setup-python@v1" [3559,3584]
                                FIELD [3585,3614]
                                    String: "with" [3585,3591]
                                    OBJECT [3592,3614]
                                        FIELD [3593,3613]
                                            String: "python-version" [3593,3609]
                                            NUMBER [3610,3613]
                                                Number: 3.7 [3610,3613]
                            OBJECT [3616,3815]
                                FIELD [3617,3642]
                                    String: "uses" [3617,3623]
                                    STRING [3624,3642]
                                        String: "actions/cache@v2" [3624,3642]
                                FIELD [3643,3814]
                                    String: "with" [3643,3649]
                                    OBJECT [3650,3814]
                                        FIELD [3651,3685]
                                            String: "path" [3651,3657]
                                            STRING [3658,3685]
                                                String: "${{ env.pythonLocation }}" [3658,3685]
                                        FIELD [3686,3813]
                                            String: "key" [3686,3691]
                                            STRING [3692,3813]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [3692,3813]
                            OBJECT [3816,3870]
                                FIELD [3817,3846]
                                    String: "name" [3817,3823]
                                    STRING [3824,3846]
                                        String: "Install requirements" [3824,3846]
                                FIELD [3847,3869]
                                    String: "run" [3847,3852]
                                    STRING [3853,3869]
                                        String: "make install\n" [3853,3869]
                            OBJECT [3871,4508]
                                FIELD [3872,3910]
                                    String: "name" [3872,3878]
                                    STRING [3879,3910]
                                        String: "Check and set nightly version" [3879,3910]
                                FIELD [3911,3949]
                                    String: "if" [3911,3915]
                                    STRING [3916,3949]
                                        String: "github.event_name == 'schedule'" [3916,3949]
                                FIELD [3950,4507]
                                    String: "run" [3950,3955]
                                    STRING [3956,4507]
                                        String: "# Verify that current version is ahead of the last release.\nLATEST=$(scripts/get_version.py latest)\nCURRENT=$(scripts/get_version.py current)\nif [ \"$CURRENT\" == \"$LATEST\" ]; then\n    echo \"Current version needs to be ahead of latest release in order to build nightly release\";\n    exit 1;\nfi\n# This is somewhat bizarre, but you can't set env variables to bash\n# commands in the action workflow - so we have to use this odd way of\n# exporting a variable instead.\necho \"ALLENNLP_VERSION_SUFFIX=dev$(date -u +%Y%m%d)\" >> $GITHUB_ENV\n" [3956,4507]
                            OBJECT [4509,4863]
                                FIELD [4510,4554]
                                    String: "name" [4510,4516]
                                    STRING [4517,4554]
                                        String: "Check version and release tag match" [4517,4554]
                                FIELD [4555,4592]
                                    String: "if" [4555,4559]
                                    STRING [4560,4592]
                                        String: "github.event_name == 'release'" [4560,4592]
                                FIELD [4593,4862]
                                    String: "run" [4593,4598]
                                    STRING [4599,4862]
                                        String: "# Remove 'refs/tags/' to get the actual tag from the release.\nTAG=${GITHUB_REF#refs/tags/};\nVERSION=$(scripts/get_version.py current)\nif [ \"$TAG\" != \"$VERSION\" ]; then\n    echo \"Bad tag or version. Tag $TAG does not match $VERSION\";\n    exit 1;\nfi\n" [4599,4862]
                            OBJECT [4864,5041]
                                FIELD [4865,4892]
                                    String: "name" [4865,4871]
                                    STRING [4872,4892]
                                        String: "Build core package" [4872,4892]
                                FIELD [4893,5040]
                                    String: "run" [4893,4898]
                                    STRING [4899,5040]
                                        String: "echo \"Building packages for core release\"\n# Just print out the version for debugging.\nmake version\npython setup.py bdist_wheel sdist\n" [4899,5040]
                            OBJECT [5042,5151]
                                FIELD [5043,5069]
                                    String: "name" [5043,5049]
                                    STRING [5050,5069]
                                        String: "Save core package" [5050,5069]
                                FIELD [5070,5105]
                                    String: "uses" [5070,5076]
                                    STRING [5077,5105]
                                        String: "actions/upload-artifact@v1" [5077,5105]
                                FIELD [5106,5150]
                                    String: "with" [5106,5112]
                                    OBJECT [5113,5150]
                                        FIELD [5114,5135]
                                            String: "name" [5114,5120]
                                            STRING [5121,5135]
                                                String: "core-package" [5121,5135]
                                        FIELD [5136,5149]
                                            String: "path" [5136,5142]
                                            STRING [5143,5149]
                                                String: "dist" [5143,5149]
                            OBJECT [5152,5226]
                                FIELD [5153,5170]
                                    String: "name" [5153,5159]
                                    STRING [5160,5170]
                                        String: "Clean up" [5160,5170]
                                FIELD [5171,5186]
                                    String: "if" [5171,5175]
                                    STRING [5176,5186]
                                        String: "always()" [5176,5186]
                                FIELD [5187,5225]
                                    String: "run" [5187,5192]
                                    STRING [5193,5225]
                                        String: "pip uninstall --yes allennlp\n" [5193,5225]
            FIELD [5229,6153]
                String: "test_package" [5229,5243]
                OBJECT [5244,6153]
                    FIELD [5245,5266]
                        String: "name" [5245,5251]
                        STRING [5252,5266]
                            String: "Test Package" [5252,5266]
                    FIELD [5267,5292]
                        String: "needs" [5267,5274]
                        ARRAY [5275,5292]
                            STRING [5276,5291]
                                String: "build_package" [5276,5291]
                    FIELD [5293,5318]
                        String: "runs-on" [5293,5302]
                        STRING [5303,5318]
                            String: "ubuntu-latest" [5303,5318]
                    FIELD [5319,5365]
                        String: "strategy" [5319,5329]
                        OBJECT [5330,5365]
                            FIELD [5331,5364]
                                String: "matrix" [5331,5339]
                                OBJECT [5340,5364]
                                    FIELD [5341,5363]
                                        String: "python" [5341,5349]
                                        ARRAY [5350,5363]
                                            STRING [5351,5356]
                                                String: "3.7" [5351,5356]
                                            STRING [5357,5362]
                                                String: "3.8" [5357,5362]
                    FIELD [5366,6152]
                        String: "steps" [5366,5373]
                        ARRAY [5374,6152]
                            OBJECT [5375,5480]
                                FIELD [5376,5397]
                                    String: "name" [5376,5382]
                                    STRING [5383,5397]
                                        String: "Setup Python" [5383,5397]
                                FIELD [5398,5430]
                                    String: "uses" [5398,5404]
                                    STRING [5405,5430]
                                        String: "actions/setup-python@v1" [5405,5430]
                                FIELD [5431,5479]
                                    String: "with" [5431,5437]
                                    OBJECT [5438,5479]
                                        FIELD [5439,5478]
                                            String: "python-version" [5439,5455]
                                            STRING [5456,5478]
                                                String: "${{ matrix.python }}" [5456,5478]
                            OBJECT [5481,5565]
                                FIELD [5482,5511]
                                    String: "name" [5482,5488]
                                    STRING [5489,5511]
                                        String: "Install requirements" [5489,5511]
                                FIELD [5512,5564]
                                    String: "run" [5512,5517]
                                    STRING [5518,5564]
                                        String: "pip install --upgrade pip setuptools wheel\n" [5518,5564]
                            OBJECT [5566,5681]
                                FIELD [5567,5597]
                                    String: "name" [5567,5573]
                                    STRING [5574,5597]
                                        String: "Download core package" [5574,5597]
                                FIELD [5598,5635]
                                    String: "uses" [5598,5604]
                                    STRING [5605,5635]
                                        String: "actions/download-artifact@v1" [5605,5635]
                                FIELD [5636,5680]
                                    String: "with" [5636,5642]
                                    OBJECT [5643,5680]
                                        FIELD [5644,5665]
                                            String: "name" [5644,5650]
                                            STRING [5651,5665]
                                                String: "core-package" [5651,5665]
                                        FIELD [5666,5679]
                                            String: "path" [5666,5672]
                                            STRING [5673,5679]
                                                String: "dist" [5673,5679]
                            OBJECT [5682,6052]
                                FIELD [5683,5712]
                                    String: "name" [5683,5689]
                                    STRING [5690,5712]
                                        String: "Install core package" [5690,5712]
                                FIELD [5713,6051]
                                    String: "run" [5713,5718]
                                    STRING [5719,6051]
                                        String: "pip install $(ls dist/*.whl)\n# TODO(epwalsh): In PyTorch 1.7, dataclasses is an unconditional dependency, when it should\n# only be a conditional dependency for Python < 3.7.\n# This has been fixed on PyTorch main branch, so we should be able to\n# remove this check with the next PyTorch release.\npip uninstall -y dataclasses\n" [5719,6051]
                            OBJECT [6053,6095]
                                FIELD [6054,6073]
                                    String: "name" [6054,6060]
                                    STRING [6061,6073]
                                        String: "Pip freeze" [6061,6073]
                                FIELD [6074,6094]
                                    String: "run" [6074,6079]
                                    STRING [6080,6094]
                                        String: "pip freeze\n" [6080,6094]
                            OBJECT [6096,6151]
                                FIELD [6097,6118]
                                    String: "name" [6097,6103]
                                    STRING [6104,6118]
                                        String: "Test install" [6104,6118]
                                FIELD [6119,6150]
                                    String: "run" [6119,6124]
                                    STRING [6125,6150]
                                        String: "allennlp test-install\n" [6125,6150]
            FIELD [6154,8330]
                String: "docker" [6154,6162]
                OBJECT [6163,8330]
                    FIELD [6164,6205]
                        String: "name" [6164,6170]
                        STRING [6171,6205]
                            String: "Docker (CUDA ${{ matrix.cuda }})" [6171,6205]
                    FIELD [6206,6252]
                        String: "if" [6206,6210]
                        STRING [6211,6252]
                            String: "github.repository == 'allenai/allennlp'" [6211,6252]
                    FIELD [6253,6284]
                        String: "runs-on" [6253,6262]
                        ARRAY [6263,6284]
                            STRING [6264,6277]
                                String: "self-hosted" [6264,6277]
                            STRING [6278,6283]
                                String: "GPU" [6278,6283]
                    FIELD [6285,6338]
                        String: "strategy" [6285,6295]
                        OBJECT [6296,6338]
                            FIELD [6297,6337]
                                String: "matrix" [6297,6305]
                                OBJECT [6306,6337]
                                    FIELD [6307,6336]
                                        String: "cuda" [6307,6313]
                                        ARRAY [6314,6336]
                                            STRING [6315,6321]
                                                String: "10.1" [6315,6321]
                                            STRING [6322,6328]
                                                String: "10.2" [6322,6328]
                                            STRING [6329,6335]
                                                String: "11.0" [6329,6335]
                    FIELD [6339,8329]
                        String: "steps" [6339,6346]
                        ARRAY [6347,8329]
                            OBJECT [6348,6378]
                                FIELD [6349,6377]
                                    String: "uses" [6349,6355]
                                    STRING [6356,6377]
                                        String: "actions/checkout@v2" [6356,6377]
                            OBJECT [6379,7021]
                                FIELD [6380,6406]
                                    String: "name" [6380,6386]
                                    STRING [6387,6406]
                                        String: "Set torch version" [6387,6406]
                                FIELD [6407,6442]
                                    String: "env" [6407,6412]
                                    OBJECT [6413,6442]
                                        FIELD [6414,6441]
                                            String: "CUDA" [6414,6420]
                                            STRING [6421,6441]
                                                String: "${{ matrix.cuda }}" [6421,6441]
                                FIELD [6443,7020]
                                    String: "run" [6443,6448]
                                    STRING [6449,7020]
                                        String: "# Check the install instructions on https://pytorch.org/ to keep these up-to-date.\nif [[ $CUDA == '10.1' ]]; then\n    echo \"DOCKER_TORCH_VERSION='torch==1.7.1+cu101 -f https://download.pytorch.org/whl/torch_stable.html'\" >> $GITHUB_ENV;\nelif [[ $CUDA == '10.2' ]]; then\n    echo \"DOCKER_TORCH_VERSION='torch==1.7.1'\" >> $GITHUB_ENV;\nelif [[ $CUDA == '11.0' ]]; then\n    echo \"DOCKER_TORCH_VERSION='torch==1.7.1+cu110 -f https://download.pytorch.org/whl/torch_stable.html'\" >> $GITHUB_ENV;\nelse\n    echo \"Unhandled CUDA version $CUDA\";\n    exit 1;\nfi\n" [6449,7020]
                            OBJECT [7022,7343]
                                FIELD [7023,7046]
                                    String: "name" [7023,7029]
                                    STRING [7030,7046]
                                        String: "Set image name" [7030,7046]
                                FIELD [7047,7082]
                                    String: "env" [7047,7052]
                                    OBJECT [7053,7082]
                                        FIELD [7054,7081]
                                            String: "CUDA" [7054,7060]
                                            STRING [7061,7081]
                                                String: "${{ matrix.cuda }}" [7061,7081]
                                FIELD [7083,7342]
                                    String: "run" [7083,7088]
                                    STRING [7089,7342]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCKER_IMAGE_NAME=allennlp/allennlp:${GITHUB_REF#refs/tags/}-cuda${CUDA}\" >> $GITHUB_ENV;\nelse\n    echo \"DOCKER_IMAGE_NAME=allennlp/commit:${GITHUB_SHA}-cuda${CUDA}\" >> $GITHUB_ENV;\nfi\n" [7089,7342]
                            OBJECT [7344,7482]
                                FIELD [7345,7365]
                                    String: "name" [7345,7351]
                                    STRING [7352,7365]
                                        String: "Build image" [7352,7365]
                                FIELD [7366,7481]
                                    String: "run" [7366,7371]
                                    STRING [7372,7481]
                                        String: "make docker-image DOCKER_IMAGE_NAME=\"$DOCKER_IMAGE_NAME\" DOCKER_TORCH_VERSION=\"$DOCKER_TORCH_VERSION\"\n" [7372,7481]
                            OBJECT [7483,7587]
                                FIELD [7484,7503]
                                    String: "name" [7484,7490]
                                    STRING [7491,7503]
                                        String: "Test image" [7491,7503]
                                FIELD [7504,7586]
                                    String: "run" [7504,7509]
                                    STRING [7510,7586]
                                        String: "make docker-run DOCKER_IMAGE_NAME=$DOCKER_IMAGE_NAME ARGS='test-install'\n" [7510,7586]
                            OBJECT [7588,7785]
                                FIELD [7589,7624]
                                    String: "name" [7589,7595]
                                    STRING [7596,7624]
                                        String: "Authenticate to Docker Hub" [7596,7624]
                                FIELD [7625,7693]
                                    String: "if" [7625,7629]
                                    STRING [7630,7693]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [7630,7693]
                                FIELD [7694,7784]
                                    String: "run" [7694,7699]
                                    STRING [7700,7784]
                                        String: "docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}\n" [7700,7784]
                            OBJECT [7786,7919]
                                FIELD [7787,7808]
                                    String: "name" [7787,7793]
                                    STRING [7794,7808]
                                        String: "Upload image" [7794,7808]
                                FIELD [7809,7877]
                                    String: "if" [7809,7813]
                                    STRING [7814,7877]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [7814,7877]
                                FIELD [7878,7918]
                                    String: "run" [7878,7883]
                                    STRING [7884,7918]
                                        String: "docker push $DOCKER_IMAGE_NAME\n" [7884,7918]
                            OBJECT [7920,8131]
                                FIELD [7921,7957]
                                    String: "name" [7921,7927]
                                    STRING [7928,7957]
                                        String: "Upload default commit image" [7928,7957]
                                FIELD [7958,8017]
                                    String: "if" [7958,7962]
                                    STRING [7963,8017]
                                        String: "github.event_name == 'push' && matrix.cuda == '10.2'" [7963,8017]
                                FIELD [8018,8130]
                                    String: "run" [8018,8023]
                                    STRING [8024,8130]
                                        String: "docker tag $DOCKER_IMAGE_NAME allennlp/commit:${GITHUB_SHA}\ndocker push allennlp/commit:${GITHUB_SHA}\n" [8024,8130]
                            OBJECT [8132,8328]
                                FIELD [8133,8161]
                                    String: "name" [8133,8139]
                                    STRING [8140,8161]
                                        String: "Upload latest image" [8140,8161]
                                FIELD [8162,8224]
                                    String: "if" [8162,8166]
                                    STRING [8167,8224]
                                        String: "github.event_name == 'release' && matrix.cuda == '10.2'" [8167,8224]
                                FIELD [8225,8327]
                                    String: "run" [8225,8230]
                                    STRING [8231,8327]
                                        String: "docker tag $DOCKER_IMAGE_NAME allennlp/allennlp:latest\ndocker push allennlp/allennlp:latest\n" [8231,8327]
            FIELD [8331,11395]
                String: "docs" [8331,8337]
                OBJECT [8338,11395]
                    FIELD [8339,8352]
                        String: "name" [8339,8345]
                        STRING [8346,8352]
                            String: "Docs" [8346,8352]
                    FIELD [8353,8399]
                        String: "if" [8353,8357]
                        STRING [8358,8399]
                            String: "github.repository == 'allenai/allennlp'" [8358,8399]
                    FIELD [8400,8425]
                        String: "runs-on" [8400,8409]
                        STRING [8410,8425]
                            String: "ubuntu-latest" [8410,8425]
                    FIELD [8426,11394]
                        String: "steps" [8426,8433]
                        ARRAY [8434,11394]
                            OBJECT [8435,8465]
                                FIELD [8436,8464]
                                    String: "uses" [8436,8442]
                                    STRING [8443,8464]
                                        String: "actions/checkout@v1" [8443,8464]
                            OBJECT [8466,8662]
                                FIELD [8467,8495]
                                    String: "name" [8467,8473]
                                    STRING [8474,8495]
                                        String: "Setup SSH Client " [8474,8495]
                                FIELD [8496,8564]
                                    String: "if" [8496,8500]
                                    STRING [8501,8564]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [8501,8564]
                                FIELD [8565,8601]
                                    String: "uses" [8565,8571]
                                    STRING [8572,8601]
                                        String: "webfactory/ssh-agent@v0.4.1" [8572,8601]
                                FIELD [8602,8661]
                                    String: "with" [8602,8608]
                                    OBJECT [8609,8661]
                                        FIELD [8610,8660]
                                            String: "ssh-private-key" [8610,8627]
                                            STRING [8628,8660]
                                                String: "${{ secrets.DOCS_DEPLOY_KEY }}" [8628,8660]
                            OBJECT [8663,8749]
                                FIELD [8664,8685]
                                    String: "name" [8664,8670]
                                    STRING [8671,8685]
                                        String: "Setup Python" [8671,8685]
                                FIELD [8686,8718]
                                    String: "uses" [8686,8692]
                                    STRING [8693,8718]
                                        String: "actions/setup-python@v1" [8693,8718]
                                FIELD [8719,8748]
                                    String: "with" [8719,8725]
                                    OBJECT [8726,8748]
                                        FIELD [8727,8747]
                                            String: "python-version" [8727,8743]
                                            NUMBER [8744,8747]
                                                Number: 3.7 [8744,8747]
                            OBJECT [8750,8949]
                                FIELD [8751,8776]
                                    String: "uses" [8751,8757]
                                    STRING [8758,8776]
                                        String: "actions/cache@v2" [8758,8776]
                                FIELD [8777,8948]
                                    String: "with" [8777,8783]
                                    OBJECT [8784,8948]
                                        FIELD [8785,8819]
                                            String: "path" [8785,8791]
                                            STRING [8792,8819]
                                                String: "${{ env.pythonLocation }}" [8792,8819]
                                        FIELD [8820,8947]
                                            String: "key" [8820,8825]
                                            STRING [8826,8947]
                                                String: "${{ runner.os }}-pydeps-${{ env.pythonLocation }}-${{ hashFiles('setup.py') }}-${{ hashFiles('dev-requirements.txt') }}" [8826,8947]
                            OBJECT [8950,9004]
                                FIELD [8951,8980]
                                    String: "name" [8951,8957]
                                    STRING [8958,8980]
                                        String: "Install requirements" [8958,8980]
                                FIELD [8981,9003]
                                    String: "run" [8981,8986]
                                    STRING [8987,9003]
                                        String: "make install\n" [8987,9003]
                            OBJECT [9005,9047]
                                FIELD [9006,9025]
                                    String: "name" [9006,9012]
                                    STRING [9013,9025]
                                        String: "Debug info" [9013,9025]
                                FIELD [9026,9046]
                                    String: "run" [9026,9031]
                                    STRING [9032,9046]
                                        String: "pip freeze\n" [9032,9046]
                            OBJECT [9048,9485]
                                FIELD [9049,9077]
                                    String: "name" [9049,9055]
                                    STRING [9056,9077]
                                        String: "Prepare environment" [9056,9077]
                                FIELD [9078,9484]
                                    String: "run" [9078,9083]
                                    STRING [9084,9484]
                                        String: "if [[ $GITHUB_EVENT_NAME == 'release' ]]; then\n    echo \"DOCS_FOLDER=${GITHUB_REF#refs/tags/}\" >> $GITHUB_ENV;\n    echo \"BASE_SOURCE_LINK=https://github.com/allenai/allennlp/blob/${GITHUB_REF#refs/tags/}/allennlp/\" >> $GITHUB_ENV;\nelse\n    echo \"DOCS_FOLDER=main\" >> $GITHUB_ENV;\n    echo \"BASE_SOURCE_LINK=https://github.com/allenai/allennlp/blob/main/allennlp/\" >> $GITHUB_ENV;\nfi\n" [9084,9484]
                            OBJECT [9486,9541]
                                FIELD [9487,9506]
                                    String: "name" [9487,9493]
                                    STRING [9494,9506]
                                        String: "Build docs" [9494,9506]
                                FIELD [9507,9540]
                                    String: "run" [9507,9512]
                                    STRING [9513,9540]
                                        String: "./scripts/build_docs.sh\n" [9513,9540]
                            OBJECT [9542,9790]
                                FIELD [9543,9565]
                                    String: "name" [9543,9549]
                                    STRING [9550,9565]
                                        String: "Configure Git" [9550,9565]
                                FIELD [9566,9634]
                                    String: "if" [9566,9570]
                                    STRING [9571,9634]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [9571,9634]
                                FIELD [9635,9789]
                                    String: "run" [9635,9640]
                                    STRING [9641,9789]
                                        String: "git config --global user.email \"ai2service@allenai.org\"\ngit config --global user.name \"ai2service\"\ngit config --global push.default simple\n" [9641,9789]
                            OBJECT [9791,10221]
                                FIELD [9792,9811]
                                    String: "name" [9792,9798]
                                    STRING [9799,9811]
                                        String: "Stage docs" [9799,9811]
                                FIELD [9812,9880]
                                    String: "if" [9812,9816]
                                    STRING [9817,9880]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [9817,9880]
                                FIELD [9881,10220]
                                    String: "run" [9881,9886]
                                    STRING [9887,10220]
                                        String: "echo \"Staging docs to $DOCS_FOLDER\"\n\n# Checkout allennlp-docs to /allennlp-docs\ngit clone git@github.com:allenai/allennlp-docs.git ~/allennlp-docs\n\n# Copy the generated docs to the checked out docs repo\nrm -rf ~/allennlp-docs/$DOCS_FOLDER/\nmkdir -p ~/allennlp-docs/$DOCS_FOLDER\ncp -r site/* ~/allennlp-docs/$DOCS_FOLDER\n" [9887,10220]
                            OBJECT [10222,11096]
                                FIELD [10223,10248]
                                    String: "name" [10223,10229]
                                    STRING [10230,10248]
                                        String: "Update shortcuts" [10230,10248]
                                FIELD [10249,10286]
                                    String: "if" [10249,10253]
                                    STRING [10254,10286]
                                        String: "github.event_name == 'release'" [10254,10286]
                                FIELD [10287,11095]
                                    String: "run" [10287,10292]
                                    STRING [10293,11095]
                                        String: "# Fail immediately if any step fails.\nset -e\n\nLATEST=$(./scripts/get_version.py latest)\nSTABLE=$(./scripts/get_version.py stable)\n\ncd ~/allennlp-docs/\n\necho \"Updating latest/index.html to point to $LATEST\"\nmkdir -p latest\ncat >latest/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${LATEST}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${LATEST}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n\necho \"Updating stable/index.html to point to $STABLE\"\nmkdir -p stable\ncat >stable/index.html << EOL\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Refresh\" content=\"0; url=/${STABLE}/\" />\n  </head>\n  <body>\n    <p>Please follow <a href=\"/${STABLE}/\">this link</a>.</p>\n  </body>\n</html>\nEOL\n" [10293,11095]
                            OBJECT [11097,11318]
                                FIELD [11098,11118]
                                    String: "name" [11098,11104]
                                    STRING [11105,11118]
                                        String: "Deploy docs" [11105,11118]
                                FIELD [11119,11187]
                                    String: "if" [11119,11123]
                                    STRING [11124,11187]
                                        String: "github.event_name == 'release' || github.event_name == 'push'" [11124,11187]
                                FIELD [11188,11317]
                                    String: "run" [11188,11193]
                                    STRING [11194,11317]
                                        String: "# And push them up to GitHub\ncd ~/allennlp-docs/\ngit add -A\ngit commit -m \"automated update of the docs\"\ngit push\n" [11194,11317]
                            OBJECT [11319,11393]
                                FIELD [11320,11337]
                                    String: "name" [11320,11326]
                                    STRING [11327,11337]
                                        String: "Clean up" [11327,11337]
                                FIELD [11338,11353]
                                    String: "if" [11338,11342]
                                    STRING [11343,11353]
                                        String: "always()" [11343,11353]
                                FIELD [11354,11392]
                                    String: "run" [11354,11359]
                                    STRING [11360,11392]
                                        String: "pip uninstall --yes allennlp\n" [11360,11392]
            FIELD [11396,12097]
                String: "publish" [11396,11405]
                OBJECT [11406,12097]
                    FIELD [11407,11420]
                        String: "name" [11407,11413]
                        STRING [11414,11420]
                            String: "PyPI" [11414,11420]
                    FIELD [11421,11518]
                        String: "needs" [11421,11428]
                        ARRAY [11429,11518]
                            STRING [11430,11442]
                                String: "check_core" [11430,11442]
                            STRING [11443,11457]
                                String: "check_models" [11443,11457]
                            STRING [11458,11470]
                                String: "gpu_checks" [11458,11470]
                            STRING [11471,11486]
                                String: "build_package" [11471,11486]
                            STRING [11487,11501]
                                String: "test_package" [11487,11501]
                            STRING [11502,11510]
                                String: "docker" [11502,11510]
                            STRING [11511,11517]
                                String: "docs" [11511,11517]
                    FIELD [11519,11631]
                        String: "if" [11519,11523]
                        STRING [11524,11631]
                            String: "github.repository == 'allenai/allennlp' && (github.event_name == 'release' || github.event == 'schedule')" [11524,11631]
                    FIELD [11632,11657]
                        String: "runs-on" [11632,11641]
                        STRING [11642,11657]
                            String: "ubuntu-latest" [11642,11657]
                    FIELD [11658,12096]
                        String: "steps" [11658,11665]
                        ARRAY [11666,12096]
                            OBJECT [11667,11697]
                                FIELD [11668,11696]
                                    String: "uses" [11668,11674]
                                    STRING [11675,11696]
                                        String: "actions/checkout@v2" [11675,11696]
                            OBJECT [11698,11784]
                                FIELD [11699,11720]
                                    String: "name" [11699,11705]
                                    STRING [11706,11720]
                                        String: "Setup Python" [11706,11720]
                                FIELD [11721,11753]
                                    String: "uses" [11721,11727]
                                    STRING [11728,11753]
                                        String: "actions/setup-python@v1" [11728,11753]
                                FIELD [11754,11783]
                                    String: "with" [11754,11760]
                                    OBJECT [11761,11783]
                                        FIELD [11762,11782]
                                            String: "python-version" [11762,11778]
                                            NUMBER [11779,11782]
                                                Number: 3.7 [11779,11782]
                            OBJECT [11785,11875]
                                FIELD [11786,11815]
                                    String: "name" [11786,11792]
                                    STRING [11793,11815]
                                        String: "Install requirements" [11793,11815]
                                FIELD [11816,11874]
                                    String: "run" [11816,11821]
                                    STRING [11822,11874]
                                        String: "pip install --upgrade pip setuptools wheel twine\n" [11822,11874]
                            OBJECT [11876,11991]
                                FIELD [11877,11907]
                                    String: "name" [11877,11883]
                                    STRING [11884,11907]
                                        String: "Download core package" [11884,11907]
                                FIELD [11908,11945]
                                    String: "uses" [11908,11914]
                                    STRING [11915,11945]
                                        String: "actions/download-artifact@v1" [11915,11945]
                                FIELD [11946,11990]
                                    String: "with" [11946,11952]
                                    OBJECT [11953,11990]
                                        FIELD [11954,11975]
                                            String: "name" [11954,11960]
                                            STRING [11961,11975]
                                                String: "core-package" [11961,11975]
                                        FIELD [11976,11989]
                                            String: "path" [11976,11982]
                                            STRING [11983,11989]
                                                String: "dist" [11983,11989]
                            OBJECT [11992,12095]
                                FIELD [11993,12022]
                                    String: "name" [11993,11999]
                                    STRING [12000,12022]
                                        String: "Publish core package" [12000,12022]
                                FIELD [12023,12094]
                                    String: "run" [12023,12028]
                                    STRING [12029,12094]
                                        String: "twine upload -u allennlp -p ${{ secrets.PYPI_PASSWORD }} dist/*" [12029,12094]