OBJECT [0,5638]
    FIELD [1,24]
        String: "name" [1,7]
        STRING [8,24]
            String: "OctoBot-Docker" [8,24]
    FIELD [25,101]
        String: "on" [25,29]
        OBJECT [30,101]
            FIELD [31,80]
                String: "push" [31,37]
                OBJECT [38,80]
                    FIELD [39,66]
                        String: "branches" [39,49]
                        ARRAY [50,66]
                            STRING [51,59]
                                String: "master" [51,59]
                            STRING [60,65]
                                String: "dev" [60,65]
                    FIELD [67,79]
                        String: "tags" [67,73]
                        ARRAY [74,79]
                            STRING [75,78]
                                String: "*" [75,78]
            FIELD [81,100]
                String: "pull_request" [81,95]
                NULL [96,100]
    FIELD [102,5637]
        String: "jobs" [102,108]
        OBJECT [109,5637]
            FIELD [110,374]
                String: "lint" [110,116]
                OBJECT [117,374]
                    FIELD [118,156]
                        String: "name" [118,124]
                        STRING [125,156]
                            String: "ubuntu-latest - Docker - lint" [125,156]
                    FIELD [157,182]
                        String: "runs-on" [157,166]
                        STRING [167,182]
                            String: "ubuntu-latest" [167,182]
                    FIELD [183,373]
                        String: "steps" [183,190]
                        ARRAY [191,373]
                            OBJECT [192,222]
                                FIELD [193,221]
                                    String: "uses" [193,199]
                                    STRING [200,221]
                                        String: "actions/checkout@v2" [200,221]
                            OBJECT [223,372]
                                FIELD [224,245]
                                    String: "name" [224,230]
                                    STRING [231,245]
                                        String: "Run hadolint" [231,245]
                                FIELD [246,283]
                                    String: "uses" [246,252]
                                    STRING [253,283]
                                        String: "reviewdog/action-hadolint@v1" [253,283]
                                FIELD [284,371]
                                    String: "with" [284,290]
                                    OBJECT [291,371]
                                        FIELD [292,336]
                                            String: "github_token" [292,306]
                                            STRING [307,336]
                                                String: "${{ secrets.github_token }}" [307,336]
                                        FIELD [337,370]
                                            String: "hadolint_ignore" [337,354]
                                            STRING [355,370]
                                                String: "DL3013 DL3008" [355,370]
            FIELD [375,5367]
                String: "build_test_push" [375,392]
                OBJECT [393,5367]
                    FIELD [394,408]
                        String: "needs" [394,401]
                        STRING [402,408]
                            String: "lint" [402,408]
                    FIELD [409,462]
                        String: "name" [409,415]
                        STRING [416,462]
                            String: "ubuntu-latest - Docker - build & test & push" [416,462]
                    FIELD [463,488]
                        String: "runs-on" [463,472]
                        STRING [473,488]
                            String: "ubuntu-latest" [473,488]
                    FIELD [489,5366]
                        String: "steps" [489,496]
                        ARRAY [497,5366]
                            OBJECT [498,528]
                                FIELD [499,527]
                                    String: "uses" [499,505]
                                    STRING [506,527]
                                        String: "actions/checkout@v2" [506,527]
                            OBJECT [529,1047]
                                FIELD [530,564]
                                    String: "name" [530,536]
                                    STRING [537,564]
                                        String: "Set Environment Variables" [537,564]
                                FIELD [565,1046]
                                    String: "run" [565,570]
                                    STRING [571,1046]
                                        String: "OWNER=\"$(echo \"${{ github.repository_owner }}\" | tr '[:upper:]' '[:lower:]' | tr -d '-')\"\nIMG=octobot\necho \"VERSION=${GITHUB_REF##*/}\" >> $GITHUB_ENV\necho \"IMAGE=${OWNER}/${IMG}\" >> $GITHUB_ENV\necho \"LATEST=latest\" >> $GITHUB_ENV\necho \"STABLE=stable\" >> $GITHUB_ENV\necho \"TEST=test\" >> $GITHUB_ENV\necho \"CONTAINER_NAME=octobot\" >> $GITHUB_ENV\necho \"CHECK_TENTACLE_CONTAINER_TIME=10\" >> $GITHUB_ENV\necho \"WAIT_CONTAINER_TIME=80\" >> $GITHUB_ENV\n" [571,1046]
                            OBJECT [1048,1408]
                                FIELD [1049,1076]
                                    String: "name" [1049,1055]
                                    STRING [1056,1076]
                                        String: "Wait for tentacles" [1056,1076]
                                FIELD [1077,1150]
                                    String: "if" [1077,1081]
                                    STRING [1082,1150]
                                        String: "github.event_name == 'push' && startsWith(github.ref, 'refs/tags')" [1082,1150]
                                FIELD [1151,1201]
                                    String: "uses" [1151,1157]
                                    STRING [1158,1201]
                                        String: "fountainhead/action-wait-for-check@v1.0.0" [1158,1201]
                                FIELD [1202,1227]
                                    String: "id" [1202,1206]
                                    STRING [1207,1227]
                                        String: "wait-for-tentacles" [1207,1227]
                                FIELD [1228,1407]
                                    String: "with" [1228,1234]
                                    OBJECT [1235,1407]
                                        FIELD [1236,1271]
                                            String: "token" [1236,1243]
                                            STRING [1244,1271]
                                                String: "${{ secrets.AUTH_TOKEN }}" [1244,1271]
                                        FIELD [1272,1331]
                                            String: "checkName" [1272,1283]
                                            STRING [1284,1331]
                                                String: "ubuntu-latest - Python 3.8 - upload tentacles" [1284,1331]
                                        FIELD [1332,1357]
                                            String: "ref" [1332,1337]
                                            STRING [1338,1357]
                                                String: "${{ github.ref }}" [1338,1357]
                                        FIELD [1358,1384]
                                            String: "repo" [1358,1364]
                                            STRING [1365,1384]
                                                String: "OctoBot-Tentacles" [1365,1384]
                                        FIELD [1385,1406]
                                            String: "timeoutSeconds" [1385,1401]
                                            NUMBER [1402,1406]
                                                Number: 3600 [1402,1406]
                            OBJECT [1409,1603]
                                FIELD [1410,1453]
                                    String: "name" [1410,1416]
                                    STRING [1417,1453]
                                        String: "Trigger fail when Tentacles failed" [1417,1453]
                                FIELD [1454,1587]
                                    String: "if" [1454,1458]
                                    STRING [1459,1587]
                                        String: "github.event_name == 'push' && startsWith(github.ref, 'refs/tags') && steps.wait-for-tentacles.outputs.conclusion == 'failure'" [1459,1587]
                                FIELD [1588,1602]
                                    String: "run" [1588,1593]
                                    STRING [1594,1602]
                                        String: "exit 1" [1594,1602]
                            OBJECT [1604,1663]
                                FIELD [1605,1625]
                                    String: "name" [1605,1611]
                                    STRING [1612,1625]
                                        String: "Set up QEMU" [1612,1625]
                                FIELD [1626,1662]
                                    String: "uses" [1626,1632]
                                    STRING [1633,1662]
                                        String: "docker/setup-qemu-action@v1" [1633,1662]
                            OBJECT [1664,1734]
                                FIELD [1665,1694]
                                    String: "name" [1665,1671]
                                    STRING [1672,1694]
                                        String: "Set up Docker Buildx" [1672,1694]
                                FIELD [1695,1733]
                                    String: "uses" [1695,1701]
                                    STRING [1702,1733]
                                        String: "docker/setup-buildx-action@v1" [1702,1733]
                            OBJECT [1735,1922]
                                FIELD [1736,1764]
                                    String: "name" [1736,1742]
                                    STRING [1743,1764]
                                        String: "Cache Docker layers" [1743,1764]
                                FIELD [1765,1790]
                                    String: "uses" [1765,1771]
                                    STRING [1772,1790]
                                        String: "actions/cache@v2" [1772,1790]
                                FIELD [1791,1921]
                                    String: "with" [1791,1797]
                                    OBJECT [1798,1921]
                                        FIELD [1799,1826]
                                            String: "path" [1799,1805]
                                            STRING [1806,1826]
                                                String: "/tmp/.buildx-cache" [1806,1826]
                                        FIELD [1827,1876]
                                            String: "key" [1827,1832]
                                            STRING [1833,1876]
                                                String: "${{ runner.os }}-buildx-${{ github.sha }}" [1833,1876]
                                        FIELD [1877,1920]
                                            String: "restore-keys" [1877,1891]
                                            STRING [1892,1920]
                                                String: "${{ runner.os }}-buildx-\n" [1892,1920]
                            OBJECT [1923,2119]
                                FIELD [1924,1951]
                                    String: "name" [1924,1930]
                                    STRING [1931,1951]
                                        String: "Login to DockerHub" [1931,1951]
                                FIELD [1952,1986]
                                    String: "if" [1952,1956]
                                    STRING [1957,1986]
                                        String: "github.event_name == 'push'" [1957,1986]
                                FIELD [1987,2018]
                                    String: "uses" [1987,1993]
                                    STRING [1994,2018]
                                        String: "docker/login-action@v1" [1994,2018]
                                FIELD [2019,2118]
                                    String: "with" [2019,2025]
                                    OBJECT [2026,2118]
                                        FIELD [2027,2073]
                                            String: "username" [2027,2037]
                                            STRING [2038,2073]
                                                String: "${{ secrets.DOCKERHUB_USERNAME }}" [2038,2073]
                                        FIELD [2074,2117]
                                            String: "password" [2074,2084]
                                            STRING [2085,2117]
                                                String: "${{ secrets.DOCKERHUB_TOKEN }}" [2085,2117]
                            OBJECT [2120,2380]
                                FIELD [2121,2154]
                                    String: "name" [2121,2127]
                                    STRING [2128,2154]
                                        String: "Wait for main build done" [2128,2154]
                                FIELD [2155,2189]
                                    String: "if" [2155,2159]
                                    STRING [2160,2189]
                                        String: "github.event_name == 'push'" [2160,2189]
                                FIELD [2190,2240]
                                    String: "uses" [2190,2196]
                                    STRING [2197,2240]
                                        String: "fountainhead/action-wait-for-check@v1.0.0" [2197,2240]
                                FIELD [2241,2267]
                                    String: "id" [2241,2245]
                                    STRING [2246,2267]
                                        String: "wait-for-main-build" [2246,2267]
                                FIELD [2268,2379]
                                    String: "with" [2268,2274]
                                    OBJECT [2275,2379]
                                        FIELD [2276,2311]
                                            String: "token" [2276,2283]
                                            STRING [2284,2311]
                                                String: "${{ secrets.AUTH_TOKEN }}" [2284,2311]
                                        FIELD [2312,2330]
                                            String: "checkName" [2312,2323]
                                            STRING [2324,2330]
                                                String: "Done" [2324,2330]
                                        FIELD [2331,2356]
                                            String: "ref" [2331,2336]
                                            STRING [2337,2356]
                                                String: "${{ github.sha }}" [2337,2356]
                                        FIELD [2357,2378]
                                            String: "timeoutSeconds" [2357,2373]
                                            NUMBER [2374,2378]
                                                Number: 3600 [2374,2378]
                            OBJECT [2381,2532]
                                FIELD [2382,2420]
                                    String: "name" [2382,2388]
                                    STRING [2389,2420]
                                        String: "Trigger fail when Main failed" [2389,2420]
                                FIELD [2421,2516]
                                    String: "if" [2421,2425]
                                    STRING [2426,2516]
                                        String: "github.event_name == 'push' && steps.wait-for-main-build.outputs.conclusion == 'failure'" [2426,2516]
                                FIELD [2517,2531]
                                    String: "run" [2517,2522]
                                    STRING [2523,2531]
                                        String: "exit 1" [2523,2531]
                            OBJECT [2533,2950]
                                FIELD [2534,2564]
                                    String: "name" [2534,2540]
                                    STRING [2541,2564]
                                        String: "Build and push latest" [2541,2564]
                                FIELD [2565,2599]
                                    String: "if" [2565,2569]
                                    STRING [2570,2599]
                                        String: "github.event_name != 'push'" [2570,2599]
                                FIELD [2600,2636]
                                    String: "uses" [2600,2606]
                                    STRING [2607,2636]
                                        String: "docker/build-push-action@v2" [2607,2636]
                                FIELD [2637,2949]
                                    String: "with" [2637,2643]
                                    OBJECT [2644,2949]
                                        FIELD [2645,2658]
                                            String: "context" [2645,2654]
                                            STRING [2655,2658]
                                                String: "." [2655,2658]
                                        FIELD [2659,2703]
                                            String: "builder" [2659,2668]
                                            STRING [2669,2703]
                                                String: "${{ steps.buildx.outputs.name }}" [2669,2703]
                                        FIELD [2704,2729]
                                            String: "platforms" [2704,2715]
                                            STRING [2716,2729]
                                                String: "linux/amd64" [2716,2729]
                                        FIELD [2730,2741]
                                            String: "load" [2730,2736]
                                            TRUE [2737,2741]
                                        FIELD [2742,2754]
                                            String: "push" [2742,2748]
                                            FALSE [2749,2754]
                                        FIELD [2755,2798]
                                            String: "tags" [2755,2761]
                                            STRING [2762,2798]
                                                String: "${{ env.IMAGE }}:${{ env.LATEST }}" [2762,2798]
                                        FIELD [2799,2851]
                                            String: "build-args" [2799,2811]
                                            STRING [2812,2851]
                                                String: "TENTACLES_URL_TAG=${{ env.LATEST }}\n" [2812,2851]
                                        FIELD [2852,2900]
                                            String: "cache-from" [2852,2864]
                                            STRING [2865,2900]
                                                String: "type=local,src=/tmp/.buildx-cache" [2865,2900]
                                        FIELD [2901,2948]
                                            String: "cache-to" [2901,2911]
                                            STRING [2912,2948]
                                                String: "type=local,dest=/tmp/.buildx-cache" [2912,2948]
                            OBJECT [2951,3168]
                                FIELD [2952,2988]
                                    String: "name" [2952,2958]
                                    STRING [2959,2988]
                                        String: "Docker build test container" [2959,2988]
                                FIELD [2989,3023]
                                    String: "if" [2989,2993]
                                    STRING [2994,3023]
                                        String: "github.event_name != 'push'" [2994,3023]
                                FIELD [3024,3167]
                                    String: "run" [3024,3029]
                                    STRING [3030,3167]
                                        String: "docker build -f ./tests/Dockerfile --build-arg OCTOBOT_IMAGE=${{ env.IMAGE }}:${{ env.LATEST }} -t ${{ env.IMAGE }}:${{ env.TEST }} .\n" [3030,3167]
                            OBJECT [3169,3374]
                                FIELD [3170,3198]
                                    String: "name" [3170,3176]
                                    STRING [3177,3198]
                                        String: "run tests in docker" [3177,3198]
                                FIELD [3199,3233]
                                    String: "if" [3199,3203]
                                    STRING [3204,3233]
                                        String: "github.event_name != 'push'" [3204,3233]
                                FIELD [3234,3373]
                                    String: "run" [3234,3239]
                                    STRING [3240,3373]
                                        String: "docker run -i -e TENTACLES_REPOSITORY=dev-tentacles -e TENTACLES_URL_TAG=${GITHUB_HEAD_REF////_} ${{ env.IMAGE }}:${{ env.TEST }}\n" [3240,3373]
                            OBJECT [3375,4287]
                                FIELD [3376,3417]
                                    String: "name" [3376,3382]
                                    STRING [3383,3417]
                                        String: "run and check health after start" [3383,3417]
                                FIELD [3418,3452]
                                    String: "if" [3418,3422]
                                    STRING [3423,3452]
                                        String: "github.event_name != 'push'" [3423,3452]
                                FIELD [3453,4286]
                                    String: "run" [3453,3458]
                                    STRING [3459,4286]
                                        String: "echo Start OctoBot docker with branche_name tentacles package\ndocker run -id -e TENTACLES_PACKAGES_SOURCE=dev -e TENTACLES_URL_TAG=${GITHUB_HEAD_REF////_} --name ${{ env.CONTAINER_NAME }} ${{ env.IMAGE }}:${{ env.LATEST }}\nsleep ${{ env.CHECK_TENTACLE_CONTAINER_TIME }}\nif docker logs ${{ env.CONTAINER_NAME }} | grep \"octobot_tentacles_manager.api.util.tentacles_management Can't find tentacle archive at:\" ; then\n    docker rm -f ${{ env.CONTAINER_NAME }}\n    echo Restarting docker with latest tentacle package...\n    docker run -id -e TENTACLES_URL_TAG=${{ env.LATEST }} --name ${{ env.CONTAINER_NAME }} ${{ env.IMAGE }}:${{ env.LATEST }}\nfi\nsleep ${{ env.WAIT_CONTAINER_TIME }}\ndocker logs ${{ env.CONTAINER_NAME }}\ndocker inspect ${{ env.CONTAINER_NAME }} | jq '.[].State.Health.Status' | grep \"healthy\"\n" [3459,4286]
                            OBJECT [4288,4778]
                                FIELD [4289,4319]
                                    String: "name" [4289,4295]
                                    STRING [4296,4319]
                                        String: "Build and push latest" [4296,4319]
                                FIELD [4320,4428]
                                    String: "if" [4320,4324]
                                    STRING [4325,4428]
                                        String: "github.event_name == 'push' && !startsWith(github.ref, 'refs/tags') && github.ref == 'refs/heads/dev'" [4325,4428]
                                FIELD [4429,4465]
                                    String: "uses" [4429,4435]
                                    STRING [4436,4465]
                                        String: "docker/build-push-action@v2" [4436,4465]
                                FIELD [4466,4777]
                                    String: "with" [4466,4472]
                                    OBJECT [4473,4777]
                                        FIELD [4474,4487]
                                            String: "context" [4474,4483]
                                            STRING [4484,4487]
                                                String: "." [4484,4487]
                                        FIELD [4488,4532]
                                            String: "builder" [4488,4497]
                                            STRING [4498,4532]
                                                String: "${{ steps.buildx.outputs.name }}" [4498,4532]
                                        FIELD [4533,4570]
                                            String: "platforms" [4533,4544]
                                            STRING [4545,4570]
                                                String: "linux/amd64,linux/arm64" [4545,4570]
                                        FIELD [4571,4582]
                                            String: "push" [4571,4577]
                                            TRUE [4578,4582]
                                        FIELD [4583,4626]
                                            String: "tags" [4583,4589]
                                            STRING [4590,4626]
                                                String: "${{ env.IMAGE }}:${{ env.LATEST }}" [4590,4626]
                                        FIELD [4627,4679]
                                            String: "build-args" [4627,4639]
                                            STRING [4640,4679]
                                                String: "TENTACLES_URL_TAG=${{ env.LATEST }}\n" [4640,4679]
                                        FIELD [4680,4728]
                                            String: "cache-from" [4680,4692]
                                            STRING [4693,4728]
                                                String: "type=local,src=/tmp/.buildx-cache" [4693,4728]
                                        FIELD [4729,4776]
                                            String: "cache-to" [4729,4739]
                                            STRING [4740,4776]
                                                String: "type=local,dest=/tmp/.buildx-cache" [4740,4776]
                            OBJECT [4779,5278]
                                FIELD [4780,4810]
                                    String: "name" [4780,4786]
                                    STRING [4787,4810]
                                        String: "Build and push on tag" [4787,4810]
                                FIELD [4811,4884]
                                    String: "if" [4811,4815]
                                    STRING [4816,4884]
                                        String: "github.event_name == 'push' && startsWith(github.ref, 'refs/tags')" [4816,4884]
                                FIELD [4885,4921]
                                    String: "uses" [4885,4891]
                                    STRING [4892,4921]
                                        String: "docker/build-push-action@v2" [4892,4921]
                                FIELD [4922,5277]
                                    String: "with" [4922,4928]
                                    OBJECT [4929,5277]
                                        FIELD [4930,4943]
                                            String: "context" [4930,4939]
                                            STRING [4940,4943]
                                                String: "." [4940,4943]
                                        FIELD [4944,4965]
                                            String: "file" [4944,4950]
                                            STRING [4951,4965]
                                                String: "./Dockerfile" [4951,4965]
                                        FIELD [4966,5010]
                                            String: "builder" [4966,4975]
                                            STRING [4976,5010]
                                                String: "${{ steps.buildx.outputs.name }}" [4976,5010]
                                        FIELD [5011,5048]
                                            String: "platforms" [5011,5022]
                                            STRING [5023,5048]
                                                String: "linux/amd64,linux/arm64" [5023,5048]
                                        FIELD [5049,5060]
                                            String: "push" [5049,5055]
                                            TRUE [5056,5060]
                                        FIELD [5061,5179]
                                            String: "tags" [5061,5067]
                                            STRING [5068,5179]
                                                String: "${{ env.IMAGE }}:${{ env.LATEST }}\n${{ env.IMAGE }}:${{ env.STABLE }}\n${{ env.IMAGE }}:${{ env.VERSION }}\n" [5068,5179]
                                        FIELD [5180,5228]
                                            String: "cache-from" [5180,5192]
                                            STRING [5193,5228]
                                                String: "type=local,src=/tmp/.buildx-cache" [5193,5228]
                                        FIELD [5229,5276]
                                            String: "cache-to" [5229,5239]
                                            STRING [5240,5276]
                                                String: "type=local,dest=/tmp/.buildx-cache" [5240,5276]
                            OBJECT [5279,5365]
                                FIELD [5280,5301]
                                    String: "name" [5280,5286]
                                    STRING [5287,5301]
                                        String: "Image digest" [5287,5301]
                                FIELD [5302,5364]
                                    String: "run" [5302,5307]
                                    STRING [5308,5364]
                                        String: "echo ${{ steps.docker_build_and_psuh.outputs.digest }}" [5308,5364]
            FIELD [5368,5636]
                String: "notify" [5368,5376]
                OBJECT [5377,5636]
                    FIELD [5378,5393]
                        String: "name" [5378,5384]
                        STRING [5385,5393]
                            String: "Notify" [5385,5393]
                    FIELD [5394,5419]
                        String: "runs-on" [5394,5403]
                        STRING [5404,5419]
                            String: "ubuntu-latest" [5404,5419]
                    FIELD [5420,5454]
                        String: "needs" [5420,5427]
                        ARRAY [5428,5454]
                            STRING [5429,5435]
                                String: "lint" [5429,5435]
                            STRING [5436,5453]
                                String: "build_test_push" [5436,5453]
                    FIELD [5455,5478]
                        String: "if" [5455,5459]
                        STRING [5460,5478]
                            String: "${{ failure() }}" [5460,5478]
                    FIELD [5479,5635]
                        String: "steps" [5479,5486]
                        ARRAY [5487,5635]
                            OBJECT [5488,5634]
                                FIELD [5489,5512]
                                    String: "name" [5489,5495]
                                    STRING [5496,5512]
                                        String: "Notify discord" [5496,5512]
                                FIELD [5513,5555]
                                    String: "uses" [5513,5519]
                                    STRING [5520,5555]
                                        String: "sarisia/actions-status-discord@v1" [5520,5555]
                                FIELD [5556,5633]
                                    String: "with" [5556,5562]
                                    OBJECT [5563,5633]
                                        FIELD [5564,5582]
                                            String: "status" [5564,5572]
                                            STRING [5573,5582]
                                                String: "Failure" [5573,5582]
                                        FIELD [5583,5632]
                                            String: "webhook" [5583,5592]
                                            STRING [5593,5632]
                                                String: "${{ secrets.DISCORD_GITHUB_WEBHOOK }}" [5593,5632]